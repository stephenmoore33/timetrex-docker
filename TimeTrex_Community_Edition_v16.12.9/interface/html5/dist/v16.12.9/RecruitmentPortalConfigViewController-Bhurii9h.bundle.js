import{_,j as l}from"./vendor-tTApdY0Y.bundle.js";class r extends BaseViewController{constructor(a={}){_.defaults(a,{company_api:null,job_applicant_fields_array:null,job_applicant_background_fields_array:null,job_applicant_availability_fields_array:null,job_applicant_employment_history_fields_array:null,job_applicant_reference_fields_array:null,job_applicant_location_fields_array:null,job_applicant_skill_fields_array:null,job_applicant_education_fields_array:null,job_applicant_membership_fields_array:null,job_applicant_license_fields_array:null,job_applicant_language_fields_array:null,job_applicant_add_qualification_array:null}),super(a)}init(a){this.permission_id="job_applicant",this.viewId="RecruitmentPortalConfig",this.script_name="RecruitmentPortalConfigView",this.table_name_key="recruitment_portal_config",this.context_menu_name=l.i18n._("Portal Setting"),this.api=TTAPI.APIRecruitmentPortalConfig,this.company_api=TTAPI.APICompany,this.render(),this.buildContextMenu(),this.initData()}render(){super.render()}getCustomContextMenuModel(){var a={exclude:["default"],include:["save","cancel","export_excel"]};return a}initOptions(a){var t=[{option_name:"job_applicant_fields",field_name:"job_applicant_fields",api:this.api},{option_name:"job_applicant_background_fields",field_name:"job_applicant_background_fields",api:this.api},{option_name:"job_applicant_availability_fields",field_name:"job_applicant_availability_fields",api:this.api},{option_name:"job_applicant_employment_history_fields",field_name:"job_applicant_employment_history_fields",api:this.api},{option_name:"job_applicant_reference_fields",field_name:"job_applicant_reference_fields",api:this.api},{option_name:"job_applicant_location_fields",field_name:"job_applicant_location_fields",api:this.api},{option_name:"job_applicant_skill_fields",field_name:"job_applicant_skill_fields",api:this.api},{option_name:"job_applicant_education_fields",field_name:"job_applicant_education_fields",api:this.api},{option_name:"job_applicant_membership_fields",field_name:"job_applicant_membership_fields",api:this.api},{option_name:"job_applicant_license_fields",field_name:"job_applicant_license_fields",api:this.api},{option_name:"job_applicant_language_fields",field_name:"job_applicant_language_fields",api:this.api},{option_name:"job_applicant_add_qualification",field_name:"enable_add_qualification",api:this.api}];this.initDropDownOptions(t,function(o){a&&a(o)})}getCustomContextMenuModel(){var a={exclude:["default"],include:["save","cancel"]};return a}getRecruitmentPortalConfigData(a){var t=this;t.api["get"+t.api.key_name]({onResult:function(o){var i=o.getResult();Global.isSet(i[0])?a(i[0]):t.api["get"+t.api.key_name+"DefaultData"]({onResult:function(e){var s=e.getResult();a(s)}})}})}openEditView(){var a=this;a.edit_only_mode&&a.initOptions(function(t){a.edit_view||a.initEditViewUI("RecruitmentPortalConfig","RecruitmentPortalConfigEditView.html"),a.getRecruitmentPortalConfigData(function(o){a.current_edit_record=o,a.initEditView()})})}onFormItemChange(a,t){this.setIsChanged(a),this.setMassEditingFieldsWhenFormChange(a);var o=a.getField(),i=a.getValue();this.current_edit_record[o]=i,t||this.validate()}onSaveClick(a){var t=this,o=this.current_edit_record;Global.isSet(a)||(a=!1),LocalCacheData.current_doing_context_action="save",this.api["set"+this.api.key_name](o,!1,a,{onResult:function(i){if(i&&i.isValid()){var e=i.getResult();e===!0?t.refresh_id=t.current_edit_record.id:TTUUID.isUUID(e)&&e!=TTUUID.zero_id&&e!=TTUUID.not_exist_id&&(t.refresh_id=e),t.removeEditView()}else t.setErrorTips(i),t.setErrorMenu()}})}setErrorMenu(){for(var a=ContextMenuManager.getMenuModelByMenuId(this.determineContextMenuMountAttributes().id),t=a.length,o=0;o<t;o++){let i=a[o],e=a[o].id;switch(ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,i.id,!0),e){case"cancel":break;default:ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,i.id,!1);break}}}buildEditViewUI(){var a=this;super.buildEditViewUI();var t={tab_portal_setting:{label:l.i18n._("Portal Setting")}};this.setTabModel(t);var o=this.edit_view_tab.find("#tab_portal_setting"),i=o.find(".first-column");this.edit_view_tabs[0]=[],this.edit_view_tabs[0].push(i),e=Global.loadWidgetByName(FormItemType.AWESOME_BOX),e.AComboBox({allow_multiple_selection:!0,layout_name:"global_option_column",show_search_inputs:!1,set_empty:!0,key:"value",field:"enable_add_qualification"}),e.setSourceData(a.job_applicant_add_qualification_array),this.addEditFieldToColumn(l.i18n._("Allow New Records For"),e,i),e=Global.loadWidgetByName(FormItemType.CHECKBOX),e.TCheckbox({field:"enable_resume_parsing"}),this.addEditFieldToColumn(l.i18n._("Automatic Resume Parsing"),e,i),Global.getFeatureFlag("recruitment_analysis")&&(e=Global.loadWidgetByName(FormItemType.CHECKBOX),e.TCheckbox({field:"enable_analyzer"}),this.addEditFieldToColumn(l.i18n._("Automatic Analyzer"),e,i)),e=Global.loadWidgetByName(FormItemType.SEPARATED_BOX),e.SeparatedBox({label:l.i18n._("Configure Available Fields")}),this.addEditFieldToColumn(null,e,i,"",null,!0,!1,"separated_1");var e=Global.loadWidgetByName(FormItemType.AWESOME_BOX);e.AComboBox({allow_multiple_selection:!0,layout_name:"global_option_column",show_search_inputs:!1,set_empty:!0,key:"value",field:"applicant"}),e.setSourceData(a.job_applicant_fields_array),this.addEditFieldToColumn(l.i18n._("Applicant"),e,i),e=Global.loadWidgetByName(FormItemType.AWESOME_BOX),e.AComboBox({allow_multiple_selection:!0,layout_name:"global_option_column",show_search_inputs:!1,set_empty:!0,key:"value",field:"background"}),e.setSourceData(a.job_applicant_background_fields_array),this.addEditFieldToColumn(l.i18n._("Background"),e,i),e=Global.loadWidgetByName(FormItemType.AWESOME_BOX),e.AComboBox({allow_multiple_selection:!0,layout_name:"global_option_column",show_search_inputs:!1,set_empty:!0,key:"value",field:"availability"}),e.setSourceData(a.job_applicant_availability_fields_array),this.addEditFieldToColumn(l.i18n._("Availability"),e,i),e=Global.loadWidgetByName(FormItemType.AWESOME_BOX),e.AComboBox({allow_multiple_selection:!0,layout_name:"global_option_column",show_search_inputs:!1,set_empty:!0,key:"value",field:"employment_history"}),e.setSourceData(a.job_applicant_employment_history_fields_array),this.addEditFieldToColumn(l.i18n._("Employment History"),e,i),e=Global.loadWidgetByName(FormItemType.AWESOME_BOX),e.AComboBox({allow_multiple_selection:!0,layout_name:"global_option_column",show_search_inputs:!1,set_empty:!0,key:"value",field:"reference"}),e.setSourceData(a.job_applicant_reference_fields_array),this.addEditFieldToColumn(l.i18n._("References"),e,i),e=Global.loadWidgetByName(FormItemType.AWESOME_BOX),e.AComboBox({allow_multiple_selection:!0,layout_name:"global_option_column",show_search_inputs:!1,set_empty:!0,key:"value",field:"location"}),e.setSourceData(a.job_applicant_location_fields_array),this.addEditFieldToColumn(l.i18n._("Location"),e,i),e=Global.loadWidgetByName(FormItemType.AWESOME_BOX),e.AComboBox({allow_multiple_selection:!0,layout_name:"global_option_column",show_search_inputs:!1,set_empty:!0,key:"value",field:"skill"}),e.setSourceData(a.job_applicant_skill_fields_array),this.addEditFieldToColumn(l.i18n._("Skills"),e,i),e=Global.loadWidgetByName(FormItemType.AWESOME_BOX),e.AComboBox({allow_multiple_selection:!0,layout_name:"global_option_column",show_search_inputs:!1,set_empty:!0,key:"value",field:"education"}),e.setSourceData(a.job_applicant_education_fields_array),this.addEditFieldToColumn(l.i18n._("Education"),e,i),e=Global.loadWidgetByName(FormItemType.AWESOME_BOX),e.AComboBox({allow_multiple_selection:!0,layout_name:"global_option_column",show_search_inputs:!1,set_empty:!0,key:"value",field:"membership"}),e.setSourceData(a.job_applicant_membership_fields_array),this.addEditFieldToColumn(l.i18n._("Memberships"),e,i),e=Global.loadWidgetByName(FormItemType.AWESOME_BOX),e.AComboBox({allow_multiple_selection:!0,layout_name:"global_option_column",show_search_inputs:!1,set_empty:!0,key:"value",field:"license"}),e.setSourceData(a.job_applicant_license_fields_array),this.addEditFieldToColumn(l.i18n._("Licenses"),e,i),e=Global.loadWidgetByName(FormItemType.AWESOME_BOX),e.AComboBox({allow_multiple_selection:!0,layout_name:"global_option_column",show_search_inputs:!1,set_empty:!0,key:"value",field:"language"}),e.setSourceData(a.job_applicant_language_fields_array),this.addEditFieldToColumn(l.i18n._("Languages"),e,i)}}r.loadView=function(){Global.loadViewSource("RecruitmentPortalConfig","RecruitmentPortalConfigView.html",function(n){var a={},t=_.template(n,a);Global.contentContainer().html(t)})};export{r as RecruitmentPortalConfigViewController};
//# sourceMappingURL=RecruitmentPortalConfigViewController-Bhurii9h.bundle.js.map
