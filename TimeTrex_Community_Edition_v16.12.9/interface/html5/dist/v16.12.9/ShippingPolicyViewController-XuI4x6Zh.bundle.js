import{_ as u,j as i}from"./vendor-tTApdY0Y.bundle.js";class h extends BaseViewController{constructor(l={}){u.defaults(l,{el:"#shipping_policy_view_container",type_array:null,weight_unit_array:null}),super(l)}init(l){this.edit_view_tpl="ShippingPolicyEditView.html",this.permission_id="shipping_policy",this.viewId="ShippingPolicy",this.script_name="ShippingPolicyView",this.table_name_key="shipping_policy",this.context_menu_name=i.i18n._("Shipping"),this.navigation_label=i.i18n._("Shipping"),this.api=TTAPI.APIShippingPolicy,this.render(),this.buildContextMenu(),this.initData()}initOptions(l){var _=[{option_name:"type",field_name:null,api:null},{option_name:"weight_unit",field_name:null,api:null}];this.initDropDownOptions(_,function(r){l&&l(r)})}buildEditViewUI(){super.buildEditViewUI();var l=this,_={tab_shipping:{label:i.i18n._("Shipping")},tab_carrier_rate_server:{label:i.i18n._("Carrier Rate Server")},tab_area_criteria:{label:i.i18n._("Area Criteria")},tab_audit:!0};this.setTabModel(_),this.navigation.AComboBox({api_class:TTAPI.APIShippingPolicy,id:this.script_name+"_navigation",allow_multiple_selection:!1,layout_name:"global_shipping_policy",navigation_mode:!0,show_search_inputs:!0}),this.setNavigation();var r=this.edit_view_tab.find("#tab_shipping"),t=r.find(".first-column");this.edit_view_tabs[0]=[],this.edit_view_tabs[0].push(t);var e,a,d;e=Global.loadWidgetByName(FormItemType.COMBO_BOX),e.TComboBox({field:"type_id",set_empty:!1}),e.setSourceData(l.type_array),this.addEditFieldToColumn(i.i18n._("Type"),e,t,""),e=Global.loadWidgetByName(FormItemType.AWESOME_BOX),e.AComboBox({api_class:TTAPI.APICurrency,allow_multiple_selection:!1,layout_name:"global_currency",show_search_inputs:!0,set_empty:!0,field:"currency_id"}),this.addEditFieldToColumn(i.i18n._("Currency"),e,t,""),e=Global.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"name",width:"100%"}),this.addEditFieldToColumn(i.i18n._("Name"),e,t),e.parent().width("45%"),e=Global.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"base_price",width:100}),this.addEditFieldToColumn(i.i18n._("Base Price"),e,t),e=Global.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"price",width:100}),this.addEditFieldToColumn(i.i18n._("Price"),e,t),e=Global.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"minimum_price",width:100}),a=i("<div class='widget-h-box'></div>"),d=i("<span class='widget-right-label'>("+i.i18n._("Not including handling fee")+")</span>"),a.append(e),a.append(d),this.addEditFieldToColumn(i.i18n._("Minimum Price"),e,t,"",a,!0),e=Global.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"maximum_price",width:100}),a=i("<div class='widget-h-box'></div>"),d=i("<span class='widget-right-label'>("+i.i18n._("Not including handling fee")+")</span>"),a.append(e),a.append(d),this.addEditFieldToColumn(i.i18n._("Maximum Price"),e,t,"",a,!0),e=Global.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"handling_fee",width:100}),this.addEditFieldToColumn(i.i18n._("Handling Fee"),e,t),e=Global.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"display_order",width:50}),this.addEditFieldToColumn(i.i18n._("Display Order"),e,t),e=Global.loadWidgetByName(FormItemType.COMBO_BOX),e.TComboBox({field:"weight_unit_id"}),e.setSourceData(l.weight_unit_array),this.addEditFieldToColumn(i.i18n._("Weight Unit"),e,t,"");var s={filter_data:{}};s.filter_data.type_id=60,e=Global.loadWidgetByName(FormItemType.AWESOME_BOX),e.AComboBox({api_class:TTAPI.APIProduct,layout_name:"global_product",show_search_inputs:!0,set_empty:!0,field:"product_id"}),e.setDefaultArgs(s),this.addEditFieldToColumn(i.i18n._("Product"),e,t,"");var p=this.edit_view_tab.find("#tab_carrier_rate_server"),o=p.find(".first-column");this.edit_view_tabs[1]=[],this.edit_view_tabs[1].push(o),e=Global.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"user_name"}),this.addEditFieldToColumn(i.i18n._("User Name"),e,o,""),e=Global.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"password"}),this.addEditFieldToColumn(i.i18n._("Password"),e,o,""),e=Global.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"primary_account"}),this.addEditFieldToColumn(i.i18n._("Primary Account"),e,o,""),e=Global.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"secondary_account"}),this.addEditFieldToColumn(i.i18n._("Secondary Account"),e,o,""),e=Global.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"markup_percent",width:50}),a=i("<div class='widget-h-box'></div>"),d=i("<span class='widget-right-label'>%</span>"),a.append(e),a.append(d),this.addEditFieldToColumn(i.i18n._("Markup Percent"),e,o,"",a,!0);var m=this.edit_view_tab.find("#tab_area_criteria"),n=m.find(".first-column");this.edit_view_tabs[2]=[],this.edit_view_tabs[2].push(n),e=Global.loadWidgetByName(FormItemType.AWESOME_BOX),e.AComboBox({api_class:TTAPI.APIAreaPolicy,allow_multiple_selection:!0,layout_name:"global_area_policy",show_search_inputs:!0,set_empty:!0,field:"include_area_policy"}),this.addEditFieldToColumn(i.i18n._("Include Area Policy"),e,n,""),e=Global.loadWidgetByName(FormItemType.AWESOME_BOX),e.AComboBox({api_class:TTAPI.APIAreaPolicy,allow_multiple_selection:!0,layout_name:"global_area_policy",show_search_inputs:!0,set_empty:!0,field:"exclude_area_policy"}),this.addEditFieldToColumn(i.i18n._("Exclude Area Policy"),e,n,"")}buildSearchFields(){super.buildSearchFields(),this.search_fields=[new SearchField({label:i.i18n._("Name"),in_column:1,field:"name",multiple:!0,basic_search:!0,form_item_type:FormItemType.TEXT_INPUT}),new SearchField({label:i.i18n._("Type"),in_column:1,field:"type_id",multiple:!0,basic_search:!0,layout_name:"global_option_column",form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:i.i18n._("Created By"),in_column:2,field:"created_by",layout_name:"global_user",api_class:TTAPI.APIUser,multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:i.i18n._("Updated By"),in_column:2,field:"updated_by",layout_name:"global_user",api_class:TTAPI.APIUser,multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.AWESOME_BOX})]}}export{h as ShippingPolicyViewController};
//# sourceMappingURL=ShippingPolicyViewController-XuI4x6Zh.bundle.js.map
