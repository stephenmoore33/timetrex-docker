import{j as f}from"./vendor-tTApdY0Y.bundle.js";(function(e){e.fn.TImage=function(r){Global.addCss("global/widgets/filebrowser/TImageBrowser.css");var n=e.extend({},e.fn.TImage.defaults,r),s;return this.clearErrorStyle=function(){},this.getField=function(){return s},this.getValue=function(){return null},this.setValue=function(i){if(!i){this.attr("src","");return}var a=new Date;this.attr("src",i+"&t="+a.getTime())},this.each(function(){var i=e.meta?e.extend({},n,e(this).data()):n;s=i.field}),this},e.fn.TImage.defaults={},e(document).on("mouseover",".file-browser img",function(r){var n=e(r.target).parents(".file-browser");if(!e(".file_browser_overlay")[0]&&e(r.target).attr("enable-delete")==1){var s=e(r.target).height(),i=(s-32)/2,a=i,t=e('<div class="file_browser_overlay"><img src="theme/default/images/delete-512.png" style="position:absolute;width:32px;height:32px;top:'+i+"px;left:"+a+'px;"></div>');t.css("position","absolute"),t.css("top","0px"),t.css("left","0"),t.css("cursor","pointer"),t.css("height",s+"px"),t.css("width","100%"),t.css("background","rgba(255,255,255,0.85)"),e(r.target).parents(".file-browser").append(t),e(document).on("click",".file_browser_overlay",function(o){e(o.target).parent().find("img").attr("src"),TAlertManager.showConfirmAlert(e.i18n._("This will permanently delete the image. Are you sure?"),"",function(l){if(l){var c={type:"deleteClick",message:"Delete image clicked.",time:new Date};n.trigger(c)}})}),e(document).on("mouseleave",".file-browser",function(){if(e(document).off("click",".file_browser_overlay"),e(".file_browser_overlay")[0]){var o=e(this).find(".file_browser_overlay");o.off().remove()}})}})})(f);
//# sourceMappingURL=TImage-D3G3HRb1.bundle.js.map
