{"version":3,"file":"ExceptionViewController-vnyt84FC.bundle.js","sources":["../../views/attendance/exceptions/ExceptionViewController.js"],"sourcesContent":["export class ExceptionViewController extends BaseViewController {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {\n\t\t\tel: '#exception_view_container',\n\t\t\tstatus_array: null,\n\n\n\t\t} );\n\n\t\tsuper( options );\n\t}\n\n\tinit( options ) {\n\t\t//this._super('initialize', options );\n\t\tthis.edit_view_tpl = 'ExceptionEditView.html';\n\t\tthis.permission_id = 'punch';\n\t\tthis.viewId = 'Exception';\n\t\tthis.script_name = 'ExceptionView';\n\t\tthis.context_menu_name = $.i18n._( 'Exceptions' );\n\t\tthis.navigation_label = $.i18n._( 'Exception' );\n\t\tthis.api = TTAPI.APIException;\n\n\t\tthis.initPermission();\n\t\tthis.render();\n\t\tthis.buildContextMenu();\n\n\t\tthis.initData();\n\t}\n\n\tonCustomContextClick( id ) {\n\t\tswitch ( id ) {\n\t\t\tcase 'edit_employee':\n\t\t\tcase 'edit_pay_period':\n\t\t\tcase 'edit_pay_period_schedule':\n\t\t\tcase 'schedule':\n\t\t\tcase 'timesheet':\n\t\t\tcase 'send_message':\n\t\t\t\tthis.onNavigationClick( id );\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tsetCustomDefaultMenuIcon( id, context_btn, grid_selected_length ) {\n\t\tswitch ( id ) {\n\t\t\tcase 'timesheet':\n\t\t\t\tthis.setDefaultMenuViewIcon( context_btn, grid_selected_length, 'punch' );\n\t\t\t\tbreak;\n\t\t\tcase 'schedule':\n\t\t\t\tthis.setDefaultMenuViewIcon( context_btn, grid_selected_length, 'schedule' );\n\t\t\t\tbreak;\n\t\t\tcase 'edit_employee':\n\t\t\t\tthis.setDefaultMenuEditEmployeeIcon( context_btn, grid_selected_length );\n\t\t\t\tbreak;\n\t\t\tcase 'edit_pay_period_schedule':\n\t\t\t\tthis.setDefaultMenuEditIcon( context_btn, grid_selected_length, 'pay_period_schedule' );\n\t\t\t\tbreak;\n\t\t\tcase 'edit_pay_period':\n\t\t\t\tthis.setDefaultMenuEditIcon( context_btn, grid_selected_length, 'pay_period_schedule' );\n\t\t\t\tbreak;\n\t\t\tcase 'send_message':\n\t\t\t\tthis.setDefaultMenuSendMessageIcon( context_btn, grid_selected_length );\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tinitPermission() {\n\n\t\tsuper.initPermission();\n\n\t\tif ( PermissionManager.validate( this.permission_id, 'view' ) || PermissionManager.validate( this.permission_id, 'view_child' ) ) {\n\t\t\tthis.show_search_tab = true;\n\t\t} else {\n\t\t\tthis.show_search_tab = false;\n\t\t}\n\t}\n\n\tautoOpenEditViewIfNecessary() {\n\t\t//Auto open edit view. Should set in IndexController\n\t\t//Don't have any edit view\n\t\t//Error: Uncaught TypeError: undefined is not a function in /interface/html5/views/BaseViewController.js?v=7.4.3-20140924-084605 line 2751\n\t\tthis.autoOpenEditOnlyViewIfNecessary();\n\t}\n\n\tsetDefaultMenuEditEmployeeIcon( context_btn, grid_selected_length ) {\n\t\tif ( !this.editChildPermissionValidate( 'user' ) ) {\n\t\t\tContextMenuManager.hideMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, false )\n\t\t}\n\n\t\tif ( grid_selected_length === 1 ) {\n\t\t\tContextMenuManager.disableMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, true );\n\t\t} else {\n\t\t\tContextMenuManager.disableMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, false );\n\t\t}\n\t}\n\n\tsetDefaultMenuSendMessageIcon( context_btn, grid_selected_length, pId ) {\n\t\tif ( grid_selected_length > 0 ) {\n\t\t\tContextMenuManager.hideMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, true );\n\t\t\tContextMenuManager.disableMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, true );\n\t\t} else {\n\t\t\tContextMenuManager.disableMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, false );\n\t\t}\n\t}\n\n\tonNavigationClick( iconName ) {\n\t\tvar select_item = this.getSelectedItem();\n\t\t//There are cases where select_item might be null. The export button for example.\n\t\tif ( select_item != null ) {\n\t\t\tvar user_id = select_item.user_id;\n\t\t}\n\t\tswitch ( iconName ) {\n\t\t\tcase 'edit_employee':\n\t\t\t\tIndexViewController.openEditView( this, 'Employee', user_id );\n\t\t\t\tbreak;\n\t\t\tcase 'edit_pay_period':\n\t\t\t\tvar pay_period_id = select_item.pay_period_id;\n\t\t\t\tif ( pay_period_id ) {\n\t\t\t\t\tIndexViewController.openEditView( this, 'PayPeriods', pay_period_id );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'edit_pay_period_schedule':\n\t\t\t\tvar pay_period_schedule_id = select_item.pay_period_schedule_id;\n\t\t\t\tif ( pay_period_schedule_id ) {\n\t\t\t\t\tIndexViewController.openEditView( this, 'PayPeriodSchedule', pay_period_id );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'schedule':\n\t\t\t\tvar filter = { filter_data: {} };\n\t\t\t\tvar include_users = { value: [user_id] };\n\t\t\t\tfilter.filter_data.include_user_ids = include_users;\n\t\t\t\tfilter.select_date = select_item.date_stamp;\n\t\t\t\tGlobal.addViewTab( this.viewId, $.i18n._( 'Exception' ), window.location.href );\n\t\t\t\tIndexViewController.goToView( 'Schedule', filter );\n\t\t\t\tbreak;\n\t\t\tcase 'timesheet':\n\t\t\t\tfilter = { filter_data: {} };\n\t\t\t\tfilter.user_id = user_id;\n\t\t\t\tfilter.base_date = select_item.date_stamp;\n\t\t\t\tGlobal.addViewTab( this.viewId, $.i18n._( 'Exception' ), window.location.href );\n\t\t\t\tIndexViewController.goToView( 'TimeSheet', filter );\n\t\t\t\tbreak;\n\t\t\tcase 'send_message':\n\t\t\t\tLocalCacheData.default_filter_for_next_open_view = { to_user_id: _.uniq( this.getSelectedItems().map( exception => exception.user_id ) ) };\n\t\t\t\tIndexViewController.openEditView( this, 'MessageControl', null, 'onAddClick' );\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tinitOptions() {\n\t\tvar $this = this;\n\n\t\tvar options = [\n\t\t\t{ option_name: 'status', field_name: 'user_status_id', api: TTAPI.APIUser },\n\t\t\t{ option_name: 'severity', api: TTAPI.APIExceptionPolicy },\n\t\t\t{ option_name: 'type', field_name: 'exception_policy_type_id', api: TTAPI.APIExceptionPolicy },\n\t\t];\n\n\t\tthis.initDropDownOptions( options );\n\n\t\tvar user_group_api = TTAPI.APIUserGroup;\n\t\tuser_group_api.getUserGroup( '', false, false, {\n\t\t\tonResult: function( res ) {\n\n\t\t\t\tres = res.getResult();\n\t\t\t\tres = Global.buildTreeRecord( res );\n\n\t\t\t\tif ( !$this.sub_view_mode && $this.basic_search_field_ui_dic['group_id'] ) {\n\t\t\t\t\t$this.basic_search_field_ui_dic['group_id'].setSourceData( res );\n\t\t\t\t\t$this.adv_search_field_ui_dic['group_id'].setSourceData( res );\n\t\t\t\t}\n\n\t\t\t}\n\t\t} );\n\t}\n\n\tgetCustomContextMenuModel() {\n\t\tvar context_menu_model = {\n\t\t\texclude: ['default'],\n\t\t\tinclude: [\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'Send Message' ),\n\t\t\t\t\tid: 'send_message',\n\t\t\t\t\tmenu_align: 'right',\n\t\t\t\t\tvue_icon: 'tticon tticon-send_black_24dp',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'Jump To' ),\n\t\t\t\t\tid: 'jump_to_header',\n\t\t\t\t\tmenu_align: 'right',\n\t\t\t\t\taction_group: 'jump_to',\n\t\t\t\t\taction_group_header: true,\n\t\t\t\t\tpermission_result: false // to hide it in legacy context menu and avoid errors in legacy parsers.\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'TimeSheet' ),\n\t\t\t\t\tid: 'timesheet',\n\t\t\t\t\tmenu_align: 'right',\n\t\t\t\t\taction_group: 'jump_to',\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'Schedules' ),\n\t\t\t\t\tid: 'schedule',\n\t\t\t\t\tmenu_align: 'right',\n\t\t\t\t\taction_group: 'jump_to',\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'Edit Employee' ),\n\t\t\t\t\tid: 'edit_employee',\n\t\t\t\t\tmenu_align: 'right',\n\t\t\t\t\taction_group: 'jump_to',\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'Edit Pay Period' ),\n\t\t\t\t\tid: 'edit_pay_period',\n\t\t\t\t\tmenu_align: 'right',\n\t\t\t\t\taction_group: 'jump_to',\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'Edit PP Schedule' ),\n\t\t\t\t\tid: 'edit_pay_period_schedule',\n\t\t\t\t\tmenu_align: 'right',\n\t\t\t\t\taction_group: 'jump_to',\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'Export' ),\n\t\t\t\t\tid: 'export_excel',\n\t\t\t\t\tgroup: 'other',\n\t\t\t\t\tvue_icon: 'tticon tticon-file_upload_black_24dp',\n\t\t\t\t\tsort_order: 9000\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\n\t\treturn context_menu_model;\n\t}\n\n\tgetSearchPanelFilter( getFromTabIndex, save_temp_filter ) {\n\n\t\tif ( Global.isSet( getFromTabIndex ) ) {\n\t\t\tvar search_tab_select_index = getFromTabIndex;\n\t\t} else {\n\t\t\tsearch_tab_select_index = this.search_panel.getSelectTabIndex();\n\t\t}\n\n//\t\tvar basic_fields_len = this.search_fields.length;\n\t\tvar target_ui_dic = null;\n\n\t\tif ( search_tab_select_index === 0 ) {\n\t\t\tthis.filter_data = [];\n\t\t\ttarget_ui_dic = this.basic_search_field_ui_dic;\n\t\t} else if ( search_tab_select_index === 1 ) {\n\t\t\tthis.filter_data = [];\n\t\t\ttarget_ui_dic = this.adv_search_field_ui_dic;\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\n\t\tvar $this = this;\n\t\t$.each( target_ui_dic, function( key, content ) {\n\n\t\t\t$this.filter_data[key] = { field: key, id: '', value: target_ui_dic[key].getValue( true ) };\n\n\t\t\tif ( key === 'show_pre_mature' && $this.filter_data[key].value !== true ) {\n\n\t\t\t\tdelete $this.filter_data[key];\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif ( $this.temp_basic_filter_data ) {\n\t\t\t\t$this.temp_basic_filter_data[key] = $this.filter_data[key];\n\t\t\t}\n\n\t\t\tif ( $this.temp_adv_filter_data ) {\n\t\t\t\t$this.temp_adv_filter_data[key] = $this.filter_data[key];\n\t\t\t}\n\t\t} );\n\n\t\tif ( save_temp_filter ) {\n\t\t\tif ( search_tab_select_index === 0 ) {\n\t\t\t\t$this.temp_basic_filter_data = Global.clone( $this.filter_data );\n\t\t\t} else if ( search_tab_select_index === 1 ) {\n\t\t\t\t$this.temp_adv_filter_data = Global.clone( $this.filter_data );\n\t\t\t}\n\n\t\t}\n\t}\n\n\tonGridDblClickRow() {\n\t\tvar context_menu_array = ContextMenuManager.getMenuModelByMenuId( this.determineContextMenuMountAttributes().id );\n\t\tvar len = context_menu_array.length;\n\n\t\tvar need_break = false;\n\n\t\tfor ( var i = 0; i < len; i++ ) {\n\n\t\t\tif ( need_break ) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tlet context_btn = context_menu_array[i];\n\t\t\tlet id = context_menu_array[i].id;\n\n\t\t\tswitch ( id ) {\n\t\t\t\tcase 'timesheet':\n\t\t\t\t\tif ( context_btn.visible && !context_btn.disabled ) {\n\t\t\t\t\t\tthis.onNavigationClick( 'timesheet' );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tfor ( var i = 0; i < len; i++ ) {\n\n\t\t\tif ( need_break ) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tlet context_btn = context_menu_array[i];\n\t\t\tlet id = context_menu_array[i].id;\n\n\t\t\tswitch ( id ) {\n\t\t\t\tcase 'schedule':\n\t\t\t\t\tneed_break = true;\n\t\t\t\t\tif ( context_btn.visible && !context_btn.disabled ) {\n\t\t\t\t\t\tthis.onNavigationClick( 'schedule' );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tbuildSearchFields() {\n\n\t\tsuper.buildSearchFields();\n\t\tthis.search_fields = [\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Employee Status' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'user_status_id',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: true,\n\t\t\t\tlayout_name: 'global_option_column',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Pay Period' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'pay_period_id',\n\t\t\t\tlayout_name: 'global_Pay_period',\n\t\t\t\tapi_class: TTAPI.APIPayPeriod,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: true,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Employee' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'user_id',\n\t\t\t\tlayout_name: 'global_user',\n\t\t\t\tapi_class: TTAPI.APIUser,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: true,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Severity' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'severity_id',\n\t\t\t\tmultiple: true,\n\t\t\t\tadv_search: true,\n\t\t\t\tbasic_search: false,\n\t\t\t\tlayout_name: 'global_option_column',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Exception' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'exception_policy_type_id',\n\t\t\t\tmultiple: true,\n\t\t\t\tadv_search: true,\n\t\t\t\tbasic_search: false,\n\t\t\t\tlayout_name: 'global_option_column',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Group' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tmultiple: true,\n\t\t\t\tfield: 'group_id',\n\t\t\t\tlayout_name: 'global_tree_column',\n\t\t\t\ttree_mode: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: true,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Default Branch' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'default_branch_id',\n\t\t\t\tlayout_name: 'global_branch',\n\t\t\t\tapi_class: TTAPI.APIBranch,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: true,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Default Department' ),\n\t\t\t\tfield: 'default_department_id',\n\t\t\t\tin_column: 2,\n\t\t\t\tlayout_name: 'global_department',\n\t\t\t\tapi_class: TTAPI.APIDepartment,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: true,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Branch' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'branch_id',\n\t\t\t\tlayout_name: 'global_branch',\n\t\t\t\tapi_class: TTAPI.APIBranch,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: false,\n\t\t\t\tadv_search: true,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Department' ),\n\t\t\t\tfield: 'department_id',\n\t\t\t\tin_column: 2,\n\t\t\t\tlayout_name: 'global_department',\n\t\t\t\tapi_class: TTAPI.APIDepartment,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: false,\n\t\t\t\tadv_search: true,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Title' ),\n\t\t\t\tin_column: 3,\n\t\t\t\tfield: 'title_id',\n\t\t\t\tlayout_name: 'global_job_title',\n\t\t\t\tapi_class: TTAPI.APIUserTitle,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: false,\n\t\t\t\tadv_search: true,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Show Pre-Mature' ),\n\t\t\t\tin_column: 3,\n\t\t\t\tfield: 'show_pre_mature',\n\t\t\t\tbasic_search: false,\n\t\t\t\tadv_search: true,\n\t\t\t\tform_item_type: FormItemType.CHECKBOX\n\t\t\t} )\n\n\t\t];\n\t}\n\n\tgetFilterColumnsFromDisplayColumns() {\n\t\tvar column_filter = {};\n\t\tcolumn_filter.user_id = true;\n\t\tcolumn_filter.date_stamp = true;\n\t\tcolumn_filter.pay_period_id = true;\n\t\tcolumn_filter.pay_period_schedule_id = true;\n\t\tcolumn_filter.exception_color = true;\n\t\tcolumn_filter.exception_background_color = true;\n\n\t\treturn this._getFilterColumnsFromDisplayColumns( column_filter, true );\n\t}\n\n\tsetGridCellBackGround() {\n\t\tvar data = this.grid?.getGridParam( 'data' );\n\t\t//Error: TypeError: data is undefined in /interface/html5/framework/jquery.min.js?v=7.4.6-20141027-074127 line 2 > eval line 70\n\t\tif ( !data ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar len = data.length;\n\n\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\tvar item = data[i];\n\n\t\t\tif ( item.exception_background_color ) {\n\t\t\t\tvar severity = $( 'tr[id=\\'' + item.id + '\\']' ).find( 'td[aria-describedby=\"' + this.ui_id + '_grid_severity\"]' );\n\t\t\t\tseverity.css( 'background-color', item.exception_background_color );\n\t\t\t\tseverity.css( 'font-weight', 'bold' );\n\t\t\t}\n\n\t\t\tif ( item.exception_color ) {\n\t\t\t\tvar code = $( 'tr[id=\\'' + item.id + '\\']' ).find( 'td[aria-describedby=\"' + this.ui_id + '_grid_exception_policy_type_id\"]' );\n\t\t\t\tcode.css( 'color', item.exception_color );\n\t\t\t\tcode.css( 'font-weight', 'bold' );\n\t\t\t}\n\n\t\t}\n\t}\n}\n\nExceptionViewController.loadView = function() {\n\n\tGlobal.loadViewSource( 'Exception', 'ExceptionView.html', function( result ) {\n\n\t\tvar args = {};\n\t\tvar template = _.template( result );\n\n\t\tGlobal.contentContainer().html( template( args ) );\n\t} );\n\n};"],"names":["ExceptionViewController","options","_","$","id","context_btn","grid_selected_length","pId","iconName","select_item","user_id","pay_period_id","pay_period_schedule_id","filter","include_users","exception","$this","user_group_api","res","context_menu_model","getFromTabIndex","save_temp_filter","search_tab_select_index","target_ui_dic","key","content","context_menu_array","len","need_break","column_filter","data","_a","i","item","severity","code","result","args","template"],"mappings":"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"}