{"version":3,"file":"ProcessPayrollWizardController-C9wEJtrd.bundle.js","sources":["../../views/wizard/process_payroll/ProcessPayrollWizardController.js"],"sourcesContent":["export class ProcessPayrollWizardController extends BaseWizardController {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {\n\t\t\tel: '.wizard-bg',\n\n\t\t\tall_columns: null,\n\t\t\tpay_stub_transaction_columns: null,\n\n\t\t\tapi_pay_period: null,\n\t\t\tapi_pay_stub: null,\n\n\t\t\tapi_pay_stub_transaction: null,\n\n\t\t\talert_message: $.i18n._( 'Please select one or more pay periods in the list above to enable icons.' ),\n\n\t\t\ttransaction_source_data: null\n\t\t} );\n\n\t\tsuper( options );\n\t}\n\n\tinit( options ) {\n\t\t//this._super('initialize', options );\n\n\t\tthis.title = $.i18n._( 'Payroll Processing Wizard' );\n\t\tthis.steps = 9;\n\t\tthis.current_step = 1;\n\t\tthis.script_name = 'wizard_process_payroll';\n\t\tthis.wizard_id = 'ProcessPayrollWizard';\n\t\tthis.api_pay_period = TTAPI.APIPayPeriod;\n\t\tthis.api_pay_stub = TTAPI.APIPayStub;\n\t\tthis.api_pay_stub_transaction = TTAPI.APIPayStubTransaction;\n\n\t\tthis.render();\n\t}\n\n\trender() {\n\t\tsuper.render();\n\n\t\tthis.initUserGenericData();\n\t}\n\n\tsetButtonsStatus() {\n\n\t\tGlobal.setWidgetEnabled( this.done_btn, false );\n\t\tGlobal.setWidgetEnabled( this.close_btn, true );\n\n\t\tif ( this.current_step === 1 ) {\n\t\t\tGlobal.setWidgetEnabled( this.back_btn, false );\n\t\t} else {\n\t\t\tGlobal.setWidgetEnabled( this.back_btn, true );\n\t\t}\n\n\t\tif ( this.current_step !== this.steps ) {\n\t\t\tGlobal.setWidgetEnabled( this.done_btn, false );\n\t\t\tGlobal.setWidgetEnabled( this.next_btn, true );\n\t\t\t//Error: TypeError: this.stepsWidgetDic[1] is undefined in interface/html5/framework/jquery.min.js?v=9.0.0-20150918-155419 line 2 > eval line 45\n\t\t\tif ( this.stepsWidgetDic[1] && ( !this.stepsWidgetDic[1].pay_period_id.getValue() || this.stepsWidgetDic[1].pay_period_id.getValue().length < 1 ) ) {\n\t\t\t\tGlobal.setWidgetEnabled( this.next_btn, false );\n\t\t\t}\n\t\t} else {\n\t\t\tGlobal.setWidgetEnabled( this.done_btn, true );\n\t\t\tGlobal.setWidgetEnabled( this.next_btn, false );\n\t\t}\n\t}\n\n\t//Create each page UI\n\tbuildCurrentStepUI() {\n\n\t\tvar $this = this;\n\t\tthis.content_div.empty();\n\t\tswitch ( this.current_step ) {\n\t\t\tcase 1:\n\n\t\t\t\tvar label = this.getLabel();\n\t\t\t\tlabel.text( $.i18n._( 'Select one or more pay periods to process payroll for' ) );\n\t\t\t\tvar a_combobox = this.getAComboBox( TTAPI.APIPayPeriod, true, 'global_Pay_period', 'pay_period_id' );\n\t\t\t\tvar div = $( '<div class=\\'wizard-acombobox-div\\'></div>' );\n\t\t\t\tdiv.append( a_combobox );\n\n\t\t\t\ta_combobox.unbind( 'formItemChange' ).bind( 'formItemChange', function() {\n\t\t\t\t\t$this.setButtonsStatus();\n\t\t\t\t} );\n\n\t\t\t\tthis.stepsWidgetDic[this.current_step] = {};\n\t\t\t\tthis.stepsWidgetDic[this.current_step][a_combobox.getField()] = a_combobox;\n\n\t\t\t\tthis.content_div.append( label );\n\t\t\t\tthis.content_div.append( div );\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tlabel = this.getLabel();\n\t\t\t\tlabel.text( $.i18n._( 'Confirm all requests are authorized' ) );\n\n\t\t\t\tthis.content_div.append( label );\n\t\t\t\tthis.stepsWidgetDic[this.current_step] = {};\n\n\t\t\t\tvar grid_id = 'pending_request';\n\t\t\t\tvar grid_div = $( '<div class=\\'grid-div wizard-grid-div\\'> <table id=\\'' + grid_id + '\\'></table></div>' );\n\t\t\t\tthis.setGrid( grid_id, grid_div, true );\n\n\t\t\t\tvar ribbon_button_box = this.getRibbonButtonBox();\n\t\t\t\tvar request_button = this.getRibbonButton( 'request', Global.getRibbonIconRealPath( 'requests-35x35.png' ), $.i18n._( 'Requests' ) );\n\n\t\t\t\trequest_button.unbind( 'click' ).bind( 'click', function() {\n\n\t\t\t\t\t$this.onNavigationClick( 'request' );\n\t\t\t\t} );\n\n\t\t\t\tribbon_button_box.children().eq( 0 ).append( request_button );\n\t\t\t\tthis.content_div.append( ribbon_button_box );\n\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tlabel = this.getLabel();\n\t\t\t\tlabel.text( $.i18n._( 'Confirm that no critical exceptions exist' ) );\n\n\t\t\t\tthis.content_div.append( label );\n\t\t\t\tthis.stepsWidgetDic[this.current_step] = {};\n\n\t\t\t\tgrid_id = 'exceptions';\n\t\t\t\tgrid_div = $( '<div class=\\'grid-div wizard-grid-div\\'> <table id=\\'' + grid_id + '\\'></table></div>' );\n\t\t\t\tthis.setGrid( grid_id, grid_div, true );\n\n\t\t\t\tthis.removeResizableGrids();\n\n\t\t\t\tribbon_button_box = this.getRibbonButtonBox();\n\t\t\t\tvar ribbon_btn = this.getRibbonButton( 'exceptions', Global.getRibbonIconRealPath( 'exceptions-35x35.png' ), $.i18n._( 'Exceptions' ) );\n\n\t\t\t\tribbon_btn.unbind( 'click' ).bind( 'click', function() {\n\t\t\t\t\t$this.onNavigationClick( 'exceptions' );\n\t\t\t\t} );\n\n\t\t\t\tribbon_button_box.children().eq( 0 ).append( ribbon_btn );\n\t\t\t\tthis.content_div.append( ribbon_button_box );\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\tlabel = this.getLabel();\n\t\t\t\tlabel.text( $.i18n._( 'Confirm timesheets are verified' ) );\n\n\t\t\t\tthis.content_div.append( label );\n\t\t\t\tthis.stepsWidgetDic[this.current_step] = {};\n\n\t\t\t\tgrid_id = 'timesheet';\n\t\t\t\tgrid_div = $( '<div class=\\'grid-div wizard-grid-div\\'> <table id=\\'' + grid_id + '\\'></table></div>' );\n\t\t\t\tthis.setGrid( grid_id, grid_div, true );\n\n\t\t\t\tthis.removeResizableGrids();\n\n\t\t\t\tribbon_button_box = this.getRibbonButtonBox();\n\t\t\t\tribbon_btn = this.getRibbonButton( 'timesheet_reports', Global.getRibbonIconRealPath( 'timesheet_reports-35x35.png' ), $.i18n._( 'TimeSheet<br>Summary' ) );\n\t\t\t\tvar ribbon_btn2 = this.getRibbonButton( 'authorization_timesheet', Global.getRibbonIconRealPath( 'authorize_timesheet-35x35.png' ), $.i18n._( 'TimeSheet<br>Authorizations' ) );\n\n\t\t\t\tribbon_btn.unbind( 'click' ).bind( 'click', function() {\n\t\t\t\t\t$this.onNavigationClick( 'timesheet_reports' );\n\t\t\t\t} );\n\n\t\t\t\tribbon_btn2.unbind( 'click' ).bind( 'click', function() {\n\t\t\t\t\t$this.onNavigationClick( 'authorization_timesheet' );\n\t\t\t\t} );\n\n\t\t\t\tribbon_button_box.children().eq( 0 ).append( ribbon_btn );\n\t\t\t\tribbon_button_box.children().eq( 0 ).append( ribbon_btn2 );\n\t\t\t\tthis.content_div.append( ribbon_button_box );\n\t\t\t\tbreak;\n\t\t\tcase 5:\n\t\t\t\tlabel = this.getLabel();\n\t\t\t\tlabel.text( $.i18n._( 'Lock pay periods to prevent changes' ) );\n\n\t\t\t\tthis.content_div.append( label );\n\t\t\t\tthis.stepsWidgetDic[this.current_step] = {};\n\n\t\t\t\tgrid_id = 'lock_pay_period';\n\t\t\t\tgrid_div = $( '<div class=\\'grid-div wizard-grid-div\\'> <table id=\\'' + grid_id + '\\'></table></div>' );\n\t\t\t\tthis.setGrid( grid_id, grid_div, true );\n\n\t\t\t\tribbon_button_box = this.getRibbonButtonBox();\n\t\t\t\tribbon_btn = this.getRibbonButton( 'lock', Global.getRibbonIconRealPath( 'lock-35x35.png' ), $.i18n._( 'Lock' ) );\n\t\t\t\tribbon_btn2 = this.getRibbonButton( 'unlock', Global.getRibbonIconRealPath( 'unlock-35x35.png' ), $.i18n._( 'UnLock' ) );\n\n\t\t\t\tribbon_btn.unbind( 'click' ).bind( 'click', function() {\n\t\t\t\t\tif ( $( this ).hasClass( 'disable-image' ) ) {\n\t\t\t\t\t\tTAlertManager.showAlert( $this.alert_message );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t$this.onNavigationClick( 'lock' );\n\t\t\t\t} );\n\n\t\t\t\tribbon_btn2.unbind( 'click' ).bind( 'click', function() {\n\t\t\t\t\tif ( $( this ).hasClass( 'disable-image' ) ) {\n\t\t\t\t\t\tTAlertManager.showAlert( $this.alert_message );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t$this.onNavigationClick( 'unlock' );\n\t\t\t\t} );\n\n\t\t\t\tthis.stepsWidgetDic[this.current_step].lock = ribbon_btn;\n\t\t\t\tthis.stepsWidgetDic[this.current_step].unlock = ribbon_btn2;\n\n\t\t\t\tribbon_button_box.children().eq( 0 ).append( ribbon_btn );\n\t\t\t\tribbon_button_box.children().eq( 0 ).append( ribbon_btn2 );\n\t\t\t\tthis.content_div.append( ribbon_button_box );\n\t\t\t\tbreak;\n\t\t\tcase 6:\n\t\t\t\tlabel = this.getLabel();\n\t\t\t\tlabel.text( $.i18n._( 'Create any necessary pay stub amendments' ) );\n\n\t\t\t\tthis.content_div.append( label );\n\t\t\t\tthis.stepsWidgetDic[this.current_step] = {};\n\n\t\t\t\tgrid_id = 'pay_stub_amendments';\n\t\t\t\tgrid_div = $( '<div class=\\'grid-div wizard-grid-div\\'> <table id=\\'' + grid_id + '\\'></table></div>' );\n\t\t\t\tthis.setGrid( grid_id, grid_div, true );\n\n\t\t\t\tribbon_button_box = this.getRibbonButtonBox();\n\t\t\t\tribbon_btn = this.getRibbonButton( 'pay_stub_amendment', Global.getRibbonIconRealPath( 'pay_stub_amendments-35x35.png' ), $.i18n._( 'Pay Stub<br>Amendments' ) );\n\n\t\t\t\tribbon_btn.unbind( 'click' ).bind( 'click', function() {\n\t\t\t\t\t$this.onNavigationClick( 'pay_stub_amendment' );\n\t\t\t\t} );\n\n\t\t\t\tribbon_button_box.children().eq( 0 ).append( ribbon_btn );\n\t\t\t\tthis.content_div.append( ribbon_button_box );\n\t\t\t\tbreak;\n\t\t\tcase 7:\n\t\t\t\tlabel = this.getLabel();\n\t\t\t\tlabel.text( $.i18n._( 'Generate pay stubs' ) );\n\n\t\t\t\tthis.content_div.append( label );\n\t\t\t\tthis.stepsWidgetDic[this.current_step] = {};\n\n\t\t\t\tgrid_id = 'pay_stub_generate';\n\t\t\t\tgrid_div = $( '<div class=\\'grid-div wizard-grid-div\\'> <table id=\\'' + grid_id + '\\'></table></div>' );\n\t\t\t\tthis.setGrid( grid_id, grid_div, true );\n\n\t\t\t\tribbon_button_box = this.getRibbonButtonBox();\n\t\t\t\tribbon_btn = this.getRibbonButton( 'generate_pay_stub', Global.getRibbonIconRealPath( 'calculate_paystubs-35x35.png' ), $.i18n._( 'Generate<br>Pay Stubs' ) );\n\t\t\t\tribbon_btn2 = this.getRibbonButton( 'pay_stub', Global.getRibbonIconRealPath( 'pay_stubs-35x35.png' ), $.i18n._( 'Pay<br>Stubs' ) );\n\t\t\t\tvar ribbon_btn3 = this.getRibbonButton( 'pay_stub_summary', Global.getRibbonIconRealPath( 'pay_stubs_accounts-35x35.png' ), $.i18n._( 'Pay Stub<br>Summary' ) );\n\n\t\t\t\tribbon_btn.unbind( 'click' ).bind( 'click', function() {\n\t\t\t\t\tif ( $( this ).hasClass( 'disable-image' ) ) {\n\t\t\t\t\t\tTAlertManager.showAlert( $this.alert_message );\n\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t$this.onNavigationClick( 'generate_pay_stub' );\n\t\t\t\t} );\n\n\t\t\t\tribbon_btn2.unbind( 'click' ).bind( 'click', function() {\n\t\t\t\t\t$this.onNavigationClick( 'pay_stub' );\n\t\t\t\t} );\n\n\t\t\t\tribbon_btn3.unbind( 'click' ).bind( 'click', function() {\n\t\t\t\t\t$this.onNavigationClick( 'pay_stub_summary' );\n\t\t\t\t} );\n\n\t\t\t\tthis.stepsWidgetDic[this.current_step].generate_pay_stub = ribbon_btn;\n\n\t\t\t\tribbon_button_box.children().eq( 0 ).append( ribbon_btn );\n\t\t\t\tribbon_button_box.children().eq( 0 ).append( ribbon_btn2 );\n\t\t\t\tribbon_button_box.children().eq( 0 ).append( ribbon_btn3 );\n\n\t\t\t\tthis.content_div.append( ribbon_button_box );\n\t\t\t\tbreak;\n\t\t\tcase 8:\n\t\t\t\tlabel = this.getLabel();\n\t\t\t\tlabel.text( $.i18n._( 'Process transactions' ) );\n\n\t\t\t\tthis.content_div.append( label );\n\t\t\t\tthis.stepsWidgetDic[this.current_step] = {};\n\n\t\t\t\t$( '.wizard .content' ).css( 'opacity', 0 );\n\t\t\t\tTTPromise.add( 'wizard', 'step8' );\n\t\t\t\tTTPromise.wait( 'wizard', 'step8', function() {\n\t\t\t\t\t$( '.wizard .content' ).css( 'opacity', 1 );\n\t\t\t\t} );\n\n\t\t\t\tgrid_id = 'pay_stub_transfer';\n\t\t\t\tgrid_div = $( '<div class=\\'grid-div wizard-grid-div\\'> <table id=\\'' + grid_id + '\\'></table></div> <hr>' );\n\t\t\t\tthis.setGrid( grid_id, grid_div, true );\n\n\t\t\t\tgrid_id = 'pay_stub_transaction';\n\t\t\t\tgrid_div = $( '<div class=\\'grid-div wizard-grid-div\\'> <table id=\\'' + grid_id + '\\'></table></div>' );\n\t\t\t\tthis.setGrid( grid_id, grid_div, false ).setGridHeight( Math.floor( ( this.content_div.height() - 150 ) / 2 ) );\n\n\t\t\t\tribbon_button_box = this.getRibbonButtonBox();\n\t\t\t\tvar ribbon_btn1 = this.getRibbonButton( 'direct_deposit', Global.getRibbonIconRealPath( 'direct_deposit-35x35.png' ), $.i18n._( 'Process<br>Transactions' ) );\n\t\t\t\tribbon_btn2 = this.getRibbonButton( 'pay_stub_transaction_summary', Global.getRibbonIconRealPath( 'payroll_reports-35x35.png' ), $.i18n._( 'Pay Stub<br>Transaction Summary' ) );\n\t\t\t\tribbon_btn3 = this.getRibbonButton( 'payroll_export_report', Global.getRibbonIconRealPath( 'payroll_reports-35x35.png' ), $.i18n._( 'Payroll Export' ) );\n\n\t\t\t\tribbon_btn1.unbind( 'click' ).bind( 'click', function() {\n\t\t\t\t\t$this.onNavigationClick( 'direct_deposit' );\n\t\t\t\t} );\n\n\t\t\t\tribbon_btn2.unbind( 'click' ).bind( 'click', function() {\n\t\t\t\t\t$this.onNavigationClick( 'pay_stub_transaction_summary' );\n\t\t\t\t} );\n\t\t\t\tribbon_btn3.unbind( 'click' ).bind( 'click', function() {\n\t\t\t\t\t$this.onNavigationClick( 'payroll_export_report' );\n\t\t\t\t} );\n\n\t\t\t\t//this is the display order for buttons on step 8\n\t\t\t\tribbon_button_box.children().eq( 0 ).append( ribbon_btn1 );\n\t\t\t\tribbon_button_box.children().eq( 0 ).append( ribbon_btn2 );\n\t\t\t\tribbon_button_box.children().eq( 0 ).append( ribbon_btn3 );\n\n\t\t\t\tthis.content_div.append( ribbon_button_box );\n\t\t\t\tbreak;\n\t\t\tcase 9:\n\t\t\t\tlabel = this.getLabel();\n\t\t\t\tlabel.text( $.i18n._( 'Close pay period' ) );\n\n\t\t\t\tthis.content_div.append( label );\n\t\t\t\tthis.stepsWidgetDic[this.current_step] = {};\n\n\t\t\t\tgrid_id = 'pay_stub_close';\n\t\t\t\tgrid_div = $( '<div class=\\'grid-div wizard-grid-div\\'> <table id=\\'' + grid_id + '\\'></table></div>' );\n\t\t\t\tthis.setGrid( grid_id, grid_div, true );\n\n\t\t\t\tribbon_button_box = this.getRibbonButtonBox();\n\t\t\t\tribbon_btn = this.getRibbonButton( 'close_pay_period', Global.getRibbonIconRealPath( 'close_pay_period-35x35.png' ), $.i18n._( 'Close' ) );\n\n\t\t\t\tribbon_btn.unbind( 'click' ).bind( 'click', function() {\n\t\t\t\t\tif ( $( this ).hasClass( 'disable-image' ) ) {\n\t\t\t\t\t\tTAlertManager.showAlert( $this.alert_message );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t$this.onNavigationClick( 'close_pay_period' );\n\t\t\t\t} );\n\n\t\t\t\tthis.stepsWidgetDic[this.current_step].close = ribbon_btn;\n\n\t\t\t\tribbon_button_box.children().eq( 0 ).append( ribbon_btn );\n\n\t\t\t\tthis.content_div.append( ribbon_button_box );\n\t\t\t\tbreak;\n\n\t\t}\n\t}\n\n\tonNextClick() {\n\t\tthis.saveCurrentStep();\n\n\t\tif ( this.current_step === 1 ) {\n\t\t\tvar current_step_ui = this.stepsWidgetDic[this.current_step];\n\t\t\tvar pay_period_id = current_step_ui.pay_period_id.getValue();\n\t\t\tif ( !pay_period_id || pay_period_id.length == 0 || ( pay_period_id == TTUUID.zero_id ) || ( pay_period_id.length == 1 && pay_period_id[0] == TTUUID.zero_id ) ) {\n\t\t\t\tTAlertManager.showAlert( $.i18n._( 'Please choose a Pay Period' ) );\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tthis.current_step = this.current_step + 1;\n\t\tthis.initCurrentStep();\n\t}\n\n\tonDoneClick() {\n\t\tthis.cleanStepsData();\n\t\tLocalCacheData.current_open_wizard_controllers = LocalCacheData.current_open_wizard_controllers.filter( wizard => wizard.wizard_id !== this.wizard_id );\n\t\tthis.saveAllStepsToUserGenericData( function() {\n\n\t\t} );\n\n\t\tif ( this.call_back ) {\n\t\t\tthis.call_back();\n\t\t}\n\n\t\t$( this.el ).remove();\n\n\t\t$().TFeedback( {\n\t\t\tsource: this.wizard_id\n\t\t} );\n\t}\n\n\tgetGridColumns( gridId, callBack ) {\n\n\t\tvar $this = this;\n\n\t\tif ( gridId == 'pay_stub_transaction' ) {\n\t\t\tvar result = this.api_pay_stub_transaction.getOptions( 'columns', { 'payroll_wizard': true }, { async: false } );\n\t\t\tif ( result ) {\n\t\t\t\tvar result_data = result.getResult();\n\n\t\t\t\t$this.pay_stub_transaction_columns = Global.buildColumnArray( result_data );\n\n\t\t\t\tvar column_info_array = [];\n\t\t\t\tfor ( var x in $this.pay_stub_transaction_columns ) {\n\t\t\t\t\tvar column_data = $this.pay_stub_transaction_columns[x];\n\n\t\t\t\t\tif ( column_data.value == 'remittance_source_account' ||\n\t\t\t\t\t\tcolumn_data.value == 'remittance_source_account_type' ||\n\t\t\t\t\t\tcolumn_data.value == 'currency' ||\n\t\t\t\t\t\tcolumn_data.value == 'total_transactions' ||\n\t\t\t\t\t\tcolumn_data.value == 'total_amount' ) {\n\t\t\t\t\t\tvar column_info = {\n\t\t\t\t\t\t\tresizable: false,\n\t\t\t\t\t\t\tname: column_data.value,\n\t\t\t\t\t\t\tindex: column_data.value,\n\t\t\t\t\t\t\tlabel: column_data.label,\n\t\t\t\t\t\t\twidth: 100,\n\t\t\t\t\t\t\tsortable: false,\n\t\t\t\t\t\t\ttitle: false\n\t\t\t\t\t\t};\n\t\t\t\t\t\tcolumn_info_array.push( column_info );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcallBack( column_info_array );\n\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif ( this.all_columns ) {\n\t\t\tdoNext();\n\t\t} else {\n\t\t\tvar result = this.api_pay_period.getOptions( 'columns', { async: false } );\n\t\t\tvar result_data = result.getResult();\n\t\t\t$this.all_columns = Global.buildColumnArray( result_data );\n\t\t\tdoNext();\n\t\t}\n\n\t\tfunction doNext() {\n\n\t\t\tvar len = $this.all_columns.length;\n\t\t\tvar column_info_array = [];\n\n\t\t\tswitch ( gridId ) {\n\t\t\t\tcase 'pending_request':\n\n\t\t\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\t\t\tvar column_data = $this.all_columns[i];\n\n\t\t\t\t\t\tif ( column_data.value == 'start_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'end_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'transaction_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'pending_requests' ) {\n\t\t\t\t\t\t\tvar column_info = {\n\t\t\t\t\t\t\t\tresizable: false,\n\t\t\t\t\t\t\t\tname: column_data.value,\n\t\t\t\t\t\t\t\tindex: column_data.value,\n\t\t\t\t\t\t\t\tlabel: column_data.label,\n\t\t\t\t\t\t\t\twidth: 100,\n\t\t\t\t\t\t\t\tsortable: false,\n\t\t\t\t\t\t\t\ttitle: false\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tcolumn_info_array.push( column_info );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'exceptions':\n\n\t\t\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\t\t\tcolumn_data = $this.all_columns[i];\n\n\t\t\t\t\t\tif ( column_data.value == 'start_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'end_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'transaction_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'exceptions_high' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'exceptions_medium' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'exceptions_low' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'exceptions_critical'\n\t\t\t\t\t\t) {\n\n\t\t\t\t\t\t\tif ( column_data.value == 'exceptions_high' ||\n\t\t\t\t\t\t\t\tcolumn_data.value == 'exceptions_medium' ||\n\t\t\t\t\t\t\t\tcolumn_data.value == 'exceptions_low' ||\n\t\t\t\t\t\t\t\tcolumn_data.value == 'exceptions_critical' ) {\n\n\t\t\t\t\t\t\t\tcolumn_info = {\n\t\t\t\t\t\t\t\t\tresizable: false,\n\t\t\t\t\t\t\t\t\tname: column_data.value,\n\t\t\t\t\t\t\t\t\tindex: column_data.value,\n\t\t\t\t\t\t\t\t\tlabel: column_data.label,\n\t\t\t\t\t\t\t\t\twidth: 50,\n\t\t\t\t\t\t\t\t\tsortable: false,\n\t\t\t\t\t\t\t\t\ttitle: false\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tcolumn_info_array.push( column_info );\n\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcolumn_info = {\n\t\t\t\t\t\t\t\t\tresizable: false,\n\t\t\t\t\t\t\t\t\tname: column_data.value,\n\t\t\t\t\t\t\t\t\tindex: column_data.value,\n\t\t\t\t\t\t\t\t\tlabel: column_data.label,\n\t\t\t\t\t\t\t\t\twidth: 100,\n\t\t\t\t\t\t\t\t\tsortable: false,\n\t\t\t\t\t\t\t\t\ttitle: false\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tcolumn_info_array.push( column_info );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'timesheet':\n\n\t\t\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\t\t\tcolumn_data = $this.all_columns[i];\n\n\t\t\t\t\t\tif ( column_data.value == 'start_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'end_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'transaction_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'verified_timesheets' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'pending_timesheets' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'total_timesheets'\n\t\t\t\t\t\t) {\n\n\t\t\t\t\t\t\tif ( column_data.value == 'verified_timesheets' ||\n\t\t\t\t\t\t\t\tcolumn_data.value == 'pending_timesheets' ||\n\t\t\t\t\t\t\t\tcolumn_data.value == 'total_timesheets' ) {\n\n\t\t\t\t\t\t\t\tcolumn_info = {\n\t\t\t\t\t\t\t\t\tresizable: false,\n\t\t\t\t\t\t\t\t\tname: column_data.value,\n\t\t\t\t\t\t\t\t\tindex: column_data.value,\n\t\t\t\t\t\t\t\t\tlabel: column_data.label,\n\t\t\t\t\t\t\t\t\twidth: 50,\n\t\t\t\t\t\t\t\t\tsortable: false,\n\t\t\t\t\t\t\t\t\ttitle: false\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tcolumn_info_array.push( column_info );\n\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcolumn_info = {\n\t\t\t\t\t\t\t\t\tresizable: false,\n\t\t\t\t\t\t\t\t\tname: column_data.value,\n\t\t\t\t\t\t\t\t\tindex: column_data.value,\n\t\t\t\t\t\t\t\t\tlabel: column_data.label,\n\t\t\t\t\t\t\t\t\twidth: 100,\n\t\t\t\t\t\t\t\t\tsortable: false,\n\t\t\t\t\t\t\t\t\ttitle: false\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tcolumn_info_array.push( column_info );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'lock_pay_period':\n\t\t\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\t\t\tcolumn_data = $this.all_columns[i];\n\n\t\t\t\t\t\tif ( column_data.value == 'start_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'end_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'transaction_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'status'\n\t\t\t\t\t\t) {\n\n\t\t\t\t\t\t\tcolumn_info = {\n\t\t\t\t\t\t\t\tresizable: false,\n\t\t\t\t\t\t\t\tname: column_data.value,\n\t\t\t\t\t\t\t\tindex: column_data.value,\n\t\t\t\t\t\t\t\tlabel: column_data.label,\n\t\t\t\t\t\t\t\twidth: 100,\n\t\t\t\t\t\t\t\tsortable: false,\n\t\t\t\t\t\t\t\ttitle: false\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tcolumn_info_array.push( column_info );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'pay_stub_amendments':\n\t\t\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\t\t\tcolumn_data = $this.all_columns[i];\n\n\t\t\t\t\t\tif ( column_data.value == 'start_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'end_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'transaction_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'ps_amendments'\n\t\t\t\t\t\t) {\n\n\t\t\t\t\t\t\tcolumn_info = {\n\t\t\t\t\t\t\t\tresizable: false,\n\t\t\t\t\t\t\t\tname: column_data.value,\n\t\t\t\t\t\t\t\tindex: column_data.value,\n\t\t\t\t\t\t\t\tlabel: column_data.label,\n\t\t\t\t\t\t\t\twidth: 100,\n\t\t\t\t\t\t\t\tsortable: false,\n\t\t\t\t\t\t\t\ttitle: false\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tcolumn_info_array.push( column_info );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'pay_stub_generate':\n\t\t\t\tcase 'pay_stub_transfer':\n\t\t\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\t\t\tcolumn_data = $this.all_columns[i];\n\n\t\t\t\t\t\tif ( column_data.value == 'start_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'end_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'transaction_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'pay_stubs_open'\n\t\t\t\t\t\t) {\n\n\t\t\t\t\t\t\tcolumn_info = {\n\t\t\t\t\t\t\t\tresizable: false,\n\t\t\t\t\t\t\t\tname: column_data.value,\n\t\t\t\t\t\t\t\tindex: column_data.value,\n\t\t\t\t\t\t\t\tlabel: column_data.label,\n\t\t\t\t\t\t\t\twidth: 100,\n\t\t\t\t\t\t\t\tsortable: false,\n\t\t\t\t\t\t\t\ttitle: false\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tcolumn_info_array.push( column_info );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'pay_stub_close':\n\t\t\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\t\t\tcolumn_data = $this.all_columns[i];\n\n\t\t\t\t\t\tif ( column_data.value == 'status' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'start_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'end_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'transaction_date' ||\n\t\t\t\t\t\t\tcolumn_data.value == 'pay_stubs_open'\n\t\t\t\t\t\t) {\n\n\t\t\t\t\t\t\tcolumn_info = {\n\t\t\t\t\t\t\t\tresizable: false,\n\t\t\t\t\t\t\t\tname: column_data.value,\n\t\t\t\t\t\t\t\tindex: column_data.value,\n\t\t\t\t\t\t\t\tlabel: column_data.label,\n\t\t\t\t\t\t\t\twidth: 100,\n\t\t\t\t\t\t\t\tsortable: false,\n\t\t\t\t\t\t\t\ttitle: false\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tcolumn_info_array.push( column_info );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tcallBack( column_info_array );\n\t\t}\n\t}\n\n\tremoveResizableGrids() {\n\t\t//Issue #3214 - Exception triggered when page is resized while on Exception or TimeSheet wizard steps\n\t\t//This is a related to a previous fix found in this.setGridGroupColumns().\n\t\t//To avoid this we now remove the two error causing grids from the resizeable grid list.\n\t\t//This solution was chosen as the exception is deep within TTGrid and not easily avoidable.\n\t\t//Resizing is not requires for normal use and only causes display issues with very small resolutions <1024px.\n\t\t//In addition, only happens in the specific case where the end user resizes their browser on those two wizard steps.\n\n\t\tif ( Array.isArray( LocalCacheData.resizeable_grids ) ) {\n\t\t\tLocalCacheData.resizeable_grids = LocalCacheData.resizeable_grids.filter( function( grid ) {\n\t\t\t\treturn grid !== null && grid.ui_id !== 'exceptions' && grid.ui_id !== 'timesheet';\n\t\t\t} );\n\t\t}\n\t}\n\n\tsetGridGroupColumns( gridId ) {\n\t\t//Short circuit this function if we aren't creating any spanning cells for exceptions/timesheets.\n\t\t//  As having \"group-column-tr\" without anything in it causes jqGrid to trigger JS exception: Uncaught TypeError: Cannot read property 'style' of undefined\n\t\t//  when running: $( '#contentContainer' ).trigger( 'resize' ) from the console.\n\t\tif ( gridId !== 'exceptions' && gridId !== 'timesheet' ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar table = $( $( this.el ).find( 'table[aria-labelledby=gbox_' + gridId + ']' )[0] );\n\t\tvar table_width_target = $( $( this.el ).find( 'table[id=' + gridId + ']' )[0] );\n\n\t\tvar new_tr = $( '<tr>' + '</tr>' );\n\n\t\tvar new_th = $( '<th class=\"group-column-th\">' +\n\t\t\t'<span style=\"font-weight: bold\"></span>' +\n\t\t\t'</th>' );\n\n\t\tswitch ( gridId ) {\n\t\t\tcase 'exceptions':\n\t\t\t\tvar ths = table_width_target.children( 0 ).children( 0 ).children();\n\n\t\t\t\tvar default_th = new_th.clone();\n\t\t\t\tdefault_th.attr( 'colspan', '1' );\n\t\t\t\tdefault_th.width( ths.eq( 0 ).width() );\n\t\t\t\tnew_tr.append( default_th );\n\n\t\t\t\tdefault_th = new_th.clone();\n\t\t\t\tdefault_th.attr( 'colspan', '3' );\n\t\t\t\tdefault_th.width( ths.eq( 1 ).width() * 3 );\n\t\t\t\tnew_tr.append( default_th );\n\n\t\t\t\tdefault_th = new_th.clone();\n\t\t\t\tdefault_th.attr( 'colspan', '4' );\n\t\t\t\tdefault_th.width( ths.eq( 4 ).width() * 4 );\n\n\t\t\t\tdefault_th.children( 0 ).text( $.i18n._( 'Exceptions' ) );\n\n\t\t\t\tbreak;\n\t\t\tcase 'timesheet':\n\t\t\t\tths = table_width_target.children( 0 ).children( 0 ).children();\n\n\t\t\t\tdefault_th = new_th.clone();\n\t\t\t\tdefault_th.attr( 'colspan', '1' );\n\t\t\t\tdefault_th.width( ths.eq( 0 ).width() );\n\t\t\t\tnew_tr.append( default_th );\n\n\t\t\t\tdefault_th = new_th.clone();\n\t\t\t\tdefault_th.attr( 'colspan', '3' );\n\t\t\t\tdefault_th.width( ths.eq( 1 ).width() * 3 );\n\t\t\t\tnew_tr.append( default_th );\n\n\t\t\t\tdefault_th = new_th.clone();\n\n\t\t\t\tdefault_th.attr( 'colspan', '3' );\n\t\t\t\tdefault_th.width( ths.eq( 4 ).width() * 3 );\n\n\t\t\t\tdefault_th.children( 0 ).text( $.i18n._( 'Timesheets' ) );\n\t\t\t\tbreak;\n\t\t}\n\n\t\tnew_tr.append( default_th );\n\t\ttable.find( 'thead' ).prepend( new_tr );\n\t}\n\n\tonNavigationClick( iconName ) {\n\t\tvar $this = this;\n\t\tvar current_step_ui = this.stepsWidgetDic[this.current_step];\n\t\tvar grid;\n\t\tvar ids;\n\t\tvar data_array;\n\t\tvar filter;\n\t\tswitch ( iconName ) {\n\t\t\tcase 'exceptions':\n\t\t\t\tfilter = { filter_data: {} };\n\t\t\t\tgrid = current_step_ui.exceptions;\n\t\t\t\tids = grid.grid.jqGrid( 'getGridParam', 'selarrrow' );\n\n\t\t\t\tvar pay_period_ids = { value: ids };\n\t\t\t\tfilter.filter_data.pay_period_id = pay_period_ids;\n\n\t\t\t\tGlobal.addViewTab( this.wizard_id, $.i18n._( 'Process Payroll' ), window.location.href );\n\t\t\t\tthis.onCloseClick();\n\t\t\t\tIndexViewController.goToView( 'Exception', filter );\n\n\t\t\t\tbreak;\n\t\t\tcase 'request':\n\t\t\t\tGlobal.addViewTab( this.wizard_id, $.i18n._( 'Process Payroll' ), window.location.href );\n\n\t\t\t\tIndexViewController.goToView( 'Request' );\n\n\t\t\t\tthis.onCloseClick();\n\t\t\t\tbreak;\n\t\t\tcase 'timesheet_reports':\n\t\t\t\tGlobal.addViewTab( this.wizard_id, $.i18n._( 'Process Payroll' ), window.location.href );\n\t\t\t\tthis.onCloseClick();\n\n\t\t\t\tLocalCacheData.default_filter_for_next_open_view = { template: 'by_pay_period_by_employee+verified_time_sheet' };\n\n\t\t\t\tIndexViewController.openReport( LocalCacheData.current_open_primary_controller, 'TimesheetSummaryReport' );\n\n\t\t\t\tbreak;\n\t\t\tcase 'lock':\n\t\t\t\tgrid = current_step_ui.lock_pay_period;\n\t\t\t\tids = grid.grid.jqGrid( 'getGridParam', 'selarrrow' );\n\t\t\t\tdata_array = [];\n\t\t\t\tfor ( var i = 0; i < ids.length; i++ ) {\n\t\t\t\t\tvar data = {};\n\t\t\t\t\tdata.id = ids[i];\n\t\t\t\t\tdata.status_id = 12;\n\t\t\t\t\tdata_array.push( data );\n\t\t\t\t}\n\t\t\t\tProgressBar.showOverlay();\n\t\t\t\tthis.api_pay_period.setPayPeriod( data_array, {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tif ( result && result.isValid() ) {\n\t\t\t\t\t\t\t$this.buildCurrentStepData();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tTAlertManager.showErrorAlert( result );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 'unlock':\n\t\t\t\tgrid = current_step_ui.lock_pay_period;\n\t\t\t\tids = grid.grid.jqGrid( 'getGridParam', 'selarrrow' );\n\t\t\t\tdata_array = [];\n\t\t\t\tfor ( var i = 0; i < ids.length; i++ ) {\n\t\t\t\t\tdata = {};\n\t\t\t\t\tdata.id = ids[i];\n\t\t\t\t\tdata.status_id = 10;\n\t\t\t\t\tdata_array.push( data );\n\t\t\t\t}\n\t\t\t\tProgressBar.showOverlay();\n\t\t\t\tthis.api_pay_period.setPayPeriod( data_array, {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tif ( result && result.isValid() ) {\n\t\t\t\t\t\t\t$this.buildCurrentStepData();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tTAlertManager.showErrorAlert( result );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 'pay_stub_amendment':\n\n\t\t\t\tGlobal.addViewTab( this.wizard_id, $.i18n._( 'Process Payroll' ), window.location.href );\n\t\t\t\tthis.onCloseClick();\n\n\t\t\t\tgrid = current_step_ui.pay_stub_amendments;\n\t\t\t\tids = grid.grid.jqGrid( 'getGridParam', 'selarrrow' );\n\t\t\t\tfilter = { filter_data: { pay_period_id: { value: ids } } };\n\t\t\t\tIndexViewController.goToView( 'PayStubAmendment', filter );\n\t\t\t\tbreak;\n\t\t\tcase 'generate_pay_stub':\n\n\t\t\t\tgrid = current_step_ui.pay_stub_generate;\n\t\t\t\tids = grid.grid.jqGrid( 'getGridParam', 'selarrrow' );\n\t\t\t\tProgressBar.showOverlay();\n\n\t\t\t\tTTAPI.APIPayStub.setIsIdempotent( true ); //Force to idempotent API call to avoid duplicate network requests from causing errors displayed to the user.\n\t\t\t\tTTAPI.APIPayStub.generatePayStubs( ids, {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tif ( result && result.isValid() ) {\n\t\t\t\t\t\t\tvar user_generic_status_batch_id = result.getAttributeInAPIDetails( 'user_generic_status_batch_id' );\n\n\t\t\t\t\t\t\tif ( user_generic_status_batch_id && TTUUID.isUUID( user_generic_status_batch_id ) && user_generic_status_batch_id != TTUUID.zero_id && user_generic_status_batch_id != TTUUID.not_exist_id ) {\n\t\t\t\t\t\t\t\tUserGenericStatusWindowController.open( user_generic_status_batch_id, [], function() {\n\t\t\t\t\t\t\t\t\t$this.buildCurrentStepData();\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tTAlertManager.showErrorAlert( result );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\tbreak;\n\t\t\tcase 'pay_stub':\n\n\t\t\t\tGlobal.addViewTab( this.wizard_id, $.i18n._( 'Process Payroll' ), window.location.href );\n\t\t\t\tthis.onCloseClick();\n\n\t\t\t\tif ( this.current_step === 7 ) {\n\t\t\t\t\tgrid = current_step_ui.pay_stub_generate;\n\t\t\t\t} else {\n\t\t\t\t\tgrid = current_step_ui.pay_stub_transfer;\n\t\t\t\t}\n\t\t\t\tids = grid.grid.jqGrid( 'getGridParam', 'selarrrow' );\n\t\t\t\tfilter = { filter_data: { pay_period_id: { value: ids } } };\n\t\t\t\tIndexViewController.goToView( 'PayStub', filter );\n\t\t\t\tbreak;\n\t\t\tcase 'pay_stub_summary':\n\t\t\t\tGlobal.addViewTab( this.wizard_id, $.i18n._( 'Process Payroll' ), window.location.href );\n\t\t\t\tthis.onCloseClick();\n\t\t\t\tIndexViewController.openReport( LocalCacheData.current_open_primary_controller, 'PayStubSummaryReport' );\n\n\t\t\t\tbreak;\n\t\t\tcase 'pay_stub_transaction_summary':\n\t\t\t\tGlobal.addViewTab( this.wizard_id, $.i18n._( 'Process Payroll' ), window.location.href );\n\t\t\t\tthis.onCloseClick();\n\t\t\t\tIndexViewController.openReport( LocalCacheData.current_open_primary_controller, 'PayStubTransactionSummaryReport' );\n\n\t\t\t\tbreak;\n\t\t\tcase 'payroll_export_report':\n\t\t\t\tGlobal.addViewTab( this.wizard_id, $.i18n._( 'Process Payroll' ), window.location.href );\n\t\t\t\tthis.onCloseClick();\n\t\t\t\tIndexViewController.openReport( LocalCacheData.current_open_primary_controller, 'PayrollExportReport' );\n\n\t\t\t\tbreak;\n\t\t\tcase 'close_pay_period':\n\t\t\t\tgrid = current_step_ui.pay_stub_close;\n\t\t\t\tids = grid.grid.jqGrid( 'getGridParam', 'selarrrow' );\n\t\t\t\tdata_array = [];\n\t\t\t\tfor ( var i = 0; i < ids.length; i++ ) {\n\t\t\t\t\tdata = {};\n\t\t\t\t\tdata.id = ids[i];\n\t\t\t\t\tdata.status_id = 20;\n\t\t\t\t\tdata_array.push( data );\n\t\t\t\t}\n\t\t\t\tProgressBar.showOverlay();\n\t\t\t\tthis.api_pay_period.setPayPeriod( data_array, {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tif ( result && result.isValid() ) {\n\t\t\t\t\t\t\t$this.buildCurrentStepData();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tTAlertManager.showErrorAlert( result );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 'authorization_timesheet':\n\t\t\t\tGlobal.addViewTab( this.wizard_id, $.i18n._( 'Process Payroll' ), window.location.href );\n\t\t\t\tIndexViewController.goToView( 'TimeSheetAuthorization' );\n\t\t\t\tthis.onCloseClick();\n\t\t\t\tbreak;\n\n\t\t\t//Process Payments Button Click\n\t\t\tcase 'direct_deposit':\n\t\t\t\tGlobal.addViewTab( this.wizard_id, $.i18n._( 'Process Payroll' ), window.location.href );\n\n\t\t\t\tvar pay_stub_transfer_grid = current_step_ui.pay_stub_transfer;\n\t\t\t\tvar data = {\n\t\t\t\t\ttransaction_source_data: $this.transaction_source_data,\n\t\t\t\t\tfilter_data: {\n\t\t\t\t\t\tpay_period_id: pay_stub_transfer_grid.grid.jqGrid( 'getGridParam', 'selarrrow' )\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tIndexViewController.openWizardController( 'ProcessTransactionsWizardController', data );\n\t\t\t\tthis.onCloseClick();\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tonGridSelectRow( e ) {\n\t\tvar current_step_data = this.stepsDataDic[this.current_step];\n\t\tvar current_step_ui = this.stepsWidgetDic[this.current_step];\n\t\tvar grid;\n\t\tvar ids;\n\n\t\tif ( this.current_step === 5 ) {\n\t\t\tgrid = current_step_ui.lock_pay_period;\n\t\t\tids = grid.grid.jqGrid( 'getGridParam', 'selarrrow' );\n\n\t\t\tif ( ids.length < 1 ) {\n\t\t\t\tcurrent_step_ui.lock.addClass( 'disable-image' );\n\t\t\t\tcurrent_step_ui.unlock.addClass( 'disable-image' );\n\t\t\t} else {\n\t\t\t\tcurrent_step_ui.lock.removeClass( 'disable-image' );\n\t\t\t\tcurrent_step_ui.unlock.removeClass( 'disable-image' );\n\t\t\t}\n\n\t\t} else if ( this.current_step === 7 ) {\n\t\t\tgrid = current_step_ui.pay_stub_generate;\n\t\t\tids = grid.grid.jqGrid( 'getGridParam', 'selarrrow' );\n\t\t\tif ( ids.length < 1 ) {\n\t\t\t\tcurrent_step_ui.generate_pay_stub.addClass( 'disable-image' );\n\t\t\t} else {\n\t\t\t\tcurrent_step_ui.generate_pay_stub.removeClass( 'disable-image' );\n\t\t\t}\n\t\t} else if ( this.current_step === 8 ) {\n\t\t\tvar pay_stub_transfer_grid = current_step_ui.pay_stub_transfer;\n\t\t\tvar pay_stub_transaction_grid = current_step_ui.pay_stub_transaction;\n\n\t\t\tvar pay_period_ids = pay_stub_transfer_grid.grid.jqGrid( 'getGridParam', 'selarrrow' );\n\t\t\tif ( pay_period_ids.length < 1 ) {\n\t\t\t\tthis.content_div.find( '#directDepositIcon' ).addClass( 'disable-image' );\n\n\t\t\t\tvar grid = current_step_ui.pay_stub_transaction;\n\t\t\t\tgrid.grid.trigger( 'reloadGrid' );\n\t\t\t\tthis.setGridAutoHeight( grid, this.transaction_source_data.length );\n\t\t\t\tthis.showNoResultCover( grid.grid.parents( '.grid-div' ) );\n\t\t\t\tpay_stub_transaction_grid.grid.show();\n\n\t\t\t} else {\n\t\t\t\tthis.content_div.find( '#directDepositIcon' ).removeClass( 'disable-image' );\n\t\t\t\tvar $this = this;\n\t\t\t\tvar grid = current_step_ui.pay_stub_transaction;\n\n\t\t\t\t// A similar call to this api function is in the Process Transactions Popup\n\t\t\t\tthis.api_pay_stub_transaction.getPayPeriodTransactionSummary( { pay_period_id: pay_period_ids }, {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\t$this.transaction_source_data = result.getResult();\n\t\t\t\t\t\tif ( $this.transaction_source_data.length > 0 ) {\n\t\t\t\t\t\t\t$this.removeNoResultCover( grid.grid.parents( '.grid-div' ) );\n\n\t\t\t\t\t\t\tgrid.setData( $this.transaction_source_data );\n\t\t\t\t\t\t\t$this.setGridAutoHeight( grid, $this.transaction_source_data.length );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$this.showNoResultCover( grid );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tpay_stub_transaction_grid.grid.show();\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\n\t\t} else if ( this.current_step === 9 ) {\n\t\t\tgrid = current_step_ui.pay_stub_close;\n\t\t\tids = grid.grid.jqGrid( 'getGridParam', 'selarrrow' );\n\t\t\tif ( ids.length < 1 ) {\n\t\t\t\tcurrent_step_ui.close.addClass( 'disable-image' );\n\t\t\t} else {\n\t\t\t\tcurrent_step_ui.close.removeClass( 'disable-image' );\n\t\t\t}\n\n\t\t}\n\t}\n\n\tsetGridAutoHeight( grid, length ) {\n\t\tif ( length > 0 && length < 10 ) {\n\t\t\tgrid.grid.setGridHeight( length * 23 );\n\t\t} else if ( length > 10 ) {\n\t\t\tgrid.grid.setGridHeight( 230 );\n\t\t}\n\t}\n\n\tbuildCurrentStepData() {\n\n\t\tif ( !this.stepsDataDic[1] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar pay_period_id = this.stepsDataDic[1].pay_period_id;\n\n\t\tif ( !pay_period_id || pay_period_id.length == 0 ) {\n\t\t\tpay_period_id = [0];\n\t\t}\n\t\tvar args = {};\n\t\tvar grid;\n\t\tvar $this = this;\n\t\tvar source_data;\n\n\t\tvar current_step_ui = this.stepsWidgetDic[this.current_step];\n\n\t\tswitch ( this.current_step ) {\n\t\t\tcase 2:\n\t\t\t\targs.filter_columns = {};\n\t\t\t\targs.filter_columns.id = true;\n\t\t\t\targs.filter_columns.start_date = true;\n\t\t\t\targs.filter_columns.end_date = true;\n\t\t\t\targs.filter_columns.transaction_date = true;\n\t\t\t\targs.filter_columns.pending_requests = true;\n\t\t\t\targs.filter_data = {};\n\t\t\t\targs.filter_data.id = pay_period_id;\n\n\t\t\t\tthis.api_pay_period.getPayPeriod( args, true, {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tsource_data = result.getResult();\n\t\t\t\t\t\tgrid = current_step_ui.pending_request;\n\t\t\t\t\t\tgrid.setData( source_data );\n\n\t\t\t\t\t\t$this.setGridSelection( grid, source_data );\n\n\t\t\t\t\t\t$this.setGridAutoHeight( grid, source_data.length );\n\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\targs.filter_columns = {};\n\t\t\t\targs.filter_columns.id = true;\n\t\t\t\targs.filter_columns.start_date = true;\n\t\t\t\targs.filter_columns.end_date = true;\n\t\t\t\targs.filter_columns.transaction_date = true;\n\t\t\t\targs.filter_columns.exceptions_high = true;\n\t\t\t\targs.filter_columns.exceptions_medium = true;\n\t\t\t\targs.filter_columns.exceptions_low = true;\n\t\t\t\targs.filter_columns.exceptions_critical = true;\n\t\t\t\targs.filter_data = {};\n\t\t\t\targs.filter_data.id = pay_period_id;\n\n\t\t\t\tthis.api_pay_period.getPayPeriod( args, true, {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tsource_data = result.getResult();\n\t\t\t\t\t\tgrid = current_step_ui.exceptions;\n\t\t\t\t\t\tgrid.setData( source_data );\n\n\t\t\t\t\t\t$this.setGridSelection( grid, source_data );\n\t\t\t\t\t\t$this.setGridAutoHeight( grid, source_data.length );\n\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\targs.filter_columns = {};\n\t\t\t\targs.filter_columns.id = true;\n\t\t\t\targs.filter_columns.start_date = true;\n\t\t\t\targs.filter_columns.end_date = true;\n\t\t\t\targs.filter_columns.transaction_date = true;\n\t\t\t\targs.filter_columns.verified_timesheets = true;\n\t\t\t\targs.filter_columns.pending_timesheets = true;\n\t\t\t\targs.filter_columns.total_timesheets = true;\n\t\t\t\targs.filter_data = {};\n\t\t\t\targs.filter_data.id = pay_period_id;\n\n\t\t\t\tthis.api_pay_period.getPayPeriod( args, true, {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tsource_data = result.getResult();\n\t\t\t\t\t\tgrid = current_step_ui.timesheet;\n\t\t\t\t\t\tgrid.setData( source_data );\n\n\t\t\t\t\t\t$this.setGridSelection( grid, source_data );\n\n\t\t\t\t\t\t$this.setGridAutoHeight( grid, source_data.length );\n\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 5:\n\t\t\t\targs.filter_columns = {};\n\t\t\t\targs.filter_columns.id = true;\n\t\t\t\targs.filter_columns.start_date = true;\n\t\t\t\targs.filter_columns.end_date = true;\n\t\t\t\targs.filter_columns.transaction_date = true;\n\t\t\t\targs.filter_columns.status = true;\n\t\t\t\targs.filter_data = {};\n\t\t\t\targs.filter_data.id = pay_period_id;\n\n\t\t\t\tthis.api_pay_period.getPayPeriod( args, true, {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tsource_data = result.getResult();\n\t\t\t\t\t\tgrid = current_step_ui.lock_pay_period;\n\t\t\t\t\t\tgrid.setData( source_data );\n\t\t\t\t\t\t$this.setGridSelection( grid, source_data );\n\n\t\t\t\t\t\t$this.setGridAutoHeight( grid, source_data.length );\n\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 6:\n\t\t\t\targs.filter_columns = {};\n\t\t\t\targs.filter_columns.id = true;\n\t\t\t\targs.filter_columns.start_date = true;\n\t\t\t\targs.filter_columns.end_date = true;\n\t\t\t\targs.filter_columns.transaction_date = true;\n\t\t\t\targs.filter_columns.ps_amendments = true;\n\t\t\t\targs.filter_data = {};\n\t\t\t\targs.filter_data.id = pay_period_id;\n\n\t\t\t\tthis.api_pay_period.getPayPeriod( args, true, {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tsource_data = result.getResult();\n\t\t\t\t\t\tgrid = current_step_ui.pay_stub_amendments;\n\t\t\t\t\t\tgrid.setData( source_data );\n\n\t\t\t\t\t\t$this.setGridSelection( grid, source_data );\n\t\t\t\t\t\t$this.setGridAutoHeight( grid, source_data.length );\n\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 7:\n\t\t\t\targs.filter_columns = {};\n\t\t\t\targs.filter_columns.id = true;\n\t\t\t\targs.filter_columns.start_date = true;\n\t\t\t\targs.filter_columns.end_date = true;\n\t\t\t\targs.filter_columns.transaction_date = true;\n\t\t\t\targs.filter_columns.pay_stubs_open = true;\n\t\t\t\targs.filter_data = {};\n\t\t\t\targs.filter_data.id = pay_period_id;\n\n\t\t\t\tthis.api_pay_period.getPayPeriod( args, true, {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tsource_data = result.getResult();\n\t\t\t\t\t\tgrid = current_step_ui.pay_stub_generate;\n\t\t\t\t\t\tgrid.setData( source_data );\n\n\t\t\t\t\t\t$this.setGridSelection( grid, source_data );\n\t\t\t\t\t\t$this.setGridAutoHeight( grid, source_data.length );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 8:\n\t\t\t\targs.filter_columns = {};\n\t\t\t\targs.filter_columns.id = true;\n\t\t\t\targs.filter_columns.start_date = true;\n\t\t\t\targs.filter_columns.end_date = true;\n\t\t\t\targs.filter_columns.transaction_date = true;\n\t\t\t\targs.filter_columns.pay_stubs_open = true;\n\t\t\t\targs.filter_data = {};\n\t\t\t\targs.filter_data.id = pay_period_id;\n\n\t\t\t\t//this if statement is only used for step 8 to prevent populating the transactions grid\n\t\t\t\tif ( TTUUID.isUUID( pay_period_id ) && pay_period_id != TTUUID.zero_id ) {\n\t\t\t\t\tthis.api_pay_period.getPayPeriod( args, true, {\n\t\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\t\tsource_data = result.getResult();\n\t\t\t\t\t\t\tgrid = current_step_ui.pay_stub_transfer;\n\t\t\t\t\t\t\tgrid.setData( source_data );\n\n\t\t\t\t\t\t\t$this.setGridSelection( grid, source_data );\n\t\t\t\t\t\t\t$this.setGridAutoHeight( grid, source_data.length );\n\n\t\t\t\t\t\t\tvar pay_period_ids = [];\n\t\t\t\t\t\t\tfor ( var i in source_data ) {\n\t\t\t\t\t\t\t\tpay_period_ids.push( source_data[i].id );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t$this.api_pay_stub_transaction.getPayPeriodTransactionSummary( { pay_period_id: pay_period_ids }, {\n\t\t\t\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\t\t\t\t$this.transaction_source_data = result.getResult();\n\t\t\t\t\t\t\t\t\tgrid = current_step_ui.pay_stub_transaction;\n\t\t\t\t\t\t\t\t\tif ( typeof $this.transaction_source_data == 'object' && $this.transaction_source_data.length > 0 ) {\n\t\t\t\t\t\t\t\t\t\tgrid.setData( $this.transaction_source_data );\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tgrid.setData( [] );\n\t\t\t\t\t\t\t\t\t\t$this.showNoResultCover( grid.grid.parents( '.grid-div' ) );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t$this.setGridAutoHeight( grid, $this.transaction_source_data.length );\n\t\t\t\t\t\t\t\t\tgrid.grid.find( '.cbox' ).prop( 'checked', true );\n\n\t\t\t\t\t\t\t\t\tTTPromise.resolve( 'wizard', 'step8' );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase 9:\n\t\t\t\targs.filter_columns = {};\n\t\t\t\targs.filter_columns.id = true;\n\t\t\t\targs.filter_columns.status = true;\n\t\t\t\targs.filter_columns.start_date = true;\n\t\t\t\targs.filter_columns.end_date = true;\n\t\t\t\targs.filter_columns.transaction_date = true;\n\t\t\t\targs.filter_columns.pay_stubs_open = true;\n\t\t\t\targs.filter_data = {};\n\t\t\t\targs.filter_data.id = pay_period_id;\n\n\t\t\t\tthis.api_pay_period.getPayPeriod( args, true, {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tsource_data = result.getResult();\n\t\t\t\t\t\tgrid = current_step_ui.pay_stub_close;\n\t\t\t\t\t\tgrid.setData( source_data );\n\n\t\t\t\t\t\t$this.setGridSelection( grid, source_data );\n\t\t\t\t\t\t$this.setGridAutoHeight( grid, source_data.length );\n\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\n\t\t}\n\t}\n\n\tsetCurrentStepValues() {\n\n\t\tif ( !this.stepsDataDic[this.current_step] ) {\n\t\t\tif ( this.current_step === 1 ) {\n\t\t\t\tthis.setLastPayPeriod();\n\t\t\t}\n\t\t\treturn;\n\t\t} else {\n\t\t\tvar current_step_data = this.stepsDataDic[this.current_step];\n\t\t\tvar current_step_ui = this.stepsWidgetDic[this.current_step];\n\t\t}\n\n\t\tswitch ( this.current_step ) {\n\t\t\tcase 1:\n\t\t\t\tif ( current_step_data.pay_period_id ) {\n\t\t\t\t\tif ( current_step_data.pay_period_id === TTUUID.zero_id || current_step_data.pay_period_id[0] === TTUUID.zero_id ) {\n\t\t\t\t\t\tthis.setLastPayPeriod();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcurrent_step_ui.pay_period_id.setValue( current_step_data.pay_period_id );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tsetGridSelection( grid, source_data ) {\n\t\tif ( source_data ) {\n\t\t\tfor ( var i = 0; i < source_data.length; i++ ) {\n\t\t\t\tvar content = source_data[i];\n\t\t\t\tgrid.grid.jqGrid( 'setSelection', content['id'], false );\n\t\t\t}\n\t\t}\n\t}\n\n\tsetLastPayPeriod() {\n\t\tvar $this = this;\n\t\tthis.api_pay_period.getLastPayPeriod( {\n\t\t\tonResult: function( result ) {\n\t\t\t\tvar result_data = result.getResult();\n\n\t\t\t\tif ( result_data && result_data[0] && result_data[0].id ) {\n\t\t\t\t\t$this.stepsWidgetDic[1].pay_period_id.setValue( result_data );\n\t\t\t\t} else {\n\t\t\t\t\t$this.stepsWidgetDic[1].pay_period_id.setValue( TTUUID.zero_id );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t}\n\n\tsaveCurrentStep() {\n\t\tthis.stepsDataDic[this.current_step] = {};\n\t\tvar current_step_data = this.stepsDataDic[this.current_step];\n\t\tvar current_step_ui = this.stepsWidgetDic[this.current_step];\n\t\t//Error: TypeError: current_step_ui is undefined in /interface/html5/framework/jquery.min.js?v=8.0.0-20150126-115958 line 2 > eval line 989\n\t\tif ( !current_step_ui ) {\n\t\t\treturn;\n\t\t}\n\t\tswitch ( this.current_step ) {\n\t\t\tcase 1:\n\t\t\t\tcurrent_step_data.pay_period_id = current_step_ui.pay_period_id.getValue();\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tsetDefaultDataToSteps() {\n\n\t\tif ( !this.default_data ) {\n\t\t\treturn null;\n\t\t}\n\n//\t\t  this.stepsDataDic[2] = {};\n//\t\t  this.stepsDataDic[3] = {};\n//\n//\t\t  if ( this.getDefaultData( 'user_id' ) ) {\n//\t\t\t  this.stepsDataDic[3].user_id = this.getDefaultData( 'user_id' );\n//\t\t  }\n//\n//\t\t  if ( this.getDefaultData( 'pay_period_id' ) ) {\n//\t\t\t  this.stepsDataDic[2].pay_period_id = this.getDefaultData( 'pay_period_id' );\n//\t\t  }\n\t}\n\n}"],"names":["ProcessPayrollWizardController","options","_","$","$this","label","a_combobox","div","grid_id","grid_div","ribbon_button_box","request_button","ribbon_btn","ribbon_btn2","ribbon_btn3","ribbon_btn1","current_step_ui","pay_period_id","wizard","gridId","callBack","result","result_data","column_info_array","x","column_data","column_info","doNext","len","i","grid","table","table_width_target","new_tr","new_th","ths","default_th","iconName","ids","data_array","filter","pay_period_ids","data","user_generic_status_batch_id","pay_stub_transfer_grid","e","pay_stub_transaction_grid","length","args","source_data","current_step_data","content"],"mappings":"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"}