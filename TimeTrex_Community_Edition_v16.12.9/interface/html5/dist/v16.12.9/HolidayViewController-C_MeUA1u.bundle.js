import{_ as s,j as l}from"./vendor-tTApdY0Y.bundle.js";class _ extends BaseViewController{constructor(i={}){s.defaults(i,{el:"#holiday_view_container"}),super(i)}init(i){this.edit_view_tpl="HolidayEditView.html",this.permission_id="holiday_policy",this.viewId="Holiday",this.script_name="HolidayView",this.table_name_key="holidays",this.context_menu_name=l.i18n._("Holiday"),this.navigation_label=l.i18n._("Holiday"),this.api=TTAPI.APIHoliday,this.event_bus=new TTEventBus({view_id:this.viewId}),this.render(),this.sub_view_mode?this.buildContextMenu(!0):this.buildContextMenu(),this.sub_view_mode||this.initData()}getCustomContextMenuModel(){var i={exclude:["mass_edit"],include:[]};return i}buildEditViewUI(){super.buildEditViewUI();var i={tab_holiday:{label:l.i18n._("Holiday")},tab_audit:!0};this.setTabModel(i),this.navigation.AComboBox({api_class:TTAPI.APIHoliday,id:this.script_name+"_navigation",allow_multiple_selection:!1,layout_name:"global_holiday_holoday",navigation_mode:!0,show_search_inputs:!0}),this.setNavigation();var e=this.edit_view_tab.find("#tab_holiday"),a=e.find(".first-column");this.edit_view_tabs[0]=[],this.edit_view_tabs[0].push(a);var t=Global.loadWidgetByName(FormItemType.TEXT_INPUT);t.TTextInput({field:"name",width:"100%"}),this.addEditFieldToColumn(l.i18n._("Name"),t,a,""),t.parent().width("45%"),t=Global.loadWidgetByName(FormItemType.DATE_PICKER),t.TDatePicker({field:"date_stamp"}),this.addEditFieldToColumn(l.i18n._("Date"),t,a,"")}onSaveResult(i){if(super.onSaveResult(i),i&&i.isValid()){var e=i.getAttributeInAPIDetails("system_job_queue");e&&this.event_bus.emit("tt_topbar","toggle_job_queue_spinner",{show:!0,get_job_data:!0})}}}_.loadSubView=function(o,i,e){Global.loadViewSource("Holiday","SubHolidayView.html",function(a){var t={},d=s.template(a);Global.isSet(i)&&i(),Global.isSet(o)&&(o.html(d(t)),Global.isSet(e)&&TTPromise.wait("BaseViewController","initialize",function(){e(sub_holiday_view_controller)}))})};export{_ as HolidayViewController};
//# sourceMappingURL=HolidayViewController-C_MeUA1u.bundle.js.map
