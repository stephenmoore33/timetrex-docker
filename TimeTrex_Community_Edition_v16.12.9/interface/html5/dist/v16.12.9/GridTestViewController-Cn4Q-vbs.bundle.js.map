{"version":3,"file":"GridTestViewController-Cn4Q-vbs.bundle.js","sources":["../../views/developer_tools/GridTestViewController.js"],"sourcesContent":["import '@/global/widgets/filebrowser/TImage';\nimport '@/global/widgets/filebrowser/TImageAdvBrowser';\n\nexport class GridTestViewController extends BaseViewController {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {\n\t\t\tel: '#grid_test_view_container',\n\n\t\t\t// _required_files: ['TImage', 'TImageAdvBrowser'],\n\n\t\t\tuser_api: null,\n\t\t\tuser_group_api: null,\n\t\t\tcompany_api: null,\n\t\t\tuser_id_array: null,\n\t\t\tgrid_container_id: null\n\t\t} );\n\n\t\tsuper( options );\n\t}\n\n\tinit( options ) {\n\t\tthis.edit_view_tpl = 'GridTestEditView.html';\n\t\tthis.permission_id = 'user';\n\t\tthis.viewId = 'GridTest';\n\t\tthis.script_name = 'GridTestView';\n\t\tthis.table_name_key = 'grid_test';\n\t\tthis.context_menu_name = $.i18n._( 'Grid Test' );\n\t\tthis.navigation_label = $.i18n._( 'AwesomBox Test' );\n\t\tthis.api = TTAPI.APIUser;\n\t\tthis.select_company_id = LocalCacheData.getCurrentCompany().id;\n\t\tthis.user_group_api = TTAPI.APIUserGroup;\n\t\tthis.company_api = TTAPI.APICompany;\n\t\tthis.user_id_array = [];\n\n\t\tthis.edit_view_grid_array = [];\n\n\t\tthis.grid_container_id = TTUUID.generateUUID();\n\t\tthis.render();\n\t\tthis.buildContextMenu();\n\t\tthis.initData();\n\t}\n\n\tsetCurrentEditRecordData() {\n\t\tthis.collectUIDataToCurrentEditRecord();\n\t\tthis.setEditViewDataDone();\n\t}\n\n\tclearEditViewData() {\n\t\treturn false;\n\t}\n\n\tbuildEditViewUI() {\n\t\tvar $this = this;\n\n\t\tif( ContextMenuManager.getMenu( this.determineContextMenuMountAttributes().id ) === undefined ) {\n\t\t\tthis.buildContextMenu();\n\t\t} else {\n\t\t\tDebug.Warn( 'Context Menu ('+ this.determineContextMenuMountAttributes().id +') already exists for: '+ this.viewId, 'AwesomeBoxTestView.js', 'AwesomeBoxTestView', 'buildEditViewUI', 10 );\n\t\t}\n\n\t\tvar tab_model = {\n\t\t\t'tab_employee': { 'label': $.i18n._( 'AWESOMEBOX TESTING VIEW' ) },\n\t\t};\n\t\tthis.setTabModel( tab_model );\n\n\t\t//Tab 0 start\n\n\t\tvar tab_employee = this.edit_view_tab.find( '#tab_employee' );\n\n\t\tvar tab_employee_column1 = tab_employee.find( '.first-column' );\n\n\t\tthis.edit_view_tabs[0] = [];\n\t\tthis.edit_view_tabs[0].push( tab_employee_column1 );\n\n\t\tvar $div_grid_container = $( '<div id=\"' + this.grid_container_id + '\">' );\n\t\ttab_employee_column1.append( $div_grid_container );\n\n\t\t/** build the test grids **/\n\t\tvar $grid = this.addGrid( 1 );\n\t\t$div_grid_container.append( $grid );\n\t\t$grid.setData( this.getFakeData( 1 ) );\n\n\t\tvar column_header_text_array = [\n\t\t\t'column name',\n\t\t\t'column name2',\n\t\t\t'column name3',\n\t\t\t'column name4',\n\t\t\t'column name5',\n\t\t\t'column name6'\n\t\t];\n\t\tvar $grid = this.addGrid( 6, column_header_text_array );\n\t\t$div_grid_container.append( $grid );\n\t\t$grid.setData( this.getFakeData( 6, true ) );\n\n\t\tvar $grid = this.addGrid( 12 );\n\t\t$div_grid_container.append( $grid );\n\t\t$grid.setData( this.getFakeData( 12 ) );\n\n\t\tvar $grid = this.addGrid( 40 );\n\t\t$div_grid_container.append( $grid );\n\t\t$grid.setData( this.getFakeData( 40 ) );\n\n\t\tfor ( var i = 0; i < this.edit_view_grid_array.length; i++ ) {\n\t\t\tthis.edit_view_grid_array[i].setGridColumnsWidth();\n\t\t}\n\n\t\tTTPromise.resolve( 'Gridtest', 'init' );\n\t}\n\n\tgetGridSetup() {\n\t\tvar setup = {\n\t\t\tcontainer_selector: '.edit-view-tab',\n\t\t\tsub_grid_mode: true,\n\t\t\tonResizeGrid: true,\n\t\t\tonSelectRow: function() {\n\t\t\t},\n\t\t\tonCellSelect: function() {\n\t\t\t},\n\t\t\tonSelectAll: function() {\n\t\t\t},\n\t\t\tondblClickRow: function( e ) {\n\t\t\t},\n\t\t\tonRightClickRow: function( rowId ) {\n\t\t\t},\n\t\t\theight: 200\n\t\t};\n\t\treturn setup;\n\t}\n\n\taddGrid( column_count, column_header_text_array ) {\n\t\tvar container_selector = 'test_grid_' + column_count;\n\t\t$( '#' + this.grid_container_id ).append( $( '<table id=\"' + container_selector + '\" >' ) );\n\n\t\tvar column_info_array = [];\n\t\tfor ( var n = 0; n < column_count; n++ ) {\n\t\t\tvar letter = ( n + 10 ).toString( 36 );\n\t\t\tvar text = 'Column ' + letter;\n\t\t\tif ( column_header_text_array ) {\n\t\t\t\ttext = column_header_text_array[n];\n\t\t\t}\n\t\t\tcolumn_info_array.push( {\n\t\t\t\tname: letter,\n\t\t\t\tindex: letter,\n\t\t\t\tlabel: text,\n\t\t\t\twidth: 100,\n\t\t\t\tsortable: false,\n\t\t\t\ttitle: false\n\t\t\t} );\n\t\t}\n\n\t\tvar $grid = new TTGrid( container_selector, this.getGridSetup(), column_info_array );\n\t\tthis.edit_view_grid_array.push( $grid );\n\t\treturn $grid;\n\t}\n\n\tgetFakeData( column_count, randomize ) {\n\t\tvar data = [];\n\t\tfor ( var n = 0; n < 4; n++ ) {\n\t\t\tvar data_element = {};\n\t\t\tfor ( var m = 0; m < column_count; m++ ) {\n\t\t\t\tvar letter = ( m + 10 ).toString( 36 );\n\t\t\t\tif ( randomize ) {\n\t\t\t\t\tdata_element[letter] = TTUUID.generateUUID();\n\t\t\t\t} else {\n\t\t\t\t\tdata_element[letter] = 'content';\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tdata.push( data_element );\n\t\t}\n\t\treturn data;\n\t}\n\n\tbuildSearchFields() {\n\t\tsuper.buildSearchFields();\n\t\tthis.search_fields = [];\n\t}\n\n\tgetCustomContextMenuModel() {\n\t\tvar context_menu_model = {\n\t\t\texclude: ['default'],\n\t\t\tinclude: [\n\t\t\t\t'edit',\n\t\t\t\t'cancel'\n\t\t\t]\n\t\t};\n\n\t\treturn context_menu_model;\n\t}\n\n\t//override that forces same data to grid at all times.\n\tsearch() {\n\t\tvar result_data = JSON.parse( '[{\"id\":\"11e85213-a799-d200-b041-123456abcdef\",\"status\":\"Active\",\"employee_number\":100,\"first_name\":\"Mr.\",\"last_name\":\"FAKE\",\"full_name\":\"Administrator, Mr.\",\"home_phone\":\"471-438-3900\",\"is_owner\":true,\"is_child\":false},' +\n\t\t\t'{\"id\":\"11e85213-ad34-e0e0-8541-123456abcdef\",\"status\":\"Active\",\"employee_number\":13,\"first_name\":\"Tristen\",\"last_name\":\"Braun\",\"full_name\":\"FAKE Braun, Tristen\",\"home_phone\":\"527-500-4852\",\"is_owner\":false,\"is_child\":true},' +\n\t\t\t'{\"id\":\"11e85213-af64-d0e0-9b00-123456abcdef\",\"status\":\"Active\",\"employee_number\":20,\"first_name\":\"Jane\",\"last_name\":\"Doe\",\"full_name\":\"FAKE Doe, Jane\",\"home_phone\":\"477-443-9650\",\"is_owner\":false,\"is_child\":true},' +\n\t\t\t'{\"id\":\"11e85213-ac44-1830-9908-123456abcdef\",\"status\":\"Active\",\"employee_number\":10,\"first_name\":\"John\",\"last_name\":\"Doe\",\"full_name\":\"FAKE Doe, John\",\"home_phone\":\"464-547-9452\",\"is_owner\":false,\"is_child\":true}]' );\n\t\tthis.user_id_array = result_data;\n\t\tresult_data = this.processResultData( result_data );\n\t\tthis.grid.setData( result_data );\n\t\tthis.grid.setGridColumnsWidth();\n\t\tthis.current_edit_record = result_data[0];\n\t\tthis.setCurrentEditViewState( 'edit' );\n\n\t\tTTPromise.add( 'Gridtest', 'init' );\n\t\tvar $this = this;\n\t\tTTPromise.wait( 'Gridtest', 'init', function() {\n\t\t\t$this.initEditView();\n\t\t} );\n\n\t\tthis.initEditViewUI( this.viewId, this.edit_view_tpl );\n\t}\n\n\tsetEditViewDataDone() {\n\t\tvar $this = this;\n\t\tsetTimeout( function() {\n\t\t\t$this.setTabOVisibility( true );\n\t\t\t$( '.edit-view-tab-bar' ).css( 'opacity', 1 );\n\t\t}, 2500 );\n\t}\n\n}\n"],"names":["GridTestViewController","options","_","$","tab_model","tab_employee","tab_employee_column1","$div_grid_container","$grid","column_header_text_array","i","setup","e","rowId","column_count","container_selector","column_info_array","n","letter","text","randomize","data","data_element","m","context_menu_model","result_data","$this"],"mappings":"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"}