import{_ as u,j as s}from"./vendor-tTApdY0Y.bundle.js";class l extends RequestViewCommonController{constructor(e={}){u.defaults(e,{el:"#request_authorization_view_container",type_array:null,overlap_type_array:null,hierarchy_level_array:null,messages:null,authorization_api:null,api_request:null,api_absence_policy:null,message_control_api:null,schedule_api:null,punch_tag_api:null,default_punch_tag:[],previous_punch_tag_selection:[],authorization_history_columns:[],authorization_history_default_display_columns:[],authorization_history_grid:null,pre_request_schedule:!0,overlapping_shift_data:{}}),super(e)}init(e){this.edit_view_tpl="RequestAuthorizationEditView.html",this.permission_id="request",this.viewId="RequestAuthorization",this.script_name="RequestAuthorizationView",this.table_name_key="request",this.context_menu_name=s.i18n._("Request (Authorizations)"),this.navigation_label=s.i18n._("Requests"),this.api=TTAPI.APIRequest,this.authorization_api=TTAPI.APIAuthorization,this.api_request=TTAPI.APIRequest,this.api_absence_policy=TTAPI.APIAbsencePolicy,this.message_control_api=TTAPI.APIMessageControl,Global.getProductEdition()>=15&&(this.schedule_api=TTAPI.APISchedule),Global.getProductEdition()>=20&&(this.job_api=TTAPI.APIJob,this.job_item_api=TTAPI.APIJobItem,this.punch_tag_api=TTAPI.APIPunchTag),this.message_control_api=TTAPI.APIMessageControl,this.event_bus=new TTEventBus({view_id:this.viewId}),this.initPermission(),this.render(),this.buildContextMenu(!0),this.initData()}initOptions(){var e=this,t=[{option_name:"type",api:this.api}];Global.getProductEdition()>=15&&t.push({option_name:"overlap_type",api:TTAPI.APIRequestSchedule}),this.initDropDownOptions(t);var i=this.api.getHierarchyLevelOptions([-1],{async:!1});if(i&&i.isValid()){var a=i.getResult();e.hierarchy_level_array=Global.buildRecordArray(a),Global.isSet(e.basic_search_field_ui_dic.hierarchy_level)&&e.basic_search_field_ui_dic.hierarchy_level.setSourceData(Global.buildRecordArray(a))}}initPermission(){super.initPermission(),this.jobUIValidate()?this.show_job_ui=!0:this.show_job_ui=!1,this.jobItemUIValidate()?this.show_job_item_ui=!0:this.show_job_item_ui=!1,this.punchTagUIValidate()?this.show_punch_tag_ui=!0:this.show_punch_tag_ui=!1,this.branchUIValidate()?this.show_branch_ui=!0:this.show_branch_ui=!1,this.departmentUIValidate()?this.show_department_ui=!0:this.show_department_ui=!1;var e=TTAPI.APICompany;if(e&&u.isFunction(e.isBranchAndDepartmentAndJobAndJobItemAndPunchTagEnabled))var t=e.isBranchAndDepartmentAndJobAndJobItemAndPunchTagEnabled({async:!1});t?(t=t.getResult(),t.branch||(this.show_branch_ui=!1),t.department||(this.show_department_ui=!1),t.job||(this.show_job_ui=!1),t.job_item||(this.show_job_item_ui=!1),t.punch_tag||(this.show_punch_tag_ui=!1)):(this.show_branch_ui=!1,this.show_department_ui=!1,this.show_job_ui=!1,this.show_job_item_ui=!1,this.show_punch_tag_ui=!1)}getCustomContextMenuModel(){var e={groups:{action:{label:s.i18n._("Action"),id:this.script_name+"action"},authorization:{label:s.i18n._("Authorization"),id:this.script_name+"authorization"},objects:{label:s.i18n._("Objects"),id:this.script_name+"objects"}},exclude:["default"],include:[{label:s.i18n._("View"),id:"view",group:"action",vue_icon:"tticon tticon-visibility_black_24dp",show_on_right_click:!0,sort_order:1011},{label:s.i18n._("Reply"),id:"edit",group:"action",vue_icon:"tticon tticon-reply_black_24dp",sort_order:1021},{label:s.i18n._("Send"),id:"send",group:"action",vue_icon:"tticon tticon-send_black_24dp",sort_order:1031},{label:s.i18n._("Cancel"),id:"cancel",group:"action",sort_order:1131},{label:s.i18n._("Authorize"),id:"authorization",vue_icon:"tticon tticon-thumb_up_black_24dp",menu_align:"center"},{label:s.i18n._("Pass"),id:"pass",vue_icon:"tticon tticon-redo_black_24dp",menu_align:"center"},{label:s.i18n._("Decline"),id:"decline",vue_icon:"tticon tticon-thumb_down_black_24dp",menu_align:"center"},{label:s.i18n._("Jump To"),id:"jump_to_header",menu_align:"right",action_group:"jump_to",action_group_header:!0,permission_result:!1},{label:s.i18n._("TimeSheet"),id:"timesheet",menu_align:"right",action_group:"jump_to",group:"navigation"},{label:s.i18n._("Schedule"),id:"schedule",menu_align:"right",action_group:"jump_to",group:"navigation"},{label:s.i18n._("Export"),id:"export_excel",group:"other",vue_icon:"tticon tticon-file_upload_black_24dp",menu_align:"right"},{label:s.i18n._("Edit Employee"),id:"edit_employee",menu_align:"right",action_group:"jump_to",group:"navigation"}]};return e}setCustomDefaultMenuIcon(e,t,i){switch(e){case"send":this.setDefaultMenuSaveIcon(t,i);break;case"authorization":this.setDefaultMenuAuthorizationIcon(t,i);break;case"pass":this.setDefaultMenuPassIcon(t,i);break;case"decline":this.setDefaultMenuDeclineIcon(t,i);break;case"authorization_request":this.setDefaultMenuAuthorizationRequestIcon(t,i);break;case"authorization_timesheet":this.setDefaultMenuAuthorizationTimesheetIcon(t,i);break;case"timesheet":this.setDefaultMenuViewIcon(t,i,"punch");break;case"schedule":this.setDefaultMenuViewIcon(t,i,"schedule");break;case"edit_employee":this.setDefaultMenuEditEmployeeIcon(t,i);break;case"authorization_expense":this.setDefaultMenuAuthorizationExpenseIcon(t,i);break}}setDefaultMenuAuthorizationExpenseIcon(e,t){Global.getProductEdition()>=25||ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1),ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!0)}setCustomEditMenuIcon(e,t){switch(e){case"send":this.setEditMenuSaveIcon(t);break;case"authorization":this.setEditMenuAuthorizationIcon(t);break;case"pass":this.setEditMenuPassIcon(t);break;case"decline":this.setEditMenuDeclineIcon(t);break;case"authorization_request":this.setEditMenuAuthorizationRequestIcon(t);break;case"authorization_timesheet":this.setEditMenuAuthorizationTimesheetIcon(t);break;case"timesheet":this.setEditMenuNavViewIcon(t,"punch");break;case"schedule":this.setEditMenuNavViewIcon(t,"schedule");break;case"edit_employee":this.setEditMenuNavEditIcon(t,"user");break;case"authorization_expense":this.setEditMenuAuthorizationExpenseIcon(t);break}}setEditMenuAuthorizationExpenseIcon(e){!this.current_edit_record||!this.current_edit_record.id?ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1):ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!0)}onCustomContextClick(e){switch(e){case"send":this.onSaveClick();break;case"authorization":this.onAuthorizationClick();break;case"pass":this.onPassClick();break;case"decline":this.onDeclineClick();break;case"authorization_request":this.onAuthorizationRequestClick();break;case"authorization_timesheet":this.onAuthorizationTimesheetClick();break;case"authorization_expense":this.onAuthorizationExpenseClick();break;case"timesheet":case"schedule":case"edit_employee":this.onNavigationClick(e);break}}onViewclick(){super.onViewclick(),AuthorizationHistory.init(this)}handleAuthorizationButtons(e=!0){e==!0?(ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,"authorization",!0),ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,"pass",!0),ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,"decline",!0)):(ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,"authorization",!1),ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,"pass",!1),ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,"decline",!1))}onAuthorizationExpenseClick(){IndexViewController.goToView("ExpenseAuthorization")}onSaveClick(e){if(Global.isSet(e)||(e=!1),this.is_edit){var t=this,i;this.is_add=!1,i=this.current_edit_record,i=this.uniformVariable(i),EmbeddedMessage.reply(i,e,function(a){if(a&&a.isValid()){var n=t.current_edit_record.id;t.removeEditView(),t.onViewClick(n)}else t.setErrorTips(a),t.setErrorMenu()})}}onAuthorizationClick(e){var t=this;if(Global.isSet(e)||(e=!1),!t.current_edit_record)return;var i;Global.getProductEdition()>=15&&(this.current_edit_record.type_id==30||this.current_edit_record.type_id==40)?i=t.buildDataForAPI(this.current_edit_record):i=this.getSelectedItem(),LocalCacheData.current_doing_context_action="authorize",t.handleAuthorizationButtons(!1),this.enable_edit_view_ui==!0?t.api_request.setRequest(i,!1,e,{onResult:function(n){n.getResult()!=!1?a():(t.handleAuthorizationButtons(!0),t.setErrorMenu(),t.setErrorTips(n,!0))},onError:function(n){t.handleAuthorizationButtons(!0)}}):a();function a(){if(t.current_edit_record){var n={};n.authorized=!0,n.object_id=t.current_edit_record.id,n.object_type_id=t.current_edit_record.hierarchy_type_id,t.authorization_api.setAuthorization([n],{onResult:function(r){r&&r.isValid()?(t.is_changed=!1,t.updateBadgeCount(),t.onRightArrowClick(function(){t.search(!1),s().TFeedback({source:"Authorize"})})):(t.setErrorMenu(),t.setErrorTips(r,!0)),t.handleAuthorizationButtons(!0)},onError:function(r){t.handleAuthorizationButtons(!0)}})}}}onPassClick(){var e=this;function t(){e.onRightArrowClick(function(){e.search(),s().TFeedback({source:"Pass"})})}this.is_changed?TAlertManager.showConfirmAlert(Global.modify_alert_message,null,function(i){i===!0&&t()}):t()}onAuthorizationRequestClick(){this.search(!1)}onDeclineClick(){var e=this;function t(){var i={};i.authorized=!1,i.object_id=e.current_edit_record.id,i.object_type_id=e.current_edit_record.hierarchy_type_id,e.handleAuthorizationButtons(!1),e.authorization_api.setAuthorization([i],{onResult:function(a){e.updateBadgeCount(),e.onRightArrowClick(function(){e.search(!1),s().TFeedback({source:"Decline"})}),e.handleAuthorizationButtons(!0)},onError:function(a){e.handleAuthorizationButtons(!0)}})}this.is_changed?TAlertManager.showConfirmAlert(Global.modify_alert_message,null,function(i){i===!0&&t()}):t()}onAuthorizationTimesheetClick(){IndexViewController.goToView("TimeSheetAuthorization")}uniformVariable(e){return this.is_edit?this.uniformMessageVariable(e):e}onGridDblClickRow(){ProgressBar.showOverlay(),this.onViewClick()}onSaveResult(e){var t=this;if(e&&e.isValid()){var i=e.getResult();this.edit_only_mode||(i===!0?t.refresh_id=t.current_edit_record.id:TTUUID.isUUID(i)&&i!=TTUUID.zero_id&&i!=TTUUID.not_exist_id&&(t.refresh_id=i),t.search()),t.onSaveDone(e),t.is_edit?t.onViewClick(t.current_edit_record.id):t.removeEditView()}else t.setErrorMenu(),t.setErrorTips(e)}setEditMenuAuthorizationIcon(e){this.is_edit?ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1):ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!0)}setEditMenuPassIcon(e){this.is_edit?ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1):ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!0)}setEditMenuDeclineIcon(e){this.is_edit?ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1):ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!0)}setEditMenuAuthorizationRequestIcon(e){!this.current_edit_record||!this.current_edit_record.id?ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1):ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!0)}setEditMenuAuthorizationTimesheetIcon(e){!this.current_edit_record||!this.current_edit_record.id?ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1):ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!0)}setEditMenuSaveIcon(e){this.is_edit?ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!0):ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setDefaultMenuSaveIcon(e,t){ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1),ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setDefaultMenuEditIcon(e,t){ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setDefaultMenuEditEmployeeIcon(e,t){this.editPermissionValidate("user")||ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1),t===1?ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!0):ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setDefaultMenuAuthorizationIcon(e,t){this.is_viewing||ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1),ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setDefaultMenuPassIcon(e,t){this.is_viewing||ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1),ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setDefaultMenuDeclineIcon(e,t){this.is_viewing||ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1),ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setDefaultMenuAuthorizationRequestIcon(e,t){ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!0)}setDefaultMenuAuthorizationTimesheetIcon(e,t){ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!0)}buildSearchFields(){super.buildSearchFields(),this.search_fields=[new SearchField({label:s.i18n._("Employee"),in_column:1,field:"user_id",layout_name:"global_user",api_class:TTAPI.APIUser,multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:s.i18n._("Type"),in_column:1,multiple:!0,field:"type_id",basic_search:!0,adv_search:!1,layout_name:"global_option_column",form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:s.i18n._("Start Date"),in_column:1,field:"start_date",basic_search:!0,adv_search:!1,form_item_type:FormItemType.DATE_PICKER}),new SearchField({label:s.i18n._("End Date"),in_column:1,field:"end_date",basic_search:!0,adv_search:!1,form_item_type:FormItemType.DATE_PICKER}),new SearchField({label:s.i18n._("Hierarchy Level"),in_column:2,multiple:!1,field:"hierarchy_level",basic_search:!0,adv_search:!1,set_any:!1,layout_name:"global_option_column",form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:s.i18n._("Created By"),in_column:2,field:"created_by",layout_name:"global_user",api_class:TTAPI.APIUser,multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:s.i18n._("Updated By"),in_column:2,field:"updated_by",layout_name:"global_user",api_class:TTAPI.APIUser,multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.AWESOME_BOX})]}onFormItemChange(e,t){var i=this;this.setIsChanged(e),this.setMassEditingFieldsWhenFormChange(e);var a=e.getField(),n=e.getValue();switch(this.current_edit_record[a]=n,a){case"job_id":Global.getProductEdition()>=20&&(this.edit_view_ui_dic.job_quick_search.setValue(e.getValue(!0)&&e.getValue(!0).manual_id?e.getValue(!0).manual_id:""),this.setJobItemValueWhenJobChanged(e.getValue(!0),"job_item_id"),this.edit_view_ui_dic.job_quick_search.setCheckBox(!0),this.setPunchTagValuesWhenCriteriaChanged(this.getPunchTagFilterData(),"punch_tag_id"));break;case"job_item_id":Global.getProductEdition()>=20&&(this.edit_view_ui_dic.job_item_quick_search.setValue(e.getValue(!0)&&e.getValue(!0).manual_id?e.getValue(!0).manual_id:""),this.edit_view_ui_dic.job_item_quick_search.setCheckBox(!0),this.setPunchTagValuesWhenCriteriaChanged(this.getPunchTagFilterData(),"punch_tag_id"));break;case"punch_tag_id":Global.getProductEdition()>=20&&(n!==TTUUID.zero_id&&n!==!1&&n.length>0?this.setPunchTagQuickSearchManualIds(e.getSelectItems()):this.edit_view_ui_dic.punch_tag_quick_search.setValue(""),i.previous_punch_tag_selection=n,this.edit_view_ui_dic.punch_tag_id.setSourceData(null));break;case"user_id":case"branch_id":case"department_id":Global.getProductEdition()>=20&&this.setPunchTagValuesWhenCriteriaChanged(this.getPunchTagFilterData(),"punch_tag_id");break;case"job_quick_search":case"job_item_quick_search":Global.getProductEdition()>=20&&(this.onJobQuickSearch(a,n,"job_id","job_item_id"),this.setPunchTagValuesWhenCriteriaChanged(this.getPunchTagFilterData(),"punch_tag_id"));break;case"punch_tag_quick_search":Global.getProductEdition()>=20&&(this.onPunchTagQuickSearch(n,this.getPunchTagFilterData(),"punch_tag_id"),t=!0);break;case"type_id":this.onTypeChanged();break;case"overlap_type_id":Global.getProductEdition()>=15&&this.getOverlappingShifts();break;case"date_stamp":this.onDateStampChanged();break;case"request_schedule_status_id":this.onWorkingStatusChanged();break;case"start_date":i.getScheduleTotalTime(),i.onStartDateChanged(),i.current_edit_record.start_date=i.edit_view_ui_dic.start_date.getValue(),i.current_edit_record.date_stamp=i.edit_view_ui_dic.start_date.getValue(),i.edit_view_ui_dic.date_stamp&&i.edit_view_ui_dic.date_stamp.setValue(i.edit_view_ui_dic.start_date.getValue()),Global.getProductEdition()>=15&&i.getOverlappingShifts();break;case"end_date":i.getScheduleTotalTime(),i.current_edit_record.end_date=i.edit_view_ui_dic.end_date.getValue(),Global.getProductEdition()>=15&&i.getOverlappingShifts();break;case"sun":case"mon":case"tue":case"wed":case"thu":case"fri":case"sat":i.getScheduleTotalTime(),Global.getProductEdition()>=15&&this.getOverlappingShifts();break;case"start_time":case"end_time":case"schedule_policy_id":Global.getProductEdition()>=15&&this.getOverlappingShifts();break;case"absence_policy_id":this.selected_absence_policy_record=this.edit_view_ui_dic.absence_policy_id.getValue(),this.getAvailableBalance();break;case"is_replace_with_open_shift":Global.getProductEdition()>=15&&this.getOverlappingShifts();break}(a==="date_stamp"||a==="start_date_stamps"||a==="start_date_stamp"||a==="start_time"||a==="end_time"||a==="schedule_policy_id"||a==="absence_policy_id")&&(this.current_edit_record.date_stamp!==""&&this.current_edit_record.start_time!==""&&this.current_edit_record.end_time!==""?this.getScheduleTotalTime():this.onAvailableBalanceChange()),t||this.validate()}setEditViewWidgetsMode(){var e={};for(var t in this.edit_view_ui_dic)if(this.edit_view_ui_dic.hasOwnProperty(t)){var i=this.edit_view_ui_dic[t];i.css("opacity",1);var a=i.parent().parent().parent(),n=a.parent().attr("id");a.hasClass("v-box")||e[n]||(e[n]=!0),Global.isSet(i.setEnabled)&&i.setEnabled(this.enable_edit_view_ui)}}onAvailableBalanceChange(){this.getAvailableBalance()}setURL(){if(LocalCacheData.current_doing_context_action==="edit"){LocalCacheData.current_doing_context_action="";return}super.setURL()}getSubViewFilter(e){return e.length===0&&(e={}),Global.isSet(e.type_id)||(e.type_id=[-1]),Global.isSet(e.hierarchy_level)||(e.hierarchy_level=1,this.filter_data.hierarchy_level={field:"hierarchy_level",id:"",value:this.basic_search_field_ui_dic.hierarchy_level.getValue(!0)}),e}buildEditViewUI(){super.buildEditViewUI();var e={tab_request:{label:s.i18n._("Message")},tab_audit:!0};this.setTabModel(e);var t=this.edit_view.find("a[ref=tab_audit]");t.css("display","none");var i=this.edit_view_tab.find("#tab_request"),a=i.find(".first-column"),n=i.find(".second-column");this.edit_view_tabs[0]=[],this.edit_view_tabs[0].push(a);var r=Global.loadWidgetByName(FormItemType.TEXT_INPUT);r.TTextInput({field:"subject",width:359}),this.addEditFieldToColumn(s.i18n._("Subject"),r,a,""),r=Global.loadWidgetByName(FormItemType.TEXT_AREA),r.TTextArea({field:"body",width:600,height:400}),this.addEditFieldToColumn(s.i18n._("Body"),r,a,"",null,null,!0),n.css("display","none")}search(e,t,i,a){this.refresh_id=null,this.updateBadgeCount(),super.search(e,t,i,a)}updateBadgeCount(){this.event_bus.emit("tt_topbar","profile_pending_counts",{object_types:["notification","request_authorization"]})}setCurrentEditRecordData(){var e=this;for(var t in this.current_edit_record){var i=this.edit_view_ui_dic[t];if(Global.isSet(i))switch(t){case"full_name":i.setValue(this.current_edit_record.first_name+" "+this.current_edit_record.last_name);break;case"subject":i.setValue(this.current_edit_record[t]),this.is_edit&&i.setValue("Re: "+this.messages[0].subject);break;case"punch_tag_id":if(Global.getProductEdition()>=20){i.setValue(this.current_edit_record[t]),this.previous_punch_tag_selection=this.current_edit_record[t];var a={};a.filter_data=e.getPunchTagFilterData(),i.setDefaultArgs(a)}break;case"punch_tag_quick_search":break;default:i.setValue(this.current_edit_record[t]);break}}this.setEditViewDataDone()}setEditViewDataDone(){var e=this;super.setEditViewDataDone(),this.is_viewing||Global.isSet(e.messages)&&(e.messages=null),Global.getProductEdition()>=15&&e.getOverlappingShifts()}validate(){var e=this,t={};if(this.is_edit){for(var i in this.edit_view_ui_dic)if(this.edit_view_ui_dic.hasOwnProperty(i)){var a=this.edit_view_ui_dic[i];Global.isSet(a.isChecked)&&a.isChecked()&&a.getEnabled()&&(t[i]=a.getValue())}}else t=this.buildDataForAPI(this.current_edit_record);t=this.uniformVariable(t),this.is_edit?this.message_control_api["validate"+this.message_control_api.key_name](t,{onResult:function(n){e.validateResult(n)}}):this.is_viewing&&this.api_request["validate"+this.api.key_name](t,{onResult:function(n){e.validateResult(n)}})}openAuthorizationView(){this.edit_view||this.initEditViewUI(this.viewId,this.edit_view_tpl)}}export{l as RequestAuthorizationViewController};
//# sourceMappingURL=RequestAuthorizationViewController-C7wxNRxd.bundle.js.map
