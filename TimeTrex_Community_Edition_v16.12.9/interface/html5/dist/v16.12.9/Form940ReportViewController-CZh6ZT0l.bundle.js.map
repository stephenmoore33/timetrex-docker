{"version":3,"file":"Form940ReportViewController-CZh6ZT0l.bundle.js","sources":["../../views/reports/form940/Form940ReportViewController.js"],"sourcesContent":["export class Form940ReportViewController extends ReportBaseViewController {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {\n\n\t\t\treturn_type_array: null,\n\t\t\texempt_payment_array: null,\n\t\t\tstate_array: null,\n\t\t\tprovince_array: null\n\t\t} );\n\n\t\tsuper( options );\n\t}\n\n\tinitReport( options ) {\n\t\tthis.script_name = 'Form940Report';\n\t\tthis.viewId = 'Form940Report';\n\t\tthis.context_menu_name = $.i18n._( 'Form 940' );\n\t\tthis.navigation_label = $.i18n._( 'Saved Report' );\n\t\tthis.view_file = 'Form940ReportView.html';\n\t\tthis.api = TTAPI.APIForm940Report;\n\t\tthis.api_paystub = TTAPI.APIPayStubEntryAccount;\n\t\tthis.include_form_setup = true;\n\t}\n\n\tinitOptions( callBack ) {\n\t\tvar $this = this;\n\t\tvar options = [\n\t\t\t{ option_name: 'page_orientation' },\n\t\t\t{ option_name: 'font_size' },\n\t\t\t{ option_name: 'chart_display_mode' },\n\t\t\t{ option_name: 'chart_type' },\n\t\t\t{ option_name: 'templates' },\n\t\t\t{ option_name: 'setup_fields' },\n\t\t\t{ option_name: 'return_type' },\n\t\t\t{ option_name: 'exempt_payment' },\n\t\t\t{ option_name: 'state' },\n\t\t\t{ option_name: 'auto_refresh' }\n\t\t];\n\n\t\tthis.initDropDownOptions( options, function( result ) {\n\t\t\tTTAPI.APICompany.getOptions( 'province', 'US', {\n\t\t\t\tonResult: function( provinceResult ) {\n\t\t\t\t\t$this.province_array = Global.buildRecordArray( provinceResult.getResult() );\n\n\t\t\t\t\tcallBack( result ); // First to initialize drop down options, and then to initialize edit view UI.\n\t\t\t\t}\n\t\t\t} );\n\n\t\t} );\n\t}\n\n\tgetCustomContextMenuModel() {\n\t\tvar context_menu_model = {\n\t\t\tgroups: {\n\t\t\t\tform: {\n\t\t\t\t\tlabel: $.i18n._( 'Form' ),\n\t\t\t\t\tid: this.viewId + 'Form'\n\t\t\t\t}\n\t\t\t},\n\t\t\texclude: [],\n\t\t\tinclude: [\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'Form' ),\n\t\t\t\t\tid: 'view_print',\n\t\t\t\t\taction_group_header: true,\n\t\t\t\t\taction_group: 'view_form',\n\t\t\t\t\tgroup: 'form',\n\t\t\t\t\tmenu_align: 'right',\n\t\t\t\t\ticon: 'view-35x35.png',\n\t\t\t\t\ttype: 2\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'View' ),\n\t\t\t\t\tid: 'view_form',\n\t\t\t\t\taction_group: 'view_form',\n\t\t\t\t\tgroup: 'form',\n\t\t\t\t\tmenu_align: 'right',\n\t\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'Save Setup' ),\n\t\t\t\t\tid: 'save_setup',\n\t\t\t\t\taction_group: 'view_form',\n\t\t\t\t\tgroup: 'form',\n\t\t\t\t\tmenu_align: 'right',\n\t\t\t\t\t}\n\t\t\t]\n\t\t};\n\n\t\treturn context_menu_model;\n\t}\n\n\tbuildFormSetupUI() {\n\n\t\tvar $this = this;\n\n\t\tvar tab3 = this.edit_view_tab.find( '#tab_form_setup' );\n\n\t\tvar tab3_column1 = tab3.find( '.first-column' );\n\n\t\tthis.edit_view_tabs[3] = [];\n\n\t\tthis.edit_view_tabs[3].push( tab3_column1 );\n\n\t\tvar form_item_input;\n\t\tvar form_item;\n\n\t\t//Type of Return\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\tform_item_input = form_item_input.AComboBox( {\n\t\t\tfield: 'return_type',\n\t\t\tset_empty: true,\n\t\t\tallow_multiple_selection: true,\n\t\t\tlayout_name: 'global_option_column',\n\t\t\tkey: 'value'\n\t\t} );\n\n\t\tform_item_input.setSourceData( $this.return_type_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Type of Return' ), form_item_input, tab3_column1, '' );\n\n\t\t//Exempt Payments\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\tform_item_input = form_item_input.AComboBox( {\n\t\t\tfield: 'exempt_payment',\n\t\t\tset_empty: true,\n\t\t\tallow_multiple_selection: true,\n\t\t\tlayout_name: 'global_option_column',\n\t\t\tkey: 'value'\n\t\t} );\n\n\t\tform_item_input.setSourceData( $this.exempt_payment_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Exempt Payment Types' ), form_item_input, tab3_column1 );\n\n\t\t//Total Payments (Line 3)\n\t\t// var v_box = $( \"<div class='v-box'></div>\" );\n\t\t//\n\t\t// //Selection Type\n\t\t// form_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\t// form_item_input.AComboBox( {\n\t\t// \tapi_class: TTAPI.APIPayStubEntryAccount,\n\t\t// \tallow_multiple_selection: true,\n\t\t// \tlayout_name: 'global_PayStubAccount',\n\t\t// \tshow_search_inputs: true,\n\t\t// \tset_empty: true,\n\t\t// \tfield: 'total_payments_include_pay_stub_entry_account'\n\t\t// } );\n\t\t//\n\t\t// var form_item = this.putInputToInsideFormItem( form_item_input, $.i18n._( 'Include' ) );\n\t\t//\n\t\t// v_box.append( form_item );\n\t\t// v_box.append( \"<div class='clear-both-div'></div>\" );\n\t\t//\n\t\t// //Selection\n\t\t// var form_item_input_1 = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\t//\n\t\t// form_item_input_1.AComboBox( {\n\t\t// \tapi_class: TTAPI.APIPayStubEntryAccount,\n\t\t// \tallow_multiple_selection: true,\n\t\t// \tlayout_name: 'global_PayStubAccount',\n\t\t// \tshow_search_inputs: true,\n\t\t// \tset_empty: true,\n\t\t// \tfield: 'total_payments_exclude_pay_stub_entry_account'\n\t\t// } );\n\t\t//\n\t\t// form_item = this.putInputToInsideFormItem( form_item_input_1, $.i18n._( 'Exclude' ) );\n\t\t//\n\t\t// v_box.append( form_item );\n\t\t//\n\t\t// this.addEditFieldToColumn( $.i18n._( 'Total Payments (Line 3)' ), [form_item_input, form_item_input_1], tab3_column1, '', v_box, false, true );\n\n\t\t//Exempt Payments (Line 4)\n\t\tvar v_box = $( '<div class=\\'v-box\\'></div>' );\n\n\t\t//Selection Type\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIPayStubEntryAccount,\n\t\t\tallow_multiple_selection: true,\n\t\t\tlayout_name: 'global_PayStubAccount',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'exempt_payments_include_pay_stub_entry_account'\n\t\t} );\n\n\t\tform_item = this.putInputToInsideFormItem( form_item_input, $.i18n._( 'Include' ) );\n\n\t\tv_box.append( form_item );\n\t\tv_box.append( '<div class=\\'clear-both-div\\'></div>' );\n\n\t\t//Selection\n\t\tvar form_item_input_1 = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\tform_item_input_1.AComboBox( {\n\t\t\tapi_class: TTAPI.APIPayStubEntryAccount,\n\t\t\tallow_multiple_selection: true,\n\t\t\tlayout_name: 'global_PayStubAccount',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'exempt_payments_exclude_pay_stub_entry_account'\n\t\t} );\n\n\t\tform_item = this.putInputToInsideFormItem( form_item_input_1, $.i18n._( 'Exclude' ) );\n\n\t\tv_box.append( form_item );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Exempt Payments (Line 4)\\n( Must already be excluded in Tax/Deduction settings )' ), [form_item_input, form_item_input_1], tab3_column1, '', v_box, false, true );\n\n\t\t//Credit Reduction (Line 9)\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.CHECKBOX );\n\n\t\tform_item_input.TCheckbox( { field: 'line_9' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Were ALL taxable FUTA wages excluded from State UI? (Line 9)' ), form_item_input, tab3_column1 );\n\n\t\t//Wages Excluded From State Unemployement Tax (Line 10)\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'line_10' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Wages Excluded From State Unemployement Tax (Line 10)' ), form_item_input, tab3_column1 );\n\n\t\t// //Credit Reduction (Line 11)\n\t\t// form_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t//\n\t\t// form_item_input.TTextInput( {field: 'line_11'} );\n\t\t// this.addEditFieldToColumn( $.i18n._( 'Credit Reduction (Line 11)' ), form_item_input, tab3_column1 );\n\n\t\t//FUTA Tax Deposited For The Year (Line 13)\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'tax_deposited' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'FUTA Tax Deposited for the Year (Line 13)' ) +' $', form_item_input, tab3_column1 );\n\t}\n\n\tgetFormSetupData() {\n\t\tvar other = {};\n\n\t\t//other.total_payments = {include_pay_stub_entry_account: this.current_edit_record.total_payments_include_pay_stub_entry_account, exclude_pay_stub_entry_account: this.current_edit_record.total_payments_exclude_pay_stub_entry_account};\n\t\tother.exempt_payments = {\n\t\t\tinclude_pay_stub_entry_account: this.current_edit_record.exempt_payments_include_pay_stub_entry_account,\n\t\t\texclude_pay_stub_entry_account: this.current_edit_record.exempt_payments_exclude_pay_stub_entry_account\n\t\t};\n\n\t\tother.return_type = this.current_edit_record.return_type;\n\t\tother.exempt_payment = this.current_edit_record.exempt_payment;\n\t\tother.line_9 = this.current_edit_record.line_9;\n\t\tother.line_10 = this.current_edit_record.line_10;\n\t\t//other.line_11 = this.current_edit_record.line_11;\n\t\tother.tax_deposited = this.current_edit_record.tax_deposited;\n\n\t\treturn other;\n\t}\n\n\t/* jshint ignore:start */\n\tsetFormSetupData( res_data ) {\n\n\t\tif ( !res_data ) {\n\t\t\tthis.show_empty_message = true;\n\t\t} else {\n\t\t\tlet batch_get_real_data = this.processFormSetupDataAndAddToBatch( res_data, [\n\t\t\t\t{ data: _.get(res_data, 'exempt_payments'), field_key: 'exempt_payments', api: this.api_paystub, api_method: 'getPayStubEntryAccount' },\n\t\t\t\t{ data: _.get(res_data, 'return_type'), field_key: 'return_type', api: null },\n\t\t\t\t{ data: _.get(res_data, 'exempt_payment'), field_key: 'exempt_payment', api: null },\n\t\t\t\t{ data: _.get(res_data, 'line_9'), field_key: 'line_9', api: null },\n\t\t\t\t{ data: _.get(res_data, 'line_10'), field_key: 'line_10', api: null },\n\t\t\t\t{ data: _.get(res_data, 'line_11'), field_key: 'line_11', api: null },\n\t\t\t\t{ data: _.get(res_data, 'tax_deposited'), field_key: 'tax_deposited', api: null },\n\t\t\t] );\n\n\t\t\tthis.getBatchedRealFormDataFromAPI( batch_get_real_data );\n\t\t}\n\t}\n\n\t/* jshint ignore:end */\n}"],"names":["Form940ReportViewController","options","_","$","callBack","$this","result","provinceResult","context_menu_model","tab3","tab3_column1","form_item_input","form_item","v_box","form_item_input_1","other","res_data","batch_get_real_data"],"mappings":"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"}