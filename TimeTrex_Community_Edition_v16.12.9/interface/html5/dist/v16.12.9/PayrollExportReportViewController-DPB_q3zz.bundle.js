import{_ as B,j as d}from"./vendor-tTApdY0Y.bundle.js";class G extends ReportBaseViewController{constructor(a={}){B.defaults(a,{export_type_array:null,export_policy_array:null,export_setup_ui_dic:null,export_setup_data:null,export_grid:null,select_grid_last_row:null,save_export_setup_data:{}}),super(a)}initReport(a){this.script_name="PayrollExportReport",this.viewId="PayrollExportReport",this.context_menu_name=d.i18n._("Payroll Export"),this.navigation_label=d.i18n._("Saved Report"),this.view_file="PayrollExportReportView.html",this.api=TTAPI.APIPayrollExportReport,this.include_form_setup=!0,this.export_setup_data={}}initOptions(a){var e=[{option_name:"page_orientation"},{option_name:"font_size"},{option_name:"chart_display_mode"},{option_name:"chart_type"},{option_name:"templates"},{option_name:"setup_fields"},{option_name:"export_type"},{option_name:"auto_refresh"}];this.initDropDownOptions(e,function(g){a(g)})}getCustomContextMenuModel(){var a={groups:{form:{label:d.i18n._("Export"),id:this.viewId+"Form"}},exclude:[],include:[{label:d.i18n._("Export"),id:"export_export",group:"editor",vue_icon:"tticon tticon-file_upload_black_24dp",menu_align:"right"},{label:d.i18n._("Save Setup"),id:"save_setup",group:"form",vue_icon:"tticon tticon-settings_black_24dp",menu_align:"right"}]};return a}onTabIndexChange(){}setEditMenuViewIcon(){}onContextMenuClick(a,e){var g;if(Global.isSet(e))g=e;else if(a.disabled)return;this.select_grid_last_row&&(this.export_grid.grid.jqGrid("saveRow",this.select_grid_last_row),this.select_grid_last_row=null);var u=d.i18n._("Setup data for this report has not been configured yet. Please click on the Export Setup tab to do so now.");switch(g){case"view":ProgressBar.showOverlay(),this.onViewClick(null,!1,u);break;case"view_html":ProgressBar.showOverlay(),this.onViewClick("html",!1,u);break;case"view_html_new_window":this.onViewClick("html",!1,u);break;case"export_excel":this.onViewExcelClick(u);break;case"export_export":ProgressBar.showOverlay(),this.onViewClick("payroll_export",!1,u);break;case"cancel":this.onCancelClick();break;case"save_existed_report":this.onSaveExistedReportClick();break;case"save_new_report":this.onSaveNewReportClick();break;case"save_setup":this.onSaveSetup(d.i18n._("Export setup"));break}Global.triggerAnalyticsContextMenuClick(a,e)}buildFormSetupUI(){var a=this,e=this.edit_view_tab.find("#tab_form_setup"),g=e.find(".first-column");this.edit_view_tabs[3]=[],this.edit_view_tabs[3].push(g);var u=Global.loadWidgetByName(FormItemType.COMBO_BOX);u.TComboBox({field:"export_type",set_empty:!1}),u.setSourceData(a.export_type_array),this.addEditFieldToColumn(d.i18n._("Export Format"),u,g,""),u.bind("formItemChange",function(C,b){a.onExportChange(b.getValue())})}onExportChange(a){var e=this;this.removeCurrentExportUI(),ProgressBar.showOverlay(),this.api.getOptions("export_policy",{noCache:!0,onResult:function(g){switch(e.export_policy_array=g.getResult(),a){case"adp":case"adp_advanced":e.api.getOptions("adp_hour_column_options",{onResult:function(u){e.buildAdditionalInputBox(a),e.buildGrid(a,u.getResult())}});break;case"adp_resource":e.api.getOptions("adp_resource_hour_column_options",{onResult:function(u){e.buildAdditionalInputBox(a),e.buildGrid(a,u.getResult())}});break;case"accero":e.api.getOptions("accero_hour_column_options",{onResult:function(u){e.buildAdditionalInputBox(a),e.buildGrid(a,u.getResult())}});break;case"va_munis":e.api.getOptions("export_columns",!0,{onResult:function(u){var C=u.getResult();C.hasOwnProperty("0")||(C[0]="-- Custom --"),e.buildAdditionalInputBox(a),e.buildGrid(a,C)}});break;case"ceridian_insync":case"chris21":case"paychex_preview_advanced_job":case"paychex_preview":case"quickbooks":case"quickbooks_advanced":case"csv":case"csv_advanced":case"sage_50":case"meditech":case"vensure":e.buildAdditionalInputBox(a),e.buildGrid(a);break;case"cms_pbj":e.api.getOptions("cms_pbj_hour_column_options",{onResult:function(u){e.buildAdditionalInputBox(a),e.buildGrid(a,u.getResult())}});break;default:e.buildGrid(a);break}}})}buildGrid(a,e){if(typeof a>"u"||a==0){if(this.export_grid){var g=d("<table id='export_grid'>");this.export_grid.grid.jqGrid("GridUnload"),this.export_grid.grid.replaceWith(g),this.export_grid=null}return}var u=this,C=[],b="",I={name:"column_id",index:"column_id",label:d.i18n._("Hours"),width:100,sortable:!1,title:!1};C.push(I);var s="";switch(a){case"adp":case"adp_advanced":e=Global.buildRecordArray(e.adp_hour_column_options);for(var t=0;t<e.length;t++)t!==e.length-1?b+=e[t].fullValue+":"+e[t].label+";":b+=e[t].fullValue+":"+e[t].label;I={name:"hour_column",index:"hour_column",label:d.i18n._("ADP Hours"),width:100,sortable:!1,formatter:"select",editable:!0,title:!1,edittype:"select",editoptions:{value:b}},C.push(I),s=d.i18n._("ADP Hours Code");break;case"adp_resource":e=Global.buildRecordArray(e.adp_resource_hour_column_options);for(var t=0;t<e.length;t++)t!==e.length-1?b+=e[t].fullValue+":"+e[t].label+";":b+=e[t].fullValue+":"+e[t].label;I={name:"hour_column",index:"hour_column",label:d.i18n._("ADP Hours"),width:100,sortable:!1,formatter:"select",editable:!0,title:!1,edittype:"select",editoptions:{value:b}},C.push(I),s=d.i18n._("ADP Hours Code");break;case"accero":e=Global.buildRecordArray(e.accero_hour_column_options);for(var t=0;t<e.length;t++)t!==e.length-1?b+=e[t].fullValue+":"+e[t].label+";":b+=e[t].fullValue+":"+e[t].label;I={name:"hour_column",index:"hour_column",label:d.i18n._("Hour Type"),width:100,sortable:!1,formatter:"select",editable:!0,title:!1,edittype:"select",editoptions:{value:b}},C.push(I),s=d.i18n._("HED Override #");break;case"paychex_preview_advanced_job":case"paychex_preview":s=d.i18n._("Paychex Hours Code");break;case"paychex_online":s=d.i18n._("Earning Code");break;case"ceridian_insync":s=d.i18n._("Ceridian Hours Code");break;case"millenium":s=d.i18n._("Millenium Hours Code");break;case"quickbooks_advanced":case"quickbooks":s=d.i18n._("Quickbooks Payroll Item Name");break;case"surepayroll":s=d.i18n._("Payroll Code");break;case"chris21":s=d.i18n._("Chris21 Hours Code");break;case"va_munis":e=Global.buildRecordArray(e);for(var t=0;t<e.length;t++)t!==e.length-1?b+=e[t].fullValue+":"+e[t].label+";":b+=e[t].fullValue+":"+e[t].label;I={name:"hour_column",index:"hour_column",label:d.i18n._("Columns"),width:100,sortable:!1,formatter:"select",editable:!0,title:!1,edittype:"select",editoptions:{value:b}},C.push(I),s=d.i18n._("Hours Code");break;case"compupay":s=d.i18n._("DET Code");break;case"sage_50":s=d.i18n._("Item Number");break;case"cms_pbj":e=Global.buildRecordArray(e.cms_pbj_hour_column_options);for(var t=0;t<e.length;t++)t!==e.length-1?b+=e[t].fullValue+":"+e[t].label+";":b+=e[t].fullValue+":"+e[t].label;I={name:"hour_column",index:"hour_column",label:d.i18n._("Export"),width:100,sortable:!1,formatter:"select",editable:!0,title:!1,edittype:"select",editoptions:{value:b}},C.push(I),s=!1;break;case"meditech":s=d.i18n._("Earning Number");break;case"vensure":s=d.i18n._("Pay Code");break;case"csv":case"csv_advanced":s=d.i18n._("Hours Code");break}s!==!1&&(I={name:"hour_code",index:"hour_code",label:s,width:100,sortable:!1,title:!1,editable:!0,edittype:"text"},C.push(I)),this.export_grid&&(this.export_grid.grid.jqGrid("GridUnload"),this.export_grid=null),this.export_grid=new TTGrid("export_grid",{container_selector:".inside-editor-div .grid-div",multiselect:!1,winMultiSelect:!1,sortable:!1,editurl:"clientArray",onSelectRow:function(l){l&&(u.select_grid_last_row&&u.export_grid.grid.jqGrid("saveRow",u.select_grid_last_row),u.export_grid.grid.jqGrid("editRow",l,!0),u.select_grid_last_row=l,u.export_grid.setGridColumnsWidth())},onResizeGrid:!1},C),u.setExportGridData(a)}setExportGridData(a){var e=this,g=Global.buildRecordArray(this.export_policy_array),u=null,C=g.length,b=[];this.api.getOptions("default_hour_codes",{noCache:!0,onResult:function(s){var t=s.getResult(),l=[];t[a]&&t[a].columns&&(l=t[a].columns),e.save_export_setup_data&&e.save_export_setup_data[a]&&e.save_export_setup_data[a].columns?(u=e.save_export_setup_data[a].columns,I(u,l)):e.export_setup_data&&e.export_setup_data[a]&&e.export_setup_data[a].columns?(u=e.export_setup_data[a].columns,I(u,l)):t[a]&&t[a].columns&&I(l),e.setExportGridSize()}});function I(s,t){for(var l,c,v=0;v<C;v++){var n=g[v],y=n.label,p=s[n.value];switch(Global.isSet(p)==!1&&(t&&n.value&&t[n.value]?p=t[n.value]:p={}),c=p.hour_column,l=p.hour_code,a){case"adp":case"adp_advanced":case"adp_resource":case"accero":case"va_munis":case"sage_50":case"cms_pbj":c||(c="0");var r={id:v+200,column_id:y,hour_column:c,hour_code:l,column_id_key:n.value};break;default:r={id:v+200,column_id:y,hour_code:l,column_id_key:n.value};break}b.push(r)}e.export_grid.setData(b),ProgressBar.closeOverlay()}}setExportGridSize(){if(!(!this.export_grid||!this.export_grid.grid.is(":visible"))){var a=this.edit_view.find("#form_setup_content_div"),e=this.edit_view.find(".first-row");this.export_grid.grid.setGridWidth(this.edit_view.find(".inside-editor-div ").width()+14),d("#gbox_export_grid").css("overflow","hidden"),this.export_grid.grid.setGridHeight(a.height()-e.height())}}onTabShow(a,e){var g=d(a.target).tabs("option","active");if(d(".edit-view-form-item-label").css("width","auto"),this.editFieldResize(g),!!this.current_edit_record){var u=this.getEditViewTabIndex();(u===1||this.need_refresh_display_columns)&&g===0?(this.buildReportUIBaseOnSetupFields(),this.buildContextMenu(!0),this.setEditMenu()):g===1?(this.edit_view_ui_dic.setup_field.setValue(this.current_edit_record.setup_field),Global.getProductEdition()==10&&this.edit_view_ui_dic.auto_refresh.parent().parent().css("display","none"),this.buildContextMenu(!0),this.setEditMenu()):g===2?Global.getProductEdition()>=15?(this.edit_view_tab.find("#tab_chart").find(".first-column").css("display","block"),this.edit_view.find(".permission-defined-div").css("display","none")):(this.edit_view_tab.find("#tab_chart").find(".first-column").css("display","none"),this.edit_view.find(".permission-defined-div").css("display","block"),this.edit_view.find(".permission-message").html(Global.getUpgradeMessage())):g===3?(this.setExportGridSize(),this.buildContextMenu(!0),this.setEditMenu()):g===4?Global.getProductEdition()>=15?(this.edit_view_tab.find("#tab4").find(".first-column-sub-view").css("display","block"),this.edit_view.find(".permission-defined-div").css("display","none"),this.initSubCustomColumnView()):(this.edit_view_tab.find("#tab4").find(".first-column-sub-view").css("display","none"),this.edit_view.find(".permission-defined-div").css("display","block"),this.edit_view.find(".permission-message").html(Global.getUpgradeMessage())):g===5?this.initSubSavedReportView():(this.buildContextMenu(!0),this.setEditMenu()),this.checkFormSetupSaved(u,d.i18n._("Export Setup"))}}buildAdditionalInputBox(a){this.save_export_setup_data[a]?(this.export_setup_data=this.save_export_setup_data[a],!this.export_setup_data.columns&&this.export_setup_data[a]&&(this.export_setup_data=this.export_setup_data[a],this.export_setup_data.export_type=a)):this.export_setup_data={};var e=this;this.export_setup_ui_dic={};var g=this.edit_view_tab.find("#tab_form_setup"),u=g.find(".first-column");switch(this.edit_view_tabs[3]=[],this.edit_view_tabs[3].push(u),a){case"adp":var s="company_code",t=Global.loadWidgetByName(FormItemType.COMBO_BOX);t.TComboBox({field:s});var l=d("<div class='h-box'></div>"),c=Global.loadWidgetByName(FormItemType.TEXT_INPUT);c.css("margin-left","10px"),c.TTextInput({field:s+"_text"}),l.append(t),l.append(c),this.addEditFieldToColumn(d.i18n._("Company Code"),[t,c],u,"",l,!0),this.setWidgetVisible([t,c]),t.bind("formItemChange",function(o,i){i.getValue()===0?(c.css("display","inline"),c.setValue(e.export_setup_data[s])):c.css("display","none")}),e.api.getOptions("adp_company_code_options",{onResult:function(o){var i=o.getResult();t.setSourceData(Global.buildRecordArray(i)),t.setValue(e.export_setup_data[s]),t.trigger("formItemChange",[t,!0])}}),e.export_setup_ui_dic[s]=e.edit_view_form_item_dic[s],delete e.edit_view_form_item_dic[s];var v="batch_id",n=Global.loadWidgetByName(FormItemType.COMBO_BOX);n.TComboBox({field:v}),l=d("<div class='h-box'></div>");var y=Global.loadWidgetByName(FormItemType.TEXT_INPUT);y.css("margin-left","10px"),y.TTextInput({field:v+"_text"}),l.append(n),l.append(y),this.addEditFieldToColumn(d.i18n._("Batch ID"),[n,y],u,"",l,!0),this.setWidgetVisible([n,y]),n.bind("formItemChange",function(o,i){i.getValue()===0?(y.css("display","inline"),y.setValue(e.export_setup_data[v])):y.css("display","none")}),e.api.getOptions("adp_batch_options",{onResult:function(o){var i=o.getResult();n.setSourceData(Global.buildRecordArray(i)),n.setValue(e.export_setup_data[v]),n.trigger("formItemChange",[n,!0])}}),e.export_setup_ui_dic[v]=e.edit_view_form_item_dic[v],delete e.edit_view_form_item_dic[v];var p="temp_dept",r=Global.loadWidgetByName(FormItemType.COMBO_BOX);r.TComboBox({field:p}),l=d("<div class='h-box'></div>");var _=Global.loadWidgetByName(FormItemType.TEXT_INPUT);_.css("margin-left","10px"),_.TTextInput({field:p+"_text"}),l.append(r),l.append(_),this.addEditFieldToColumn(d.i18n._("Temp Department"),[r,_],u,"",l,!0),this.setWidgetVisible([r,_]),r.bind("formItemChange",function(o,i){i.getValue()===0?(_.css("display","inline"),_.setValue(e.export_setup_data[p])):_.css("display","none")}),e.api.getOptions("adp_temp_dept_options",{onResult:function(o){var i=o.getResult();r.setSourceData(Global.buildRecordArray(i)),r.setValue(e.export_setup_data[p]),r.trigger("formItemChange",[r,!0])}}),e.export_setup_ui_dic[p]=e.edit_view_form_item_dic[p],delete e.edit_view_form_item_dic[p];break;case"adp_advanced":case"adp_resource":var s="company_code",t=Global.loadWidgetByName(FormItemType.COMBO_BOX);t.TComboBox({field:s});var l=d("<div class='h-box'></div>"),c=Global.loadWidgetByName(FormItemType.TEXT_INPUT);c.css("margin-left","10px"),c.TTextInput({field:s+"_text"}),l.append(t),l.append(c),this.addEditFieldToColumn(d.i18n._("Company Code"),[t,c],u,"",l,!0),this.setWidgetVisible([t,c]),t.bind("formItemChange",function(o,i){i.getValue()===0?(c.css("display","inline"),c.setValue(e.export_setup_data[s])):c.css("display","none")}),e.api.getOptions("adp_company_code_options",{onResult:function(o){var i=o.getResult();t.setSourceData(Global.buildRecordArray(i)),t.setValue(e.export_setup_data[s]),t.trigger("formItemChange",[t,!0])}}),e.export_setup_ui_dic[s]=e.edit_view_form_item_dic[s],delete e.edit_view_form_item_dic[s];var v="batch_id",n=Global.loadWidgetByName(FormItemType.COMBO_BOX);n.TComboBox({field:v}),l=d("<div class='h-box'></div>");var y=Global.loadWidgetByName(FormItemType.TEXT_INPUT);y.css("margin-left","10px"),y.TTextInput({field:v+"_text"}),l.append(n),l.append(y),this.addEditFieldToColumn(d.i18n._("Batch ID"),[n,y],u,"",l,!0),this.setWidgetVisible([n,y]),n.bind("formItemChange",function(o,i){i.getValue()===0?(y.css("display","inline"),y.setValue(e.export_setup_data[v])):y.css("display","none")}),e.api.getOptions("adp_batch_options",{onResult:function(o){var i=o.getResult();n.setSourceData(Global.buildRecordArray(i)),n.setValue(e.export_setup_data[v]),n.trigger("formItemChange",[n,!0])}}),e.export_setup_ui_dic[v]=e.edit_view_form_item_dic[v],delete e.edit_view_form_item_dic[v];var p="temp_dept",r=Global.loadWidgetByName(FormItemType.COMBO_BOX);r.TComboBox({field:p}),l=d("<div class='h-box'></div>");var _=Global.loadWidgetByName(FormItemType.TEXT_INPUT);_.css("margin-left","10px"),_.TTextInput({field:p+"_text"}),l.append(r),l.append(_),this.addEditFieldToColumn(d.i18n._("Temp Department"),[r,_],u,"",l,!0),this.setWidgetVisible([r,_]),r.bind("formItemChange",function(o,i){i.getValue()===0?(_.css("display","inline"),_.setValue(e.export_setup_data[p])):_.css("display","none")}),e.api.getOptions("adp_temp_dept_options",{onResult:function(o){var i=o.getResult();r.setSourceData(Global.buildRecordArray(i)),r.setValue(e.export_setup_data[p]),r.trigger("formItemChange",[r,!0])}}),e.export_setup_ui_dic[p]=e.edit_view_form_item_dic[p],delete e.edit_view_form_item_dic[p];var T="job_cost",h=Global.loadWidgetByName(FormItemType.COMBO_BOX);h.TComboBox({field:T}),l=d("<div class='h-box'></div>");var m=Global.loadWidgetByName(FormItemType.TEXT_INPUT);m.css("margin-left","10px"),m.TTextInput({field:T+"_text"}),l.append(h),l.append(m),this.addEditFieldToColumn(d.i18n._("Job Cost #"),[h,m],u,"",l,!0),this.setWidgetVisible([h,m]),h.bind("formItemChange",function(o,i){i.getValue()===0?(m.css("display","inline"),m.setValue(e.export_setup_data[T])):m.css("display","none")}),e.api.getOptions("adp_job_cost_options",{onResult:function(o){var i=o.getResult();h.setSourceData(Global.buildRecordArray(i)),h.setValue(e.export_setup_data[T]),h.trigger("formItemChange",[h,!0])}}),e.export_setup_ui_dic[T]=e.edit_view_form_item_dic[T],delete e.edit_view_form_item_dic[T];var f="work_class",w=Global.loadWidgetByName(FormItemType.COMBO_BOX);w.TComboBox({field:f}),l=d("<div class='h-box'></div>");var V=Global.loadWidgetByName(FormItemType.TEXT_INPUT);V.css("margin-left","10px"),V.TTextInput({field:f+"_text"}),l.append(w),l.append(V),this.addEditFieldToColumn(d.i18n._("Work Class"),[w,V],u,"",l,!0),this.setWidgetVisible([w,V]),w.bind("formItemChange",function(o,i){i.getValue()===0?(V.css("display","inline"),V.setValue(e.export_setup_data[f])):V.css("display","none")}),e.api.getOptions("adp_work_class_options",{onResult:function(o){var i=o.getResult();w.setSourceData(Global.buildRecordArray(i)),w.setValue(e.export_setup_data[f]),w.trigger("formItemChange",[w,!0])}}),e.export_setup_ui_dic[f]=e.edit_view_form_item_dic[f],delete e.edit_view_form_item_dic[f];var C="state_columns",b=Global.loadWidgetByName(FormItemType.COMBO_BOX);b.TComboBox({field:C,set_empty:!0}),this.addEditFieldToColumn(d.i18n._("State"),b,u,"",null,!0),this.setWidgetVisible([b]),TTAPI.APIJobDetailReport.getOptions("static_columns",{onResult:function(o){var i=o.getResult();b.setSourceData(Global.buildRecordArray(i)),b.setValue(e.export_setup_data[C])}}),e.export_setup_ui_dic[C]=e.edit_view_form_item_dic[C],delete e.edit_view_form_item_dic[C];break;case"accero":var p="temp_dept",r=Global.loadWidgetByName(FormItemType.COMBO_BOX);r.TComboBox({field:p}),l=d("<div class='h-box'></div>");var _=Global.loadWidgetByName(FormItemType.TEXT_INPUT);_.css("margin-left","10px"),_.TTextInput({field:p+"_text"}),l.append(r),l.append(_),this.addEditFieldToColumn(d.i18n._("Department Override Code"),[r,_],u,"",l,!0),this.setWidgetVisible([r,_]),r.bind("formItemChange",function(o,i){i.getValue()===0?(_.css("display","inline"),_.setValue(e.export_setup_data[p])):_.css("display","none")}),e.api.getOptions("accero_temp_dept_options",{onResult:function(o){var i=o.getResult();r.setSourceData(Global.buildRecordArray(i)),r.setValue(e.export_setup_data[p]),r.trigger("formItemChange",[r,!0])}}),e.export_setup_ui_dic[p]=e.edit_view_form_item_dic[p],delete e.edit_view_form_item_dic[p];break;case"va_munis":s="department",t=Global.loadWidgetByName(FormItemType.COMBO_BOX),t.TComboBox({field:s}),l=d("<div class='h-box'></div>"),c=Global.loadWidgetByName(FormItemType.TEXT_INPUT),c.css("margin-left","10px"),c.TTextInput({field:s+"_text"}),l.append(t),l.append(c),this.addEditFieldToColumn(d.i18n._("Department"),[t,c],u,"",l,!0),this.setWidgetVisible([t,c]),t.bind("formItemChange",function(o,i){i.getValue()===0?(c.css("display","inline"),c.setValue(e.export_setup_data[s])):c.css("display","none")}),e.api.getOptions("export_columns",{onResult:function(o){var i=o.getResult();i.hasOwnProperty("0")||(i[0]="-- Custom --"),t.setSourceData(Global.buildRecordArray(i)),t.setValue(e.export_setup_data[s]),t.trigger("formItemChange",[t,!0])}}),e.export_setup_ui_dic[s]=e.edit_view_form_item_dic[s],delete e.edit_view_form_item_dic[s],v="employee_number",n=Global.loadWidgetByName(FormItemType.COMBO_BOX),n.TComboBox({field:v}),l=d("<div class='h-box'></div>"),y=Global.loadWidgetByName(FormItemType.TEXT_INPUT),y.css("margin-left","10px"),y.TTextInput({field:v+"_text"}),l.append(n),l.append(y),this.addEditFieldToColumn(d.i18n._("Employee Number"),[n,y],u,"",l,!0),this.setWidgetVisible([n,y]),n.bind("formItemChange",function(o,i){i.getValue()===0?(y.css("display","inline"),y.setValue(e.export_setup_data[v])):y.css("display","none")}),e.api.getOptions("export_columns",{onResult:function(o){var i=o.getResult();i.hasOwnProperty("0")||(i[0]="-- Custom --"),n.setSourceData(Global.buildRecordArray(i)),n.setValue(e.export_setup_data[v]),n.trigger("formItemChange",[n,!0])}}),e.export_setup_ui_dic[v]=e.edit_view_form_item_dic[v],delete e.edit_view_form_item_dic[v],p="gl_account",r=Global.loadWidgetByName(FormItemType.COMBO_BOX),r.TComboBox({field:p}),l=d("<div class='h-box'></div>"),_=Global.loadWidgetByName(FormItemType.TEXT_INPUT),_.css("margin-left","10px"),_.TTextInput({field:p+"_text"}),l.append(r),l.append(_),this.addEditFieldToColumn(d.i18n._("Long GL Account"),[r,_],u,"",l,!0),this.setWidgetVisible([r,_]),r.bind("formItemChange",function(o,i){i.getValue()===0?(_.css("display","inline"),_.setValue(e.export_setup_data[p])):_.css("display","none")}),e.api.getOptions("export_columns",{onResult:function(o){var i=o.getResult();i.hasOwnProperty("0")||(i[0]="-- Custom --"),r.setSourceData(Global.buildRecordArray(i)),r.setValue(e.export_setup_data[p]),r.trigger("formItemChange",[r,!0])}}),e.export_setup_ui_dic[p]=e.edit_view_form_item_dic[p],delete e.edit_view_form_item_dic[p];break;case"ceridian_insync":s="employer_number",t=Global.loadWidgetByName(FormItemType.TEXT_INPUT),t.TTextInput({field:s}),this.addEditFieldToColumn(d.i18n._("Employer Number"),t,u,"",null,!0),this.setWidgetVisible([t]),t.setValue(e.export_setup_data[s]),e.export_setup_ui_dic[s]=e.edit_view_form_item_dic[s],delete e.edit_view_form_item_dic[s];break;case"paychex_preview":s="client_number",t=Global.loadWidgetByName(FormItemType.TEXT_INPUT),t.TTextInput({field:s}),this.addEditFieldToColumn(d.i18n._("Client Number"),t,u,"",null,!0),this.setWidgetVisible([t]),t.setValue(e.export_setup_data[s]),e.export_setup_ui_dic[s]=e.edit_view_form_item_dic[s],delete e.edit_view_form_item_dic[s];break;case"paychex_preview_advanced_job":s="client_number_adv",t=Global.loadWidgetByName(FormItemType.TEXT_INPUT),t.TTextInput({field:s}),this.addEditFieldToColumn(d.i18n._("Client Number"),t,u,"",null,!0),this.setWidgetVisible([t]),t.setValue(e.export_setup_data.client_number),e.export_setup_ui_dic[s]=e.edit_view_form_item_dic[s],delete e.edit_view_form_item_dic[s],v="job_columns",n=Global.loadWidgetByName(FormItemType.AWESOME_BOX),n.AComboBox({field:v,allow_multiple_selection:!0,layout_name:"global_option_column",key:"value",set_empty:!0}),this.addEditFieldToColumn(d.i18n._("Job"),n,u,"",null,!0),this.setWidgetVisible([n]),TTAPI.APIJobDetailReport.getOptions("static_columns",{onResult:function(o){var i=o.getResult();n.setSourceData(Global.buildRecordArray(i)),n.setValue(e.export_setup_data[v])}}),e.export_setup_ui_dic[v]=e.edit_view_form_item_dic[v],delete e.edit_view_form_item_dic[v],p="state_columns",r=Global.loadWidgetByName(FormItemType.COMBO_BOX),r.TComboBox({field:p,set_empty:!0}),this.addEditFieldToColumn(d.i18n._("State"),r,u,"",null,!0),this.setWidgetVisible([r]),TTAPI.APIJobDetailReport.getOptions("static_columns",{onResult:function(o){var i=o.getResult();r.setSourceData(Global.buildRecordArray(i)),r.setValue(e.export_setup_data[p])}}),e.export_setup_ui_dic[p]=e.edit_view_form_item_dic[p],delete e.edit_view_form_item_dic[p],s="include_hourly_rate",t=Global.loadWidgetByName(FormItemType.CHECKBOX),t.TCheckbox({field:s}),this.addEditFieldToColumn(d.i18n._("Include Override Rates"),t,u,"",null,!0),this.setWidgetVisible([t]),t.setValue(e.export_setup_data[s]),e.export_setup_ui_dic[s]=e.edit_view_form_item_dic[s],delete e.edit_view_form_item_dic[s];break;case"quickbooks":case"quickbooks_advanced":s="company_name",t=Global.loadWidgetByName(FormItemType.TEXT_INPUT),t.TTextInput({field:s});var I=this.buildWidgetContainerWithTextTip(t,d.i18n._("(Exactly as shown in Quickbooks)"));this.addEditFieldToColumn(d.i18n._("Company Name"),t,u,"",I,!0),this.setWidgetVisible([t]),t.setValue(e.export_setup_data[s]),e.export_setup_ui_dic[s]=e.edit_view_form_item_dic[s],delete e.edit_view_form_item_dic[s],s="company_created_date",t=Global.loadWidgetByName(FormItemType.TEXT_INPUT),t.TTextInput({field:s}),I=this.buildWidgetContainerWithTextTip(t,d.i18n._("(Exactly as shown in exported timer list)")),this.addEditFieldToColumn(d.i18n._("Company Created Time"),t,u,"",I,!0),this.setWidgetVisible([t]),t.setValue(e.export_setup_data[s]),e.export_setup_ui_dic[s]=e.edit_view_form_item_dic[s],delete e.edit_view_form_item_dic[s],v="proj",n=Global.loadWidgetByName(FormItemType.COMBO_BOX),n.TComboBox({field:v}),this.addEditFieldToColumn(d.i18n._("Map PROJ Field To"),n,u,"",null,!0),this.setWidgetVisible([n]),this.api.getOptions("quickbooks_proj_options",{onResult:function(o){var i=o.getResult();n.setSourceData(Global.buildRecordArray(i)),n.setValue(e.export_setup_data[v])}}),e.export_setup_ui_dic[v]=e.edit_view_form_item_dic[v],delete e.edit_view_form_item_dic[v],p="item",r=Global.loadWidgetByName(FormItemType.COMBO_BOX),r.TComboBox({field:p}),this.addEditFieldToColumn(d.i18n._("Map ITEM Field To"),r,u,"",null,!0),this.setWidgetVisible([r]),this.api.getOptions("quickbooks_proj_options",{onResult:function(o){var i=o.getResult();r.setSourceData(Global.buildRecordArray(i)),r.setValue(e.export_setup_data[p])}}),e.export_setup_ui_dic[p]=e.edit_view_form_item_dic[p],delete e.edit_view_form_item_dic[p];var T="job",h=Global.loadWidgetByName(FormItemType.COMBO_BOX);h.TComboBox({field:T}),this.addEditFieldToColumn(d.i18n._("Map JOB Field To"),h,u,"",null,!0),this.setWidgetVisible([h]),this.api.getOptions("quickbooks_proj_options",{onResult:function(o){var i=o.getResult();h.setSourceData(Global.buildRecordArray(i)),h.setValue(e.export_setup_data[T])}}),e.export_setup_ui_dic[T]=e.edit_view_form_item_dic[T],delete e.edit_view_form_item_dic[T];break;case"sage_50":var s="customer_name",t=Global.loadWidgetByName(FormItemType.COMBO_BOX);t.TComboBox({field:s});var l=d("<div class='h-box'></div>"),c=Global.loadWidgetByName(FormItemType.TEXT_INPUT);c.css("margin-left","10px"),c.TTextInput({field:s+"_text"}),l.append(t),l.append(c),this.addEditFieldToColumn(d.i18n._("Customer Name"),[t,c],u,"",l,!0),this.setWidgetVisible([t,c]),t.bind("formItemChange",function(o,i){i.getValue()===0?(c.css("display","inline"),c.setValue(e.export_setup_data[s])):c.css("display","none")}),e.api.getOptions("sage_50_customer_name_options",{onResult:function(o){var i=o.getResult();t.setSourceData(Global.buildRecordArray(i)),t.setValue(e.export_setup_data[s]),t.trigger("formItemChange",[t,!0])}}),e.export_setup_ui_dic[s]=e.edit_view_form_item_dic[s],delete e.edit_view_form_item_dic[s];break;case"chris21":var v="job",n=Global.loadWidgetByName(FormItemType.COMBO_BOX);n.TComboBox({field:v}),l=d("<div class='h-box'></div>");var y=Global.loadWidgetByName(FormItemType.TEXT_INPUT);y.css("margin-left","10px"),y.TTextInput({field:v+"_text"}),l.append(n),l.append(y),this.addEditFieldToColumn(d.i18n._("Job Number"),[n,y],u,"",l,!0),this.setWidgetVisible([n,y]),n.bind("formItemChange",function(o,i){i.getValue()===0?(y.css("display","inline"),y.setValue(e.export_setup_data[v])):y.css("display","none")}),e.api.getOptions("chris21_job_options",{onResult:function(o){var i=o.getResult();n.setSourceData(Global.buildRecordArray(i)),n.setValue(e.export_setup_data[v]),n.trigger("formItemChange",[n,!0])}}),e.export_setup_ui_dic[v]=e.edit_view_form_item_dic[v],delete e.edit_view_form_item_dic[v];var p="cost_center",r=Global.loadWidgetByName(FormItemType.COMBO_BOX);r.TComboBox({field:p}),l=d("<div class='h-box'></div>");var _=Global.loadWidgetByName(FormItemType.TEXT_INPUT);_.css("margin-left","10px"),_.TTextInput({field:p+"_text"}),l.append(r),l.append(_),this.addEditFieldToColumn(d.i18n._("Cost Center Code"),[r,_],u,"",l,!0),this.setWidgetVisible([r,_]),r.bind("formItemChange",function(o,i){i.getValue()===0?(_.css("display","inline"),_.setValue(e.export_setup_data[p])):_.css("display","none")}),e.api.getOptions("chris21_cost_center_options",{onResult:function(o){var i=o.getResult();r.setSourceData(Global.buildRecordArray(i)),r.setValue(e.export_setup_data[p]),r.trigger("formItemChange",[r,!0])}}),e.export_setup_ui_dic[p]=e.edit_view_form_item_dic[p],delete e.edit_view_form_item_dic[p];break;case"cms_pbj":var s="facility_code",t=Global.loadWidgetByName(FormItemType.COMBO_BOX);t.TComboBox({field:s});var l=d("<div class='h-box'></div>"),c=Global.loadWidgetByName(FormItemType.TEXT_INPUT);c.css("margin-left","10px"),c.TTextInput({field:s+"_text"}),l.append(t),l.append(c),this.addEditFieldToColumn(d.i18n._("Facility ID"),[t,c],u,"",l,!0),this.setWidgetVisible([t,c]),t.bind("formItemChange",function(o,i){i.getValue()===0?(c.css("display","inline"),c.setValue(e.export_setup_data[s])):c.css("display","none")}),e.api.getOptions("cms_pbj_facility_code_options",{onResult:function(o){var i=o.getResult();t.setSourceData(Global.buildRecordArray(i)),t.setValue(e.export_setup_data[s]),t.trigger("formItemChange",[t,!0])}}),e.export_setup_ui_dic[s]=e.edit_view_form_item_dic[s],delete e.edit_view_form_item_dic[s];var v="state_code",n=Global.loadWidgetByName(FormItemType.COMBO_BOX);n.TComboBox({field:v}),l=d("<div class='h-box'></div>");var y=Global.loadWidgetByName(FormItemType.TEXT_INPUT);y.css("margin-left","10px"),y.TTextInput({field:v+"_text"}),l.append(n),l.append(y),this.addEditFieldToColumn(d.i18n._("State"),[n,y],u,"",l,!0),this.setWidgetVisible([n,y]),n.bind("formItemChange",function(o,i){i.getValue()===0?(y.css("display","inline"),y.setValue(e.export_setup_data[v])):y.css("display","none")}),e.api.getOptions("cms_obj_state_code_options",{onResult:function(o){var i=o.getResult();n.setSourceData(Global.buildRecordArray(i)),n.setValue(e.export_setup_data[v]),n.trigger("formItemChange",[n,!0])}}),e.export_setup_ui_dic[v]=e.edit_view_form_item_dic[v],delete e.edit_view_form_item_dic[v];var p="pay_type_code",r=Global.loadWidgetByName(FormItemType.COMBO_BOX);r.TComboBox({field:p}),l=d("<div class='h-box'></div>");var _=Global.loadWidgetByName(FormItemType.TEXT_INPUT);_.css("margin-left","10px"),_.TTextInput({field:p+"_text"}),l.append(r),l.append(_),this.addEditFieldToColumn(d.i18n._("Pay Type Code"),[r,_],u,"",l,!0),this.setWidgetVisible([r,_]),r.bind("formItemChange",function(o,i){i.getValue()===0?(_.css("display","inline"),_.setValue(e.export_setup_data[p])):_.css("display","none")}),e.api.getOptions("cms_pbj_pay_type_code_options",{onResult:function(o){var i=o.getResult();r.setSourceData(Global.buildRecordArray(i)),r.setValue(e.export_setup_data[p]),r.trigger("formItemChange",[r,!0])}}),e.export_setup_ui_dic[p]=e.edit_view_form_item_dic[p],delete e.edit_view_form_item_dic[p];var T="job_title_code",h=Global.loadWidgetByName(FormItemType.COMBO_BOX);h.TComboBox({field:T}),l=d("<div class='h-box'></div>");var m=Global.loadWidgetByName(FormItemType.TEXT_INPUT);m.css("margin-left","10px"),m.TTextInput({field:T+"_text"}),l.append(h),l.append(m),this.addEditFieldToColumn(d.i18n._("Job Title Code"),[h,m],u,"",l,!0),this.setWidgetVisible([h,m]),h.bind("formItemChange",function(o,i){i.getValue()===0?(m.css("display","inline"),m.setValue(e.export_setup_data[T])):m.css("display","none")}),e.api.getOptions("cms_pbj_job_title_code_options",{onResult:function(o){var i=o.getResult();h.setSourceData(Global.buildRecordArray(i)),h.setValue(e.export_setup_data[T]),h.trigger("formItemChange",[h,!0])}}),e.export_setup_ui_dic[T]=e.edit_view_form_item_dic[T],delete e.edit_view_form_item_dic[T];break;case"meditech":f="payroll",t=Global.loadWidgetByName(FormItemType.TEXT_INPUT),t.TTextInput({field:f}),this.addEditFieldToColumn(d.i18n._("Payroll"),t,u,"",null,!0),this.setWidgetVisible([t]),t.setValue(e.export_setup_data[f]),e.export_setup_ui_dic[f]=e.edit_view_form_item_dic[f],delete e.edit_view_form_item_dic[f];var s="employee_number",t=Global.loadWidgetByName(FormItemType.COMBO_BOX);t.TComboBox({field:s});var l=d("<div class='h-box'></div>"),c=Global.loadWidgetByName(FormItemType.TEXT_INPUT);c.css("margin-left","10px"),c.TTextInput({field:s+"_text"}),l.append(t),l.append(c),this.addEditFieldToColumn(d.i18n._("Employee Number"),[t,c],u,"",l,!0),this.setWidgetVisible([t,c]),t.bind("formItemChange",function(o,i){i.getValue()===0?(c.css("display","inline"),c.setValue(e.export_setup_data[s])):c.css("display","none")}),e.api.getOptions("export_columns","meditech",{onResult:function(o){var i=o.getResult();t.setSourceData(Global.buildRecordArray(i)),t.setValue(e.export_setup_data[s]),t.trigger("formItemChange",[t,!0])}}),e.export_setup_ui_dic[s]=e.edit_view_form_item_dic[s],delete e.edit_view_form_item_dic[s];var p="department",r=Global.loadWidgetByName(FormItemType.COMBO_BOX);r.TComboBox({field:p}),l=d("<div class='h-box'></div>");var _=Global.loadWidgetByName(FormItemType.TEXT_INPUT);_.css("margin-left","10px"),_.TTextInput({field:p+"_text"}),l.append(r),l.append(_),this.addEditFieldToColumn(d.i18n._("Department"),[r,_],u,"",l,!0),this.setWidgetVisible([r,_]),r.bind("formItemChange",function(o,i){i.getValue()===0?(_.css("display","inline"),_.setValue(e.export_setup_data[p])):_.css("display","none")}),e.api.getOptions("meditech_department_options",{onResult:function(o){var i=o.getResult();r.setSourceData(Global.buildRecordArray(i)),r.setValue(e.export_setup_data[p]),r.trigger("formItemChange",[r,!0])}}),e.export_setup_ui_dic[p]=e.edit_view_form_item_dic[p],delete e.edit_view_form_item_dic[p];var T="job_code",h=Global.loadWidgetByName(FormItemType.COMBO_BOX);h.TComboBox({field:T}),l=d("<div class='h-box'></div>");var m=Global.loadWidgetByName(FormItemType.TEXT_INPUT);m.css("margin-left","10px"),m.TTextInput({field:T+"_text"}),l.append(h),l.append(m),this.addEditFieldToColumn(d.i18n._("Job Code"),[h,m],u,"",l,!0),this.setWidgetVisible([h,m]),h.bind("formItemChange",function(o,i){i.getValue()===0?(m.css("display","inline"),m.setValue(e.export_setup_data[T])):m.css("display","none")}),e.api.getOptions("meditech_job_code_options",{onResult:function(o){var i=o.getResult();h.setSourceData(Global.buildRecordArray(i)),h.setValue(e.export_setup_data[T]),h.trigger("formItemChange",[h,!0])}}),e.export_setup_ui_dic[T]=e.edit_view_form_item_dic[T],delete e.edit_view_form_item_dic[T];break;case"vensure":var s="employee_number",t=Global.loadWidgetByName(FormItemType.COMBO_BOX);t.TComboBox({field:s});var l=d("<div class='h-box'></div>"),c=Global.loadWidgetByName(FormItemType.TEXT_INPUT);c.css("margin-left","10px"),c.TTextInput({field:s+"_text"}),l.append(t),l.append(c),this.addEditFieldToColumn(d.i18n._("Employee Number"),[t,c],u,"",l,!0),this.setWidgetVisible([t,c]),t.bind("formItemChange",function(o,i){i.getValue()===0?(c.css("display","inline"),c.setValue(e.export_setup_data[s])):c.css("display","none")}),e.api.getOptions("export_columns","vensure",{onResult:function(o){var i=o.getResult();t.setSourceData(Global.buildRecordArray(i)),t.setValue(e.export_setup_data[s]),t.trigger("formItemChange",[t,!0])}}),e.export_setup_ui_dic[s]=e.edit_view_form_item_dic[s],delete e.edit_view_form_item_dic[s];var v="location",n=Global.loadWidgetByName(FormItemType.COMBO_BOX);n.TComboBox({field:v}),l=d("<div class='h-box'></div>");var y=Global.loadWidgetByName(FormItemType.TEXT_INPUT);y.css("margin-left","10px"),y.TTextInput({field:v+"_text"}),l.append(n),l.append(y),this.addEditFieldToColumn(d.i18n._("Location Code"),[n,y],u,"",l,!0),this.setWidgetVisible([n,y]),n.bind("formItemChange",function(o,i){i.getValue()===0?(y.css("display","inline"),y.setValue(e.export_setup_data[v])):y.css("display","none")}),e.api.getOptions("vensure_location_options",{onResult:function(o){var i=o.getResult();n.setSourceData(Global.buildRecordArray(i)),n.setValue(e.export_setup_data[v]),n.trigger("formItemChange",[n,!0])}}),e.export_setup_ui_dic[v]=e.edit_view_form_item_dic[v],delete e.edit_view_form_item_dic[v];var p="department",r=Global.loadWidgetByName(FormItemType.COMBO_BOX);r.TComboBox({field:p}),l=d("<div class='h-box'></div>");var _=Global.loadWidgetByName(FormItemType.TEXT_INPUT);_.css("margin-left","10px"),_.TTextInput({field:p+"_text"}),l.append(r),l.append(_),this.addEditFieldToColumn(d.i18n._("Department Code"),[r,_],u,"",l,!0),this.setWidgetVisible([r,_]),r.bind("formItemChange",function(o,i){i.getValue()===0?(_.css("display","inline"),_.setValue(e.export_setup_data[p])):_.css("display","none")}),e.api.getOptions("vensure_department_options",{onResult:function(o){var i=o.getResult();r.setSourceData(Global.buildRecordArray(i)),r.setValue(e.export_setup_data[p]),r.trigger("formItemChange",[r,!0])}}),e.export_setup_ui_dic[p]=e.edit_view_form_item_dic[p],delete e.edit_view_form_item_dic[p];var T="division",h=Global.loadWidgetByName(FormItemType.COMBO_BOX);h.TComboBox({field:T}),l=d("<div class='h-box'></div>");var m=Global.loadWidgetByName(FormItemType.TEXT_INPUT);m.css("margin-left","10px"),m.TTextInput({field:T+"_text"}),l.append(h),l.append(m),this.addEditFieldToColumn(d.i18n._("Division Code"),[h,m],u,"",l,!0),this.setWidgetVisible([h,m]),h.bind("formItemChange",function(o,i){i.getValue()===0?(m.css("display","inline"),m.setValue(e.export_setup_data[T])):m.css("display","none")}),e.api.getOptions("vensure_division_options",{onResult:function(o){var i=o.getResult();h.setSourceData(Global.buildRecordArray(i)),h.setValue(e.export_setup_data[T]),h.trigger("formItemChange",[h,!0])}}),e.export_setup_ui_dic[T]=e.edit_view_form_item_dic[T],delete e.edit_view_form_item_dic[T];var f="job",w=Global.loadWidgetByName(FormItemType.COMBO_BOX);w.TComboBox({field:f}),l=d("<div class='h-box'></div>");var V=Global.loadWidgetByName(FormItemType.TEXT_INPUT);V.css("margin-left","10px"),V.TTextInput({field:f+"_text"}),l.append(w),l.append(V),this.addEditFieldToColumn(d.i18n._("Job Code"),[w,V],u,"",l,!0),this.setWidgetVisible([w,V]),w.bind("formItemChange",function(o,i){i.getValue()===0?(V.css("display","inline"),V.setValue(e.export_setup_data[f])):V.css("display","none")}),e.api.getOptions("vensure_job_options",{onResult:function(o){var i=o.getResult();w.setSourceData(Global.buildRecordArray(i)),w.setValue(e.export_setup_data[f]),w.trigger("formItemChange",[w,!0])}}),e.export_setup_ui_dic[f]=e.edit_view_form_item_dic[f],delete e.edit_view_form_item_dic[f];break;case"csv_advanced":s="csv_export_columns",t=Global.loadWidgetByName(FormItemType.AWESOME_BOX),t.AComboBox({field:s,allow_multiple_selection:!0,layout_name:"global_option_column",key:"value",set_empty:!0}),this.addEditFieldToColumn(d.i18n._("Export Columns"),t,u,"",null,!0),this.setWidgetVisible([t]),this.api.getOptions("export_columns","csv_advanced",{onResult:function(o){var i=o.getResult();t.setSourceData(Global.buildRecordArray(i)),t.setValue(e.export_setup_data[s])}}),e.export_setup_ui_dic[s]=e.edit_view_form_item_dic[s],delete e.edit_view_form_item_dic[s];break}this.editFieldResize(3)}buildEditViewUI(){super.buildEditViewUI();var a=this.edit_view.find("a[ref=tab_form_setup]");a.text(d.i18n._("Export Setup"))}removeCurrentExportUI(){for(var a in this.export_setup_ui_dic){var e=this.export_setup_ui_dic[a];e.remove()}if(this.edit_view_tab){var g=this.edit_view_tab.find("#tab_form_setup"),u=g.find(".first-column"),C=u.find(".clear-both-div");C.remove()}}getExportColumns(a){var e={};if(this.export_grid)for(var g=this.export_grid.getData(),u=g.length,C=0;C<u;C++){var b=g[C];e[b.column_id_key]={},e[b.column_id_key].hour_code=b.hour_code,(a==="adp"||a==="adp_advanced"||a==="adp_resource"||a==="accero"||a==="va_munis"||a==="cms_pbj")&&(e[b.column_id_key].hour_column=b.hour_column)}return e}getFormSetupFieldValues(a){for(var e={},g=0;g<a.length;g++)this.edit_view_ui_dic[a[g]]&&!this.edit_view_ui_dic[a[g]].getValue()?(e[a[g]]=this.edit_view_ui_dic[a[g]+"_text"].getValue(),e[a[g]+"_value"]=this.edit_view_ui_dic[a[g]+"_text"].getValue()):this.edit_view_ui_dic[a[g]]?e[a[g]]=this.edit_view_ui_dic[a[g]].getValue():e[a[g]]="";return e}getFormData(a,e){if(!a||!a.export_type)return!1;switch(a.export_type){case"adp":a[a.export_type]=this.getFormSetupFieldValues(["company_code","batch_id","temp_dept"]);break;case"adp_advanced":case"adp_resource":a[a.export_type]=this.getFormSetupFieldValues(["company_code","batch_id","temp_dept","job_cost","work_class"]),a[a.export_type].state_columns=this.edit_view_ui_dic.state_columns.getValue();break;case"accero":a[a.export_type]=this.getFormSetupFieldValues(["temp_dept"]);break;case"paychex_preview":a[a.export_type].client_number=this.edit_view_ui_dic.client_number.getValue();break;case"paychex_preview_advanced_job":a[a.export_type].client_number=this.edit_view_ui_dic.client_number_adv.getValue(),a[a.export_type].job_columns=this.edit_view_ui_dic.job_columns.getValue(),a[a.export_type].state_columns=this.edit_view_ui_dic.state_columns.getValue(),a[a.export_type].include_hourly_rate=this.edit_view_ui_dic.include_hourly_rate.getValue();break;case"chris21":a[a.export_type]=this.getFormSetupFieldValues(["job","cost_center"]);break;case"ceridian_insync":a[a.export_type].employer_number=this.edit_view_ui_dic.employer_number.getValue();break;case"quickbooks":case"quickbooks_advanced":a[a.export_type].company_name=this.edit_view_ui_dic.company_name.getValue(),a[a.export_type].company_created_date=this.edit_view_ui_dic.company_created_date.getValue(),a[a.export_type].proj=this.edit_view_ui_dic.proj.getValue(),a[a.export_type].item=this.edit_view_ui_dic.item.getValue(),a[a.export_type].job=this.edit_view_ui_dic.job.getValue();break;case"sage_50":a[a.export_type]=this.getFormSetupFieldValues(["customer_name"]);break;case"va_munis":a[a.export_type]=this.getFormSetupFieldValues(["department","employee_number","gl_account","customer_name","facility_code","state_code","pay_type_code","job_title_code",""]);break;case"meditech":a[a.export_type]=this.getFormSetupFieldValues(["employee_number","department","job_code"]),a[a.export_type].payroll=this.edit_view_ui_dic.payroll.getValue();break;case"vensure":a[a.export_type]=this.getFormSetupFieldValues(["employee_number","location","department","division","job"]);break;case"csv_advanced":a[a.export_type].export_columns=this.edit_view_ui_dic.csv_export_columns.getValue();break;case"cms_pbj":a[a.export_type]=this.getFormSetupFieldValues(["facility_code","state_code","pay_type_code","job_title_code"]);break}if(this.save_export_setup_data||(this.save_export_setup_data={}),this.save_export_setup_data[a.export_type]=a[a.export_type],this.save_export_setup_data[a.export_type].columns=this.getExportColumns(a.export_type),this.save_export_setup_data.export_type=a.export_type,e)for(var g in this.save_export_setup_data)g!==!1&&typeof this.save_export_setup_data[g]!="string"&&(this.save_export_setup_data[g]=this.convertExportSetupValues(this.save_export_setup_data[g]));return a}getFormSetupData(a){var e={};if(e.export_type=this.edit_view_ui_dic.export_type.getValue(),e[e.export_type]={},e[e.export_type].columns=this.getExportColumns(e.export_type),e=this.getFormData(e,!0),!a&&e.export_type){var g=e.export_type;e=e[g],e.export_type=g,e[g]={},e[g].columns=this.getExportColumns(e.export_type)}return e}convertExportSetupValues(a){for(var e in a){var g=e.substr(0,e.indexOf("_value"));e.search("_value")>0&&(a[g]=a[e])}return a.export_columns&&!a.columns&&a.export_type!=0&&a.export_columns[a.export_type]&&(a.columns={},a.columns=a.export_columns[a.export_type].columns),a}setFormSetupData(a){if(this.edit_view_ui_dic.export_type&&this.edit_view_ui_dic.export_type.getValue()&&(a.export_type=this.edit_view_ui_dic.export_type.getValue()),a.export_columns)a=this.convertExportSetupValues(a),this.save_export_setup_data[a.export_type]=a,this.save_export_setup_data.export_type=a.export_type;else{for(var e in a)e!==!1&&typeof a[e]!="string"&&(a[e]=this.convertExportSetupValues(a[e]));this.save_export_setup_data=a}a||(this.show_empty_message=!0),a&&a.export_type&&(this.edit_view_ui_dic.export_type.setValue(a.export_type),this.current_edit_record.export_type=a.export_type),this.save_export_setup_data.csv_advanced&&(this.save_export_setup_data.csv_advanced.csv_export_columns?this.save_export_setup_data.csv_advanced.export_columns=this.save_export_setup_data.csv_advanced.csv_export_columns:this.save_export_setup_data.csv_advanced.csv_export_columns=this.save_export_setup_data.csv_advanced.export_columns),this.onExportChange(a.export_type)}onFormItemChange(a,e){var g=d("#export_grid").getGridParam("selrow");if(d("#export_grid").saveRow(g),a&&a.getField&&a.getField()=="export_type"){var u={};u.export_type=this.current_edit_record.export_type,u[u.export_type]={},u[u.export_type].export_columns={columns:this.getExportColumns(u.export_type)},(!this.export_setup_data.export_columns||Global.isObject(this.export_setup_data.export_columns)==!1)&&(this.export_setup_data.export_columns={},this.export_setup_data.export_columns[u.export_type]={}),this.export_setup_data.export_columns[u.export_type]={columns:this.getExportColumns(u.export_type)},this.form_setup_changed=!0;return}super.onFormItemChange(a,e)}}export{G as PayrollExportReportViewController};
//# sourceMappingURL=PayrollExportReportViewController-DPB_q3zz.bundle.js.map
