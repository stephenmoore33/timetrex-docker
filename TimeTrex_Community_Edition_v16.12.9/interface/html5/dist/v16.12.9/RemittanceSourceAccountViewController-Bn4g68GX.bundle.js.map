{"version":3,"file":"RemittanceSourceAccountViewController-Bn4g68GX.bundle.js","sources":["../../views/company/remittance_source_account/RemittanceSourceAccountViewController.js"],"sourcesContent":["import '@/global/widgets/filebrowser/TImage';\nimport '@/global/widgets/filebrowser/TImageAdvBrowser';\n\nexport class RemittanceSourceAccountViewController extends BaseViewController {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {\n\t\t\tel: '#remittance_source_account_view_container',\n\n\t\t\tstatus_array: null,\n\t\t\ttype_array: null,\n\t\t\tcountry_array: null,\n\t\t\tdata_format_array: null,\n\t\t\tach_transaction_type_array: null,\n\t\t\tach_transaction_type_data: null,\n\t\t\tcompany_api: null\n\t\t} );\n\n\t\tsuper( options );\n\t}\n\n\tinit() {\n\t\t//this._super('initialize' );\n\t\tthis.edit_view_tpl = 'RemittanceSourceAccountEditView.html';\n\t\tthis.permission_id = 'remittance_source_account';\n\t\tthis.viewId = 'RemittanceSourceAccount';\n\t\tthis.script_name = 'RemittanceSourceAccountView';\n\t\tthis.table_name_key = 'remittance_source_account';\n\t\tthis.context_menu_name = $.i18n._( 'Remittance Source Accounts' );\n\t\tthis.navigation_label = $.i18n._( 'Remittance Source Account' );\n\t\tthis.api = TTAPI.APIRemittanceSourceAccount;\n\t\tthis.company_api = TTAPI.APICompany;\n\n\t\tthis.render();\n\t\tthis.buildContextMenu();\n\n\t\tthis.initData();\n\n\t\t$( '#tab_advanced_content_div .edit-view-form-item-div .edit-view-form-item-label-div' ).css( 'border-top-left-radius', '0px' );\n\t\t$( '#tab_advanced_content_div .edit-view-form-item-div:first .edit-view-form-item-label-div' ).css( 'border-top-left-radius', '5px' );\n\t}\n\n\tinitOptions() {\n\t\tvar $this = this;\n\n\t\tvar options = [\n\t\t\t{ option_name: 'status', api: this.api },\n\t\t\t{ option_name: 'type', api: this.api },\n\t\t\t{ option_name: 'country', field_name: 'country', api: this.company_api },\n\t\t];\n\n\t\tthis.initDropDownOptions( options );\n\n\t\tthis.api.getOptions( 'ach_transaction_type', {\n\t\t\tonResult: function( res ) {\n\t\t\t\tvar result = res.getResult();\n\t\t\t\t$this.ach_transaction_type_data = result;\n\t\t\t\t$this.ach_transaction_type_array = Global.buildRecordArray( result );\n\t\t\t}\n\t\t} );\n\t}\n\n\tgetSignatureUrl() {\n\t\tvar url = false;\n\t\tif ( this.current_edit_record.id ) {\n\t\t\turl = ServiceCaller.getURLByObjectType( 'remittance_source_account' ) + '&object_id=' + this.current_edit_record.id\n\t\t}\n\t\tDebug.Text( url, 'RemittanceSourceAccountViewController.js', 'RemittanceSourceAccountViewController', 'getSignatureUrl', 10 );\n\t\treturn url;\n\t}\n\n\tsetEditViewDataDone() {\n\t\tsuper.setEditViewDataDone();\n\t\tthis.file_browser.setImage( this.getSignatureUrl() );\n\t}\n\n\tuniformVariable( record ) {\n\t\t//ensure that the variable variable fields are set to false if they aren't showing.\n\t\tif ( this.edit_view_ui_dic && this.current_edit_record.remittance_source_account_id != TTUUID.zero_id ) { //Keep accountd data if UUID == zero_id\n\t\t\tfor ( var i = 1; i <= 10; i++ ) {\n\t\t\t\tif ( i == 1 ) {\n\t\t\t\t\tif ( this.edit_view_ui_dic['country'].getValue() == 'US' ) {\n\t\t\t\t\t\tif ( this.edit_view_ui_dic['value1_2']  ) {\n\t\t\t\t\t\t\trecord['value1'] = record['value1_2'] ? record['value1_2'] : this.edit_view_ui_dic['value1_2'].getValue();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif ( this.edit_view_ui_dic['value1_1']  ) {\n\t\t\t\t\t\t\trecord['value1'] = record['value1_1'] ? record['value1_1'] : this.edit_view_ui_dic['value1_1'].getValue();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif ( !this.is_mass_editing && record['value' + i] && ( typeof this.edit_view_ui_dic['value' + i] == 'undefined' ) ) {\n\t\t\t\t\t\trecord['value' + i] = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn record;\n\t}\n\n\tgetCustomContextMenuModel() {\n\t\tvar context_menu_model = {\n\t\t\texclude: ['export_excel'],\n\t\t\tinclude: [\n\t\t\t\t{\n\t\t\t\t\tlabel: '', //Empty label. vue_icon is displayed instead of text.\n\t\t\t\t\tid: 'other_header',\n\t\t\t\t\tmenu_align: 'right',\n\t\t\t\t\taction_group: 'other',\n\t\t\t\t\taction_group_header: true,\n\t\t\t\t\tvue_icon: 'tticon tticon-more_vert_black_24dp',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'Sample File' ),\n\t\t\t\t\tid: 'export_export',\n\t\t\t\t\taction_group: 'other',\n\t\t\t\t\tmenu_align: 'right',\n\t\t\t\t\tvue_icon: 'tticon tticon-file_download_black_24dp',\n\t\t\t\t}]\n\t\t};\n\n\t\treturn context_menu_model;\n\t}\n\n\tsetCustomDefaultMenuIcon( id, context_btn, grid_selected_length ) {\n\t\tswitch ( id ) {\n\t\t\tcase 'export_export':\n\t\t\t\tContextMenuManager.hideMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, true );\n\t\t\t\tthis.setMenuExportIcon( context_btn, grid_selected_length );\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tsetCustomEditMenuIcon( id, context_btn ) {\n\t\tswitch ( id ) {\n\t\t\tcase 'export_export':\n\t\t\t\tContextMenuManager.hideMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, true );\n\t\t\t\tthis.setMenuExportIcon( context_btn );\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tsetMenuExportIcon( context_btn ) {\n\t\t//do not show for edit screens or non-grid screens.\n\t\tif ( this.getSelectedItems().length > 0 ) {\n\t\t\tContextMenuManager.disableMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, true );\n\t\t} else if ( this.edit_only_mode || this.grid == undefined || this.sub_view_mode ) {\n\t\t\tContextMenuManager.hideMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, false )\n\t\t} else {\n\t\t\tContextMenuManager.disableMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, false );\n\t\t}\n\t}\n\n\tonExportClick() {\n\t\tvar post_data = { 0: this.getGridSelectIdArray() };\n\t\tGlobal.APIFileDownload( this.api.className, 'testExport', post_data );\n\t}\n\n\tonFormItemChange( target, doNotValidate ) {\n\t\tthis.setIsChanged( target );\n\t\tthis.setMassEditingFieldsWhenFormChange( target );\n\t\tvar key = target.getField();\n\t\tvar c_value = target.getValue();\n\n\t\tswitch ( key ) {\n\t\t\tcase 'value1_1':\n\t\t\tcase 'value1_2':\n\t\t\t\tthis.current_edit_record['value1'] = c_value;\n\t\t\t\tbreak;\n\t\t\tcase 'country':\n\t\t\tcase 'type_id':\n\t\t\t\tthis.onTypeChange();\n\t\t\t\tbreak;\n\t\t\tcase 'data_format_id':\n\t\t\t\tthis.onDataFormatChange();\n\t\t\t\tbreak;\n\t\t\tcase 'value24':\n\t\t\t\tif ( c_value != false ) {\n\t\t\t\t\tthis.attachElement( 'value25' ).text( $.i18n._( 'Offset Description' ) );\n\t\t\t\t\tthis.attachElement( 'value27' ).text( $.i18n._( 'Offset Routing' ) );\n\t\t\t\t\tthis.attachElement( 'value28' ).text( $.i18n._( 'Offset Account' ) );\n\t\t\t\t\tif ( this.edit_view_ui_dic.value25.getValue().length == 0 ) {\n\t\t\t\t\t\tthis.edit_view_ui_dic.value25.setValue( 'OFFSET' );\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.detachElement( 'value25' );\n\t\t\t\t\tthis.detachElement( 'value27' );\n\t\t\t\t\tthis.detachElement( 'value28' );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t\tfor ( var evud_key in this.edit_view_ui_dic ) {\n\t\t\tthis.current_edit_record[evud_key] = this.edit_view_ui_dic[evud_key].getValue();\n\t\t}\n\n\t\tthis.current_edit_record[key] = c_value;\n\n\t\tif ( !doNotValidate ) {\n\t\t\tthis.validate();\n\t\t}\n\t}\n\n\tonCustomContextClick( id ) {\n\t\tswitch ( id ) {\n\t\t\tcase 'export_export':\n\t\t\t\tthis.onExportClick();\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tonSaveClick( ignoreWarning ) {\n\t\tsuper.onSaveClick( ignoreWarning );\n\t\tGlobal.clearCache( 'getOptions_type' ); //Needs to clear cache so if they add a source account of a new type, it will immediately appear in the Type dropdown for Payment Methods.\n\t}\n\n\tattachElement( key ) {\n\t\t//Error: Uncaught TypeError: Cannot read property 'insertBefore' of undefined in interface/html5/views/BaseViewController.js?v=9.0.0-20150822-210544 line 6439\n\t\tif ( !this.edit_view_form_item_dic || !this.edit_view_form_item_dic[key] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar place_holder = $( '.place_holder_' + key );\n\t\tthis.edit_view_form_item_dic[key].insertBefore( place_holder );\n\t\tplace_holder.remove();\n\n\t\treturn $( this.edit_view_form_item_dic[key].find( '.edit-view-form-item-label' ) );\n\t}\n\n\tsetCurrentEditRecordData() {\n\t\t//Set current edit record data to all widgets\n\t\tfor ( var key in this.current_edit_record ) {\n\n\t\t\tif ( !this.current_edit_record.hasOwnProperty( key ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar widget = this.edit_view_ui_dic[key];\n\n\t\t\tif ( key === 'value1' && this.current_edit_record[key] && !this.is_mass_editing ) {\n\t\t\t\tif ( Global.isSet( this.ach_transaction_type_data[this.current_edit_record[key]] ) ) {\n\t\t\t\t\tthis.edit_view_ui_dic['value1_2'].setValue( this.current_edit_record[key] );\n\t\t\t\t} else {\n\t\t\t\t\tthis.edit_view_ui_dic['value1_1'].setValue( this.current_edit_record[key] );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( Global.isSet( widget ) ) {\n\t\t\t\tswitch ( key ) {\n\t\t\t\t\tcase 'value1_1':\n\t\t\t\t\tcase 'value1_2':\n\t\t\t\t\t    break;\n\t\t\t\t\tcase 'type_id': //popular case\n\t\t\t\t\t\twidget.setValue( this.current_edit_record[key] );\n\t\t\t\t\t\tthis.onTypeChange();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'data_format_id': //popular case\n\t\t\t\t\t\twidget.setValue( this.current_edit_record[key] );\n\t\t\t\t\t\tthis.onDataFormatChange();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\twidget.setValue( this.current_edit_record[key] );\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t\tthis.collectUIDataToCurrentEditRecord();\n\t\tthis.setEditViewDataDone();\n\t}\n\n\tonDataFormatChange() {\n\t\tvar $this = this;\n\t\tvar type_id = this.edit_view_ui_dic.type_id.getValue();\n\t\tvar data_format_id = this.edit_view_ui_dic.data_format_id.getValue();\n\n\t\t//alert(' DataFormatChange: Type: '+ type_id + ' Data Format: '+ data_format_id );\n\n\t\tif ( type_id == false || data_format_id == false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t$( this.edit_view_tab.find( 'ul li' )[1] ).hide(); //Hide Advanced tab\n\n\t\tthis.detachElement( 'value4' );\n\t\tthis.detachElement( 'value5' );\n\t\tthis.detachElement( 'value6' );\n\t\tthis.detachElement( 'value7' );\n\t\tthis.detachElement( 'value8' );\n\t\tthis.detachElement( 'value9' );\n\t\tthis.detachElement( 'value10' );\n\t\tthis.detachElement( 'value11' );\n\t\tthis.detachElement( 'value12' );\n\t\tthis.detachElement( 'value13' );\n\t\tthis.detachElement( 'value14' );\n\t\tthis.detachElement( 'value15' );\n\t\tthis.detachElement( 'value16' );\n\t\tthis.detachElement( 'value17' );\n\t\tthis.detachElement( 'value18' );\n\t\tthis.detachElement( 'value19' );\n\t\tthis.detachElement( 'value20' );\n\t\tthis.detachElement( 'value21' );\n\t\tthis.detachElement( 'value22' );\n\t\tthis.detachElement( 'value23' );\n\t\tthis.detachElement( 'value24' );\n\t\tthis.detachElement( 'value25' );\n\t\tthis.detachElement( 'value26' );\n\t\tthis.detachElement( 'value27' );\n\t\tthis.detachElement( 'value28' );\n\t\tthis.detachElement( 'value29' );\n\t\tthis.detachElement( 'value30' );\n\n\t\tthis.detachElement( 'signature' );\n\t\tthis.edit_view_ui_dic.value5.parent().find( '.mm_field_unit_text' ).remove();\n\t\tthis.edit_view_ui_dic.value6.parent().find( '.mm_field_unit_text' ).remove();\n\t\tif ( type_id != 2000 ) {\n\t\t\tTTPromise.wait( null, null, function() {\n\t\t\t\t$this.edit_view_ui_dic.value5.setWidth( 200 );\n\t\t\t\t$this.edit_view_ui_dic.value6.setWidth( 200 );\n\t\t\t} );\n\t\t}\n\n\t\tif ( type_id == 2000 ) {\n\t\t\tif ( Global.getProductEdition() >= 15 ) { //All cheque formats.\n\t\t\t\t$( this.edit_view_tab.find( 'ul li' )[1] ).show(); //Show Advanced Tab\n\n\t\t\t\tthis.attachElement( 'value5' ).text( $.i18n._( 'Vertical Alignment' ) );\n\t\t\t\tthis.attachElement( 'value6' ).text( $.i18n._( 'Horizontal Alignment' ) );\n\t\t\t\tthis.attachElement( 'signature' );\n\n\t\t\t\tthis.edit_view_ui_dic.value5.parent().append( '<span class=\"mm_field_unit_text\">&nbsp;mm</span>' );\n\t\t\t\tthis.edit_view_ui_dic.value6.parent().append( '<span class=\"mm_field_unit_text\">&nbsp;mm</span>' );\n\n\t\t\t\tTTPromise.wait( null, null, function() {\n\t\t\t\t\tif ( $this.edit_view_ui_dic && $this.edit_view_ui_dic.value5 ) {\n\t\t\t\t\t\t$this.edit_view_ui_dic.value5.setWidth( 42 );\n\t\t\t\t\t}\n\t\t\t\t\tif ( $this.edit_view_ui_dic && $this.edit_view_ui_dic.value6 ) {\n\t\t\t\t\t\t$this.edit_view_ui_dic.value6.setWidth( 42 );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\t\t} else if ( type_id == 3000 ) {\n\t\t\tif ( data_format_id == 5 ) { //TimeTrex Remittances\n\t\t\t\t// this.attachElement('value5').text($.i18n._('User Name') );\n\t\t\t\t// this.attachElement('value6').text($.i18n._('API Key') );\n\t\t\t} else if ( data_format_id == 10 ) { //US - ACH\n\t\t\t\t$( this.edit_view_tab.find( 'ul li' )[1] ).show(); //Show Advanced Tab\n\n\t\t\t\tthis.attachElement( 'value4' ).text( $.i18n._( 'Business Number' ) );\n\t\t\t\tthis.attachElement( 'value5' ).text( $.i18n._( 'Immediate Origin' ) );\n\t\t\t\tthis.attachElement( 'value6' ).text( $.i18n._( 'Immediate Origin Name' ) );\n\t\t\t\tthis.attachElement( 'value7' ).text( $.i18n._( 'Immediate Dest.' ) );\n\t\t\t\tthis.attachElement( 'value8' ).text( $.i18n._( 'Immediate Dest. Name' ) );\n\t\t\t\tthis.attachElement( 'value9' ).text( $.i18n._( 'Trace Number' ) );\n\t\t\t\tthis.attachElement( 'value10' ).text( $.i18n._( 'Discretionary Data' ) );\n\t\t\t\tthis.attachElement( 'value11' ).text( $.i18n._( 'Company Name' ) );\n\n\t\t\t\tthis.attachElement( 'value24' ).text( $.i18n._( 'Offset Transaction' ) );\n\t\t\t\tif ( this.current_edit_record.value24 == 1 ) {\n\t\t\t\t\tthis.current_edit_record.value24 = true;\n\t\t\t\t\tthis.attachElement( 'value25' ).text( $.i18n._( 'Offset Description' ) );\n\t\t\t\t\tthis.attachElement( 'value27' ).text( $.i18n._( 'Offset Routing' ) );\n\t\t\t\t\tthis.attachElement( 'value28' ).text( $.i18n._( 'Offset Account' ) );\n\t\t\t\t}\n\t\t\t\tthis.attachElement( 'value29' ).text( $.i18n._( 'File Header Line' ) );\n\t\t\t\tthis.attachElement( 'value30' ).text( $.i18n._( 'File Trailer Line' ) );\n\t\t\t} else if ( data_format_id == 20 || data_format_id == 30 || data_format_id == 50 ) { //CA - EFT\n\t\t\t\t$( this.edit_view_tab.find( 'ul li' )[1] ).show(); //Show Advanced Tab\n\n\t\t\t\tthis.attachElement( 'value5' ).text( $.i18n._( 'Originator ID' ) );\n\t\t\t\tthis.attachElement( 'value6' ).text( $.i18n._( 'Originator Short Name' ) );\n\t\t\t\tthis.attachElement( 'value7' ).text( $.i18n._( 'Data Center ID' ) );\n\t\t\t\t//this.attachElement( 'value7' ).text( $.i18n._('Data Center Name') );\n\n\t\t\t\tthis.attachElement( 'value26' ).text( $.i18n._( 'Return Institution' ) );\n\t\t\t\tthis.attachElement( 'value27' ).text( $.i18n._( 'Return Transit' ) );\n\t\t\t\tthis.attachElement( 'value28' ).text( $.i18n._( 'Return Account' ) );\n\t\t\t\tthis.attachElement( 'value29' ).text( $.i18n._( 'File Header Line' ) );\n\t\t\t\tthis.attachElement( 'value30' ).text( $.i18n._( 'File Trailer Line' ) );\n\t\t\t}\n\t\t}\n\t}\n\n\tonTypeChange() {\n\t\tvar $this = this;\n\t\tvar type_id = this.edit_view_ui_dic.type_id.getValue();\n\t\tvar country = ( this.edit_view_ui_dic.country.getValue() && this.edit_view_ui_dic.country.getValue() != TTUUID.zero_id ) ? this.edit_view_ui_dic.country.getValue() : this.current_edit_record.country; //sometimes it's false for no reason.\n\n\t\t$( this.edit_view_tab.find( 'ul li' )[1] ).show(); //Show Advanced tab\n\n\t\tthis.detachElement( 'data_format_id' );\n\t\tthis.detachElement( 'last_transaction_number' );\n\t\tthis.detachElement( 'value1_1' );\n\t\tthis.detachElement( 'value1_2' );\n\t\t//this.detachElement( 'value1' );\n\t\tthis.detachElement( 'value2' );\n\t\tthis.detachElement( 'value3' );\n\n\t\tif ( country == false || type_id == false ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( type_id == 2000 ) {\n\t\t\tthis.attachElement( 'last_transaction_number' ).text( $.i18n._( 'Last Check Number' ) );\n\t\t} else if ( type_id == 3000 ) {\n\t\t\tthis.attachElement( 'last_transaction_number' ).text( $.i18n._( 'Last Batch Number' ) );\n\n\t\t\tif ( !this.is_mass_editing && country != null ) {\n\t\t\t\tif ( country == 'US' ) { //ACH\n\t\t\t\t\tthis.attachElement( 'value1_2' ).text( $.i18n._( 'Account Type' ) );\n\t\t\t\t\tthis.attachElement( 'value2' ).text( $.i18n._( 'Routing' ) );\n\t\t\t\t\tthis.attachElement( 'value3' ).text( $.i18n._( 'Account' ) );\n\t\t\t\t\tif ( Global.isFalseOrNull( this.current_edit_record['value1'] ) ) {\n\t\t\t\t\t\tthis.current_edit_record['value1'] = this.edit_view_ui_dic['value1_2'].getValue();\n\t\t\t\t\t\tthis.current_edit_record['value1_2'] = this.edit_view_ui_dic['value1_2'].getValue();\n\t\t\t\t\t}\n\t\t\t\t} else if ( country == 'CA' ) { //Canadian EFT\n\t\t\t\t\tthis.attachElement( 'value1_1' ).text( $.i18n._( 'Institution' ) );\n\t\t\t\t\tthis.attachElement( 'value2' ).text( $.i18n._( 'Bank Transit' ) );\n\t\t\t\t\tthis.attachElement( 'value3' ).text( $.i18n._( 'Account' ) );\n\t\t\t\t// Carribbean is now handled like US, as some banks use insitition/branch, and some use routing numbers. We can always obtain institution/branch from routing number, so use it as the common denominator.\n\t\t\t\t// } else if ( $.inArray( country, ['AG', 'BS', 'BB', 'BZ', 'DO', 'GY', 'HT', 'JM', 'DM', 'GD', 'KN', 'LC', 'VC', 'SR', 'TT'] ) != -1 ) { //Carribbean countries.\n\t\t\t\t// \tthis.attachElement( 'value1_1' ).text( $.i18n._( 'Institution' ) );\n\t\t\t\t// \tthis.attachElement( 'value2' ).text( $.i18n._( 'Bank Transit' ) );\n\t\t\t\t// \tthis.attachElement( 'value3' ).text( $.i18n._( 'Account' ) );\n\t\t\t\t} else {\n\t\t\t\t\tthis.attachElement( 'value1_2' ).text( $.i18n._( 'Account Type' ) );\n\t\t\t\t\tthis.attachElement( 'value2' ).text( $.i18n._( 'Routing' ) );\n\t\t\t\t\tthis.attachElement( 'value3' ).text( $.i18n._( 'Account' ) );\n\t\t\t\t\tif ( Global.isFalseOrNull( this.current_edit_record['value1'] ) ) {\n\t\t\t\t\t\tthis.current_edit_record['value1'] = this.edit_view_ui_dic['value1_2'].getValue();\n\t\t\t\t\t\tthis.current_edit_record['value1_2'] = this.edit_view_ui_dic['value1_2'].getValue();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t$( '#tab_advanced_content_div .edit-view-form-item-div .edit-view-form-item-label-div' ).css( 'border-top-left-radius', '0px' );\n\t\t$( '#tab_advanced_content_div .edit-view-form-item-div:first .edit-view-form-item-label-div' ).css( 'border-top-left-radius', '5px' );\n\n\t\tvar $this = this;\n\t\tthis.api.getOptions( 'data_format', { 'type_id': type_id, 'country': country }, {\n\t\t\tasync: false,\n\t\t\tonResult: function( res ) {\n\t\t\t\t$this.attachElement( 'data_format_id' );\n\t\t\t\tvar result = res.getResult();\n\n\t\t\t\t$this.data_format_array = Global.buildRecordArray( result );\n\n\t\t\t\tif ( Global.isSet( $this.basic_search_field_ui_dic['data_format_id'] ) ) {\n\t\t\t\t\t$this.basic_search_field_ui_dic['data_format_id'].setSourceData( $this.data_format_array );\n\t\t\t\t}\n\n\t\t\t\tif ( Global.isSet( $this.adv_search_field_ui_dic['data_format_id'] ) ) {\n\t\t\t\t\t$this.adv_search_field_ui_dic['data_format_id'].setSourceData( $this.data_format_array );\n\t\t\t\t}\n\n\t\t\t\t$this.edit_view_ui_dic['data_format_id'].setSourceData( $this.data_format_array );\n\t\t\t\tif ( $this.current_edit_record['data_format_id'] && result[$this.current_edit_record['data_format_id']] ) {\n\t\t\t\t\t$this.edit_view_ui_dic['data_format_id'].setValue( $this.current_edit_record['data_format_id'] );\n\t\t\t\t} else {\n\t\t\t\t\t$this.current_edit_record['data_format_id'] = $this.edit_view_ui_dic['data_format_id'].getValue();\n\t\t\t\t}\n\n\t\t\t\t$this.onDataFormatChange();\n\t\t\t}\n\t\t} );\n\n\t\tthis.editFieldResize();\n\t}\n\n\tbuildEditViewUI() {\n\n\t\tsuper.buildEditViewUI();\n\t\tvar $this = this;\n\n\t\tvar tab_model = {\n\t\t\t'tab_remittance_source_account': { 'label': $.i18n._( 'Remittance Source Account' ) },\n\t\t\t'tab_advanced': {\n\t\t\t\t'label': $.i18n._( 'Advanced' )\n\t\t\t},\n\t\t\t'tab_audit': true,\n\t\t};\n\t\tthis.setTabModel( tab_model );\n\n\t\tthis.navigation.AComboBox( {\n\t\t\tapi_class: TTAPI.APIRemittanceSourceAccount,\n\t\t\tid: this.script_name + '_navigation',\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_remittance_source_account',\n\t\t\tnavigation_mode: true,\n\t\t\tshow_search_inputs: true\n\t\t} );\n\n\t\tthis.setNavigation();\n\n\t\t//Tab 0 start\n\t\tvar tab_remittance_source_account = this.edit_view_tab.find( '#tab_remittance_source_account' );\n\t\tvar tab_remittance_source_account_column1 = tab_remittance_source_account.find( '.first-column' );\n\t\tthis.edit_view_tabs[0] = [];\n\t\tthis.edit_view_tabs[0].push( tab_remittance_source_account_column1 );\n\n\t\t//Advanced tab\n\t\tvar tab_advanced = this.edit_view_tab.find( '#tab_advanced' );\n\t\tvar tab_advanced_column1 = tab_advanced.find( '.first-column' );\n\t\tthis.edit_view_tabs[1] = [];\n\t\tthis.edit_view_tabs[1].push( tab_advanced_column1 );\n\n\t\t// Legal Entity\n\t\tvar form_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APILegalEntity,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_legal_entity',\n\t\t\tfield: 'legal_entity_id',\n\t\t\t//set_empty: true,\n\t\t\tset_any: true,\n\t\t\tshow_search_inputs: true\n\t\t} );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Legal Entity' ), form_item_input, tab_remittance_source_account_column1, '' );\n\n\t\t//Status\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'status_id' } );\n\t\tform_item_input.setSourceData( $this.status_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Status' ), form_item_input, tab_remittance_source_account_column1, '' );\n\n\t\t// Name\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'name', width: '100%' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Name' ), form_item_input, tab_remittance_source_account_column1 );\n\t\tform_item_input.parent().width( '45%' );\n\n\t\t// Description\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_AREA );\n\t\tform_item_input.TTextArea( { field: 'description', width: '100%' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Description' ), form_item_input, tab_remittance_source_account_column1 );\n\t\tform_item_input.parent().width( '45%' );\n\n\t\t//TYPE\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'type_id' } );\n\t\tform_item_input.setSourceData( $this.type_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Type' ), form_item_input, tab_remittance_source_account_column1, '' );\n\n\t\t//Country\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'country', set_empty: true } );\n\t\tform_item_input.setSourceData( $this.country_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Country' ), form_item_input, tab_remittance_source_account_column1 );\n\n\t\t// Currency\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APICurrency,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_currency',\n\t\t\tfield: 'currency_id',\n\t\t\tset_empty: true,\n\t\t\tshow_search_inputs: true\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Currency' ), form_item_input, tab_remittance_source_account_column1 );\n\n\t\t// Data Format\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'data_format_id' } );\n\t\tform_item_input.setSourceData( $this.data_format_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Format' ), form_item_input, tab_remittance_source_account_column1, '', null, true );\n\n\t\t// Last Transaction Number\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'last_transaction_number', width: '60' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Last Transaction Number' ), form_item_input, tab_remittance_source_account_column1, '', null, true );\n\n\n\t\t//generate Value# fields 1-30\n\t\t//shorter and easier to read than 150 extra lines\n\t\tfor ( var i = 1; i <= 30; i++ ) {\n\t\t\tvar width = '200';\n\n\t\t\tvar type_id = this.edit_view_ui_dic.type_id.getValue();\n\t\t\tif ( type_id == 2000 && Global.getProductEdition() >= 15 && ( i == 5 || i == 6 ) ) { //5=Vertical Alignment, 6=Horizaontal Alignment\n\t\t\t\twidth = 42;\n\t\t\t}\n\n\t\t\tif ( i == 29 || i == 30 ) { //29: file header line. 30: file trailer line.\n\t\t\t\twidth = '500';\n\t\t\t}\n\t\t\tvar tab_for_values = tab_remittance_source_account_column1;\n\t\t\tif ( i > 3 ) {\n\t\t\t\ttab_for_values = tab_advanced_column1;\n\t\t\t}\n\n\t\t\tif ( i == 1 ) { //ACH\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'value1_1', validation_field: 'value1', width: width } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Value' + i ), form_item_input, tab_for_values, '', null, true );\n\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\t\tform_item_input.TComboBox( { field: 'value1_2', validation_field: 'value1' } );\n\t\t\t\tform_item_input.setSourceData( $this.ach_transaction_type_array );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Value' + i ), form_item_input, tab_for_values, '', null, true );\n\t\t\t} else {\n\t\t\t\tif ( i == 24 ) { //24: Offset Transaction\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.CHECKBOX );\n\t\t\t\t\tform_item_input.TCheckbox( { field: 'value' + i } );\n\t\t\t\t} else {\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\t\tform_item_input.TTextInput( { field: 'value' + i, width: width } );\n\t\t\t\t}\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Value' + i ), form_item_input, tab_for_values, '', null, true );\n\t\t\t}\n\n\t\t}\n\n\t\t//Signature Upload\n\t\tif ( typeof FormData == 'undefined' ) {\n\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.IMAGE_BROWSER );\n\n\t\t\tthis.file_browser = form_item_input.TImageBrowser( {\n\t\t\t\tfield: 'signature',\n\t\t\t\tdefault_width: 256,\n\t\t\t\tdefault_height: 47\n\t\t\t} );\n\n\t\t\tthis.file_browser.bind( 'imageChange', function( e, target ) {\n\t\t\t\tnew ServiceCaller().uploadFile( target.getValue(), 'object_type=remittance_source_account&object_id=' + $this.current_edit_record.id, {\n\t\t\t\t\tonResult: function( result ) {\n\n\t\t\t\t\t\tif ( result.toLowerCase() === 'true' ) {\n\t\t\t\t\t\t\t$this.file_browser.setImage( $this.getSignatureUrl() );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tTAlertManager.showAlert( result, 'Error' );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t} );\n\t\t} else {\n\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.IMAGE_AVD_BROWSER );\n\n\t\t\tthis.file_browser = form_item_input.TImageAdvBrowser( {\n\t\t\t\tfield: 'signature', callBack: function( form_data ) {\n\t\t\t\t\tnew ServiceCaller().uploadFile( form_data, 'object_type=remittance_source_account&object_id=' + $this.current_edit_record.id, {\n\t\t\t\t\t\tonResult: function( result ) {\n\n\t\t\t\t\t\t\tif ( result.toLowerCase() === 'true' ) {\n\t\t\t\t\t\t\t\t$this.file_browser.setImage( $this.getSignatureUrl() );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tTAlertManager.showAlert( result, 'Error' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\tif ( this.is_edit ) {\n\t\t\tthis.attachElement( 'signature' );\n\t\t\tthis.file_browser.setEnableDelete( true );\n\t\t\tthis.file_browser.bind( 'deleteClick', function( e, target ) {\n\t\t\t\t$this.api.deleteImage( $this.current_edit_record.id, {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\t$this.onDeleteImage();\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t} );\n\t\t} else {\n\t\t\tthis.detachElement( 'signature' );\n\t\t}\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Signature' ), this.file_browser, tab_advanced_column1, '', null, true, true );\n\t}\n\n\tbuildSearchFields() {\n\n\t\tsuper.buildSearchFields();\n\t\tthis.search_fields = [\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Legal Entity' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'legal_entity_id',\n\t\t\t\tlayout_name: 'global_legal_entity',\n\t\t\t\tapi_class: TTAPI.APILegalEntity,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tscript_name: 'LegalEntityView',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Status' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'status_id',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tlayout_name: 'global_option_column',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Name' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'name',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tform_item_type: FormItemType.TEXT_INPUT\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Created By' ),\n\t\t\t\tin_column: 3,\n\t\t\t\tfield: 'created_by',\n\t\t\t\tlayout_name: 'global_user',\n\t\t\t\tapi_class: TTAPI.APIUser,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tscript_name: 'EmployeeView',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Updated By' ),\n\t\t\t\tin_column: 3,\n\t\t\t\tfield: 'updated_by',\n\t\t\t\tlayout_name: 'global_user',\n\t\t\t\tapi_class: TTAPI.APIUser,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tscript_name: 'EmployeeView',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} )\n\n\t\t];\n\t}\n}"],"names":["RemittanceSourceAccountViewController","options","_","$","$this","res","result","url","record","i","context_menu_model","id","context_btn","grid_selected_length","post_data","target","doNotValidate","key","c_value","evud_key","ignoreWarning","place_holder","widget","type_id","data_format_id","country","tab_model","tab_remittance_source_account","tab_remittance_source_account_column1","tab_advanced","tab_advanced_column1","form_item_input","width","tab_for_values","e","form_data"],"mappings":"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"}