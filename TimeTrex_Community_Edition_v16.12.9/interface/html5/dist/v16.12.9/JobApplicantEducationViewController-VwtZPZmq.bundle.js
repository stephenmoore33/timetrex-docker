import{_ as s,j as a}from"./vendor-tTApdY0Y.bundle.js";class d extends BaseViewController{constructor(t={}){s.defaults(t,{el:"#job_applicant_education_view_container",qualification_array:null,qualification_api:null,sub_view_grid_autosize:!0,sub_view_mode:!0}),super(t)}init(t){this.edit_view_tpl="JobApplicantEducationEditView.html",this.permission_id="job_applicant",this.viewId="JobApplicantEducation",this.script_name="JobApplicantEducationView",this.table_name_key="job_applicant_education",this.context_menu_name=a.i18n._("Education"),this.navigation_label=a.i18n._("Education"),this.api=TTAPI.APIJobApplicantEducation,this.qualification_api=TTAPI.APIQualification,this.render(),this.sub_view_mode||this.initData()}showNoResultCover(t){super.showNoResultCover(!!this.sub_view_mode)}onGridSelectRow(){this.sub_view_mode?(this.buildContextMenu(!0),this.cancelOtherSubViewSelectedStatus()):this.buildContextMenu(),this.setDefaultMenu()}onGridSelectAll(){this.sub_view_mode&&(this.buildContextMenu(!0),this.cancelOtherSubViewSelectedStatus()),this.setDefaultMenu()}cancelOtherSubViewSelectedStatus(){switch(!0){case typeof this.parent_view_controller.sub_job_applicant_license_view_controller<"u":this.parent_view_controller.sub_job_applicant_license_view_controller.unSelectAll();case typeof this.parent_view_controller.sub_job_applicant_language_view_controller<"u":this.parent_view_controller.sub_job_applicant_language_view_controller.unSelectAll();case typeof this.parent_view_controller.sub_job_applicant_skill_view_controller<"u":this.parent_view_controller.sub_job_applicant_skill_view_controller.unSelectAll();case typeof this.parent_view_controller.sub_job_applicant_membership_view_controller<"u":this.parent_view_controller.sub_job_applicant_membership_view_controller.unSelectAll();break}}onAddClick(){this.sub_view_mode&&this.buildContextMenu(!0),super.onAddClick()}onMassEditClick(){var t=this;t.is_add=!1,t.is_viewing=!1,t.is_mass_editing=!0,LocalCacheData.current_doing_context_action="mass_edit",t.openEditView();var o={},e=this.getGridSelectIdArray();e.length,this.mass_edit_record_ids=[],a.each(e,function(n,l){t.mass_edit_record_ids.push(l)}),o.filter_data={},o.filter_data.id=this.mass_edit_record_ids,this.api["getCommon"+this.api.key_name+"Data"](o,{onResult:function(n){var l=n.getResult();t.unique_columns={},t.linked_columns={},l||(l=[]),t.sub_view_mode&&t.parent_key&&(l[t.parent_key]=t.parent_value),t.current_edit_record=l,t.initEditView()}})}initOptions(){var t=this,o={},e={};e.type_id=[20],e.visibility_type_id=[20,100],o.filter_data=e,this.qualification_api.getQualification(o,{onResult:function(n){n=n.getResult(),t.qualification_array=n}})}buildEditViewUI(){super.buildEditViewUI();var t={tab_education:{label:a.i18n._("Education")},tab_audit:!0};this.setTabModel(t),this.navigation.AComboBox({api_class:TTAPI.APIJobApplicantEducation,id:this.script_name+"_navigation",allow_multiple_selection:!1,layout_name:"global_job_applicant_education",navigation_mode:!0,show_search_inputs:!0}),this.setNavigation();var o=this.edit_view_tab.find("#tab_education"),e=o.find(".first-column");this.edit_view_tabs[0]=[],this.edit_view_tabs[0].push(e);var n={},l={};l.type_id=[20],l.visibility_type_id=[20,100],n.filter_data=l;var i=Global.loadWidgetByName(FormItemType.AWESOME_BOX);i.AComboBox({api_class:TTAPI.APIQualification,allow_multiple_selection:!1,layout_name:"global_qualification",show_search_inputs:!0,set_empty:!0,field:"qualification_id"}),i.setDefaultArgs(n),this.addEditFieldToColumn(a.i18n._("Course"),i,e,""),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"institute",width:300}),this.addEditFieldToColumn(a.i18n._("Institute"),i,e),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"major",width:300}),this.addEditFieldToColumn(a.i18n._("Major/Specialization"),i,e),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"minor",width:300}),this.addEditFieldToColumn(a.i18n._("Minor"),i,e),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"grade_score",width:50}),this.addEditFieldToColumn(a.i18n._("Grade/Score"),i,e),i=Global.loadWidgetByName(FormItemType.DATE_PICKER),i.TDatePicker({field:"graduate_date"}),this.addEditFieldToColumn(a.i18n._("Graduation Date"),i,e,"",null),i=Global.loadWidgetByName(FormItemType.DATE_PICKER),i.TDatePicker({field:"start_date"}),this.addEditFieldToColumn(a.i18n._("Start Date"),i,e,"",null),i=Global.loadWidgetByName(FormItemType.DATE_PICKER),i.TDatePicker({field:"end_date"}),this.addEditFieldToColumn(a.i18n._("End Date"),i,e,"",null),i=Global.loadWidgetByName(FormItemType.TAG_INPUT),i.TTagInput({field:"tag",object_type_id:392}),this.addEditFieldToColumn(a.i18n._("Tags"),i,e,"",null,null,!0)}searchDone(){super.searchDone(),TTPromise.resolve("JobApplicant_Qualifications_Tab","JobApplicantEducationViewController")}}d.loadSubView=function(_,t,o){Global.loadViewSource("JobApplicantEducation","SubJobApplicantEducationView.html",function(e){var n={},l=s.template(e);Global.isSet(t)&&t(),Global.isSet(_)&&(_.html(l(n)),Global.isSet(o)&&o(sub_job_applicant_education_view_controller))})};export{d as JobApplicantEducationViewController};
//# sourceMappingURL=JobApplicantEducationViewController-VwtZPZmq.bundle.js.map
