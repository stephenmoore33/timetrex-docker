import{_,j as a}from"./vendor-tTApdY0Y.bundle.js";class d extends BaseViewController{constructor(t={}){_.defaults(t,{el:"#pay_code_view_container",type_array:null}),super(t)}init(t){this.edit_view_tpl="PayCodeEditView.html",this.permission_id="pay_code",this.viewId="PayCode",this.script_name="PayCodeView",this.table_name_key="pay_code",this.context_menu_name=a.i18n._("Pay Code"),this.navigation_label=a.i18n._("Pay Code"),this.api=TTAPI.APIPayCode,this.render(),this.buildContextMenu(),this.initData()}initOptions(){this.initDropDownOption("type")}getCustomContextMenuModel(){var t={exclude:[],include:[{label:"",id:"other_header",menu_align:"right",action_group:"other",action_group_header:!0,vue_icon:"tticon tticon-more_vert_black_24dp"},{label:a.i18n._("Migrate Pay Codes"),id:"migrate_pay_codes",menu_align:"right",action_group:"other"}]};return t}buildEditViewUI(){super.buildEditViewUI();var t=this,l={tab_pay_code:{label:a.i18n._("Pay Code")},tab_audit:!0};this.setTabModel(l),this.navigation.AComboBox({api_class:TTAPI.APIPayCode,id:this.script_name+"_navigation",allow_multiple_selection:!1,layout_name:"global_pay_code",navigation_mode:!0,show_search_inputs:!0}),this.setNavigation();var o=this.edit_view_tab.find("#tab_pay_code"),i=o.find(".first-column");this.edit_view_tabs[0]=[],this.edit_view_tabs[0].push(i);var e=Global.loadWidgetByName(FormItemType.TEXT_INPUT);e.TTextInput({field:"name",width:"100%"}),this.addEditFieldToColumn(a.i18n._("Name"),e,i,""),e.parent().width("45%"),e=Global.loadWidgetByName(FormItemType.TEXT_AREA),e.TTextArea({field:"description",width:"100%"}),this.addEditFieldToColumn(a.i18n._("Description"),e,i,"",null,null,!0),e.parent().width("45%"),e=Global.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"code",width:150}),this.addEditFieldToColumn(a.i18n._("Code"),e,i,""),e=Global.loadWidgetByName(FormItemType.COMBO_BOX),e.TComboBox({field:"type_id",set_empty:!1}),e.setSourceData(t.type_array),this.addEditFieldToColumn(a.i18n._("Type"),e,i),e=Global.loadWidgetByName(FormItemType.AWESOME_BOX),e.AComboBox({api_class:TTAPI.APIPayFormulaPolicy,allow_multiple_selection:!1,layout_name:"global_pay_formula_policy",show_search_inputs:!0,set_empty:!0,field:"pay_formula_policy_id",custom_first_label:a.i18n._("-- Defined by Policy --"),added_items:[{value:TTUUID.zero_id,label:a.i18n._("-- Defined by Policy --")}]}),this.addEditFieldToColumn(a.i18n._("Pay Formula Policy"),e,i),e=Global.loadWidgetByName(FormItemType.AWESOME_BOX),e.AComboBox({api_class:TTAPI.APIPayStubEntryAccount,allow_multiple_selection:!1,layout_name:"global_PayStubAccount",show_search_inputs:!0,set_empty:!0,field:"pay_stub_entry_account_id"}),this.addEditFieldToColumn(a.i18n._("Pay Stub Account"),e,i)}buildSearchFields(){super.buildSearchFields(),this.search_fields=[new SearchField({label:a.i18n._("Name"),in_column:1,field:"name",multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.TEXT_INPUT}),new SearchField({label:a.i18n._("Type"),in_column:1,field:"type_id",multiple:!0,basic_search:!0,adv_search:!1,layout_name:"global_option_column",form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:a.i18n._("Pay Formula Policy"),in_column:1,field:"pay_formula_policy_id",layout_name:"global_pay_formula_policy",api_class:TTAPI.APIPayFormulaPolicy,multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:a.i18n._("Pay Stub Account"),in_column:2,field:"pay_stub_entry_account_id",layout_name:"global_PayStubAccount",api_class:TTAPI.APIPayStubEntryAccount,multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:a.i18n._("Created By"),in_column:2,field:"created_by",layout_name:"global_user",api_class:TTAPI.APIUser,multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:a.i18n._("Updated By"),in_column:2,field:"updated_by",layout_name:"global_user",api_class:TTAPI.APIUser,multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.AWESOME_BOX})]}onCustomContextClick(t){switch(t){case"migrate_pay_codes":ProgressBar.showOverlay(),this.onWizardClick();break}}onSaveClick(t){super.onSaveClick(t),Global.clearCache("getOptions_columns")}onWizardClick(){IndexViewController.openWizard("PayCodeWizard",null,function(){})}}export{d as PayCodeViewController};
//# sourceMappingURL=PayCodeViewController-WQXlGijW.bundle.js.map
