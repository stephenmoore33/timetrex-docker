import{_ as r,j as a}from"./vendor-tTApdY0Y.bundle.js";class d extends BaseViewController{constructor(i={}){r.defaults(i,{el:"#job_applicant_membership_view_container",ownership_array:null,qualification_api:null,sub_view_grid_autosize:!0}),super(i)}init(i){this.edit_view_tpl="JobApplicantMembershipEditView.html",this.permission_id="job_applicant",this.viewId="JobApplicantMembership",this.script_name="JobApplicantMembershipView",this.table_name_key="job_applicant_membership",this.context_menu_name=a.i18n._("Memberships"),this.navigation_label=a.i18n._("Membership"),this.api=TTAPI.APIJobApplicantMembership,this.qualification_api=TTAPI.APIQualification,this.render(),this.sub_view_mode||this.initData()}showNoResultCover(i){super.showNoResultCover(!!this.sub_view_mode)}onGridSelectRow(){this.sub_view_mode?(this.buildContextMenu(!0),this.cancelOtherSubViewSelectedStatus()):this.buildContextMenu(),this.setDefaultMenu()}onGridSelectAll(){this.sub_view_mode&&(this.buildContextMenu(!0),this.cancelOtherSubViewSelectedStatus()),this.setDefaultMenu()}cancelOtherSubViewSelectedStatus(){switch(!0){case typeof this.parent_view_controller.sub_job_applicant_education_view_controller<"u":this.parent_view_controller.sub_job_applicant_education_view_controller.unSelectAll();case typeof this.parent_view_controller.sub_job_applicant_language_view_controller<"u":this.parent_view_controller.sub_job_applicant_language_view_controller.unSelectAll();case typeof this.parent_view_controller.sub_job_applicant_skill_view_controller<"u":this.parent_view_controller.sub_job_applicant_skill_view_controller.unSelectAll();case typeof this.parent_view_controller.sub_job_applicant_license_view_controller<"u":this.parent_view_controller.sub_job_applicant_license_view_controller.unSelectAll();break}}onMassEditClick(){var i=this;i.is_add=!1,i.is_viewing=!1,i.is_mass_editing=!0,LocalCacheData.current_doing_context_action="mass_edit",i.openEditView();var l={},o=this.getGridSelectIdArray();o.length,this.mass_edit_record_ids=[],a.each(o,function(t,e){i.mass_edit_record_ids.push(e)}),l.filter_data={},l.filter_data.id=this.mass_edit_record_ids,this.api["getCommon"+this.api.key_name+"Data"](l,{onResult:function(t){var e=t.getResult();i.unique_columns={},i.linked_columns={},e||(e=[]),i.sub_view_mode&&i.parent_key&&(e[i.parent_key]=i.parent_value),i.current_edit_record=e,i.initEditView()}})}onAddClick(){this.sub_view_mode&&this.buildContextMenu(!0),super.onAddClick()}initOptions(){this.initDropDownOption("ownership")}buildEditViewUI(){super.buildEditViewUI();var i=this,l={tab_membership:{label:a.i18n._("Membership")},tab_audit:!0};this.setTabModel(l),this.navigation.AComboBox({api_class:TTAPI.APIJobApplicantMembership,id:this.script_name+"_navigation",allow_multiple_selection:!1,layout_name:"global_job_applicant_membership",navigation_mode:!0,show_search_inputs:!0}),this.setNavigation();var o=this.edit_view_tab.find("#tab_membership"),t=o.find(".first-column");this.edit_view_tabs[0]=[],this.edit_view_tabs[0].push(t);var e,n={},_={};_.type_id=[50],_.visibility_type_id=[20,100],n.filter_data=_,e=Global.loadWidgetByName(FormItemType.AWESOME_BOX),e.AComboBox({api_class:TTAPI.APIQualification,allow_multiple_selection:!1,layout_name:"global_qualification",show_search_inputs:!0,set_empty:!0,field:"qualification_id"}),e.setDefaultArgs(n),this.addEditFieldToColumn(a.i18n._("Membership"),e,t,""),e=Global.loadWidgetByName(FormItemType.SEPARATED_BOX),e.SeparatedBox({label:a.i18n._("Membership Subscription")}),this.addEditFieldToColumn(null,e,t),e=Global.loadWidgetByName(FormItemType.COMBO_BOX),e.TComboBox({field:"ownership_id"}),e.setSourceData(i.ownership_array),this.addEditFieldToColumn(a.i18n._("Ownership"),e,t),e=Global.loadWidgetByName(FormItemType.AWESOME_BOX),e.AComboBox({api_class:TTAPI.APICurrency,allow_multiple_selection:!1,layout_name:"global_currency",field:"currency_id",set_empty:!0,show_search_inputs:!0}),this.addEditFieldToColumn(a.i18n._("Currency"),e,t),e=Global.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"amount",width:50}),this.addEditFieldToColumn(a.i18n._("Amount"),e,t),e=Global.loadWidgetByName(FormItemType.DATE_PICKER),e.TDatePicker({field:"start_date"}),this.addEditFieldToColumn(a.i18n._("Start Date"),e,t),e=Global.loadWidgetByName(FormItemType.DATE_PICKER),e.TDatePicker({field:"renewal_date"}),this.addEditFieldToColumn(a.i18n._("Renewal Date"),e,t),e=Global.loadWidgetByName(FormItemType.TAG_INPUT),e.TTagInput({field:"tag",object_type_id:395}),this.addEditFieldToColumn(a.i18n._("Tags"),e,t,"",null,null,!0)}searchDone(){super.searchDone(),TTPromise.resolve("JobApplicant_Qualifications_Tab","JobApplicantMembershipViewController")}}d.loadSubView=function(s,i,l){Global.loadViewSource("JobApplicantMembership","SubJobApplicantMembershipView.html",function(o){var t={},e=r.template(o);Global.isSet(i)&&i(),Global.isSet(s)&&(s.html(e(t)),Global.isSet(l)&&l(sub_job_applicant_membership_view_controller))})};export{d as JobApplicantMembershipViewController};
//# sourceMappingURL=JobApplicantMembershipViewController-CDx4QAur.bundle.js.map
