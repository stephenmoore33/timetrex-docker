import{A as Q,C as N,E as $,_ as X,j as y}from"./vendor-tTApdY0Y.bundle.js";import{e as Z}from"./main_ui-z76rxVqJ.entry.bundle.js";var F={exports:{}};(function(x){(function(n,r){x.exports?x.exports=r(n,Q):n.jQueryBridget=r(n,n.jQuery)})(window,function(r,h){let c=r.console,d=typeof c>"u"?function(){}:function(i){c.error(i)};function o(i,l,p){if(p=p||h||r.jQuery,!p)return;l.prototype.option||(l.prototype.option=function(v){v&&(this.options=Object.assign(this.options||{},v))}),p.fn[i]=function(v,...s){return typeof v=="string"?_(this,v,s):(f(this,v),this)};function _(v,s,C){let g,a=`$().${i}("${s}")`;return v.each(function(t,e){let u=p.data(e,i);if(!u){d(`${i} not initialized. Cannot call method ${a}`);return}let m=u[s];if(!m||s.charAt(0)=="_"){d(`${a} is not a valid method`);return}let b=m.apply(u,C);g=g===void 0?b:g}),g!==void 0?g:v}function f(v,s){v.each(function(C,g){let a=p.data(g,i);a?(a.option(s),a._init()):(a=new l(g,s),p.data(g,i,a))})}}return o})})(F);var J=F.exports;const K=N(J);var Y={exports:{}},z={exports:{}},L={exports:{}},k;function j(){return k||(k=1,function(x){(function(n,r){x.exports?x.exports=r():n.EvEmitter=r()})(typeof window<"u"?window:$,function(){function n(){}var r=n.prototype;return r.on=function(h,c){if(!(!h||!c)){var d=this._events=this._events||{},o=d[h]=d[h]||[];return o.indexOf(c)==-1&&o.push(c),this}},r.once=function(h,c){if(!(!h||!c)){this.on(h,c);var d=this._onceEvents=this._onceEvents||{},o=d[h]=d[h]||{};return o[c]=!0,this}},r.off=function(h,c){var d=this._events&&this._events[h];if(!(!d||!d.length)){var o=d.indexOf(c);return o!=-1&&d.splice(o,1),this}},r.emitEvent=function(h,c){var d=this._events&&this._events[h];if(!(!d||!d.length)){d=d.slice(0),c=c||[];for(var o=this._onceEvents&&this._onceEvents[h],i=0;i<d.length;i++){var l=d[i],p=o&&o[l];p&&(this.off(h,l),delete o[l]),l.apply(this,c)}return this}},r.allOff=function(){delete this._events,delete this._onceEvents},n})}(L)),L.exports}var A={exports:{}};/*!
 * getSize v2.0.3
 * measure size of elements
 * MIT license
 */var U;function W(){return U||(U=1,function(x){(function(n,r){x.exports?x.exports=r():n.getSize=r()})(window,function(){function r(s){var C=parseFloat(s),g=s.indexOf("%")==-1&&!isNaN(C);return g&&C}function h(){}var c=typeof console>"u"?h:function(s){console.error(s)},d=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],o=d.length;function i(){for(var s={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},C=0;C<o;C++){var g=d[C];s[g]=0}return s}function l(s){var C=getComputedStyle(s);return C||c("Style returned "+C+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),C}var p=!1,_;function f(){if(!p){p=!0;var s=document.createElement("div");s.style.width="200px",s.style.padding="1px 2px 3px 4px",s.style.borderStyle="solid",s.style.borderWidth="1px 2px 3px 4px",s.style.boxSizing="border-box";var C=document.body||document.documentElement;C.appendChild(s);var g=l(s);_=Math.round(r(g.width))==200,v.isBoxSizeOuter=_,C.removeChild(s)}}function v(s){if(f(),typeof s=="string"&&(s=document.querySelector(s)),!(!s||typeof s!="object"||!s.nodeType)){var C=l(s);if(C.display=="none")return i();var g={};g.width=s.offsetWidth,g.height=s.offsetHeight;for(var a=g.isBorderBox=C.boxSizing=="border-box",t=0;t<o;t++){var e=d[t],u=C[e],m=parseFloat(u);g[e]=isNaN(m)?0:m}var b=g.paddingLeft+g.paddingRight,M=g.paddingTop+g.paddingBottom,T=g.marginLeft+g.marginRight,E=g.marginTop+g.marginBottom,I=g.borderLeftWidth+g.borderRightWidth,S=g.borderTopWidth+g.borderBottomWidth,D=a&&_,w=r(C.width);w!==!1&&(g.width=w+(D?0:b+I));var B=r(C.height);return B!==!1&&(g.height=B+(D?0:M+S)),g.innerWidth=g.width-(b+I),g.innerHeight=g.height-(M+S),g.outerWidth=g.width+T,g.outerHeight=g.height+E,g}}return v})}(A)),A.exports}var O={exports:{}},R={exports:{}},G;function tt(){return G||(G=1,function(x){(function(n,r){x.exports?x.exports=r():n.matchesSelector=r()})(window,function(){var r=function(){var h=window.Element.prototype;if(h.matches)return"matches";if(h.matchesSelector)return"matchesSelector";for(var c=["webkit","moz","ms","o"],d=0;d<c.length;d++){var o=c[d],i=o+"MatchesSelector";if(h[i])return i}}();return function(c,d){return c[r](d)}})}(R)),R.exports}var q;function et(){return q||(q=1,function(x){(function(n,r){x.exports?x.exports=r(n,tt()):n.fizzyUIUtils=r(n,n.matchesSelector)})(window,function(r,h){var c={};c.extend=function(i,l){for(var p in l)i[p]=l[p];return i},c.modulo=function(i,l){return(i%l+l)%l};var d=Array.prototype.slice;c.makeArray=function(i){if(Array.isArray(i))return i;if(i==null)return[];var l=typeof i=="object"&&typeof i.length=="number";return l?d.call(i):[i]},c.removeFrom=function(i,l){var p=i.indexOf(l);p!=-1&&i.splice(p,1)},c.getParent=function(i,l){for(;i.parentNode&&i!=document.body;)if(i=i.parentNode,h(i,l))return i},c.getQueryElement=function(i){return typeof i=="string"?document.querySelector(i):i},c.handleEvent=function(i){var l="on"+i.type;this[l]&&this[l](i)},c.filterFindElements=function(i,l){i=c.makeArray(i);var p=[];return i.forEach(function(_){if(_ instanceof HTMLElement){if(!l){p.push(_);return}h(_,l)&&p.push(_);for(var f=_.querySelectorAll(l),v=0;v<f.length;v++)p.push(f[v])}}),p},c.debounceMethod=function(i,l,p){p=p||100;var _=i.prototype[l],f=l+"Timeout";i.prototype[l]=function(){var v=this[f];clearTimeout(v);var s=arguments,C=this;this[f]=setTimeout(function(){_.apply(C,s),delete C[f]},p)}},c.docReady=function(i){var l=document.readyState;l=="complete"||l=="interactive"?setTimeout(i):document.addEventListener("DOMContentLoaded",i)},c.toDashed=function(i){return i.replace(/(.)([A-Z])/g,function(l,p,_){return p+"-"+_}).toLowerCase()};var o=r.console;return c.htmlInit=function(i,l){c.docReady(function(){var p=c.toDashed(l),_="data-"+p,f=document.querySelectorAll("["+_+"]"),v=document.querySelectorAll(".js-"+p),s=c.makeArray(f).concat(c.makeArray(v)),C=_+"-options",g=r.jQuery;s.forEach(function(a){var t=a.getAttribute(_)||a.getAttribute(C),e;try{e=t&&JSON.parse(t)}catch(m){o&&o.error("Error parsing "+_+" on "+a.className+": "+m);return}var u=new i(a,e);g&&g.data(a,l,u)})})},c})}(O)),O.exports}var P={exports:{}},V;function it(){return V||(V=1,function(x){(function(n,r){x.exports?x.exports=r(j(),W()):(n.Outlayer={},n.Outlayer.Item=r(n.EvEmitter,n.getSize))})(window,function(r,h){function c(a){for(var t in a)return!1;return t=null,!0}var d=document.documentElement.style,o=typeof d.transition=="string"?"transition":"WebkitTransition",i=typeof d.transform=="string"?"transform":"WebkitTransform",l={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[o],p={transform:i,transition:o,transitionDuration:o+"Duration",transitionProperty:o+"Property",transitionDelay:o+"Delay"};function _(a,t){a&&(this.element=a,this.layout=t,this.position={x:0,y:0},this._create())}var f=_.prototype=Object.create(r.prototype);f.constructor=_,f._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},f.handleEvent=function(a){var t="on"+a.type;this[t]&&this[t](a)},f.getSize=function(){this.size=h(this.element)},f.css=function(a){var t=this.element.style;for(var e in a){var u=p[e]||e;t[u]=a[e]}},f.getPosition=function(){var a=getComputedStyle(this.element),t=this.layout._getOption("originLeft"),e=this.layout._getOption("originTop"),u=a[t?"left":"right"],m=a[e?"top":"bottom"],b=parseFloat(u),M=parseFloat(m),T=this.layout.size;u.indexOf("%")!=-1&&(b=b/100*T.width),m.indexOf("%")!=-1&&(M=M/100*T.height),b=isNaN(b)?0:b,M=isNaN(M)?0:M,b-=t?T.paddingLeft:T.paddingRight,M-=e?T.paddingTop:T.paddingBottom,this.position.x=b,this.position.y=M},f.layoutPosition=function(){var a=this.layout.size,t={},e=this.layout._getOption("originLeft"),u=this.layout._getOption("originTop"),m=e?"paddingLeft":"paddingRight",b=e?"left":"right",M=e?"right":"left",T=this.position.x+a[m];t[b]=this.getXValue(T),t[M]="";var E=u?"paddingTop":"paddingBottom",I=u?"top":"bottom",S=u?"bottom":"top",D=this.position.y+a[E];t[I]=this.getYValue(D),t[S]="",this.css(t),this.emitEvent("layout",[this])},f.getXValue=function(a){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!t?a/this.layout.size.width*100+"%":a+"px"},f.getYValue=function(a){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&t?a/this.layout.size.height*100+"%":a+"px"},f._transitionTo=function(a,t){this.getPosition();var e=this.position.x,u=this.position.y,m=a==this.position.x&&t==this.position.y;if(this.setPosition(a,t),m&&!this.isTransitioning){this.layoutPosition();return}var b=a-e,M=t-u,T={};T.transform=this.getTranslate(b,M),this.transition({to:T,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},f.getTranslate=function(a,t){var e=this.layout._getOption("originLeft"),u=this.layout._getOption("originTop");return a=e?a:-a,t=u?t:-t,"translate3d("+a+"px, "+t+"px, 0)"},f.goTo=function(a,t){this.setPosition(a,t),this.layoutPosition()},f.moveTo=f._transitionTo,f.setPosition=function(a,t){this.position.x=parseFloat(a),this.position.y=parseFloat(t)},f._nonTransition=function(a){this.css(a.to),a.isCleaning&&this._removeStyles(a.to);for(var t in a.onTransitionEnd)a.onTransitionEnd[t].call(this)},f.transition=function(a){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(a);return}var t=this._transn;for(var e in a.onTransitionEnd)t.onEnd[e]=a.onTransitionEnd[e];for(e in a.to)t.ingProperties[e]=!0,a.isCleaning&&(t.clean[e]=!0);a.from&&(this.css(a.from),this.element.offsetHeight),this.enableTransition(a.to),this.css(a.to),this.isTransitioning=!0};function v(a){return a.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}var s="opacity,"+v(i);f.enableTransition=function(){if(!this.isTransitioning){var a=this.layout.options.transitionDuration;a=typeof a=="number"?a+"ms":a,this.css({transitionProperty:s,transitionDuration:a,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(l,this,!1)}},f.onwebkitTransitionEnd=function(a){this.ontransitionend(a)},f.onotransitionend=function(a){this.ontransitionend(a)};var C={"-webkit-transform":"transform"};f.ontransitionend=function(a){if(a.target===this.element){var t=this._transn,e=C[a.propertyName]||a.propertyName;if(delete t.ingProperties[e],c(t.ingProperties)&&this.disableTransition(),e in t.clean&&(this.element.style[a.propertyName]="",delete t.clean[e]),e in t.onEnd){var u=t.onEnd[e];u.call(this),delete t.onEnd[e]}this.emitEvent("transitionEnd",[this])}},f.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(l,this,!1),this.isTransitioning=!1},f._removeStyles=function(a){var t={};for(var e in a)t[e]="";this.css(t)};var g={transitionProperty:"",transitionDuration:"",transitionDelay:""};return f.removeTransitionStyles=function(){this.css(g)},f.stagger=function(a){a=isNaN(a)?0:a,this.staggerDelay=a+"ms"},f.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},f.remove=function(){if(!o||!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return}this.once("transitionEnd",function(){this.removeElem()}),this.hide()},f.reveal=function(){delete this.isHidden,this.css({display:""});var a=this.layout.options,t={},e=this.getHideRevealTransitionEndProperty("visibleStyle");t[e]=this.onRevealTransitionEnd,this.transition({from:a.hiddenStyle,to:a.visibleStyle,isCleaning:!0,onTransitionEnd:t})},f.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},f.getHideRevealTransitionEndProperty=function(a){var t=this.layout.options[a];if(t.opacity)return"opacity";for(var e in t)return e},f.hide=function(){this.isHidden=!0,this.css({display:""});var a=this.layout.options,t={},e=this.getHideRevealTransitionEndProperty("hiddenStyle");t[e]=this.onHideTransitionEnd,this.transition({from:a.visibleStyle,to:a.hiddenStyle,isCleaning:!0,onTransitionEnd:t})},f.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},f.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},_})}(P)),P.exports}/*!
 * Outlayer v2.1.1
 * the brains and guts of a layout library
 * MIT license
 */var H;function rt(){return H||(H=1,function(x){(function(n,r){x.exports?x.exports=r(n,j(),W(),et(),it()):n.Outlayer=r(n,n.EvEmitter,n.getSize,n.fizzyUIUtils,n.Outlayer.Item)})(window,function(r,h,c,d,o){var i=r.console,l=r.jQuery,p=function(){},_=0,f={};function v(t,e){var u=d.getQueryElement(t);if(!u){i&&i.error("Bad element for "+this.constructor.namespace+": "+(u||t));return}this.element=u,l&&(this.$element=l(this.element)),this.options=d.extend({},this.constructor.defaults),this.option(e);var m=++_;this.element.outlayerGUID=m,f[m]=this,this._create();var b=this._getOption("initLayout");b&&this.layout()}v.namespace="outlayer",v.Item=o,v.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var s=v.prototype;d.extend(s,h.prototype),s.option=function(t){d.extend(this.options,t)},s._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&this.options[e]!==void 0?this.options[e]:this.options[t]},v.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},s._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),d.extend(this.element.style,this.options.containerStyle);var t=this._getOption("resize");t&&this.bindResize()},s.reloadItems=function(){this.items=this._itemize(this.element.children)},s._itemize=function(t){for(var e=this._filterFindItemElements(t),u=this.constructor.Item,m=[],b=0;b<e.length;b++){var M=e[b],T=new u(M,this);m.push(T)}return m},s._filterFindItemElements=function(t){return d.filterFindElements(t,this.options.itemSelector)},s.getItemElements=function(){return this.items.map(function(t){return t.element})},s.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=t!==void 0?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},s._init=s.layout,s._resetLayout=function(){this.getSize()},s.getSize=function(){this.size=c(this.element)},s._getMeasurement=function(t,e){var u=this.options[t],m;u?(typeof u=="string"?m=this.element.querySelector(u):u instanceof HTMLElement&&(m=u),this[t]=m?c(m)[e]:u):this[t]=0},s.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},s._getItemsForLayout=function(t){return t.filter(function(e){return!e.isIgnored})},s._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),!(!t||!t.length)){var u=[];t.forEach(function(m){var b=this._getItemLayoutPosition(m);b.item=m,b.isInstant=e||m.isLayoutInstant,u.push(b)},this),this._processLayoutQueue(u)}},s._getItemLayoutPosition=function(){return{x:0,y:0}},s._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(e,u){this._positionItem(e.item,e.x,e.y,e.isInstant,u)},this)},s.updateStagger=function(){var t=this.options.stagger;if(t==null){this.stagger=0;return}return this.stagger=a(t),this.stagger},s._positionItem=function(t,e,u,m,b){m?t.goTo(e,u):(t.stagger(b*this.stagger),t.moveTo(e,u))},s._postLayout=function(){this.resizeContainer()},s.resizeContainer=function(){var t=this._getOption("resizeContainer");if(t){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},s._getContainerSize=p,s._setContainerMeasure=function(t,e){if(t!==void 0){var u=this.size;u.isBorderBox&&(t+=e?u.paddingLeft+u.paddingRight+u.borderLeftWidth+u.borderRightWidth:u.paddingBottom+u.paddingTop+u.borderTopWidth+u.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},s._emitCompleteOnItems=function(t,e){var u=this;function m(){u.dispatchEvent(t+"Complete",null,[e])}var b=e.length;if(!e||!b){m();return}var M=0;function T(){M++,M==b&&m()}e.forEach(function(E){E.once(t,T)})},s.dispatchEvent=function(t,e,u){var m=e?[e].concat(u):u;if(this.emitEvent(t,m),l)if(this.$element=this.$element||l(this.element),e){var b=l.Event(e);b.type=t,this.$element.trigger(b,u)}else this.$element.trigger(t,u)},s.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},s.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},s.stamp=function(t){t=this._find(t),t&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},s.unstamp=function(t){t=this._find(t),t&&t.forEach(function(e){d.removeFrom(this.stamps,e),this.unignore(e)},this)},s._find=function(t){if(t)return typeof t=="string"&&(t=this.element.querySelectorAll(t)),t=d.makeArray(t),t},s._manageStamps=function(){!this.stamps||!this.stamps.length||(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},s._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},s._manageStamp=p,s._getElementOffset=function(t){var e=t.getBoundingClientRect(),u=this._boundingRect,m=c(t),b={left:e.left-u.left-m.marginLeft,top:e.top-u.top-m.marginTop,right:u.right-e.right-m.marginRight,bottom:u.bottom-e.bottom-m.marginBottom};return b},s.handleEvent=d.handleEvent,s.bindResize=function(){r.addEventListener("resize",this),this.isResizeBound=!0},s.unbindResize=function(){r.removeEventListener("resize",this),this.isResizeBound=!1},s.onresize=function(){this.resize()},d.debounceMethod(v,"onresize",100),s.resize=function(){!this.isResizeBound||!this.needsResizeLayout()||this.layout()},s.needsResizeLayout=function(){var t=c(this.element),e=this.size&&t;return e&&t.innerWidth!==this.size.innerWidth},s.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},s.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},s.prepended=function(t){var e=this._itemize(t);if(e.length){var u=this.items.slice(0);this.items=e.concat(u),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(u)}},s.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),!(!t||!t.length)){var e=this.updateStagger();t.forEach(function(u,m){u.stagger(m*e),u.reveal()})}},s.hide=function(t){if(this._emitCompleteOnItems("hide",t),!(!t||!t.length)){var e=this.updateStagger();t.forEach(function(u,m){u.stagger(m*e),u.hide()})}},s.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},s.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},s.getItem=function(t){for(var e=0;e<this.items.length;e++){var u=this.items[e];if(u.element==t)return u}},s.getItems=function(t){t=d.makeArray(t);var e=[];return t.forEach(function(u){var m=this.getItem(u);m&&e.push(m)},this),e},s.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),!(!e||!e.length)&&e.forEach(function(u){u.remove(),d.removeFrom(this.items,u)},this)},s.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach(function(u){u.destroy()}),this.unbindResize();var e=this.element.outlayerGUID;delete f[e],delete this.element.outlayerGUID,l&&l.removeData(this.element,this.constructor.namespace)},v.data=function(t){t=d.getQueryElement(t);var e=t&&t.outlayerGUID;return e&&f[e]},v.create=function(t,e){var u=C(v);return u.defaults=d.extend({},v.defaults),d.extend(u.defaults,e),u.compatOptions=d.extend({},v.compatOptions),u.namespace=t,u.data=v.data,u.Item=C(o),d.htmlInit(u,t),l&&l.bridget&&l.bridget(t,u),u};function C(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}var g={ms:1,s:1e3};function a(t){if(typeof t=="number")return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),u=e&&e[1],m=e&&e[2];if(!u.length)return 0;u=parseFloat(u);var b=g[m]||1;return u*b}return v.Item=o,v})}(z)),z.exports}/*!
 * Masonry v4.2.2
 * Cascading grid layout library
 * https://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */(function(x){(function(n,r){x.exports?x.exports=r(rt(),W()):n.Masonry=r(n.Outlayer,n.getSize)})(window,function(r,h){var c=r.create("masonry");c.compatOptions.fitWidth="isFitWidth";var d=c.prototype;return d._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var o=0;o<this.cols;o++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},d.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var o=this.items[0],i=o&&o.element;this.columnWidth=i&&h(i).outerWidth||this.containerWidth}var l=this.columnWidth+=this.gutter,p=this.containerWidth+this.gutter,_=p/l,f=l-p%l,v=f&&f<1?"round":"floor";_=Math[v](_),this.cols=Math.max(_,1)},d.getContainerWidth=function(){var o=this._getOption("fitWidth"),i=o?this.element.parentNode:this.element,l=h(i);this.containerWidth=l&&l.innerWidth},d._getItemLayoutPosition=function(o){o.getSize();var i=o.size.outerWidth%this.columnWidth,l=i&&i<1?"round":"ceil",p=Math[l](o.size.outerWidth/this.columnWidth);p=Math.min(p,this.cols);for(var _=this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition",f=this[_](p,o),v={x:this.columnWidth*f.col,y:f.y},s=f.y+o.size.outerHeight,C=p+f.col,g=f.col;g<C;g++)this.colYs[g]=s;return v},d._getTopColPosition=function(o){var i=this._getTopColGroup(o),l=Math.min.apply(Math,i);return{col:i.indexOf(l),y:l}},d._getTopColGroup=function(o){if(o<2)return this.colYs;for(var i=[],l=this.cols+1-o,p=0;p<l;p++)i[p]=this._getColGroupY(p,o);return i},d._getColGroupY=function(o,i){if(i<2)return this.colYs[o];var l=this.colYs.slice(o,o+i);return Math.max.apply(Math,l)},d._getHorizontalColPosition=function(o,i){var l=this.horizontalColIndex%this.cols,p=o>1&&l+o>this.cols;l=p?0:l;var _=i.size.outerWidth&&i.size.outerHeight;return this.horizontalColIndex=_?l+o:this.horizontalColIndex,{col:l,y:this._getColGroupY(l,o)}},d._manageStamp=function(o){var i=h(o),l=this._getElementOffset(o),p=this._getOption("originLeft"),_=p?l.left:l.right,f=_+i.outerWidth,v=Math.floor(_/this.columnWidth);v=Math.max(0,v);var s=Math.floor(f/this.columnWidth);s-=f%this.columnWidth?0:1,s=Math.min(this.cols-1,s);for(var C=this._getOption("originTop"),g=(C?l.top:l.bottom)+i.outerHeight,a=v;a<=s;a++)this.colYs[a]=Math.max(g,this.colYs[a])},d._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var o={height:this.maxY};return this._getOption("fitWidth")&&(o.width=this._getContainerFitWidth()),o},d._getContainerFitWidth=function(){for(var o=0,i=this.cols;--i&&this.colYs[i]===0;)o++;return(this.cols-o)*this.columnWidth-this.gutter},d.needsResizeLayout=function(){var o=this.containerWidth;return this.getContainerWidth(),o!=this.containerWidth},c})})(Y);var nt=Y.exports;const ot=N(nt);class st extends Z{constructor(n={}){X.defaults(n,{el:".home-view",user_generic_data_api:null,context_menu_array:null,viewId:null,dashletControllerArray:null,initMasonryDone:!1,dashboard_container:!1,order_data:!1,current_scroll_position:!1,current_mouse_position:null}),super(n)}initialize(n){Global.setUINotready(),TTPromise.add("init","init"),TTPromise.wait();var r=this;super.initialize(n),r.viewId="Home",LocalCacheData.current_open_primary_controller=r,r.user_generic_data_api=TTAPI.APIUserGenericData,r.api_dashboard=TTAPI.APIDashboard,K("masonry",ot,y),r.dashboard_container=y(".dashboard-container"),r.initMasonryDone=!1,r.initContextMenu(),r.initDashBoard(),r.autoOpenEditOnlyViewIfNecessary(),TTPromise.resolve("BaseViewController","initialize")}autoOpenEditOnlyViewIfNecessary(){LocalCacheData.getAllURLArgs()&&LocalCacheData.getAllURLArgs().sm&&!LocalCacheData.current_open_edit_only_controller&&(LocalCacheData.getAllURLArgs().sm.indexOf("Report")<0?IndexViewController.openEditView(this,LocalCacheData.getAllURLArgs().sm,LocalCacheData.getAllURLArgs().sid):(IndexViewController.openReport(this,LocalCacheData.getAllURLArgs().sm),LocalCacheData.getAllURLArgs().sid&&(LocalCacheData.default_edit_id_for_next_open_edit_view=LocalCacheData.getAllURLArgs().sid)))}initContextMenu(){var n=this;this.buildContextMenu(),this.setDefaultMenu(),y(this.el).unbind("click").bind("click",function(){n.setDefaultMenu()})}determineContextMenuMountAttributes(){return{id:ContextMenuManager.generateMenuId("main_context","home_view"),parent_mount_point:y(this.el)}}unmountContextMenu(){ContextMenuManager.unmountContextMenu(this.determineContextMenuMountAttributes().id)}buildContextMenu(){LocalCacheData.current_open_sub_controller=null;var n=this.determineContextMenuMountAttributes();if(ContextMenuManager.getMenu(n.id)===void 0){ContextMenuManager.createAndMountMenu(n.id,n.parent_mount_point,this);var r=n.parent_mount_point,h="Dashboard";r.prepend('<span class="context-border-label">'+h+"</span>"),r.wrapInner('<div class="context-border"></div>')}this.buildContextMenuModels()}onContextMenuClick(n,r){var h=this,c;if(Global.isSet(r))c=r;else if(n.disabled)return;switch(c){case"add":ProgressBar.showOverlay(),this.onAddClick();break;case"refresh_all":ProgressBar.showOverlay();for(var d=0;d<h.dashletControllerArray.length;d++)y(h.dashletControllerArray[d].el).find(".refresh-btn").trigger("click");break;case"auto_arrange":TAlertManager.showConfirmAlert(Global.auto_arrange_dashlet_confirm_message,null,function(o){o?(ProgressBar.showOverlay(),h.initDashBoard(!0)):ProgressBar.closeOverlay()});break;case"reset_all":TAlertManager.showConfirmAlert(Global.rese_all_dashlet_confirm_message,null,function(o){if(o){let p=function(){h.order_data?h.user_generic_data_api.deleteUserGenericData(h.order_data.id,{onResult:function(){h.initDashBoard()}}):h.initDashBoard()};ProgressBar.showOverlay();for(var i=[],l=0;l<h.dashlet_list.length;l++)i.push(h.dashlet_list[l].id);i.length>0?h.user_generic_data_api.deleteUserGenericData(i,{onResult:function(_){_&&_.isValid()?p():TAlertManager.showErrorAlert(_)}}):p()}else ProgressBar.closeOverlay()});break;case"in_out":case"timesheet":case"schedule":case"request":case"pay_stub":this.onNavigationClick(c);break}Global.triggerAnalyticsContextMenuClick(n)}onNavigationClick(n){switch(n){case"in_out":IndexViewController.openEditView(LocalCacheData.current_open_primary_controller,"InOut");break;case"timesheet":IndexViewController.goToView("TimeSheet");break;case"schedule":IndexViewController.goToView("Schedule");break;case"request":IndexViewController.goToView("Request");break;case"pay_stub":IndexViewController.goToView("PayStub");break}}setDefaultMenu(){for(var n=ContextMenuManager.getMenuModelByMenuId(this.determineContextMenuMountAttributes().id),r=n.length,h=0;h<r;h++){let c=n[h],d=n[h].id;ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,c.id,!0),this.setCustomDefaultMenuIcon(d,c)}}setCustomDefaultMenuIcon(n,r,h){switch(n){case"timesheet":this.setDefaultMenuTimeSheetIcon(r,h);break;case"schedule":this.setDefaultMenuScheduleIcon(r,h,"schedule");break;case"request":this.setDefaultMenuRequestIcon(r,h,"request");break;case"pay_stub":this.setDefaultMenuPayStubIcon(r,h,"pay_stub");break}}setDefaultMenuTimeSheetIcon(n,r){PermissionManager.checkTopLevelPermission("TimeSheet")===!0?ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,n.id,!0):ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,n.id,!1)}setDefaultMenuScheduleIcon(n,r){PermissionManager.checkTopLevelPermission("Schedule")===!0?ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,n.id,!0):ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,n.id,!1)}setDefaultMenuRequestIcon(n,r){PermissionManager.checkTopLevelPermission("Request")===!0?ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,n.id,!0):ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,n.id,!1)}setDefaultMenuPayStubIcon(n,r){PermissionManager.checkTopLevelPermission("PayStub")===!0?ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,n.id,!0):ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,n.id,!1)}onAddClick(){var n=this;IndexViewController.openWizard("DashletWizard",null,function(){n.initDashBoard()})}removeContentMenuByName(n){if(LocalCacheData.current_open_primary_controller){LocalCacheData.current_open_primary_controller.viewId,Global.isSet(n)||(n=this.context_menu_name);var r=y("#ribbon ul a").filter(function(){return y(this).attr("ref")===n}).parent(),h=y("li",y("#ribbon")).index(r);h>=0&&y("#ribbon_view_container").tabs("refresh")}}buildContextMenuModels(){var n=[];n.push({label:y.i18n._("Add Dashlet"),id:"add",vue_icon:"tticon tticon-add_black_24dp",sort_order:1010,permission_result:!0,permission:null}),n.push({label:y.i18n._("Jump To"),id:"jump_to_header",menu_align:"right",action_group:"jump_to",action_group_header:!0,permission_result:!1}),n.push({label:y.i18n._("TimeSheet"),id:"timesheet",menu_align:"right",action_group:"jump_to",sort_order:2020,permission_result:PermissionManager.checkTopLevelPermission("TimeSheet"),permission:null}),n.push({label:y.i18n._("Schedules"),id:"schedule",menu_align:"right",action_group:"jump_to",sort_order:2030,permission_result:PermissionManager.checkTopLevelPermission("Schedule"),permission:null}),n.push({label:y.i18n._("Requests"),id:"request",menu_align:"right",action_group:"jump_to",sort_order:2040,permission_result:PermissionManager.checkTopLevelPermission("Request"),permission:null}),n.push({label:y.i18n._("Pay Stubs"),id:"pay_stub",menu_align:"right",action_group:"jump_to",sort_order:2050,permission_result:PermissionManager.checkTopLevelPermission("PayStub"),permission:null}),n.push({label:"",id:"other_header",menu_align:"right",action_group:"other",action_group_header:!0,vue_icon:"tticon tticon-more_vert_black_24dp"},{label:y.i18n._("Auto Arrange"),id:"auto_arrange",menu_align:"right",action_group:"other",permission_result:!0,permission:null},{label:y.i18n._("Refresh All Dashlets"),id:"refresh_all",menu_align:"right",action_group:"other",permission_result:!0,permission:null},{label:y.i18n._("Restore Default Dashlets"),id:"reset_all",menu_align:"right",action_group:"other",permission_result:!0,permission:null}),ContextMenuManager.buildContextMenuModelFromBackbone(this.determineContextMenuMountAttributes().id,{icons:n},this)}unLoadCurrentDashlets(){if(this.dashletControllerArray)for(var n=0;n<this.dashletControllerArray.length;n++){var r=this.dashletControllerArray[n];r.cleanWhenUnloadView()}this.dashletControllerArray=[]}initDashBoard(n){var r=this,h=0;this.dashletControllerArray?this.unLoadCurrentDashlets():this.dashletControllerArray=[],this.initMasonryDone&&(this.dashboard_container=y(".dashboard-container"),this.dashboard_container.masonry(),this.dashboard_container.masonry("destroy"),this.dashboard_container.sortable("destroy"),this.dashboard_container.empty(),this.initMasonryDone=!1),r.dashlet_controller_dic={},this.user_generic_data_api.getUserGenericData({filter_data:{script:"global_dashboard",deleted:!1}},{onResult:function(o){var i=o.getResult();!Global.isArray(i)||i.length<1?r.api_dashboard.getDefaultDashlets({onResult:function(l){i=l.getResult(),r.is_getting_default_dashlet=!0,c(i)}}):c(i)}});function c(o){r.removeNoResultCover(),r.user_generic_data_api.getUserGenericData({filter_data:{script:"global_dashboard_order",name:"order_data",deleted:!1}},{onResult:function(i){if(i=i.getResult(),Global.isArray(i)&&i.length==1){r.order_data=i[0],r.is_getting_default_dashlet?(r.order_data.data=[],r.addMissedDashLetToOrder(o),r.is_getting_default_dashlet=!1):((!r.order_data.data||!Global.isArray(r.order_data.data))&&(r.order_data.data=[]),r.addMissedDashLetToOrder(o)),r.dashlet_list=[];for(var l=0,p=r.order_data.data.length;l<p;l++)for(var _=r.order_data.data[l],f=0,v=o.length;f<v;f++){var s=o[f];if(s.id.toString()===_.toString()){r.dashlet_list.push(s);break}}}else r.dashlet_list=o;r.dashlet_list.length>0&&d(r.dashlet_list[h])}})}function d(o){Global.loadScript("views/home/dashlet/DashletController.js",function(){var i="dashlet_"+o.id,l=y('<div class="dashlet-container" id="'+i+'"><div class="dashlet"><span class="title"></span><div class="button-bar"><span class="tticon tticon-visibility_black_24dp view-btn" title="View"></span><span class="tticon tticon-edit_black_24dp modify-btn" title="Edit"></span><span class="tticon tticon-delete_black_24dp delete-btn" title="Delete"></span><span class="tticon tticon-refresh_black_24dp refresh-btn" title="Refresh"></span></div><div class="content"><table id="grid"></table><iframe class="report-iframe" id="iframe"></iframe></div></div><div class="dashlet-left-cover" ></div><div class="dashlet-right-cover" ></div></div>');(!o.data.height||n)&&(o.data.height=200),(!o.data.width||n)&&(o.data.dashlet_type==="custom_report"?o.data.width=99:o.data.width=33),o.data.height%10!==0&&(o.data.height=Math.round(o.data.height/10)*10),o.data.width%1!==0&&(o.data.width=Math.round(o.data.width)),l.css("height",o.data.height+"px"),l.css("width",o.data.width+"%"),r.dashboard_container.append(l),l.find(".tticon").unbind("click").bind("click",function(_){var f=_.target,v=y(f).parent().parent().parent();if(v.attr("id")){var s=v.attr("id").split("_")[1];y(f).hasClass("delete-btn")&&r.deleteDashlet(s,y(v)),y(f).hasClass("modify-btn")&&r.modifyDashlet(s)}});var p=new DashletController;r.dashletControllerArray.push(p),p.el="#"+i,p.data=o,p.homeViewController=r,p.initContent(),n&&r.user_generic_data_api.setUserGenericData(o,{onResult:function(_){}}),h=h+1,h<r.dashlet_list.length?d(r.dashlet_list[h]):r.updateLayout()})}Global.detectMobileBrowser()&&this.dashboard_container.sortable({disabled:!0})}showNoResultCover(){this.removeNoResultCover(),this.no_result_box=Global.loadWidgetByName(WidgetNamesDic.NO_RESULT_BOX),this.no_result_box.NoResultBox({related_view_controller:this,is_new:!0,message:y.i18n._("No Dashlets Found"),iconLabel:y.i18n._("Add")}),this.no_result_box.attr("id","#dashboard_"+this.viewId+"_no_result_box"),y(this.el).find(".container").append(this.no_result_box)}removeNoResultCover(){this.no_result_box&&this.no_result_box.length>0&&this.no_result_box.remove(),this.no_result_box=null}addMissedDashLetToOrder(n){var r=this;if(!(!r.order_data||!r.order_data.data))for(var h=0,c=n.length;h<c;h++){for(var d=n[h],o=!1,i=0,l=r.order_data.data.length;i<l;i++){var p=r.order_data.data[i];if(d.id.toString()===p.toString()){o=!0;break}}o||r.order_data.data.push(d.id.toString()),this.is_getting_default_dashlet&&r.order_data.data.sort()}}updateLayout(){var n=this;this.saveScrollPosition(),this.initMasonryDone?(this.dashboard_container.masonry("destroy"),this.dashboard_container.sortable("destroy")):this.initMasonryDone=!0,this.dashboard_container.masonry({columnWidth:1,itemSelector:".dashlet-container"}),this.dashboard_container.on("mouseup",function(){y(".dashlet-cover--display-red").removeClass("dashlet-cover--display-red"),y(".dashlet-cover--display-green").removeClass("dashlet-cover--display-green")}),this.dashboard_container.on("mousemove",function(h){var c=h.pageX,d=h.pageY;n.current_mouse_position={x:c,y:d}}),this.dashboard_container.sortable({forceHelperSize:!0,forcePlaceholderSize:!0,grid:[3,10],containment:".container",change:function(h,c){y(".dashlet-cover--display-red").removeClass("dashlet-cover--display-red"),y(".dashlet-cover--display-green").removeClass("dashlet-cover--display-green");var d=y(".ui-sortable-placeholder").index();if(d!=-1)for(var o=y(".dashlet-container"),i=0;i<o.length;i++)y(o[i]).attr("id")!=c.item.attr("id")&&(y(o[i]).index()==d+1||y(o[i]).index()==d-1)&&r(y(o[i]),n.current_mouse_position)&&(n.current_mouse_position.x>=y(o[i]).offset().left+y(o[i]).width()/2&&n.current_mouse_position.x<=y(o[i]).offset().left+y(o[i]).width()?y(o[i]).find(".dashlet-right-cover").addClass("dashlet-cover--display-green"):y(o[i]).find(".dashlet-left-cover").addClass("dashlet-cover--display-green"))},stop:function(h,c){n.saveNewOrder(),n.updateLayout();for(var d=c.item.attr("id").split("_")[1],o=0,i=n.dashletControllerArray.length;o<i;o++){var l=n.dashletControllerArray[o];d==l.data.id&&l.refreshIfNecessary()}n.dashboard_container.masonry("reloadItems")}});function r(h,c){return h=y(h),h.offset().left<=c.x&&h.offset().left+h.width()>=c.x&&h.offset().top<=c.y&&h.offset().top+h.height()>=c.y}this.recoverCurrentScrollPosition(),TTPromise.resolve("init","init")}saveNewOrder(n){for(var r=this,h=y(this.el).find(".dashlet-container:not(.ui-sortable-placeholder)"),c=[],d=0,o=h.length;d<o;d++){var i=y(h[d]),l=i.attr("id").split("_")[1];c.push(l)}var p={};this.order_data?(this.order_data.data=c,p=this.order_data):(p.name="order_data",p.script="global_dashboard_order",p.is_default=!0,p.data=c),this.user_generic_data_api.setUserGenericData(p,{onResult:function(_){var f=_.getResult();f!=!0&&TTUUID.isUUID(f)&&f!=TTUUID.zero_id&&f!=TTUUID.not_exist_id?(r.order_data={id:f},r.order_data.data=c,n&&n()):f===!0&&n&&n()}})}cleanWhenUnloadView(){this.unLoadCurrentDashlets()}modifyDashlet(n){var r=this;IndexViewController.openWizard("DashletWizard",{saved_dashlet_id:n},function(){r.initDashBoard()})}deleteDashlet(n,r){var h=this;TAlertManager.showConfirmAlert(Global.delete_dashlet_confirm_message,null,function(c){c?(ProgressBar.showOverlay(),h.user_generic_data_api.deleteUserGenericData(n,{onResult:function(d){r.remove(),h.removeDeletedDashletsData(n),y(h.el).find(".dashboard-container").children().length<1?h.showNoResultCover():h.saveNewOrder(function(){h.updateLayout()})}})):ProgressBar.closeOverlay()})}removeDeletedDashletsData(n){for(var r=0,h=this.dashlet_list.length;r<h;r++)if(this.dashlet_list[r].id.toString()===n){this.dashlet_list.splice(r,1);break}}saveScrollPosition(){this.current_scroll_position=this.dashboard_container.parent().scrollTop()}recoverCurrentScrollPosition(){this.current_scroll_position>0&&this.dashboard_container.parent().scrollTop(this.current_scroll_position)}}st.html_template=`
	<div class="html2js view home-view" id="home_view_container">
		<div class="clear-both-div"></div>
		<div class="container">
			<div class="dashboard-container">
			</div>
		</div>
		<div class="grid-bottom-border" style="display: block;"></div>
	</div>
`;export{st as HomeViewController};
//# sourceMappingURL=HomeViewController-CVO83iRG.bundle.js.map
