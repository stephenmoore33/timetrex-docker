{"version":3,"file":"PayStubTransactionViewController-gGTqdeMi.bundle.js","sources":["../../views/payroll/pay_stub_transaction/PayStubTransactionViewController.js"],"sourcesContent":["export class PayStubTransactionViewController extends BaseViewController {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {\n\t\t\tel: '#pay_stub_transaction_view_container',\n\n\t\t\tstatus_array: null,\n\t\t\tcurrency_array: null,\n\t\t\tuser_status_array: null,\n\t\t\tuser_group_array: null,\n\t\t\ttype_array: null,\n\n\t\t\tuser_api: null,\n\t\t\tuser_group_api: null,\n\t\t\tcompany_api: null,\n\t\t\tpay_stub_entry_api: null,\n\n\t\t\tinclude_entries: true\n\t\t} );\n\n\t\tsuper( options );\n\t}\n\n\tinit() {\n\t\t//this._super('initialize' );\n\t\tthis.edit_view_tpl = 'PayStubTransactionEditView.html';\n\t\tthis.permission_id = 'pay_stub';\n\t\tthis.viewId = 'PayStubTransaction';\n\t\tthis.script_name = 'PayStubTransactionView';\n\t\tthis.table_name_key = 'pay_stub_transaction';\n\t\tthis.context_menu_name = $.i18n._( 'Pay Stub Transaction' );\n\t\tthis.navigation_label = $.i18n._( 'Pay Stub Transactions' );\n\n\t\tthis.api = TTAPI.APIPayStubTransaction;\n\t\tthis.currency_api = TTAPI.APICurrency;\n\t\tthis.remittance_source_account_api = TTAPI.APIRemittanceSourceAccount;\n\t\tthis.remittance_destination_account_api = TTAPI.APIRemittanceDestinationAccount;\n\t\tthis.user_api = TTAPI.APIUser;\n\t\tthis.pay_stub_entry_api = TTAPI.APIPayStubEntry;\n\t\tthis.user_group_api = TTAPI.APIUserGroup;\n\t\tthis.company_api = TTAPI.APICompany;\n\t\tthis.pay_period_api = TTAPI.APIPayPeriod;\n\n\t\tthis.initPermission();\n\t\tthis.render();\n\t\tthis.buildContextMenu();\n\n\t\tthis.initData();\n\t}\n\n\tinitPermission() {\n\t\tsuper.initPermission();\n\n\t\tif ( PermissionManager.validate( this.permission_id, 'view' ) || PermissionManager.validate( this.permission_id, 'view_child' ) ) {\n\t\t\tthis.show_search_tab = true;\n\t\t} else {\n\t\t\tthis.show_search_tab = false;\n\t\t}\n\t}\n\n\tinitOptions( callBack ) {\n\t\tvar $this = this;\n\n\t\tthis.initDropDownOption( 'status', 'transaction_status_id' );\n\t}\n\n\tgetCustomContextMenuModel() {\n\t\tvar context_menu_model = {\n\t\t\texclude: ['default'],\n\t\t\tinclude: [\n\t\t\t\t'view',\n\t\t\t\t'edit',\n\t\t\t\t'mass_edit',\n\t\t\t\t'save',\n\t\t\t\t'save_and_continue',\n\t\t\t\t'save_and_next',\n\t\t\t\t'cancel',\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'Jump To' ),\n\t\t\t\t\tid: 'jump_to_header',\n\t\t\t\t\tmenu_align: 'right',\n\t\t\t\t\taction_group: 'jump_to',\n\t\t\t\t\taction_group_header: true,\n\t\t\t\t\tpermission_result: false // to hide it in legacy context menu and avoid errors in legacy parsers.\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'TimeSheet' ),\n\t\t\t\t\tid: 'timesheet',\n\t\t\t\t\tmenu_align: 'right',\n\t\t\t\t\taction_group: 'jump_to',\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'Schedule' ),\n\t\t\t\t\tid: 'schedule',\n\t\t\t\t\tmenu_align: 'right',\n\t\t\t\t\taction_group: 'jump_to',\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'Pay Stubs' ),\n\t\t\t\t\tid: 'pay_stub',\n\t\t\t\t\tmenu_align: 'right',\n\t\t\t\t\taction_group: 'jump_to',\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'Pay Stub Amendments' ),\n\t\t\t\t\tid: 'pay_stub_amendment',\n\t\t\t\t\tmenu_align: 'right',\n\t\t\t\t\taction_group: 'jump_to',\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'Edit Employee' ),\n\t\t\t\t\tid: 'edit_employee',\n\t\t\t\t\tmenu_align: 'right',\n\t\t\t\t\taction_group: 'jump_to',\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'Edit Pay Period' ),\n\t\t\t\t\tid: 'edit_pay_period',\n\t\t\t\t\tmenu_align: 'right',\n\t\t\t\t\taction_group: 'jump_to',\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\n\t\treturn context_menu_model;\n\t}\n\n\tsetCustomDefaultMenuIcon( id, context_btn, grid_selected_length ) {\n\t\tswitch ( id ) {\n\t\t\tcase 'pay_stub_transaction':\n\t\t\tcase 'pay_stub':\n\t\t\t\tthis.setDefaultMenuViewIcon( context_btn, grid_selected_length );\n\t\t\t\tbreak;\n\t\t\tcase 'timesheet':\n\t\t\t\tthis.setDefaultMenuViewIcon( context_btn, grid_selected_length, 'punch' );\n\t\t\t\tbreak;\n\t\t\tcase 'schedule':\n\t\t\t\tthis.setDefaultMenuViewIcon( context_btn, grid_selected_length, 'schedule' );\n\t\t\t\tbreak;\n\t\t\tcase 'pay_stub_amendment':\n\t\t\t\tthis.setDefaultMenuViewIcon( context_btn, grid_selected_length, 'pay_stub_amendment' );\n\t\t\t\tbreak;\n\t\t\tcase 'edit_employee':\n\t\t\t\tthis.setDefaultMenuEditEmployeeIcon( context_btn, grid_selected_length, 'user' );\n\t\t\t\tbreak;\n\t\t\tcase 'edit_pay_period':\n\t\t\t\tthis.setDefaultMenuEditPayPeriodIcon( context_btn, grid_selected_length );\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tsetDefaultMenuEditPayPeriodIcon( context_btn, grid_selected_length, pId ) {\n\t\tif ( !this.editPermissionValidate( 'pay_period_schedule' ) ) {\n\t\t\tContextMenuManager.hideMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, false )\n\t\t}\n\t\tif ( grid_selected_length === 1 ) {\n\t\t\tContextMenuManager.disableMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, true );\n\t\t} else {\n\t\t\tContextMenuManager.disableMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, false );\n\t\t}\n\t}\n\n\tsetDefaultMenuEditEmployeeIcon( context_btn, grid_selected_length ) {\n\t\tif ( !this.editChildPermissionValidate( 'user' ) ) {\n\t\t\tContextMenuManager.hideMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, false )\n\t\t}\n\n\t\tif ( grid_selected_length === 1 ) {\n\t\t\tContextMenuManager.disableMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, true );\n\t\t} else {\n\t\t\tContextMenuManager.disableMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, false );\n\t\t}\n\t}\n\n\tsetDefaultMenuViewIcon( context_btn, grid_selected_length, pId ) {\n\t\tif ( pId === 'punch' || pId === 'schedule' || pId === 'pay_stub_amendment' ) {\n\t\t\tsuper.setDefaultMenuViewIcon( context_btn, grid_selected_length, pId );\n\t\t} else {\n\t\t\tif ( !this.viewPermissionValidate( pId ) || this.edit_only_mode ) {\n\t\t\t\tContextMenuManager.hideMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, false )\n\t\t\t}\n\n\t\t\tif ( grid_selected_length > 0 && this.viewOwnerOrChildPermissionValidate() ) {\n\t\t\t\tContextMenuManager.disableMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, true );\n\t\t\t} else {\n\t\t\t\tContextMenuManager.disableMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, false );\n\t\t\t}\n\t\t}\n\t}\n\n\tsetCustomEditMenuIcon( id, context_btn ) {\n\t\tswitch ( id ) {\n\t\t\tcase 'import_icon':\n\t\t\t\tthis.setEditMenuImportIcon( context_btn );\n\t\t\t\tbreak;\n\t\t\tcase 'timesheet':\n\t\t\t\tthis.setEditMenuViewIcon( context_btn, 'punch' );\n\t\t\t\tbreak;\n\t\t\tcase 'schedule':\n\t\t\t\tthis.setEditMenuViewIcon( context_btn, 'schedule' );\n\t\t\t\tbreak;\n\t\t\tcase 'pay_stub_transaction':\n\t\t\t\tthis.setEditMenuViewIcon( context_btn, 'pay_stub_transaction' );\n\t\t\t\tbreak;\n\t\t\tcase 'pay_stub_amendment':\n\t\t\t\tthis.setEditMenuViewIcon( context_btn, 'pay_stub_amendment' );\n\t\t\t\tbreak;\n\t\t\tcase 'edit_employee':\n\t\t\t\tthis.setEditMenuViewIcon( context_btn, 'user' );\n\t\t\t\tbreak;\n\t\t\tcase 'edit_pay_period':\n\t\t\t\tthis.setEditMenuViewIcon( context_btn, 'pay_period_schedule' );\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tsetDefaultMenuGeneratePayStubIcon( context_btn, grid_selected_length, pId ) {\n\n\t\tif ( grid_selected_length > 0 ) {\n\t\t\tContextMenuManager.disableMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, true );\n\t\t} else {\n\t\t\tContextMenuManager.disableMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, false );\n\t\t}\n\t}\n\n\tsetCurrentEditRecordData() {\n\t\tthis.include_entries = true;\n\t\t//Set current edit record data to all widgets\n\t\tfor ( var key in this.current_edit_record ) {\n\t\t\tvar widget = this.edit_view_ui_dic[key];\n\t\t\tif ( Global.isSet( widget ) ) {\n\t\t\t\tswitch ( key ) {\n\t\t\t\t\tdefault:\n\t\t\t\t\t\twidget.setValue( this.current_edit_record[key] );\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.collectUIDataToCurrentEditRecord();\n\t\tthis.setEditViewDataDone();\n\t}\n\n\tsetEditViewDataDone() {\n\t\tsuper.setEditViewDataDone();\n\n\t\tthis.edit_view_ui_dic.user_id.setEnabled( false );\n\t\tthis.edit_view_ui_dic.remittance_source_account_id.setEnabled( false );\n\t\tthis.edit_view_ui_dic.remittance_destination_account_id.setEnabled( false );\n\t\tthis.edit_view_ui_dic.currency_id.setEnabled( false );\n\t\tthis.edit_view_ui_dic.amount.setEnabled( false );\n\t\tthis.edit_view_ui_dic.confirmation_number.setEnabled( false );\n\t}\n\n\tonSaveClick( ignoreWarning ) {\n\t\tif ( this.is_mass_editing ) {\n\t\t\tthis.include_entries = false; // Note: not sure if we really need this, as a code search for this variable shows it only set in one other place, but not used. Was in original onSaveClick, so including it here for now.\n\t\t}\n\t\tsuper.onSaveClick( ignoreWarning );\n\t}\n\n\tonSaveAndContinue( ignoreWarning ) {\n\t\tvar $this = this;\n\t\tif ( !Global.isSet( ignoreWarning ) ) {\n\t\t\tignoreWarning = false;\n\t\t}\n\t\tthis.is_changed = false;\n\t\tthis.is_add = false;\n\t\tLocalCacheData.current_doing_context_action = 'save_and_continue';\n\t\tvar record = this.current_edit_record;\n\t\trecord = this.uniformVariable( record );\n\n\t\tthis.api['set' + this.api.key_name]( record, false, ignoreWarning, {\n\t\t\tonResult: function( result ) {\n\t\t\t\t$this.onSaveAndContinueResult( result );\n\t\t\t}\n\t\t} );\n\t}\n\n\tonSaveAndContinueResult( result ) {\n\t\tvar $this = this;\n\t\tif ( result && result.isValid() ) {\n\t\t\tvar result_data = result.getResult();\n\t\t\tif ( result_data === true ) {\n\t\t\t\t$this.refresh_id = $this.current_edit_record.id;\n\n\t\t\t} else if ( TTUUID.isUUID( result_data ) && result_data != TTUUID.zero_id && result_data != TTUUID.not_exist_id ) {\n\t\t\t\t$this.refresh_id = result_data;\n\n\t\t\t}\n\t\t\t$this.search( false );\n\t\t\t//     $this.editor.show_cover = false;\n\n\t\t\t$this.onSaveAndContinueDone( result );\n\t\t} else {\n\t\t\t$this.setErrorTips( result );\n\t\t\t$this.setErrorMenu();\n\t\t}\n\t}\n\n\t// onSaveAndNextResult( result ) {\n\t// \tvar $this = this;\n\t// \tif ( result.isValid() ) {\n\t// \t\tvar result_data = result.getResult();\n\t// \t\tif ( result_data === true ) {\n\t// \t\t\t$this.refresh_id = $this.current_edit_record.id;\n\t// \t\t} else if ( TTUUID.isUUID( result_data ) && result_data != TTUUID.zero_id && result_data != TTUUID.not_exist_id ) {\n\t// \t\t\t$this.refresh_id = result_data;\n\t// \t\t}\n\t// \t\t//     $this.editor.show_cover = true;\n\t// \t\t$this.onRightArrowClick();\n\t// \t\t$this.search( false );\n\t// \t\t$this.onSaveAndNextDone( result );\n\t//\n\t// \t} else {\n\t// \t\t$this.setErrorTips( result );\n\t// \t\t$this.setErrorMenu();\n\t// \t}\n\t// },\n\n\tgetFilterColumnsFromDisplayColumns() {\n\t\tvar column_filter = {};\n\t\tcolumn_filter.pay_stub_transaction_date = true;\n\t\tcolumn_filter.pay_stub_start_date = true;\n\t\tcolumn_filter.pay_stub_end_date = true;\n\t\tcolumn_filter.id = true;\n\t\tcolumn_filter.status_id = true;\n\t\tcolumn_filter.is_owner = true;\n\t\tcolumn_filter.user_id = true;\n\t\tcolumn_filter.pay_stub_id = true;\n\t\tcolumn_filter.pay_period_id = true;\n\t\tcolumn_filter.pay_stub_run_id = true;\n\t\tcolumn_filter.currency_id = true;\n\t\tcolumn_filter.remittance_source_account_type_id = true;\n\t\t// Error: Unable to get property 'getGridParam' of undefined or null reference\n\t\tvar display_columns = [];\n\t\tif ( this.grid ) {\n\t\t\tdisplay_columns = this.grid.getGridParam( 'colModel' );\n\t\t}\n\n\t\tif ( display_columns ) {\n\t\t\tfor ( var i = 0; i < display_columns.length; i++ ) {\n\t\t\t\tcolumn_filter[display_columns[i].name] = true;\n\t\t\t}\n\t\t}\n\t\treturn column_filter;\n\t}\n\n\tonFormItemChange( target, doNotValidate ) {\n\t\tvar $this = this;\n\t\tthis.setIsChanged( target );\n\t\tthis.setMassEditingFieldsWhenFormChange( target );\n\t\tvar key = target.getField();\n\t\tvar c_value = target.getValue();\n\n\t\tthis.current_edit_record[key] = c_value;\n\n\t\tif ( !doNotValidate ) {\n\t\t\tthis.validate();\n\t\t}\n\t}\n\n\tvalidate() {\n\t\tvar $this = this;\n\t\tvar record = {};\n\n\t\tif ( this.is_mass_editing ) {\n\t\t\tfor ( var key in this.edit_view_ui_dic ) {\n\n\t\t\t\tif ( !this.edit_view_ui_dic.hasOwnProperty( key ) ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tvar widget = this.edit_view_ui_dic[key];\n\t\t\t\tif ( Global.isSet( widget.isChecked ) ) {\n\t\t\t\t\tif ( widget.isChecked() && widget.getEnabled() ) {\n\t\t\t\t\t\trecord[key] = widget.getValue();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\trecord = this.current_edit_record;\n\t\t}\n\n\t\trecord = this.uniformVariable( record );\n\t\tthis.api['validate' + this.api.key_name]( record, {\n\t\t\tonResult: function( result ) {\n\t\t\t\t$this.validateResult( result );\n\t\t\t}\n\t\t} );\n\t}\n\n\tbuildEditViewUI() {\n\t\tsuper.buildEditViewUI();\n\t\tvar $this = this;\n\n\t\tvar tab_model = {\n\t\t\t'tab_pay_stub_transaction': { 'label': $.i18n._( 'Pay Stub Transaction' ) },\n\t\t\t'tab_audit': true,\n\t\t};\n\t\tthis.setTabModel( tab_model );\n\n\t\tthis.navigation.AComboBox( {\n\t\t\tapi_class: TTAPI.APIPayStub,\n\t\t\tid: this.script_name + '_navigation',\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_pay_stub',\n\t\t\tnavigation_mode: true,\n\t\t\tshow_search_inputs: true\n\t\t} );\n\n\t\tthis.setNavigation();\n\n\t\t//Tab 0 start\n\t\tvar tab_pay_stub_transaction = this.edit_view_tab.find( '#tab_pay_stub_transaction' );\n\t\tvar tab_pay_stub_transaction_column1 = tab_pay_stub_transaction.find( '.first-column' );\n\t\tvar form_item_input;\n\t\tthis.edit_view_tabs[0] = [];\n\t\tthis.edit_view_tabs[0].push( tab_pay_stub_transaction_column1 );\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIUser,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_user',\n\t\t\tshow_search_inputs: false,\n\t\t\tset_empty: false,\n\t\t\tfield: 'user_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Employee' ), form_item_input, tab_pay_stub_transaction_column1, '', null, true );\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'status_id', set_empty: false } );\n\t\tform_item_input.setSourceData( $this.status_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Status' ), form_item_input, tab_pay_stub_transaction_column1 );\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIRemittanceSourceAccount,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_remittance_source_account',\n\t\t\tshow_search_inputs: false,\n\t\t\tset_empty: false,\n\t\t\tfield: 'remittance_source_account_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Source Account' ), form_item_input, tab_pay_stub_transaction_column1, '', null, true );\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIRemittanceDestinationAccount,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_remittance_destination_account',\n\t\t\tshow_search_inputs: false,\n\t\t\tset_empty: false,\n\t\t\tfield: 'remittance_destination_account_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Destination Account' ), form_item_input, tab_pay_stub_transaction_column1, '', null, true );\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tfield: 'currency_id',\n\t\t\tset_empty: false,\n\t\t\tlayout_name: 'global_currency',\n\t\t\tallow_multiple_selection: false,\n\t\t\tshow_search_inputs: false,\n\t\t\tapi_class: TTAPI.APICurrency\n\t\t} );\n\t\t;\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Currency' ), form_item_input, tab_pay_stub_transaction_column1 );\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'amount', width: 300 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Amount' ), form_item_input, tab_pay_stub_transaction_column1 );\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.DATE_PICKER );\n\t\tform_item_input.TDatePicker( { field: 'transaction_date' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Transaction Date' ), form_item_input, tab_pay_stub_transaction_column1 );\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'confirmation_number', width: 300 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Confirmation #' ), form_item_input, tab_pay_stub_transaction_column1 );\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_AREA );\n\t\tform_item_input.TTextArea( { field: 'note', width: 300 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Note' ), form_item_input, tab_pay_stub_transaction_column1 );\n\t}\n\n\tbuildSearchFields() {\n\t\tsuper.buildSearchFields();\n\t\tthis.search_fields = [\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Status' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'transaction_status_id',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tlayout_name: 'global_option_column',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Source Account' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'remittance_source_account_id',\n\t\t\t\tlayout_name: 'global_remittance_source_account',\n\t\t\t\tapi_class: TTAPI.APIRemittanceSourceAccount,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Pay Period' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'pay_period_id',\n\t\t\t\tlayout_name: 'global_Pay_period',\n\t\t\t\tapi_class: TTAPI.APIPayPeriod,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Employee' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'user_id',\n\t\t\t\tapi_class: TTAPI.APIUser,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tlayout_name: 'global_user',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Currency' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'currency_id',\n\t\t\t\tapi_class: TTAPI.APICurrency,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tlayout_name: 'global_currency',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Transaction Date' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'transaction_date',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tlayout_name: 'global_option_column',\n\t\t\t\tform_item_type: FormItemType.DATE_PICKER\n\t\t\t} )\n\n\t\t];\n\t}\n\n\tonCustomContextClick( id ) {\n\t\tswitch ( id ) {\n\t\t\tcase 'timesheet':\n\t\t\tcase 'schedule':\n\t\t\tcase 'pay_stub_amendment':\n\t\t\tcase 'edit_employee':\n\t\t\tcase 'generate_pay_stub':\n\t\t\tcase 'pay_stub_transaction':\n\t\t\tcase 'edit_pay_period':\n\t\t\tcase 'pay_stub':\n\t\t\t\tthis.onNavigationClick( id );\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tonViewClick( editId, noRefreshUI ) {\n\t\tthis.onNavigationClick( 'view' );\n\t}\n\n\tonNavigationClick( iconName ) {\n\t\tvar $this = this;\n\t\tvar grid_selected_id_array;\n\t\tvar filter = {};\n\t\tvar ids = [];\n\t\tvar user_ids = [];\n\t\tvar base_date;\n\t\tvar pay_period_ids = [];\n\t\tvar pay_stub_ids = [];\n\n\t\tif ( $this.edit_view && $this.current_edit_record.id ) {\n\t\t\tids.push( $this.current_edit_record.id );\n\t\t\tuser_ids.push( $this.current_edit_record.user_id );\n\t\t\tpay_period_ids.push( $this.current_edit_record.pay_period_id );\n\t\t\tpay_stub_ids.push( $this.current_edit_record.pay_stub_id );\n\t\t\tbase_date = $this.current_edit_record.pay_stub_start_date;\n\t\t} else {\n\t\t\tgrid_selected_id_array = this.getGridSelectIdArray();\n\t\t\t$.each( grid_selected_id_array, function( index, value ) {\n\t\t\t\tvar grid_selected_row = $this.getRecordFromGridById( value );\n\t\t\t\tids.push( grid_selected_row.id );\n\t\t\t\tuser_ids.push( grid_selected_row.user_id );\n\t\t\t\tpay_period_ids.push( grid_selected_row.pay_period_id );\n\t\t\t\tpay_stub_ids.push( grid_selected_row.pay_stub_id );\n\t\t\t\tbase_date = grid_selected_row.pay_stub_start_date;\n\t\t\t} );\n\t\t}\n\n\t\tvar args = { filter_data: { id: ids } };\n\n\t\tvar post_data;\n\t\tswitch ( iconName ) {\n\t\t\tcase 'pay_stub':\n\t\t\t\tfilter.filter_data = {};\n\t\t\t\tfilter.filter_data.id = { value: pay_stub_ids };\n\t\t\t\tfilter.select_date = base_date;\n\t\t\t\tGlobal.addViewTab( this.viewId, $.i18n._( 'Pay Stub Transactions' ), window.location.href );\n\t\t\t\tIndexViewController.goToView( 'PayStub', filter );\n\t\t\t\tbreak;\n\t\t\tcase 'edit_employee':\n\t\t\t\tif ( user_ids.length > 0 ) {\n\t\t\t\t\tIndexViewController.openEditView( this, 'Employee', user_ids[0] );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'edit_pay_period':\n\t\t\t\tif ( pay_period_ids.length > 0 ) {\n\t\t\t\t\tIndexViewController.openEditView( this, 'PayPeriods', pay_period_ids[0] );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'timesheet':\n\t\t\t\tif ( user_ids.length > 0 ) {\n\t\t\t\t\tfilter.user_id = user_ids[0];\n\t\t\t\t\tfilter.base_date = base_date;\n\t\t\t\t\tGlobal.addViewTab( $this.viewId, $.i18n._( 'Pay Stub Transactions' ), window.location.href );\n\t\t\t\t\tIndexViewController.goToView( 'TimeSheet', filter );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'schedule':\n\t\t\t\tfilter.filter_data = {};\n\t\t\t\tvar include_users = { value: user_ids };\n\t\t\t\tfilter.filter_data.include_user_ids = include_users;\n\t\t\t\tfilter.select_date = base_date;\n\t\t\t\tGlobal.addViewTab( this.viewId, $.i18n._( 'Pay Stub Transactions' ), window.location.href );\n\t\t\t\tIndexViewController.goToView( 'Schedule', filter );\n\t\t\t\tbreak;\n\t\t\tcase 'pay_stub_amendment':\n\t\t\t\tfilter.filter_data = {};\n\t\t\t\tfilter.filter_data.user_id = user_ids[0];\n\t\t\t\tfilter.filter_data.pay_period_id = pay_period_ids[0];\n\t\t\t\tGlobal.addViewTab( this.viewId, $.i18n._( 'Pay Stub Transactions' ), window.location.href );\n\t\t\t\tIndexViewController.goToView( 'PayStubAmendment', filter );\n\t\t\t\tbreak;\n\t\t\tcase 'view':\n\t\t\t\tthis.setCurrentEditViewState( 'view' );\n\t\t\t\tthis.openEditView();\n\t\t\t\tfilter.filter_data = {};\n\n\t\t\t\tvar grid_selected_id_array = this.getGridSelectIdArray();\n\t\t\t\tvar selectedId = grid_selected_id_array[0];\n\t\t\t\tfilter.filter_data.id = [selectedId];\n\n\t\t\t\tthis.api['get' + this.api.key_name]( filter, {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\tvar result_data = result.getResult();\n\t\t\t\t\t\tif ( !result_data ) {\n\t\t\t\t\t\t\tresult_data = [];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tresult_data = result_data[0];\n\n\t\t\t\t\t\tif ( !result_data ) {\n\t\t\t\t\t\t\tTAlertManager.showAlert( $.i18n._( 'Record does not exist' ) );\n\t\t\t\t\t\t\t$this.onCancelClick();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( $this.sub_view_mode && $this.parent_key ) {\n\t\t\t\t\t\t\tresult_data[$this.parent_key] = $this.parent_value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$this.current_edit_record = result_data;\n\n\t\t\t\t\t\t$this.initEditView();\n\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 'pay_stub_transaction':\n\t\t\t\tIndexViewController.openEditView( this, 'PayStubTransaction', user_ids[0] );\n\t\t\t\tbreak;\n\t\t}\n\n\t}\n\n}\n\nPayStubTransactionViewController.loadView = function() {\n\tGlobal.loadViewSource( 'PayStubTransaction', 'PayStubTransactionView.html', function( result ) {\n\t\tvar args = {};\n\t\tvar template = _.template( result, args );\n\t\tGlobal.contentContainer().html( template );\n\t} );\n\n};\n"],"names":["PayStubTransactionViewController","options","_","$","callBack","context_menu_model","id","context_btn","grid_selected_length","pId","key","widget","ignoreWarning","$this","record","result","result_data","column_filter","display_columns","target","doNotValidate","c_value","tab_model","tab_pay_stub_transaction","tab_pay_stub_transaction_column1","form_item_input","editId","noRefreshUI","iconName","grid_selected_id_array","filter","ids","user_ids","base_date","pay_period_ids","pay_stub_ids","index","value","grid_selected_row","include_users","selectedId","args","template"],"mappings":"uDAAO,MAAMA,UAAyC,kBAAmB,CACxE,YAAaC,EAAU,GAAK,CAC3BC,EAAE,SAAUD,EAAS,CACpB,GAAI,uCAEJ,aAAc,KACd,eAAgB,KAChB,kBAAmB,KACnB,iBAAkB,KAClB,WAAY,KAEZ,SAAU,KACV,eAAgB,KAChB,YAAa,KACb,mBAAoB,KAEpB,gBAAiB,EACpB,GAEE,MAAOA,CAAO,CACd,CAED,MAAO,CAEN,KAAK,cAAgB,kCACrB,KAAK,cAAgB,WACrB,KAAK,OAAS,qBACd,KAAK,YAAc,yBACnB,KAAK,eAAiB,uBACtB,KAAK,kBAAoBE,EAAE,KAAK,EAAG,sBAAsB,EACzD,KAAK,iBAAmBA,EAAE,KAAK,EAAG,uBAAuB,EAEzD,KAAK,IAAM,MAAM,sBACjB,KAAK,aAAe,MAAM,YAC1B,KAAK,8BAAgC,MAAM,2BAC3C,KAAK,mCAAqC,MAAM,gCAChD,KAAK,SAAW,MAAM,QACtB,KAAK,mBAAqB,MAAM,gBAChC,KAAK,eAAiB,MAAM,aAC5B,KAAK,YAAc,MAAM,WACzB,KAAK,eAAiB,MAAM,aAE5B,KAAK,eAAc,EACnB,KAAK,OAAM,EACX,KAAK,iBAAgB,EAErB,KAAK,SAAQ,CACb,CAED,gBAAiB,CAChB,MAAM,eAAc,EAEf,kBAAkB,SAAU,KAAK,cAAe,MAAM,GAAM,kBAAkB,SAAU,KAAK,cAAe,YAAY,EAC5H,KAAK,gBAAkB,GAEvB,KAAK,gBAAkB,EAExB,CAED,YAAaC,EAAW,CAGvB,KAAK,mBAAoB,SAAU,wBACnC,CAED,2BAA4B,CAC3B,IAAIC,EAAqB,CACxB,QAAS,CAAC,SAAS,EACnB,QAAS,CACR,OACA,OACA,YACA,OACA,oBACA,gBACA,SACA,CACC,MAAOF,EAAE,KAAK,EAAG,SAAW,EAC5B,GAAI,iBACJ,WAAY,QACZ,aAAc,UACd,oBAAqB,GACrB,kBAAmB,EACnB,EACD,CACC,MAAOA,EAAE,KAAK,EAAG,WAAa,EAC9B,GAAI,YACJ,WAAY,QACZ,aAAc,UACd,MAAO,YACP,EACD,CACC,MAAOA,EAAE,KAAK,EAAG,UAAY,EAC7B,GAAI,WACJ,WAAY,QACZ,aAAc,UACd,MAAO,YACP,EACD,CACC,MAAOA,EAAE,KAAK,EAAG,WAAa,EAC9B,GAAI,WACJ,WAAY,QACZ,aAAc,UACd,MAAO,YACP,EACD,CACC,MAAOA,EAAE,KAAK,EAAG,qBAAuB,EACxC,GAAI,qBACJ,WAAY,QACZ,aAAc,UACd,MAAO,YACP,EACD,CACC,MAAOA,EAAE,KAAK,EAAG,eAAiB,EAClC,GAAI,gBACJ,WAAY,QACZ,aAAc,UACd,MAAO,YACP,EACD,CACC,MAAOA,EAAE,KAAK,EAAG,iBAAmB,EACpC,GAAI,kBACJ,WAAY,QACZ,aAAc,UACd,MAAO,YACP,CACD,CACJ,EAEE,OAAOE,CACP,CAED,yBAA0BC,EAAIC,EAAaC,EAAuB,CACjE,OAASF,EAAE,CACV,IAAK,uBACL,IAAK,WACJ,KAAK,uBAAwBC,EAAaC,GAC1C,MACD,IAAK,YACJ,KAAK,uBAAwBD,EAAaC,EAAsB,OAAO,EACvE,MACD,IAAK,WACJ,KAAK,uBAAwBD,EAAaC,EAAsB,UAAU,EAC1E,MACD,IAAK,qBACJ,KAAK,uBAAwBD,EAAaC,EAAsB,oBAAoB,EACpF,MACD,IAAK,gBACJ,KAAK,+BAAgCD,EAAaC,EAAsB,MAAM,EAC9E,MACD,IAAK,kBACJ,KAAK,gCAAiCD,EAAaC,GACnD,KACD,CACD,CAED,gCAAiCD,EAAaC,EAAsBC,EAAM,CACnE,KAAK,uBAAwB,wBAClC,mBAAmB,aAAc,KAAK,oCAAmC,EAAG,GAAIF,EAAY,GAAI,EAAO,EAEnGC,IAAyB,EAC7B,mBAAmB,gBAAiB,KAAK,oCAAmC,EAAG,GAAID,EAAY,GAAI,IAEnG,mBAAmB,gBAAiB,KAAK,oCAAmC,EAAG,GAAIA,EAAY,GAAI,GAEpG,CAED,+BAAgCA,EAAaC,EAAuB,CAC7D,KAAK,4BAA6B,SACvC,mBAAmB,aAAc,KAAK,oCAAmC,EAAG,GAAID,EAAY,GAAI,EAAO,EAGnGC,IAAyB,EAC7B,mBAAmB,gBAAiB,KAAK,oCAAmC,EAAG,GAAID,EAAY,GAAI,IAEnG,mBAAmB,gBAAiB,KAAK,oCAAmC,EAAG,GAAIA,EAAY,GAAI,GAEpG,CAED,uBAAwBA,EAAaC,EAAsBC,EAAM,CAC3DA,IAAQ,SAAWA,IAAQ,YAAcA,IAAQ,qBACrD,MAAM,uBAAwBF,EAAaC,EAAsBC,CAAG,IAE/D,CAAC,KAAK,uBAAwBA,CAAG,GAAM,KAAK,iBAChD,mBAAmB,aAAc,KAAK,oCAAmC,EAAG,GAAIF,EAAY,GAAI,EAAO,EAGnGC,EAAuB,GAAK,KAAK,mCAAkC,EACvE,mBAAmB,gBAAiB,KAAK,oCAAmC,EAAG,GAAID,EAAY,GAAI,IAEnG,mBAAmB,gBAAiB,KAAK,oCAAmC,EAAG,GAAIA,EAAY,GAAI,IAGrG,CAED,sBAAuBD,EAAIC,EAAc,CACxC,OAASD,EAAE,CACV,IAAK,cACJ,KAAK,sBAAuBC,GAC5B,MACD,IAAK,YACJ,KAAK,oBAAqBA,EAAa,SACvC,MACD,IAAK,WACJ,KAAK,oBAAqBA,EAAa,YACvC,MACD,IAAK,uBACJ,KAAK,oBAAqBA,EAAa,wBACvC,MACD,IAAK,qBACJ,KAAK,oBAAqBA,EAAa,sBACvC,MACD,IAAK,gBACJ,KAAK,oBAAqBA,EAAa,QACvC,MACD,IAAK,kBACJ,KAAK,oBAAqBA,EAAa,uBACvC,KACD,CACD,CAED,kCAAmCA,EAAaC,EAAsBC,EAAM,CAEtED,EAAuB,EAC3B,mBAAmB,gBAAiB,KAAK,oCAAmC,EAAG,GAAID,EAAY,GAAI,IAEnG,mBAAmB,gBAAiB,KAAK,oCAAmC,EAAG,GAAIA,EAAY,GAAI,GAEpG,CAED,0BAA2B,CAC1B,KAAK,gBAAkB,GAEvB,QAAUG,KAAO,KAAK,oBAAsB,CAC3C,IAAIC,EAAS,KAAK,iBAAiBD,CAAG,EACtC,GAAK,OAAO,MAAOC,GAClB,OAASD,EAAG,CACX,QACCC,EAAO,SAAU,KAAK,oBAAoBD,CAAG,CAAC,EAC9C,KACD,CAEF,CAED,KAAK,iCAAgC,EACrC,KAAK,oBAAmB,CACxB,CAED,qBAAsB,CACrB,MAAM,oBAAmB,EAEzB,KAAK,iBAAiB,QAAQ,WAAY,EAAK,EAC/C,KAAK,iBAAiB,6BAA6B,WAAY,EAAK,EACpE,KAAK,iBAAiB,kCAAkC,WAAY,EAAK,EACzE,KAAK,iBAAiB,YAAY,WAAY,EAAK,EACnD,KAAK,iBAAiB,OAAO,WAAY,EAAK,EAC9C,KAAK,iBAAiB,oBAAoB,WAAY,EAAK,CAC3D,CAED,YAAaE,EAAgB,CACvB,KAAK,kBACT,KAAK,gBAAkB,IAExB,MAAM,YAAaA,EACnB,CAED,kBAAmBA,EAAgB,CAClC,IAAIC,EAAQ,KACN,OAAO,MAAOD,KACnBA,EAAgB,IAEjB,KAAK,WAAa,GAClB,KAAK,OAAS,GACd,eAAe,6BAA+B,oBAC9C,IAAIE,EAAS,KAAK,oBAClBA,EAAS,KAAK,gBAAiBA,GAE/B,KAAK,IAAI,MAAQ,KAAK,IAAI,QAAQ,EAAGA,EAAQ,GAAOF,EAAe,CAClE,SAAU,SAAUG,EAAS,CAC5BF,EAAM,wBAAyBE,EAC/B,CACJ,EACE,CAED,wBAAyBA,EAAS,CACjC,IAAIF,EAAQ,KACZ,GAAKE,GAAUA,EAAO,UAAY,CACjC,IAAIC,EAAcD,EAAO,YACpBC,IAAgB,GACpBH,EAAM,WAAaA,EAAM,oBAAoB,GAElC,OAAO,OAAQG,IAAiBA,GAAe,OAAO,SAAWA,GAAe,OAAO,eAClGH,EAAM,WAAaG,GAGpBH,EAAM,OAAQ,IAGdA,EAAM,sBAAuBE,EAChC,MACGF,EAAM,aAAcE,GACpBF,EAAM,aAAY,CAEnB,CAsBD,oCAAqC,CACpC,IAAII,EAAgB,CAAA,EACpBA,EAAc,0BAA4B,GAC1CA,EAAc,oBAAsB,GACpCA,EAAc,kBAAoB,GAClCA,EAAc,GAAK,GACnBA,EAAc,UAAY,GAC1BA,EAAc,SAAW,GACzBA,EAAc,QAAU,GACxBA,EAAc,YAAc,GAC5BA,EAAc,cAAgB,GAC9BA,EAAc,gBAAkB,GAChCA,EAAc,YAAc,GAC5BA,EAAc,kCAAoC,GAElD,IAAIC,EAAkB,CAAA,EAKtB,GAJK,KAAK,OACTA,EAAkB,KAAK,KAAK,aAAc,UAAU,GAGhDA,EACJ,QAAU,EAAI,EAAG,EAAIA,EAAgB,OAAQ,IAC5CD,EAAcC,EAAgB,CAAC,EAAE,IAAI,EAAI,GAG3C,OAAOD,CACP,CAED,iBAAkBE,EAAQC,EAAgB,CAEzC,KAAK,aAAcD,GACnB,KAAK,mCAAoCA,GACzC,IAAIT,EAAMS,EAAO,WACbE,EAAUF,EAAO,WAErB,KAAK,oBAAoBT,CAAG,EAAIW,EAE1BD,GACL,KAAK,SAAQ,CAEd,CAED,UAAW,CACV,IAAIP,EAAQ,KACRC,EAAS,CAAA,EAEb,GAAK,KAAK,iBACT,QAAUJ,KAAO,KAAK,iBAErB,GAAM,KAAK,iBAAiB,eAAgBA,CAAG,EAI/C,KAAIC,EAAS,KAAK,iBAAiBD,CAAG,EACjC,OAAO,MAAOC,EAAO,SAAS,GAC7BA,EAAO,UAAS,GAAMA,EAAO,WAAU,IAC3CG,EAAOJ,CAAG,EAAIC,EAAO,SAAQ,SAKhCG,EAAS,KAAK,oBAGfA,EAAS,KAAK,gBAAiBA,GAC/B,KAAK,IAAI,WAAa,KAAK,IAAI,QAAQ,EAAGA,EAAQ,CACjD,SAAU,SAAUC,EAAS,CAC5BF,EAAM,eAAgBE,EACtB,CACJ,EACE,CAED,iBAAkB,CACjB,MAAM,gBAAe,EACrB,IAAIF,EAAQ,KAERS,EAAY,CACf,yBAA4B,CAAE,MAASnB,EAAE,KAAK,EAAG,uBAA0B,EAC3E,UAAa,EAChB,EACE,KAAK,YAAamB,GAElB,KAAK,WAAW,UAAW,CAC1B,UAAW,MAAM,WACjB,GAAI,KAAK,YAAc,cACvB,yBAA0B,GAC1B,YAAa,kBACb,gBAAiB,GACjB,mBAAoB,EACvB,GAEE,KAAK,cAAa,EAGlB,IAAIC,EAA2B,KAAK,cAAc,KAAM,2BAA2B,EAC/EC,EAAmCD,EAAyB,KAAM,eAAe,EACjFE,EACJ,KAAK,eAAe,CAAC,EAAI,GACzB,KAAK,eAAe,CAAC,EAAE,KAAMD,CAAgC,EAE7DC,EAAkB,OAAO,iBAAkB,aAAa,WAAW,EACnEA,EAAgB,UAAW,CAC1B,UAAW,MAAM,QACjB,yBAA0B,GAC1B,YAAa,cACb,mBAAoB,GACpB,UAAW,GACX,MAAO,SACV,GACE,KAAK,qBAAsBtB,EAAE,KAAK,EAAG,YAAcsB,EAAiBD,EAAkC,GAAI,KAAM,EAAI,EAEpHC,EAAkB,OAAO,iBAAkB,aAAa,SAAS,EACjEA,EAAgB,UAAW,CAAE,MAAO,YAAa,UAAW,EAAK,GACjEA,EAAgB,cAAeZ,EAAM,cACrC,KAAK,qBAAsBV,EAAE,KAAK,EAAG,QAAU,EAAEsB,EAAiBD,GAElEC,EAAkB,OAAO,iBAAkB,aAAa,WAAW,EACnEA,EAAgB,UAAW,CAC1B,UAAW,MAAM,2BACjB,yBAA0B,GAC1B,YAAa,mCACb,mBAAoB,GACpB,UAAW,GACX,MAAO,8BACV,GACE,KAAK,qBAAsBtB,EAAE,KAAK,EAAG,kBAAoBsB,EAAiBD,EAAkC,GAAI,KAAM,EAAI,EAE1HC,EAAkB,OAAO,iBAAkB,aAAa,WAAW,EACnEA,EAAgB,UAAW,CAC1B,UAAW,MAAM,gCACjB,yBAA0B,GAC1B,YAAa,wCACb,mBAAoB,GACpB,UAAW,GACX,MAAO,mCACV,GACE,KAAK,qBAAsBtB,EAAE,KAAK,EAAG,uBAAyBsB,EAAiBD,EAAkC,GAAI,KAAM,EAAI,EAE/HC,EAAkB,OAAO,iBAAkB,aAAa,WAAW,EACnEA,EAAgB,UAAW,CAC1B,MAAO,cACP,UAAW,GACX,YAAa,kBACb,yBAA0B,GAC1B,mBAAoB,GACpB,UAAW,MAAM,WACpB,GAEE,KAAK,qBAAsBtB,EAAE,KAAK,EAAG,UAAY,EAAEsB,EAAiBD,GAEpEC,EAAkB,OAAO,iBAAkB,aAAa,UAAU,EAClEA,EAAgB,WAAY,CAAE,MAAO,SAAU,MAAO,GAAG,GACzD,KAAK,qBAAsBtB,EAAE,KAAK,EAAG,QAAU,EAAEsB,EAAiBD,GAElEC,EAAkB,OAAO,iBAAkB,aAAa,WAAW,EACnEA,EAAgB,YAAa,CAAE,MAAO,kBAAoB,CAAA,EAC1D,KAAK,qBAAsBtB,EAAE,KAAK,EAAG,kBAAoB,EAAEsB,EAAiBD,GAE5EC,EAAkB,OAAO,iBAAkB,aAAa,UAAU,EAClEA,EAAgB,WAAY,CAAE,MAAO,sBAAuB,MAAO,GAAG,GACtE,KAAK,qBAAsBtB,EAAE,KAAK,EAAG,gBAAkB,EAAEsB,EAAiBD,GAE1EC,EAAkB,OAAO,iBAAkB,aAAa,SAAS,EACjEA,EAAgB,UAAW,CAAE,MAAO,OAAQ,MAAO,GAAG,GACtD,KAAK,qBAAsBtB,EAAE,KAAK,EAAG,MAAQ,EAAEsB,EAAiBD,EAChE,CAED,mBAAoB,CACnB,MAAM,kBAAiB,EACvB,KAAK,cAAgB,CAEpB,IAAI,YAAa,CAChB,MAAOrB,EAAE,KAAK,EAAG,QAAU,EAC3B,UAAW,EACX,MAAO,wBACP,SAAU,GACV,aAAc,GACd,WAAY,GACZ,YAAa,uBACb,eAAgB,aAAa,WACjC,CAAM,EAEH,IAAI,YAAa,CAChB,MAAOA,EAAE,KAAK,EAAG,gBAAkB,EACnC,UAAW,EACX,MAAO,+BACP,YAAa,mCACb,UAAW,MAAM,2BACjB,SAAU,GACV,aAAc,GACd,WAAY,GACZ,eAAgB,aAAa,WACjC,CAAM,EAEH,IAAI,YAAa,CAChB,MAAOA,EAAE,KAAK,EAAG,YAAc,EAC/B,UAAW,EACX,MAAO,gBACP,YAAa,oBACb,UAAW,MAAM,aACjB,SAAU,GACV,aAAc,GACd,WAAY,GACZ,eAAgB,aAAa,WACjC,CAAM,EAEH,IAAI,YAAa,CAChB,MAAOA,EAAE,KAAK,EAAG,UAAY,EAC7B,UAAW,EACX,MAAO,UACP,UAAW,MAAM,QACjB,SAAU,GACV,aAAc,GACd,WAAY,GACZ,YAAa,cACb,eAAgB,aAAa,WACjC,CAAM,EAEH,IAAI,YAAa,CAChB,MAAOA,EAAE,KAAK,EAAG,UAAY,EAC7B,UAAW,EACX,MAAO,cACP,UAAW,MAAM,YACjB,SAAU,GACV,aAAc,GACd,WAAY,GACZ,YAAa,kBACb,eAAgB,aAAa,WACjC,CAAM,EAEH,IAAI,YAAa,CAChB,MAAOA,EAAE,KAAK,EAAG,kBAAoB,EACrC,UAAW,EACX,MAAO,mBACP,SAAU,GACV,aAAc,GACd,WAAY,GACZ,YAAa,uBACb,eAAgB,aAAa,WACjC,CAAM,CAEN,CACE,CAED,qBAAsBG,EAAK,CAC1B,OAASA,EAAE,CACV,IAAK,YACL,IAAK,WACL,IAAK,qBACL,IAAK,gBACL,IAAK,oBACL,IAAK,uBACL,IAAK,kBACL,IAAK,WACJ,KAAK,kBAAmBA,GACxB,KACD,CACD,CAED,YAAaoB,EAAQC,EAAc,CAClC,KAAK,kBAAmB,OACxB,CAED,kBAAmBC,EAAW,CAC7B,IAAIf,EAAQ,KACRgB,EACAC,EAAS,CAAA,EACTC,EAAM,CAAA,EACNC,EAAW,CAAA,EACXC,EACAC,EAAiB,CAAA,EACjBC,EAAe,CAAA,EAuBnB,OArBKtB,EAAM,WAAaA,EAAM,oBAAoB,IACjDkB,EAAI,KAAMlB,EAAM,oBAAoB,EAAE,EACtCmB,EAAS,KAAMnB,EAAM,oBAAoB,OAAO,EAChDqB,EAAe,KAAMrB,EAAM,oBAAoB,aAAa,EAC5DsB,EAAa,KAAMtB,EAAM,oBAAoB,WAAW,EACxDoB,EAAYpB,EAAM,oBAAoB,sBAEtCgB,EAAyB,KAAK,uBAC9B1B,EAAE,KAAM0B,EAAwB,SAAUO,EAAOC,EAAQ,CACxD,IAAIC,EAAoBzB,EAAM,sBAAuBwB,CAAK,EAC1DN,EAAI,KAAMO,EAAkB,IAC5BN,EAAS,KAAMM,EAAkB,SACjCJ,EAAe,KAAMI,EAAkB,eACvCH,EAAa,KAAMG,EAAkB,aACrCL,EAAYK,EAAkB,mBAClC,IAMWV,EAAQ,CAChB,IAAK,WACJE,EAAO,YAAc,GACrBA,EAAO,YAAY,GAAK,CAAE,MAAOK,CAAY,EAC7CL,EAAO,YAAcG,EACrB,OAAO,WAAY,KAAK,OAAQ9B,EAAE,KAAK,EAAG,uBAAuB,EAAI,OAAO,SAAS,IAAI,EACzF,oBAAoB,SAAU,UAAW2B,GACzC,MACD,IAAK,gBACCE,EAAS,OAAS,GACtB,oBAAoB,aAAc,KAAM,WAAYA,EAAS,CAAC,GAE/D,MACD,IAAK,kBACCE,EAAe,OAAS,GAC5B,oBAAoB,aAAc,KAAM,aAAcA,EAAe,CAAC,GAEvE,MACD,IAAK,YACCF,EAAS,OAAS,IACtBF,EAAO,QAAUE,EAAS,CAAC,EAC3BF,EAAO,UAAYG,EACnB,OAAO,WAAYpB,EAAM,OAAQV,EAAE,KAAK,EAAG,uBAAuB,EAAI,OAAO,SAAS,IAAI,EAC1F,oBAAoB,SAAU,YAAa2B,IAE5C,MACD,IAAK,WACJA,EAAO,YAAc,GACrB,IAAIS,EAAgB,CAAE,MAAOP,GAC7BF,EAAO,YAAY,iBAAmBS,EACtCT,EAAO,YAAcG,EACrB,OAAO,WAAY,KAAK,OAAQ9B,EAAE,KAAK,EAAG,uBAAuB,EAAI,OAAO,SAAS,IAAI,EACzF,oBAAoB,SAAU,WAAY2B,GAC1C,MACD,IAAK,qBACJA,EAAO,YAAc,GACrBA,EAAO,YAAY,QAAUE,EAAS,CAAC,EACvCF,EAAO,YAAY,cAAgBI,EAAe,CAAC,EACnD,OAAO,WAAY,KAAK,OAAQ/B,EAAE,KAAK,EAAG,uBAAuB,EAAI,OAAO,SAAS,IAAI,EACzF,oBAAoB,SAAU,mBAAoB2B,GAClD,MACD,IAAK,OACJ,KAAK,wBAAyB,QAC9B,KAAK,aAAY,EACjBA,EAAO,YAAc,GAErB,IAAID,EAAyB,KAAK,uBAC9BW,EAAaX,EAAuB,CAAC,EACzCC,EAAO,YAAY,GAAK,CAACU,CAAU,EAEnC,KAAK,IAAI,MAAQ,KAAK,IAAI,QAAQ,EAAGV,EAAQ,CAC5C,SAAU,SAAUf,EAAS,CAC5B,IAAIC,EAAcD,EAAO,YAOzB,GANMC,IACLA,EAAc,CAAA,GAGfA,EAAcA,EAAY,CAAC,EAEtB,CAACA,EAAc,CACnB,cAAc,UAAWb,EAAE,KAAK,EAAG,uBAAuB,GAC1DU,EAAM,cAAa,EACnB,MACA,CAEIA,EAAM,eAAiBA,EAAM,aACjCG,EAAYH,EAAM,UAAU,EAAIA,EAAM,cAGvCA,EAAM,oBAAsBG,EAE5BH,EAAM,aAAY,CAElB,CACN,GACI,MACD,IAAK,uBACJ,oBAAoB,aAAc,KAAM,qBAAsBmB,EAAS,CAAC,GACxE,KACD,CAED,CAEF,CAEAhC,EAAiC,SAAW,UAAW,CACtD,OAAO,eAAgB,qBAAsB,8BAA+B,SAAUe,EAAS,CAC9F,IAAI0B,EAAO,CAAA,EACPC,EAAWxC,EAAE,SAAUa,EAAQ0B,CAAI,EACvC,OAAO,iBAAgB,EAAG,KAAMC,CAAQ,CAC1C,EAEA"}