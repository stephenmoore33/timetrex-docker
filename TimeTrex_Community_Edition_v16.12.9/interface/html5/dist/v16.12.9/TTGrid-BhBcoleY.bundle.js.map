{"version":3,"file":"TTGrid-BhBcoleY.bundle.js","sources":["../../framework/widgets/jqgrid/jquery.jqgrid.min.js","../../framework/widgets/jqgrid/jquery.jqgrid.winmultiselect.js","../../global/widgets/ttgrid/TTGrid.js"],"sourcesContent":["// ==ClosureCompiler==\n// @compilation_level SIMPLE_OPTIMIZATIONS\n\n/**\n * @license jqGrid 4.15.5-pre - free jqGrid: https://github.com/free-jqgrid/jqGrid\n * Copyright (c) 2008-2014, Tony Tomov, tony@trirand.com\n * Copyright (c) 2014-2018, Oleg Kiriljuk, oleg.kiriljuk@ok-soft-gmbh.com\n * Dual licensed under the MIT and GPL licenses\n * http://www.opensource.org/licenses/mit-license.php\n * http://www.gnu.org/licenses/gpl-2.0.html\n * Date: 2018-08-12\n */\n//jsHint options\n/*jshint eqnull:true */\n/*jslint browser: true, evil: true, devel: true, white: true */\n/*global jQuery, define, HTMLElement, HTMLTableRowElement, module, require */\n\n(function (global, factory) {\n\t\"use strict\";\n\tfactory(jQuery, global.document);\n}(typeof window !== \"undefined\" ? window : this, function ($, document) {\n\t\"use strict\";\n\t// begin module grid.base\n\t/** @const */\n\tvar englishLanguageDefaults = {\n\t\tname: \"English (United States)\",\n\t\tnameEnglish: \"English (United States)\",\n\t\tisRTL: false,\n\t\tdefaults: {\n\t\t\trecordtext: \"View {0} - {1} of {2}\",\n\t\t\temptyrecords: \"No records to view\",\n\t\t\tloadtext: \"Loading...\",\n\t\t\tpgtext: \"Page {0} of {1}\",\n\t\t\tpgfirst: \"First Page\",\n\t\t\tpglast: \"Last Page\",\n\t\t\tpgnext: \"Next Page\",\n\t\t\tpgprev: \"Previous Page\",\n\t\t\tpgrecs: \"Records per Page\",\n\t\t\tshowhide: \"Toggle Expand Collapse Grid\",\n\t\t\tsavetext: \"Saving...\"\n\t\t},\n\t\tsearch: {\n\t\t\tcaption: \"Search...\",\n\t\t\tFind: \"Find\",\n\t\t\tReset: \"Reset\",\n\t\t\todata: [\n\t\t\t\t{ oper: \"eq\", text: \"equal\" },\n\t\t\t\t{ oper: \"ne\", text: \"not equal\" },\n\t\t\t\t{ oper: \"lt\", text: \"less\" },\n\t\t\t\t{ oper: \"le\", text: \"less or equal\" },\n\t\t\t\t{ oper: \"gt\", text: \"greater\" },\n\t\t\t\t{ oper: \"ge\", text: \"greater or equal\" },\n\t\t\t\t{ oper: \"bw\", text: \"begins with\" },\n\t\t\t\t{ oper: \"bn\", text: \"does not begin with\" },\n\t\t\t\t{ oper: \"in\", text: \"is in\" },\n\t\t\t\t{ oper: \"ni\", text: \"is not in\" },\n\t\t\t\t{ oper: \"ew\", text: \"ends with\" },\n\t\t\t\t{ oper: \"en\", text: \"does not end with\" },\n\t\t\t\t{ oper: \"cn\", text: \"contains\" },\n\t\t\t\t{ oper: \"nc\", text: \"does not contain\" },\n\t\t\t\t{ oper: \"nu\", text: \"is null\" },\n\t\t\t\t{ oper: \"nn\", text: \"is not null\" }\n\t\t\t],\n\t\t\tgroupOps: [\n\t\t\t\t{ op: \"AND\", text: \"all\" },\n\t\t\t\t{ op: \"OR\", text: \"any\" }\n\t\t\t],\n\t\t\taddGroupTitle: \"Add subgroup\",\n\t\t\tdeleteGroupTitle: \"Delete group\",\n\t\t\taddRuleTitle: \"Add rule\",\n\t\t\tdeleteRuleTitle: \"Delete rule\",\n\t\t\toperandTitle: \"Click to select search operation.\",\n\t\t\tresetTitle: \"Reset Search Value\"\n\t\t},\n\t\tedit: {\n\t\t\taddCaption: \"Add Record\",\n\t\t\teditCaption: \"Edit Record\",\n\t\t\tbSubmit: \"Submit\",\n\t\t\tbCancel: \"Cancel\",\n\t\t\tbClose: \"Close\",\n\t\t\tsaveData: \"Data has been changed! Save changes?\",\n\t\t\tbYes: \"Yes\",\n\t\t\tbNo: \"No\",\n\t\t\tbExit: \"Cancel\",\n\t\t\tmsg: {\n\t\t\t\trequired: \"Field is required\",\n\t\t\t\tnumber: \"Please, enter valid number\",\n\t\t\t\tminValue: \"value must be greater than or equal to \",\n\t\t\t\tmaxValue: \"value must be less than or equal to\",\n\t\t\t\temail: \"is not a valid e-mail\",\n\t\t\t\tinteger: \"Please, enter valid integer value\",\n\t\t\t\tdate: \"Please, enter valid date value\",\n\t\t\t\turl: \"is not a valid URL. Prefix required ('http://' or 'https://')\",\n\t\t\t\tnodefined: \" is not defined!\",\n\t\t\t\tnovalue: \" return value is required!\",\n\t\t\t\tcustomarray: \"Custom function should return array!\",\n\t\t\t\tcustomfcheck: \"Custom function should be present in case of custom checking!\"\n\t\t\t}\n\t\t},\n\t\tview: {\n\t\t\tcaption: \"View Record\",\n\t\t\tbClose: \"Close\"\n\t\t},\n\t\tdel: {\n\t\t\tcaption: \"Delete\",\n\t\t\tmsg: \"Delete selected record(s)?\",\n\t\t\tbSubmit: \"Delete\",\n\t\t\tbCancel: \"Cancel\"\n\t\t},\n\t\tnav: {\n\t\t\tedittext: \"\",\n\t\t\tedittitle: \"Edit selected row\",\n\t\t\taddtext: \"\",\n\t\t\taddtitle: \"Add new row\",\n\t\t\tdeltext: \"\",\n\t\t\tdeltitle: \"Delete selected row\",\n\t\t\tsearchtext: \"\",\n\t\t\tsearchtitle: \"Find records\",\n\t\t\trefreshtext: \"\",\n\t\t\trefreshtitle: \"Reload Grid\",\n\t\t\talertcap: \"Warning\",\n\t\t\talerttext: \"Please, select row\",\n\t\t\tviewtext: \"\",\n\t\t\tviewtitle: \"View selected row\",\n\t\t\tsavetext: \"\",\n\t\t\tsavetitle: \"Save row\",\n\t\t\tcanceltext: \"\",\n\t\t\tcanceltitle: \"Cancel row editing\"\n\t\t},\n\t\tcol: {\n\t\t\tcaption: \"Select columns\",\n\t\t\tbSubmit: \"Ok\",\n\t\t\tbCancel: \"Cancel\"\n\t\t},\n\t\terrors: {\n\t\t\terrcap: \"Error\",\n\t\t\tnourl: \"No url is set\",\n\t\t\tnorecords: \"No records to process\",\n\t\t\tmodel: \"Length of colNames <> colModel!\"\n\t\t},\n\t\tformatter: {\n\t\t\tinteger: {\n\t\t\t\tthousandsSeparator: \",\",\n\t\t\t\tdefaultValue: \"0\"\n\t\t\t},\n\t\t\tnumber: {\n\t\t\t\tdecimalSeparator: \".\",\n\t\t\t\tthousandsSeparator: \",\",\n\t\t\t\tdecimalPlaces: 2,\n\t\t\t\tdefaultValue: \"0.00\"\n\t\t\t},\n\t\t\tcurrency: {\n\t\t\t\tdecimalSeparator: \".\",\n\t\t\t\tthousandsSeparator: \",\",\n\t\t\t\tdecimalPlaces: 2,\n\t\t\t\tprefix: \"\",\n\t\t\t\tsuffix: \"\",\n\t\t\t\tdefaultValue: \"0.00\"\n\t\t\t},\n\t\t\tdate: {\n\t\t\t\tdayNames: [\n\t\t\t\t\t\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thr\", \"Fri\", \"Sat\",\n\t\t\t\t\t\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"\n\t\t\t\t],\n\t\t\t\tmonthNames: [\n\t\t\t\t\t\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\",\n\t\t\t\t\t\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\n\t\t\t\t],\n\t\t\t\tAmPm: [\"am\", \"pm\", \"AM\", \"PM\"],\n\t\t\t\tS: function (j) {\n\t\t\t\t\tvar ending = [\"st\", \"nd\", \"rd\", \"th\"];\n\t\t\t\t\treturn j < 11 || j > 13 ? ending[Math.min((j - 1) % 10, 3)] : \"th\";\n\t\t\t\t},\n\t\t\t\tsrcformat: \"Y-m-d\",\n\t\t\t\tnewformat: \"n/j/Y\",\n\t\t\t\tmasks: {\n\t\t\t\t\t// see http://php.net/manual/en/function.date.php for PHP format used in jqGrid\n\t\t\t\t\t// and see http://docs.jquery.com/UI/Datepicker/formatDate\n\t\t\t\t\t// and https://github.com/jquery/globalize#dates for alternative formats used frequently\n\t\t\t\t\t// one can find on https://github.com/jquery/globalize/tree/master/lib/cultures many\n\t\t\t\t\t// information about date, time, numbers and currency formats used in different countries\n\t\t\t\t\t// one should just convert the information in PHP format\n\t\t\t\t\t// short date:\n\t\t\t\t\t//    n - Numeric representation of a month, without leading zeros\n\t\t\t\t\t//    j - Day of the month without leading zeros\n\t\t\t\t\t//    Y - A full numeric representation of a year, 4 digits\n\t\t\t\t\t// example: 3/1/2012 which means 1 March 2012\n\t\t\t\t\tShortDate: \"n/j/Y\", // in jQuery UI Datepicker: \"M/d/yyyy\"\n\t\t\t\t\t// long date:\n\t\t\t\t\t//    l - A full textual representation of the day of the week\n\t\t\t\t\t//    F - A full textual representation of a month\n\t\t\t\t\t//    d - Day of the month, 2 digits with leading zeros\n\t\t\t\t\t//    Y - A full numeric representation of a year, 4 digits\n\t\t\t\t\tLongDate: \"l, F d, Y\", // in jQuery UI Datepicker: \"dddd, MMMM dd, yyyy\"\n\t\t\t\t\t// long date with long time:\n\t\t\t\t\t//    l - A full textual representation of the day of the week\n\t\t\t\t\t//    F - A full textual representation of a month\n\t\t\t\t\t//    d - Day of the month, 2 digits with leading zeros\n\t\t\t\t\t//    Y - A full numeric representation of a year, 4 digits\n\t\t\t\t\t//    g - 12-hour format of an hour without leading zeros\n\t\t\t\t\t//    i - Minutes with leading zeros\n\t\t\t\t\t//    s - Seconds, with leading zeros\n\t\t\t\t\t//    A - Uppercase Ante meridiem and Post meridiem (AM or PM)\n\t\t\t\t\tFullDateTime: \"l, F d, Y g:i:s A\", // in jQuery UI Datepicker: \"dddd, MMMM dd, yyyy h:mm:ss tt\"\n\t\t\t\t\t// month day:\n\t\t\t\t\t//    F - A full textual representation of a month\n\t\t\t\t\t//    d - Day of the month, 2 digits with leading zeros\n\t\t\t\t\tMonthDay: \"F d\", // in jQuery UI Datepicker: \"MMMM dd\"\n\t\t\t\t\t// short time (without seconds)\n\t\t\t\t\t//    g - 12-hour format of an hour without leading zeros\n\t\t\t\t\t//    i - Minutes with leading zeros\n\t\t\t\t\t//    A - Uppercase Ante meridiem and Post meridiem (AM or PM)\n\t\t\t\t\tShortTime: \"g:i A\", // in jQuery UI Datepicker: \"h:mm tt\"\n\t\t\t\t\t// long time (with seconds)\n\t\t\t\t\t//    g - 12-hour format of an hour without leading zeros\n\t\t\t\t\t//    i - Minutes with leading zeros\n\t\t\t\t\t//    s - Seconds, with leading zeros\n\t\t\t\t\t//    A - Uppercase Ante meridiem and Post meridiem (AM or PM)\n\t\t\t\t\tLongTime: \"g:i:s A\", // in jQuery UI Datepicker: \"h:mm:ss tt\"\n\t\t\t\t\t// month with year\n\t\t\t\t\t//    Y - A full numeric representation of a year, 4 digits\n\t\t\t\t\t//    F - A full textual representation of a month\n\t\t\t\t\tYearMonth: \"F, Y\" // in jQuery UI Datepicker: \"MMMM, yyyy\"\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t$.jgrid = $.jgrid || {};\n\tvar jgrid = $.jgrid;\n\tjgrid.locales = jgrid.locales || {};\n\tvar locales = jgrid.locales;\n\n\t/**\n\t * Enum with different components of jqGrid.\n\t * @enum {number} @const\n\t */\n\t/*var INPUT_NAME_TYPE = {\n\t\tCOL_NAME: 0,\n\t\tADDITIONAL_PROPERTY: 1,\n\t\tROWID: 2\n\t};*/\n\t/**\n\t * Enum with different components of jqGrid.\n\t * @enum {number} @const\n\t */\n\tvar COMPONENT_NAMES = {\n\t\t// let us this - <table> from which grid is created. Then\n\t\t//   gBox (grid box) - outer div which includes all grid components: $(this).closest(\".ui-jqgrid\")[0]\n\t\t// In the same way\n\t\tGRID_BOX_DIV: 0,                        // tagName: \"div\". class: \"ui-jqgrid\". Id: \"gbox_\" + gridId\n\t\tGRID_OVERLAY_DIV: 1,                    // tagName: \"div\". class: \"jqgrid-overlay\". Id: \"lui_\" + gridId\n\t\tLOADING_DIV: 2,                         // tagName: \"div\". class: \"loading\". Id: \"load_\" + gridId\n\t\tDIALOG_ALERT_DIV: 3,                    // tagName: \"div\". class: \"ui-jqdialog\". Id: \"alertmod_\" + gridId\n\t\tDIALOG_SEARCH_DIV: 4,                   // tagName: \"div\". class: \"ui-jqdialog\". Id: \"searchmodfbox_\" + gridId\n\t\tDIALOG_VIEW_DIV: 5,                     // tagName: \"div\". class: \"ui-jqdialog\". Id: \"viewmod\" + gridId\n\t\tDIALOG_EDIT_DIV: 6,                     // tagName: \"div\". class: \"ui-jqdialog\". Id: \"editmod\" + gridId\n\t\tDIALOG_DELETE_DIV: 7,                   // tagName: \"div\". class: \"ui-jqdialog\". Id: \"delmod\" + gridId\n\n\t\tGRID_VIEW_DIV: 8,                       // tagName: \"div\". class: \"ui-jqgrid-view\". Id: \"gview_\" + gridId\n\t\tTITLE_BAR_DIV: 9,                       // tagName: \"div\". class: \"ui-jqgrid-titlebar\" and either \"ui-jqgrid-caption\" or \"ui-jqgrid-caption-rtl\"\n\n\t\tUPPER_TOOLBAR_DIV: 10,                  // tagName: \"div\". class: \"ui-userdata\". Id: \"tb_\" + gridId\n\n\t\tTOP_PAGER_DIV: 11,                      // tagName: \"div\". class: \"ui-jqgrid-toppager\". Id: gridId + \"_toppager\"\n\n\t\tHEADER_DIV: 12,                         // tagName: \"div\". class: \"ui-jqgrid-hdiv\"\n\t\tHEADER_BOX_DIV: 13,                     // tagName: \"div\". class: either \"ui-jqgrid-hdiv\" or \"ui-jqgrid-hbox-rtl\"\n\t\tHEADER_TABLE: 14,                       // tagName: \"table\". class: \"ui-jqgrid-htable\"\n\t\tHEADER_COLS_ROW: 15,                    // tagName: \"tr\". class: \"jqgfirstrow\" or the row with column headers\n\t\tHEADER_COLS: 16,                        // tagName: \"th\". class: either \"ui-first-th-rtl\" or \"ui-first-th-rtl\"\n\t\tHEADER_ROWS: 47,                        // tagName: \"tr\". class: \"ui-jqgrid-labels\"\n\t\tHEADER_TH: 48,                          // tagName: \"th\". class: \"ui-th-column\" and either \"ui-th-ltr\" or \"ui-th-rtl\"\n\t\tHEADER_SORTABLE_DIV: 49,                // tagName: \"div\". class: \"ui-jqgrid-labels\"\n\t\tHEADER_RESIZABLE_SPAN: 50,              // tagName: \"span\". class: \"ui-jqgrid-resize\" and either \"ui-jqgrid-resize-ltr\" or \"ui-jqgrid-resize-rtl\"\n\t\tHEADER_SELECT_ALL_ROWS_CHECKBOX: 45,    // tagName: \"input\" (can be changed to \"button\" in the future). class: \"cbox\". Id: \"cb_\" + gridId\n\t\tSEARCH_TOOLBAR: 17,                     // tagName: \"tr\". class: \"ui-search-toolbar\". Its direct children are th having class \"ui-th-column\" and optionally \"ui-th-rtl\"\n\n\t\tBODY_DIV: 18,                           // tagName: \"div\". class: \"ui-jqgrid-bdiv\"\n\t\tBODY_SCROLL_FULL_DIV: 19,               // tagName: \"div\" - It can have height CSS property which simulate the total size of virtual data.\n\t\tBODY_SCROLL_TOP_DIV: 20,                // tagName: \"div\" - It can have height CSS property which simulate virtual data before the current displayed in btable.\n\t\tBODY_TABLE: 21,                         // tagName: \"table\". class: \"ui-jqgrid-btable\". Id: gridId\n\t\tGRID: 21,                               // tagName: \"table\". class: \"ui-jqgrid-btable\". Id: gridId\n\t\tBODY_COLS_ROW: 22,                      // tagName: \"tr\". class: \"jqgfirstrow\"\n\t\tBODY_COLS: 23,                          // tagName: \"td\"\n\t\tBODY_DATA_ROWS: 24,                     // tagName: \"tr\". class: \"jqgrow\" and optionally \"ui-row-rtl\"\n\t\tFOOTER_DIV: 25,                         // tagName: \"div\". class: \"ui-jqgrid-sdiv\"\n\t\tFOOTER_BOX_DIV: 26,                     // tagName: \"div\". class: either \"ui-jqgrid-hdiv\" or \"ui-jqgrid-hbox-rtl\". ??? is it really needed ???\n\t\tFOOTER_TABLE: 27,                       // tagName: \"table\". class: \"ui-jqgrid-ftable\"\n\t\tFOOTER_DATA_ROWS: 28,                   // tagName: \"tr\". class: \"footrow\", optionally additionally \"footrow-rtl\"\n\n\t\tBOTTOM_TOOLBAR_DIV: 29,                 // tagName: \"div\". class: \"ui-userdata\". Id: \"tb_\" + gridId\n\n\t\tFROZEN_HEADER_DIV: 30,                  // tagName: \"div\". class: \"frozen-div\" and \"ui-jqgrid-hdiv\"\n\t\t// no hBox currently exists\n\t\tFROZEN_HEADER_TABLE: 31,                // tagName: \"table\". class: \"ui-jqgrid-htable\"\n\t\tFROZEN_HEADER_COLS_ROW: 32,             // tagName: \"tr\". class: \"jqgfirstrow\"\n\t\tFROZEN_HEADER_COLS: 33,                 // tagName: \"th\". class: either \"ui-first-th-rtl\" or \"ui-first-th-rtl\"\n\t\tFROZEN_SEARCH_TOOLBAR: 34,              // tagName: \"tr\". class: \"ui-search-toolbar\". Its direct children are th having class \"ui-th-column\" and optionally \"ui-th-rtl\"\n\t\t// TODO: fix id of children of .ui-search-input to have no id duplicates with the main grid\n\n\t\tFROZEN_FOOTER_DIV: 35,                  // tagName: \"div\". class: \"frozen-div\" and \"ui-jqgrid-sdiv\"\n\t\tFROZEN_FOOTER_TABLE: 36,                // tagName: \"table\". class: \"ui-jqgrid-ftable\"\n\t\tFROZEN_FOOTER_DATA_ROWS: 37,            // tagName: \"tr\". class: \"footrow\", optionally additionally \"footrow-rtl\"\n\n\t\tFROZEN_BODY_DIV: 38,                    // tagName: \"div\". class: \"frozen-div\" and \"ui-jqgrid-bdiv\"\n\t\t// no full scroll div and top scroll div is currently exist\n\t\tFROZEN_BODY_TABLE: 39,                  // tagName: \"table\". class: \"ui-jqgrid-btable\". Id: gridId + \"_frozen\"\n\t\tFROZEN_BODY_COLS_ROW: 40,               // tagName: \"tr\". class: \"jqgfirstrow\"\n\t\tFROZEN_BODY_COLS: 41,                   // tagName: \"td\"\n\t\tFROZEN_BODY_DATA_ROWS: 42,              // tagName: \"tr\". class: \"jqgrow\" and optionally \"ui-row-rtl\"\n\t\t// TODO: fix id of children of .jqgrow to have no id duplicates with the main grid\n\n\t\tCOLUMN_RESIZER_DIV: 43,                 // tagName: \"div\". class: \"ui-jqgrid-resize-mark\". Id: \"rs_m\" + gridId\n\t\tBOTTOM_PAGER_DIV: 44,                   // tagName: \"div\". class: \"ui-jqgrid-pager\"\n\t\tSEARCH_OPERATION_MENU_UL: 46            // tagName: \"ul\". class: \"ui-search-menu\". id=\"sopt_menu\"\n\t};\n\n\tif (jgrid.defaults == null || $.isEmptyObject(locales) || locales[\"en-US\"] === undefined) {\n\t\t// set English options only if no grid.locale-XX.js file are included before jquery.jqGrid.min.js or jquery.jqGrid.src.js\n\t\t// the files included AFTER jquery.jqGrid.min.js or jquery.jqGrid.src.js will just overwrite all the settings which were set previously\n\n\t\t// We can set locInfo under $.jgrid additionally to setting under $.jgrid.locales[locale]\n\t\t// only to have more compatibility with the previous version of jqGrid.\n\t\t// We don't make this currently.\n\t\tif (locales[\"en-US\"] === undefined) {\n\t\t\t$.extend(true, jgrid, /*englishLanguageDefaults,*/ {\n\t\t\t\tlocales: {\n\t\t\t\t\t\"en-US\": englishLanguageDefaults // and for English US\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tjgrid.defaults = jgrid.defaults || {};\n\t\tif (jgrid.defaults.locale === undefined) {\n\t\t\tjgrid.defaults.locale = \"en-US\";\n\t\t}\n\t}\n\tjgrid.defaults = jgrid.defaults || {};\n\tvar defaults = jgrid.defaults;\n\n\t//if (jgrid.defaults.locale && locales[jgrid.defaults.locale]) {\n\t//    $.extend(true, $.jgrid, locales[jgrid.defaults.locale]); // add to improve compatibility only\n\t//}\n\n\t$.extend(true, jgrid, {\n\t\t/** @const */\n\t\tversion: \"4.15.5-pre\",\n\t\t/** @const */\n\t\tproductName: \"free jqGrid\",\n\t\tdefaults: {},\n\t\tsearch: {},\n\t\tedit: {},\n\t\tview: {},\n\t\tdel: {},\n\t\tnav: {},\n\t\tcol: {},\n\t\terrors: {},\n\t\tformatter: {\n\t\t\tunused: \"\" // used only to detect whether the changes are overwritten because of wrong usage\n\t\t},\n\t\ticons: {\n\t\t\tjQueryUI: {\n\t\t\t\tcommon: \"ui-icon\",\n\t\t\t\tpager: {\n\t\t\t\t\tfirst: \"ui-icon-seek-first\",\n\t\t\t\t\tprev: \"ui-icon-seek-prev\",\n\t\t\t\t\tnext: \"ui-icon-seek-next\",\n\t\t\t\t\tlast: \"ui-icon-seek-end\"\n\t\t\t\t},\n\t\t\t\tsort: {\n\t\t\t\t\tasc: \"ui-icon-triangle-1-n\",\n\t\t\t\t\tdesc: \"ui-icon-triangle-1-s\"\n\t\t\t\t},\n\t\t\t\tgridMinimize: {\n\t\t\t\t\tvisible: \"ui-icon-circle-triangle-n\",\n\t\t\t\t\thidden: \"ui-icon-circle-triangle-s\"\n\t\t\t\t},\n\t\t\t\tnav: {\n\t\t\t\t\tedit: \"ui-icon-pencil\",\n\t\t\t\t\tadd: \"ui-icon-plus\",\n\t\t\t\t\tdel: \"ui-icon-trash\",\n\t\t\t\t\tsearch: \"ui-icon-search\",\n\t\t\t\t\trefresh: \"ui-icon-refresh\",\n\t\t\t\t\tview: \"ui-icon-document\",\n\t\t\t\t\tsave: \"ui-icon-disk\",\n\t\t\t\t\tcancel: \"ui-icon-cancel\",\n\t\t\t\t\tnewbutton: \"ui-icon-newwin\"\n\t\t\t\t},\n\t\t\t\tactions: {\n\t\t\t\t\tedit: \"ui-icon-pencil\",\n\t\t\t\t\tdel: \"ui-icon-trash\",\n\t\t\t\t\tsave: \"ui-icon-disk\",\n\t\t\t\t\tcancel: \"ui-icon-cancel\"\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tclose: \"ui-icon-closethick\",\n\t\t\t\t\tprev: \"ui-icon-triangle-1-w\",\n\t\t\t\t\tnext: \"ui-icon-triangle-1-e\",\n\t\t\t\t\tsave: \"ui-icon-disk\",\n\t\t\t\t\tundo: \"ui-icon-close\",\n\t\t\t\t\tdel: \"ui-icon-scissors\",\n\t\t\t\t\tcancel: \"ui-icon-cancel\",\n\t\t\t\t\tresizableLtr: \"ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se\"\n\t\t\t\t},\n\t\t\t\tsearch: {\n\t\t\t\t\tsearch: \"ui-icon-search\",\n\t\t\t\t\treset: \"ui-icon-arrowreturnthick-1-w\",\n\t\t\t\t\tquery: \"ui-icon-comment\"\n\t\t\t\t},\n\t\t\t\tsubgrid: {\n\t\t\t\t\tplus: \"ui-icon-plus\",\n\t\t\t\t\tminus: \"ui-icon-minus\",\n\t\t\t\t\topenLtr: \"ui-icon-caret-1-sw\",\n\t\t\t\t\topenRtl: \"ui-icon-caret-1-se\"\n\t\t\t\t},\n\t\t\t\tgrouping: {\n\t\t\t\t\tplus: \"ui-icon-circlesmall-plus\",\n\t\t\t\t\tminus: \"ui-icon-circlesmall-minus\"\n\t\t\t\t},\n\t\t\t\ttreeGrid: {\n\t\t\t\t\tminus: \"ui-icon-triangle-1-s\",\n\t\t\t\t\tleaf: \"ui-icon-radio-off\",\n\t\t\t\t\tplusLtr: \"ui-icon-triangle-1-e\",\n\t\t\t\t\tplusRtl: \"ui-icon-triangle-1-w\"\n\t\t\t\t}\n\t\t\t},\n\t\t\tfontAwesome: {\n\t\t\t\tcommon: \"fa\",\n\t\t\t\tpager: {\n\t\t\t\t\tcommon: \"fa-fw\",\n\t\t\t\t\tfirst: \"fa-step-backward\",\n\t\t\t\t\tprev: \"fa-backward\",\n\t\t\t\t\tnext: \"fa-forward\",\n\t\t\t\t\tlast: \"fa-step-forward\"\n\t\t\t\t},\n\t\t\t\tsort: {\n\t\t\t\t\tcommon: \"fa-lg\",        // common: \"\",\n\t\t\t\t\tasc: \"fa-sort-asc\",     // asc: \"fa-sort-amount-asc\",\n\t\t\t\t\tdesc: \"fa-sort-desc\"    // desc: \"fa-sort-amount-desc\"\n\t\t\t\t},\n\t\t\t\tgridMinimize: {\n\t\t\t\t\tvisible: \"fa-chevron-circle-up\",\n\t\t\t\t\thidden: \"fa-chevron-circle-down\"\n\t\t\t\t},\n\t\t\t\tnav: {\n\t\t\t\t\tcommon: \"fa-lg fa-fw\",\n\t\t\t\t\tedit: \"fa-pencil\",\n\t\t\t\t\tadd: \"fa-plus\",\n\t\t\t\t\tdel: \"fa-trash-o\",\n\t\t\t\t\tsearch: \"fa-search\",\n\t\t\t\t\trefresh: \"fa-refresh\",\n\t\t\t\t\tview: \"fa-file-o\",\n\t\t\t\t\tsave: \"fa-floppy-o\",\n\t\t\t\t\tcancel: \"fa-ban\",\n\t\t\t\t\tnewbutton: \"fa-external-link\"\n\t\t\t\t},\n\t\t\t\tactions: {\n\t\t\t\t\tcommon: \"fa-fw\",\n\t\t\t\t\tedit: \"fa-pencil\",\n\t\t\t\t\tdel: \"fa-trash-o\",\n\t\t\t\t\tsave: \"fa-floppy-o\",\n\t\t\t\t\tcancel: \"fa-ban\"\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tclose: \"fa-times\",\n\t\t\t\t\tprev: \"fa-caret-left\",\n\t\t\t\t\tnext: \"fa-caret-right\",\n\t\t\t\t\tsave: \"fa-floppy-o\",\n\t\t\t\t\tundo: \"fa-undo\",\n\t\t\t\t\tdel: \"fa-trash-o\",\n\t\t\t\t\tcancel: \"fa-ban\",\n\t\t\t\t\tresizableLtr: \"fa-rss fa-rotate-270\"\n\t\t\t\t},\n\t\t\t\tsearch: {\n\t\t\t\t\tsearch: \"fa-search\",\n\t\t\t\t\treset: \"fa-undo\",\n\t\t\t\t\tquery: \"fa-comments-o\"\n\t\t\t\t},\n\t\t\t\tsubgrid: {\n\t\t\t\t\tcommon: \"fa-fw\",\n\t\t\t\t\tplus: \"fa-plus\",\n\t\t\t\t\tminus: \"fa-minus\",\n\t\t\t\t\topenLtr: \"fa-reply fa-rotate-180\",\n\t\t\t\t\topenRtl: \"fa-share fa-rotate-180\"\n\t\t\t\t},\n\t\t\t\tgrouping: {\n\t\t\t\t\tcommon: \"fa-fw\",\n\t\t\t\t\tplus: \"fa-plus-square-o\",\n\t\t\t\t\tminus: \"fa-minus-square-o\"\n\t\t\t\t},\n\t\t\t\ttreeGrid: {\n\t\t\t\t\tcommon: \"fa-fw\",\n\t\t\t\t\tminus: \"fa-lg fa-sort-desc\",\n\t\t\t\t\tleaf: \"fa-dot-circle-o\",\n\t\t\t\t\tplusLtr: \"fa-lg fa-caret-right\",\n\t\t\t\t\tplusRtl: \"fa-lg fa-caret-left\"\n\t\t\t\t},\n\t\t\t\tcheckbox: {\n\t\t\t\t\tcheckedClasses: \"fa-check-square-o\",\n\t\t\t\t\tchecked: \"fa-check-square-o fa-lg\",\n\t\t\t\t\tunchecked: \"fa-square-o fa-lg\"\n\t\t\t\t}\n\t\t\t},\n\t\t\tfontAwesome5: {\n\t\t\t\t//common: \"fas\", //\"fa\"\n\t\t\t\tpager: {\n\t\t\t\t\tcommon: \"fa-fw\",\n\t\t\t\t\tfirst: \"fa-step-backward\",\n\t\t\t\t\tprev: \"fa-backward\",\n\t\t\t\t\tnext: \"fa-forward\",\n\t\t\t\t\tlast: \"fa-step-forward\"\n\t\t\t\t},\n\t\t\t\tsort: {\n\t\t\t\t\tcommon: \"fa-lg\",        // common: \"\",\n\t\t\t\t\tasc: \"fa-sort-up\", //\"fa-sort-asc\",     // asc: \"fa-sort-amount-asc\",\n\t\t\t\t\tdesc: \"fa-sort-down\" //\"fa-sort-desc\"    // desc: \"fa-sort-amount-desc\"\n\t\t\t\t},\n\t\t\t\tgridMinimize: {\n\t\t\t\t\tvisible: \"fa-chevron-circle-up\",\n\t\t\t\t\thidden: \"fa-chevron-circle-down\"\n\t\t\t\t},\n\t\t\t\tnav: {\n\t\t\t\t\tcommon: \"fa-lg fa-fw\",\n\t\t\t\t\tedit: \"fa-pencil-alt\",\n\t\t\t\t\tadd: \"fa-plus\",\n\t\t\t\t\tdel: \"fa-trash-alt\",\n\t\t\t\t\tsearch: \"fa-search\",\n\t\t\t\t\trefresh: \"fa-sync\", //\"fa-refresh\",\n\t\t\t\t\tview: \"fa-file\",\n\t\t\t\t\tsave: \"fa-save\",\n\t\t\t\t\tcancel: \"fa-ban\",\n\t\t\t\t\tnewbutton: \"fa-external-link-alt\"\n\t\t\t\t},\n\t\t\t\tactions: {\n\t\t\t\t\tcommon: \"fa-fw\",\n\t\t\t\t\tedit: \"fa-pencil-alt\",\n\t\t\t\t\tdel: \"fa-trash-alt\",\n\t\t\t\t\tsave: \"fa-save\",\n\t\t\t\t\tcancel: \"fa-ban\"\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tclose: \"fa-times\",\n\t\t\t\t\tprev: \"fa-caret-left\",\n\t\t\t\t\tnext: \"fa-caret-right\",\n\t\t\t\t\tsave: \"fa-save\",\n\t\t\t\t\tundo: \"fa-undo\",\n\t\t\t\t\tdel: \"fa-trash-alt\",\n\t\t\t\t\tcancel: \"fa-ban\",\n\t\t\t\t\tresizableLtr: \"fa-rss fa-lg fa-rotate-270\"\n\t\t\t\t},\n\t\t\t\tsearch: {\n\t\t\t\t\tsearch: \"fa-search\",\n\t\t\t\t\treset: \"fa-undo\",\n\t\t\t\t\tquery: \"fa-comments\"\n\t\t\t\t},\n\t\t\t\tsubgrid: {\n\t\t\t\t\tcommon: \"fa-fw\",\n\t\t\t\t\tplus: \"fa-plus\",\n\t\t\t\t\tminus: \"fa-minus\",\n\t\t\t\t\topenLtr: \"fa-reply fa-rotate-180\",\n\t\t\t\t\topenRtl: \"fa-share fa-rotate-180\"\n\t\t\t\t},\n\t\t\t\tgrouping: {\n\t\t\t\t\tcommon: \"fa-fw\",\n\t\t\t\t\tplus: \"fa-plus-square\",\n\t\t\t\t\tminus: \"fa-minus-square\"\n\t\t\t\t},\n\t\t\t\ttreeGrid: {\n\t\t\t\t\tcommon: \"fa-fw\",\n\t\t\t\t\tminus: \"fa-lg fa-sort-down\", //\"fa-lg fa-sort-desc\",\n\t\t\t\t\tleaf: \"fa-dot-circle\",\n\t\t\t\t\tplusLtr: \"fa-lg fa-caret-right\",\n\t\t\t\t\tplusRtl: \"fa-lg fa-caret-left\"\n\t\t\t\t},\n\t\t\t\tcheckbox: {\n\t\t\t\t\tignoreParents: true,\n\t\t\t\t\tcheckedClasses: \"fa-check-square\",\n\t\t\t\t\tchecked: \"far fa-check-square fa-lg\",\n\t\t\t\t\tunchecked: \"far fa-square fa-lg\"\n\t\t\t\t}\n\t\t\t},\n\t\t\tfontAwesomeBrands: {\n\t\t\t\tbaseIconSet: \"fontAwesome5\",\n\t\t\t\tcommon: \"fab\"\n\t\t\t},\n\t\t\tfontAwesomeLight: {\n\t\t\t\tbaseIconSet: \"fontAwesome5\",\n\t\t\t\tcommon: \"fal\"\n\t\t\t},\n\t\t\tfontAwesomeRegular: {\n\t\t\t\tbaseIconSet: \"fontAwesome5\",\n\t\t\t\tcommon: \"far\"\n\t\t\t},\n\t\t\tfontAwesomeSolid: {\n\t\t\t\tbaseIconSet: \"fontAwesome5\",\n\t\t\t\tcommon: \"fas\"\n\t\t\t},\n\t\t\tfontAwesomeSVG: {\n\t\t\t\tbaseIconSet: \"fontAwesome5\",\n\t\t\t\tcommon: \"fas\"\n\t\t\t},\n\t\t\tglyph: {\n\t\t\t\tcommon: \"glyphicon\",\n\t\t\t\tpager: {\n\t\t\t\t\tcommon: \"\",\n\t\t\t\t\tfirst: \"glyphicon-step-backward\",\n\t\t\t\t\tprev: \"glyphicon-backward\",\n\t\t\t\t\tnext: \"glyphicon-forward\",\n\t\t\t\t\tlast: \"glyphicon-step-forward\"\n\t\t\t\t},\n\t\t\t\tsort: {\n\t\t\t\t\tcommon: \"\",\n\t\t\t\t\tasc: \"glyphicon-triangle-top\",\n\t\t\t\t\tdesc: \"glyphicon-triangle-bottom\"\n\t\t\t\t},\n\t\t\t\tgridMinimize: {\n\t\t\t\t\tvisible: \"glyphicon-circle-arrow-up\",\n\t\t\t\t\thidden: \"glyphicon-circle-arrow-down\"\n\t\t\t\t},\n\t\t\t\tnav: {\n\t\t\t\t\tcommon: \"\",\n\t\t\t\t\tedit: \"glyphicon-edit\",\n\t\t\t\t\tadd: \"glyphicon-plus\",\n\t\t\t\t\tdel: \"glyphicon-trash\",\n\t\t\t\t\tsearch: \"glyphicon-search\",\n\t\t\t\t\trefresh: \"glyphicon-refresh\",\n\t\t\t\t\tview: \"glyphicon-file\", // glyphicon glyphicon-th-list\n\t\t\t\t\tsave: \"glyphicon-save\",\n\t\t\t\t\tcancel: \"glyphicon-ban-circle\",\n\t\t\t\t\tnewbutton: \"glyphicon-new-window\"\n\t\t\t\t},\n\t\t\t\tactions: {\n\t\t\t\t\tcommon: \"\",\n\t\t\t\t\tedit: \"glyphicon-edit\",\n\t\t\t\t\tdel: \"glyphicon-trash\",\n\t\t\t\t\tsave: \"glyphicon-save\",\n\t\t\t\t\tcancel: \"glyphicon-ban-circle\"\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tclose: \"glyphicon-remove-circle\",\n\t\t\t\t\tprev: \"glyphicon-step-backward\",\n\t\t\t\t\tnext: \"glyphicon-step-forward\",\n\t\t\t\t\tsave: \"glyphicon-save\",\n\t\t\t\t\tundo: \"glyphicon-repeat\",\n\t\t\t\t\tdel: \"glyphicon-trash\",\n\t\t\t\t\tcancel: \"glyphicon-ban-circle\",\n\t\t\t\t\tresizableLtr: \"glyphicon-import\"\n\t\t\t\t},\n\t\t\t\tsearch: {\n\t\t\t\t\tsearch: \"glyphicon-search\",\n\t\t\t\t\treset: \"glyphicon-repeat\",\n\t\t\t\t\tquery: \"glyphicon-cog\" //\"glyphicon-comment\"\n\t\t\t\t},\n\t\t\t\tsubgrid: {\n\t\t\t\t\tcommon: \"\",\n\t\t\t\t\tplus: \"glyphicon-zoom-in\", //\"glyphicon-plus\", \"glyphicon-th-list\",\n\t\t\t\t\tminus: \"glyphicon-zoom-out\", // \"glyphicon-minus\",\n\t\t\t\t\topenLtr: \"glyphicon-indent-left\",\n\t\t\t\t\topenRtl: \"glyphicon-indent-left\"\n\t\t\t\t},\n\t\t\t\tgrouping: {\n\t\t\t\t\tcommon: \"\",\n\t\t\t\t\tplus: \"glyphicon-expand\",\n\t\t\t\t\tminus: \"glyphicon-collapse-down\"\n\t\t\t\t},\n\t\t\t\ttreeGrid: {\n\t\t\t\t\tcommon: \"\",\n\t\t\t\t\tminus: \"glyphicon-triangle-bottom\",\n\t\t\t\t\tleaf: \"glyphicon-record\", // glyphicon-unchecked\n\t\t\t\t\tplusLtr: \"glyphicon-triangle-right\",\n\t\t\t\t\tplusRtl: \"glyphicon-triangle-left\"\n\t\t\t\t},\n\t\t\t\tcheckbox: {\n\t\t\t\t\tcheckedClasses: \"glyphicon-check\",\n\t\t\t\t\tchecked: \"glyphicon-check\",\n\t\t\t\t\tunchecked: \"glyphicon-unchecked\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tguiStyles: {\n\t\t\tjQueryUI: {\n\t\t\t\tgBox: \"ui-jqgrid-jquery-ui ui-widget ui-widget-content ui-corner-all\",  // ui-widget-content??? for the children of gbox\n\t\t\t\tgView: \"\",\n\t\t\t\toverlay: \"ui-widget-overlay\",\n\t\t\t\tloading: \"ui-state-default ui-state-active\",\n\t\t\t\thDiv: \"ui-state-default ui-corner-top\",\n\t\t\t\thTable: \"\",\n\t\t\t\tcolHeaders: \"ui-state-default\",\n\t\t\t\tstates: {\n\t\t\t\t\tselect: \"ui-state-highlight\",\n\t\t\t\t\tdisabled: \"ui-state-disabled ui-jqgrid-disablePointerEvents\",\n\t\t\t\t\thover: \"ui-state-hover\",    // can be table-hover on <table> only and style like .table-hover tbody tr:hover td\n\t\t\t\t\terror: \"ui-state-error\",\n\t\t\t\t\tactive: \"ui-state-active\",\n\t\t\t\t\ttextOfClickable: \"ui-state-default\"\n\t\t\t\t},\n\t\t\t\tdialog: {\n\t\t\t\t\theader: \"ui-widget-header ui-dialog-titlebar ui-corner-all ui-helper-clearfix\",\n\t\t\t\t\twindow: \"ui-jqgrid-jquery-ui ui-widget ui-widget-content ui-corner-all ui-front\",\n\t\t\t\t\tdocument: \"\",\n\t\t\t\t\tsubdocument: \"\",\n\t\t\t\t\tbody: \"\",\n\t\t\t\t\tfooter: \"\",\n\t\t\t\t\tcontent: \"ui-widget-content\",\n\t\t\t\t\thr: \"ui-widget-content\",\n\t\t\t\t\tcloseButton: \"ui-corner-all\",\n\t\t\t\t\tfmButton: \"ui-state-default\",\n\t\t\t\t\tdataField: \"ui-widget-content ui-corner-all\",\n\t\t\t\t\tviewCellLabel: \"ui-widget-content\",\n\t\t\t\t\tviewLabel: \"\",\n\t\t\t\t\tviewCellData: \"ui-widget-content\",\n\t\t\t\t\tviewData: \"\",\n\t\t\t\t\tleftCorner: \"ui-corner-left\",\n\t\t\t\t\trightCorner: \"ui-corner-right\",\n\t\t\t\t\tdefaultCorner: \"ui-corner-all\"\n\t\t\t\t},\n\t\t\t\tfilterToolbar: {\n\t\t\t\t\tdataField: \"ui-widget-content\"\n\t\t\t\t},\n\t\t\t\tsubgrid: {\n\t\t\t\t\tthSubgrid: \"ui-state-default\", // used only with subGridModel\n\t\t\t\t\trowSubTable: \"ui-widget-content\", // used only with subGridModel additionally to ui-subtblcell\n\t\t\t\t\trow: \"ui-widget-content\", // class of the subgrid row, additional to ui-subgrid\n\t\t\t\t\ttdStart: \"\", // it can be with span over rownumber and multiselect columns\n\t\t\t\t\ttdWithIcon: \"ui-widget-content\", // class of cell with +- icon, additional to subgrid-cell\n\t\t\t\t\tbuttonDiv: \"\",\n\t\t\t\t\tbutton: \"\",\n\t\t\t\t\ttdData: \"ui-widget-content\", // class of main td with span over the grid, additional subgrid-data\n\t\t\t\t\tlegacyTable: \"\"\n\t\t\t\t},\n\t\t\t\tgrid: \"\",\n\t\t\t\tgridRow: \"ui-widget-content\",\n\t\t\t\trowNum: \"ui-state-default\",\n\t\t\t\tgridFooter: \"\",\n\t\t\t\trowFooter: \"ui-widget-content\",\n\t\t\t\tgridTitle: \"ui-widget-header ui-corner-top\",\n\t\t\t\tgridError: \"ui-state-error\",\n\t\t\t\tgridErrorText: \"\",\n\t\t\t\ttitleButton: \"ui-corner-all\",\n\t\t\t\ttoolbarUpper: \"ui-state-default\",\n\t\t\t\ttoolbarBottom: \"ui-state-default\",\n\t\t\t\tactionsDiv: \"ui-widget-content\",\n\t\t\t\tactionsButton: \"ui-corner-all\",\n\t\t\t\tpager: {\n\t\t\t\t\tpager: \"ui-state-default\",\n\t\t\t\t\tpagerButton: \"ui-corner-all\",\n\t\t\t\t\tpagerInput: \"ui-widget-content\",\n\t\t\t\t\tpagerSelect: \"ui-widget-content\"\n\t\t\t\t},\n\t\t\t\tnavButton: \"ui-corner-all\",\n\t\t\t\tsearchDialog: {\n\t\t\t\t\toperator: \"ui-corner-all\",\n\t\t\t\t\tlabel: \"ui-corner-all\",\n\t\t\t\t\telem: \"ui-corner-all\",\n\t\t\t\t\toperationGroup: \"\",\n\t\t\t\t\taddRuleButton: \"ui-corner-all\",\n\t\t\t\t\tdeleteRuleButton: \"ui-corner-all\",\n\t\t\t\t\toperationSelect: \"ui-corner-all\",\n\t\t\t\t\taddGroupButton: \"ui-corner-all\",\n\t\t\t\t\tdeleteGroupButton: \"ui-corner-all\"\n\t\t\t\t},\n\t\t\t\tsearchToolbar: {\n\t\t\t\t\tmenu: \"ui-menu-jqueryui ui-menu ui-widget ui-widget-content ui-corner-all\",\n\t\t\t\t\tmenuItem: \"ui-menu-item\",\n\t\t\t\t\tmenuItemButton: \"ui-corner-all\",\n\t\t\t\t\toperButton: \"ui-corner-all\",\n\t\t\t\t\tclearButton: \"ui-corner-all\"\n\t\t\t\t},\n\t\t\t\ttop: \"ui-corner-top\",\n\t\t\t\tbottom: \"ui-corner-bottom\",\n\t\t\t\tresizer: \"ui-widget-header\"\n\t\t\t},\n\t\t\tbootstrap: {\n\t\t\t\tgBox: \"ui-jqgrid-bootstrap\",\n\t\t\t\tgView: \"panel-info\",\n\t\t\t\toverlay: \"modal-backdrop\",\n\t\t\t\tloading: \"alert alert-info\",\n\t\t\t\thDiv: \"\",\n\t\t\t\thTable: \"table table-hover table-condensed table-bordered\",\n\t\t\t\tcolHeaders: \"\",\n\t\t\t\tstates: {\n\t\t\t\t\tselect: \"success\",\n\t\t\t\t\tdisabled: \"disabled ui-jqgrid-disablePointerEvents\",\n\t\t\t\t\thover: \"active\",\n\t\t\t\t\terror: \"danger\",\n\t\t\t\t\tactive: \"active\",\n\t\t\t\t\ttextOfClickable: \"\"\n\t\t\t\t},\n\t\t\t\tdialog: {\n\t\t\t\t\theader: \"modal-header\",\n\t\t\t\t\twindow: \"modal ui-jqgrid-bootstrap\",\n\t\t\t\t\tdocument: \"modal-dialog\",\n\t\t\t\t\tsubdocument: \"modal-content\",\n\t\t\t\t\tbody: \"modal-body\",\n\t\t\t\t\tfooter: \"modal-footer\",\n\t\t\t\t\tcontent: \"modal-content\",\n\t\t\t\t\thr: \"hidden\",\n\t\t\t\t\tcloseButton: \"btn btn-xs btn-default\",\n\t\t\t\t\tfmButton: \"btn btn-default\",\n\t\t\t\t\tdataField: \"form-control\",\n\t\t\t\t\tviewCellLabel: \"\",\n\t\t\t\t\tviewLabel: \"control-label\",\n\t\t\t\t\tviewCellData: \"\",\n\t\t\t\t\tviewData: \"form-control\",\n\t\t\t\t\tleftCorner: \"\",\n\t\t\t\t\trightCorner: \"\",\n\t\t\t\t\tdefaultCorner: \"\"\n\t\t\t\t},\n\t\t\t\tfilterToolbar: {\n\t\t\t\t\tdataField: \"form-control\"\n\t\t\t\t},\n\t\t\t\tsubgrid: {\n\t\t\t\t\tthSubgrid: \"\",\n\t\t\t\t\trowSubTable: \"\",\n\t\t\t\t\trow: \"\",\n\t\t\t\t\ttdStart: \"\",\n\t\t\t\t\ttdWithIcon: \"\",\n\t\t\t\t\tbuttonDiv: \"\",\n\t\t\t\t\tbutton: \"btn btn-xs\",\n\t\t\t\t\ttdData: \"\",\n\t\t\t\t\tlegacyTable: \"table table-condensed table-hover table-bordered\"\n\t\t\t\t},\n\t\t\t\tgrid: \"table table-condensed table-hover table-bordered\",\n\t\t\t\tgridRow: \"\",\n\t\t\t\trowNum: \"\",\n\t\t\t\tgridFooter: \"table table-hover table-condensed table-bordered\",\n\t\t\t\trowFooter: \"\",\n\t\t\t\tgridTitle: \"\",\n\t\t\t\tgridError: \"alert alert-danger\",\n\t\t\t\tgridErrorText: \"sr-only\",\n\t\t\t\ttitleButton: \"btn btn-xs btn-default\",\n\t\t\t\tactionsDiv: \"\",\n\t\t\t\tactionsButton: \"btn btn-xs btn-default\",\n\t\t\t\ttoolbarUpper: \"\",\n\t\t\t\ttoolbarBottom: \"\",\n\t\t\t\tpager: {\n\t\t\t\t\tpager: \"panel-footer\",\n\t\t\t\t\tpagerButton: \"btn btn-xs\",\n\t\t\t\t\tpagerInput: \"form-control\",\n\t\t\t\t\tpagerSelect: \"form-control\"\n\t\t\t\t},\n\t\t\t\tnavButton: \"btn btn-xs\",\n\t\t\t\tsearchDialog: {\n\t\t\t\t\toperator: \"form-control\",\n\t\t\t\t\tlabel: \"form-control\",\n\t\t\t\t\telem: \"form-control\",\n\t\t\t\t\toperationGroup: \"form-inline\",\n\t\t\t\t\taddRuleButton: \"btn btn-xs btn-default\",\n\t\t\t\t\tdeleteRuleButton: \"btn btn-xs btn-default\",\n\t\t\t\t\toperationSelect: \"form-control\",\n\t\t\t\t\taddGroupButton: \"btn btn-xs btn-default\",\n\t\t\t\t\tdeleteGroupButton: \"btn btn-xs btn-default\"\n\t\t\t\t},\n\t\t\t\tsearchToolbar: {\n\t\t\t\t\tmenu: \"dropdown-menu\",\n\t\t\t\t\tmenuItem: \"\",\n\t\t\t\t\tmenuItemButton: \"ui-corner-all\",\n\t\t\t\t\toperButton: \"btn btn-xs btn-default\",\n\t\t\t\t\tclearButton: \"btn btn-xs btn-default\"\n\t\t\t\t},\n\t\t\t\ttop: \"ui-jqgrid-bootstrap-corner-top\",\n\t\t\t\tbottom: \"ui-jqgrid-bootstrap-corner-bottom\",\n\t\t\t\tresizer: \"ui-jqgrid-bootstrap\"\n\t\t\t},\n\t\t\tbootstrapPrimary: {\n\t\t\t\tbaseGuiStyle: \"bootstrap\",\n\t\t\t\tdialog: {\n\t\t\t\t\tcloseButton: \"btn btn-xs close\",\n\t\t\t\t\tfmButton: \"btn btn-primary\"\n\t\t\t\t},\n\t\t\t\tsearchDialog: {\n\t\t\t\t\taddRuleButton: \"btn btn-xs btn-primary\",\n\t\t\t\t\tdeleteRuleButton: \"btn btn-xs btn-primary\",\n\t\t\t\t\taddGroupButton: \"btn btn-xs btn-primary\",\n\t\t\t\t\tdeleteGroupButton: \"btn btn-xs btn-primary\"\n\t\t\t\t}\n\t\t\t},\n\t\t\tbootstrap4: {\n\t\t\t\tgBox: \"ui-jqgrid-bootstrap\",\n\t\t\t\tgView: \"card\",\n\t\t\t\toverlay: \"modal-backdrop\",\n\t\t\t\tloading: \"alert alert-info\",\n\t\t\t\thDiv: \"\",\n\t\t\t\thTable: \"table table-hover table-sm table-bordered\",\n\t\t\t\tcolHeaders: \"\",\n\t\t\t\tstates: {\n\t\t\t\t\tselect: \"table-success\",\n\t\t\t\t\tdisabled: \"disabled ui-jqgrid-disablePointerEvents\",\n\t\t\t\t\thover: \"active\",\n\t\t\t\t\thoverTh: \"table-active\",\n\t\t\t\t\terror: \"danger\",\n\t\t\t\t\tactive: \"active\",\n\t\t\t\t\ttextOfClickable: \"\"\n\t\t\t\t},\n\t\t\t\tdialog: {\n\t\t\t\t\theader: \"modal-header\",\n\t\t\t\t\twindow: \"modal ui-jqgrid-bootstrap\",\n\t\t\t\t\tdocument: \"modal-dialog\",\n\t\t\t\t\tsubdocument: \"modal-content\",\n\t\t\t\t\tbody: \"modal-body\",\n\t\t\t\t\tfooter: \"modal-footer\",\n\t\t\t\t\tcontent: \"modal-content\",\n\t\t\t\t\thr: \"d-none\",\n\t\t\t\t\tcloseButton: \"btn btn-xs btn-outline-primary\",\n\t\t\t\t\tfmButton: \"btn btn-outline-secondary\",\n\t\t\t\t\tdataField: \"form-control\",\n\t\t\t\t\tviewCellLabel: \"\",\n\t\t\t\t\tviewLabel: \"control-label\",\n\t\t\t\t\tviewCellData: \"\",\n\t\t\t\t\tviewData: \"form-control\",\n\t\t\t\t\tleftCorner: \"\",\n\t\t\t\t\trightCorner: \"\",\n\t\t\t\t\tdefaultCorner: \"\"\n\t\t\t\t},\n\t\t\t\tfilterToolbar: {\n\t\t\t\t\tdataField: \"form-control\"\n\t\t\t\t},\n\t\t\t\tsubgrid: {\n\t\t\t\t\tthSubgrid: \"\",\n\t\t\t\t\trowSubTable: \"\",\n\t\t\t\t\trow: \"\",\n\t\t\t\t\ttdStart: \"\",\n\t\t\t\t\ttdWithIcon: \"\",\n\t\t\t\t\tbuttonDiv: \"\",\n\t\t\t\t\tbutton: \"btn btn-xs\",\n\t\t\t\t\ttdData: \"\",\n\t\t\t\t\tlegacyTable: \"table table-condensed table-hover table-bordered\"\n\t\t\t\t},\n\t\t\t\tgrid: \"table table-condensed table-hover table-bordered\",\n\t\t\t\tgridRow: \"\",\n\t\t\t\trowNum: \"\",\n\t\t\t\tgridFooter: \"table table-hover table-condensed table-bordered\",\n\t\t\t\trowFooter: \"\",\n\t\t\t\tgridTitle: \"\",\n\t\t\t\tgridError: \"alert alert-danger\",\n\t\t\t\tgridErrorText: \"sr-only\",\n\t\t\t\ttitleButton: \"btn btn-xs btn-outline-primary\",\n\t\t\t\tactionsDiv: \"\",\n\t\t\t\tactionsButton: \"btn btn-xs btn-outline-secondary\",\n\t\t\t\ttoolbarUpper: \"\",\n\t\t\t\ttoolbarBottom: \"\",\n\t\t\t\tpager: {\n\t\t\t\t\tpager: \"card-footer\",\n\t\t\t\t\tpagerButton: \"btn btn-xs\",\n\t\t\t\t\tpagerInput: \"form-control\",\n\t\t\t\t\tpagerSelect: \"form-control\"\n\t\t\t\t},\n\t\t\t\tnavButton: \"btn btn-xs\",\n\t\t\t\tsearchDialog: {\n\t\t\t\t\toperator: \"form-control\",\n\t\t\t\t\tlabel: \"form-control\",\n\t\t\t\t\telem: \"form-control\",\n\t\t\t\t\toperationGroup: \"form-inline\",\n\t\t\t\t\taddRuleButton: \"btn btn-xs btn-default\",\n\t\t\t\t\tdeleteRuleButton: \"btn btn-xs btn-default\",\n\t\t\t\t\toperationSelect: \"form-control\",\n\t\t\t\t\taddGroupButton: \"btn btn-xs btn-default\",\n\t\t\t\t\tdeleteGroupButton: \"btn btn-xs btn-default\"\n\t\t\t\t},\n\t\t\t\tsearchToolbar: {\n\t\t\t\t\tmenu: \"dropdown-menu\",\n\t\t\t\t\tmenuItem: \"\",\n\t\t\t\t\tmenuItemButton: \"dropdown-item\",\n\t\t\t\t\toperButton: \"btn btn-xs btn-outline-secondary\",\n\t\t\t\t\tclearButton: \"btn btn-xs btn-outline-secondary\"\n\t\t\t\t},\n\t\t\t\ttop: \"ui-jqgrid-bootstrap-corner-top\",\n\t\t\t\tbottom: \"ui-jqgrid-bootstrap-corner-bottom\",\n\t\t\t\tresizer: \"ui-jqgrid-bootstrap\"\n\t\t\t}\n\t\t},\n\t\thtmlDecode: function (value) {\n\t\t\tif (value && (value === \"&nbsp;\" ||\n\t\t\t\tvalue === \"&#160;\" ||\n\t\t\t\t(value.length === 1 && value.charCodeAt(0) === 160))) {\n\t\t\t\treturn \"\";\n\t\t\t}\n\t\t\treturn !value ?\n\t\t\t\tvalue :\n\t\t\t\tString(value)\n\t\t\t\t\t.replace(/&gt;/g, \">\")\n\t\t\t\t\t.replace(/&lt;/g, \"<\")\n\t\t\t\t\t.replace(/&#x27;/g, \"'\")\n\t\t\t\t\t.replace(/&#x2F;/g, \"\\/\")\n\t\t\t\t\t.replace(/&#39;/g, \"'\")\n\t\t\t\t\t.replace(/&#47;/g, \"\\/\")\n\t\t\t\t\t.replace(/&quot;/g, \"\\\"\")\n\t\t\t\t\t.replace(/&amp;/g, \"&\");\n\t\t},\n\t\thtmlEncode: function (value) {\n\t\t\t// see https://www.owasp.org/index.php/XSS_(Cross_Site_Scripting)_Prevention_Cheat_Sheet#RULE_.231_-_HTML_Escape_Before_Inserting_Untrusted_Data_into_HTML_Element_Content\n\t\t\treturn !value ?\n\t\t\t\tvalue :\n\t\t\t\tString(value)\n\t\t\t\t\t.replace(/&/g, \"&amp;\")\n\t\t\t\t\t.replace(/\"/g, \"&quot;\")\n\t\t\t\t\t.replace(/'/g, \"&#39;\")\n\t\t\t\t\t.replace(/\\//g, \"&#47;\")\n\t\t\t\t\t.replace(/</g, \"&lt;\")\n\t\t\t\t\t.replace(/>/g, \"&gt;\");\n\t\t},\n\t\toldEncodePostedData: function (value) {\n\t\t\treturn !value ?\n\t\t\t\tvalue :\n\t\t\t\tString(value)\n\t\t\t\t\t.replace(/&/g, \"&amp;\")\n\t\t\t\t\t.replace(/\"/g, \"&quot;\")\n\t\t\t\t\t.replace(/</g, \"&lt;\")\n\t\t\t\t\t.replace(/>/g, \"&gt;\");\n\t\t},\n\t\toldDecodePostedData: function (value) {\n\t\t\tif (value && (value === \"&nbsp;\" ||\n\t\t\t\tvalue === \"&#160;\" ||\n\t\t\t\t(value.length === 1 && value.charCodeAt(0) === 160))) {\n\t\t\t\treturn \"\";\n\t\t\t}\n\t\t\treturn !value ?\n\t\t\t\tvalue :\n\t\t\t\tString(value)\n\t\t\t\t\t.replace(/&gt;/g, \">\")\n\t\t\t\t\t.replace(/&lt;/g, \"<\")\n\t\t\t\t\t.replace(/&quot;/g, \"\\\"\")\n\t\t\t\t\t.replace(/&amp;/g, \"&\");\n\t\t},\n\t\tclearArray: function (ar) {\n\t\t\t// see http://jsperf.com/empty-javascript-array\n\t\t\twhile (ar.length > 0) {\n\t\t\t\tar.pop();\n\t\t\t}\n\t\t},\n\t\tformat: function (format) { //jqgformat\n\t\t\tvar args = $.makeArray(arguments).slice(1);\n\t\t\tif (format == null) { format = \"\"; }\n\t\t\treturn format.replace(/\\{(\\d+)\\}/g, function (m, i) {\n\t\t\t\treturn args[i];\n\t\t\t});\n\t\t},\n\t\ttemplate: function (format) { //jqgformat\n\t\t\tvar args = $.makeArray(arguments).slice(1), j, al = args.length;\n\t\t\tif (format == null) {\n\t\t\t\tformat = \"\";\n\t\t\t}\n\t\t\treturn format.replace(/\\{([\\w\\-]+)(?:\\:([\\w\\.]*)(?:\\((\\.*?)?\\))?)?\\}/g, function (m, i) {\n\t\t\t\tvar nmarr, k;\n\t\t\t\tif (!isNaN(parseInt(i, 10))) {\n\t\t\t\t\treturn args[parseInt(i, 10)];\n\t\t\t\t}\n\t\t\t\tfor (j = 0; j < al; j++) {\n\t\t\t\t\tif ($.isArray(args[j])) {\n\t\t\t\t\t\tnmarr = args[j];\n\t\t\t\t\t\tk = nmarr.length;\n\t\t\t\t\t\twhile (k--) {\n\t\t\t\t\t\t\tif (i === nmarr[k].nm) {\n\t\t\t\t\t\t\t\treturn nmarr[k].v;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tmsie: navigator.appName === \"Microsoft Internet Explorer\",\n\t\tmsiever: function () {\n\t\t\t// Trident/4.0 - Internet Explorer 8,\n\t\t\t// Trident/5.0 - Internet Explorer 9,\n\t\t\t// Trident/6.0 - Internet Explorer 10\n\t\t\t// Trident/7.0 - IE11\n\t\t\t// Version tokens MSIE might not reflect the actual version of the browser\n\t\t\t// If Compatibility View is enabled for a webpage or the browser mode is set to an earlier version\n\t\t\tvar rv = -1, match;\n\t\t\tif (navigator.appName === \"Microsoft Internet Explorer\") {\n\t\t\t\tmatch = /(MSIE) ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent);\n\t\t\t\tif (match != null && match.length === 3) {\n\t\t\t\t\trv = parseFloat(match[2] || -1);\n\t\t\t\t}\n\t\t\t} else if (navigator.appName === \"Netscape\") {\n\t\t\t\tmatch = /rv:([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent);\n\t\t\t\tif (match != null && match.length === 2) {\n\t\t\t\t\trv = parseFloat(match[1] || -1);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn rv;\n\t\t},\n\t\tfixMaxHeightOfDiv: function (height) {\n\t\t\t// we place the fixing of maximal height in the method to allow easy\n\t\t\t// to overwrite the method and to change the behaviour of jqGrid\n\t\t\t// in case of usage virtual scrolling\n\t\t\tif (navigator.appName === \"Microsoft Internet Explorer\") {\n\t\t\t\treturn Math.min(height, 1533917); // ??? 1022611\n\t\t\t}\n\t\t\tif (/(Firefox)/.exec(navigator.userAgent) != null) {\n\t\t\t\treturn Math.min(height, 17895696);\n\t\t\t}\n\t\t\treturn height;\n\t\t},\n\t\tgetRelativeRect: function (elem) {\n\t\t\tvar relativeTo = elem instanceof $ && elem.length > 0 ? elem[0] : elem,\n\t\t\t\trelativeToOuterHeight = $(relativeTo).outerHeight(),\n\t\t\t\tgbox = $(this).closest(\".ui-jqgrid\")[0],\n\t\t\t\trectRelativeTo, rectGbox;\n\n\t\t\tif (!gbox) {\n\t\t\t\treturn { top: 0, left: 0 };\n\t\t\t}\n\t\t\trectRelativeTo = relativeTo.getBoundingClientRect != null ?\n\t\t\t\trelativeTo.getBoundingClientRect() :\n\t\t\t\t$(relativeTo).offset();\n\t\t\trectGbox = gbox.getBoundingClientRect != null ?\n\t\t\t\tgbox.getBoundingClientRect() :\n\t\t\t\t$(gbox).offset();\n\n\t\t\treturn {\n\t\t\t\ttop: rectRelativeTo.top + relativeToOuterHeight - rectGbox.top,\n\t\t\t\t//right: rectGbox.right - rectRelativeTo.right,\n\t\t\t\tleft: rectRelativeTo.left - rectGbox.left\n\t\t\t};\n\t\t},\n\t\tgetCellIndex: function (cell) {\n\t\t\tvar c = $(cell);\n\t\t\tif (c.is(\"tr\")) { return -1; }\n\t\t\tc = (!c.is(\"td\") && !c.is(\"th\") ? c.closest(\"td,th\") : c)[0];\n\t\t\tif (c == null) { return -1; }\n\t\t\tif (jgrid.msie) { return $.inArray(c, c.parentNode.cells); }\n\t\t\treturn c.cellIndex;\n\t\t},\n\t\tstripHtml: function (v) {\n\t\t\tv = String(v);\n\t\t\tif (v) {\n\t\t\t\tv = v.replace(/<(\"[^\"]*\"|'[^']*'|[^'\">])*>/gi, \"\");\n\t\t\t\treturn (v && v !== \"&nbsp;\" && v !== \"&#160;\") ? v.replace(/\"/g, \"'\") : \"\";\n\t\t\t}\n\t\t\treturn v;\n\t\t},\n\t\tstripPref: function (pref, id) {\n\t\t\tvar obj = $.type(pref);\n\t\t\tif (obj === \"string\" || obj === \"number\") {\n\t\t\t\tpref = String(pref);\n\t\t\t\tid = pref !== \"\" ? String(id).replace(String(pref), \"\") : id;\n\t\t\t}\n\t\t\treturn id;\n\t\t},\n\t\tgetRes: function (basePath, path) {\n\t\t\tvar pathParts = path.split(\".\"), n = pathParts.length, i;\n\t\t\tif (basePath == null) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tfor (i = 0; i < n; i++) {\n\t\t\t\tif (!pathParts[i]) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tbasePath = basePath[pathParts[i]];\n\t\t\t\tif (basePath === undefined) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (typeof basePath === \"string\") {\n\t\t\t\t\treturn basePath;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn basePath;\n\t\t},\n\t\tparseDate: function (format, date, newformat, opts) {\n\t\t\t// It seems that the code was \"imported\" by Tony from http://blog.stevenlevithan.com/archives/date-time-format\n\t\t\t// Thus I include the reference to original\n\t\t\t// Date Format 1.2.3 (c) 2007-2009 Steven Levithan <stevenlevithan.com> MIT license\n\t\t\t// The code can be found on https://github.com/felixge/node-dateformat/blob/master/lib/dateformat.js\n\t\t\t// It would be probabbly good idea to support original date format additionally to the\n\t\t\t// PHP data format used below.\n\t\t\tvar token = /\\\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g, dM, k, hl, timestamp = 0, offset = 0,\n\t\t\t\ttimezone = /\\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[\\-+]\\d{4})?)\\b/g,\n\t\t\t\ttimezoneClip = /[^\\-+\\dA-Z]/g,\n\t\t\t\tmsMatch = ((typeof date === \"string\") ? date.match(/^\\/Date\\((([\\-+])?[0-9]+)(([\\-+])([0-9]{2})([0-9]{2}))?\\)\\/$/) : null),\n\t\t\t\tpad = function (value, length) {\n\t\t\t\t\tvalue = String(value);\n\t\t\t\t\tlength = parseInt(length, 10) || 2;\n\t\t\t\t\twhile (value.length < length) { value = \"0\" + value; }\n\t\t\t\t\treturn value;\n\t\t\t\t},\n\t\t\t\tts = { m: 1, d: 1, y: 1970, h: 0, i: 0, s: 0, u: 0 },\n\t\t\t\th12To24 = function (ampm, h) {\n\t\t\t\t\tif (ampm === 0) {\n\t\t\t\t\t\tif (h === 12) { h = 0; }\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (h !== 12) { h += 12; }\n\t\t\t\t\t}\n\t\t\t\t\treturn h;\n\t\t\t\t},\n\t\t\t\tgetDefOptions = function (p, options) {\n\t\t\t\t\t// It could be multiple sources for date properties used below.\n\t\t\t\t\t// Let us we need to use srcformat. The highest priority have\n\t\t\t\t\t// opts.srcformat if it is specified. If the srcformat is not\n\t\t\t\t\t// specified of if opts is undefined then one should use\n\t\t\t\t\t// $.jgrid.locales.de.formatter.date.srcformat, for example,\n\t\t\t\t\t// where \"de\" part is an example of the locale of the grid\n\t\t\t\t\t// ($t.p.locale). There as the third important case existing\n\t\t\t\t\t// because of compatibility only. The old place for formatter.date.srcformat\n\t\t\t\t\t// was $.jgrid.formatter.date.srcformat (without \"locales.de\" part\n\t\t\t\t\t// in the middle). Now such option should be not used, but\n\t\t\t\t\t// because of some code where the old code of jqGrid was customized\n\t\t\t\t\t// using $.jgrid.formatter instead of $.jgrid.locales[locale].formatter,\n\t\t\t\t\t// one have to take in consideration the case. If such setting exist\n\t\t\t\t\t// then one should use it (should use $.jgrid.formatter.date.srcformat)\n\t\t\t\t\t// BEFORE the new default $.jgrid.locales.de.formatter.date.srcformat.\n\t\t\t\t\t// As the result sue should search for all below properties in 3 sources:\n\t\t\t\t\t// first in opts || {}, second in\n\t\t\t\t\t// ($.jgrid.formatter || {}).date || {}\n\t\t\t\t\t// and finally, if $t.p != null && $t.p.locale != null, under\n\t\t\t\t\t// $.jgrid.locales[$t.p.locale].formatter.date\n\t\t\t\t\t// oder (it's the same, just rewritten) under\n\t\t\t\t\t// ((locales[$t.p.locale] || {}).formatter || {}).date\n\t\t\t\t\tvar props = [\"AmPm\", \"dayNames\", \"masks\", \"monthNames\", \"userLocalTime\", \"parseRe\", \"S\", \"srcformat\"],\n\t\t\t\t\t\troot1 = options || {},\n\t\t\t\t\t\troot2 = (jgrid.formatter || {}).date || {},\n\t\t\t\t\t\troot3 = ((locales[(p || $.jgrid.defaults).locale] || {}).formatter || {}).date,\n\t\t\t\t\t\tiProp, nProps = props.length, result = {}, prop;\n\t\t\t\t\tfor (iProp = 0; iProp < nProps; iProp++) {\n\t\t\t\t\t\tprop = props[iProp];\n\t\t\t\t\t\tif (root1[prop] !== undefined) { // root1.hasOwnProperty(prop)\n\t\t\t\t\t\t\tresult[prop] = root1[prop];\n\t\t\t\t\t\t} else if (root2[prop] !== undefined) {// root2.hasOwnProperty(prop)\n\t\t\t\t\t\t\tresult[prop] = root2[prop];\n\t\t\t\t\t\t} else if (root3[prop] !== undefined) {// root3.hasOwnProperty(prop)\n\t\t\t\t\t\t\tresult[prop] = root3[prop];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn result;\n\t\t\t\t};\n\n\t\t\t//opts = $.extend({}, (jgrid.formatter || {}).date,\n\t\t\t//\t$t.p != null ?\n\t\t\t//\t\t\tjgrid.getRes(locales[$t.p.locale], \"formatter.date\") || {} :\n\t\t\t//\t\t\t{},\n\t\t\t//\topts || {});\n\t\t\topts = getDefOptions(this.p, opts);\n\t\t\t// old lang files\n\t\t\tif (opts.parseRe === undefined) {\n\t\t\t\topts.parseRe = /[#%\\\\\\/:_;.,\\t\\s\\-]/;\n\t\t\t}\n\t\t\tif (opts.masks.hasOwnProperty(format)) { format = opts.masks[format]; }\n\t\t\tif (date && date != null) {\n\t\t\t\tif (!isNaN(date) && String(format).toLowerCase() === \"u\") {\n\t\t\t\t\t//Unix timestamp\n\t\t\t\t\ttimestamp = new Date(parseFloat(date) * 1000);\n\t\t\t\t} else if (!isNaN(date) && String(format).toLowerCase() === \"u1000\") {\n\t\t\t\t\t// Milliseconds since the Unix Epoch (January 1 1970 00:00:00 GMT)\n\t\t\t\t\ttimestamp = new Date(parseFloat(date));\n\t\t\t\t} else if (date.constructor === Date) {\n\t\t\t\t\ttimestamp = date;\n\t\t\t\t\t// Microsoft date format support\n\t\t\t\t} else if (msMatch !== null) {\n\t\t\t\t\ttimestamp = new Date(parseInt(msMatch[1], 10));\n\t\t\t\t\tif (msMatch[3]) {\n\t\t\t\t\t\toffset = Number(msMatch[5]) * 60 + Number(msMatch[6]);\n\t\t\t\t\t\toffset *= ((msMatch[4] === \"-\") ? 1 : -1);\n\t\t\t\t\t\toffset -= timestamp.getTimezoneOffset();\n\t\t\t\t\t\ttimestamp.setTime(Number(Number(timestamp) + (offset * 60 * 1000)));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t//Support ISO8601Long that have Z at the end to indicate UTC timezone\n\t\t\t\t\tif (opts.srcformat === \"ISO8601Long\" && date.charAt(date.length - 1) === \"Z\") {\n\t\t\t\t\t\toffset -= (new Date()).getTimezoneOffset();\n\t\t\t\t\t}\n\t\t\t\t\tdate = String(date).replace(/\\T/g, \"#\").replace(/\\t/, \"%\").split(opts.parseRe);\n\t\t\t\t\tformat = format.replace(/\\T/g, \"#\").replace(/\\t/, \"%\").split(opts.parseRe);\n\t\t\t\t\t// parsing for month names and time\n\t\t\t\t\tfor (k = 0, hl = Math.min(format.length, date.length); k < hl; k++) {\n\t\t\t\t\t\tswitch (format[k]) {\n\t\t\t\t\t\t\tcase \"M\":\n\t\t\t\t\t\t\t\t// A short textual representation of a month, three letters Jan through Dec\n\t\t\t\t\t\t\t\tdM = $.inArray(date[k], opts.monthNames);\n\t\t\t\t\t\t\t\tif (dM !== -1 && dM < 12) {\n\t\t\t\t\t\t\t\t\tdate[k] = dM + 1;\n\t\t\t\t\t\t\t\t\tts.m = date[k];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"F\":\n\t\t\t\t\t\t\t\t// A full textual representation of a month, such as January or March\n\t\t\t\t\t\t\t\tdM = $.inArray(date[k], opts.monthNames, 12);\n\t\t\t\t\t\t\t\tif (dM !== -1 && dM > 11) {\n\t\t\t\t\t\t\t\t\tdate[k] = dM + 1 - 12;\n\t\t\t\t\t\t\t\t\tts.m = date[k];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"n\":\n\t\t\t\t\t\t\t\t// Numeric representation of a month, without leading zeros 1 through 12\n\t\t\t\t\t\t\t\tts.m = parseInt(date[k], 10);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"j\":\n\t\t\t\t\t\t\t\t// Day of the month without leading zeros 1 to 31\n\t\t\t\t\t\t\t\tts.d = parseInt(date[k], 10);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"g\":\n\t\t\t\t\t\t\t\t// 12-hour format of an hour without leading zeros 1 through 12\n\t\t\t\t\t\t\t\tts.h = parseInt(date[k], 10);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"a\":\n\t\t\t\t\t\t\t\t// Lowercase Ante meridiem and Post meridiem am or pm\n\t\t\t\t\t\t\t\tdM = $.inArray(date[k], opts.AmPm);\n\t\t\t\t\t\t\t\tif (dM !== -1 && dM < 2 && date[k] === opts.AmPm[dM]) {\n\t\t\t\t\t\t\t\t\tdate[k] = dM;\n\t\t\t\t\t\t\t\t\tts.h = h12To24(date[k], ts.h);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"A\":\n\t\t\t\t\t\t\t\t// Uppercase Ante meridiem and Post meridiem AM or PM\n\t\t\t\t\t\t\t\tdM = $.inArray(date[k], opts.AmPm);\n\t\t\t\t\t\t\t\tif (dM !== -1 && dM > 1 && date[k] === opts.AmPm[dM]) {\n\t\t\t\t\t\t\t\t\tdate[k] = dM - 2;\n\t\t\t\t\t\t\t\t\tts.h = h12To24(date[k], ts.h);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (date[k] !== undefined && date[k] !== \"\" && !isNaN(date[k])) {\n\t\t\t\t\t\t\tts[format[k].toLowerCase()] = parseInt(date[k], 10);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (ts.f) { ts.m = ts.f; }\n\t\t\t\t\tif (ts.m === 0 && ts.y === 0 && ts.d === 0) {\n\t\t\t\t\t\treturn \"&#160;\";\n\t\t\t\t\t}\n\t\t\t\t\tts.m = parseInt(ts.m, 10) - 1;\n\t\t\t\t\tvar ty = ts.y;\n\t\t\t\t\tif (ty >= 70 && ty <= 99) {\n\t\t\t\t\t\tts.y = 1900 + ts.y;\n\t\t\t\t\t} else if (ty >= 0 && ty <= 69) {\n\t\t\t\t\t\tts.y = 2000 + ts.y;\n\t\t\t\t\t}\n\t\t\t\t\ttimestamp = new Date(ts.y, ts.m, ts.d, ts.h, ts.i, ts.s, ts.u);\n\t\t\t\t\t//Apply offset to show date as local time.\n\t\t\t\t\tif (offset !== 0) {\n\t\t\t\t\t\ttimestamp.setTime(Number(Number(timestamp) + (offset * 60 * 1000)));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttimestamp = new Date(ts.y, ts.m, ts.d, ts.h, ts.i, ts.s, ts.u);\n\t\t\t}\n\t\t\tif (opts.userLocalTime && offset === 0) {\n\t\t\t\toffset -= (new Date()).getTimezoneOffset();\n\t\t\t\tif (offset !== 0) {\n\t\t\t\t\ttimestamp.setTime(Number(Number(timestamp) + (offset * 60 * 1000)));\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (newformat === undefined) {\n\t\t\t\treturn timestamp;\n\t\t\t}\n\t\t\tif (opts.masks.hasOwnProperty(newformat)) {\n\t\t\t\tnewformat = opts.masks[newformat];\n\t\t\t} else if (!newformat) {\n\t\t\t\tnewformat = \"Y-m-d\";\n\t\t\t}\n\t\t\tif (newformat.toLowerCase() === \"u1000\") {\n\t\t\t\treturn timestamp.getTime();\n\t\t\t}\n\t\t\tvar hours = timestamp.getHours(), // a Number, from 0 to 23, representing the hour\n\t\t\t\ti = timestamp.getMinutes(),\n\t\t\t\tj = timestamp.getDate(),\n\t\t\t\tn = timestamp.getMonth() + 1,\n\t\t\t\to = timestamp.getTimezoneOffset(),\n\t\t\t\ts = timestamp.getSeconds(),\n\t\t\t\tu = timestamp.getMilliseconds(),\n\t\t\t\tw = timestamp.getDay(),\n\t\t\t\tyear = timestamp.getFullYear(), // a Number, representing four digits, representing the year. Examples: 1999 or 2003\n\t\t\t\tdayOfWeek = (w + 6) % 7 + 1, // numeric representation of the day of the week. 1 (for Monday) through 7 (for Sunday)\n\t\t\t\tz = (new Date(year, n - 1, j) - new Date(year, 0, 1)) / 86400000,\n\t\t\t\tweekNumberOfYear = dayOfWeek < 5 ?\n\t\t\t\t\tMath.floor((z + dayOfWeek - 1) / 7) + 1 :\n\t\t\t\t\tMath.floor((z + dayOfWeek - 1) / 7) || ((new Date(year - 1, 0, 1).getDay() + 6) % 7 < 4 ? 53 : 52),\n\t\t\t\tflags = {\n\t\t\t\t\t// Day\n\t\t\t\t\td: pad(j), // Day of the month, 2 digits with leading zeros 01 to 31\n\t\t\t\t\tD: opts.dayNames[w], // A textual representation of a day, three letters. Mon through Sun\n\t\t\t\t\tj: j, // Day of the month without leading zeros 1 to 31\n\t\t\t\t\tl: opts.dayNames[w + 7], // A full textual representation of the day of the week. Sunday through Saturday\n\t\t\t\t\tN: dayOfWeek, // ISO-8601 numeric representation of the day of the week. 1 (for Monday) through 7 (for Sunday)\n\t\t\t\t\tS: opts.S(j), // English ordinal suffix for the day of the month, 2 characters. st, nd, rd or th. Works well with j\n\t\t\t\t\tw: w, // Numeric representation of the day of the week. 0 (for Sunday) through 6 (for Saturday)\n\t\t\t\t\tz: z, // The day of the year (starting from 0). 0 through 365\n\t\t\t\t\t// Week.\n\t\t\t\t\tW: weekNumberOfYear, // ISO-8601 week number of year, weeks starting on Monday. Example: 42 (the 42nd week in the year)\n\t\t\t\t\t// Month\n\t\t\t\t\tF: opts.monthNames[n - 1 + 12], // A full textual representation of a month, such as January or March. January through December\n\t\t\t\t\tm: pad(n), // Numeric representation of a month, with leading zeros. 01 through 12\n\t\t\t\t\tM: opts.monthNames[n - 1], // A short textual representation of a month, three letters. Jan through Dec\n\t\t\t\t\tn: n, // Numeric representation of a month, without leading zeros. 1 through 12\n\t\t\t\t\tt: \"?\", // Number of days in the given month. 28 through 31\n\t\t\t\t\t// Year\n\t\t\t\t\tL: \"?\", // Whether it's a leap year. 1 if it is a leap year, 0 otherwise.\n\t\t\t\t\to: \"?\", // SO-8601 year number. This has the same value as Y, except that if the ISO week number (W) belongs to the previous or next year, that year is used instead. Examples: 1999 or 2003\n\t\t\t\t\tY: year, // A full numeric representation of a year, 4 digits. Examples: 1999 or 2003\n\t\t\t\t\ty: String(year).substring(2), // A two digit representation of a year. Examples: 99 or 03\n\t\t\t\t\t// Time\n\t\t\t\t\ta: hours < 12 ? opts.AmPm[0] : opts.AmPm[1], // Lowercase Ante meridiem and Post meridiem: am or pm\n\t\t\t\t\tA: hours < 12 ? opts.AmPm[2] : opts.AmPm[3], // Uppercase Ante meridiem and Post meridiem: AM or PM\n\t\t\t\t\tB: \"?\", // Swatch Internet time 000 through 999\n\t\t\t\t\tg: hours % 12 || 12, // 12-hour format of an hour without leading zeros 1 through 12\n\t\t\t\t\tG: hours, // 24-hour format of an hour without leading zeros. 0 through 23\n\t\t\t\t\th: pad(hours % 12 || 12), // 12-hour format of an hour with leading zeros: 01 through 12\n\t\t\t\t\tH: pad(hours), // 24-hour format of an hour with leading zeros: 00 through 23\n\t\t\t\t\ti: pad(i), // Minutes with leading zeros: 00 to 59\n\t\t\t\t\ts: pad(s), // Seconds, with leading zeros: 00 through 59\n\t\t\t\t\tu: u, // Microseconds. Example: 654321\n\t\t\t\t\t// Timezone\n\t\t\t\t\te: \"?\", // Timezone identifier. Examples: UTC, GMT, Atlantic/Azores\n\t\t\t\t\tI: \"?\", // Whether or not the date is in daylight saving time. 1 if Daylight Saving Time, 0 otherwise.\n\t\t\t\t\tO: (o > 0 ? \"-\" : \"+\") + pad(Math.floor(Math.abs(o) / 60) * 100 + Math.abs(o) % 60, 4), // Difference to Greenwich time (GMT) in hours. Example: +0200\n\t\t\t\t\tP: \"?\", // Difference to Greenwich time (GMT) with colon between hours and minutes. Example: +02:00\n\t\t\t\t\tT: (String(timestamp).match(timezone) || [\"\"]).pop().replace(timezoneClip, \"\"), // Timezone abbreviation. Examples: EST, MDT\n\t\t\t\t\tZ: \"?\", // Timezone offset in seconds. The offset for timezones west of UTC is always negative, and for those east of UTC is always positive. -43200 through 50400\n\t\t\t\t\t// Full Date/Time\n\t\t\t\t\tc: \"?\", // ISO 8601 date. Example: 2004-02-12T15:19:21+00:00\n\t\t\t\t\tr: \"?\", // RFC 2822 formatted date. Example: Thu, 21 Dec 2000 16:01:07 +0200\n\t\t\t\t\tU: Math.floor(timestamp / 1000) // Seconds since the Unix Epoch (January 1 1970 00:00:00 GMT)\n\t\t\t\t};\n\t\t\treturn newformat.replace(token, function ($0) {\n\t\t\t\treturn flags.hasOwnProperty($0) ? flags[$0] : $0.substring(1);\n\t\t\t});\n\t\t},\n\t\tparseDateToNumber: function (format, date) {\n\t\t\tvar datetime = jgrid.parseDate.call(this, format, date);\n\t\t\t// datetime could be the string \"&#160;\"\n\t\t\treturn datetime instanceof Date ? datetime.getTime() : 0;\n\t\t},\n\t\tjqID: function (sid) {\n\t\t\treturn String(sid).replace(/[!\"#$%&'()*+,.\\/:; <=>?@\\[\\\\\\]\\^`{|}~]/g, \"\\\\$&\");\n\t\t},\n\t\t/**\n\t\t *  @param {COMPONENT_NAMES} componentName\n\t\t */\n\t\tgetGridComponentId: function (componentName) {\n\t\t\tvar self = this;\n\t\t\tif (self.p == null || !self.p.id) {\n\t\t\t\treturn \"\"; // return empty string\n\t\t\t}\n\t\t\tvar id = self.p.id;\n\t\t\tswitch (componentName) {\n\t\t\t\tcase COMPONENT_NAMES.GRID:\n\t\t\t\t\treturn id;\n\t\t\t\tcase COMPONENT_NAMES.GRID_BOX_DIV:\n\t\t\t\t\treturn \"gbox_\" + id;\n\t\t\t\tcase COMPONENT_NAMES.GRID_VIEW_DIV:\n\t\t\t\t\treturn \"gview_\" + id;\n\t\t\t\tcase COMPONENT_NAMES.DIALOG_ALERT_DIV: // footer/summary table\n\t\t\t\t\treturn \"alertmod_\" + id;\n\t\t\t\tcase COMPONENT_NAMES.COLUMN_RESIZER_DIV:\n\t\t\t\t\treturn \"rs_m\" + id;\n\t\t\t\tcase COMPONENT_NAMES.HEADER_SELECT_ALL_ROWS_CHECKBOX:\n\t\t\t\t\treturn \"cb_\" + id;\n\t\t\t\tcase COMPONENT_NAMES.SEARCH_OPERATION_MENU_UL:\n\t\t\t\t\treturn \"sopt_menu\";\n\t\t\t\tdefault:\n\t\t\t\t\treturn \"\"; // return empty string\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t *  @param {COMPONENT_NAMES} componentName\n\t\t */\n\t\tgetGridComponentIdSelector: function (componentName) {\n\t\t\tvar id = jgrid.getGridComponentId.call(this, componentName);\n\t\t\treturn id ? \"#\" + jgrid.jqID(id) : \"\";\n\t\t},\n\t\tisHTMLElement: function (elem) {\n\t\t\t// see http://stackoverflow.com/a/384380/315935\n\t\t\treturn (typeof HTMLElement === \"object\" || typeof HTMLElement === \"function\") ?\n\t\t\t\telem instanceof HTMLElement : //DOM2\n\t\t\t\telem != null && typeof elem === \"object\" && elem.nodeType === 1 && typeof elem.nodeName === \"string\";\n\t\t},\n\t\t/**\n\t\t *  @param {COMPONENT_NAMES} componentName\n\t\t */\n\t\tgetGridComponent: function (componentName, $p) {// , p1\n\t\t\tvar p;\n\t\t\tif ($p instanceof $ || $p.length > 0) {\n\t\t\t\tp = $p[0];\n\t\t\t} else if (jgrid.isHTMLElement($p)) {\n\t\t\t\tp = $p;\n\t\t\t\t$p = $(p);\n\t\t\t} else {\n\t\t\t\treturn $(); // return empty jQuery object\n\t\t\t}\n\t\t\tswitch (componentName) {\n\t\t\t\tcase COMPONENT_NAMES.BODY_TABLE: // get body table from bDiv\n\t\t\t\t\treturn $p.hasClass(\"ui-jqgrid-bdiv\") ? $p.children(\"div\").children(\".ui-jqgrid-btable\") : $();\n\t\t\t\tcase COMPONENT_NAMES.HEADER_TABLE: // header table from bDiv\n\t\t\t\t\treturn $p.hasClass(\"ui-jqgrid-hdiv\") ? $p.children(\"div\").children(\".ui-jqgrid-htable\") : $();\n\t\t\t\tcase COMPONENT_NAMES.FOOTER_TABLE: // footer/summary table from sDiv\n\t\t\t\t\treturn $p.hasClass(\"ui-jqgrid-sdiv\") ? $p.children(\"div\").children(\".ui-jqgrid-ftable\") : $();\n\t\t\t\tcase COMPONENT_NAMES.FROZEN_HEADER_TABLE: // header table from bDiv\n\t\t\t\t\treturn $p.hasClass(\"ui-jqgrid-hdiv\") ? $p.children(\".ui-jqgrid-htable\") : $();\n\t\t\t\tcase COMPONENT_NAMES.FROZEN_FOOTER_TABLE: // footer/summary table from sDiv\n\t\t\t\t\treturn $p.hasClass(\"ui-jqgrid-sdiv\") ? $p.children(\".ui-jqgrid-ftable\") : $();\n\t\t\t\tcase COMPONENT_NAMES.BODY_DIV:   // get bDiv of grid (bTable)\n\t\t\t\t\treturn $p.hasClass(\"ui-jqgrid-btable\") && p.grid != null ? $(p.grid.bDiv) : $();\n\t\t\t\tcase COMPONENT_NAMES.HEADER_DIV:   // get hDiv of grid (bTable)\n\t\t\t\t\treturn $p.hasClass(\"ui-jqgrid-btable\") && p.grid != null ? $(p.grid.hDiv) : $();\n\t\t\t\tcase COMPONENT_NAMES.FOOTER_DIV:   // get sDiv of grid (bTable)\n\t\t\t\t\treturn $p.hasClass(\"ui-jqgrid-btable\") && p.grid != null ? $(p.grid.sDiv) : $();\n\t\t\t\t//case \"colHeader\": // p should be iCol\n\t\t\t\t//    return !isNaN(p1) && p.grid != null && p.grid.headers != null && p.grid.headers[p1] != null ?\n\t\t\t\t//            $(p.grid.headers[p1].el) : $();\n\t\t\t\tdefault:\n\t\t\t\t\treturn $(); // return empty jQuery object\n\t\t\t}\n\t\t},\n\t\tfixScrollOffsetAndhBoxPadding: function () {\n\t\t\tvar self = this, grid = self.grid;\n\t\t\tif (!grid) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar p = self.p, bDiv = grid.bDiv,\n\t\t\t\tfixhBox = function (hDiv) {\n\t\t\t\t\tvar $hDivhBox = $(hDiv).children(\"div\").first();\n\t\t\t\t\t$hDivhBox.css($hDivhBox.hasClass(\"ui-jqgrid-hbox-rtl\") ? \"padding-left\" : \"padding-right\", p.scrollOffset);\n\t\t\t\t\thDiv.scrollLeft = bDiv.scrollLeft;\n\t\t\t\t};\n\t\t\tif ($(bDiv).width() > 0) {\n\t\t\t\tp.scrollOffset = (bDiv.offsetWidth - bDiv.clientWidth); // can be 0 if no scrollbar exist\n\t\t\t\t// TODO: add detection of the width of vertical scroll bar if the grid is hidden\n\t\t\t\t// at the moment of executing fixScrollOffsetAndhBoxPadding (for example inside of inactive jQuery UI Tab)\n\t\t\t\t// one need just create close construction with visible:hidden style, add to body and get its width\n\t\t\t\tfixhBox(grid.hDiv);\n\t\t\t\tif (grid.sDiv) {\n\t\t\t\t\tfixhBox(grid.sDiv);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmergeCssClasses: function () {\n\t\t\tvar args = $.makeArray(arguments), map = {}, i, j, ar, cssClass, classes = [];\n\t\t\tfor (i = 0; i < args.length; i++) {\n\t\t\t\tar = String(args[i]).replace(/[\\t\\r\\n\\f]/g, \" \").split(\" \");\n\t\t\t\tfor (j = 0; j < ar.length; j++) {\n\t\t\t\t\tcssClass = ar[j];\n\t\t\t\t\tif (cssClass !== \"\" && !map.hasOwnProperty(cssClass)) {\n\t\t\t\t\t\tmap[cssClass] = true;\n\t\t\t\t\t\tclasses.push(cssClass);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn classes.join(\" \");\n\t\t},\n\t\thasOneFromClasses: function (elem, classes) {\n\t\t\tvar $elem = $(elem),\n\t\t\t\tarClasses = String(classes).replace(/[\\t\\r\\n\\f]/g, \" \").split(\" \"),\n\t\t\t\tn = arClasses.length,\n\t\t\t\ti;\n\t\t\tfor (i = 0; i < n; i++) {\n\t\t\t\tif ($elem.hasClass(arClasses[i])) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\thasAllClasses: function (elem, classes) {\n\t\t\t// the current implementation of jQuery.hasClass can work with multiple classes,\n\t\t\t// but the classes HAVE TO BE in exact the same order. jQuery.hasClass just\n\t\t\t// search for classes using indexOf.\n\t\t\t// (see https://github.com/jquery/jquery/blob/1.11.3/src/attributes/classes.js#L143-L154)\n\t\t\t// Thus we cant's use it to test whether an element has the list of all the classes\n\t\t\t// and we introduces the helper method hasAllClasses\n\t\t\tvar $elem = $(elem),\n\t\t\t\tarClasses = String(classes).replace(/[\\t\\r\\n\\f]/g, \" \").split(\" \"),\n\t\t\t\tn = arClasses.length,\n\t\t\t\ti;\n\t\t\tfor (i = 0; i < n; i++) {\n\t\t\t\tif (!$elem.hasClass(arClasses[i])) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tdetectRowEditing: function (rowid) {\n\t\t\t//var i, savedRowInfo, tr, self = this, rows = self.rows, p = self.p, isFunction = $.isFunction;\n\t\t\tif (!this.grid || this.p == null || this.p.editingInfo == null || this.p.editingInfo[rowid] == null) {\n\t\t\t\treturn null; // this is not a grid or the row is not editing now\n\t\t\t}\n\t\t\treturn this.p.editingInfo[rowid];\n\t\t},\n\t\t// The method returns jQuery wrapper with the cell (<td>) of the row.\n\t\t// It can return jQuery wrapper with two cells in case of usage frozen data:\n\t\t// one cell of the main grid and another cell with the corresponding cell from the frozen body table\n\t\tgetCell: function (tr, iCol) {\n\t\t\tvar grid = this.grid, p = this.p, frozenRows, $td;\n\t\t\tif (!grid || !p) { return $(); } // not a grid\n\t\t\tif (tr instanceof $ || tr.length > 0) {\n\t\t\t\ttr = tr[0]; // unwrap jQuery object to DOM element\n\t\t\t}\n\t\t\tif (!((typeof HTMLTableRowElement === \"object\" || typeof HTMLTableRowElement === \"function\") && tr instanceof HTMLTableRowElement) || tr.cells == null) { // the line will be failed in IE7\n\t\t\t\treturn $(); // return empty jQuery object\n\t\t\t}\n\t\t\t$td = $(tr.cells[iCol]);\n\t\t\tfrozenRows = grid.fbRows;\n\t\t\treturn frozenRows != null && iCol < frozenRows[0].cells.length ?\n\t\t\t\t$td.add(frozenRows[tr.rowIndex].cells[iCol]) :\n\t\t\t\t$td;\n\t\t},\n\t\tgetDataFieldOfCell: function (tr, iCol) {\n\t\t\tvar p = this.p, $td = jgrid.getCell.call(this, tr, iCol), $dataElement;\n\t\t\tif (p.treeGrid && $td.children(\"div.tree-wrap\").length > 0) {\n\t\t\t\t$td = $td.children(\"span.cell-wrapperleaf,span.cell-wrapper\");\n\t\t\t}\n\t\t\tif (p.colModel[iCol].autoResizable) {\n\t\t\t\t$dataElement = $td.children(\"span.\" + p.autoResizing.wrapperClassName);\n\t\t\t\tif ($dataElement.length === 0) { // for example, td is in editing mode\n\t\t\t\t\t$dataElement = $td;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$dataElement = $td;\n\t\t\t}\n\t\t\treturn $dataElement;\n\t\t},\n\t\tenumEditableCells: function (tr, mode, callback) {\n\t\t\tvar self = this, grid = self.grid, rows = self.rows, p = self.p;\n\t\t\tif (grid == null || rows == null || p == null || tr == null || tr.rowIndex == null || !tr.id || !$.isFunction(callback)) {\n\t\t\t\treturn null; // this is not a grid or tr is not tr\n\t\t\t}\n\t\t\tvar iCol, colModel = p.colModel, nCol = colModel.length, cm, nm, options, id, pos, item,\n\t\t\t\tisEditable, iRow = tr.rowIndex, td, $dataElement, dataWidth,\n\t\t\t\tfrozenRows = grid.fbRows, frozen = frozenRows != null,\n\t\t\t\ttrFrozen = frozen ? frozenRows[iRow] : null;\n\n\t\t\t// normalize tr if required\n\t\t\tif (frozen/* && !$.contains(self, tr)*/) {\n\t\t\t\t// The event could be inside of frozen div.\n\t\t\t\t// Thus tr could be the same as trFrozen\n\t\t\t\t// We normalize it based on the rowIndex.\n\t\t\t\ttr = self.rows[iRow];\n\t\t\t}\n\n\t\t\tfor (iCol = 0; iCol < nCol; iCol++) {\n\t\t\t\tcm = colModel[iCol];\n\t\t\t\tnm = cm.name;\n\t\t\t\tif (nm !== \"cb\" && nm !== \"subgrid\" && nm !== \"rn\") {\n\t\t\t\t\tif (frozen && !cm.frozen) {\n\t\t\t\t\t\tfrozen = false;\n\t\t\t\t\t}\n\t\t\t\t\ttd = (frozen ? trFrozen : tr).cells[iCol];\n\t\t\t\t\t$dataElement = $(td);\n\t\t\t\t\tif (!$dataElement.hasClass(\"not-editable-cell\")) {\n\t\t\t\t\t\tdataWidth = $dataElement.width();\n\t\t\t\t\t\tif (p.treeGrid === true && nm === p.ExpandColumn) {\n\t\t\t\t\t\t\tdataWidth -= $dataElement.children(\"div.tree-wrap\").outerWidth();\n\t\t\t\t\t\t\t$dataElement = $dataElement.children(\"span.cell-wrapperleaf,span.cell-wrapper\").first();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdataWidth = 0; // we can test it in the callback and use width:auto in the case\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tid = stripPref(p.idPrefix, tr.id);\n\t\t\t\t\t\toptions = {\n\t\t\t\t\t\t\trowid: tr.id,\n\t\t\t\t\t\t\tid: id,\n\t\t\t\t\t\t\tiCol: iCol,\n\t\t\t\t\t\t\tiRow: iRow,\n\t\t\t\t\t\t\tcmName: nm,\n\t\t\t\t\t\t\tcm: cm,\n\t\t\t\t\t\t\tmode: mode,\n\t\t\t\t\t\t\ttd: td,\n\t\t\t\t\t\t\ttr: tr,\n\t\t\t\t\t\t\ttrFrozen: trFrozen,\n\t\t\t\t\t\t\tdataElement: $dataElement[0],\n\t\t\t\t\t\t\tdataWidth: dataWidth\n\t\t\t\t\t\t};\n\t\t\t\t\t\tif (p.datatype === \"local\") {\n\t\t\t\t\t\t\tpos = p._index[id];\n\t\t\t\t\t\t\titem = pos != null ? p.data[pos] : undefined;\n\t\t\t\t\t\t\tif (item) {\n\t\t\t\t\t\t\t\toptions.item = item;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!cm.edittype) { cm.edittype = \"text\"; }\n\t\t\t\t\t\tif (((p.editingInfo[tr.id] || {}).editable || {}).hasOwnProperty(nm)) {\n\t\t\t\t\t\t\t// if the cell in already editing\n\t\t\t\t\t\t\tisEditable = p.editingInfo[tr.id].editable[nm];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tisEditable = cm.editable;\n\t\t\t\t\t\t\tisEditable = $.isFunction(isEditable) ?\n\t\t\t\t\t\t\t\tisEditable.call(self, options) :\n\t\t\t\t\t\t\t\tisEditable;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (isEditable === true || isEditable === \"hidden\") {\n\t\t\t\t\t\t\toptions.editable = isEditable;\n\t\t\t\t\t\t\tif (callback.call(self, options) === false) { break; }\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tgetEditedValue: function ($dataFiled, cm, valueText, editable) {\n\t\t\tvar result, checkBoxValues, newformat, $field, values, texts,\n\t\t\t\tformatoptions = cm.formatoptions || {}, editoptions = cm.editoptions || {},\n\t\t\t\tcustomValue = editoptions.custom_value,\n\t\t\t\tnameSelector = \"[name=\" + jgrid.jqID(cm.name) + \"]\", $t = this, $self = $($t);\n\t\t\tif (editable === \"hidden\" || editable === \"readonly\") {\n\t\t\t\t// the implementation from the next line can be improved\n\t\t\t\treturn $($t).jqGrid(\"getCell\", $dataFiled.closest(\"tr.jqgrow\").attr(\"id\"), cm.name);\n\t\t\t}\n\t\t\tswitch (cm.edittype) {\n\t\t\t\tcase \"checkbox\":\n\t\t\t\t\tcheckBoxValues = [\"Yes\", \"No\"];\n\t\t\t\t\tif (typeof editoptions.value === \"string\") {\n\t\t\t\t\t\tcheckBoxValues = editoptions.value.split(\":\");\n\t\t\t\t\t}\n\t\t\t\t\tresult = $dataFiled.find(\"input[type=checkbox]\").is(\":checked\") ? checkBoxValues[0] : checkBoxValues[1];\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"text\":\n\t\t\t\tcase \"password\":\n\t\t\t\tcase \"textarea\":\n\t\t\t\tcase \"button\":\n\t\t\t\t\t$field = $dataFiled.find(\"input\" + nameSelector + \",textarea\" + nameSelector);\n\t\t\t\t\tresult = $field.val();\n\t\t\t\t\tif ($field.prop(\"type\") === \"date\" && String(result).split(\"-\").length === 3) {\n\t\t\t\t\t\tnewformat = formatoptions.newformat || $self.jqGrid(\"getGridRes\", \"formatter.date.newformat\");\n\t\t\t\t\t\tresult = jgrid.parseDate.call($t, \"Y-m-d\", result, newformat);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"select\":\n\t\t\t\t\t$field = $dataFiled.find(\"select option:selected\");\n\t\t\t\t\tif (editoptions.multiple) {\n\t\t\t\t\t\tvalues = [];\n\t\t\t\t\t\ttexts = [];\n\t\t\t\t\t\t$field.each(function () {\n\t\t\t\t\t\t\tvalues.push($(this).val());\n\t\t\t\t\t\t\ttexts.push($(this).text());\n\t\t\t\t\t\t});\n\t\t\t\t\t\tresult = values.join(\",\");\n\t\t\t\t\t\tvalueText.text = texts.join(\",\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult = $field.val();\n\t\t\t\t\t\tvalueText.text = $field.text();\n\t\t\t\t\t}\n\t\t\t\t\tvalueText.value = result;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"custom\":\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif ($.isFunction(customValue)) {\n\t\t\t\t\t\t\tresult = customValue.call($t, $dataFiled.find(\".customelement\"), \"get\");\n\t\t\t\t\t\t\tif (result === undefined) {\n\t\t\t\t\t\t\t\tthrow \"e2\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthrow \"e1\";\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tvar errorText, infoDialog = jgrid.info_dialog,\n\t\t\t\t\t\t\tgetRes = function (path) { $self.jqGrid(\"getGridRes\", path); };\n\t\t\t\t\t\tswitch (String(e)) {\n\t\t\t\t\t\t\tcase \"e1\":\n\t\t\t\t\t\t\t\terrorText = \"function 'custom_value' \" + getRes(\"edit.msg.nodefined\");\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"e2\":\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\terrorText = e.message;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (infoDialog && $.isFunction(infoDialog)) {\n\t\t\t\t\t\t\tinfoDialog.call($t, getRes(\"errors.errcap\"), errorText, getRes(\"edit.bClose\"));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t($.isFunction(defaults.fatalError) ? defaults.fatalError : alert)(errorText);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tresult = $dataFiled.find(\"*\" + nameSelector).text();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\tguid: 1,\n\t\tuidPref: \"jqg\",\n\t\trandId: function (prefix) {\n\t\t\treturn (prefix || jgrid.uidPref) + (jgrid.guid++);\n\t\t},\n\t\tgetAccessor: function (obj, expr) {\n\t\t\tvar ret, p, prm = [], i;\n\t\t\tif ($.isFunction(expr)) { return expr(obj); }\n\t\t\tif (obj != null && obj.hasOwnProperty(expr)) {\n\t\t\t\treturn obj[expr];\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tif (typeof expr === \"string\") {\n\t\t\t\t\tprm = expr.split(\".\");\n\t\t\t\t}\n\t\t\t\ti = prm.length;\n\t\t\t\tif (i) {\n\t\t\t\t\tret = obj;\n\t\t\t\t\twhile (ret != null && i--) {\n\t\t\t\t\t\tp = prm.shift();\n\t\t\t\t\t\tif (ret.hasOwnProperty(p)) {\n\t\t\t\t\t\t\tret = ret[p];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tret = undefined;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (ignore) { }\n\t\t\treturn ret;\n\t\t},\n\t\tgetXmlData: function (obj, expr, returnObj) {\n\t\t\tvar m = typeof expr === \"string\" ? expr.match(/^(.*)\\[(\\w+)\\]$/) : null;\n\t\t\tif ($.isFunction(expr)) { return expr(obj); }\n\t\t\tif (m && m[2]) {\n\t\t\t\t// m[2] is the attribute selector\n\t\t\t\t// m[1] is an optional element selector\n\t\t\t\t// examples: \"[id]\", \"rows[page]\"\n\t\t\t\treturn m[1] ? $(m[1], obj).attr(m[2]) : $(obj).attr(m[2]);\n\t\t\t}\n\t\t\tif (obj === undefined) {\n\t\t\t\t//alert(\"expr\");\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\t// !!! one should never use another form $(expr, obj) if obj could be undefined\n\t\t\t// In the case the $(expr, obj) could be $(\"someString\") and jQuery can\n\t\t\t// parse it as array of characters ($(\"someString\").length will be \"someString\".length) !!!\n\t\t\t// The problem take place if expr is not string object, but object new String(\"someString\").\n\t\t\t// The problem can exist if one use $.each with array of strings.\n\t\t\t// The \"this\" inside of $.each is the string converted to object.\n\t\t\tvar ret = $(obj).find(expr);\n\t\t\tif (returnObj) { return ret; }\n\t\t\t//$(expr, obj).filter(\":last\"); // we use \":last\" to be more compatible with old version of jqGrid\n\t\t\treturn ret.length > 0 ? $(ret).text() : undefined;\n\t\t},\n\t\tcellWidth: function () {\n\t\t\t// TODO: use all other classes in grid. Probably one should set the visibility explicitly to show (display:block)\n\t\t\tvar $testDiv = $(\"<div class='ui-jqgrid' style='left:10000px'><div class='ui-jqgrid-view'><div class='ui-jqgrid-bdiv'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;display:block;'></td></tr></table></div></div></div>\"),\n\t\t\t\ttestCell = $testDiv.appendTo(\"body\")\n\t\t\t\t\t.find(\"td\")\n\t\t\t\t\t.width();\n\t\t\t$testDiv.remove();\n\t\t\treturn Math.abs(testCell - 5) > 0.1;\n\t\t},\n\t\tisCellClassHidden: function (className) {\n\t\t\tif (className == null || className === \"\") {\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tvar $testDiv = $(\"<div class='ui-jqgrid' style='left:10000px'><div class='ui-jqgrid-view'><div class='ui-jqgrid-bdiv'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;' class='\" + (className || \"\") + \"'></td></tr></table></div></div></div>\"),\n\t\t\t\t\tisHidden = $testDiv.appendTo(\"body\")\n\t\t\t\t\t\t.find(\"td\")\n\t\t\t\t\t\t.is(\":hidden\");\n\t\t\t\t$testDiv.remove();\n\t\t\t\treturn isHidden;\n\t\t\t}\n\t\t},\n\t\tcell_width: true,\n\t\tajaxOptions: {},\n\t\tfrom: function (source) {\n\t\t\t// Original Author Hugo Bonacci\n\t\t\t// License MIT http://jlinq.codeplex.com/license\n\t\t\tvar context = this,\n\t\t\t\t/**\n\t\t\t\t * @private\n\t\t\t\t * @class\n\t\t\t\t */\n\t\t\t\tQueryObject = function (d, q) {\n\t\t\t\t\tvar self = this,\n\t\t\t\t\t\t_data = d,\n\t\t\t\t\t\t_usecase = true,\n\t\t\t\t\t\t_trim = false,\n\t\t\t\t\t\t_query = q,\n\t\t\t\t\t\t_stripNum = /[\\$,%]/g,\n\t\t\t\t\t\t_lastCommand = null,\n\t\t\t\t\t\t_lastField = null,\n\t\t\t\t\t\t_orDepth = 0,\n\t\t\t\t\t\t_negate = false,\n\t\t\t\t\t\t_queuedOperator = \"\",\n\t\t\t\t\t\t_sorting = [],\n\t\t\t\t\t\ttoString = Object.prototype.toString;\n\t\t\t\t\tif (typeof d === \"object\" && d.push) {\n\t\t\t\t\t\tif (d.length > 0) {\n\t\t\t\t\t\t\tif (typeof d[0] !== \"object\") {\n\t\t\t\t\t\t\t\tthrow \"data items are not objects\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow \"data provides is not an array\";\n\t\t\t\t\t}\n\t\t\t\t\t/**\n\t\t\t\t\t * @private\n\t\t\t\t\t * @type {function(): boolean}\n\t\t\t\t\t */\n\t\t\t\t\tthis._hasData = function () {\n\t\t\t\t\t\treturn _data === null ? false : _data.length === 0 ? false : true;\n\t\t\t\t\t};\n\t\t\t\t\t/**\n\t\t\t\t\t * @private\n\t\t\t\t\t * @type {function(string): string}\n\t\t\t\t\t */\n\t\t\t\t\tthis._getStr = function (s) {\n\t\t\t\t\t\tvar phrase = [];\n\t\t\t\t\t\tif (_trim) {\n\t\t\t\t\t\t\tphrase.push(\"jQuery.trim(\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tphrase.push(\"String(\" + s + \" || '')\");\n\t\t\t\t\t\tif (_trim) {\n\t\t\t\t\t\t\tphrase.push(\")\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!_usecase) {\n\t\t\t\t\t\t\tphrase.push(\".toUpperCase()\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn phrase.join(\"\");\n\t\t\t\t\t};\n\t\t\t\t\t/** @private */\n\t\t\t\t\tthis._strComp = function (val) {\n\t\t\t\t\t\tif (typeof val === \"string\") {\n\t\t\t\t\t\t\treturn \".toString()\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn \"\";\n\t\t\t\t\t};\n\t\t\t\t\t/** @private */\n\t\t\t\t\tthis._group = function (f, u) {\n\t\t\t\t\t\treturn ({ field: f.toString(), unique: u, items: [] });\n\t\t\t\t\t};\n\t\t\t\t\t/** @private */\n\t\t\t\t\tthis._toStr = function (phrase) {\n\t\t\t\t\t\tif (_trim) {\n\t\t\t\t\t\t\tphrase = $.trim(phrase);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tphrase = phrase.toString().replace(/\\\\/g, \"\\\\\\\\\").replace(/\"/g, \"\\\\\\\"\");\n\t\t\t\t\t\treturn _usecase ? phrase : phrase.toUpperCase();\n\t\t\t\t\t};\n\t\t\t\t\t/** @private */\n\t\t\t\t\tthis._funcLoop = function (func) {\n\t\t\t\t\t\tvar results = [];\n\t\t\t\t\t\t$.each(_data, function (i, v) {\n\t\t\t\t\t\t\tresults.push(func(v));\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t};\n\t\t\t\t\t/** @private */\n\t\t\t\t\tthis._append = function (s) {\n\t\t\t\t\t\tvar i;\n\t\t\t\t\t\tif (_query === null) {\n\t\t\t\t\t\t\t_query = \"\";\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_query += _queuedOperator === \"\" ? \" && \" : _queuedOperator;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (i = 0; i < _orDepth; i++) {\n\t\t\t\t\t\t\t_query += \"(\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (_negate) {\n\t\t\t\t\t\t\t_query += \"!\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\t_query += \"(\" + s + \")\";\n\t\t\t\t\t\t_negate = false;\n\t\t\t\t\t\t_queuedOperator = \"\";\n\t\t\t\t\t\t_orDepth = 0;\n\t\t\t\t\t};\n\t\t\t\t\t/** @private */\n\t\t\t\t\tthis._setCommand = function (f, c) {\n\t\t\t\t\t\t_lastCommand = f;\n\t\t\t\t\t\t_lastField = c;\n\t\t\t\t\t};\n\t\t\t\t\t/** @private */\n\t\t\t\t\tthis._resetNegate = function () {\n\t\t\t\t\t\t_negate = false;\n\t\t\t\t\t};\n\t\t\t\t\t/** @private */\n\t\t\t\t\tthis._repeatCommand = function (f, v) {\n\t\t\t\t\t\tif (_lastCommand === null) {\n\t\t\t\t\t\t\treturn self;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (f !== null && v !== null) {\n\t\t\t\t\t\t\treturn _lastCommand(f, v);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (_lastField === null) {\n\t\t\t\t\t\t\treturn _lastCommand(f);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn _lastCommand(_lastField, f);\n\t\t\t\t\t};\n\t\t\t\t\t/** @private */\n\t\t\t\t\tthis._equals = function (a, b) {\n\t\t\t\t\t\treturn (self._compare(a, b, 1) === 0);\n\t\t\t\t\t};\n\t\t\t\t\t/** @private */\n\t\t\t\t\tthis._compare = function (a, b, dir) {\n\t\t\t\t\t\tif (dir === undefined) { dir = 1; }\n\t\t\t\t\t\tif (a === undefined) { a = null; }\n\t\t\t\t\t\tif (b === undefined) { b = null; }\n\t\t\t\t\t\tif (a === null && b === null) {\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (a === null && b !== null) {\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (a !== null && b === null) {\n\t\t\t\t\t\t\treturn -1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (toString.call(a) === \"[object Date]\" && toString.call(b) === \"[object Date]\") {\n\t\t\t\t\t\t\tif (a < b) { return -dir; }\n\t\t\t\t\t\t\tif (a > b) { return dir; }\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!_usecase && typeof a !== \"number\" && typeof b !== \"number\") {\n\t\t\t\t\t\t\ta = String(a);\n\t\t\t\t\t\t\tb = String(b);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (a < b) { return -dir; }\n\t\t\t\t\t\tif (a > b) { return dir; }\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t};\n\t\t\t\t\t/** @private */\n\t\t\t\t\tthis._performSort = function () {\n\t\t\t\t\t\tif (_sorting.length === 0) { return; }\n\t\t\t\t\t\t_data = self._doSort(_data, 0);\n\t\t\t\t\t};\n\t\t\t\t\t/** @private */\n\t\t\t\t\tthis._doSort = function (data, iSort) {\n\t\t\t\t\t\tvar by = _sorting[iSort].by,\n\t\t\t\t\t\t\tdir = _sorting[iSort].dir,\n\t\t\t\t\t\t\ttype = _sorting[iSort].type,\n\t\t\t\t\t\t\tdfmt = _sorting[iSort].datefmt,\n\t\t\t\t\t\t\tsfunc = _sorting[iSort].sfunc;\n\t\t\t\t\t\tif (iSort === _sorting.length - 1) {\n\t\t\t\t\t\t\treturn self._getOrder(data, by, dir, type, dfmt, sfunc);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tiSort++;\n\t\t\t\t\t\tvar values = self._getGroup(data, by, dir, type, dfmt), results = [], i, j, sorted;\n\t\t\t\t\t\tfor (i = 0; i < values.length; i++) {\n\t\t\t\t\t\t\tsorted = self._doSort(values[i].items, iSort);\n\t\t\t\t\t\t\tfor (j = 0; j < sorted.length; j++) {\n\t\t\t\t\t\t\t\tresults.push(sorted[j]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t};\n\t\t\t\t\t/** @private */\n\t\t\t\t\tthis._getOrder = function (data, by, dir, type, dfmt, sfunc) {\n\t\t\t\t\t\tvar sortData = [], _sortData = [], newDir = dir === \"a\" ? 1 : -1, i, ab, findSortKey;\n\n\t\t\t\t\t\tif (type === undefined) { type = \"text\"; }\n\t\t\t\t\t\tif (type === \"float\" || type === \"number\" || type === \"currency\" || type === \"numeric\") {\n\t\t\t\t\t\t\tfindSortKey = function ($cell) {\n\t\t\t\t\t\t\t\tvar key = parseFloat(String($cell).replace(_stripNum, \"\"));\n\t\t\t\t\t\t\t\treturn isNaN(key) ? Number.NEGATIVE_INFINITY : key;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t} else if (type === \"int\" || type === \"integer\") {\n\t\t\t\t\t\t\tfindSortKey = function ($cell) {\n\t\t\t\t\t\t\t\treturn $cell != null ? parseFloat(String($cell).replace(_stripNum, \"\")) : Number.NEGATIVE_INFINITY;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t} else if (type === \"date\" || type === \"datetime\") {\n\t\t\t\t\t\t\tfindSortKey = function ($cell) {\n\t\t\t\t\t\t\t\treturn jgrid.parseDateToNumber.call(context, dfmt, $cell);\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t} else if ($.isFunction(type)) {\n\t\t\t\t\t\t\tfindSortKey = type;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfindSortKey = function ($cell) {\n\t\t\t\t\t\t\t\t$cell = $cell != null ? $.trim(String($cell)) : \"\";\n\t\t\t\t\t\t\t\treturn _usecase ? $cell : $cell.toUpperCase();\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$.each(data, function (index, v) {\n\t\t\t\t\t\t\tab = by !== \"\" ? jgrid.getAccessor(v, by) : v;\n\t\t\t\t\t\t\tif (ab === undefined) { ab = \"\"; }\n\t\t\t\t\t\t\tab = findSortKey.call(context, ab, v);\n\t\t\t\t\t\t\t_sortData.push({ vSort: ab, data: v, index: index });\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif ($.isFunction(sfunc)) {\n\t\t\t\t\t\t\t_sortData.sort(function (a, b) {\n\t\t\t\t\t\t\t\treturn sfunc.call(context, a.vSort, b.vSort, newDir, a.data, b.data);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_sortData.sort(function (a, b) {\n\t\t\t\t\t\t\t\treturn self._compare(a.vSort, b.vSort, newDir);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar j = 0, nrec = data.length;\n\t\t\t\t\t\t// overhead, but we do not change the original data.\n\t\t\t\t\t\twhile (j < nrec) {\n\t\t\t\t\t\t\ti = _sortData[j].index;\n\t\t\t\t\t\t\tsortData.push(data[i]);\n\t\t\t\t\t\t\tj++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn sortData;\n\t\t\t\t\t};\n\t\t\t\t\t/** @private */\n\t\t\t\t\tthis._getGroup = function (data, by, dir, type, dfmt) {\n\t\t\t\t\t\tvar results = [],\n\t\t\t\t\t\t\tgroup = null,\n\t\t\t\t\t\t\tlast = null;\n\t\t\t\t\t\t$.each(self._getOrder(data, by, dir, type, dfmt), function (i, v) {\n\t\t\t\t\t\t\tvar val = jgrid.getAccessor(v, by);\n\t\t\t\t\t\t\tif (val == null) { val = \"\"; }\n\t\t\t\t\t\t\tif (!self._equals(last, val)) {\n\t\t\t\t\t\t\t\tlast = val;\n\t\t\t\t\t\t\t\tif (group !== null) {\n\t\t\t\t\t\t\t\t\tresults.push(group);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tgroup = self._group(by, val);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tgroup.items.push(v);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (group !== null) {\n\t\t\t\t\t\t\tresults.push(group);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t};\n\t\t\t\t\tthis.ignoreCase = function () {\n\t\t\t\t\t\t_usecase = false;\n\t\t\t\t\t\treturn self;\n\t\t\t\t\t};\n\t\t\t\t\tthis.useCase = function () {\n\t\t\t\t\t\t_usecase = true;\n\t\t\t\t\t\treturn self;\n\t\t\t\t\t};\n\t\t\t\t\tthis.trim = function () {\n\t\t\t\t\t\t_trim = true;\n\t\t\t\t\t\treturn self;\n\t\t\t\t\t};\n\t\t\t\t\tthis.noTrim = function () {\n\t\t\t\t\t\t_trim = false;\n\t\t\t\t\t\treturn self;\n\t\t\t\t\t};\n\t\t\t\t\tthis.execute = function () {\n\t\t\t\t\t\tvar match = _query, results = [];\n\t\t\t\t\t\tif (match === null) {\n\t\t\t\t\t\t\treturn self;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$.each(_data, function () {\n\t\t\t\t\t\t\t(function () {\n\t\t\t\t\t\t\t\tvar localMath = \"(function (context) {\\n\" +\n\t\t\t\t\t\t\t\t\t\"var yesObject = { 1: 1, x: 1, \\\"true\\\": 1, yes: 1, y: 1, on: 1 },\" +\n\t\t\t\t\t\t\t\t\t\"noObject = { 0: 1, \\\"false\\\": 1, no: 1, n: 1, off: 1 },\" +\n\t\t\t\t\t\t\t\t\t\"normilizeBoolean = function (v) {\\n\" +\n\t\t\t\t\t\t\t\t\t\"if (typeof v === \\\"string\\\") {\\n\" +\n\t\t\t\t\t\t\t\t\t\"if (noObject[v.toLowerCase()]) { return false; } \" +\n\t\t\t\t\t\t\t\t\t\"else if (yesObject[v.toLowerCase()]) { return true; } \" +\n\t\t\t\t\t\t\t\t\t\"}\\n\" +\n\t\t\t\t\t\t\t\t\t\"return !!v;\\n\" +\n\t\t\t\t\t\t\t\t\t\"},\" +\n\t\t\t\t\t\t\t\t\t\"intFunc = function (jQuery, self) { return \" +\n\t\t\t\t\t\t\t\t\tmatch +\n\t\t\t\t\t\t\t\t\t\"; }; return intFunc.call(context.item, context.jQuery, context.context); }(this))\";\n\t\t\t\t\t\t\t\tif (eval(localMath)) { results.push(this.item); }\n\t\t\t\t\t\t\t}.call({\n\t\t\t\t\t\t\t\titem: this,\n\t\t\t\t\t\t\t\tjQuery: $,\n\t\t\t\t\t\t\t\tcontext: context\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t});\n\t\t\t\t\t\t_data = results;\n\t\t\t\t\t\treturn self;\n\t\t\t\t\t};\n\t\t\t\t\tthis.data = function () {\n\t\t\t\t\t\treturn _data;\n\t\t\t\t\t};\n\t\t\t\t\tthis.select = function (f) {\n\t\t\t\t\t\tself.execute();\n\t\t\t\t\t\tif ($.isFunction(f)) {\n\t\t\t\t\t\t\tvar results = [];\n\t\t\t\t\t\t\t$.each(_data, function (i, v) {\n\t\t\t\t\t\t\t\tresults.push(f(v));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!self._hasData()) { return []; }\n\t\t\t\t\t\tself._performSort();\n\t\t\t\t\t\treturn _data;\n\t\t\t\t\t};\n\t\t\t\t\tthis.hasMatch = function () {\n\t\t\t\t\t\tif (!self._hasData()) { return false; }\n\t\t\t\t\t\tself.execute();\n\t\t\t\t\t\treturn _data.length > 0;\n\t\t\t\t\t};\n\t\t\t\t\tthis.andNot = function (f, v, x) {\n\t\t\t\t\t\t_negate = !_negate;\n\t\t\t\t\t\treturn self.and(f, v, x);\n\t\t\t\t\t};\n\t\t\t\t\tthis.orNot = function (f, v, x) {\n\t\t\t\t\t\t_negate = !_negate;\n\t\t\t\t\t\treturn self.or(f, v, x);\n\t\t\t\t\t};\n\t\t\t\t\tthis.not = function (f, v, x) {\n\t\t\t\t\t\treturn self.andNot(f, v, x);\n\t\t\t\t\t};\n\t\t\t\t\tthis.and = function (f, v, x) {\n\t\t\t\t\t\t_queuedOperator = \" && \";\n\t\t\t\t\t\tif (f === undefined) {\n\t\t\t\t\t\t\treturn self;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn self._repeatCommand(f, v, x);\n\t\t\t\t\t};\n\t\t\t\t\tthis.or = function (f, v, x) {\n\t\t\t\t\t\t_queuedOperator = \" || \";\n\t\t\t\t\t\tif (f === undefined) { return self; }\n\t\t\t\t\t\treturn self._repeatCommand(f, v, x);\n\t\t\t\t\t};\n\t\t\t\t\tthis.orBegin = function () {\n\t\t\t\t\t\t_orDepth++;\n\t\t\t\t\t\treturn self;\n\t\t\t\t\t};\n\t\t\t\t\tthis.orEnd = function () {\n\t\t\t\t\t\tif (_query !== null) {\n\t\t\t\t\t\t\t_query += \")\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn self;\n\t\t\t\t\t};\n\t\t\t\t\tthis.isNot = function (f) {\n\t\t\t\t\t\t_negate = !_negate;\n\t\t\t\t\t\treturn self.is(f);\n\t\t\t\t\t};\n\t\t\t\t\tthis.is = function (f) {\n\t\t\t\t\t\tself._append(\"this.\" + f);\n\t\t\t\t\t\tself._resetNegate();\n\t\t\t\t\t\treturn self;\n\t\t\t\t\t};\n\t\t\t\t\t/** @private */\n\t\t\t\t\tthis._compareValues = function (func, f, v, how, t) {\n\t\t\t\t\t\tvar fld = f;\n\n\t\t\t\t\t\tif (v === undefined) { v = null; }\n\t\t\t\t\t\t//var val=v===null?f:v,\n\t\t\t\t\t\tvar val = v, swst = t.stype === undefined ? \"text\" : t.stype;\n\t\t\t\t\t\tif (v !== null) {\n\t\t\t\t\t\t\tswitch (swst) {\n\t\t\t\t\t\t\t\tcase \"int\":\n\t\t\t\t\t\t\t\tcase \"integer\":\n\t\t\t\t\t\t\t\t\tval = String(val).replace(_stripNum, \"\");\n\t\t\t\t\t\t\t\t\tval = (isNaN(Number(val)) || val === \"\") ? \"0\" : Number(val); // To be fixed with more intelligent code\n\t\t\t\t\t\t\t\t\tfld = \"parseInt(\" + fld + \"||0,10)\";\n\t\t\t\t\t\t\t\t\tval = String(parseInt(val, 10));\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase \"boolean\":\n\t\t\t\t\t\t\t\t\t// use !! operator to convert ruthy/falsy values to boolean and then compare the values\n\t\t\t\t\t\t\t\t\tfld = \"normilizeBoolean(\" + fld + \")\";\n\t\t\t\t\t\t\t\t\tval = \"normilizeBoolean(\" + String(val) + \")\";\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase \"float\":\n\t\t\t\t\t\t\t\tcase \"number\":\n\t\t\t\t\t\t\t\tcase \"currency\":\n\t\t\t\t\t\t\t\tcase \"numeric\":\n\t\t\t\t\t\t\t\t\tval = String(val).replace(_stripNum, \"\");\n\t\t\t\t\t\t\t\t\tval = (isNaN(Number(val)) || val === \"\") ? \"0\" : Number(val); // To be fixed with more intelligent code\n\t\t\t\t\t\t\t\t\tfld = \"parseFloat(\" + fld + \"||0)\";\n\t\t\t\t\t\t\t\t\tval = String(val);\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase \"date\":\n\t\t\t\t\t\t\t\tcase \"datetime\":\n\t\t\t\t\t\t\t\t\tval = String(jgrid.parseDateToNumber.call(context, t.newfmt || \"Y-m-d\", val));\n\t\t\t\t\t\t\t\t\tfld = \"jQuery.jgrid.parseDateToNumber.call(self,\\\"\" + t.srcfmt + \"\\\",\" + fld + \")\";\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t// TODO: consider to apply formatter at least to process correctly\n\t\t\t\t\t\t\t\t\t// default values. For example is bootean property is not defined\n\t\t\t\t\t\t\t\t\t// if will be displayed by formatter:\"checkbox\" as false value.\n\t\t\t\t\t\t\t\t\t// If the user search for the value one will process the following\n\t\t\t\t\t\t\t\t\t//    jQuery.jgrid.getAccessor(this,'closed')).toUpperCase() == String(\"FALSE\").toUpperCase()\n\t\t\t\t\t\t\t\t\t// which works wrong if the property \"closed\" is undefined.\n\t\t\t\t\t\t\t\t\tfld = self._getStr(fld);\n\t\t\t\t\t\t\t\t\tval = self._getStr(\"\\\"\" + self._toStr(val) + \"\\\"\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself._append(fld + \" \" + how + \" \" + val);\n\t\t\t\t\t\tself._setCommand(func, f);\n\t\t\t\t\t\tself._resetNegate();\n\t\t\t\t\t\treturn self;\n\t\t\t\t\t};\n\t\t\t\t\tthis.equals = function (f, v, t) {\n\t\t\t\t\t\treturn self._compareValues(self.equals, f, v, \"==\", t);\n\t\t\t\t\t};\n\t\t\t\t\tthis.notEquals = function (f, v, t) {\n\t\t\t\t\t\treturn self._compareValues(self.equals, f, v, \"!==\", t);\n\t\t\t\t\t};\n\t\t\t\t\tthis.isNull = function (f, v, t) {\n\t\t\t\t\t\treturn self._compareValues(self.equals, f, null, \"===\", t);\n\t\t\t\t\t};\n\t\t\t\t\tthis.greater = function (f, v, t) {\n\t\t\t\t\t\treturn self._compareValues(self.greater, f, v, \">\", t);\n\t\t\t\t\t};\n\t\t\t\t\tthis.less = function (f, v, t) {\n\t\t\t\t\t\treturn self._compareValues(self.less, f, v, \"<\", t);\n\t\t\t\t\t};\n\t\t\t\t\tthis.greaterOrEquals = function (f, v, t) {\n\t\t\t\t\t\treturn self._compareValues(self.greaterOrEquals, f, v, \">=\", t);\n\t\t\t\t\t};\n\t\t\t\t\tthis.lessOrEquals = function (f, v, t) {\n\t\t\t\t\t\treturn self._compareValues(self.lessOrEquals, f, v, \"<=\", t);\n\t\t\t\t\t};\n\t\t\t\t\tthis.startsWith = function (f, v) {\n\t\t\t\t\t\tvar val = (v == null) ? f : v,\n\t\t\t\t\t\t\tlength = _trim ? $.trim(val.toString()).length : val.toString().length;\n\n\t\t\t\t\t\tself._append(self._getStr(f) + \".substr(0,\" + length + \") == \" + self._getStr(\"\\\"\" + self._toStr(v) + \"\\\"\"));\n\t\t\t\t\t\tself._setCommand(self.startsWith, f);\n\t\t\t\t\t\tself._resetNegate();\n\t\t\t\t\t\treturn self;\n\t\t\t\t\t};\n\t\t\t\t\tthis.endsWith = function (f, v) {\n\t\t\t\t\t\tvar val = (v == null) ? f : v,\n\t\t\t\t\t\t\tlength = _trim ? $.trim(val.toString()).length : val.toString().length;\n\t\t\t\t\t\tself._append(self._getStr(f) + \".substr(\" + self._getStr(f) + \".length-\" + length + \",\" + length + \") == \\\"\" + self._toStr(v) + \"\\\"\");\n\t\t\t\t\t\tself._setCommand(self.endsWith, f);\n\t\t\t\t\t\tself._resetNegate();\n\t\t\t\t\t\treturn self;\n\t\t\t\t\t};\n\t\t\t\t\tthis.contains = function (f, v) {\n\t\t\t\t\t\tself._append(self._getStr(f) + \".indexOf(\\\"\" + self._toStr(v) + \"\\\",0) > -1\");\n\t\t\t\t\t\tself._setCommand(self.contains, f);\n\t\t\t\t\t\tself._resetNegate();\n\t\t\t\t\t\treturn self;\n\t\t\t\t\t};\n\t\t\t\t\tthis.groupBy = function (by, dir, type, datefmt) {\n\t\t\t\t\t\tif (!self._hasData()) {\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn self._getGroup(_data, by, dir, type, datefmt);\n\t\t\t\t\t};\n\t\t\t\t\tthis.orderBy = function (by, dir, stype, dfmt, sfunc) {\n\t\t\t\t\t\tdir = dir == null ? \"a\" : $.trim(dir.toString().toLowerCase());\n\t\t\t\t\t\tif (stype == null) { stype = \"text\"; }\n\t\t\t\t\t\tif (dfmt == null) { dfmt = \"Y-m-d\"; }\n\t\t\t\t\t\tif (sfunc == null) { sfunc = false; }\n\t\t\t\t\t\tif (dir === \"desc\" || dir === \"descending\") { dir = \"d\"; }\n\t\t\t\t\t\tif (dir === \"asc\" || dir === \"ascending\") { dir = \"a\"; }\n\t\t\t\t\t\t_sorting.push({ by: by, dir: dir, type: stype, datefmt: dfmt, sfunc: sfunc });\n\t\t\t\t\t\treturn self;\n\t\t\t\t\t};\n\t\t\t\t\tthis.inSet = function (f, v, t) {\n\t\t\t\t\t\tvar val = v === undefined ? null : v,\n\t\t\t\t\t\t\tswst = t.stype === undefined ? \"text\" : t.stype;\n\n\t\t\t\t\t\tval = self._getStr(\"\\\"\" + self._toStr(val) + \"\\\"\");\n\t\t\t\t\t\tif (swst !== \"text\") {\n\t\t\t\t\t\t\t// NOT yet implemented\n\t\t\t\t\t\t\treturn self._compareValues(self.equals, f, v, \"==\", t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tself._append(\"jQuery.inArray(\" + self._getStr(f) + \",\" + val + \".split('\" +\n\t\t\t\t\t\t\t(context.p.inFilterSeparator || \",\") + \"')) >= 0\");\n\t\t\t\t\t\tself._setCommand(self.inSet, f);\n\t\t\t\t\t\tself._resetNegate();\n\t\t\t\t\t\treturn self;\n\t\t\t\t\t};\n\t\t\t\t\tthis.custom = function (ruleOp, field, data) {\n\t\t\t\t\t\tself._append(\"self.p.customSortOperations.\" + ruleOp + \".filter.call(self,{item:this,cmName:\\\"\" + field +\n\t\t\t\t\t\t\t\"\\\",iCol:self.p.iColByName[\\\"\" + field + \"\\\"]>=0 ? self.p.iColByName[\\\"\" + field + \"\\\"] : self.p.iPropByName[\\\"\" + field +\n\t\t\t\t\t\t\t\"\\\"],isAddProp:self.p.iColByName[\\\"\" + field + \"\\\"]<0\" +\n\t\t\t\t\t\t\t\",searchValue:\\\"\" + data + \"\\\"})\");\n\t\t\t\t\t\tself._setCommand(self.custom, field);\n\t\t\t\t\t\tself._resetNegate();\n\t\t\t\t\t\treturn self;\n\t\t\t\t\t};\n\t\t\t\t\treturn self;\n\t\t\t\t};\n\n\t\t\treturn new QueryObject(source, null);\n\t\t},\n\t\tserializeFeedback: function (callback, eventName, postData) {\n\t\t\tvar self = this, eventResult;\n\t\t\tif (self instanceof $ && self.length > 0) {\n\t\t\t\tself = self[0];\n\t\t\t}\n\t\t\tif (typeof postData === \"string\") {\n\t\t\t\treturn postData;\n\t\t\t}\n\t\t\teventResult = $(self).triggerHandler(eventName, postData);\n\t\t\tif (typeof eventResult === \"string\") {\n\t\t\t\treturn eventResult;\n\t\t\t}\n\t\t\tif (eventResult == null || typeof eventResult !== \"object\") {\n\t\t\t\teventResult = postData; // uses original postData\n\t\t\t}\n\t\t\treturn $.isFunction(callback) ? callback.call(self, eventResult) : eventResult;\n\t\t},\n\t\tfullBoolFeedback: function (callback, eventName) {\n\t\t\tvar self = this, args = $.makeArray(arguments).slice(2), result = $(self).triggerHandler(eventName, args);\n\n\t\t\tresult = (result === false || result === \"stop\") ? false : true;\n\t\t\tif ($.isFunction(callback)) {\n\t\t\t\tvar callbackResult = callback.apply(self, args);\n\t\t\t\tif (callbackResult === false || callbackResult === \"stop\") {\n\t\t\t\t\tresult = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\tfeedback: function (p, eventPrefix, callbackSuffix, callbackName) {\n\t\t\tvar self = this;\n\t\t\tif (self instanceof $ && self.length > 0) {\n\t\t\t\tself = self[0];\n\t\t\t}\n\t\t\tif (p == null || typeof callbackName !== \"string\" || callbackName.length < 2) {\n\t\t\t\treturn null; // incorrect call\n\t\t\t}\n\t\t\t// onSortCol -> jqGridSortCol, onSelectAll -> jqGridSelectAll, ondblClickRow -> jqGridDblClickRow\n\t\t\t// resizeStop -> jqGridResizeStop\n\t\t\tvar eventName = callbackName.substring(0, 2) === \"on\" ?\n\t\t\t\t\t\"jqGrid\" + eventPrefix + callbackName.charAt(2).toUpperCase() + callbackName.substring(3) :\n\t\t\t\t\t\"jqGrid\" + eventPrefix + callbackName.charAt(0).toUpperCase() + callbackName.substring(1),\n\t\t\t\targs = $.makeArray(arguments).slice(4),\n\t\t\t\tcallback = p[callbackName + callbackSuffix];\n\n\t\t\targs.unshift(eventName);\n\t\t\targs.unshift(callback);\n\t\t\treturn jgrid.fullBoolFeedback.apply(self, args);\n\t\t},\n\t\tbuilderSortIcons: function (iCol) {\n\t\t\t// iCol is unused currently, but one can modify the code to set for example different sorting\n\t\t\t// icons for columns based on sorttype option of colModel\n\t\t\tvar ts = this, p = ts.p, $self = $(ts),\n\t\t\t\tdisabledStateClasses = $self.jqGrid(\"getGuiStyles\", \"states.disabled\"),\n\t\t\t\tgetClasses = function (ascOrDesc) {\n\t\t\t\t\tvar cm = p.colModel[iCol],\n\t\t\t\t\t\tsortIconFunc = cm != null && $.isFunction(cm.sortIconName) ?\n\t\t\t\t\t\t\tcm.sortIconName :\n\t\t\t\t\t\t\tp.sortIconName;\n\t\t\t\t\tvar sortIconName = $.isFunction(sortIconFunc) ?\n\t\t\t\t\t\tsortIconFunc.call(ts, {\n\t\t\t\t\t\t\torder: ascOrDesc,\n\t\t\t\t\t\t\tiCol: iCol,\n\t\t\t\t\t\t\tcm: cm\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\t$self.jqGrid(\"getIconRes\", \"sort.\" + ascOrDesc);\n\t\t\t\t\treturn jgrid.mergeCssClasses(\n\t\t\t\t\t\t\"ui-grid-ico-sort\",\n\t\t\t\t\t\t\"ui-icon-\" + ascOrDesc,\n\t\t\t\t\t\tp.viewsortcols[1] === \"horizontal\" ? \"ui-i-\" + ascOrDesc : \"\",\n\t\t\t\t\t\tdisabledStateClasses,\n\t\t\t\t\t\tsortIconName,\n\t\t\t\t\t\t\"ui-sort-\" + p.direction\n\t\t\t\t\t);\n\t\t\t\t};\n\n\t\t\treturn \"<span class='s-ico\" + (p.sortIconsBeforeText ? \" jqgrid-icons-first\" : \"\") +\n\t\t\t\t\"' style='display:none'><span class='\" + getClasses(\"asc\") +\n\t\t\t\t\"'></span><span class='\" + getClasses(\"desc\") + \"'></span></span>\";\n\t\t},\n\t\t/**\n\t\t *  @param {String} id\n\t\t *  @param {String} text\n\t\t *  @param {String} icon\n\t\t *  @param {String} iconOnLeftOrRight - string \"left\", \"right\" or undefined\n\t\t *  @param {String} conner - string \"left\", \"right\" or undefined.\n\t\t */\n\t\tbuilderFmButon: function (id, text, icon, iconOnLeftOrRight, conner) {\n\t\t\tvar p = this.p, $self = $(this),\n\t\t\t\tgetDialogGuiStyles = function (name) {\n\t\t\t\t\treturn $self.jqGrid(\"getGuiStyles\", \"dialog.\" + name);\n\t\t\t\t};\n\t\t\tif (p == null) { return \"\"; }\n\n\t\t\treturn \"<a id='\" + id + \"' class='\" +\n\t\t\t\tjgrid.mergeCssClasses(\"fm-button\",\n\t\t\t\t\tgetDialogGuiStyles(\"fmButton\"),\n\t\t\t\t\tgetDialogGuiStyles(conner === \"right\" ? \"rightCorner\" : (conner === \"left\" ? \"leftCorner\" : \"defaultCorner\")),\n\t\t\t\t\ticonOnLeftOrRight === \"right\" ?\n\t\t\t\t\t\t\"fm-button-icon-right\" :\n\t\t\t\t\t\t(iconOnLeftOrRight === \"left\" ? \"fm-button-icon-left\" : \"\")\n\t\t\t\t) + \"' role='button' tabindex='0'>\" +\n\t\t\t\t(icon ? \"<span class='fm-button-icon \" + ($self.jqGrid(\"getIconRes\", icon) || icon) + \"'></span>\" : \"\") +\n\t\t\t\t(text ? \"<span class='fm-button-text'>\" + text + \"</span>\" : \"\") +\n\t\t\t\t\"</a>\";\n\t\t},\n\t\tconvertOnSaveLocally: function (nData, cm, oData, id, item, iCol) {\n\t\t\tvar self = this, p = self.p;\n\t\t\tif (p == null) {\n\t\t\t\treturn nData;\n\t\t\t}\n\t\t\tif ($.isFunction(cm.convertOnSave)) {\n\t\t\t\treturn cm.convertOnSave.call(this, { newValue: nData, cm: cm, oldValue: oData, id: id, item: item, iCol: iCol });\n\t\t\t}\n\t\t\tif (typeof oData !== \"boolean\" && typeof oData !== \"number\") {\n\t\t\t\t// we support first of all editing of boolean and numeric data\n\t\t\t\t// TODO: more data types (like Date) need be implemented\n\t\t\t\treturn nData;\n\t\t\t}\n\n\t\t\tif (typeof oData === \"boolean\" && (cm.edittype === \"checkbox\" || cm.formatter === \"checkbox\")) {\n\t\t\t\t// convert nData to boolean if possible\n\t\t\t\tvar lnData = String(nData).toLowerCase(),\n\t\t\t\t\tcbv = cm.editoptions != null && typeof cm.editoptions.value === \"string\" ?\n\t\t\t\t\t\tcm.editoptions.value.split(\":\") : [\"yes\", \"no\"];\n\t\t\t\tif ($.inArray(lnData, [\"1\", \"true\", cbv[0].toLowerCase()]) >= 0) {\n\t\t\t\t\tnData = true;\n\t\t\t\t} else if ($.inArray(lnData, [\"0\", \"false\", cbv[1].toLowerCase()]) >= 0) {\n\t\t\t\t\tnData = false;\n\t\t\t\t}\n\t\t\t} else if (typeof oData === \"number\" && !isNaN(nData)) {\n\t\t\t\tif (cm.formatter === \"number\" || cm.formatter === \"currency\") {\n\t\t\t\t\tnData = parseFloat(nData);\n\t\t\t\t} else if (cm.formatter === \"integer\") {\n\t\t\t\t\tnData = parseInt(nData, 10);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn nData;\n\t\t},\n\t\tparseDataToHtml: function (len, ids, items, cellsToDisplay, rcnt, adjust, readAllInputData) {\n\t\t\tvar self = this, p = self.p, $self = $(self), i, j, altr, cn1, selr, idr, rd, cells, iStartTrTag,\n\t\t\t\tselected = false, rowData = [], grpdata = [],\n\t\t\t\tcn = (p.altRows === true && !$self.jqGrid(\"isBootstrapGuiStyle\")) ? p.altclass : \"\",\n\t\t\t\tgrp = p.groupingView,\n\t\t\t\thiderow = false,\n\t\t\t\trn = parseInt(p.rowNum, 10), cmName, $j = $.fn.jqGrid,\n\t\t\t\t// prepare to build the map rowIndexes, which will simplify us to get rowIndex\n\t\t\t\t// of any row of table by its rowid.\n\t\t\t\t// ??? probably rcnt can be used too\n\t\t\t\trowIndex = p.treeGrid === true && p.treeANode > -1 ?\n\t\t\t\t\tself.rows[p.treeANode].rowIndex + 1 :\n\t\t\t\t\tself.rows.length,\n\t\t\t\tformatCol = self.formatCol,\n\t\t\t\taddCell = function (rowId, cell, pos, irow, srvr, rdata) {\n\t\t\t\t\tvar v = self.formatter(rowId, cell, pos, srvr, \"add\", rdata);\n\t\t\t\t\treturn \"<td role='gridcell' \" + formatCol(pos, irow, v, srvr, rowId, rdata) + \">\" + v + \"</td>\";\n\t\t\t\t},\n\t\t\t\taddMulti = function (rowid, pos, irow, checked, item) {\n\t\t\t\t\tvar checkboxHtml = \"&nbsp;\", hasCbox = true,\n\t\t\t\t\t\tcallbackParams = { rowid: rowid, iRow: irow, iCol: pos, data: item, checked: checked };\n\t\t\t\t\tif ($.isFunction(p.hasMultiselectCheckBox)) {\n\t\t\t\t\t\thasCbox = p.hasMultiselectCheckBox.call(self, callbackParams);\n\t\t\t\t\t}\n\t\t\t\t\tif (hasCbox) {\n\t\t\t\t\t\tcheckboxHtml = $.isFunction(p.checkboxHtml) ?\n\t\t\t\t\t\t\tp.checkboxHtml.call(self, callbackParams) :\n\t\t\t\t\t\t\t\"<input type='checkbox' id='jqg_\" + p.id + \"_\" + rowid +\n\t\t\t\t\t\t\t\"' class='cbox' name='jqg_\" + p.id + \"_\" + rowid + \"'\" +\n\t\t\t\t\t\t\t(checked ? \" checked='checked' aria-checked='true'\" : \" aria-checked='false'\") + \"/>\";\n\t\t\t\t\t}\n\t\t\t\t\treturn \"<td role='gridcell' \" + formatCol(pos, irow, \"\", null, rowid, true) + \">\" +\n\t\t\t\t\t\tcheckboxHtml + \"</td>\";\n\t\t\t\t},\n\t\t\t\taddRowNum = function (pos, irow, pG, rN) {\n\t\t\t\t\tvar v = (parseInt(pG, 10) - 1) * parseInt(rN, 10) + 1 + irow;\n\t\t\t\t\treturn \"<td role='gridcell' class='\" + $j.getGuiStyles.call($self, \"rowNum\", \"jqgrid-rownum\") + \"' \" +\n\t\t\t\t\t\tformatCol(pos, irow, v, null, irow, true) + \">\" + v + \"</td>\";\n\t\t\t\t};\n\t\t\tif (rowIndex <= 1) { p.rowIndexes = {}; }\n\t\t\tif ((p.datatype === \"local\" && !p.deselectAfterSort) || p.multiPageSelection) { selected = true; }\n\t\t\tif (adjust) { rn *= adjust + 1; }\n\t\t\tfor (i = 0; i < Math.min(len, rn); i++) {\n\t\t\t\tidr = ids[i];\n\t\t\t\trd = items[i];\n\t\t\t\tcells = cellsToDisplay != null ? cellsToDisplay[i] : rd;\n\t\t\t\taltr = rcnt === 1 ? 0 : rcnt; // probably rowIndex should be used instead\n\t\t\t\tcn1 = (altr + i) % 2 === 1 ? cn : \"\";\n\t\t\t\tif (selected) {\n\t\t\t\t\tif (p.multiselect) {\n\t\t\t\t\t\tselr = ($.inArray(idr, p.selarrrow) !== -1);\n\t\t\t\t\t\tif (selr && p.selrow === null) { p.selrow = idr; }\n\t\t\t\t\t} else {\n\t\t\t\t\t\tselr = (idr === p.selrow);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tselr = false;\n\t\t\t\t}\n\t\t\t\tiStartTrTag = rowData.length;\n\t\t\t\trowData.push(\"\"); // it will be replaced. See rowData[iStartTrTag] below\n\t\t\t\tfor (j = 0; j < p.colModel.length; j++) {\n\t\t\t\t\tcmName = p.colModel[j].name;\n\t\t\t\t\tswitch (cmName) {\n\t\t\t\t\t\tcase \"rn\":\n\t\t\t\t\t\t\trowData.push(addRowNum(j, i, p.page, p.rowNum));\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"cb\":\n\t\t\t\t\t\t\trowData.push(addMulti(idr, j, i, selr, rd));\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"subgrid\":\n\t\t\t\t\t\t\trowData.push($j.addSubGridCell.call($self, j, i + rcnt, idr, rd));\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\trowData.push(addCell(idr, rd[cmName], j, i + rcnt, cells, rd));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (p.grouping) {\n\t\t\t\t\tif ($j.groupingPrepare && !grp._locgr) {\n\t\t\t\t\t\t$j.groupingPrepare.call($self, rd, i);\n\t\t\t\t\t}\n\t\t\t\t\thiderow = $.isFunction(grp.groupCollapse) ?\n\t\t\t\t\t\tgrp.groupCollapse.call(self, {\n\t\t\t\t\t\t\tgroup: grp.groups[grp.groups.length - 1],\n\t\t\t\t\t\t\trowid: idr,\n\t\t\t\t\t\t\tdata: rd\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\tgrp.groupCollapse;\n\t\t\t\t}\n\t\t\t\trowData[iStartTrTag] = self.constructTr(idr, hiderow, cn1, rd, cells, selr);\n\t\t\t\trowData.push(\"</tr>\");\n\t\t\t\tp.rowIndexes[idr] = rowIndex;\n\t\t\t\trowIndex++;\n\t\t\t\t//TODO: fix p.rowIndexes in case of usage grouping.\n\t\t\t\tif (p.grouping) {\n\t\t\t\t\t// we save the rowData in the array grpdata first.\n\t\t\t\t\t// grpdata will collect HTML fragments of all rows of data\n\t\t\t\t\t// of the current group. Later we call groupingRender, which\n\t\t\t\t\t// will insert additional grouping row and concatinate all\n\t\t\t\t\t// the HTML fragments of all rows of the group.\n\t\t\t\t\tgrpdata.push(rowData);\n\t\t\t\t\trowData = []; // the data for rendering are moved in grpdata\n\t\t\t\t}\n\t\t\t\tif (rowData.length > p.maxItemsToJoin) {\n\t\t\t\t\trowData = [rowData.join(\"\")];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (p.grouping && $j.groupingRender) {\n\t\t\t\tif (readAllInputData) {\n\t\t\t\t\tgrp._locgr = true;\n\t\t\t\t}\n\t\t\t\trowData = [$j.groupingRender.call($self, grpdata, rn)];\n\t\t\t\tjgrid.clearArray(grpdata); //grpdata = null;\n\t\t\t}\n\t\t\treturn rowData;\n\t\t},\n\t\tfillSelectOptions: function (elem, value, sep, delim, isMultiple, valuesToSelect) {\n\t\t\tvar i, so, sv, ov, optionInfo, optionInfos = [], isSelected, key, ovm,\n\t\t\t\tisNoFilterValueExist = false,\n\t\t\t\tmapFunc = function (n, ii) { if (ii > 0) { return n; } };\n\n\t\t\tif (!value) { return; }\n\t\t\tif (typeof value === \"function\") {\n\t\t\t\tvalue = value();\n\t\t\t}\n\n\t\t\tif (typeof value === \"string\") {\n\t\t\t\tso = value.split(delim);\n\t\t\t\tfor (i = 0; i < so.length; i++) {\n\t\t\t\t\tsv = so[i].split(sep);\n\t\t\t\t\tif (sv.length > 2) {\n\t\t\t\t\t\tsv[1] = $.map(sv, mapFunc).join(sep);\n\t\t\t\t\t}\n\t\t\t\t\toptionInfos.push({\n\t\t\t\t\t\tvalue: sv[0],\n\t\t\t\t\t\tinnerHtml: sv[1],\n\t\t\t\t\t\tselectValue: $.trim(sv[0]),\n\t\t\t\t\t\tselectText: $.trim(sv[1]),\n\t\t\t\t\t\tselected: false\n\t\t\t\t\t});\n\t\t\t\t\tif (sv[0] === \"\") {\n\t\t\t\t\t\tisNoFilterValueExist = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (typeof value === \"object\") {\n\t\t\t\tfor (key in value) {\n\t\t\t\t\tif (value.hasOwnProperty(key)) {\n\t\t\t\t\t\toptionInfos.push({\n\t\t\t\t\t\t\tvalue: key,\n\t\t\t\t\t\t\tinnerHtml: value[key],\n\t\t\t\t\t\t\tselectValue: $.trim(key),\n\t\t\t\t\t\t\tselectText: $.trim(value[key]),\n\t\t\t\t\t\t\tselected: false\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (key === \"\") {\n\t\t\t\t\t\tisNoFilterValueExist = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (typeof valuesToSelect === \"string\") {\n\t\t\t\tovm = isMultiple ?\n\t\t\t\t\t$.map(valuesToSelect.split(\",\"), function (n) { return $.trim(n); }) :\n\t\t\t\t\t[$.trim(valuesToSelect)];\n\n\t\t\t\tvaluesToSelect = $.trim(valuesToSelect);\n\n\t\t\t\t// mark selection\n\t\t\t\t// 1) first by value\n\t\t\t\tfor (i = 0; i < optionInfos.length; i++) {\n\t\t\t\t\toptionInfo = optionInfos[i];\n\t\t\t\t\tif (!isMultiple && optionInfo.selectValue === valuesToSelect) {\n\t\t\t\t\t\toptionInfo.selected = true;\n\t\t\t\t\t\tisSelected = true;\n\t\t\t\t\t}\n\t\t\t\t\tif (isMultiple && $.inArray(optionInfo.selectValue, ovm) > -1) {\n\t\t\t\t\t\toptionInfo.selected = true;\n\t\t\t\t\t\tisSelected = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// 2) when no selection by value, then by text\n\t\t\t\tif (!isSelected) {\n\t\t\t\t\tfor (i = 0; i < optionInfos.length; i++) {\n\t\t\t\t\t\toptionInfo = optionInfos[i];\n\t\t\t\t\t\tif (!isMultiple && optionInfo.selectText === valuesToSelect) {\n\t\t\t\t\t\t\toptionInfo.selected = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (isMultiple && $.inArray(optionInfo.selectText, ovm) > -1) {\n\t\t\t\t\t\t\toptionInfo.selected = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (i = 0; i < optionInfos.length; i++) {\n\t\t\t\toptionInfo = optionInfos[i];\n\t\t\t\tov = document.createElement(\"option\");\n\t\t\t\tov.value = optionInfo.value;\n\t\t\t\tov.innerHTML = optionInfo.innerHtml;\n\t\t\t\tif (optionInfo.selected) {\n\t\t\t\t\tov.selected = true;\n\t\t\t\t}\n\t\t\t\telem.appendChild(ov);\n\t\t\t}\n\n\t\t\treturn isNoFilterValueExist;\n\t\t},\n\t\tgetMethod: function (name) {\n\t\t\t// this should be $.jgrid object\n\t\t\treturn this.getAccessor($.fn.jqGrid, name);\n\t\t},\n\t\textend: function (methods) {\n\t\t\t$.extend($.fn.jqGrid, methods);\n\t\t\tif (!this.no_legacy_api) {\n\t\t\t\t$.fn.extend(methods);\n\t\t\t}\n\t\t}\n\t});\n\tvar clearArray = jgrid.clearArray, jqID = jgrid.jqID,\n\t\tgetGridComponentIdSelector = jgrid.getGridComponentIdSelector, getGridComponentId = jgrid.getGridComponentId,\n\t\tgetGridComponent = jgrid.getGridComponent, stripPref = jgrid.stripPref, randId = jgrid.randId,\n\t\tgetAccessor = jgrid.getAccessor, convertOnSaveLocally = jgrid.convertOnSaveLocally,\n\t\tstripHtml = jgrid.stripHtml, htmlEncode = jgrid.htmlEncode, htmlDecode = jgrid.htmlDecode,\n\t\tmergeCssClasses = jgrid.mergeCssClasses, hasOneFromClasses = jgrid.hasOneFromClasses,\n\t\tfeedback = function () {\n\t\t\t// short form of $.jgrid.feedback to save usage this.p as the first parameter\n\t\t\tvar args = $.makeArray(arguments);\n\t\t\targs.unshift(\"\");\n\t\t\targs.unshift(\"\");\n\t\t\targs.unshift(this.p);\n\t\t\treturn jgrid.feedback.apply(this, args);\n\t\t};\n\n\t/**\n\t * @param {(string|Object)} pin\n\t */\n\t$.fn.jqGrid = function (pin) {\n\t\tvar $j = $.fn.jqGrid, fn;\n\t\tif (typeof pin === \"string\") {\n\t\t\tfn = $j[pin];\n\t\t\tif (!fn) {\n\t\t\t\tthrow (\"jqGrid - No such method: \" + pin);\n\t\t\t}\n\t\t\treturn fn.apply(this, $.makeArray(arguments).slice(1));\n\t\t}\n\t\treturn this.each(function () {\n\t\t\tif (this.grid) { return; }\n\t\t\t// TODO: verify that pin.locale exists in locales. If it's not exist then change it to\n\t\t\t// en-US or some other which exist\n\t\t\tvar ts = this, localData, localDataStr, $self0 = $(ts),\n\t\t\t\tisFunction = $.isFunction, isArray = $.isArray, extend = $.extend, inArray = $.inArray,\n\t\t\t\ttrim = $.trim, each = $.each, setSelection = $j.setSelection, getGridRes = $j.getGridRes,\n\t\t\t\tfatalErrorFunction = isFunction(defaults.fatalError) ? defaults.fatalError : alert,\n\t\t\t\tlocale = pin.locale || defaults.locale || \"en-US\",\n\t\t\t\tdirection = locales[locale] != null && typeof locales[locale].isRTL === \"boolean\" ? (locales[locale].isRTL ? \"rtl\" : \"ltr\") : \"ltr\",\n\t\t\t\ticonSet = pin.iconSet || defaults.iconSet || ((pin.guiStyle || defaults.guiStyle) === \"bootstrap\" || (pin.guiStyle || defaults.guiStyle) === \"bootstrapPrimary\" ? \"glyph\" : \"jQueryUI\"),\n\t\t\t\tguiStyle = pin.guiStyle || defaults.guiStyle || \"jQueryUI\",\n\t\t\t\tgetIcon = function (path) {\n\t\t\t\t\t//return jgrid.getIconRes(iconSet, path);\n\t\t\t\t\treturn $j.getIconRes.call(ts, path);\n\t\t\t\t},\n\t\t\t\tgetGuiStyles = function (path, jqClasses) {\n\t\t\t\t\treturn $self0.jqGrid(\"getGuiStyles\", path, jqClasses);\n\t\t\t\t},\n\t\t\t\tstdLoadError = function (jqXHR, textStatus, errorThrown) {\n\t\t\t\t\tif (textStatus !== \"abort\" && errorThrown !== \"abort\") {\n\t\t\t\t\t\tvar contentType = jqXHR.getResponseHeader (\"Content-Type\"),\n\t\t\t\t\t\t\tmessage = jqXHR.responseText || \"\",\n\t\t\t\t\t\t\tprocessHtmlError = function (msg) {\n\t\t\t\t\t\t\t\tvar div = document.createElement(\"div\"), scripts, i, bodyMatch;\n\t\t\t\t\t\t\t\t// get body only and strip all scripts\n\t\t\t\t\t\t\t\tbodyMatch = /<body[^>]*>([\\s\\S]*)<\\/body\\s*>/gim.exec(msg);\n\t\t\t\t\t\t\t\tdiv.innerHTML = bodyMatch != null && bodyMatch.length === 2 ?\n\t\t\t\t\t\t\t\t\tbodyMatch[1] : msg;\n\t\t\t\t\t\t\t\tscripts = div.getElementsByTagName(\"script\");\n\t\t\t\t\t\t\t\ti = scripts.length;\n\t\t\t\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\t\t\t\tscripts[i].parentNode.removeChild(scripts[i]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// strip html headers and get the body only\n\t\t\t\t\t\t\t\tmsg = div.innerHTML;\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t// remove HTML, if it has no text\n\t\t\t\t\t\t\t\t\tif ($.trim($(msg).text()) === \"\") {\n\t\t\t\t\t\t\t\t\t\tmsg = \"\";\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcatch (ignore) {}\n\t\t\t\t\t\t\t\treturn msg;\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tprocessJsonError = function (msg) {\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tvar errorInfo = $.parseJSON(msg), errorMessages = [], errorProp;\n\t\t\t\t\t\t\t\t\tfor (errorProp in errorInfo) {\n\t\t\t\t\t\t\t\t\t\tif (errorInfo.hasOwnProperty(errorProp) && errorProp !== \"StackTrace\") {\n\t\t\t\t\t\t\t\t\t\t\terrorMessages.push(errorProp + \": \" + errorInfo[errorProp]);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tmsg = errorMessages.join(\"<br />\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcatch (ignore) {}\n\t\t\t\t\t\t\t\treturn msg;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\tif (contentType === \"text/html\") {\n\t\t\t\t\t\t\tmessage = processHtmlError(message);\n\t\t\t\t\t\t} else if (contentType === \"application/json\") {\n\t\t\t\t\t\t\tmessage = processJsonError(message);\n\t\t\t\t\t\t} else if (contentType === \"text/plain\") {\n\t\t\t\t\t\t\t// try to process as JSON\n\t\t\t\t\t\t\tmessage = processJsonError(message);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (jqXHR.status !== 500 && jqXHR.status !== 0) {\n\t\t\t\t\t\t\t// add the header\n\t\t\t\t\t\t\tmessage = (textStatus || errorThrown) +\n\t\t\t\t\t\t\t\t(errorThrown && (errorThrown !== textStatus) ? \": \" + errorThrown : \"\") +\n\t\t\t\t\t\t\t\t\" \" + jqXHR.status + \" \" + jqXHR.statusText +\n\t\t\t\t\t\t\t\t(message !== \"\" ? \"<hr />\" : \"\") +\n\t\t\t\t\t\t\t\tmessage;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$self0.jqGrid(\"displayErrorMessage\", message || textStatus || errorThrown);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\tif (pin == null) {\n\t\t\t\tpin = { datatype: \"local\" };\n\t\t\t}\n\t\t\tif (pin.datastr !== undefined && isArray(pin.datastr)) {\n\t\t\t\tlocalDataStr = pin.datastr;\n\t\t\t\tpin.datastr = []; // don't clear the array, just change the value of datastr property\n\t\t\t}\n\t\t\tif (pin.data !== undefined) {\n\t\t\t\tlocalData = pin.data;\n\t\t\t\tpin.data = []; // don't clear the array, just change the value of data property\n\t\t\t}\n\t\t\tif (jgrid.formatter == null || jgrid.formatter.unused == null) {\n\t\t\t\t// detect old locale file grid.locale-XX.js are included (without DEEP extend).\n\t\t\t\tfatalErrorFunction(\"CRITICAL ERROR!!!\\n\\n\\nOne uses probably\\n\\n\\t$.extend($.jgrid.defaults, {...});\\n\\nto set default settings of jqGrid instead of the usage the DEEP version of jQuery.extend (with true as the first parameter):\\n\\n\\t$.extend(true, $.jgrid.defaults, {...});\\n\\nOne other possible reason:\\n\\nyou included some OLD version of language file (grid.locale-en.js for example) AFTER jquery.jqGrid.min.js. For example all language files of jqGrid 4.7.0 uses non-deep call of jQuery.extend.\\n\\n\\nSome options of jqGrid could still work, but another one will be broken.\");\n\t\t\t}\n\t\t\tif (pin.datatype === undefined && pin.dataType !== undefined) {\n\t\t\t\t// fix the bug in the usage of dataType instead of datatype\n\t\t\t\tpin.datatype = pin.dataType;\n\t\t\t\tdelete pin.dataType;\n\t\t\t}\n\t\t\tif (pin.mtype === undefined && pin.type !== undefined) {\n\t\t\t\t// fix the bug in the usage of type instead of mtype\n\t\t\t\tpin.mtype = pin.type;\n\t\t\t\tdelete pin.type;\n\t\t\t}\n\n\t\t\tts.p = { iconSet: iconSet }; // minimal initializing to get icons with respect of getIconRes method\n\t\t\tvar p = extend(true,\n\t\t\t\t\t{\n\t\t\t\t\t\t//url: \"\",\n\t\t\t\t\t\theight: \"auto\",\n\t\t\t\t\t\tpage: 1,\n\t\t\t\t\t\trowNum: 20,\n\t\t\t\t\t\tmaxRowNum: 10000,\n\t\t\t\t\t\tpagingDuringEditing: \"prevent\", // \"prevent\", \"cancel\" or \"save\"\n\t\t\t\t\t\tsortingDuringEditing: \"prevent\", // \"prevent\", \"cancel\" or \"save\"\n\t\t\t\t\t\treloadingDuringEditing: \"prevent\", // \"prevent\", \"cancel\" or \"save\"\n\t\t\t\t\t\tautoresizeOnLoad: false,\n\t\t\t\t\t\tcolumnsToReResizing: [],\n\t\t\t\t\t\tautoResizing: {\n\t\t\t\t\t\t\twrapperClassName: \"ui-jqgrid-cell-wrapper\",\n\t\t\t\t\t\t\t//widthOfVisiblePartOfSortIcon: pin.iconSet === \"fontAwesome\" ? 13 : 12,\n\t\t\t\t\t\t\tminColWidth: 33,\n\t\t\t\t\t\t\tmaxColWidth: 300,\n\t\t\t\t\t\t\tadjustGridWidth: true, // shrinkToFit and widthOrg (no width option or width:\"auto\" during jqGrid creation will be detected) will be used additionally with adjustGridWidth\n\t\t\t\t\t\t\tcompact: false,\n\t\t\t\t\t\t\tfixWidthOnShrink: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdoubleClickSensitivity: 250,\n\t\t\t\t\t\tminResizingWidth: 10,\n\t\t\t\t\t\trowTotal: null,\n\t\t\t\t\t\trecords: 0,\n\t\t\t\t\t\tpager: \"\",\n\t\t\t\t\t\tpgbuttons: true,\n\t\t\t\t\t\tpginput: true,\n\t\t\t\t\t\tcolModel: [],\n\t\t\t\t\t\tadditionalProperties: [],\n\t\t\t\t\t\tarrayReader: [],\n\t\t\t\t\t\trowList: [],\n\t\t\t\t\t\tcolNames: [],\n\t\t\t\t\t\tsortorder: \"asc\",\n\t\t\t\t\t\tthreeStateSort: false,\n\t\t\t\t\t\t//showOneSortIcon: pin.showOneSortIcon !== undefined ? pin.showOneSortIcon :\n\t\t\t\t\t\t//    pin.iconSet === \"fontAwesome\" ? true : false, // hide or set ui-state-disabled class on the other icon\n\t\t\t\t\t\tsortname: \"\",\n\t\t\t\t\t\t//datatype: pin.datatype !== undefined ? pin.datatype : // datatype parameter are specified - use it\n\t\t\t\t\t\t//    localData !== undefined || pin.url == null ? \"local\" : // data parameter specified or no url are specified\n\t\t\t\t\t\t//        pin.jsonReader != null && typeof pin.jsonReader === \"object\" ? \"json\" : \"xml\", // if jsonReader are specified - use \"json\". In all other cases - use \"xml\"\n\t\t\t\t\t\tmtype: \"GET\",\n\t\t\t\t\t\taltRows: false,\n\t\t\t\t\t\tselarrrow: [],\n\t\t\t\t\t\tsavedRow: [],\n\t\t\t\t\t\teditingInfo: {},\n\t\t\t\t\t\tshrinkToFit: true,\n\t\t\t\t\t\txmlReader: {},\n\t\t\t\t\t\t//jsonReader: {},\n\t\t\t\t\t\tsubGrid: false,\n\t\t\t\t\t\tsubGridModel: [],\n\t\t\t\t\t\treccount: 0,\n\t\t\t\t\t\tlastpage: 0,\n\t\t\t\t\t\tlastsort: 0,\n\t\t\t\t\t\tselrow: null,\n\t\t\t\t\t\tsingleSelectClickMode: \"toggle\",\n\t\t\t\t\t\tselectOnContextMenu: true,\n\t\t\t\t\t\tbeforeSelectRow: null,\n\t\t\t\t\t\tonSelectRow: null,\n\t\t\t\t\t\tonSortCol: null,\n\t\t\t\t\t\tondblClickRow: null,\n\t\t\t\t\t\tonRightClickRow: null,\n\t\t\t\t\t\tonPaging: null,\n\t\t\t\t\t\tonSelectAll: null,\n\t\t\t\t\t\tonInitGrid: null,\n\t\t\t\t\t\tloadComplete: null,\n\t\t\t\t\t\tgridComplete: null,\n\t\t\t\t\t\tloadError: stdLoadError,\n\t\t\t\t\t\tloadBeforeSend: null,\n\t\t\t\t\t\tafterInsertRow: null,\n\t\t\t\t\t\tbeforeRequest: null,\n\t\t\t\t\t\tbeforeProcessing: null,\n\t\t\t\t\t\tonHeaderClick: null,\n\t\t\t\t\t\tviewrecords: false,\n\t\t\t\t\t\tloadonce: false,\n\t\t\t\t\t\tforceClientSorting: false,\n\t\t\t\t\t\tmultiselect: false,\n\t\t\t\t\t\tmultikey: false,\n\t\t\t\t\t\tediturl: \"clientArray\",\n\t\t\t\t\t\tsearch: false,\n\t\t\t\t\t\tcaption: \"\",\n\t\t\t\t\t\thidegrid: true,\n\t\t\t\t\t\thiddengrid: false,\n\t\t\t\t\t\tuseUnformattedDataForCellAttr: true,\n\t\t\t\t\t\tpostData: {},\n\t\t\t\t\t\tuserData: {},\n\t\t\t\t\t\ttreeGrid: false,\n\t\t\t\t\t\ttreeGridModel: \"nested\",\n\t\t\t\t\t\ttreeReader: {},\n\t\t\t\t\t\ttreeANode: -1,\n\t\t\t\t\t\tExpandColumn: null,\n\t\t\t\t\t\ttree_root_level: 0,\n\t\t\t\t\t\tprmNames: {\n\t\t\t\t\t\t\tpage: \"page\",\n\t\t\t\t\t\t\trows: \"rows\",\n\t\t\t\t\t\t\tsort: \"sidx\",\n\t\t\t\t\t\t\torder: \"sord\",\n\t\t\t\t\t\t\tsearch: \"_search\",\n\t\t\t\t\t\t\tfilters: \"filters\",\n\t\t\t\t\t\t\tnd: \"nd\",\n\t\t\t\t\t\t\tid: \"id\",\n\t\t\t\t\t\t\tidold: \"idOld\",\n\t\t\t\t\t\t\toper: \"oper\",\n\t\t\t\t\t\t\teditoper: \"edit\",\n\t\t\t\t\t\t\taddoper: \"add\",\n\t\t\t\t\t\t\tdeloper: \"del\",\n\t\t\t\t\t\t\tsubgridid: \"id\",\n\t\t\t\t\t\t\tnpage: null,\n\t\t\t\t\t\t\ttotalrows: \"totalrows\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tforceFit: false,\n\t\t\t\t\t\tgridstate: \"visible\",\n\t\t\t\t\t\tcellEdit: false,\n\t\t\t\t\t\tiCol: -1,\n\t\t\t\t\t\tiRow: -1,\n\t\t\t\t\t\t//cellsubmit: pin.cellurl === undefined ? \"clientArray\" : \"remote\",\n\t\t\t\t\t\tnv: 0,\n\t\t\t\t\t\tloadui: \"enable\",\n\t\t\t\t\t\ttoolbar: [false, \"\"],\n\t\t\t\t\t\tscroll: false,\n\t\t\t\t\t\tmultiboxonly: false,\n\t\t\t\t\t\tdeselectAfterSort: true,\n\t\t\t\t\t\tresetPageAfterSort: true,\n\t\t\t\t\t\tmultiPageSelection: false,\n\t\t\t\t\t\tselectAllMode: \"filtered\",\n\t\t\t\t\t\tscrollrows: false,\n\t\t\t\t\t\tautowidth: false,\n\t\t\t\t\t\tscrollOffset: 18,\n\t\t\t\t\t\tcellLayout: 5,\n\t\t\t\t\t\tsubGridWidth: 16,\n\t\t\t\t\t\tmultiselectWidth: 16,\n\t\t\t\t\t\tmultiselectPosition: \"left\",\n\t\t\t\t\t\tgridview: true,\n\t\t\t\t\t\trownumWidth: 25,\n\t\t\t\t\t\trownumbers: false,\n\t\t\t\t\t\tpagerpos: \"center\",\n\t\t\t\t\t\tfooterrow: false,\n\t\t\t\t\t\tuserDataOnFooter: false,\n\t\t\t\t\t\thoverrows: true,\n\t\t\t\t\t\taltclass: \"ui-priority-secondary\",\n\t\t\t\t\t\tviewsortcols: [false, \"vertical\", true],\n\t\t\t\t\t\tresizeclass: \"\",\n\t\t\t\t\t\tautoencode: true, // one can use false to have better backwards compatibility, but one have to prevent Cross Site Scripting (XSS) manually\n\t\t\t\t\t\tautoEncodeOnEdit: false,\n\t\t\t\t\t\tremapColumns: [],\n\t\t\t\t\t\tcmNamesInputOrder: [],\n\t\t\t\t\t\tajaxGridOptions: {},\n\t\t\t\t\t\tdirection: direction,\n\t\t\t\t\t\ttoppager: false,\n\t\t\t\t\t\theadertitles: false,\n\t\t\t\t\t\tscrollTimeout: 40,\n\t\t\t\t\t\tmaxItemsToJoin: 32768,\n\t\t\t\t\t\tdata: [],\n\t\t\t\t\t\tlastSelectedData: [],\n\t\t\t\t\t\tquickEmpty: \"quickest\", // false, true or \"quickest\"\n\t\t\t\t\t\t/** @dict */\n\t\t\t\t\t\t_index: {},\n\t\t\t\t\t\tindexByColumnData: {},\n\t\t\t\t\t\tdataIndexById: {},\n\t\t\t\t\t\tiColByName: {},\n\t\t\t\t\t\tiPropByName: {},\n\t\t\t\t\t\treservedColumnNames: [\"rn\", \"cb\", \"subgrid\"],\n\t\t\t\t\t\tgrouping: false,\n\t\t\t\t\t\tgroupingView: {\n\t\t\t\t\t\t\tgroupField: [],\n\t\t\t\t\t\t\tgroupOrder: [],\n\t\t\t\t\t\t\tgroupText: [],\n\t\t\t\t\t\t\tgroupColumnShow: [],\n\t\t\t\t\t\t\tgroupSummary: [],\n\t\t\t\t\t\t\tshowSummaryOnHide: false,\n\t\t\t\t\t\t\tuseDefaultValuesOnGrouping: true,\n\t\t\t\t\t\t\tsummary: [],\n\t\t\t\t\t\t\tdisplayField: [],\n\t\t\t\t\t\t\tgroupSummaryPos: [],\n\t\t\t\t\t\t\tformatDisplayField: [],\n\t\t\t\t\t\t\t_locgr: false,\n\t\t\t\t\t\t\tcommonIconClass: getIcon(\"grouping.common\"),\n\t\t\t\t\t\t\tplusicon: getIcon(\"grouping.plus\"),\n\t\t\t\t\t\t\tminusicon: getIcon(\"grouping.minus\")\n\t\t\t\t\t\t},\n\t\t\t\t\t\tignoreCase: true,\n\t\t\t\t\t\tcmTemplate: {},\n\t\t\t\t\t\tidPrefix: \"\",\n\t\t\t\t\t\ticonSet: iconSet, // \"fontAwesome\" or \"jQueryUI\" or some custom value\n\t\t\t\t\t\tguiStyle: guiStyle,\n\t\t\t\t\t\tlocale: locale,\n\t\t\t\t\t\tmultiSort: false,\n\t\t\t\t\t\tshowSortOrder: true,\n\t\t\t\t\t\tsortOrderPosition: \"afterSortIcons\", // \"afterSortIcons\", \"beforeSortIcons\"\n\t\t\t\t\t\tmultiSortOrder: \"lastClickedFirstSorted\", // \"lastClickedLastSorted\", \"lastClickedFirstSorted\" or callback reodering function\n\t\t\t\t\t\tmaxSortColumns: 3,\n\t\t\t\t\t\ttreeIcons: {\n\t\t\t\t\t\t\tcommonIconClass: getIcon(\"treeGrid.common\"),\n\t\t\t\t\t\t\tplusLtr: getIcon(\"treeGrid.plusLtr\"),\n\t\t\t\t\t\t\tplusRtl: getIcon(\"treeGrid.plusRtl\"),\n\t\t\t\t\t\t\tminus: getIcon(\"treeGrid.minus\"),\n\t\t\t\t\t\t\tleaf: getIcon(\"treeGrid.leaf\")\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t//locales[locale].defaults,\n\t\t\t\t\tdefaults,\n\t\t\t\t\t{\n\t\t\t\t\t\tnavOptions: extend(true, {\n\t\t\t\t\t\t\tcommonIconClass: getIcon(\"nav.common\"),\n\t\t\t\t\t\t\tediticon: getIcon(\"nav.edit\"),\n\t\t\t\t\t\t\taddicon: getIcon(\"nav.add\"),\n\t\t\t\t\t\t\tdelicon: getIcon(\"nav.del\"),\n\t\t\t\t\t\t\tsearchicon: getIcon(\"nav.search\"),\n\t\t\t\t\t\t\trefreshicon: getIcon(\"nav.refresh\"),\n\t\t\t\t\t\t\tviewicon: getIcon(\"nav.view\"),\n\t\t\t\t\t\t\tsaveicon: getIcon(\"nav.save\"),\n\t\t\t\t\t\t\tcancelicon: getIcon(\"nav.cancel\"),\n\t\t\t\t\t\t\tbuttonicon: getIcon(\"nav.newbutton\")\n\t\t\t\t\t\t}, jgrid.nav || {}),\n\t\t\t\t\t\tactionsNavOptions: extend(true, {\n\t\t\t\t\t\t\tcommonIconClass: getIcon(\"actions.common\"),\n\t\t\t\t\t\t\tediticon: getIcon(\"actions.edit\"),\n\t\t\t\t\t\t\tdelicon: getIcon(\"actions.del\"),\n\t\t\t\t\t\t\tsaveicon: getIcon(\"actions.save\"),\n\t\t\t\t\t\t\tcancelicon: getIcon(\"actions.cancel\")\n\t\t\t\t\t\t}, jgrid.actionsNav || {}),\n\t\t\t\t\t\tformEditing: extend(true, {\n\t\t\t\t\t\t\tcommonIconClass: getIcon(\"form.common\"),\n\t\t\t\t\t\t\tprevIcon: getIcon(\"form.prev\"),\n\t\t\t\t\t\t\tnextIcon: getIcon(\"form.next\"),\n\t\t\t\t\t\t\tsaveicon: [true, \"left\", getIcon(\"form.save\")],\n\t\t\t\t\t\t\tcloseicon: [true, \"left\", getIcon(\"form.undo\")]\n\t\t\t\t\t\t}, jgrid.edit || {}),\n\t\t\t\t\t\tsearching: extend(true, {\n\t\t\t\t\t\t\tcommonIconClass: getIcon(\"search.common\"),\n\t\t\t\t\t\t\tfindDialogIcon: getIcon(\"search.search\"),\n\t\t\t\t\t\t\tresetDialogIcon: getIcon(\"search.reset\"),\n\t\t\t\t\t\t\tqueryDialogIcon: getIcon(\"search.query\")\n\t\t\t\t\t\t}, jgrid.search || {}),\n\t\t\t\t\t\tformViewing: extend(true, {\n\t\t\t\t\t\t\tcommonIconClass: getIcon(\"form.common\"),\n\t\t\t\t\t\t\tprevIcon: getIcon(\"form.prev\"),\n\t\t\t\t\t\t\tnextIcon: getIcon(\"form.next\"),\n\t\t\t\t\t\t\tcloseicon: [true, \"left\", getIcon(\"form.cancel\")]\n\t\t\t\t\t\t}, jgrid.view || {}),\n\t\t\t\t\t\tformDeleting: extend(true, {\n\t\t\t\t\t\t\tcommonIconClass: getIcon(\"form.common\"),\n\t\t\t\t\t\t\tdelicon: [true, \"left\", getIcon(\"form.del\")],\n\t\t\t\t\t\t\tcancelicon: [true, \"left\", getIcon(\"form.cancel\")]\n\t\t\t\t\t\t}, jgrid.del || {})\n\t\t\t\t\t},\n\t\t\t\t\tpin || {}),\n\t\t\t\tgetRes = function (path) {\n\t\t\t\t\treturn getGridRes.call($self0, path);\n\t\t\t\t},\n\t\t\t\tgetDef = function (path) {\n\t\t\t\t\tvar gridParam = jgrid.getRes(p, path);\n\t\t\t\t\treturn gridParam !== undefined ? gridParam : getGridRes.call($self0, \"defaults.\" + path);\n\t\t\t\t};\n\t\t\t// set dynamic options\n\t\t\tp.recordpos = p.recordpos || (p.direction === \"rtl\" ? \"left\" : \"right\");\n\t\t\tp.autoResizing.widthOfVisiblePartOfSortIcon =\n\t\t\t\tp.autoResizing.widthOfVisiblePartOfSortIcon !== undefined ?\n\t\t\t\t\tp.autoResizing.widthOfVisiblePartOfSortIcon :\n\t\t\t\t\t(p.iconSet === \"fontAwesome\" ? 13 : 12);\n\t\t\t//p.showOneSortIcon = p.showOneSortIcon !== undefined ? p.showOneSortIcon :\n\t\t\t//    (p.iconSet === \"fontAwesome\" ? true : false);\n\t\t\tp.datatype = p.datatype !== undefined ? p.datatype : // datatype parameter are specified - use it\n\t\t\t\tlocalData !== undefined || p.url == null ? \"local\" : // data parameter specified or no url are specified\n\t\t\t\t\tp.jsonReader != null && typeof p.jsonReader === \"object\" ? \"json\" : \"xml\"; // if jsonReader are specified - use \"json\". In all other cases - use \"xml\"\n\t\t\tp.jsonReader = p.jsonReader || {};\n\t\t\tp.url = p.url || \"\";\n\t\t\tp.cellsubmit = p.cellsubmit !== undefined ? p.cellsubmit :\n\t\t\t\tp.cellurl === undefined ? \"clientArray\" : \"remote\";\n\t\t\tp.gridview = p.gridview !== undefined ? p.gridview : (p.afterInsertRow == null);\n\n\t\t\tif (localData !== undefined) {\n\t\t\t\tp.data = localData;\n\t\t\t\tpin.data = localData;\n\t\t\t}\n\t\t\tif (localDataStr !== undefined) {\n\t\t\t\tp.datastr = localDataStr;\n\t\t\t\tpin.datastr = localDataStr;\n\t\t\t}\n\t\t\tif (ts.tagName.toUpperCase() !== \"TABLE\") {\n\t\t\t\tfatalErrorFunction(\"Element is not a table!\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (ts.id === \"\") {\n\t\t\t\t$self0.attr(\"id\", randId());\n\t\t\t}\n\t\t\tif (document.documentMode !== undefined) { // IE only\n\t\t\t\tif (document.documentMode <= 5) {\n\t\t\t\t\tfatalErrorFunction(\"Grid can not be used in this ('quirks') mode!\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\t$self0.empty().attr(\"tabindex\", \"0\");\n\t\t\tts.p = p;\n\t\t\tp.id = ts.id;\n\t\t\tp.idSel = \"#\" + jqID(ts.id);\n\t\t\tp.gBoxId = getGridComponentId.call(ts, COMPONENT_NAMES.GRID_BOX_DIV);   // gbox id like \"gbox_list\" or \"gbox_my.list\"\n\t\t\tp.gBox = getGridComponentIdSelector.call(ts, COMPONENT_NAMES.GRID_BOX_DIV);   // gbox selector like \"#gbox_list\" or \"#gbox_my\\\\.list\"\n\t\t\tp.gViewId = getGridComponentId.call(ts, COMPONENT_NAMES.GRID_VIEW_DIV); // gview id like \"gview_list\" or \"gview_my.list\"\n\t\t\tp.gView = getGridComponentIdSelector.call(ts, COMPONENT_NAMES.GRID_VIEW_DIV); // gview selector like \"#gview_list\" or \"#gview_my\\\\.list\"\n\t\t\tp.rsId = getGridComponentId.call(ts, COMPONENT_NAMES.COLUMN_RESIZER_DIV); // vertical div inside of gbox which will be seen on resizing of columns\n\t\t\tp.rs = getGridComponentIdSelector.call(ts, COMPONENT_NAMES.COLUMN_RESIZER_DIV); // vertical div inside of gbox which will be seen on resizing of columns\n\t\t\tp.cbId = getGridComponentId.call(ts, COMPONENT_NAMES.HEADER_SELECT_ALL_ROWS_CHECKBOX); // \"cb_\" +id\n\t\t\tp.cb = getGridComponentIdSelector.call(ts, COMPONENT_NAMES.HEADER_SELECT_ALL_ROWS_CHECKBOX); // \"cb_\" +id\n\n\t\t\tvar fixScrollOffsetAndhBoxPadding = jgrid.fixScrollOffsetAndhBoxPadding,\n\t\t\t\tbuildColNameMap = function (colModel) {\n\t\t\t\t\tvar m = {}, i, n = colModel.length;\n\t\t\t\t\tfor (i = 0; i < n; i++) {\n\t\t\t\t\t\tm[colModel[i].name] = i;\n\t\t\t\t\t}\n\t\t\t\t\treturn m;\n\t\t\t\t},\n\t\t\t\tbuildEmptyIndexedColumnMap = function () {\n\t\t\t\t\tvar m = {}, i, colModel = p.colModel, n = colModel.length, cm;\n\t\t\t\t\tfor (i = 0; i < n; i++) {\n\t\t\t\t\t\tcm = colModel[i];\n\t\t\t\t\t\tif (cm.createColumnIndex ||\n\t\t\t\t\t\t\t(p.createColumnIndex && cm.createColumnIndex !== false) ||\n\t\t\t\t\t\t\t(cm.stype === \"select\" && (cm.searchoptions || {}).generateValue) ||\n\t\t\t\t\t\t\t(cm.edittype === \"select\" && (cm.editoptions || {}).generateValue)) {\n\t\t\t\t\t\t\tm[colModel[i].name] = {};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn m;\n\t\t\t\t},\n\t\t\t\tbuildAddPropMap = function (additionalProperties) {\n\t\t\t\t\tvar m = {}, i, n = additionalProperties.length, addPropInfo;\n\t\t\t\t\tfor (i = 0; i < n; i++) {\n\t\t\t\t\t\taddPropInfo = additionalProperties[i];\n\t\t\t\t\t\tm[typeof addPropInfo === \"string\" ? addPropInfo : addPropInfo.name] = i;\n\t\t\t\t\t}\n\t\t\t\t\treturn m;\n\t\t\t\t},\n\t\t\t\trebuildRowIndexes = function () {\n\t\t\t\t\tvar rowIndexes = {}, row, i;\n\t\t\t\t\tthis.p.rowIndexes = rowIndexes;\n\t\t\t\t\tfor (i = 0; i < this.rows.length; i++) {\n\t\t\t\t\t\trow = this.rows[i];\n\t\t\t\t\t\tif ($(row).hasClass(\"jqgrow\")) {\n\t\t\t\t\t\t\trowIndexes[row.id] = row.rowIndex;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tbuildArrayReader = function () {\n\t\t\t\t\tvar i, colModel = p.colModel, cmNamesInputOrder = p.cmNamesInputOrder,\n\t\t\t\t\t\tadditionalProperties = p.additionalProperties, n = cmNamesInputOrder.length, arrayReaderInfos,\n\t\t\t\t\t\tname, index, order;\n\t\t\t\t\tp.arrayReaderInfos = {};\n\t\t\t\t\tarrayReaderInfos = p.arrayReaderInfos;\n\t\t\t\t\tfor (order = 0; order < n; order++) {\n\t\t\t\t\t\tname = cmNamesInputOrder[order];\n\t\t\t\t\t\tif (inArray(name, p.reservedColumnNames) < 0 && !arrayReaderInfos.hasOwnProperty(name)) {\n\t\t\t\t\t\t\tindex = p.iColByName[name];\n\t\t\t\t\t\t\tif (index !== undefined) {\n\t\t\t\t\t\t\t\tarrayReaderInfos[name] = { name: name, index: index, order: order, type: 0 }; // INPUT_NAME_TYPE.COL_NAME\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tindex = p.iPropByName[name];\n\t\t\t\t\t\t\t\tif (index !== undefined) {\n\t\t\t\t\t\t\t\t\tarrayReaderInfos[name] = { name: name, index: index, order: order, type: 1 };// INPUT_NAME_TYPE.ADDITIONAL_PROPERTY\n\t\t\t\t\t\t\t\t} else if (name === (p.prmNames.rowidName || \"rowid\")) {\n\t\t\t\t\t\t\t\t\tarrayReaderInfos[name] = { index: index, type: 2 };// INPUT_NAME_TYPE.ROWID\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tn = colModel.length;\n\t\t\t\t\tfor (i = 0; i < n; i++) {\n\t\t\t\t\t\tname = colModel[i].name;\n\t\t\t\t\t\tif (inArray(name, p.reservedColumnNames) < 0 && !arrayReaderInfos.hasOwnProperty(name)) {\n\t\t\t\t\t\t\tarrayReaderInfos[name] = { name: name, index: i, order: order, type: 0 };// INPUT_NAME_TYPE.COL_NAME\n\t\t\t\t\t\t\torder++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tn = additionalProperties.length;\n\t\t\t\t\tfor (i = 0; i < n; i++) {\n\t\t\t\t\t\tname = additionalProperties[i];\n\t\t\t\t\t\tif (name != null && !arrayReaderInfos.hasOwnProperty(name)) {\n\t\t\t\t\t\t\tif (typeof name === \"object\" && $.type(name.name) === \"string\") {\n\t\t\t\t\t\t\t\tname = name.name;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tarrayReaderInfos[name] = { name: name, index: i, order: order, type: 1 };\n\t\t\t\t\t\t\torder++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tmyResizerClickHandler = function (e) {\n\t\t\t\t\tvar pageX = $(this).data(\"pageX\");\n\t\t\t\t\tif (pageX) {\n\t\t\t\t\t\tpageX = String(pageX).split(\";\");\n\t\t\t\t\t\tpageX = pageX[pageX.length - 1];\n\t\t\t\t\t\t$(this).data(\"pageX\", pageX + \";\" + e.pageX);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(this).data(\"pageX\", e.pageX);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tintNum = function (val, defval) {\n\t\t\t\t\tval = parseInt(val, 10);\n\t\t\t\t\tif (isNaN(val)) { return defval || 0; }\n\t\t\t\t\treturn val;\n\t\t\t\t},\n\t\t\t\tgrid = {\n\t\t\t\t\theaders: [],\n\t\t\t\t\tcols: [],\n\t\t\t\t\tfooters: [],\n\t\t\t\t\t// Some properties will be created dynamically on demand\n\t\t\t\t\t// cDiv\n\t\t\t\t\t// uDiv\n\t\t\t\t\t// topDiv\n\t\t\t\t\t// hDiv\n\t\t\t\t\t// bDiv\n\t\t\t\t\t// sDiv\n\t\t\t\t\t// ubDiv\n\t\t\t\t\t// fhDiv\n\t\t\t\t\t// fbDiv\n\t\t\t\t\t// fsDiv\n\t\t\t\t\t// width\n\t\t\t\t\t// newWidth\n\t\t\t\t\t// resizing\n\t\t\t\t\t// scrollTop\n\t\t\t\t\t// timer\n\t\t\t\t\t// prevRowHeight\n\t\t\t\t\tdragStart: function (i, x, y, $th) {\n\t\t\t\t\t\tvar self = this, $bDiv = $(self.bDiv), gridOffset = $bDiv.closest(p.gBox).offset(),\n\t\t\t\t\t\t\t// it's better to use exact position of the border on the right of the current header\n\t\t\t\t\t\t\tstartX = $th.offset().left + (p.direction === \"rtl\" ? 0 : self.headers[i].width + (jgrid.cell_width ? 0 : intNum(p.cellLayout, 0)) - 2);\n\t\t\t\t\t\tself.resizing = { idx: i, startX: startX, sOL: startX, moved: false, delta: startX - x.pageX };\n\t\t\t\t\t\tself.curGbox = $(p.rs);\n\t\t\t\t\t\tself.curGbox.prependTo(\"body\"); // change the parent to be able to move over the ranges of the gBox\n\t\t\t\t\t\tself.curGbox.css({ display: \"block\", left: startX, top: y[1] + gridOffset.top + 1, height: y[2] });\n\t\t\t\t\t\tself.curGbox.css(\"height\", (y[2] - (self.curGbox.outerHeight() - self.curGbox.height())) + \"px\");\n\t\t\t\t\t\tself.curGbox.data(\"idx\", i);\n\t\t\t\t\t\tself.curGbox.data(\"delta\", startX - x.pageX);\n\t\t\t\t\t\tmyResizerClickHandler.call(this.curGbox, x);\n\t\t\t\t\t\tfeedback.call(getGridComponent(COMPONENT_NAMES.BODY_TABLE, $bDiv)[0], \"resizeStart\", x, i);\n\t\t\t\t\t\tdocument.onselectstart = function () { return false; };\n\t\t\t\t\t\t$(document)\n\t\t\t\t\t\t\t.on(\"mousemove.jqGrid\", function (e) {\n\t\t\t\t\t\t\t\tif (grid.resizing) {\n\t\t\t\t\t\t\t\t\tgrid.dragMove(e);\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.on(\"mouseup.jqGrid\" + p.id, function () {\n\t\t\t\t\t\t\t\tif (grid.resizing) {\n\t\t\t\t\t\t\t\t\tgrid.dragEnd();\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tdragMove: function (x) {\n\t\t\t\t\t\tvar self = this, resizing = self.resizing;\n\t\t\t\t\t\tif (resizing) {\n\t\t\t\t\t\t\tvar diff = x.pageX + resizing.delta - resizing.startX, headers = self.headers, h = headers[resizing.idx],\n\t\t\t\t\t\t\t\tnewWidth = p.direction === \"ltr\" ? h.width + diff : h.width - diff, hn, nWn,\n\t\t\t\t\t\t\t\tminResizingWidth = ((p.colModel[resizing.idx] || {}).autoResizing || {}).minColWidth || p.minResizingWidth;\n\t\t\t\t\t\t\tresizing.moved = true;\n\t\t\t\t\t\t\tif (newWidth > minResizingWidth) {\n\t\t\t\t\t\t\t\tif (self.curGbox == null) {\n\t\t\t\t\t\t\t\t\tself.curGbox = $(p.rs);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tself.curGbox.css({ left: resizing.sOL + diff });\n\t\t\t\t\t\t\t\tif (p.forceFit === true) {\n\t\t\t\t\t\t\t\t\thn = headers[resizing.idx + p.nv];\n\t\t\t\t\t\t\t\t\tnWn = p.direction === \"ltr\" ? hn.width - diff : hn.width + diff;\n\t\t\t\t\t\t\t\t\tif (nWn > p.autoResizing.minColWidth) {\n\t\t\t\t\t\t\t\t\t\th.newWidth = newWidth;\n\t\t\t\t\t\t\t\t\t\thn.newWidth = nWn;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tself.newWidth = p.direction === \"ltr\" ? p.tblwidth + diff : p.tblwidth - diff;\n\t\t\t\t\t\t\t\t\th.newWidth = newWidth;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tresizeColumn: function (idx, skipCallbacks, skipGridAdjustments) {\n\t\t\t\t\t\tvar self = this, headers = self.headers, footers = self.footers, h = headers[idx], hn, nw = h.newWidth || h.width,\n\t\t\t\t\t\t\t$bTable = getGridComponent(COMPONENT_NAMES.BODY_TABLE, self.bDiv), $hTable = getGridComponent(COMPONENT_NAMES.HEADER_TABLE, self.hDiv),\n\t\t\t\t\t\t\thCols = $hTable.children(\"thead\").children(\"tr\").first()[0].cells;\n\t\t\t\t\t\tnw = parseInt(nw, 10);\n\t\t\t\t\t\tp.colModel[idx].width = nw;\n\t\t\t\t\t\th.width = nw;\n\t\t\t\t\t\thCols[idx].style.width = nw + \"px\";\n\t\t\t\t\t\tself.cols[idx].style.width = nw + \"px\";\n\t\t\t\t\t\tif (self.fbRows) {\n\t\t\t\t\t\t\t$(self.fbRows[0].cells[idx]).css(\"width\", nw);\n\t\t\t\t\t\t\t$(getGridComponent(COMPONENT_NAMES.FROZEN_HEADER_TABLE, self.fhDiv)[0].rows[0].cells[idx]).css(\"width\", nw);\n\t\t\t\t\t\t\tif (p.footerrow) {\n\t\t\t\t\t\t\t\t$(getGridComponent(COMPONENT_NAMES.FROZEN_FOOTER_TABLE, self.fsDiv)[0].rows[0].cells[idx]).css(\"width\", nw);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (footers.length > 0) { footers[idx].style.width = nw + \"px\"; }\n\t\t\t\t\t\tif (skipGridAdjustments !== true) {\n\t\t\t\t\t\t\tfixScrollOffsetAndhBoxPadding.call($bTable[0]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (p.forceFit === true) {\n\t\t\t\t\t\t\thn = headers[idx + p.nv]; // next visible th\n\t\t\t\t\t\t\tnw = hn.newWidth || hn.width;\n\t\t\t\t\t\t\thn.width = nw;\n\t\t\t\t\t\t\thCols[idx + p.nv].style.width = nw + \"px\";\n\t\t\t\t\t\t\tself.cols[idx + p.nv].style.width = nw + \"px\";\n\t\t\t\t\t\t\tif (footers.length > 0) { footers[idx + p.nv].style.width = nw + \"px\"; }\n\t\t\t\t\t\t\tp.colModel[idx + p.nv].width = nw;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tp.tblwidth = self.newWidth || p.tblwidth;\n\t\t\t\t\t\t\t//$bTable.css(\"width\", p.tblwidth + \"px\");\n\t\t\t\t\t\t\t//getGridComponent(COMPONENT_NAMES.HEADER_TABLE, self.hDiv).css(\"width\", p.tblwidth + \"px\");\n\t\t\t\t\t\t\tif (skipGridAdjustments !== true) {\n\t\t\t\t\t\t\t\tself.hDiv.scrollLeft = self.bDiv.scrollLeft;\n\t\t\t\t\t\t\t\tif (p.footerrow) {\n\t\t\t\t\t\t\t\t\t//getGridComponent(COMPONENT_NAMES.FOOTER_TABLE, self.sDiv).css(\"width\", p.tblwidth + \"px\");\n\t\t\t\t\t\t\t\t\tself.sDiv.scrollLeft = self.bDiv.scrollLeft;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!p.autowidth && (p.widthOrg === undefined || p.widthOrg === \"auto\" || p.widthOrg === \"100%\") && skipGridAdjustments !== true) {\n\t\t\t\t\t\t\t$j.setGridWidth.call($bTable, self.newWidth + p.scrollOffset, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!skipCallbacks) {\n\t\t\t\t\t\t\tfeedback.call($bTable[0], \"resizeStop\", nw, idx);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tdragEnd: function () {\n\t\t\t\t\t\tvar self = this;\n\t\t\t\t\t\tself.hDiv.style.cursor = \"default\";\n\t\t\t\t\t\tif (self.resizing) {\n\t\t\t\t\t\t\tif (self.resizing !== null && self.resizing.moved === true) {\n\t\t\t\t\t\t\t\t$(self.headers[self.resizing.idx].el).removeData(\"autoResized\");\n\t\t\t\t\t\t\t\tself.resizeColumn(self.resizing.idx, false);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t$(p.rs).removeData(\"pageX\");\n\t\t\t\t\t\t\tself.resizing = false;\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\t$(p.rs).css(\"display\", \"none\")\n\t\t\t\t\t\t\t\t\t.prependTo(p.gBox); // restore the parent\n\t\t\t\t\t\t\t}, p.doubleClickSensitivity);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself.curGbox = null;\n\t\t\t\t\t\tdocument.onselectstart = function () { return true; };\n\t\t\t\t\t\t$(document).off(\"mousemove.jqGrid mouseup.jqGrid\" + p.id);\n\t\t\t\t\t},\n\t\t\t\t\tpopulateVisible: function () {\n\t\t\t\t\t\tvar self = this, $self = $(self), gridSelf = self.grid, bDiv = gridSelf.bDiv, $bDiv = $(bDiv);\n\t\t\t\t\t\tif (gridSelf.timer) { clearTimeout(gridSelf.timer); }\n\t\t\t\t\t\tgridSelf.timer = null;\n\t\t\t\t\t\tvar dh = $bDiv.height();\n\t\t\t\t\t\tif (!dh) { return; }\n\t\t\t\t\t\tvar firstDataRow, rh;\n\t\t\t\t\t\tif (self.rows.length) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tfirstDataRow = self.rows[1]; // self.rows[0] is cols row (the first row (.jqgfirstrow)) used only to set column width\n\t\t\t\t\t\t\t\trh = firstDataRow ? $(firstDataRow).outerHeight() || gridSelf.prevRowHeight : gridSelf.prevRowHeight;\n\t\t\t\t\t\t\t} catch (pv) {\n\t\t\t\t\t\t\t\trh = gridSelf.prevRowHeight;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!rh) { return; }\n\t\t\t\t\t\tgridSelf.prevRowHeight = rh;\n\t\t\t\t\t\tvar rn = p.rowNum;\n\t\t\t\t\t\tgridSelf.scrollTop = bDiv.scrollTop;\n\t\t\t\t\t\tvar scrollTop = gridSelf.scrollTop;\n\t\t\t\t\t\tvar ttop = Math.round($self.position().top) - scrollTop;\n\t\t\t\t\t\tvar tbot = ttop + $self.height();\n\t\t\t\t\t\tvar div = rh * rn;\n\t\t\t\t\t\tvar page, npage, empty;\n\t\t\t\t\t\tif (tbot < dh && ttop <= 0 &&\n\t\t\t\t\t\t\t(p.lastpage === undefined || (parseInt((tbot + scrollTop + div - 1) / div, 10) || 0) <= p.lastpage)) {\n\t\t\t\t\t\t\tnpage = parseInt((dh - tbot + div - 1) / div, 10) || 1;\n\t\t\t\t\t\t\tif (tbot >= 0 || npage < 2 || p.scroll === true) {\n\t\t\t\t\t\t\t\tpage = (Math.round((tbot + scrollTop) / div) || 0) + 1;\n\t\t\t\t\t\t\t\tttop = -1;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tttop = 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (ttop > 0) {\n\t\t\t\t\t\t\tpage = (parseInt(scrollTop / div, 10) || 0) + 1;\n\t\t\t\t\t\t\tnpage = (parseInt((scrollTop + dh) / div, 10) || 0) + 2 - page;\n\t\t\t\t\t\t\tempty = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (npage) {\n\t\t\t\t\t\t\tif (p.lastpage && (page > p.lastpage || p.lastpage === 1 || (page === p.page && page === p.lastpage))) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (gridSelf.hDiv.loading) {\n\t\t\t\t\t\t\t\tgridSelf.timer = setTimeout(function () { gridSelf.populateVisible.call(self); }, p.scrollTimeout);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tp.page = page;\n\t\t\t\t\t\t\t\tif (empty) {\n\t\t\t\t\t\t\t\t\tgridSelf.selectionPreserver.call(self);\n\t\t\t\t\t\t\t\t\tgridSelf.emptyRows.call(self, false, false);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tgridSelf.populate.call(self, npage);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tscrollGrid: function () { // this must be bDiv\n\t\t\t\t\t\tif (p.scroll) {\n\t\t\t\t\t\t\tvar scrollTop = this.scrollTop;\n\t\t\t\t\t\t\t// save last scrollTop of bDiv as property of grid object\n\t\t\t\t\t\t\tif (grid.scrollTop === undefined) { grid.scrollTop = 0; }\n\t\t\t\t\t\t\tif (scrollTop !== grid.scrollTop) {\n\t\t\t\t\t\t\t\tgrid.scrollTop = scrollTop;\n\t\t\t\t\t\t\t\tif (grid.timer) { clearTimeout(grid.timer); }\n\t\t\t\t\t\t\t\tgrid.timer = setTimeout(function () { grid.populateVisible.call(ts); }, p.scrollTimeout);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tgrid.hDiv.scrollLeft = this.scrollLeft;\n\t\t\t\t\t\tif (p.footerrow) {\n\t\t\t\t\t\t\tgrid.sDiv.scrollLeft = this.scrollLeft;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t},\n\t\t\t\t\tselectionPreserver: function () {\n\t\t\t\t\t\tvar self = this, $self = $(self), sr = p.selrow, sra = p.selarrrow ? $.makeArray(p.selarrrow) : null,\n\t\t\t\t\t\t\tbDiv = self.grid.bDiv, left = bDiv.scrollLeft,\n\t\t\t\t\t\t\trestoreSelection = function () {\n\t\t\t\t\t\t\t\tvar i;\n\t\t\t\t\t\t\t\tp.selrow = null;\n\t\t\t\t\t\t\t\tif (!p.multiPageSelection) {\n\t\t\t\t\t\t\t\t\tclearArray(p.selarrrow); // p.selarrrow = [];\n\t\t\t\t\t\t\t\t\tif (p.multiselect && sra && sra.length > 0) {\n\t\t\t\t\t\t\t\t\t\tfor (i = 0; i < sra.length; i++) {\n\t\t\t\t\t\t\t\t\t\t\tif (sra[i] !== sr) {\n\t\t\t\t\t\t\t\t\t\t\t\tsetSelection.call($self, sra[i], false, null);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (sr) {\n\t\t\t\t\t\t\t\t\t\tsetSelection.call($self, sr, false, null);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbDiv.scrollLeft = left;\n\t\t\t\t\t\t\t\t$self.off(\".selectionPreserver\", restoreSelection);\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t$self.on(\"jqGridGridComplete.selectionPreserver\", restoreSelection);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\tts.grid = grid;\n\t\t\tfeedback.call(ts, \"beforeInitGrid\");\n\t\t\tp.iColByName = buildColNameMap(p.colModel);\n\t\t\tp.iPropByName = buildAddPropMap(p.additionalProperties);\n\n\t\t\t// TODO: replace altclass : \"ui-priority-secondary\",\n\t\t\t// set default buttonicon : \"ui-icon-newwin\" of navButtonAdd: fa-external-link, fa-desktop or other\n\t\t\t// change the order in $.extend to allows to set icons using $.jgrid (for example $.jgrid.nav). It will be ovewritten currently by p.navOptions which we set above.\n\t\t\tjgrid.msie = jgrid.msiever() > 0;\n\t\t\tvar gv = $(\"<div class='\" + getGuiStyles(\"gView\", \"ui-jqgrid-view\") + \"' role='grid' aria-multiselectable='\" + !!p.multiselect + \"'></div>\"),\n\t\t\t\tisMSIE = jgrid.msie, dir;\n\t\t\tp.direction = trim(p.direction.toLowerCase());\n\t\t\tif (inArray(p.direction, [\"ltr\", \"rtl\"]) === -1) { p.direction = \"ltr\"; }\n\t\t\tdir = p.direction;\n\n\t\t\t$(gv).insertBefore(ts);\n\t\t\t$self0.removeClass(\"scroll\").appendTo(gv);\n\t\t\tvar eg = $(\"<div class='\" + getGuiStyles(\"gBox\", \"ui-jqgrid\") + \"'></div>\");\n\t\t\t$(eg).attr({ \"id\": p.gBoxId, \"dir\": dir }).insertBefore(gv);\n\t\t\t$(gv).attr(\"id\", p.gViewId).appendTo(eg);\n\t\t\t$(\"<div class='\" + getGuiStyles(\"overlay\", \"jqgrid-overlay\") + \"' id='lui_\" + p.id + \"'></div>\").insertBefore(gv);\n\t\t\t$(\"<div class='\" + getGuiStyles(\"loading\", \"loading\") + \"' id='load_\" + p.id + \"'>\" + getDef(\"loadtext\") + \"</div>\").insertBefore(gv);\n\t\t\t$self0.attr({ \"role\": \"presentation\", \"aria-labelledby\": \"gbox_\" + ts.id });\n\t\t\tvar sortkeys = [\"shiftKey\", \"altKey\", \"ctrlKey\"],\n\t\t\t\t// for reading of array of items from the input data it's required to know the\n\t\t\t\t// mapping of input items to the column names (colModel[iCol].name items).\n\t\t\t\t// The function normalizeRemapColumns converts p.remapColumns to p.cmNamesInputOrder and fills\n\t\t\t\t// p.cmNamesInputOrder with the names colModel items.\n\t\t\t\t// The function should be called only if no p.cmNamesInputOrder is specified\n\t\t\t\tnormalizeRemapColumns = function () {\n\t\t\t\t\t// offset is the number of columns in colModel which should be skipped in calculation of the mapping\n\t\t\t\t\t// offset is the number of columns from the list \"rn\", \"cb\", \"subgrid\".\n\t\t\t\t\t// The index 0 in the p.remapColumns means the first column after the \"rn\", \"cb\", \"subgrid\"\n\t\t\t\t\tvar remapColumns = p.remapColumns, colModel = p.colModel, nCol = colModel.length, cmNames = [], i, remappedCmNames,\n\t\t\t\t\t\tname;\n\t\t\t\t\tfor (i = 0; i < nCol; i++) {\n\t\t\t\t\t\tname = colModel[i].name;\n\t\t\t\t\t\tif (inArray(name, p.reservedColumnNames) < 0) {\n\t\t\t\t\t\t\tcmNames.push(name);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// it's important to remark that the numbers in remapColumns or in\n\t\t\t\t\t// jsonReder, localReader, xmlReader are based on the position of column\n\t\t\t\t\t// in colModel BEFORE adding columns \"rn\", \"cb\", \"subgrid\"\n\t\t\t\t\tif (remapColumns != null) {\n\t\t\t\t\t\t// now we should remap items in cmNames corresponds to the indexes from p.remapColumns array\n\t\t\t\t\t\tremappedCmNames = cmNames.slice(); // make copy of cmNames array\n\t\t\t\t\t\tfor (i = 0; i < remapColumns.length; i++) {\n\t\t\t\t\t\t\tcmNames[i] = remappedCmNames[remapColumns[i]];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tp.cmNamesInputOrder = cmNames;\n\t\t\t\t},\n\t\t\t\tstripGridPrefix = function (rowId) {\n\t\t\t\t\treturn stripPref(p.idPrefix, rowId);\n\t\t\t\t},\n\t\t\t\tformatCol = function (pos, rowInd, tv, rawObject, rowId, rdata) {\n\t\t\t\t\tvar cm = p.colModel[pos], cellAttrFunc,\n\t\t\t\t\t\trPrefix = cm.autoResizable ? \"<span class='\" + p.autoResizing.wrapperClassName + \"'>\" : \"\",\n\t\t\t\t\t\t// see https://github.com/free-jqgrid/jqGrid/issues/74#issuecomment-107675796\n\t\t\t\t\t\t// we will cut formatted string like \"<span class='ui-jqgrid-cell-wrapper'>193,81</span>\"\n\t\t\t\t\t\t// to substring \"193,81\". The formatting (comma, point, dollar and so on) still stay.\n\t\t\t\t\t\tunwrappedCellValue = cm.autoResizable ? tv.substring(rPrefix.length, tv.length - \"</span>\".length) : tv,\n\t\t\t\t\t\tcellValue = p.useUnformattedDataForCellAttr && rdata != null ?\n\t\t\t\t\t\t\trdata[cm.name] :\n\t\t\t\t\t\t\t(cm.autoResizable ? unwrappedCellValue : tv),\n\t\t\t\t\t\tresult, classes = cm.classes,\n\t\t\t\t\t\tstyleValue = cm.align ? \"text-align:\" + cm.align + \";\" : \"\",\n\t\t\t\t\t\tattrStr, matches, value, tilteValue,\n\t\t\t\t\t\tencodeAttr = function (v) {\n\t\t\t\t\t\t\treturn typeof v === \"string\" ? v.replace(/'/g, \"&#39;\") : v;\n\t\t\t\t\t\t},\n\t\t\t\t\t\trest = \" aria-describedby='\" + p.id + \"_\" + cm.name + \"'\";\n\t\t\t\t\tif (cm.hidden === true) { styleValue += \"display:none;\"; }\n\t\t\t\t\tif (rowInd === 0) {\n\t\t\t\t\t\tstyleValue += \"width: \" + grid.headers[pos].width + \"px;\";\n\t\t\t\t\t} else if (isFunction(cm.cellattr) || (typeof cm.cellattr === \"string\" && jgrid.cellattr != null && isFunction(jgrid.cellattr[cm.cellattr]))) {\n\t\t\t\t\t\tcellAttrFunc = isFunction(cm.cellattr) ? cm.cellattr : jgrid.cellattr[cm.cellattr];\n\t\t\t\t\t\tattrStr = cellAttrFunc.call(ts, rowId, cellValue, rawObject, cm, rdata, unwrappedCellValue);\n\t\t\t\t\t\tif (typeof attrStr === \"string\") {\n\t\t\t\t\t\t\t// ??? probably one can create object with properties from the attrStr\n\t\t\t\t\t\t\t// and then to use one common function with constructTr to combine the default\n\t\t\t\t\t\t\t// properties with the properties used in cellattr and rowattr.\n\t\t\t\t\t\t\t// Probably one could use $.extend with the most attributes. The exception are\n\t\t\t\t\t\t\t// only class and style attributes which hold multi-values with \" \" or \";\" as separator\n\t\t\t\t\t\t\tattrStr = attrStr.replace(/\\n/g, \"&#xA;\");\n\t\t\t\t\t\t\twhile (true) {\n\t\t\t\t\t\t\t\t// we have to use ? in the construction ([^\\2]*?) to have non-greedy (lazy, minimal) matching\n\t\t\t\t\t\t\t\t// so that we will find the FIRST closing quote instead of default the LAST matching.\n\n\t\t\t\t\t\t\t\t// TODO: more common regex for the attribute name.\n\t\t\t\t\t\t\t\t// See http://www.w3.org/TR/html-markup/syntax.html#syntax-attributes:\n\t\t\t\t\t\t\t\t//    Attribute names must consist of one or more characters other than the space\n\t\t\t\t\t\t\t\t//    characters, U+0000 NULL, \"\"\", \"'\", \">\", \"/\", \"=\", the control characters,\n\t\t\t\t\t\t\t\t//    and any characters that are not defined by Unicode.\n\t\t\t\t\t\t\t\t// An important example is attribute name with \"-\" in the middle: \"data-sometext\"\n\t\t\t\t\t\t\t\tmatches = /^\\s*(\\w+[\\w|\\-]*)\\s*=\\s*([\\\"|\\'])(.*?)\\2(.*)/.exec(attrStr);\n\t\t\t\t\t\t\t\tif (matches === null || matches.length < 5) {\n\t\t\t\t\t\t\t\t\tif (!tilteValue && cm.title) {\n\t\t\t\t\t\t\t\t\t\ttilteValue = cellValue;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn rest + \" style='\" + encodeAttr(styleValue) + \"'\" +\n\t\t\t\t\t\t\t\t\t\t(classes ? \" class='\" + encodeAttr(classes) + \"'\" : \"\") +\n\t\t\t\t\t\t\t\t\t\t(tilteValue ? \" title='\" + encodeAttr(tilteValue) + \"'\" : \"\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvalue = matches[3];\n\t\t\t\t\t\t\t\tattrStr = matches[4];\n\t\t\t\t\t\t\t\tswitch (matches[1].toLowerCase()) { // attribute name\n\t\t\t\t\t\t\t\t\tcase \"class\":\n\t\t\t\t\t\t\t\t\t\t// if some special characters are inside of class value there MUST be escaped\n\t\t\t\t\t\t\t\t\t\t// so we can use any quote characters (' or \") around the call value.\n\t\t\t\t\t\t\t\t\t\t// So we don't need to save quote used in class attribute\n\t\t\t\t\t\t\t\t\t\tif (classes) {\n\t\t\t\t\t\t\t\t\t\t\tclasses += \" \" + value;\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tclasses = value;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase \"title\":\n\t\t\t\t\t\t\t\t\t\t//quotedTilteValue = quote + value + quote;\n\t\t\t\t\t\t\t\t\t\ttilteValue = value;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase \"style\":\n\t\t\t\t\t\t\t\t\t\tstyleValue += value;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\t// matches[2] is quote\n\t\t\t\t\t\t\t\t\t\trest += \" \" + matches[1] + \"=\" + matches[2] + value + matches[2];\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tresult = styleValue !== \"\" ? \"style='\" + styleValue + \"'\" : \"\";\n\t\t\t\t\tresult += (classes !== undefined ? (\" class='\" + classes + \"'\") : \"\") + ((cm.title && cellValue) ? (\" title='\" + stripHtml(tv).replace(/'/g, \"&apos;\") + \"'\") : \"\");\n\t\t\t\t\tresult += rest;\n\t\t\t\t\treturn result;\n\t\t\t\t},\n\t\t\t\tcellVal = function (val) {\n\t\t\t\t\treturn val == null || val === \"\" ? \"&#160;\" : (p.autoencode ? htmlEncode(val) : String(val));\n\t\t\t\t},\n\t\t\t\tnormalizeTreeGridProperties = function (ldat) {\n\t\t\t\t\tvar treeReader = p.treeReader,\n\t\t\t\t\t\tloaded = treeReader.loaded,\n\t\t\t\t\t\tisLeaf = treeReader.leaf_field,\n\t\t\t\t\t\texpanded = treeReader.expanded_field,\n\t\t\t\t\t\tgetBool = function (val) {\n\t\t\t\t\t\t\treturn val === true || val === \"true\" || val === \"1\";\n\t\t\t\t\t\t};\n\t\t\t\t\tif (p.treeGridModel === \"nested\" && !ldat[isLeaf]) {\n\t\t\t\t\t\tvar lft = parseInt(ldat[treeReader.left_field], 10),\n\t\t\t\t\t\t\trgt = parseInt(ldat[treeReader.right_field], 10);\n\t\t\t\t\t\tldat[isLeaf] = (rgt === lft + 1) ? true : false;\n\t\t\t\t\t}\n\t\t\t\t\tif (ldat[loaded] !== undefined) {\n\t\t\t\t\t\tldat[loaded] = getBool(ldat[loaded]);\n\t\t\t\t\t}\n\t\t\t\t\tldat[isLeaf] = getBool(ldat[isLeaf]);\n\t\t\t\t\tldat[expanded] = getBool(ldat[expanded]);\n\t\t\t\t\t// the next line is suspected. The local data which missing loaded property\n\t\t\t\t\t// can be be changed to have expanded=false\n\t\t\t\t\t// we comment it.\n\t\t\t\t\t//ldat[expanded] = ldat[expanded] && (ldat[loaded] || ldat[loaded] === undefined);\n\t\t\t\t},\n\t\t\t\tformatter = function (rowId, cellval, colpos, rwdat, act, rdata) {\n\t\t\t\t\tvar cm = p.colModel[colpos], v;\n\t\t\t\t\tif (cm.formatter !== undefined) {\n\t\t\t\t\t\trowId = String(p.idPrefix) !== \"\" ? stripGridPrefix(rowId) : rowId;\n\t\t\t\t\t\tvar opts = { rowId: rowId, colModel: cm, gid: p.id, pos: colpos, rowData: rdata || rwdat };\n\t\t\t\t\t\tif (isFunction(cm.cellBuilder)) {\n\t\t\t\t\t\t\tv = cm.cellBuilder.call(ts, cellval, opts, rwdat, act);\n\t\t\t\t\t\t} else if (isFunction(cm.formatter)) {\n\t\t\t\t\t\t\tv = cm.formatter.call(ts, cellval, opts, rwdat, act);\n\t\t\t\t\t\t} else if ($.fmatter) {\n\t\t\t\t\t\t\tv = $.fn.fmatter.call(ts, cm.formatter, cellval, opts, rwdat, act);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tv = cellVal(cellval);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tv = cellVal(cellval);\n\t\t\t\t\t}\n\t\t\t\t\tv = cm.autoResizable && cm.formatter !== \"actions\" ? \"<span class='\" + p.autoResizing.wrapperClassName + \"'>\" + v + \"</span>\" : v;\n\t\t\t\t\tif (p.treeGrid && act !== \"edit\" && ((p.ExpandColumn == null && colpos === 0) || (p.ExpandColumn === cm.name))) {\n\t\t\t\t\t\tif (rdata == null) { rdata = p.data[p._index[rowId]]; }\n\t\t\t\t\t\tvar curLevel = parseInt(rdata[p.treeReader.level_field] || 0, 10), levelOffset = 18,\n\t\t\t\t\t\t\trootLevel = parseInt(p.tree_root_level, 10),\n\t\t\t\t\t\t\tlftpos = rootLevel === 0 ? curLevel : curLevel - 1,\n\t\t\t\t\t\t\tisLeaf = rdata[p.treeReader.leaf_field],\n\t\t\t\t\t\t\tisExpanded = rdata[p.treeReader.expanded_field],\n\t\t\t\t\t\t\ticon = rdata[p.treeReader.icon_field],\n\t\t\t\t\t\t\ticonClass = isLeaf ?\n\t\t\t\t\t\t\t\t((icon != null && icon !== \"\") ? icon : p.treeIcons.leaf) + \" tree-leaf\" :\n\t\t\t\t\t\t\t\t(isExpanded ? p.treeIcons.minus + \" tree-minus\" : p.treeIcons.plus + \" tree-plus\");\n\t\t\t\t\t\t//normalizeTreeGridProperties(rdata); // ??? don't needed more probably\n\t\t\t\t\t\tif (!isLeaf && icon && typeof icon === \"string\") {\n\t\t\t\t\t\t\tvar icons = icon.split(\",\");\n\t\t\t\t\t\t\tif (icons.length === 2) {\n\t\t\t\t\t\t\t\ticonClass = isExpanded ? icons[0] : icons [1];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tv = \"<div class='tree-wrap' style='width:\" + ((lftpos + 1) * levelOffset) +\n\t\t\t\t\t\t\t\"px;'><div class='\" +\n\t\t\t\t\t\t\tmergeCssClasses(p.treeIcons.commonIconClass, iconClass, \"treeclick\") +\n\t\t\t\t\t\t\t\"' style='\" +\n\t\t\t\t\t\t\t(p.ExpandColClick === true ? \"cursor:pointer;\" : \"\") +\n\t\t\t\t\t\t\t(p.direction === \"rtl\" ? \"margin-right:\" : \"margin-left:\") +\n\t\t\t\t\t\t\t(lftpos * levelOffset) + \"px;'></div></div>\" +\n\t\t\t\t\t\t\t\"<span class='cell-wrapper\" + (isLeaf ? \"leaf\" : \"\") + \"'\" +\n\t\t\t\t\t\t\t(p.ExpandColClick ? \" style='cursor:pointer;'\" : \"\") + \">\" +\n\t\t\t\t\t\t\tv + \"</span>\";\n\t\t\t\t\t}\n\t\t\t\t\treturn v;\n\t\t\t\t},\n\t\t\t\temptyRows = function (scroll, locdata) {\n\t\t\t\t\tvar self = this, bDiv = grid.bDiv,\n\t\t\t\t\t\tfrozenTable = grid.fbDiv != null ?\n\t\t\t\t\t\t\tgrid.fbDiv.children(\".ui-jqgrid-btable\")[0] : null,\n\t\t\t\t\t\tremoveRows = function (table) {\n\t\t\t\t\t\t\tif (!table) { return; }\n\t\t\t\t\t\t\tvar tableRows = table.rows, firstrow = tableRows[0];\n\t\t\t\t\t\t\tif (p.deepempty) {\n\t\t\t\t\t\t\t\tif (tableRows) { $(tableRows).slice(1).remove(); }\n\t\t\t\t\t\t\t} else if (p.quickEmpty) {\n\t\t\t\t\t\t\t\tif (p.quickEmpty === \"quickest\") {\n\t\t\t\t\t\t\t\t\ttable.replaceChild(document.createElement(\"tbody\"), table.tBodies[0]);\n\t\t\t\t\t\t\t\t\ttable.firstChild.appendChild(firstrow);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\twhile (tableRows.length > 1) { // skip deliting of the first row\n\t\t\t\t\t\t\t\t\t\ttable.deleteRow(tableRows.length - 1);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$(table.firstChild).empty().append(firstrow);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t$(self).off(\".jqGridFormatter\");\n\t\t\t\t\tremoveRows(self);\n\t\t\t\t\tremoveRows(frozenTable);\n\t\t\t\t\tif (scroll && p.scroll) {\n\t\t\t\t\t\t$(bDiv.firstChild).css({ height: \"auto\" });\n\t\t\t\t\t\t$(bDiv.firstChild.firstChild).css({ height: 0, display: \"none\" });\n\t\t\t\t\t\tif (bDiv.scrollTop !== 0) {\n\t\t\t\t\t\t\tbDiv.scrollTop = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (locdata === true && p.treeGrid) {\n\t\t\t\t\t\tclearArray(p.data); //p.data = [];\n\t\t\t\t\t\tclearArray(p.lastSelectedData); //p.lastSelectedData = [];\n\t\t\t\t\t\tp._index = {};\n\t\t\t\t\t\tp.dataIndexById = {};\n\t\t\t\t\t\tp.indexByColumnData = {};\n\t\t\t\t\t}\n\t\t\t\t\tp.rowIndexes = {};\n\t\t\t\t\tp.iRow = -1;\n\t\t\t\t\tp.iCol = -1;\n\t\t\t\t\t//$(self.grid.headers).each(function () { $(this.el).removeData(\"autoResized\"); });\n\t\t\t\t},\n\t\t\t\taddItemDataToColumnIndex = function (rd, id) {\n\t\t\t\t\tvar cmName, v;\n\t\t\t\t\tfor (cmName in p.indexByColumnData) {\n\t\t\t\t\t\tif (p.indexByColumnData.hasOwnProperty(cmName)) {\n\t\t\t\t\t\t\tv = rd[cmName];\n\t\t\t\t\t\t\tif (rd.hasOwnProperty(cmName) && v !== undefined && v !== \"\") {\n\t\t\t\t\t\t\t\t// rd[cmName] is the value, which need be saved in p.indexByColumnData[cmName]\n\t\t\t\t\t\t\t\tif (p.ignoreCase) {\n\t\t\t\t\t\t\t\t\tv = String(v).toLowerCase();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (p.indexByColumnData[cmName][v] === undefined) {\n\t\t\t\t\t\t\t\t\tp.indexByColumnData[cmName][v] = {};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tp.indexByColumnData[cmName][v][id] = rd[cmName];\n\n\t\t\t\t\t\t\t\tif (p.dataIndexById[id] === undefined) {\n\t\t\t\t\t\t\t\t\tp.dataIndexById[id] = {};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (p.dataIndexById[id][cmName] === undefined) {\n\t\t\t\t\t\t\t\t\tp.dataIndexById[id][cmName] = {};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tp.dataIndexById[id][cmName][v] = p.indexByColumnData[cmName][v];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tremoveItemDataFromColumnIndex = function (id) {\n\t\t\t\t\tvar cmName, columnIndex, v, index = p.dataIndexById[id];\n\t\t\t\t\tif (index == null) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tfor (cmName in index) {\n\t\t\t\t\t\tif (index.hasOwnProperty(cmName)) {\n\t\t\t\t\t\t\tcolumnIndex = index[cmName];\n\t\t\t\t\t\t\tfor (v in columnIndex) {\n\t\t\t\t\t\t\t\tif (columnIndex.hasOwnProperty(v)) {\n\t\t\t\t\t\t\t\t\tdelete p.indexByColumnData[cmName][v][id];\n\t\t\t\t\t\t\t\t\tif ($.isEmptyObject(p.indexByColumnData[cmName][v])) {\n\t\t\t\t\t\t\t\t\t\tdelete p.indexByColumnData[cmName][v];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdelete p.dataIndexById[id];\n\t\t\t\t},\n\t\t\t\tnormalizeData = function () {\n\t\t\t\t\tvar data = p.data, dataLength = data.length, i, cur, cells, idName, idIndex, v, rd, id,\n\t\t\t\t\t\tlocalReader = p.localReader, additionalProperties = p.additionalProperties,\n\t\t\t\t\t\tcellName = localReader.cell, cmName, isArrayCells, addProp, info,\n\t\t\t\t\t\tarrayReaderInfos = p.arrayReaderInfos;\n\n\t\t\t\t\tif (p.datatype !== \"local\" || localReader.repeatitems !== true) {\n\t\t\t\t\t\tif (p.treeGrid) {\n\t\t\t\t\t\t\tfor (i = 0; i < dataLength; i++) {\n\t\t\t\t\t\t\t\tnormalizeTreeGridProperties(data[i]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn; // nothing to do\n\t\t\t\t\t}\n\n\t\t\t\t\tidName = p.keyName === false ?\n\t\t\t\t\t\t(isFunction(localReader.id) ? localReader.id.call(ts, data) : localReader.id) :\n\t\t\t\t\t\tp.keyName;\n\t\t\t\t\tif (!isNaN(idName)) {\n\t\t\t\t\t\tidIndex = Number(idName);\n\t\t\t\t\t\t/*for (cmName in arrayReaderInfos) {\n\t\t\t\t\t\t\tif (arrayReaderInfos.hasOwnProperty(cmName)) {\n\t\t\t\t\t\t\t\tinfo = arrayReaderInfos[cmName];\n\t\t\t\t\t\t\t\tif (info.order === idIndex) {\n\t\t\t\t\t\t\t\t\tidName = info.name;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}*/\n\t\t\t\t\t} else if (!isFunction(idName)) {\n\t\t\t\t\t\tif (p.arrayReaderInfos[idName] != null) {\n\t\t\t\t\t\t\tidIndex = p.arrayReaderInfos[idName].order;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (i = 0; i < dataLength; i++) {\n\t\t\t\t\t\tcur = data[i];\n\t\t\t\t\t\tcells = cellName ? getAccessor(cur, cellName) || cur : cur;\n\t\t\t\t\t\tisArrayCells = isArray(cells);\n\n\t\t\t\t\t\trd = {};\n\t\t\t\t\t\tfor (cmName in arrayReaderInfos) {\n\t\t\t\t\t\t\tif (arrayReaderInfos.hasOwnProperty(cmName)) {\n\t\t\t\t\t\t\t\tinfo = arrayReaderInfos[cmName];\n\t\t\t\t\t\t\t\tv = getAccessor(cells, isArrayCells ? info.order : info.name);\n\t\t\t\t\t\t\t\tif (info.type === 1) { // additional property\n\t\t\t\t\t\t\t\t\taddProp = additionalProperties[info.index];\n\t\t\t\t\t\t\t\t\tif (addProp != null && isFunction(addProp.convert)) {\n\t\t\t\t\t\t\t\t\t\tv = addProp.convert(v, cells);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (v !== undefined) {\n\t\t\t\t\t\t\t\t\trd[cmName] = v;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// read id.\n\t\t\t\t\t\tif (rd[idName] !== undefined) {\n\t\t\t\t\t\t\t// in case of p.keyName or if there exist column with the same id name\n\t\t\t\t\t\t\t// probably one should test only for rd[p.keyName] !== undefined\n\t\t\t\t\t\t\t// and get rd[p.keyName] below, but the probability that the user\n\t\t\t\t\t\t\t// wanted to use the column rd[idName] as the rowid seemd me\n\t\t\t\t\t\t\t// higher as the opposite case.\n\n\t\t\t\t\t\t\t// the id should be already read in p.keyName column.\n\t\t\t\t\t\t\t// One need generate id only if the input data had no id\n\t\t\t\t\t\t\tid = rd[idName] !== undefined ? rd[idName] : randId(); //id = br + i;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tid = getAccessor(cur, isArray(cur) ? idIndex : idName);\n\t\t\t\t\t\t\tif (id === undefined) {\n\t\t\t\t\t\t\t\tid = getAccessor(cells, isArray(cells) ? idIndex : idName);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (id === undefined) {\n\t\t\t\t\t\t\t\tid = randId(); //id = br + i;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tid = String(id);\n\t\t\t\t\t\trd[localReader.id] = id; //p.idPrefix + id;\n\n\t\t\t\t\t\t// the next two line are the most important!\n\t\t\t\t\t\t// one should consider to remove true parameter to improve the performance !!!\n\t\t\t\t\t\tif (p.treeGrid) { normalizeTreeGridProperties(rd); }\n\t\t\t\t\t\textend(data[i], rd); // extend(true, data[i], rd);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\trefreshIndex = function () {\n\t\t\t\t\tvar datalen = p.data.length, idname, i, val, item;\n\n\t\t\t\t\tif (p.keyName === false || (p.loadonce && p.dataTypeOrg)) {\n\t\t\t\t\t\tidname = p.localReader.id;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tidname = p.keyName;\n\t\t\t\t\t}\n\t\t\t\t\tp._index = {};\n\t\t\t\t\tp.dataIndexById = {};\n\t\t\t\t\tp.indexByColumnData = buildEmptyIndexedColumnMap();\n\t\t\t\t\tfor (i = 0; i < datalen; i++) {\n\t\t\t\t\t\titem = p.data[i];\n\t\t\t\t\t\tval = getAccessor(item, idname);\n\t\t\t\t\t\tif (val === undefined) {\n\t\t\t\t\t\t\tval = String(randId()); //String(i + 1);\n\t\t\t\t\t\t\tif (item[idname] === undefined) {\n\t\t\t\t\t\t\t\titem[idname] = val;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tp._index[val] = i;\n\t\t\t\t\t\taddItemDataToColumnIndex.call(this, item, val);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tconstructTr = function (id, hide, altClass, rd, cur, selected) {\n\t\t\t\t\tvar tabindex = \"-1\", restAttr = \"\", attrName, style = hide ? \"display:none;\" : \"\", self = this,\n\t\t\t\t\t\tclasses = getGuiStyles(\"gridRow\", \"jqgrow ui-row-\" + p.direction) + (altClass ? \" \" + altClass : \"\") + (selected ? \" \" + getGuiStyles(\"states.select\") : \"\"),\n\t\t\t\t\t\trowAttrObj = $(self).triggerHandler(\"jqGridRowAttr\", [rd, cur, id]);\n\t\t\t\t\tif (typeof rowAttrObj !== \"object\") {\n\t\t\t\t\t\trowAttrObj = isFunction(p.rowattr) ? p.rowattr.call(self, rd, cur, id) :\n\t\t\t\t\t\t\t(typeof p.rowattr === \"string\" && jgrid.rowattr != null && isFunction(jgrid.rowattr[p.rowattr]) ?\n\t\t\t\t\t\t\t\tjgrid.rowattr[p.rowattr].call(self, rd, cur, id) : {});\n\t\t\t\t\t}\n\t\t\t\t\tif (rowAttrObj != null && !$.isEmptyObject(rowAttrObj)) {\n\t\t\t\t\t\tif (rowAttrObj.hasOwnProperty(\"id\")) {\n\t\t\t\t\t\t\tid = rowAttrObj.id;\n\t\t\t\t\t\t\tdelete rowAttrObj.id;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (rowAttrObj.hasOwnProperty(\"tabindex\")) {\n\t\t\t\t\t\t\ttabindex = rowAttrObj.tabindex;\n\t\t\t\t\t\t\tdelete rowAttrObj.tabindex;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (rowAttrObj.hasOwnProperty(\"style\")) {\n\t\t\t\t\t\t\tstyle += rowAttrObj.style;\n\t\t\t\t\t\t\tdelete rowAttrObj.style;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (rowAttrObj.hasOwnProperty(\"class\")) {\n\t\t\t\t\t\t\tclasses += \" \" + rowAttrObj[\"class\"];\n\t\t\t\t\t\t\tdelete rowAttrObj[\"class\"];\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// don't allow to change role attribute\n\t\t\t\t\t\ttry { delete rowAttrObj.role; } catch (ignore) { }\n\t\t\t\t\t\tfor (attrName in rowAttrObj) {\n\t\t\t\t\t\t\tif (rowAttrObj.hasOwnProperty(attrName)) {\n\t\t\t\t\t\t\t\trestAttr += \" \" + attrName + \"=\" + rowAttrObj[attrName];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (p.treeGrid) {\n\t\t\t\t\t\tif (parseInt(rd[p.treeReader.level_field], 10) !== parseInt(p.tree_root_level, 10)) {\n\t\t\t\t\t\t\tvar pn = $j.getNodeParent.call($(this), rd),\n\t\t\t\t\t\t\t\texpan = pn && pn.hasOwnProperty(p.treeReader.expanded_field) ?\n\t\t\t\t\t\t\t\t\tpn[p.treeReader.expanded_field] : true;\n\t\t\t\t\t\t\tif (!expan && !hide) {\n\t\t\t\t\t\t\t\t// TODO: append \";\" to style if required\n\t\t\t\t\t\t\t\tstyle += \"display:none;\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn \"<tr role='row' id='\" + id + \"' tabindex='\" + tabindex + \"' class='\" + classes + \"'\" +\n\t\t\t\t\t\t(style === \"\" ? \"\" : \" style='\" + style + \"'\") + restAttr + \">\";\n\t\t\t\t},\n\t\t\t\tfinalizationFormatters = function () {\n\t\t\t\t\tvar i, formatName, fmatter = $.fn.fmatter;\n\t\t\t\t\tfor (i = 0; i < p.colModel.length; i++) {\n\t\t\t\t\t\tformatName = p.colModel[i].formatter;\n\t\t\t\t\t\tif (typeof formatName === \"string\" && fmatter != null &&\n\t\t\t\t\t\t\tisFunction(fmatter[formatName]) && isFunction(fmatter[formatName].pageFinalization)) {\n\t\t\t\t\t\t\tfmatter[formatName].pageFinalization.call(this, i);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfillOrClearCellBuilder = function (clear, act) {\n\t\t\t\t\tvar i, cm, colModel = p.colModel, n = colModel.length, opt,\n\t\t\t\t\t\tautoencodeCellBuilder = function (v) {\n\t\t\t\t\t\t\treturn v == null || v === \"\" ? \"&#160;\" : htmlEncode(v);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsimpleCellBuilder = function (v) {\n\t\t\t\t\t\t\treturn v == null || v === \"\" ? \"&#160;\" : String(v);\n\t\t\t\t\t\t};\n\t\t\t\t\tfor (i = 0; i < n; i++) {\n\t\t\t\t\t\tcm = colModel[i];\n\t\t\t\t\t\tcm.cellBuilder = null;\n\t\t\t\t\t\tif (!clear) {\n\t\t\t\t\t\t\topt = { colModel: cm, gid: p.id, pos: i };\n\t\t\t\t\t\t\tif (cm.formatter === undefined) {\n\t\t\t\t\t\t\t\tcm.cellBuilder = p.autoencode ? autoencodeCellBuilder : simpleCellBuilder;\n\t\t\t\t\t\t\t} else if (typeof cm.formatter === \"string\" && $.fn.fmatter != null && isFunction($.fn.fmatter.getCellBuilder)) {\n\t\t\t\t\t\t\t\tcm.cellBuilder = $.fn.fmatter.getCellBuilder.call(ts, cm.formatter, opt, act || \"add\");\n\t\t\t\t\t\t\t} else if (isFunction(cm.getCellBuilder)) {\n\t\t\t\t\t\t\t\tcm.cellBuilder = cm.getCellBuilder.call(ts, opt, act || \"add\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\treadInput = function (data, rcnt, more, adjust) {\n\t\t\t\t\tvar self = this, $self = $(self), startReq = new Date(), datatype = p.datatype,\n\t\t\t\t\t\t// readAllInputData shows that one should read ALL input items, not only the current page of data\n\t\t\t\t\t\treadAllInputData = (datatype !== \"local\" && p.loadonce) || datatype === \"xmlstring\" || datatype === \"jsonstring\",\n\t\t\t\t\t\tisXML = (datatype === \"xmlstring\" || datatype === \"xml\") && $.isXMLDoc(data),\n\t\t\t\t\t\tlocid = \"_id_\", dataReader = p.localReader, fieldReader = getAccessor;\n\n\t\t\t\t\tif (data) {\n\t\t\t\t\t\tif (datatype === \"xml\" && !isXML) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (p.treeANode === -1 && !p.scroll) {\n\t\t\t\t\t\t\tgrid.emptyRows.call(self, false, true);\n\t\t\t\t\t\t\trcnt = 1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\trcnt = rcnt > 1 ? rcnt : 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// in case of usage TreeGrid for example\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (readAllInputData) {\n\t\t\t\t\t\tclearArray(p.data); //p.data = [];\n\t\t\t\t\t\tclearArray(p.lastSelectedData); //p.lastSelectedData = [];\n\t\t\t\t\t\tp._index = {};\n\t\t\t\t\t\tif (p.grouping && p.groupingView != null) {\n\t\t\t\t\t\t\tp.groupingView.groups = [];\n\t\t\t\t\t\t\tp.groupingView._locgr = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tp.localReader.id = locid; // consider to place the statement in if (p.treeGrid) {...}\n\t\t\t\t\t}\n\t\t\t\t\tp.reccount = 0;\n\t\t\t\t\tswitch (datatype) {\n\t\t\t\t\t\tcase \"xml\":\n\t\t\t\t\t\tcase \"xmlstring\":\n\t\t\t\t\t\t\tdataReader = p.xmlReader;\n\t\t\t\t\t\t\tfieldReader = jgrid.getXmlData;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"json\":\n\t\t\t\t\t\tcase \"jsonp\":\n\t\t\t\t\t\tcase \"jsonstring\":\n\t\t\t\t\t\t\tdataReader = p.jsonReader;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar i, cells, len, drows, idName, idIndex, rd = {}, idr,\n\t\t\t\t\t\tcolModel = p.colModel, nCol = colModel.length, cmName,\n\t\t\t\t\t\tiChild, children, nChildren, child,\n\t\t\t\t\t\t// TODO: consider to introduce preloadedAttributes in the same way\n\t\t\t\t\t\t//       like we use to preloadedNodes below and to cache .attributes[i]\n\t\t\t\t\t\t//       in the same way like one cache .childNodes[i].\n\t\t\t\t\t\t//       One should measure the performance, to find out whether\n\t\t\t\t\t\t//       such caching will improve the performance.\n\t\t\t\t\t\tarrayReaderInfos = p.arrayReaderInfos, info, preloadedNodes = {},\n\t\t\t\t\t\tattrReader = function (nodeName) {\n\t\t\t\t\t\t\treturn function (obj) {\n\t\t\t\t\t\t\t\tvar attrValue = obj != null && isFunction(obj.getAttribute) ? obj.getAttribute(nodeName) : null;\n\t\t\t\t\t\t\t\treturn attrValue !== null ? attrValue : undefined;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t},\n\t\t\t\t\t\tnodeReader = function (nodeName) {\n\t\t\t\t\t\t\treturn function () {\n\t\t\t\t\t\t\t\t// commented code which used getElementsByTagName works\n\t\t\t\t\t\t\t\t// good in new web browsers (Chrome, Firefox, Safari),\n\t\t\t\t\t\t\t\t// but it is slowly in IE10 and especially in IE8.\n\t\t\t\t\t\t\t\t// So we use the code which is very good for all web browsers\n\t\t\t\t\t\t\t\t/*var elem = obj.getElementsByTagName(nodeName)[0], childNodes;\n\t\t\t\t\t\t\t\tif (elem != null) {\n\t\t\t\t\t\t\t\t\tchildNodes = elem.childNodes;\n\t\t\t\t\t\t\t\t\treturn childNodes.length > 0 ? childNodes[0].nodeValue : undefined;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn undefined;*/\n\t\t\t\t\t\t\t\tvar elem = preloadedNodes[nodeName], childNodes;\n\t\t\t\t\t\t\t\tif (elem == null) { return undefined; }\n\t\t\t\t\t\t\t\tchildNodes = elem.childNodes;\n\t\t\t\t\t\t\t\treturn childNodes.length > 0 ? childNodes[0].nodeValue : undefined;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t};\n\n\t\t\t\t\tp.page = intNum(fieldReader(data, dataReader.page), p.page);\n\t\t\t\t\tp.lastpage = intNum(fieldReader(data, dataReader.total), 1);\n\t\t\t\t\tp.records = intNum(fieldReader(data, dataReader.records));\n\n\t\t\t\t\tif (isFunction(dataReader.userdata)) {\n\t\t\t\t\t\tp.userData = dataReader.userdata.call(self, data) || {};\n\t\t\t\t\t} else if (isXML) {\n\t\t\t\t\t\tfieldReader(data, dataReader.userdata, true)\n\t\t\t\t\t\t\t.each(function () {\n\t\t\t\t\t\t\t\tp.userData[this.getAttribute(\"name\")] = $(this).text();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tp.userData = fieldReader(data, dataReader.userdata) || {};\n\t\t\t\t\t}\n\n\t\t\t\t\t// fill colReader and\n\t\t\t\t\tfillOrClearCellBuilder();\n\t\t\t\t\tvar colReader = {}, isArrayCells, v, addProp, items,\n\t\t\t\t\t\tadditionalProperties = p.additionalProperties,\n\t\t\t\t\t\tsetSimpleColReaderIfPossible = function (propName, nameReaderOrAddProp) {\n\t\t\t\t\t\t\tif (isXML && typeof nameReaderOrAddProp === \"string\") {\n\t\t\t\t\t\t\t\tif (/^\\w+$/.test(nameReaderOrAddProp)) {\n\t\t\t\t\t\t\t\t\tcolReader[propName] = nodeReader(nameReaderOrAddProp);\n\t\t\t\t\t\t\t\t} else if (/^\\[\\w+\\]$/.test(nameReaderOrAddProp)) {\n\t\t\t\t\t\t\t\t\tcolReader[propName] = attrReader(nameReaderOrAddProp.substring(1, nameReaderOrAddProp.length - 1));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcolReaderFilling = function (colOrAddProp) {\n\t\t\t\t\t\t\tvar colOrAddPropName = colOrAddProp.name,\n\t\t\t\t\t\t\t\tnameReader = isXML ?\n\t\t\t\t\t\t\t\t\tcolOrAddProp.xmlmap || colOrAddPropName :\n\t\t\t\t\t\t\t\t\t(datatype === \"local\" && !p.dataTypeOrg) || datatype === \"jsonstring\" || datatype === \"json\" || datatype === \"jsonp\" ? colOrAddProp.jsonmap || colOrAddPropName : colOrAddPropName;\n\n\t\t\t\t\t\t\tif (p.keyName !== false && colOrAddProp.key === true) {\n\t\t\t\t\t\t\t\tp.keyName = colOrAddPropName; // TODO: replace nameReader to colOrAddPropName if we don't will read it at the second time\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (typeof nameReader === \"string\" || isFunction(nameReader)) {\n\t\t\t\t\t\t\t\tcolReader[colOrAddPropName] = nameReader;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!isFunction(nameReader)) {\n\t\t\t\t\t\t\t\tsetSimpleColReaderIfPossible(colOrAddPropName, nameReader);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\tfor (i = 0; i < nCol; i++) {\n\t\t\t\t\t\tcolReaderFilling(colModel[i]);\n\t\t\t\t\t}\n\t\t\t\t\tnCol = additionalProperties.length;\n\t\t\t\t\tfor (i = 0; i < nCol; i++) {\n\t\t\t\t\t\taddProp = additionalProperties[i];\n\n\t\t\t\t\t\tif (typeof addProp === \"object\" && addProp != null) {\n\t\t\t\t\t\t\tcolReaderFilling(addProp);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetSimpleColReaderIfPossible(addProp, addProp);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// TODO: Consider to allow to specify key:true property in additionalProperties\n\t\t\t\t\t// in the case the item of additionalProperties should looks not like\n\t\t\t\t\t// \"myProp\" and not like {name: \"myProp\", convert: function (data) {...}} used in TreeGrid,\n\t\t\t\t\t// but in more common form {name: \"myProp\", key:true, convert: function (data) {...}}\n\n\t\t\t\t\t// prepare to read id of data items\n\t\t\t\t\t// if p.keyName !== false it contains the name of the column or the nameReader functoin (jsonmap or xmlmap)\n\t\t\t\t\t// in the case the reading of id is simple and one DON'T NEED TO READ IT AT ALL\n\t\t\t\t\t// because it will be already read during reading of the columns\n\t\t\t\t\tidName = p.keyName === false ?\n\t\t\t\t\t\t(isFunction(dataReader.id) ? dataReader.id.call(self, data) : dataReader.id) :\n\t\t\t\t\t\tp.keyName;\n\n\t\t\t\t\tif (!isNaN(idName)) {\n\t\t\t\t\t\tidIndex = Number(idName);\n\t\t\t\t\t} else if (!isFunction(idName)) {\n\t\t\t\t\t\tif (arrayReaderInfos[idName]) {\n\t\t\t\t\t\t\tidIndex = arrayReaderInfos[idName].order;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (isXML && p.keyName === false) {\n\t\t\t\t\t\t\tif (typeof idName === \"string\" && /^\\[\\w+\\]$/.test(idName)) {\n\t\t\t\t\t\t\t\tidName = attrReader(idName.substring(1, idName.length - 1));\n\t\t\t\t\t\t\t} else if (typeof idName === \"string\" && /^\\w+$/.test(idName)) {\n\t\t\t\t\t\t\t\tidName = nodeReader(idName);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// get array of items from the input data\n\t\t\t\t\tdrows = fieldReader(data, dataReader.root, true);\n\t\t\t\t\tif (dataReader.row) {\n\t\t\t\t\t\tif (drows.length === 1 && typeof dataReader.row === \"string\" && /^\\w+$/.test(dataReader.row)) {\n\t\t\t\t\t\t\titems = [];\n\t\t\t\t\t\t\tchildren = drows[0].childNodes;\n\t\t\t\t\t\t\tnChildren = children.length;\n\t\t\t\t\t\t\tfor (iChild = 0; iChild < nChildren; iChild++) {\n\t\t\t\t\t\t\t\tchild = children[iChild];\n\t\t\t\t\t\t\t\tif (child.nodeType === 1 && child.nodeName === dataReader.row) {\n\t\t\t\t\t\t\t\t\titems.push(child);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdrows = items;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdrows = fieldReader(drows, dataReader.row, true); // || [];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (drows == null && isArray(data)) { drows = data; }\n\t\t\t\t\tif (!drows) { drows = []; }\n\t\t\t\t\tlen = drows.length;\n\t\t\t\t\tif (len > 0 && p.page <= 0) { p.page = 1; }\n\n\t\t\t\t\tvar rn = parseInt(p.rowNum, 10); // br = p.scroll ? randId() : 1\n\t\t\t\t\tif (adjust) { rn *= adjust + 1; }\n\n\t\t\t\t\t// The first loop (from 0 till len) read ALL data and saves it in array\n\t\t\t\t\tvar cellsToDisplay = [], ids = [], id, cur;\n\t\t\t\t\titems = [];\n\t\t\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\t\t\tcur = drows[i];\n\t\t\t\t\t\tcells = dataReader.repeatitems && dataReader.cell ? fieldReader(cur, dataReader.cell, true) || cur : cur;\n\t\t\t\t\t\tisArrayCells = dataReader.repeatitems && (isXML || isArray(cells));\n\n\t\t\t\t\t\t// the first step: reading the input data from the current item\n\t\t\t\t\t\trd = {}; // require to prevent modification of items previously placed in p.data\n\n\t\t\t\t\t\tpreloadedNodes = {};\n\t\t\t\t\t\tif (isXML && !isArrayCells && cells != null) {\n\t\t\t\t\t\t\t// reading of simple children nodes by name can be relatively slow\n\t\t\t\t\t\t\t// because one enumerates all children nodes to find the node with\n\t\t\t\t\t\t\t// specified name\n\t\t\t\t\t\t\tchildren = cells.childNodes;\n\t\t\t\t\t\t\tnChildren = children.length;\n\t\t\t\t\t\t\tfor (iChild = 0; iChild < nChildren; iChild++) {\n\t\t\t\t\t\t\t\tchild = children[iChild];\n\t\t\t\t\t\t\t\tif (child.nodeType === 1) {\n\t\t\t\t\t\t\t\t\tpreloadedNodes[child.nodeName] = child;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// TODO: one can consider to examine cells.attributes and\n\t\t\t\t\t\t\t//       to save all values in preloadedAttributes map.\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (cmName in arrayReaderInfos) {\n\t\t\t\t\t\t\tif (arrayReaderInfos.hasOwnProperty(cmName)) {\n\t\t\t\t\t\t\t\tinfo = arrayReaderInfos[cmName];\n\t\t\t\t\t\t\t\tif (isArrayCells) {\n\t\t\t\t\t\t\t\t\tv = cells[info.order];\n\t\t\t\t\t\t\t\t\tif (isXML && v != null) {\n\t\t\t\t\t\t\t\t\t\tv = v.textContent || v.text;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else if (colReader[cmName] != null && typeof colReader[cmName] !== \"string\") { // isFunction(colReader[cmName])\n\t\t\t\t\t\t\t\t\tv = colReader[cmName].call(self, cells, { cmName: cmName, iItem: i });\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tv = fieldReader(cells, typeof colReader[cmName] === \"string\" ? colReader[cmName] : info.name);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (info.type === 1) { // additional property\n\t\t\t\t\t\t\t\t\taddProp = additionalProperties[info.index];\n\t\t\t\t\t\t\t\t\tif (addProp != null && isFunction(addProp.convert)) {\n\t\t\t\t\t\t\t\t\t\tv = addProp.convert(v, cells);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (v !== undefined) {\n\t\t\t\t\t\t\t\t\trd[cmName] = v;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// read id.\n\t\t\t\t\t\tif (rd[idName] !== undefined) {\n\t\t\t\t\t\t\t// the id should be already read in p.keyName column.\n\t\t\t\t\t\t\t// One need generate id only if the input data had no id\n\t\t\t\t\t\t\tid = rd[idName] !== undefined ? rd[idName] : randId(); //id = br + i;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tid = fieldReader(cur, isArray(cur) ? idIndex : idName);\n\t\t\t\t\t\t\tif (id === undefined) {\n\t\t\t\t\t\t\t\tid = fieldReader(cells, isArray(cells) ? idIndex : idName);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (id === undefined) {\n\t\t\t\t\t\t\t\tid = randId(); //id = br + i;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (rd[idName] === undefined) {\n\t\t\t\t\t\t\trd[idName] = id;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tid = String(id);\n\t\t\t\t\t\tidr = p.idPrefix + id;\n\n\t\t\t\t\t\tif (p.treeGrid) { normalizeTreeGridProperties(rd); }\n\n\t\t\t\t\t\t// final steps of reading the row\n\t\t\t\t\t\tif (i < rn) {\n\t\t\t\t\t\t\tids.push(idr);\n\t\t\t\t\t\t\tcellsToDisplay.push(cells);\n\t\t\t\t\t\t\titems.push(rd);\n\t\t\t\t\t\t} else if (!readAllInputData) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (readAllInputData || p.treeGrid === true) {\n\t\t\t\t\t\t\trd[locid] = id; //stripGridPrefix(idr);\n\t\t\t\t\t\t\tp.data.push(rd);\n\t\t\t\t\t\t\taddItemDataToColumnIndex(rd, id);\n\t\t\t\t\t\t\tp._index[rd[locid]] = p.data.length - 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (readAllInputData && p.treeGrid !== true) {\n\t\t\t\t\t\tif (p.forceClientSorting) {\n\t\t\t\t\t\t\t// don't display the data, just read it.\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// initialize lastSelectedData to simplify the usage of lastSelectedData\n\t\t\t\t\t\tp.lastSelectedData = p.data.slice();\n\t\t\t\t\t}\n\n\t\t\t\t\t// of rd items plus array cells items (almost the same as drows).\n\t\t\t\t\t// The second loop (from 0 till min(len,rn)) will build rowData from the both arrays\n\t\t\t\t\t// Then one place rowData AT ONCE to the body any calls afterInsertRow in the loop\n\t\t\t\t\t// for every inserted row.\n\t\t\t\t\t// Finally one clean up the both arrays\n\t\t\t\t\tvar rowData = jgrid.parseDataToHtml.call(self, len, ids, items, cellsToDisplay, rcnt, adjust, readAllInputData);\n\t\t\t\t\tfillOrClearCellBuilder(true); // clear cellBuilders\n\n\t\t\t\t\t// place the HTML string fragments collected in rowData in the body of grid\n\t\t\t\t\tvar fpos = p.treeANode > -1 ? p.treeANode : 0;\n\t\t\t\t\tvar $tbody = $(self.tBodies[0]);\n\t\t\t\t\tif (p.treeGrid === true && fpos > 0) {\n\t\t\t\t\t\t$(self.rows[fpos]).after(rowData.join(\"\"));\n\t\t\t\t\t} else if (p.scroll) {\n\t\t\t\t\t\t$tbody.append(rowData.join(\"\"));\n\t\t\t\t\t} else if (self.firstElementChild == null || (document.documentMode !== undefined && document.documentMode <= 9)) {\n\t\t\t\t\t\t// for IE8 for example\n\t\t\t\t\t\t$tbody.html($tbody.html() + rowData.join(\"\")); // append to innerHTML of tbody which contains the first row (.jqgfirstrow)\n\t\t\t\t\t\tself.grid.cols = self.rows[0].cells; // update cached first row\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.firstElementChild.innerHTML += rowData.join(\"\"); // append to innerHTML of tbody which contains the first row (.jqgfirstrow)\n\t\t\t\t\t\tself.grid.cols = self.rows[0].cells; // update cached first row\n\t\t\t\t\t}\n\n\t\t\t\t\t// refresh rowIndexes cash in case of usage grouping\n\t\t\t\t\tif (p.grouping) {\n\t\t\t\t\t\trebuildRowIndexes.call(self);\n\n\t\t\t\t\t\t// bind onclick on +/- icon of grouping header to the call of groupingToggle\n\t\t\t\t\t\tvar expandOrCollapseGroup = function (e) {\n\t\t\t\t\t\t\t\tvar groupHeaderId = $(this).closest(\"tr.jqgroup\").attr(\"id\");\n\t\t\t\t\t\t\t\t$self.jqGrid(\"groupingToggle\", groupHeaderId, this, e);\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t$tr;\n\t\t\t\t\t\tfor (i = 0; i < self.rows.length; i++) {\n\t\t\t\t\t\t\t$tr = $(self.rows[i]);\n\t\t\t\t\t\t\tif ($tr.hasClass(\"jqgroup\")) {\n\t\t\t\t\t\t\t\t$tr.children(\"td\")\n\t\t\t\t\t\t\t\t\t.children(\"span.tree-wrap\")\n\t\t\t\t\t\t\t\t\t.click(expandOrCollapseGroup);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t//\n\t\t\t\t\tif (p.subGrid === true) {\n\t\t\t\t\t\t// make subgrid specific actions: bind click event handler to \"+\"\n\t\t\t\t\t\ttry { $j.addSubGrid.call($self, p.iColByName.subgrid); } catch (ignore) { }\n\t\t\t\t\t}\n\t\t\t\t\tif (p.gridview === false || isFunction(p.afterInsertRow)) {\n\t\t\t\t\t\tfor (i = 0; i < Math.min(len, rn); i++) {\n\t\t\t\t\t\t\tfeedback.call(self, \"afterInsertRow\", ids[i], items[i], cellsToDisplay[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tp.totaltime = new Date() - startReq;\n\t\t\t\t\tif (i > 0) {\n\t\t\t\t\t\tif (p.records === 0) { p.records = len; }\n\t\t\t\t\t}\n\t\t\t\t\tclearArray(rowData);\n\t\t\t\t\tif (p.treeGrid === true) {\n\t\t\t\t\t\ttry { $j.setTreeNode.call($self, fpos + 1, i + fpos + 1); } catch (ignore) { }\n\t\t\t\t\t}\n\t\t\t\t\tp.reccount = Math.min(len, rn);\n\t\t\t\t\tp.treeANode = -1;\n\t\t\t\t\tif (p.userDataOnFooter) { $j.footerData.call($self, \"set\", p.userData, true); }\n\t\t\t\t\tif (readAllInputData) {\n\t\t\t\t\t\tp.records = len;\n\t\t\t\t\t\tp.lastpage = Math.ceil(len / rn);\n\t\t\t\t\t}\n\t\t\t\t\tif (!more) { self.updatepager(false, true); }\n\t\t\t\t\tfinalizationFormatters.call(self);\n\t\t\t\t},\n\t\t\t\taddLocalData = function () {\n\t\t\t\t\tvar $self = $(this), st = p.multiSort ? [] : \"\", sto = {}, fndsort = false, cmtypes = {}, grtypes = [], grindexes = [],\n\t\t\t\t\t\tdefSrcFormat = getRes(\"formatter.date.srcformat\"),\n\t\t\t\t\t\tdefNewFormat = getRes(\"formatter.date.newformat\");\n\t\t\t\t\tif (!isArray(p.data)) {\n\t\t\t\t\t\treturn {};\n\t\t\t\t\t}\n\t\t\t\t\tif (p.multiSort) {\n\t\t\t\t\t\tgetSortNames(st, sto);\n\t\t\t\t\t}\n\t\t\t\t\tvar grpview = p.grouping ? p.groupingView : false, lengrp, gin,\n\t\t\t\t\t\tprocessColModel = function (cm, iCol1, isAddProp) {\n\t\t\t\t\t\t\tvar srcformat, newformat,\n\t\t\t\t\t\t\t\tgrindex = cm.index || cm.name,\n\t\t\t\t\t\t\t\tsorttype = cm.sorttype || \"text\";\n\t\t\t\t\t\t\tcmtypes[cm.name] = {\n\t\t\t\t\t\t\t\treader: !p.dataTypeOrg ? cm.jsonmap || cm.name : cm.name,\n\t\t\t\t\t\t\t\tiCol: iCol1,\n\t\t\t\t\t\t\t\tstype: sorttype,\n\t\t\t\t\t\t\t\tsrcfmt: \"\",\n\t\t\t\t\t\t\t\tnewfmt: \"\",\n\t\t\t\t\t\t\t\tsfunc: cm.sortfunc || null,\n\t\t\t\t\t\t\t\tisAddProp: isAddProp === true ? true : false\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tif (sorttype === \"date\" || sorttype === \"datetime\") {\n\t\t\t\t\t\t\t\tif (cm.formatter && typeof cm.formatter === \"string\" && cm.formatter === \"date\") {\n\t\t\t\t\t\t\t\t\tif (cm.formatoptions && cm.formatoptions.srcformat) {\n\t\t\t\t\t\t\t\t\t\tsrcformat = cm.formatoptions.srcformat;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tsrcformat = defSrcFormat;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (cm.formatoptions && cm.formatoptions.newformat) {\n\t\t\t\t\t\t\t\t\t\tnewformat = cm.formatoptions.newformat;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tnewformat = defNewFormat;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tsrcformat = newformat = cm.datefmt || \"Y-m-d\";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcmtypes[cm.name].srcfmt = srcformat;\n\t\t\t\t\t\t\t\tcmtypes[cm.name].newfmt = newformat;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (p.grouping) {\n\t\t\t\t\t\t\t\tfor (gin = 0, lengrp = grpview.groupField.length; gin < lengrp; gin++) {\n\t\t\t\t\t\t\t\t\tif (cm.name === grpview.groupField[gin]) {\n\t\t\t\t\t\t\t\t\t\tgrtypes[gin] = cmtypes[grindex];\n\t\t\t\t\t\t\t\t\t\tgrindexes[gin] = grindex;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!p.multiSort) {\n\t\t\t\t\t\t\t\tif (!fndsort && (cm.index === p.sortname || cm.name === p.sortname)) {\n\t\t\t\t\t\t\t\t\tst = cm.name; // ???\n\t\t\t\t\t\t\t\t\tfndsort = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\teach(p.colModel, function (iCol1) {\n\t\t\t\t\t\tprocessColModel(this, iCol1);\n\t\t\t\t\t});\n\t\t\t\t\teach(p.additionalProperties, function (iCol1) {\n\t\t\t\t\t\tprocessColModel(\n\t\t\t\t\t\t\ttypeof this === \"string\" ? { name: this } : this,\n\t\t\t\t\t\t\tiCol1,\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t\tif (p.treeGrid) {\n\t\t\t\t\t\t$j.SortTree.call($self, st, p.sortorder,\n\t\t\t\t\t\t\tcmtypes[st] != null && cmtypes[st].stype ? cmtypes[st].stype : \"text\",\n\t\t\t\t\t\t\tcmtypes[st] != null && cmtypes[st].srcfmt ? cmtypes[st].srcfmt : \"\");\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tvar compareFnMap = {\n\t\t\t\t\t\t\t\"eq\": function (queryObj) { return queryObj.equals; },\n\t\t\t\t\t\t\t\"ne\": function (queryObj) { return queryObj.notEquals; },\n\t\t\t\t\t\t\t\"lt\": function (queryObj) { return queryObj.less; },\n\t\t\t\t\t\t\t\"le\": function (queryObj) { return queryObj.lessOrEquals; },\n\t\t\t\t\t\t\t\"gt\": function (queryObj) { return queryObj.greater; },\n\t\t\t\t\t\t\t\"ge\": function (queryObj) { return queryObj.greaterOrEquals; },\n\t\t\t\t\t\t\t\"cn\": function (queryObj) { return queryObj.contains; },\n\t\t\t\t\t\t\t\"nc\": function (queryObj, op) { return op === \"OR\" ? queryObj.orNot().contains : queryObj.andNot().contains; },\n\t\t\t\t\t\t\t\"bw\": function (queryObj) { return queryObj.startsWith; },\n\t\t\t\t\t\t\t\"bn\": function (queryObj, op) { return op === \"OR\" ? queryObj.orNot().startsWith : queryObj.andNot().startsWith; },\n\t\t\t\t\t\t\t\"en\": function (queryObj, op) { return op === \"OR\" ? queryObj.orNot().endsWith : queryObj.andNot().endsWith; },\n\t\t\t\t\t\t\t\"ew\": function (queryObj) { return queryObj.endsWith; },\n\t\t\t\t\t\t\t\"ni\": function (queryObj, op) { return op === \"OR\" ? queryObj.orNot().inSet : queryObj.andNot().inSet; },\n\t\t\t\t\t\t\t\"in\": function (queryObj) { return queryObj.inSet; },\n\t\t\t\t\t\t\t\"nu\": function (queryObj) { return queryObj.isNull; },\n\t\t\t\t\t\t\t\"nn\": function (queryObj, op) { return op === \"OR\" ? queryObj.orNot().isNull : queryObj.andNot().isNull; }\n\t\t\t\t\t\t},\n\t\t\t\t\t\tquery = jgrid.from.call(this, p.data);\n\t\t\t\t\tif (p.ignoreCase) { query = query.ignoreCase(); }\n\t\t\t\t\tfunction tojLinq(group) {\n\t\t\t\t\t\tvar s = 0, index, gor, ror, opr, rule, r, cmi1;\n\t\t\t\t\t\tif (group.groups != null) {\n\t\t\t\t\t\t\tgor = group.groups.length && group.groupOp.toString().toUpperCase() === \"OR\";\n\t\t\t\t\t\t\tif (gor) {\n\t\t\t\t\t\t\t\tquery.orBegin();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfor (index = 0; index < group.groups.length; index++) {\n\t\t\t\t\t\t\t\tif (s > 0 && gor) {\n\t\t\t\t\t\t\t\t\tquery.or();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\ttojLinq(group.groups[index]);\n\t\t\t\t\t\t\t\t} catch (e) { fatalErrorFunction(e); }\n\t\t\t\t\t\t\t\ts++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (gor) {\n\t\t\t\t\t\t\t\tquery.orEnd();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (group.rules != null) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tror = group.rules.length && group.groupOp.toString().toUpperCase() === \"OR\";\n\t\t\t\t\t\t\t\tif (ror) {\n\t\t\t\t\t\t\t\t\tquery.orBegin();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tfor (index = 0; index < group.rules.length; index++) {\n\t\t\t\t\t\t\t\t\trule = group.rules[index];\n\t\t\t\t\t\t\t\t\topr = group.groupOp.toString().toUpperCase();\n\t\t\t\t\t\t\t\t\tif (compareFnMap[rule.op] && rule.field) {\n\t\t\t\t\t\t\t\t\t\tif (s > 0 && opr && opr === \"OR\") {\n\t\t\t\t\t\t\t\t\t\t\tquery = query.or();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tcmi1 = cmtypes[rule.field];\n\t\t\t\t\t\t\t\t\t\tif (cmi1 != null) {\n\t\t\t\t\t\t\t\t\t\t\tr = cmi1.reader;\n\t\t\t\t\t\t\t\t\t\t\tquery = compareFnMap[rule.op](query, opr)(\n\t\t\t\t\t\t\t\t\t\t\t\tisFunction(r) ?\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"jQuery.jgrid.getAccessor(this,jQuery(\\\"\" + p.idSel + \"\\\")[0].p.colModel[\" + cmi1.iCol + \"].jsonmap)\" :\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"jQuery.jgrid.getAccessor(this,'\" + r + \"')\",\n\t\t\t\t\t\t\t\t\t\t\t\trule.data,\n\t\t\t\t\t\t\t\t\t\t\t\tcmtypes[rule.field]\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else if (p.customSortOperations != null && p.customSortOperations[rule.op] != null && isFunction(p.customSortOperations[rule.op].filter)) {\n\t\t\t\t\t\t\t\t\t\tquery = query.custom(rule.op, rule.field, rule.data);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\ts++;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (ror) {\n\t\t\t\t\t\t\t\t\tquery.orEnd();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} catch (g) { fatalErrorFunction(g); }\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (p.search === true) {\n\t\t\t\t\t\tvar srules = p.postData[(p.searching || {}).sFilter || p.prmNames.filters];\n\t\t\t\t\t\tif (srules) {\n\t\t\t\t\t\t\tif (typeof srules === \"string\") { srules = $.parseJSON(srules); }\n\t\t\t\t\t\t\ttojLinq(srules);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tvar cmtypes1 = cmtypes[p.postData.searchField];\n\t\t\t\t\t\t\t\tquery = compareFnMap[p.postData.searchOper](query)(\n\t\t\t\t\t\t\t\t\t//p.postData.searchField,\n\t\t\t\t\t\t\t\t\tisFunction(cmtypes1.reader) ?\n\t\t\t\t\t\t\t\t\t\t\"jQuery.jgrid.getAccessor(this,jQuery(\\\"\" + p.idSel + \"\\\")[0].p.colModel[\" + cmtypes1.iCol + \"].jsonmap)\" :\n\t\t\t\t\t\t\t\t\t\t\"jQuery.jgrid.getAccessor(this,'\" + cmtypes1.reader + \"')\",\n\t\t\t\t\t\t\t\t\tp.postData.searchString,\n\t\t\t\t\t\t\t\t\tcmtypes[p.postData.searchField]\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} catch (ignore) { }\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (p.grouping) {\n\t\t\t\t\t\tfor (gin = 0; gin < lengrp && gin < grindexes.length && gin < grtypes.length; gin++) {\n\t\t\t\t\t\t\tquery.orderBy(grindexes[gin], grpview.groupOrder[gin], grtypes[gin].stype, grtypes[gin].srcfmt);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (p.multiSort) {\n\t\t\t\t\t\teach(st, function () {\n\t\t\t\t\t\t\tquery.orderBy(this, sto[this], cmtypes[this].stype, cmtypes[this].srcfmt, cmtypes[this].sfunc);\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (st && p.sortorder && fndsort) {\n\t\t\t\t\t\tquery.orderBy(p.sortname, p.sortorder.toUpperCase() === \"DESC\" ? \"d\" : \"a\", cmtypes[st].stype, cmtypes[st].srcfmt, cmtypes[st].sfunc);\n\t\t\t\t\t}\n\t\t\t\t\tp.lastSelectedData = query.select();\n\t\t\t\t\tvar recordsperpage = parseInt(p.rowNum, 10),\n\t\t\t\t\t\ttotal = p.lastSelectedData.length,\n\t\t\t\t\t\tpage = parseInt(p.page, 10),\n\t\t\t\t\t\ttotalpages = Math.ceil(total / recordsperpage),\n\t\t\t\t\t\tretresult = {};\n\t\t\t\t\tif (p.grouping && p.groupingView._locgr) {\n\t\t\t\t\t\tp.groupingView.groups = [];\n\t\t\t\t\t\tvar j, key, udc;\n\t\t\t\t\t\tif (p.footerrow && p.userDataOnFooter) {\n\t\t\t\t\t\t\tfor (key in p.userData) {\n\t\t\t\t\t\t\t\tif (p.userData.hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\t\tp.userData[key] = 0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tudc = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (j = 0; j < total; j++) {\n\t\t\t\t\t\t\tif (udc) {\n\t\t\t\t\t\t\t\tfor (key in p.userData) {\n\t\t\t\t\t\t\t\t\tif (p.userData.hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\t\t\tp.userData[key] += parseFloat(p.lastSelectedData[j][key] || 0);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t$j.groupingPrepare.call($self, p.lastSelectedData[j], j, recordsperpage);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tquery = null;\n\t\t\t\t\tcmtypes = null;\n\t\t\t\t\tvar localReader = p.localReader;\n\t\t\t\t\tretresult[localReader.total] = totalpages;\n\t\t\t\t\tretresult[localReader.page] = page;\n\t\t\t\t\tretresult[localReader.records] = total;\n\t\t\t\t\tretresult[localReader.root] = p.lastSelectedData.slice((page - 1) * recordsperpage, page * recordsperpage);\n\t\t\t\t\tretresult[localReader.userdata] = p.userData;\n\t\t\t\t\treturn retresult;\n\t\t\t\t},\n\t\t\t\tsetWidthOfPagerTdWithPager = function ($pgTable) {\n\t\t\t\t\tvar self = this, width = $pgTable.outerWidth(), fontSize;\n\t\t\t\t\tif (width <= 0) { // not visible\n\t\t\t\t\t\tfontSize = $(self).closest(\".ui-jqgrid>.ui-jqgrid-view\").css(\"font-size\") || \"11px\";\n\t\t\t\t\t\t$(document.body).append(\"<div id='testpg' class='\" + getGuiStyles(\"gBox\", \"ui-jqgrid\") + \"' style='font-size:\" +\n\t\t\t\t\t\t\tfontSize +\n\t\t\t\t\t\t\t\";visibility:hidden;margin:0;padding:0;' ></div>\");\n\t\t\t\t\t\t$($pgTable).clone().appendTo(\"#testpg\");\n\t\t\t\t\t\twidth = $(\"#testpg>.ui-pg-table\").width();\n\t\t\t\t\t\t$(\"#testpg\").remove();\n\t\t\t\t\t}\n\t\t\t\t\tif (width > 0) {\n\t\t\t\t\t\t$pgTable.parent().width(width);\n\t\t\t\t\t}\n\t\t\t\t\treturn width;\n\t\t\t\t},\n\t\t\t\tupdatepager = function (rn, dnd) {\n\t\t\t\t\tvar self = this, $self = $(self), gridSelf = self.grid, cp, last, base1, from, to, tot, fmt, pgboxes = p.pager || \"\", sppg,\n\t\t\t\t\t\ttspg = p.pager ? \"_\" + p.pager.substr(1) : \"\", bDiv = gridSelf.bDiv, numberFormat = $.fmatter ? $.fmatter.NumberFormat : null,\n\t\t\t\t\t\ttspgTop = p.toppager ? \"_\" + p.toppager.substr(1) : \"\",\n\t\t\t\t\t\thoverClasses = getGuiStyles(\"states.hover\"), disabledClasses = getGuiStyles(\"states.disabled\");\n\t\t\t\t\tbase1 = parseInt(p.page, 10) - 1;\n\t\t\t\t\tif (base1 < 0) { base1 = 0; }\n\t\t\t\t\tbase1 = base1 * parseInt(p.rowNum, 10);\n\t\t\t\t\tto = base1 + p.reccount;\n\t\t\t\t\tif (p.scroll) {\n\t\t\t\t\t\tvar rows = $(getGridComponent(COMPONENT_NAMES.BODY_TABLE, bDiv)[0].rows).slice(1);//$(\"tbody:first > tr:gt(0)\", bDiv);\n\t\t\t\t\t\tbase1 = to - rows.length;\n\t\t\t\t\t\tp.reccount = rows.length;\n\t\t\t\t\t\tvar rh = rows.outerHeight() || gridSelf.prevRowHeight;\n\t\t\t\t\t\tif (rh) {\n\t\t\t\t\t\t\tvar top = base1 * rh;\n\t\t\t\t\t\t\tvar height = jgrid.fixMaxHeightOfDiv.call(self, parseInt(p.records, 10) * rh);\n\t\t\t\t\t\t\t$(bDiv).children(\"div\").first().css({ height: height + \"px\" })\n\t\t\t\t\t\t\t\t.children(\"div\").first().css({ height: top + \"px\", display: top + \"px\" ? \"\" : \"none\" });\n\t\t\t\t\t\t\tif (bDiv.scrollTop === 0 && p.page > 1) {\n\t\t\t\t\t\t\t\tbDiv.scrollTop = p.rowNum * (p.page - 1) * rh;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbDiv.scrollLeft = gridSelf.hDiv.scrollLeft;\n\t\t\t\t\t}\n\t\t\t\t\tpgboxes += p.toppager ? (pgboxes ? \",\" : \"\") + p.toppager : \"\";\n\t\t\t\t\tif (pgboxes) {\n\t\t\t\t\t\tfmt = getRes(\"formatter.integer\") || {};\n\t\t\t\t\t\tcp = intNum(p.page);\n\t\t\t\t\t\tlast = intNum(p.lastpage);\n\t\t\t\t\t\t$(\".selbox\", pgboxes).prop(\"disabled\", false);\n\t\t\t\t\t\tif (p.pginput === true) {\n\t\t\t\t\t\t\tvar $pagerInputs = $(\".ui-pg-input\", pgboxes),\n\t\t\t\t\t\t\t\tnumberOfDigitsInPageNumber = String(p.page).length;\n\t\t\t\t\t\t\t$pagerInputs.val(p.page);\n\t\t\t\t\t\t\t// verify the value of size attribute of \"input.ui-pg-input\"\n\t\t\t\t\t\t\t// and increase it if it's required.\n\t\t\t\t\t\t\t$pagerInputs.each(function () {\n\t\t\t\t\t\t\t\tvar size = parseInt($(this).attr(\"size\"), 10);\n\t\t\t\t\t\t\t\tif (size > 0 && size < numberOfDigitsInPageNumber) {\n\t\t\t\t\t\t\t\t\t$(this).attr(\"size\", numberOfDigitsInPageNumber);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tsppg = p.toppager ? \"#sp_1\" + tspg + \",#sp_1\" + tspgTop : \"#sp_1\" + tspg;\n\t\t\t\t\t\t\t$(sppg).html($.fmatter ? numberFormat(p.lastpage, fmt) : p.lastpage)\n\t\t\t\t\t\t\t\t.closest(\".ui-pg-table\").each(function () {\n\t\t\t\t\t\t\t\tsetWidthOfPagerTdWithPager.call(self, $(this));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (p.viewrecords) {\n\t\t\t\t\t\t\tif (p.reccount === 0) {\n\t\t\t\t\t\t\t\t$(\".ui-paging-info\", pgboxes).html(getDef(\"emptyrecords\"));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfrom = base1 + 1;\n\t\t\t\t\t\t\t\ttot = p.records;\n\t\t\t\t\t\t\t\tif ($.fmatter) {\n\t\t\t\t\t\t\t\t\tfrom = numberFormat(from, fmt);\n\t\t\t\t\t\t\t\t\tto = numberFormat(to, fmt);\n\t\t\t\t\t\t\t\t\ttot = numberFormat(tot, fmt);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t$(\".ui-paging-info\", pgboxes).html(jgrid.format(getDef(\"recordtext\"), from, to, tot));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (p.pgbuttons === true) {\n\t\t\t\t\t\t\tif (last <= 0) { cp = 0;}\n\t\t\t\t\t\t\tif (cp <= 0) { cp = last = 0; }\n\t\t\t\t\t\t\tif (cp === 1 || cp === 0) {\n\t\t\t\t\t\t\t\t$(\"#first\" + tspg + \", #prev\" + tspg).addClass(disabledClasses).removeClass(hoverClasses);\n\t\t\t\t\t\t\t\tif (p.toppager) { $(\"#first_t\" + tspgTop + \", #prev_t\" + tspgTop).addClass(disabledClasses).removeClass(hoverClasses); }\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$(\"#first\" + tspg + \", #prev\" + tspg).removeClass(disabledClasses);\n\t\t\t\t\t\t\t\tif (p.toppager) { $(\"#first_t\" + tspgTop + \", #prev_t\" + tspgTop).removeClass(disabledClasses); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (cp === last || cp === 0) {\n\t\t\t\t\t\t\t\t$(\"#next\" + tspg + \", #last\" + tspg).addClass(disabledClasses).removeClass(hoverClasses);\n\t\t\t\t\t\t\t\tif (p.toppager) { $(\"#next_t\" + tspgTop + \", #last_t\" + tspgTop).addClass(disabledClasses).removeClass(hoverClasses); }\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$(\"#next\" + tspg + \", #last\" + tspg).removeClass(disabledClasses);\n\t\t\t\t\t\t\t\tif (p.toppager) { $(\"#next_t\" + tspgTop + \", #last_t\" + tspgTop).removeClass(disabledClasses); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (rn === true && p.rownumbers === true) {\n\t\t\t\t\t\t$(\">td.jqgrid-rownum\", self.rows).each(function (i) {\n\t\t\t\t\t\t\t$(this).html(base1 + 1 + i);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (dnd && p.jqgdnd) { $self.jqGrid(\"gridDnD\", \"updateDnD\"); }\n\t\t\t\t\tfeedback.call(self, \"gridComplete\");\n\t\t\t\t\t$self.triggerHandler(\"jqGridAfterGridComplete\");\n\t\t\t\t},\n\t\t\t\tbeginReq = function () {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tself.grid.hDiv.loading = true;\n\t\t\t\t\tif (p.hiddengrid) { return; }\n\t\t\t\t\t$j.progressBar.call($(self), { method: \"show\", loadtype: p.loadui, htmlcontent: getDef(\"loadtext\") });\n\t\t\t\t},\n\t\t\t\tendReq = function () {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tself.grid.hDiv.loading = false;\n\t\t\t\t\t$j.progressBar.call($(self), { method: \"hide\", loadtype: p.loadui });\n\t\t\t\t},\n\t\t\t\tpopulate = function (npage) {\n\t\t\t\t\tvar self = this, $self = $(self), gridSelf = self.grid;\n\t\t\t\t\tif (!gridSelf.hDiv.loading) {\n\t\t\t\t\t\tvar pvis = p.scroll && npage === false, prm = {}, dt, dstr, pN = p.prmNames;\n\t\t\t\t\t\tif (p.page <= 0) { p.page = Math.min(1, p.lastpage); }\n\t\t\t\t\t\tif (pN.search !== null) { prm[pN.search] = p.search; }\n\t\t\t\t\t\tif (pN.nd !== null) { prm[pN.nd] = new Date().getTime(); }\n\t\t\t\t\t\tif (isNaN(parseInt(p.rowNum, 10)) || parseInt(p.rowNum, 10) <= 0) { p.rowNum = p.maxRowNum; }\n\t\t\t\t\t\tif (pN.rows !== null) { prm[pN.rows] = p.rowNum; }\n\t\t\t\t\t\tif (pN.page !== null) { prm[pN.page] = p.page; }\n\t\t\t\t\t\tif (pN.sort !== null) { prm[pN.sort] = p.sortname; }\n\t\t\t\t\t\tif (pN.order !== null) { prm[pN.order] = p.sortorder; }\n\t\t\t\t\t\tif (p.rowTotal !== null && pN.totalrows !== null) { prm[pN.totalrows] = p.rowTotal; }\n\t\t\t\t\t\tvar lcf = isFunction(p.loadComplete), lc = lcf ? p.loadComplete : null;\n\t\t\t\t\t\tvar adjust = 0;\n\t\t\t\t\t\tnpage = npage || 1;\n\t\t\t\t\t\tif (npage > 1) {\n\t\t\t\t\t\t\tif (pN.npage !== null) {\n\t\t\t\t\t\t\t\tprm[pN.npage] = npage;\n\t\t\t\t\t\t\t\tadjust = npage - 1;\n\t\t\t\t\t\t\t\tnpage = 1;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tlc = function (data) {\n\t\t\t\t\t\t\t\t\tp.page++;\n\t\t\t\t\t\t\t\t\tgridSelf.hDiv.loading = false;\n\t\t\t\t\t\t\t\t\tif (lcf) {\n\t\t\t\t\t\t\t\t\t\tp.loadComplete.call(self, data);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tpopulate.call(self, npage - 1);\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (pN.npage !== null) {\n\t\t\t\t\t\t\tdelete p.postData[pN.npage];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (p.grouping && $j.groupingSetup) {\n\t\t\t\t\t\t\t$j.groupingSetup.call($self);\n\t\t\t\t\t\t\tvar grp = p.groupingView, gi, gs = \"\", index, iColumn, cmValue;\n\t\t\t\t\t\t\tfor (gi = 0; gi < grp.groupField.length; gi++) {\n\t\t\t\t\t\t\t\tindex = grp.groupField[gi];\n\t\t\t\t\t\t\t\tfor (iColumn = 0; iColumn < p.colModel.length; iColumn++) {\n\t\t\t\t\t\t\t\t\tcmValue = p.colModel[iColumn];\n\t\t\t\t\t\t\t\t\tif (cmValue.name === index && cmValue.index) {\n\t\t\t\t\t\t\t\t\t\tindex = cmValue.index;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tgs += index + \" \" + grp.groupOrder[gi] + \", \";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tprm[pN.sort] = gs + prm[pN.sort];\n\t\t\t\t\t\t}\n\t\t\t\t\t\textend(p.postData, prm);\n\t\t\t\t\t\tvar rcnt = !p.scroll ? 1 : self.rows.length - 1,\n\t\t\t\t\t\t\tfixDisplayingHorizontalScrollbar = function () {\n\t\t\t\t\t\t\t\tfixScrollOffsetAndhBoxPadding.call(self);\n\t\t\t\t\t\t\t\t// if no items are displayed in the btable, but the column header is too wide\n\t\t\t\t\t\t\t\t// the horizontal scrollbar of bDiv will be disabled.\n\t\t\t\t\t\t\t\tif (!p.autowidth && (p.widthOrg === undefined || p.widthOrg === \"auto\" || p.widthOrg === \"100%\")) {\n\t\t\t\t\t\t\t\t\t$j.setGridWidth.call($self, p.tblwidth + p.scrollOffset, false);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tresort = function () {\n\t\t\t\t\t\t\t\tvar iRes;\n\t\t\t\t\t\t\t\tif (p.autoresizeOnLoad) {\n\t\t\t\t\t\t\t\t\t$j.autoResizeAllColumns.call($self);\n\t\t\t\t\t\t\t\t\tclearArray(p.columnsToReResizing);\n\t\t\t\t\t\t\t\t\tif (p.autowidth) {\n\t\t\t\t\t\t\t\t\t\t$j.setGridWidth.call($self,\n\t\t\t\t\t\t\t\t\t\t\t$self.closest(\".ui-jqgrid\").parent().width(),\n\t\t\t\t\t\t\t\t\t\t\ttrue);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tfor (iRes = 0; iRes < p.columnsToReResizing.length; iRes++) {\n\t\t\t\t\t\t\t\t\t\t$j.autoResizeColumn.call($self, p.columnsToReResizing[iRes]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tclearArray(p.columnsToReResizing);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfinalReportSteps = function () {\n\t\t\t\t\t\t\t\tfeedback.call(self, \"loadComplete\", dstr);\n\t\t\t\t\t\t\t\tresort();\n\t\t\t\t\t\t\t\t$self.triggerHandler(\"jqGridAfterLoadComplete\", [dstr]);\n\t\t\t\t\t\t\t\tendReq.call(self);\n\t\t\t\t\t\t\t\tp.datatype = \"local\";\n\t\t\t\t\t\t\t\tp.datastr = null;\n\t\t\t\t\t\t\t\tfixDisplayingHorizontalScrollbar();\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfinalReportVirtual = function (data) {\n\t\t\t\t\t\t\t\t$self.triggerHandler(\"jqGridLoadComplete\", [data]);\n\t\t\t\t\t\t\t\tif (lc) { lc.call(self, data); }\n\t\t\t\t\t\t\t\tresort();\n\t\t\t\t\t\t\t\t$self.triggerHandler(\"jqGridAfterLoadComplete\", [data]);\n\t\t\t\t\t\t\t\tif (pvis) { gridSelf.populateVisible.call(self); }\n\t\t\t\t\t\t\t\tif (npage === 1) { endReq.call(self); }\n\t\t\t\t\t\t\t\tfixDisplayingHorizontalScrollbar();\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\treadLocal = function () {\n\t\t\t\t\t\t\t\tvar req = addLocalData.call(self);\n\t\t\t\t\t\t\t\treadInput.call(self, req, rcnt, npage > 1, adjust);\n\t\t\t\t\t\t\t\tfinalReportVirtual(req);\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\tif (!feedback.call(self, \"beforeRequest\")) { return; }\n\t\t\t\t\t\tif (isFunction(p.datatype)) { p.datatype.call(self, p.postData, \"load_\" + p.id, rcnt, npage, adjust); return; }\n\t\t\t\t\t\tdt = p.datatype.toLowerCase();\n\t\t\t\t\t\t$(grid.eDiv).hide();\n\t\t\t\t\t\tswitch (dt) {\n\t\t\t\t\t\t\tcase \"json\":\n\t\t\t\t\t\t\tcase \"jsonp\":\n\t\t\t\t\t\t\tcase \"xml\":\n\t\t\t\t\t\t\tcase \"script\":\n\t\t\t\t\t\t\t\t$.ajax(extend({\n\t\t\t\t\t\t\t\t\turl: p.url,\n\t\t\t\t\t\t\t\t\ttype: p.mtype,\n\t\t\t\t\t\t\t\t\tdataType: dt,\n\t\t\t\t\t\t\t\t\t//data: $.isFunction(p.serializeGridData)? p.serializeGridData.call(self,p.postData) : p.postData,\n\t\t\t\t\t\t\t\t\tdata: jgrid.serializeFeedback.call(ts, p.serializeGridData, \"jqGridSerializeGridData\", p.postData),\n\t\t\t\t\t\t\t\t\tsuccess: function (data, textStatus, jqXHR) {\n\t\t\t\t\t\t\t\t\t\tp.jqXhr = null;\n\t\t\t\t\t\t\t\t\t\t$(grid.eDiv).hide();\n\t\t\t\t\t\t\t\t\t\tif (isFunction(p.beforeProcessing)) {\n\t\t\t\t\t\t\t\t\t\t\tif (p.beforeProcessing.call(self, data, textStatus, jqXHR) === false) {\n\t\t\t\t\t\t\t\t\t\t\t\tendReq.call(self);\n\t\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treadInput.call(self, data, rcnt, npage > 1, adjust);\n\t\t\t\t\t\t\t\t\t\tfinalReportVirtual(data);\n\t\t\t\t\t\t\t\t\t\tif (p.loadonce || p.treeGrid) {\n\t\t\t\t\t\t\t\t\t\t\tp.dataTypeOrg = p.datatype;\n\t\t\t\t\t\t\t\t\t\t\tp.datatype = \"local\";\n\t\t\t\t\t\t\t\t\t\t\tif (p.forceClientSorting) { readLocal(); }\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\terror: function (jqXHR, textStatus, errorThrown) {\n\t\t\t\t\t\t\t\t\t\tp.jqXhr = null;\n\t\t\t\t\t\t\t\t\t\tif (isFunction(p.loadError)) { p.loadError.call(self, jqXHR, textStatus, errorThrown); }\n\t\t\t\t\t\t\t\t\t\tif (npage === 1) { endReq.call(self); }\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tbeforeSend: function (jqXHR, settings) {\n\t\t\t\t\t\t\t\t\t\tvar gotoreq = true;\n\t\t\t\t\t\t\t\t\t\tif (isFunction(p.loadBeforeSend)) {\n\t\t\t\t\t\t\t\t\t\t\tgotoreq = p.loadBeforeSend.call(self, jqXHR, settings);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif (gotoreq === undefined) { gotoreq = true; }\n\t\t\t\t\t\t\t\t\t\tif (gotoreq === false) {\n\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tp.jqXhr = jqXHR;\n\t\t\t\t\t\t\t\t\t\tbeginReq.call(self);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}, jgrid.ajaxOptions, p.ajaxGridOptions));\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"xmlstring\":\n\t\t\t\t\t\t\t\tbeginReq.call(self);\n\t\t\t\t\t\t\t\tdstr = typeof p.datastr === \"string\" ? $.parseXML(p.datastr) : p.datastr;\n\t\t\t\t\t\t\t\treadInput.call(self, dstr);\n\t\t\t\t\t\t\t\tfinalReportSteps();\n\t\t\t\t\t\t\t\tif (p.forceClientSorting) { readLocal(); }\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"jsonstring\":\n\t\t\t\t\t\t\t\tbeginReq.call(self);\n\t\t\t\t\t\t\t\tdstr = p.datastr && typeof p.datastr === \"string\" ? $.parseJSON(p.datastr) : p.datastr;\n\t\t\t\t\t\t\t\treadInput.call(self, dstr);\n\t\t\t\t\t\t\t\tfinalReportSteps();\n\t\t\t\t\t\t\t\tif (p.forceClientSorting) { readLocal(); }\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"local\":\n\t\t\t\t\t\t\tcase \"clientside\":\n\t\t\t\t\t\t\t\tbeginReq.call(self);\n\t\t\t\t\t\t\t\tp.datatype = \"local\";\n\t\t\t\t\t\t\t\treadLocal();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsetHeadCheckBox = function (checked) {\n\t\t\t\t\tvar self = this, gridSelf = self.grid;\n\t\t\t\t\t$(p.cb, gridSelf.hDiv).prop(\"checked\", checked);\n\t\t\t\t\tif (p.frozenColumns) {\n\t\t\t\t\t\t$(p.cb, gridSelf.fhDiv).prop(\"checked\", checked);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcancelOrSaveEditing = function (mode) {\n\t\t\t\t\t// The current code don't take in the consideration errors during\n\t\t\t\t\t// remote saving/canceling. The standard behavior in case of\n\t\t\t\t\t// remote saving/canceling is wating till the server response and\n\t\t\t\t\t// holding inline/cell editing if saving/canceling failed by some\n\t\t\t\t\t// server reason. The current code of cancelOrSaveEditing\n\t\t\t\t\t// don't wait for the server response\n\t\t\t\t\tvar iEditing, savedRowInfo;\n\t\t\t\t\tfor (iEditing = 0; iEditing < p.savedRow.length; iEditing++) {\n\t\t\t\t\t\tsavedRowInfo = p.savedRow[iEditing];\n\t\t\t\t\t\tif (mode === \"save\") {\n\t\t\t\t\t\t\tif (savedRowInfo.hasOwnProperty(\"ic\")) {\n\t\t\t\t\t\t\t\t$self0.jqGrid(\"saveCell\", savedRowInfo.id, savedRowInfo.ic);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$self0.jqGrid(\"saveRow\", savedRowInfo.id);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// mode === \"cancel\"\n\t\t\t\t\t\t\tif (savedRowInfo.hasOwnProperty(\"ic\")) {\n\t\t\t\t\t\t\t\t$self0.jqGrid(\"restoreCell\", savedRowInfo.id, savedRowInfo.ic);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$self0.jqGrid(\"restoreRow\", savedRowInfo.id);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t//clearArray(p.savedRow); // p.savedRow = [];\n\t\t\t\t\t//p.editingInfo = {};\n\t\t\t\t},\n\t\t\t\tsetPager = function (pgid, tp) {\n\t\t\t\t\tvar hoverClasses = getGuiStyles(\"states.hover\"), disabledClasses = getGuiStyles(\"states.disabled\"),\n\t\t\t\t\t\tsep = \"<td class='ui-pg-button \" + disabledClasses + \"'><span class='ui-separator'></span></td>\",\n\t\t\t\t\t\tpginp = \"\",\n\t\t\t\t\t\tblockAlign = p.pagerpos === \"left\" ? \"margin-right:auto;\" : (p.pagerpos === \"right\" ? \"margin-left:auto;\" : \"margin-left:auto;margin-right:auto;\"),\n\t\t\t\t\t\tpgl = \"<table \" + \"style='table-layout:auto;white-space: pre;\" + blockAlign + \"' class='ui-pg-table'><tbody><tr>\",\n\t\t\t\t\t\tstr = \"\", pgcnt, lft, cent, rgt, twd, i,\n\t\t\t\t\t\tclearVals = function (onpaging, newPage, newRowNum) {\n\t\t\t\t\t\t\tif (p.savedRow.length > 0 && p.pagingDuringEditing === \"prevent\") {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!feedback.call(ts, \"onPaging\", onpaging, {\n\t\t\t\t\t\t\t\tnewPage: newPage,\n\t\t\t\t\t\t\t\tcurrentPage: intNum(p.page, 1),\n\t\t\t\t\t\t\t\tlastPage: intNum(p.lastpage, 1),\n\t\t\t\t\t\t\t\tcurrentRowNum: intNum(p.rowNum, 10),\n\t\t\t\t\t\t\t\tnewRowNum: newRowNum\n\t\t\t\t\t\t\t})) {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tp.selrow = null;\n\t\t\t\t\t\t\tif (p.multiselect) {\n\t\t\t\t\t\t\t\tif (!p.multiPageSelection) {\n\t\t\t\t\t\t\t\t\tclearArray(p.selarrrow); // p.selarrrow = [];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsetHeadCheckBox.call(ts, false);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcancelOrSaveEditing(p.pagingDuringEditing);\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t};\n\t\t\t\t\ttp += \"_\" + pgid;\n\t\t\t\t\tpgcnt = \"pg_\" + pgid;\n\t\t\t\t\tlft = pgid + \"_left\";\n\t\t\t\t\tcent = pgid + \"_center\";\n\t\t\t\t\trgt = pgid + \"_right\";\n\t\t\t\t\t$(\"#\" + jqID(pgid))\n\t\t\t\t\t\t.append(\"<div id='\" + pgcnt + \"' class='ui-pager-control' role='group'><table class='ui-pg-table' style='width:100%;table-layout:fixed;height:100%;'><tbody><tr>\" +\n\t\t\t\t\t\t\t\"<td id='\" + lft + \"' class='ui-jqgrid-pg-left'\" + (p.pagerLeftWidth !== undefined ? \" style='width:\" + p.pagerLeftWidth + \"px;'\" : \"\") + \"></td>\" +\n\t\t\t\t\t\t\t\"<td id='\" + cent + \"' class='ui-jqgrid-pg-center'\" + (p.pagerCenterWidth !== undefined ? \" style='width:\" + p.pagerCenterWidth + \"px;'\" : \"\") + \"></td>\" +\n\t\t\t\t\t\t\t\"<td id='\" + rgt + \"' class='ui-jqgrid-pg-right'\" + (p.pagerRightWidth !== undefined ? \" style='width:\" + p.pagerRightWidth + \"px;'\" : \"\") + \"></td></tr></tbody></table></div>\")\n\t\t\t\t\t\t.attr(\"dir\", \"ltr\"); //explicit setting\n\t\t\t\t\tpgcnt = \"#\" + jqID(pgcnt); // modify to id selector\n\t\t\t\t\tif (p.rowList.length > 0) {\n\t\t\t\t\t\tstr = \"<td dir='\" + dir + \"'>\";\n\t\t\t\t\t\tvar pgrecs = getDef(\"pgrecs\");\n\t\t\t\t\t\tstr += \"<select class='\" + getGuiStyles(\"pager.pagerSelect\", \"ui-pg-selbox\") + \"' \" + (pgrecs ? \"title='\" + pgrecs + \"'\" : \"\") + \">\";\n\t\t\t\t\t\tvar strnm;\n\t\t\t\t\t\tfor (i = 0; i < p.rowList.length; i++) {\n\t\t\t\t\t\t\tstrnm = p.rowList[i].toString().split(\":\");\n\t\t\t\t\t\t\tif (strnm.length === 1) {\n\t\t\t\t\t\t\t\tstrnm[1] = strnm[0];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tstr += \"<option value='\" + strnm[0] + \"'\" + ((intNum(p.rowNum, 0) === intNum(strnm[0], 0)) ? \" selected='selected'\" : \"\") + \">\" + strnm[1] + \"</option>\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstr += \"</select></td>\";\n\t\t\t\t\t}\n\t\t\t\t\tif (dir === \"rtl\") { pgl += str; }\n\t\t\t\t\tif (p.pginput === true) { pginp = \"<td dir='\" + dir + \"'>\" + jgrid.format(getDef(\"pgtext\") || \"\", \"<input aria-label='Page No.' class='\" + getGuiStyles(\"pager.pagerInput\", \"ui-pg-input\") + \"' type='text' size='2' maxlength='7' value='0'/>\", \"<span id='sp_1_\" + pgid + \"'>0</span>\") + \"</td>\"; }\n\t\t\t\t\tpgid = \"#\" + jqID(pgid); // modify to id selector\n\t\t\t\t\tif (p.pgbuttons === true) {\n\t\t\t\t\t\tvar po = [\"first\", \"prev\", \"next\", \"last\"],\n\t\t\t\t\t\t\tpoIcons = po.slice(),\n\t\t\t\t\t\t\tbuttonClasses = getGuiStyles(\"pager.pagerButton\", \"ui-pg-button\"),\n\t\t\t\t\t\t\tbuildPagerButton = function (buttonName, iconName) {\n\t\t\t\t\t\t\t\tvar titleText = getDef(\"pg\" + buttonName);\n\t\t\t\t\t\t\t\treturn \"<td role='button' tabindex='0' id='\" + buttonName + tp + \"' class='\" + buttonClasses + \"' \" +\n\t\t\t\t\t\t\t\t\t(titleText ? \"title='\" + titleText + \"'\" : \"\") + \"><span class='\" + getIcon(\"pager.\" + iconName) + \"'></span></td>\";\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\tif (dir === \"rtl\") { po.reverse(); }\n\t\t\t\t\t\tfor (i = 0; i < po.length; i++) {\n\t\t\t\t\t\t\tpgl += buildPagerButton(po[i], poIcons[i]);\n\t\t\t\t\t\t\tif (i === 1) {\n\t\t\t\t\t\t\t\tpgl += pginp !== \"\" ? sep + pginp + sep : \"\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (pginp !== \"\") { pgl += pginp; }\n\t\t\t\t\tif (dir === \"ltr\") { pgl += str; }\n\t\t\t\t\tpgl += \"</tr></tbody></table>\";\n\t\t\t\t\tif (p.viewrecords === true) { $(\"td\" + pgid + \"_\" + p.recordpos, pgcnt).append(\"<span dir='\" + dir + \"' style='text-align:\" + p.recordpos + \"' class='ui-paging-info'></span>\"); }\n\t\t\t\t\tvar $pagerIn = $(\"td\" + pgid + \"_\" + p.pagerpos, pgcnt);\n\t\t\t\t\t$pagerIn.append(pgl);\n\t\t\t\t\ttwd = setWidthOfPagerTdWithPager.call(this, $pagerIn.children(\".ui-pg-table\"));\n\t\t\t\t\tp._nvtd = [];\n\t\t\t\t\tp._nvtd[0] = twd ? Math.floor((p.width - twd) / 2) : Math.floor(p.width / 3);\n\t\t\t\t\tp._nvtd[1] = 0;\n\t\t\t\t\tpgl = null;\n\t\t\t\t\t$(\".ui-pg-selbox\", pgcnt).on(\"change\", function () {\n\t\t\t\t\t\tvar newRowNum = intNum(this.value, 10),\n\t\t\t\t\t\t\tnewPage = Math.round(p.rowNum * (p.page - 1) / newRowNum - 0.5) + 1;\n\t\t\t\t\t\tif (!clearVals(\"records\", newPage, newRowNum)) { return false; }\n\t\t\t\t\t\tp.page = newPage;\n\t\t\t\t\t\tp.rowNum = newRowNum;\n\t\t\t\t\t\tif (p.pager) { $(\".ui-pg-selbox\", p.pager).val(newRowNum); }\n\t\t\t\t\t\tif (p.toppager) { $(\".ui-pg-selbox\", p.toppager).val(newRowNum); }\n\t\t\t\t\t\tpopulate.call(ts);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t});\n\t\t\t\t\tif (p.pgbuttons === true) {\n\t\t\t\t\t\t$(\".ui-pg-button\", pgcnt).hover(function () {\n\t\t\t\t\t\t\tif (hasOneFromClasses(this, disabledClasses)) {\n\t\t\t\t\t\t\t\tthis.style.cursor = \"default\";\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$(this).addClass(hoverClasses);\n\t\t\t\t\t\t\t\tthis.style.cursor = \"pointer\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, function () {\n\t\t\t\t\t\t\tif (!hasOneFromClasses(this, disabledClasses)) {\n\t\t\t\t\t\t\t\t$(this).removeClass(hoverClasses);\n\t\t\t\t\t\t\t\tthis.style.cursor = \"default\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$(\"#first\" + jqID(tp) + \", #prev\" + jqID(tp) + \", #next\" + jqID(tp) + \", #last\" + jqID(tp)).click(function () {\n\t\t\t\t\t\t\tif (hasOneFromClasses(this, disabledClasses)) {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar cp = intNum(p.page, 1), newPage = cp, onpaging = this.id,\n\t\t\t\t\t\t\t\tlast = intNum(p.lastpage, 1), selclick = false,\n\t\t\t\t\t\t\t\tfp = true, pp = true, np = true, lp = true;\n\t\t\t\t\t\t\tif (last === 0 || last === 1) {\n\t\t\t\t\t\t\t\tif (cp <= 1) {\n\t\t\t\t\t\t\t\t\tfp = false;\n\t\t\t\t\t\t\t\t\tpp = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tnp = false;\n\t\t\t\t\t\t\t\tlp = false;\n\t\t\t\t\t\t\t} else if (last > 1 && cp >= 1) {\n\t\t\t\t\t\t\t\tif (cp === 1) {\n\t\t\t\t\t\t\t\t\tfp = false;\n\t\t\t\t\t\t\t\t\tpp = false;\n\t\t\t\t\t\t\t\t} else if (cp === last) {\n\t\t\t\t\t\t\t\t\tnp = false;\n\t\t\t\t\t\t\t\t\tlp = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (last > 1 && cp === 0) {\n\t\t\t\t\t\t\t\tnp = false;\n\t\t\t\t\t\t\t\tlp = false;\n\t\t\t\t\t\t\t\tcp = last - 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (this.id === \"first\" + tp && fp) {\n\t\t\t\t\t\t\t\tonpaging = \"first\";\n\t\t\t\t\t\t\t\tnewPage = 1;\n\t\t\t\t\t\t\t\tselclick = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (this.id === \"prev\" + tp && pp) {\n\t\t\t\t\t\t\t\tonpaging = \"prev\";\n\t\t\t\t\t\t\t\tnewPage = (cp - 1);\n\t\t\t\t\t\t\t\tselclick = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (this.id === \"next\" + tp && np) {\n\t\t\t\t\t\t\t\tonpaging = \"next\";\n\t\t\t\t\t\t\t\tnewPage = (cp + 1);\n\t\t\t\t\t\t\t\tselclick = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (this.id === \"last\" + tp && lp) {\n\t\t\t\t\t\t\t\tonpaging = \"last\";\n\t\t\t\t\t\t\t\tnewPage = last;\n\t\t\t\t\t\t\t\tselclick = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!clearVals(onpaging, newPage, intNum(p.rowNum, 10))) { return false; }\n\t\t\t\t\t\t\tp.page = newPage;\n\t\t\t\t\t\t\tif (selclick) {\n\t\t\t\t\t\t\t\tpopulate.call(ts);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (p.pginput === true) {\n\t\t\t\t\t\t$(\"input.ui-pg-input\", pgcnt).on(\"keypress.jqGrid\", function (e) {\n\t\t\t\t\t\t\tvar key = e.charCode || e.keyCode || 0, newPage = intNum($(this).val(), 1);\n\t\t\t\t\t\t\tif (key === 13) {\n\t\t\t\t\t\t\t\tif (!clearVals(\"user\", newPage, intNum(p.rowNum, 10))) { return false; }\n\t\t\t\t\t\t\t\t$(this).val(newPage);\n\t\t\t\t\t\t\t\tp.page = ($(this).val() > 0) ? $(this).val() : p.page;\n\t\t\t\t\t\t\t\tpopulate.call(ts);\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn this;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t$pagerIn.children(\".ui-pg-table\").on(\"keydown.jqGrid\", function (e) {\n\t\t\t\t\t\tvar $focused;\n\t\t\t\t\t\tif (e.which === 13) {\n\t\t\t\t\t\t\t$focused = $pagerIn.find(\":focus\");\n\t\t\t\t\t\t\tif ($focused.length > 0) {\n\t\t\t\t\t\t\t\t$focused.trigger(\"click\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tgetSortNames = function (sortNames, sortDirs, cm) {\n\t\t\t\t\t// sortNames, sortDirs MUST be initialized to [] and {} before\n\t\t\t\t\t// process sortname\n\t\t\t\t\teach((p.sortname + \" \" + p.sortorder).split(\",\"), function () {\n\t\t\t\t\t\tvar s = $.trim(this).split(\" \");\n\t\t\t\t\t\tif (s.length === 2) {\n\t\t\t\t\t\t\tsortNames.push(s[0]);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tif (cm != null) {\n\t\t\t\t\t\tvar i = $.inArray(cm.index || cm.name, sortNames);\n\t\t\t\t\t\tif (cm.lso !== \"\" && i < 0) {\n\t\t\t\t\t\t\t// new column is clicked\n\t\t\t\t\t\t\tsortNames.push(cm.index || cm.name);\n\t\t\t\t\t\t} else if (cm.lso === \"\" && i >= 0) {\n\t\t\t\t\t\t\t// remove column\n\t\t\t\t\t\t\tsortNames.splice(i, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\teach(p.colModel, function () {\n\t\t\t\t\t\tvar sortName = this.index || this.name, splas;\n\t\t\t\t\t\tif (this.lso) {\n\t\t\t\t\t\t\tsplas = this.lso.split(\"-\");\n\t\t\t\t\t\t\tif ($.inArray(sortName, sortNames) < 0) {\n\t\t\t\t\t\t\t\tsortNames.push(sortName);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsortDirs[sortName] = splas[splas.length - 1];\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tmultiSort = function (iCol1, obj) {\n\t\t\t\t\tvar sort1 = \"\", cm = p.colModel[iCol1], so,\n\t\t\t\t\t\tdisabledClasses = getGuiStyles(\"states.disabled\"),\n\t\t\t\t\t\t$selTh = p.frozenColumns ? $(ts.grid.headers[iCol1].el).add($(obj)) : $(ts.grid.headers[iCol1].el),\n\t\t\t\t\t\t$iconsSpan = $selTh.find(\"span.s-ico\"),\n\t\t\t\t\t\t$iconAsc = $iconsSpan.children(\"span.ui-icon-asc\"),\n\t\t\t\t\t\t$iconDesc = $iconsSpan.children(\"span.ui-icon-desc\"),\n\t\t\t\t\t\t$iconsActive = $iconAsc, $iconsInictive = $iconDesc, sortNames = [], sortDirs = {};\n\n\t\t\t\t\t$selTh.find(\"span.ui-grid-ico-sort\").addClass(disabledClasses); // for both icons\n\t\t\t\t\t$selTh.attr(\"aria-selected\", \"false\");\n\n\t\t\t\t\tif (cm.lso) {\n\t\t\t\t\t\t$iconsSpan.show();\n\t\t\t\t\t\tso = cm.lso.split(\"-\");\n\t\t\t\t\t\tso = so[so.length - 1];\n\t\t\t\t\t\tif (so === \"desc\") {\n\t\t\t\t\t\t\t$iconsActive = $iconDesc;\n\t\t\t\t\t\t\t$iconsInictive = $iconAsc;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$iconsActive.removeClass(disabledClasses).css(\"display\", \"\"); // show;\n\t\t\t\t\t\tif (p.showOneSortIcon) {\n\t\t\t\t\t\t\t$iconsInictive.hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$selTh.attr(\"aria-selected\", \"true\");\n\t\t\t\t\t} else if (!p.viewsortcols[0]) {\n\t\t\t\t\t\t$iconsSpan.hide();\n\t\t\t\t\t}\n\n\t\t\t\t\tgetSortNames(sortNames, sortDirs, cm);\n\t\t\t\t\tif (typeof p.sortname === \"string\" && p.sortname !== \"\" && p.sortname.split(\",\").length < sortNames.length) {\n\t\t\t\t\t\tvar removeSorting = function (sortNameToRemove) {\n\t\t\t\t\t\t\teach(p.colModel, function () {\n\t\t\t\t\t\t\t\tvar indexInSortNames, thDivIdSelector = \"#jqgh_\" + jgrid.jqID(p.id + \"_\" + this.name),\n\t\t\t\t\t\t\t\t\t$thDiv = $(thDivIdSelector);\n\t\t\t\t\t\t\t\tif (this.lso && (this.index || this.name) === sortNameToRemove) {\n\t\t\t\t\t\t\t\t\tif (typeof sortNames.indexOf === \"function\") {\n\t\t\t\t\t\t\t\t\t\tindexInSortNames = sortNames.indexOf(sortNameToRemove);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t// old web browser\n\t\t\t\t\t\t\t\t\t\tfor (indexInSortNames = 0; indexInSortNames < sortNames.length; indexInSortNames++) {\n\t\t\t\t\t\t\t\t\t\t\tif (sortNames[indexInSortNames] === sortNameToRemove) {\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif (indexInSortNames === sortNames.length) {\n\t\t\t\t\t\t\t\t\t\t\tindexInSortNames = -1;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (indexInSortNames >= 0) {\n\t\t\t\t\t\t\t\t\t\tsortNames.splice(indexInSortNames, 1);\n\t\t\t\t\t\t\t\t\t\tthis.lso = \"\";\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (p.frozenColumns) {\n\t\t\t\t\t\t\t\t\t$thDiv = $thDiv.add($(grid.fhDiv).find(thDivIdSelector));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t$thDiv.children(\".s-ico\")[this.lso ? \"show\" : \"hide\"]();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t};\n\t\t\t\t\t\tif (p.multiSortOrder === \"lastClickedFirstSorted\" && sortNames.length > 1) {\n\t\t\t\t\t\t\tsortNames.unshift(sortNames[sortNames.length - 1]);\n\t\t\t\t\t\t\tsortNames.pop();\n\t\t\t\t\t\t\twhile (sortNames.length > p.maxSortColumns) {\n\t\t\t\t\t\t\t\tremoveSorting(sortNames[sortNames.length - 1]); //sortNames.pop() and a little more\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (isFunction(p.multiSortOrder)) {\n\t\t\t\t\t\t\tsortNames = p.multiSortOrder.call(ts, {\n\t\t\t\t\t\t\t\tsortNames: sortNames,\n\t\t\t\t\t\t\t\tcm: cm,\n\t\t\t\t\t\t\t\tsortDirs: sortDirs,\n\t\t\t\t\t\t\t\tremoveSorting: removeSorting\n\t\t\t\t\t\t\t}) || sortNames;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\teach(sortNames, function () {\n\t\t\t\t\t\tif (sort1.length > 0) { sort1 += \", \"; }\n\t\t\t\t\t\tsort1 += this + \" \" + sortDirs[this];\n\t\t\t\t\t\tp.sortorder = sortDirs[this];\n\t\t\t\t\t});\n\t\t\t\t\tp.sortname = sort1.substring(0, sort1.length - p.sortorder.length - 1);\n\t\t\t\t\tif (p.showSortOrder) {\n\t\t\t\t\t\t// reset multisort indexes\n\t\t\t\t\t\teach(p.colModel, function () {\n\t\t\t\t\t\t\tif (this.sortable) {\n\t\t\t\t\t\t\t\tvar sortIndex = inArray(this.name, sortNames),\n\t\t\t\t\t\t\t\t\tthDivIdSelector = \"#jqgh_\" + jgrid.jqID(p.id + \"_\" + this.name),\n\t\t\t\t\t\t\t\t\t$thDiv = $(thDivIdSelector);\n\n\t\t\t\t\t\t\t\tif (p.frozenColumns) {\n\t\t\t\t\t\t\t\t\t$thDiv = $thDiv.add($(grid.fhDiv).find(thDivIdSelector));\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t$thDiv\n\t\t\t\t\t\t\t\t\t.children(\".ui-jqgrid-sort-order\")\n\t\t\t\t\t\t\t\t\t.html(sortIndex < 0 ?\n\t\t\t\t\t\t\t\t\t\t\"&nbsp;\" :\n\t\t\t\t\t\t\t\t\t\tisFunction(p.formatSortOrder) ?\n\t\t\t\t\t\t\t\t\t\t\tp.formatSortOrder.call(ts, { cm: this, sortIndex: sortIndex }) :\n\t\t\t\t\t\t\t\t\t\t\tsortIndex + 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsortData = function (index, idxcol, reload, sor, obj, e) {\n\t\t\t\t\tvar self = this, mygrid = self.grid, cm = p.colModel[idxcol], disabledClasses = getGuiStyles(\"states.disabled\");\n\t\t\t\t\tif (cm == null || !cm.sortable) { return; }\n\t\t\t\t\tif (p.savedRow.length > 0 && p.sortingDuringEditing === \"prevent\") { return; }\n\n\t\t\t\t\tif (p.lastsort === idxcol && p.sortname !== \"\") {\n\t\t\t\t\t\tif (p.sortorder === \"asc\") {\n\t\t\t\t\t\t\tp.sortorder = \"desc\";\n\t\t\t\t\t\t} else if (p.sortorder === \"desc\") {\n\t\t\t\t\t\t\tp.sortorder = \"asc\";\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tp.sortorder = cm.firstsortorder || \"asc\";\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tp.sortorder = cm.firstsortorder || \"asc\";\n\t\t\t\t\t}\n\n\t\t\t\t\t// first set new value of lso:\n\t\t\t\t\t// \"asc\" -> \"asc-desc\", new sorting to \"desc\"\n\t\t\t\t\t// \"desc\" -> \"desc-asc\", new sorting to \"asc\"\n\t\t\t\t\t// \"asc-desc\" or \"desc-asc\" -> \"\", no new sorting \"\"\n\t\t\t\t\t// \"\" -> cm.firstsortorder || \"asc\"\n\t\t\t\t\tif (cm.lso) {\n\t\t\t\t\t\tif (cm.lso === \"asc\") {\n\t\t\t\t\t\t\tcm.lso += \"-desc\";\n\t\t\t\t\t\t} else if (cm.lso === \"desc\") {\n\t\t\t\t\t\t\tcm.lso += \"-asc\";\n\t\t\t\t\t\t} else if ((cm.lso === \"asc-desc\" || cm.lso === \"desc-asc\") && (p.threeStateSort || p.multiSort)) {\n\t\t\t\t\t\t\tcm.lso = \"\";\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcm.lso = cm.firstsortorder || \"asc\";\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!reload && p.resetPageAfterSort) {\n\t\t\t\t\t\tp.page = 1;\n\t\t\t\t\t}\n\t\t\t\t\tif (p.multiSort) {\n\t\t\t\t\t\tmultiSort(idxcol, obj);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (sor) {\n\t\t\t\t\t\t\tif (p.lastsort === idxcol && p.sortorder === sor && !reload) { return; }\n\t\t\t\t\t\t\tp.sortorder = sor;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar headers = mygrid.headers, fhDiv = mygrid.fhDiv,\n\t\t\t\t\t\t\t$previousSelectedTh = headers[p.lastsort] ? $(headers[p.lastsort].el) : $(),\n\t\t\t\t\t\t\t$newSelectedTh = p.frozenColumns ? $(obj) : $(headers[idxcol].el),\n\t\t\t\t\t\t\t$iconsSpan = $newSelectedTh.find(\"span.s-ico\"),\n\t\t\t\t\t\t\t$iconsActive = $iconsSpan.children(\".ui-icon-\" + p.sortorder),\n\t\t\t\t\t\t\t$iconsInictive = $iconsSpan.children(\".ui-icon-\" + (p.sortorder === \"asc\" ? \"desc\" : \"asc\"));\n\n\t\t\t\t\t\tcm = p.colModel[p.lastsort];\n\t\t\t\t\t\t$previousSelectedTh.find(\".ui-grid-ico-sort\").addClass(disabledClasses);\n\t\t\t\t\t\t$previousSelectedTh.attr(\"aria-selected\", \"false\");\n\t\t\t\t\t\tif (p.frozenColumns) {\n\t\t\t\t\t\t\tfhDiv.find(\".ui-grid-ico-sort\").addClass(disabledClasses);\n\t\t\t\t\t\t\tfhDiv.find(\"th\").attr(\"aria-selected\", \"false\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!p.viewsortcols[0]) {\n\t\t\t\t\t\t\tif (p.lastsort !== idxcol) {\n\t\t\t\t\t\t\t\tif (p.frozenColumns) {\n\t\t\t\t\t\t\t\t\tfhDiv.find(\"span.s-ico\").hide();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t$previousSelectedTh.find(\"span.s-ico\").hide();\n\t\t\t\t\t\t\t\t$iconsSpan.show();\n\t\t\t\t\t\t\t} else if (p.sortname === \"\") { // if p.lastsort === idxcol but p.sortname === \"\"\n\t\t\t\t\t\t\t\t$iconsSpan.show(); // ???\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (p.lastsort !== idxcol) {\n\t\t\t\t\t\t\tif ($previousSelectedTh.data(\"autoResized\") === \"true\" &&\n\t\t\t\t\t\t\t\t((cm != null && cm.autoResizing != null && cm.autoResizing.compact) ||\n\t\t\t\t\t\t\t\t\tp.autoResizing.compact)) {\n\t\t\t\t\t\t\t\t// recalculate the width of the column after removing sort icon\n\t\t\t\t\t\t\t\tp.columnsToReResizing.push(p.lastsort);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcm = p.colModel[idxcol];\n\t\t\t\t\t\t$iconsSpan.css(\"display\", \"\"); // show\n\t\t\t\t\t\tif (cm.lso !== \"\") {\n\t\t\t\t\t\t\t$iconsActive.removeClass(disabledClasses).css(\"display\", \"\"); // show\n\t\t\t\t\t\t\tif (p.showOneSortIcon) {\n\t\t\t\t\t\t\t\t$iconsInictive.removeClass(disabledClasses).hide();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t$newSelectedTh.attr(\"aria-selected\", \"true\");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$newSelectedTh.attr(\"aria-selected\", \"false\");\n\t\t\t\t\t\t\tif (p.threeStateSort) {\n\t\t\t\t\t\t\t\tp.sortorder = \"\";\n\t\t\t\t\t\t\t\tif (!p.viewsortcols[0]) {\n\t\t\t\t\t\t\t\t\t$iconsSpan.hide();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (p.lastsort !== idxcol && $newSelectedTh.data(\"autoResized\") === \"true\") {\n\t\t\t\t\t\t\tif ((cm != null && cm.autoResizing != null && cm.autoResizing.compact) ||\n\t\t\t\t\t\t\t\tp.autoResizing.compact) {\n\t\t\t\t\t\t\t\t// recalculate the width of the column after removing sort icon\n\t\t\t\t\t\t\t\tp.columnsToReResizing.push(idxcol);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tp.sortname = cm.index || index;\n\t\t\t\t\t}\n\t\t\t\t\tif (!feedback.call(self, \"onSortCol\", p.sortname, idxcol, p.sortorder, e || {})) {\n\t\t\t\t\t\tp.lastsort = idxcol;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (p.datatype === \"local\") {\n\t\t\t\t\t\tif (p.deselectAfterSort && !p.multiPageSelection) { $j.resetSelection.call($(self)); }\n\t\t\t\t\t} else if (!p.multiPageSelection) {\n\t\t\t\t\t\tp.selrow = null;\n\t\t\t\t\t\tif (p.multiselect) {\n\t\t\t\t\t\t\tsetHeadCheckBox.call(self, false);\n\t\t\t\t\t\t\tclearArray(p.selarrrow); //p.selarrrow =[];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcancelOrSaveEditing(p.sortingDuringEditing);\n\t\t\t\t\tif (p.scroll) {\n\t\t\t\t\t\tvar sscroll = mygrid.bDiv.scrollLeft;\n\t\t\t\t\t\tgrid.emptyRows.call(self, true, false);\n\t\t\t\t\t\tmygrid.hDiv.scrollLeft = sscroll;\n\t\t\t\t\t}\n\t\t\t\t\tif (p.subGrid && p.datatype === \"local\") {\n\t\t\t\t\t\t$(\"td.sgexpanded\", \"#\" + jqID(p.id)).each(function () {\n\t\t\t\t\t\t\t$(this).trigger(\"click\");\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tpopulate.call(self);\n\t\t\t\t\tp.lastsort = idxcol;\n\t\t\t\t\tif (p.sortname !== index && idxcol) { p.lastsort = idxcol; }\n\t\t\t\t},\n\t\t\t\tsetInitialColWidth = function () {\n\t\t\t\t\tvar initialWidth = 0, borderAndPaddingWidth = jgrid.cell_width ? 0 : intNum(p.cellLayout, 0), numberOfVariableColumns = 0, iLastVariableColumn, scrollbarWidth = intNum(p.scrollOffset, 0), columnWidth, hasScrollbar = false, totalVariableWidth, fixedColumnsWidth = 0, correctur,\n\t\t\t\t\t\tisCellClassHidden = jgrid.isCellClassHidden;\n\t\t\t\t\teach(p.colModel, function () {\n\t\t\t\t\t\tif (this.hidden === undefined) { this.hidden = false; }\n\t\t\t\t\t\tif (p.grouping && p.autowidth) {\n\t\t\t\t\t\t\tvar ind = inArray(this.name, p.groupingView.groupField);\n\t\t\t\t\t\t\tif (ind >= 0 && p.groupingView.groupColumnShow.length > ind) {\n\t\t\t\t\t\t\t\tthis.hidden = !p.groupingView.groupColumnShow[ind];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.widthOrg = columnWidth = intNum(this.width, 0);\n\t\t\t\t\t\tif (this.hidden === false && !isCellClassHidden(this.classes)) {\n\t\t\t\t\t\t\tinitialWidth += columnWidth + borderAndPaddingWidth;\n\t\t\t\t\t\t\tif (this.fixed) {\n\t\t\t\t\t\t\t\tfixedColumnsWidth += columnWidth + borderAndPaddingWidth;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tnumberOfVariableColumns++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tif (isNaN(p.width)) {\n\t\t\t\t\t\tp.width = initialWidth + ((p.shrinkToFit === false && !isNaN(p.height)) ? scrollbarWidth : 0);\n\t\t\t\t\t}\n\t\t\t\t\tgrid.width = p.width;\n\t\t\t\t\tp.tblwidth = initialWidth;\n\t\t\t\t\tif (p.shrinkToFit === false && p.forceFit === true) { p.forceFit = false; }\n\t\t\t\t\tif (p.shrinkToFit === true && numberOfVariableColumns > 0) {\n\t\t\t\t\t\ttotalVariableWidth = grid.width - borderAndPaddingWidth * numberOfVariableColumns - fixedColumnsWidth;\n\t\t\t\t\t\tif (!isNaN(p.height)) {\n\t\t\t\t\t\t\ttotalVariableWidth -= scrollbarWidth;\n\t\t\t\t\t\t\thasScrollbar = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tinitialWidth = 0;\n\t\t\t\t\t\teach(p.colModel, function (i) {\n\t\t\t\t\t\t\tif (this.hidden === false && !isCellClassHidden(this.classes) && !this.fixed) {\n\t\t\t\t\t\t\t\tcolumnWidth = Math.round(totalVariableWidth * this.width / (p.tblwidth - borderAndPaddingWidth * numberOfVariableColumns - fixedColumnsWidth));\n\t\t\t\t\t\t\t\tthis.width = columnWidth;\n\t\t\t\t\t\t\t\tinitialWidth += columnWidth;\n\t\t\t\t\t\t\t\tiLastVariableColumn = i;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcorrectur = 0;\n\t\t\t\t\t\tif (hasScrollbar) {\n\t\t\t\t\t\t\tif (grid.width - fixedColumnsWidth - (initialWidth + borderAndPaddingWidth * numberOfVariableColumns) !== scrollbarWidth) {\n\t\t\t\t\t\t\t\tcorrectur = grid.width - fixedColumnsWidth - (initialWidth + borderAndPaddingWidth * numberOfVariableColumns) - scrollbarWidth;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (!hasScrollbar && Math.abs(grid.width - fixedColumnsWidth - (initialWidth + borderAndPaddingWidth * numberOfVariableColumns)) !== 1) {\n\t\t\t\t\t\t\tcorrectur = grid.width - fixedColumnsWidth - (initialWidth + borderAndPaddingWidth * numberOfVariableColumns);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tp.colModel[iLastVariableColumn].width += correctur;\n\t\t\t\t\t\tp.tblwidth = initialWidth + correctur + borderAndPaddingWidth * numberOfVariableColumns + fixedColumnsWidth;\n\t\t\t\t\t\tif (p.tblwidth > p.width) {\n\t\t\t\t\t\t\tp.colModel[iLastVariableColumn].width -= (p.tblwidth - parseInt(p.width, 10));\n\t\t\t\t\t\t\tp.tblwidth = p.width;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tnextVisible = function (iCol1) {\n\t\t\t\t\tvar ret = iCol1, j = iCol1, i;\n\t\t\t\t\tfor (i = iCol1 + 1; i < p.colModel.length; i++) {\n\t\t\t\t\t\tif (p.colModel[i].hidden !== true) {\n\t\t\t\t\t\t\tj = i;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn j - ret;\n\t\t\t\t},\n\t\t\t\tgetColumnHeaderIndex = function (th) {\n\t\t\t\t\t// TODO: adjust the code after adjust the way which generates\n\t\t\t\t\t// ids of frozen columns\n\t\t\t\t\treturn p.iColByName[(th.id || \"\").substring(p.id.length + 1)];\n\t\t\t\t},\n\t\t\t\tcolTemplate;\n\n\t\t\tif (inArray(p.multikey, sortkeys) === -1) { p.multikey = false; }\n\t\t\tp.keyName = false;\n\t\t\tp.sortorder = p.sortorder.toLowerCase();\n\t\t\tjgrid.cell_width = jgrid.cellWidth();\n\t\t\tvar jgridCmTemplate = jgrid.cmTemplate, iCol, cmi;\n\t\t\tfor (iCol = 0; iCol < p.colModel.length; iCol++) {\n\t\t\t\tcmi = p.colModel[iCol];\n\t\t\t\tcolTemplate = typeof cmi.template === \"string\" ?\n\t\t\t\t\t(jgridCmTemplate != null && (typeof jgridCmTemplate[cmi.template] === \"object\" || isFunction(jgridCmTemplate[cmi.template])) ?\n\t\t\t\t\t\tjgridCmTemplate[cmi.template] : {}) :\n\t\t\t\t\tcmi.template;\n\t\t\t\tif (isFunction(colTemplate)) {\n\t\t\t\t\tcolTemplate = colTemplate.call(ts, { cm: cmi, iCol: iCol });\n\t\t\t\t}\n\t\t\t\tcmi = extend(true, {}, p.cmTemplate, colTemplate || {}, cmi);\n\t\t\t\tif (p.keyName === false && cmi.key === true) {\n\t\t\t\t\tp.keyName = cmi.name;\n\t\t\t\t}\n\t\t\t\tp.colModel[iCol] = cmi;\n\t\t\t}\n\t\t\tp.indexByColumnData = buildEmptyIndexedColumnMap();\n\t\t\tfor (iCol = 0; iCol < p.additionalProperties.length; iCol++) {\n\t\t\t\tcmi = p.additionalProperties[iCol];\n\t\t\t\tif (p.keyName === false && cmi.key === true) {\n\t\t\t\t\tp.keyName = cmi.name;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (p.colNames.length === 0) {\n\t\t\t\tfor (iCol = 0; iCol < p.colModel.length; iCol++) {\n\t\t\t\t\tp.colNames[iCol] = p.colModel[iCol].label !== undefined ? p.colModel[iCol].label : p.colModel[iCol].name;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (p.colNames.length !== p.colModel.length) {\n\t\t\t\tfatalErrorFunction(getRes(\"errors.model\"));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (p.grouping === true) {\n\t\t\t\tp.scroll = false;\n\t\t\t\tp.rownumbers = false;\n\t\t\t\t//p.subGrid = false; expiremental\n\t\t\t\tp.treeGrid = false;\n\t\t\t\tp.gridview = true;\n\t\t\t}\n\t\t\tif (p.subGrid && isFunction($j.setSubGrid)) {\n\t\t\t\ttry { $j.setSubGrid.call($self0); } catch (ignore1) { }\n\t\t\t}\n\t\t\tif (p.multiselect && (p.multiselectPosition === \"left\" || p.multiselectPosition === \"right\")) {\n\t\t\t\tvar insertMethod = p.multiselectPosition === \"left\" ? \"unshift\" : \"push\";\n\t\t\t\tp.colNames[insertMethod](\"<input id='\" + p.cbId + \"' class='cbox' type='checkbox' aria-checked='false'/>\");\n\t\t\t\tp.colModel[insertMethod]({ name: \"cb\", width: jgrid.cell_width ? p.multiselectWidth + p.cellLayout : p.multiselectWidth, labelClasses: \"jqgh_cbox\", classes: \"td_cbox\", sortable: false, resizable: false, hidedlg: true, search: false, align: \"center\", fixed: true, frozen: true });\n\t\t\t}\n\t\t\tif (p.rownumbers) {\n\t\t\t\tp.colNames.unshift(\"\");\n\t\t\t\tp.colModel.unshift({ name: \"rn\", width: jgrid.cell_width ? p.rownumWidth + p.cellLayout : p.rownumWidth, labelClasses: \"jqgh_rn\", sortable: false, resizable: false, hidedlg: true, search: false, align: \"center\", fixed: true, frozen: true });\n\t\t\t}\n\t\t\tp.iColByName = buildColNameMap(p.colModel);\n\t\t\tp.xmlReader = extend(true, {\n\t\t\t\troot: \"rows\",\n\t\t\t\trow: \"row\",\n\t\t\t\tpage: \"rows>page\",\n\t\t\t\ttotal: \"rows>total\",\n\t\t\t\trecords: \"rows>records\",\n\t\t\t\trepeatitems: true,\n\t\t\t\tcell: \"cell\",\n\t\t\t\tid: \"[id]\",\n\t\t\t\tuserdata: \"userdata\",\n\t\t\t\tsubgrid: { root: \"rows\", row: \"row\", repeatitems: true, cell: \"cell\" }\n\t\t\t}, p.xmlReader);\n\t\t\tp.jsonReader = extend(true, {\n\t\t\t\troot: \"rows\",\n\t\t\t\tpage: \"page\",\n\t\t\t\ttotal: \"total\",\n\t\t\t\trecords: \"records\",\n\t\t\t\trepeatitems: true,\n\t\t\t\tcell: \"cell\",\n\t\t\t\tid: \"id\",\n\t\t\t\tuserdata: \"userdata\",\n\t\t\t\tsubgrid: { root: \"rows\", repeatitems: true, cell: \"cell\" }\n\t\t\t}, p.jsonReader);\n\t\t\tp.localReader = extend(true, {\n\t\t\t\troot: \"rows\",\n\t\t\t\tpage: \"page\",\n\t\t\t\ttotal: \"total\",\n\t\t\t\trecords: \"records\",\n\t\t\t\trepeatitems: false,\n\t\t\t\tcell: \"cell\",\n\t\t\t\tid: \"id\",\n\t\t\t\tuserdata: \"userdata\",\n\t\t\t\tsubgrid: { root: \"rows\", repeatitems: true, cell: \"cell\" }\n\t\t\t}, p.localReader);\n\t\t\tif (p.scroll) {\n\t\t\t\tp.pgbuttons = false;\n\t\t\t\tp.pginput = false;\n\t\t\t\tp.rowList = [];\n\t\t\t}\n\t\t\tif (p.treeGrid === true) {\n\t\t\t\ttry { $j.setTreeGrid.call($self0); } catch (ignore1) { }\n\t\t\t\tif (p.datatype !== \"local\") { p.localReader = { id: \"_id_\" }; }\n\t\t\t\t// rebuild p.iPropByName after modification of p.additionalProperties\n\t\t\t\tp.iPropByName = buildAddPropMap(p.additionalProperties);\n\t\t\t}\n\t\t\tnormalizeRemapColumns();\n\t\t\tbuildArrayReader();\n\n\t\t\tif (p.data.length) {\n\t\t\t\tnormalizeData.call(ts);\n\t\t\t\trefreshIndex.call(ts);\n\t\t\t}\n\t\t\tif (p.shrinkToFit === true && p.forceFit === true) {\n\t\t\t\tfor (iCol = p.colModel.length - 1; iCol >= 0; iCol--) {\n\t\t\t\t\tif (p.colModel[iCol].hidden !== true) {\n\t\t\t\t\t\tp.colModel[iCol].resizable = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar idn, w, res, sort, tooltip, labelStyle, ptr, sortarr = [], sortord = [], sotmp = [],\n\t\t\t\tthead = \"<thead><tr class='ui-jqgrid-labels' role='row'>\", headerText,\n\t\t\t\ttbody = \"<tbody><tr style='display:none;'>\",\n\t\t\t\thoverStateClasses = getGuiStyles(\"states.hover\"),\n\t\t\t\thoverThStateClasses = getGuiStyles(\"states.hoverTh\") || hoverStateClasses,\n\t\t\t\tdisabledStateClasses = getGuiStyles(\"states.disabled\");\n\n\t\t\tif (p.multiSort) {\n\t\t\t\tsortarr = p.sortname.split(\",\");\n\t\t\t\tvar iSort;\n\t\t\t\tfor (iSort = 0; iSort < sortarr.length; iSort++) {\n\t\t\t\t\tsotmp = trim(sortarr[iSort]).split(\" \");\n\t\t\t\t\tsortarr[iSort] = trim(sotmp[0]);\n\t\t\t\t\tsortord[iSort] = sotmp[1] ? trim(sotmp[1]) : p.sortorder || \"asc\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (iCol = 0; iCol < p.colNames.length; iCol++) {\n\t\t\t\tcmi = p.colModel[iCol];\n\t\t\t\ttooltip = p.headertitles || cmi.headerTitle ? (\" title='\" + stripHtml(typeof cmi.headerTitle === \"string\" ? cmi.headerTitle : p.colNames[iCol]) + \"'\") : \"\";\n\t\t\t\tthead += \"<th id='\" + p.id + \"_\" + cmi.name + \"' class='\" + getGuiStyles(\"colHeaders\", \"ui-th-column ui-th-\" + dir + \" \" + (cmi.labelClasses || \"\")) + \"'\" + tooltip + \">\";\n\t\t\t\tidn = cmi.index || cmi.name;\n\t\t\t\tswitch (cmi.labelAlign) {\n\t\t\t\t\tcase \"left\":\n\t\t\t\t\t\tlabelStyle = \"text-align:left;\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"right\":\n\t\t\t\t\t\tlabelStyle = \"text-align:right;\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"likeData\":\n\t\t\t\t\t\tlabelStyle = cmi.align === undefined || cmi.align === \"left\" ?\n\t\t\t\t\t\t\t\"text-align:left;\" : (cmi.align === \"right\" ? \"text-align:right;\" : \"\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tlabelStyle = \"\";\n\t\t\t\t}\n\n\t\t\t\tthead += \"<div id='jqgh_\" + p.id + \"_\" + cmi.name + \"'\" +\n\t\t\t\t\t(isMSIE ? \" class='ui-th-div-ie'\" : \"\") +\n\t\t\t\t\t(labelStyle === \"\" ? \"\" : \" style='\" + labelStyle + \"'\") + \" role='columnheader'>\";\n\t\t\t\theaderText = (cmi.autoResizable && cmi.formatter !== \"actions\") || cmi.rotated ?\n\t\t\t\t\t\"<span class='\" + p.autoResizing.wrapperClassName + \"'>\" + p.colNames[iCol] + \"</span>\" :\n\t\t\t\t\tp.colNames[iCol];\n\t\t\t\tif (p.sortIconsBeforeText) {\n\t\t\t\t\tthead += (p.builderSortIcons || jgrid.builderSortIcons).call(ts, iCol);\n\t\t\t\t\tthead += headerText;\n\t\t\t\t} else {\n\t\t\t\t\tthead += headerText;\n\t\t\t\t\tthead += (p.builderSortIcons || jgrid.builderSortIcons).call(ts, iCol);\n\t\t\t\t}\n\t\t\t\tthead += \"</div></th>\";\n\t\t\t\ttbody += \"<td></td>\";\n\t\t\t\tcmi.width = cmi.width ? parseInt(cmi.width, 10) : 150;\n\t\t\t\tif (typeof cmi.title !== \"boolean\") { cmi.title = true; }\n\t\t\t\tcmi.lso = \"\";\n\t\t\t\tif (idn === p.sortname) {\n\t\t\t\t\tp.lastsort = iCol;\n\t\t\t\t\tcmi.lso = p.sortorder || cmi.firstsortorder || \"asc\";\n\t\t\t\t}\n\t\t\t\tif (p.multiSort) {\n\t\t\t\t\tsotmp = inArray(idn, sortarr);\n\t\t\t\t\tif (sotmp !== -1) {\n\t\t\t\t\t\tcmi.lso = sortord[sotmp];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthead += \"</tr></thead>\";\n\t\t\ttbody += \"</tr></tbody>\";\n\t\t\tvar hTable = $(\"<table class='\" + getGuiStyles(\"hTable\", \"ui-jqgrid-htable\") +\n\t\t\t\t\"' style='width:1px' role='presentation' aria-labelledby='gbox_\" + p.id + \"'>\" +\n\t\t\t\tthead + tbody + \"</table>\");\n\t\t\t$(hTable[0].tHead)\n\t\t\t\t.children(\"tr\")\n\t\t\t\t.children(\"th\")\n\t\t\t\t.hover(\n\t\t\t\t\tfunction () { $(this).addClass(hoverThStateClasses); },\n\t\t\t\t\tfunction () { $(this).removeClass(hoverThStateClasses); }\n\t\t\t\t);\n\t\t\tif (p.multiselect) {\n\t\t\t\t$(p.cb, hTable).on(\"click\", function () {\n\t\t\t\t\tvar highlightClass = getGuiStyles(\"states.select\"), toCheck, emp = [],\n\t\t\t\t\t\tiColCb = p.iColByName.cb,\n\t\t\t\t\t\tselectUnselectRow = function (tr, toSelect) {\n\t\t\t\t\t\t\t$(tr)[toSelect ? \"addClass\" : \"removeClass\"](highlightClass)\n\t\t\t\t\t\t\t\t.attr(toSelect ?\n\t\t\t\t\t\t\t\t\t{ \"aria-selected\": \"true\", tabindex: \"0\" } :\n\t\t\t\t\t\t\t\t\t{ \"aria-selected\": \"false\", tabindex: \"-1\" });\n\t\t\t\t\t\t\tif (iColCb !== undefined) { // p.multiselectCheckboxes\n\t\t\t\t\t\t\t\t$(tr.cells[iColCb]).children(\"input.cbox\").prop(\"checked\", toSelect);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfrozenRows = grid.fbRows,\n\t\t\t\t\t\tskipClasses = disabledStateClasses + \" ui-subgrid jqgroup jqfoot jqgfirstrow jqgskipselect\",\n\t\t\t\t\t\tid, ids = p._index, iSel;\n\t\t\t\t\tclearArray(p.selarrrow); // p.selarrrow = [];\n\t\t\t\t\tif (this.checked) {\n\t\t\t\t\t\ttoCheck = true;\n\t\t\t\t\t\tp.selrow = ts.rows.length > 1 ? ts.rows[ts.rows.length - 1].id : null;\n\t\t\t\t\t\tif (p.multiPageSelection && (p.datatype === \"local\" || p.treeGrid)) {\n\t\t\t\t\t\t\tif (p.selectAllMode === \"filtered\" && p.lastSelectedData != null && p.lastSelectedData.length > 0) {\n\t\t\t\t\t\t\t\tp.selarrrow = [];\n\t\t\t\t\t\t\t\tfor (iSel = 0; iSel < p.lastSelectedData.length; iSel++) {\n\t\t\t\t\t\t\t\t\tif (p.lastSelectedData[iSel].hasOwnProperty(p.localReader.id)) {\n\t\t\t\t\t\t\t\t\t\tp.selarrrow.push(p.idPrefix + p.lastSelectedData[iSel][p.localReader.id]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (p.data != null && p.data.length > 0 && ids != null) {\n\t\t\t\t\t\t\t\t// add to selarrrow all\n\t\t\t\t\t\t\t\tfor (id in ids) {\n\t\t\t\t\t\t\t\t\tif (ids.hasOwnProperty(id)) {\n\t\t\t\t\t\t\t\t\t\tp.selarrrow.push(p.idPrefix + id);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttoCheck = false;\n\t\t\t\t\t\tp.selrow = null;\n\t\t\t\t\t}\n\t\t\t\t\tvar selArr = toCheck ? p.selarrrow : emp;\n\t\t\t\t\t$(ts.rows).each(function (i) {\n\t\t\t\t\t\tif (!hasOneFromClasses(this, skipClasses)) {\n\t\t\t\t\t\t\tselectUnselectRow(this, toCheck);\n\t\t\t\t\t\t\tif ($.inArray(this.id, selArr) < 0) {\n\t\t\t\t\t\t\t\tselArr.push(this.id);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (frozenRows) {\n\t\t\t\t\t\t\t\tselectUnselectRow(frozenRows[i], toCheck);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tfeedback.call(ts, \"onSelectAll\", toCheck ? p.selarrrow : emp, toCheck);\n\t\t\t\t\t// it's important don't use return false in the event handler\n\t\t\t\t\t// the usage of return false break checking/unchecking\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (p.autowidth === true) {\n\t\t\t\tvar pw = Math.floor($(eg).innerWidth());\n\t\t\t\tp.width = pw > 0 ? pw : \"nw\";\n\t\t\t}\n\t\t\tif (!isNaN(p.width)) { // process values like \"500\" instead of the number 500.\n\t\t\t\tp.width = Number(p.width);\n\t\t\t} else if (!isNaN(parseFloat(p.width))) { // process values like \"500px\"\n\t\t\t\tp.width = parseFloat(p.width);\n\t\t\t}\n\t\t\tp.widthOrg = p.width;\n\t\t\tsetInitialColWidth();\n\t\t\t$(eg).css(\"width\", grid.width + \"px\")\n\t\t\t\t.append(\"<div class='\" + getGuiStyles(\"resizer\", \"ui-jqgrid-resize-mark\") + \"' id='\" + p.rsId + \"'>&#160;</div>\");\n\t\t\t$(p.rs)\n\t\t\t\t.on(\"selectstart\", function () {\n\t\t\t\t\treturn false;\n\t\t\t\t})\n\t\t\t\t.click(myResizerClickHandler)\n\t\t\t\t.dblclick(function (e) {\n\t\t\t\t\tvar iColIndex = $(this).data(\"idx\"),\n\t\t\t\t\t\tpageX = $(this).data(\"pageX\"),\n\t\t\t\t\t\tcm = p.colModel[iColIndex];\n\n\t\t\t\t\tif (pageX == null || cm == null) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tvar arPageX = String(pageX).split(\";\"),\n\t\t\t\t\t\tpageX1 = parseFloat(arPageX[0]),\n\t\t\t\t\t\tpageX2 = parseFloat(arPageX[1]);\n\t\t\t\t\tif (arPageX.length === 2 && (Math.abs(pageX1 - pageX2) > 5 || Math.abs(e.pageX - pageX1) > 5 || Math.abs(e.pageX - pageX2) > 5)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif (feedback.call(ts, \"resizeDblClick\", iColIndex, cm, e) && cm.autoResizable) {\n\t\t\t\t\t\t$j.autoResizeColumn.call($self0, iColIndex);\n\t\t\t\t\t}\n\t\t\t\t\tfeedback.call(ts, \"afterResizeDblClick\", { iCol: iColIndex, cm: cm, cmName: cm.name });\n\n\t\t\t\t\treturn false; // stop propagate\n\t\t\t\t});\n\t\t\t$(gv).css(\"width\", grid.width + \"px\");\n\t\t\tvar tfoot = \"\";\n\t\t\tif (p.footerrow) {\n\t\t\t\ttfoot += \"<table role='presentation' style='width:1px' class='\" +\n\t\t\t\t\tgetGuiStyles(\"gridFooter\", \"ui-jqgrid-ftable\") +\n\t\t\t\t\t\"'><tbody><tr role='row' class='\" + getGuiStyles(\"rowFooter\", \"footrow footrow-\" + dir) + \"'>\";\n\t\t\t}\n\t\t\tvar firstr = \"<tr class='\" + getGuiStyles(\"gridRow\", \"jqgfirstrow ui-row-\" + p.direction) + \"' role='row' style='height:auto'>\";\n\t\t\tp.disableClick = false;\n\t\t\t$(\"th\", hTable[0].tHead.rows[0])\n\t\t\t\t.each(function (j) {\n\t\t\t\t\tvar cm = p.colModel[j], nm = cm.name, $th = $(this),\n\t\t\t\t\t\t$sortableDiv = $th.children(\"div\"),\n\t\t\t\t\t\t$iconsSpan = $sortableDiv.children(\"span.s-ico\"),\n\t\t\t\t\t\tshowOneSortIcon = p.showOneSortIcon;\n\n\t\t\t\t\tw = cm.width;\n\t\t\t\t\tif (cm.resizable === undefined) { cm.resizable = true; }\n\t\t\t\t\tif (cm.resizable) {\n\t\t\t\t\t\tres = document.createElement(\"span\");\n\t\t\t\t\t\t$(res).html(\"&#160;\")\n\t\t\t\t\t\t\t.addClass(\"ui-jqgrid-resize ui-jqgrid-resize-\" + dir)\n\t\t\t\t\t\t\t//.css(\"cursor\",\"col-resize\")\n\t\t\t\t\t\t\t.on(\"selectstart\", function () {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t$th.addClass(p.resizeclass);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tres = \"\";\n\t\t\t\t\t}\n\t\t\t\t\t$th.css(\"width\", w + \"px\")\n\t\t\t\t\t\t.prepend(res);\n\t\t\t\t\tres = null;\n\t\t\t\t\tvar hdcol = \"\";\n\t\t\t\t\tif (cm.hidden === true) {\n\t\t\t\t\t\t$th.css(\"display\", \"none\");\n\t\t\t\t\t\thdcol = \"display:none;\";\n\t\t\t\t\t}\n\t\t\t\t\tfirstr += \"<td role='gridcell' \" + (cm.classes ? \"class='\" + cm.classes + \"' \" : \"\") +\n\t\t\t\t\t\t\"style='height:0;width:\" + w + \"px;\" + hdcol + \"'></td>\";\n\t\t\t\t\tgrid.headers[j] = { width: w, el: this };\n\t\t\t\t\tsort = cm.sortable;\n\t\t\t\t\tif (typeof sort !== \"boolean\") { cm.sortable = true; sort = true; }\n\t\t\t\t\tif (!(nm === \"cb\" || nm === \"subgrid\" || nm === \"rn\") && sort) {\n\t\t\t\t\t\tif (p.viewsortcols[2]) {\n\t\t\t\t\t\t\t// class ui-jqgrid-sortable changes the cursor in\n\t\t\t\t\t\t\t$sortableDiv.addClass(\"ui-jqgrid-sortable\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (sort) {\n\t\t\t\t\t\tif (p.multiSort) {\n\t\t\t\t\t\t\tvar notLso = cm.lso === \"desc\" ? \"asc\" : \"desc\";\n\t\t\t\t\t\t\tif (p.viewsortcols[0]) {\n\t\t\t\t\t\t\t\t$iconsSpan.css(\"display\", \"\");\n\t\t\t\t\t\t\t\tif (cm.lso) {\n\t\t\t\t\t\t\t\t\t$iconsSpan.children(\"span.ui-icon-\" + cm.lso).removeClass(disabledStateClasses);\n\t\t\t\t\t\t\t\t\tif (showOneSortIcon) {\n\t\t\t\t\t\t\t\t\t\t$iconsSpan.children(\"span.ui-icon-\" + notLso).hide();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (cm.lso) {\n\t\t\t\t\t\t\t\t$iconsSpan.css(\"display\", \"\");\n\t\t\t\t\t\t\t\t$iconsSpan.children(\"span.ui-icon-\" + cm.lso).removeClass(disabledStateClasses);\n\t\t\t\t\t\t\t\tif (showOneSortIcon) {\n\t\t\t\t\t\t\t\t\t$iconsSpan.children(\"span.ui-icon-\" + notLso).hide();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (p.showSortOrder) {\n\t\t\t\t\t\t\t\tsotmp = inArray(nm, sortarr);\n\t\t\t\t\t\t\t\t$iconsSpan[p.sortOrderPosition === \"beforeSortIcons\" ? \"before\" : \"after\"](\"<span class='ui-jqgrid-sort-order'>\" +\n\t\t\t\t\t\t\t\t\t(sotmp < 0 ?\n\t\t\t\t\t\t\t\t\t\t\"&nbsp;\" :\n\t\t\t\t\t\t\t\t\t\tisFunction(p.formatSortOrder) ?\n\t\t\t\t\t\t\t\t\t\t\tp.formatSortOrder.call(ts, { cm: this, sortIndex: sotmp }) :\n\t\t\t\t\t\t\t\t\t\t\tsotmp + 1) +\n\t\t\t\t\t\t\t\t\t\"</span>\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar notSortOrder = p.sortorder === \"desc\" ? \"asc\" : \"desc\";\n\t\t\t\t\t\t\tif (p.viewsortcols[0]) {\n\t\t\t\t\t\t\t\t$iconsSpan.css(\"display\", \"\");\n\t\t\t\t\t\t\t\tif (j === p.lastsort) {\n\t\t\t\t\t\t\t\t\t$iconsSpan.children(\"span.ui-icon-\" + p.sortorder).removeClass(disabledStateClasses);\n\t\t\t\t\t\t\t\t\tif (showOneSortIcon) {\n\t\t\t\t\t\t\t\t\t\t$iconsSpan.children(\"span.ui-icon-\" + notSortOrder).hide();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (j === p.lastsort && cm.lso !== \"\") { // p.sortname === (cm.index || nm)\n\t\t\t\t\t\t\t\t$iconsSpan.css(\"display\", \"\");\n\t\t\t\t\t\t\t\t$iconsSpan.children(\"span.ui-icon-\" + p.sortorder).removeClass(disabledStateClasses);\n\t\t\t\t\t\t\t\tif (showOneSortIcon) {\n\t\t\t\t\t\t\t\t\t$iconsSpan.children(\"span.ui-icon-\" + notSortOrder).hide();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (p.footerrow) { tfoot += \"<td role='gridcell' \" + formatCol(j, 0, \"\", null, \"\", false) + \">&#160;</td>\"; }\n\t\t\t\t})\n\t\t\t\t.mousedown(function (e) {\n\t\t\t\t\tvar $th = $(this), isFrozen = $th.closest(\".ui-jqgrid-hdiv\").hasClass(\"frozen-div\"),\n\t\t\t\t\t\tgetOffset = function () {\n\t\t\t\t\t\t\tvar ret = [$th.position().left + $th.outerWidth()];\n\t\t\t\t\t\t\tif (p.direction === \"rtl\") { ret[0] = p.width - ret[0]; }\n\t\t\t\t\t\t\tret[0] -= isFrozen ? 0 : grid.bDiv.scrollLeft;\n\t\t\t\t\t\t\tret.push($(grid.hDiv).position().top);\n\t\t\t\t\t\t\tret.push($(grid.bDiv).offset().top - $(grid.hDiv).offset().top + $(grid.bDiv).height() +\n\t\t\t\t\t\t\t\t(grid.sDiv ? $(grid.sDiv).height() : 0));\n\t\t\t\t\t\t\treturn ret;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tiCol1;\n\t\t\t\t\tif ($(e.target).closest(\"th>span.ui-jqgrid-resize\").length !== 1) { return; }\n\t\t\t\t\tiCol1 = getColumnHeaderIndex(this);\n\t\t\t\t\tif (iCol1 != null) {\n\t\t\t\t\t\tif (p.forceFit === true) { p.nv = nextVisible(iCol1); }\n\t\t\t\t\t\tgrid.dragStart(iCol1, e, getOffset(), $th);\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t})\n\t\t\t\t.click(function (e) {\n\t\t\t\t\tif (p.disableClick) {\n\t\t\t\t\t\tp.disableClick = false;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tvar s = \"th.ui-th-column>div\", r, d;\n\t\t\t\t\tif (!p.viewsortcols[2]) {\n\t\t\t\t\t\ts += \">span.s-ico>span.ui-grid-ico-sort\"; // sort only on click on sorting icon\n\t\t\t\t\t} else {\n\t\t\t\t\t\ts += \".ui-jqgrid-sortable\";\n\t\t\t\t\t}\n\t\t\t\t\tvar t = $(e.target).closest(s);\n\t\t\t\t\tif (t.length !== 1) { return; }\n\t\t\t\t\tif (!p.viewsortcols[2]) {\n\t\t\t\t\t\tr = true;\n\t\t\t\t\t\td = t.hasClass(\"ui-icon-desc\") ? \"asc\" : \"desc\";\n\t\t\t\t\t}\n\t\t\t\t\tvar iColByName = getColumnHeaderIndex(this);\n\t\t\t\t\tif (iColByName != null) {\n\t\t\t\t\t\t// the $(\"div\", this)[0].id looks like \"jqgh_\" + p.id + \"_\" + colIndex (like \"jqgh_list_invdate\")\n\t\t\t\t\t\tsortData.call(ts, $(\"div\", this)[0].id.substring(5 + p.id.length + 1), iColByName, r, d, this, e);\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\tif (p.sortable && isFunction($j.sortableColumns)) {\n\t\t\t\ttry {\n\t\t\t\t\t$j.sortableColumns.call($self0, $(hTable[0].tHead.rows[0]));\n\t\t\t\t} catch (ignore1) { }\n\t\t\t}\n\t\t\tif (p.footerrow) { tfoot += \"</tr></tbody></table>\"; }\n\t\t\tfirstr += \"</tr>\";\n\t\t\t$self0.html(\"<tbody>\" + firstr + \"</tbody>\");\n\t\t\t//firstr = null;\n\t\t\t$self0.addClass(getGuiStyles(\"grid\", \"ui-jqgrid-btable\" + (p.altRows === true && $self0.jqGrid(\"isBootstrapGuiStyle\") ? \" table-striped\" : \"\")));\n\t\t\tvar hg = (p.caption && p.hiddengrid === true) ? true : false,\n\t\t\t\thb = $(\"<div class='ui-jqgrid-hbox\" + (dir === \"rtl\" ? \"-rtl\" : \"\") + \"'></div>\"),\n\t\t\t\ttopClasses = getGuiStyles(\"top\"),\n\t\t\t\tbottomClasses = getGuiStyles(\"bottom\");\n\t\t\tgrid.hDiv = document.createElement(\"div\");\n\t\t\t$(grid.hDiv)\n\t\t\t\t.css({ width: grid.width + \"px\" })\n\t\t\t\t.addClass(getGuiStyles(\"hDiv\", \"ui-jqgrid-hdiv\"))\n\t\t\t\t.append(hb)\n\t\t\t\t.scroll(function () {\n\t\t\t\t\t// the hDiv can be scrolled because of tab keyboard navigation\n\t\t\t\t\t// we have to sync bDiv and hDiv scrollLeft in the case\n\t\t\t\t\tvar bDiv = $(this).next(\".ui-jqgrid-bdiv\")[0];\n\t\t\t\t\tif (bDiv) {\n\t\t\t\t\t\tbDiv.scrollLeft = this.scrollLeft;\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t$(hb).append(hTable);\n\t\t\thTable = null;\n\t\t\tif (hg) { $(grid.hDiv).hide(); }\n\t\t\tp.rowNum = parseInt(p.rowNum, 10);\n\t\t\tif (isNaN(p.rowNum) || p.rowNum <= 0) {\n\t\t\t\tp.rowNum = p.maxRowNum;\n\t\t\t}\n\t\t\tif (p.pager) {\n\t\t\t\t// see http://learn.jquery.com/using-jquery-core/faq/how-do-i-select-an-element-by-an-id-that-has-characters-used-in-css-notation/\n\t\t\t\t// or http://api.jquery.com/id-selector/ or http://api.jquery.com/category/selectors/\n\t\t\t\t// about the requirement to escape characters like \".\", \":\" or some other in case.\n\t\t\t\tvar $pager, pagerId;\n\t\t\t\tif (typeof p.pager === \"string\" && p.pager.substr(0, 1) !== \"#\") {\n\t\t\t\t\tpagerId = p.pager; // UNESCAPED id of the pager\n\t\t\t\t\t$pager = $(\"#\" + jqID(p.pager));\n\t\t\t\t} else if (p.pager === true) {\n\t\t\t\t\tpagerId = randId();\n\t\t\t\t\t$pager = $(\"<div id='\" + pagerId + \"'></div>\");\n\t\t\t\t\t$pager.appendTo(\"body\");\n\t\t\t\t\tp.pager = \"#\" + jqID(pagerId);\n\t\t\t\t} else {\n\t\t\t\t\t$pager = $(p.pager); // jQuery wrapper or ESCAPED id selector\n\t\t\t\t\tpagerId = $pager.attr(\"id\");\n\t\t\t\t}\n\t\t\t\tif ($pager.length > 0) {\n\t\t\t\t\t$pager.css({ width: grid.width + \"px\" }).addClass(getGuiStyles(\"pager.pager\", \"ui-jqgrid-pager \" + bottomClasses)).appendTo(eg);\n\t\t\t\t\tif (hg) { $pager.hide(); }\n\t\t\t\t\tsetPager.call(ts, pagerId, \"\");\n\t\t\t\t\tp.pager = \"#\" + jqID(pagerId); // hold ESCAPED id selector in the pager\n\t\t\t\t} else {\n\t\t\t\t\tp.pager = \"\"; // clear wrong value of the pager option\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (p.cellEdit === false && p.hoverrows === true) {\n\t\t\t\t$self0\n\t\t\t\t\t.on(\"mouseover.jqGrid\", function (e) {\n\t\t\t\t\t\tptr = $(e.target).closest(\"tr.jqgrow\");\n\t\t\t\t\t\tif ($(ptr).attr(\"class\") !== \"ui-subgrid\") {\n\t\t\t\t\t\t\t$(ptr).addClass(hoverStateClasses);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.on(\"mouseout.jqGrid\", function (e) {\n\t\t\t\t\t\tptr = $(e.target).closest(\"tr.jqgrow\");\n\t\t\t\t\t\t$(ptr).removeClass(hoverStateClasses);\n\t\t\t\t\t});\n\t\t\t}\n\t\t\tvar getTdFromTarget = function (target) {\n\t\t\t\tvar $td, $tr, $table;\n\t\t\t\tdo {\n\t\t\t\t\t$td = $(target).closest(\"td\");\n\t\t\t\t\tif ($td.length > 0) {\n\t\t\t\t\t\t$tr = $td.parent();\n\t\t\t\t\t\t$table = $tr.parent().parent();\n\t\t\t\t\t\tif ($tr.is(\".jqgrow\") && ($table[0] === this || ($table.is(\"table.ui-jqgrid-btable\") && ($table[0].id || \"\").replace(\"_frozen\", \"\") === this.id))) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttarget = $td.parent();\n\t\t\t\t\t}\n\t\t\t\t} while ($td.length > 0);\n\t\t\t\treturn $td;\n\t\t\t};\n\t\t\t$self0.before(grid.hDiv)\n\t\t\t\t.click(function (e) {\n\t\t\t\t\tvar highlightClass = getGuiStyles(\"states.select\"), target = e.target,\n\t\t\t\t\t\t$td = getTdFromTarget.call(ts, target), $tr = $td.parent();\n\t\t\t\t\t// we uses ts.rows context below to be sure that we don't process the clicks in the subgrid\n\t\t\t\t\t// probably one can change the rule and to step over the parents till one will have\n\t\t\t\t\t// \"tr.jqgrow>td\" AND the parent of parent (the table element) will be ts.\n\t\t\t\t\t// one can use the same processing in click, dblclick and contextmenu\n\t\t\t\t\t//ptr = $(td, ts.rows).closest(\"tr.jqgrow\");\n\t\t\t\t\tif ($tr.length === 0 || hasOneFromClasses($tr, disabledStateClasses)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tvar ri = $tr[0].id, ci = $td[0].cellIndex,\n\t\t\t\t\t\tcheckboxClicked = $(target).hasClass(\"cbox\") &&\n\t\t\t\t\t\t\t$(target).is(\":enabled\") && !hasOneFromClasses(target, disabledStateClasses),\n\t\t\t\t\t\tselectionAllowed = feedback.call(ts, \"beforeSelectRow\", ri, e), alreadySelected = false,\n\t\t\t\t\t\teditingInfo = jgrid.detectRowEditing.call(ts, ri),\n\t\t\t\t\t\tlocked = editingInfo != null && editingInfo.mode !== \"cellEditing\"; // editingInfo.savedRow.ic\n\t\t\t\t\tif (target.tagName === \"A\" || (locked && !checkboxClicked)) { return; }\n\t\t\t\t\tfeedback.call(ts, \"onCellSelect\", ri, ci, $td.html(), e);\n\t\t\t\t\tif (p.cellEdit === true) {\n\t\t\t\t\t\tif (selectionAllowed && p.multiselect && checkboxClicked) {\n\t\t\t\t\t\t\tsetSelection.call($self0, ri, true, e);\n\t\t\t\t\t\t\tif (checkboxClicked && !p.noCellSelection) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\talreadySelected = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t$j.editCell.call($self0, $tr[0].rowIndex, ci, true);\n\t\t\t\t\t\t} catch (ignore) { }\n\n\t\t\t\t\t\tif (!p.multiselect || !p.noCellSelection || (p.multiboxonly && alreadySelected)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!selectionAllowed) {\n\t\t\t\t\t\tif (checkboxClicked) {\n\t\t\t\t\t\t\t// selection is not allowed by beforeSelectRow, but the multiselect\n\t\t\t\t\t\t\t// checkbox is clicked.\n\t\t\t\t\t\t\t$(target).prop(\"checked\", false);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (!p.multikey) {\n\t\t\t\t\t\tif (p.multiselect && p.multiboxonly) {\n\t\t\t\t\t\t\tif (checkboxClicked && !alreadySelected) {\n\t\t\t\t\t\t\t\tsetSelection.call($self0, ri, true, e);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvar frz = p.frozenColumns ? p.id + \"_frozen\" : \"\";\n\t\t\t\t\t\t\t\t$(p.selarrrow).each(function (i, n) {\n\t\t\t\t\t\t\t\t\tvar trid = $j.getGridRowById.call($self0, n);\n\t\t\t\t\t\t\t\t\tif (trid) { $(trid).removeClass(highlightClass); }\n\t\t\t\t\t\t\t\t\t$(\"#jqg_\" + jqID(p.id) + \"_\" + jqID(n)).prop(\"checked\", false);\n\t\t\t\t\t\t\t\t\tif (frz) {\n\t\t\t\t\t\t\t\t\t\t$(\"#\" + jqID(n), \"#\" + jqID(frz)).removeClass(highlightClass);\n\t\t\t\t\t\t\t\t\t\t$(\"#jqg_\" + jqID(p.id) + \"_\" + jqID(n), \"#\" + jqID(frz)).prop(\"checked\", false);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tclearArray(p.selarrrow); // p.selarrrow = [];\n\t\t\t\t\t\t\t\tif (!alreadySelected) {\n\t\t\t\t\t\t\t\t\tsetSelection.call($self0, ri, true, e);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar oldSelRow = p.selrow;\n\t\t\t\t\t\t\tif (!alreadySelected) {\n\t\t\t\t\t\t\t\tsetSelection.call($self0, ri, true, e);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (p.singleSelectClickMode === \"toggle\" && !p.multiselect && oldSelRow === ri) {\n\t\t\t\t\t\t\t\tif (ts.grid.fbRows) {\n\t\t\t\t\t\t\t\t\t$tr = $tr.add(\n\t\t\t\t\t\t\t\t\t\tts.grid.fbRows[$tr[0].rowIndex] === $tr[0] ?\n\t\t\t\t\t\t\t\t\t\t\tts.rows[$tr[0].rowIndex] :\n\t\t\t\t\t\t\t\t\t\t\tts.grid.fbRows[$tr[0].rowIndex]\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t$tr.removeClass(highlightClass).attr({ \"aria-selected\": \"false\", \"tabindex\": \"-1\" });\n\t\t\t\t\t\t\t\tp.selrow = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (e[p.multikey] && !alreadySelected) {\n\t\t\t\t\t\t\tsetSelection.call($self0, ri, true, e);\n\t\t\t\t\t\t} else if (p.multiselect && checkboxClicked) {\n\t\t\t\t\t\t\tcheckboxClicked = $(\"#jqg_\" + jqID(p.id) + \"_\" + ri).is(\":checked\");\n\t\t\t\t\t\t\t$(\"#jqg_\" + jqID(p.id) + \"_\" + ri).prop(\"checked\", !checkboxClicked);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// it's important don't use return false in the event handler\n\t\t\t\t\t// the usage of return false break checking/uchecking\n\t\t\t\t})\n\t\t\t\t.on(\"reloadGrid\", function (e, opts) {\n\t\t\t\t\tvar self = this, gridSelf = self.grid, $self = $(this), p = self.p;\n\t\t\t\t\tif (p.savedRow.length > 0 && p.reloadingDuringEditing === \"prevent\") {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif (p.treeGrid === true) {\n\t\t\t\t\t\tp.datatype = p.treedatatype;\n\t\t\t\t\t}\n\t\t\t\t\topts = extend({}, defaults.reloadGridOptions || {}, p.reloadGridOptions || {}, opts || {});\n\t\t\t\t\tif (p.datatype === \"local\" && p.dataTypeOrg && p.loadonce && opts.fromServer) {\n\t\t\t\t\t\tp.datatype = p.dataTypeOrg;\n\t\t\t\t\t\tdelete p.dataTypeOrg;\n\t\t\t\t\t}\n\t\t\t\t\tif (opts.current) {\n\t\t\t\t\t\tgridSelf.selectionPreserver.call(self);\n\t\t\t\t\t}\n\t\t\t\t\tif (p.datatype === \"local\") {\n\t\t\t\t\t\tif (!p.multiPageSelection) {\n\t\t\t\t\t\t\t$j.resetSelection.call($self);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (p.data.length) {\n\t\t\t\t\t\t\tnormalizeData.call(self);\n\t\t\t\t\t\t\trefreshIndex.call(self);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (!p.treeGrid && !p.multiPageSelection) {\n\t\t\t\t\t\tp.selrow = null;\n\t\t\t\t\t\tif (p.multiselect) {\n\t\t\t\t\t\t\tclearArray(p.selarrrow); // p.selarrrow = [];\n\t\t\t\t\t\t\tsetHeadCheckBox.call(self, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclearArray(p.savedRow); // p.savedRow = [];\n\t\t\t\t\t\tp.editingInfo = {};\n\t\t\t\t\t}\n\t\t\t\t\tcancelOrSaveEditing(p.reloadingDuringEditing);\n\t\t\t\t\tp.iRow = -1;\n\t\t\t\t\tp.iCol = -1;\n\t\t\t\t\tif (p.scroll) { grid.emptyRows.call(self, true, false); }\n\t\t\t\t\tif (opts.page) {\n\t\t\t\t\t\tvar page = parseInt(opts.page, 10);\n\t\t\t\t\t\tif (page > p.lastpage) { page = p.lastpage; }\n\t\t\t\t\t\tif (page < 1) { page = 1; }\n\t\t\t\t\t\tp.page = page;\n\t\t\t\t\t\tif (gridSelf.prevRowHeight) {\n\t\t\t\t\t\t\tgridSelf.bDiv.scrollTop = (page - 1) * gridSelf.prevRowHeight * p.rowNum;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tgridSelf.bDiv.scrollTop = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (gridSelf.prevRowHeight && p.scroll && opts.page === undefined) {\n\t\t\t\t\t\tdelete p.lastpage;\n\t\t\t\t\t\tgridSelf.populateVisible.call(self);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tgridSelf.populate.call(self);\n\t\t\t\t\t}\n\t\t\t\t\tif (p._inlinenav === true) { $self.jqGrid(\"showAddEditButtons\", false); }\n\t\t\t\t\treturn false;\n\t\t\t\t})\n\t\t\t\t.dblclick(function (e) {\n\t\t\t\t\tvar $td = getTdFromTarget.call(ts, e.target), $tr = $td.parent();\n\t\t\t\t\t// TODO: replace ts below to method which use $(this) in case of click\n\t\t\t\t\t// on the grid and the table of the main grid if one click inside the FROZEN column\n\t\t\t\t\tif ($td.length > 0 && !feedback.call(ts, \"ondblClickRow\", $tr.attr(\"id\"), $tr[0].rowIndex, $td[0].cellIndex, e)) {\n\t\t\t\t\t\treturn false; // e.preventDefault() and e.stopPropagation() together\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.on(\"contextmenu\", function (e) {\n\t\t\t\t\tvar $td = getTdFromTarget.call(ts, e.target), $tr = $td.parent(), rowid = $tr.attr(\"id\");\n\t\t\t\t\tif ($td.length === 0) { return; }\n\t\t\t\t\tif (!p.multiselect && p.selrow !== rowid && p.selectOnContextMenu === true) {\n\t\t\t\t\t\t// TODO: replace $self0 and ts below to method which use $(this) in case of click\n\t\t\t\t\t\t// on the grid and the table of the main grid if one click inside the FROZEN column\n\t\t\t\t\t\tsetSelection.call($self0, rowid, true, e);\n\t\t\t\t\t}\n\t\t\t\t\tif (!feedback.call(ts, \"onRightClickRow\", rowid, $tr[0].rowIndex, $td[0].cellIndex, e)) {\n\t\t\t\t\t\treturn false; // e.preventDefault() and e.stopPropagation() together\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\tgrid.bDiv = document.createElement(\"div\");\n\t\t\tif (isMSIE) { if (String(p.height).toLowerCase() === \"auto\") { p.height = \"100%\"; } }\n\t\t\t$(grid.bDiv)\n\t\t\t\t.append($(\"<div style='position:relative;'></div>\").append(\"<div></div>\").append(ts))\n\t\t\t\t.addClass(\"ui-jqgrid-bdiv\")\n\t\t\t\t.css({ height: p.height + (isNaN(p.height) ? \"\" : \"px\"), width: (grid.width) + \"px\" })\n\t\t\t\t.scroll(grid.scrollGrid);\n\t\t\tif (p.maxHeight) {\n\t\t\t\t$(grid.bDiv).css(\"max-height\", p.maxHeight + (isNaN(p.maxHeight) ? \"\" : \"px\"));\n\t\t\t}\n\t\t\t$self0.css({ width: \"1px\" });\n\t\t\tif (!$.support.tbody) { //IE\n\t\t\t\tif ($(\">tbody\", ts).length === 2) { $(\">tbody:gt(0)\", ts).remove(); }\n\t\t\t}\n\t\t\tif (p.multikey) {\n\t\t\t\t$(grid.bDiv).on(jgrid.msie ? \"selectstart\" : \"mousedown\", function () { return false; });\n\t\t\t}\n\t\t\tif (hg) { $(grid.bDiv).hide(); }\n\t\t\tgrid.cDiv = document.createElement(\"div\");\n\t\t\tvar visibleGridIcon = getIcon(\"gridMinimize.visible\"), hiddenGridIcon = getIcon(\"gridMinimize.hidden\"), showhide = getDef(\"showhide\"),\n\t\t\t\tarf = p.hidegrid === true ?\n\t\t\t\t\t$(\"<a role='link' class='\" + getGuiStyles(\"titleButton\", \"ui-jqgrid-titlebar-close\") + \"'\" + (showhide ? \" title='\" + showhide + \"'\" : \"\") + \"/>\")\n\t\t\t\t\t\t.hover(\n\t\t\t\t\t\t\tfunction () { arf.addClass(hoverStateClasses); },\n\t\t\t\t\t\t\tfunction () { arf.removeClass(hoverStateClasses); }\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.append(\"<span class='\" + visibleGridIcon + \"'></span>\") :\n\t\t\t\t\t\"\";\n\t\t\t$(grid.cDiv).append(\"<span class='ui-jqgrid-title'>\" + p.caption + \"</span>\")\n\t\t\t\t.append(arf)\n\t\t\t\t.addClass(getGuiStyles(\"gridTitle\", \"ui-jqgrid-titlebar ui-jqgrid-caption\" + (dir === \"rtl\" ? \"-rtl \" : \" \") + topClasses));\n\t\t\t$(grid.cDiv).insertBefore(grid.hDiv);\n\t\t\tif (p.toolbar[0]) {\n\t\t\t\tgrid.uDiv = document.createElement(\"div\");\n\t\t\t\tif (p.toolbar[1] === \"top\") {\n\t\t\t\t\t$(grid.uDiv).insertBefore(grid.hDiv);\n\t\t\t\t} else if (p.toolbar[1] === \"bottom\") {\n\t\t\t\t\t$(grid.uDiv).insertAfter(grid.hDiv);\n\t\t\t\t}\n\t\t\t\tvar toolbarUpperClasses = getGuiStyles(\"toolbarUpper\", \"ui-userdata\");\n\t\t\t\tif (p.toolbar[1] === \"both\") {\n\t\t\t\t\tgrid.ubDiv = document.createElement(\"div\");\n\t\t\t\t\t$(grid.uDiv).addClass(toolbarUpperClasses).attr(\"id\", \"t_\" + p.id).insertBefore(grid.hDiv);\n\t\t\t\t\t$(grid.ubDiv).addClass(getGuiStyles(\"toolbarBottom\", \"ui-userdata\")).attr(\"id\", \"tb_\" + p.id).insertAfter(grid.hDiv);\n\t\t\t\t\tif (hg) { $(grid.ubDiv).hide(); }\n\t\t\t\t} else {\n\t\t\t\t\t$(grid.uDiv).width(grid.width).addClass(toolbarUpperClasses).attr(\"id\", \"t_\" + p.id);\n\t\t\t\t}\n\t\t\t\tif (hg) { $(grid.uDiv).hide(); }\n\t\t\t}\n\t\t\tif (typeof p.datatype === \"string\") {\n\t\t\t\tp.datatype =  p.datatype.toLowerCase();\n\t\t\t}\n\t\t\tif (p.toppager) {\n\t\t\t\tp.toppager = p.id + \"_toppager\";\n\t\t\t\tgrid.topDiv = $(\"<div id='\" + p.toppager + \"'></div>\")[0];\n\t\t\t\t$(grid.topDiv)\n\t\t\t\t\t.addClass(getGuiStyles(\"pager.pager\", \"ui-jqgrid-toppager\" + (p.caption ? \"\" : \" \" + topClasses)))\n\t\t\t\t\t.css({ width: grid.width + \"px\" })\n\t\t\t\t\t.insertBefore(grid.hDiv);\n\t\t\t\tsetPager.call(ts, p.toppager, \"_t\");\n\t\t\t\tp.toppager = \"#\" + jqID(p.toppager); // hold ESCAPED id selector in the toppager option\n\t\t\t} else if (p.pager === \"\" && !p.scroll) {\n\t\t\t\tp.rowNum = p.maxRowNum;\n\t\t\t}\n\t\t\tif (p.footerrow) {\n\t\t\t\tgrid.sDiv = $(\"<div class='ui-jqgrid-sdiv'></div>\")[0];\n\t\t\t\thb = $(\"<div class='ui-jqgrid-hbox\" + (dir === \"rtl\" ? \"-rtl\" : \"\") + \"'></div>\");\n\t\t\t\t$(grid.sDiv).append(hb).width(grid.width).insertAfter(grid.hDiv);\n\t\t\t\t$(hb).append(tfoot);\n\t\t\t\tgrid.footers = $(\".ui-jqgrid-ftable\", grid.sDiv)[0].rows[0].cells;\n\t\t\t\tif (p.rownumbers) { grid.footers[0].className = getGuiStyles(\"rowNum\", \"jqgrid-rownum\"); }\n\t\t\t\tif (hg) { $(grid.sDiv).hide(); }\n\t\t\t}\n\t\t\thb = null;\n\t\t\tif (p.caption) {\n\t\t\t\tvar tdt = p.datatype;\n\t\t\t\tif (p.hidegrid === true) {\n\t\t\t\t\t$(\".ui-jqgrid-titlebar-close\", grid.cDiv).click(function (e) {\n\t\t\t\t\t\tvar elems = \".ui-jqgrid-bdiv,.ui-jqgrid-hdiv,.ui-jqgrid-pager,.ui-jqgrid-sdiv\", self = this;\n\t\t\t\t\t\tif (p.toolbar[0] === true) {\n\t\t\t\t\t\t\tif (p.toolbar[1] === \"both\") {\n\t\t\t\t\t\t\t\telems += \",#\" + jqID($(grid.ubDiv).attr(\"id\"));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telems += \",#\" + jqID($(grid.uDiv).attr(\"id\"));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar counter = $(elems, p.gView).length;\n\t\t\t\t\t\tif (p.toppager) {\n\t\t\t\t\t\t\telems += \",\" + p.toppager;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (p.gridstate === \"visible\") {\n\t\t\t\t\t\t\t$(elems, p.gBox).slideUp(\"fast\", function () {\n\t\t\t\t\t\t\t\tcounter--;\n\t\t\t\t\t\t\t\tif (counter === 0) {\n\t\t\t\t\t\t\t\t\t$(\"span\", self).removeClass(visibleGridIcon).addClass(hiddenGridIcon);\n\t\t\t\t\t\t\t\t\tp.gridstate = \"hidden\";\n\t\t\t\t\t\t\t\t\tif ($(p.gBox).hasClass(\"ui-resizable\")) { $(\".ui-resizable-handle\", p.gBox).hide(); }\n\t\t\t\t\t\t\t\t\t$(grid.cDiv).addClass(bottomClasses);\n\t\t\t\t\t\t\t\t\tif (!hg) { feedback.call(ts, \"onHeaderClick\", p.gridstate, e); }\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else if (p.gridstate === \"hidden\") {\n\t\t\t\t\t\t\t$(grid.cDiv).removeClass(bottomClasses);\n\t\t\t\t\t\t\t$(elems, p.gBox).slideDown(\"fast\", function () {\n\t\t\t\t\t\t\t\tcounter--;\n\t\t\t\t\t\t\t\tif (counter === 0) {\n\t\t\t\t\t\t\t\t\t$(\"span\", self).removeClass(hiddenGridIcon).addClass(visibleGridIcon);\n\t\t\t\t\t\t\t\t\tif (hg) { p.datatype = tdt; populate.call(ts); hg = false; }\n\t\t\t\t\t\t\t\t\tp.gridstate = \"visible\";\n\t\t\t\t\t\t\t\t\tif ($(p.gBox).hasClass(\"ui-resizable\")) { $(\".ui-resizable-handle\", p.gBox).show(); }\n\t\t\t\t\t\t\t\t\tif (!hg) { feedback.call(ts, \"onHeaderClick\", p.gridstate, e); }\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t});\n\t\t\t\t\tif (hg) { p.datatype = \"local\"; $(\".ui-jqgrid-titlebar-close\", grid.cDiv).trigger(\"click\"); }\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$(grid.cDiv).hide();\n\t\t\t\t$(grid.cDiv).nextAll(\"div:visible\").first().addClass(\"ui-corner-top\"); // set on top toolbar or toppager or on hDiv\n\t\t\t}\n\t\t\t$(grid.hDiv).after(grid.bDiv);\n\t\t\tgrid.eDiv = $(\"<div class='\" + getGuiStyles(\"gridError\", \"ui-jqgrid-errorbar ui-jqgrid-errorbar-\" + dir) +\n\t\t\t\t\"' style='display:none;'>\" +\n\t\t\t\t//($self0.jqGrid(\"isBootstrapGuiStyle\") ? \"<button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;</span></button>\" : \"\") +\n\t\t\t\t\"<span class='\" + getGuiStyles(\"gridErrorText\", \"ui-jqgrid-error\") + \"'></span></div>\")[0];\n\t\t\t$(grid.hDiv).after(grid.eDiv);\n\t\t\t$(eg)\n\t\t\t\t.click(myResizerClickHandler)\n\t\t\t\t.dblclick(function (e) { // it's still needed for Firefox\n\t\t\t\t\tvar $resizer = $(p.rs),\n\t\t\t\t\t\tresizerOffset = $resizer.offset(),\n\t\t\t\t\t\tiColIndex = $resizer.data(\"idx\"),\n\t\t\t\t\t\tdelta = $resizer.data(\"delta\"),\n\t\t\t\t\t\tcm = p.colModel[iColIndex],\n\t\t\t\t\t\tpageX = $(this).data(\"pageX\") || $resizer.data(\"pageX\");\n\n\t\t\t\t\tif (pageX == null || cm == null) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tvar arPageX = String(pageX).split(\";\"),\n\t\t\t\t\t\tpageX1 = parseFloat(arPageX[0]),\n\t\t\t\t\t\tpageX2 = parseFloat(arPageX[1]);\n\t\t\t\t\tif (arPageX.length === 2 && (Math.abs(pageX1 - pageX2) > 5 || Math.abs(e.pageX - pageX1) > 5 || Math.abs(e.pageX - pageX2) > 5)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (feedback.call(ts, \"resizeDblClick\", iColIndex, cm) &&\n\t\t\t\t\t\t(resizerOffset.left - 1 <= e.pageX + delta && e.pageX + delta <= resizerOffset.left + $resizer.outerWidth() + 1) && cm.autoResizable) {\n\t\t\t\t\t\t$j.autoResizeColumn.call($self0, iColIndex);\n\t\t\t\t\t}\n\t\t\t\t\tfeedback.call(ts, \"afterResizeDblClick\", { iCol: iColIndex, cm: cm, cmName: cm.name });\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\tif (!p.pager) {\n\t\t\t\t$(grid.cDiv).nextAll(\"div:visible\").filter(\":last\").addClass(bottomClasses); // set on bottom toolbar or footer (sDiv) or on bDiv\n\t\t\t}\n\t\t\t$(\".ui-jqgrid-labels\", grid.hDiv)\n\t\t\t\t.on(\"selectstart\", function () { return false; });\n\t\t\tts.formatCol = formatCol;\n\t\t\tts.sortData = sortData;\n\t\t\tts.updatepager = updatepager;\n\t\t\tts.refreshIndex = refreshIndex;\n\t\t\tts.addItemDataToColumnIndex = addItemDataToColumnIndex;\n\t\t\tts.removeItemDataFromColumnIndex = removeItemDataFromColumnIndex;\n\t\t\tts.generateValueFromColumnIndex = function (cmName, separator, delimiter) {\n\t\t\t\tvar uniqueTexts = $(this).jqGrid(\"getUniqueValueFromColumnIndex\", cmName), v = \"\", i, len;\n\n\t\t\t\tif (uniqueTexts != null) {\n\t\t\t\t\t// convert to format of editoptions.value or searchoptions.value\n\t\t\t\t\tdelimiter = delimiter || \";\";\n\t\t\t\t\tseparator = separator || \":\";\n\t\t\t\t\tfor (i = 0, len = uniqueTexts.length; i < len; i++) {\n\t\t\t\t\t\tif (v !== \"\") {\n\t\t\t\t\t\t\tv += delimiter || \";\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tv += uniqueTexts[i] + (separator || \":\") + uniqueTexts[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn v;\n\t\t\t};\n\t\t\tts.setHeadCheckBox = setHeadCheckBox;\n\t\t\tts.fixScrollOffsetAndhBoxPadding = fixScrollOffsetAndhBoxPadding;\n\t\t\tts.constructTr = constructTr;\n\t\t\tts.formatter = formatter;\n\t\t\textend(grid, { populate: populate, emptyRows: emptyRows, beginReq: beginReq, endReq: endReq });\n\t\t\tts.addXmlData = readInput;\n\t\t\tts.addJSONData = readInput;\n\t\t\tts.rebuildRowIndexes = rebuildRowIndexes;\n\t\t\tts.grid.cols = ts.rows[0].cells;\n\t\t\tfeedback.call(ts, \"onInitGrid\");\n\n\t\t\t// fix to allow to load TreeGrid using datatype:\"local\", data:mydata instead of treeGrid: true\n\t\t\tif (p.treeGrid && p.datatype === \"local\" && p.data != null && p.data.length > 0) {\n\t\t\t\tp.datatype = \"jsonstring\";\n\t\t\t\tp.datastr = p.data;\n\t\t\t\tp.data = [];\n\t\t\t}\n\n\t\t\tpopulate.call(ts);\n\t\t\tp.hiddengrid = false;\n\t\t});\n\t};\n\tvar base = $.fn.jqGrid;\n\tjgrid.extend({\n\t\tgetGridRes: function (defaultPropName) {\n\t\t\t// The problem is the following: there are already exist some properties of $.jgrid which can be used\n\t\t\t// to set some defaults of jqGrid. It's: $.jgrid.defaults, $.jgrid.search, $.jgrid.edit, $.jgrid.view, $.jgrid.del, $.jgrid.nav\n\t\t\t// $.jgrid.formatter, $.jgrid.errors, $.jgrid.col\n\t\t\t// Existing programs could use the objects to set either language specific settings (which are now moved under locales part)\n\t\t\t// be language independent. Thus one should combine language specific settings with the user's settings and overwrite the settings\n\t\t\t// with grid specific settings if the settings exist.\n\t\t\t//\n\t\t\t// For example:\n\t\t\t//      p.loadtext (grid option) = \"...\"\n\t\t\t//      $.jgrid.defaults.loadtext = \".........\"\n\t\t\t//      p.locales = \"en-US\",\n\t\t\t//      $.jgrid.locales[\"en-US\"].defaults.loadtext = \"Loading...\";\n\t\t\t//\n\t\t\t//      p.edit.addCaption = \"Add Invoice\"\n\t\t\t//      $.jgrid.edit.addCaption = \"Add\"\n\t\t\t//      p.locales = \"en-US\",\n\t\t\t//      $.jgrid.locales[\"en-US\"].edit.addCaption = \"Add Record\";\n\t\t\t//\n\t\t\t// In the case the grid option p.loadtext = \"...\" need be used. If p.loadtext is not defined then $.jgrid.defaults.loadtext. If\n\t\t\t// $.jgrid.defaults.loadtext is not defined explicitly by the user, then language settings will be used\n\n\t\t\tvar $t = this[0];\n\t\t\tif (!$t || !$t.grid || !$t.p) { return null; }\n\t\t\t// One need get defaultPropName from $.jgrid root first. If no value exist then one should get it from $.jgrid[reg] root\n\t\t\tvar res = jgrid.getRes(locales[$t.p.locale], defaultPropName) || jgrid.getRes(locales[\"en-US\"], defaultPropName),\n\t\t\t\tresDef = jgrid.getRes(jgrid, defaultPropName);\n\t\t\treturn typeof res === \"object\" && res !== null && !$.isArray(res) ?\n\t\t\t\t$.extend(true, {}, res, resDef || {}) : // !!! Expensive and can be slow !!!\n\t\t\t\tresDef !== undefined ? resDef : res;\n\t\t},\n\t\tgetGuiStyles: function (path, jqClasses) {\n\t\t\tvar $t = this instanceof $ && this.length > 0 ? this[0] : this;\n\t\t\tif (!$t || !$t.grid || !$t.p) { return \"\"; }\n\t\t\tvar p = $t.p, guiStyle = p.guiStyle || jgrid.defaults.guiStyle || \"jQueryUI\",\n\t\t\t\tguiClasses = jgrid.getRes(jgrid.guiStyles[guiStyle], path), baseGuiStyle;\n\t\t\tif (guiClasses === undefined) {\n\t\t\t\tbaseGuiStyle = jgrid.getRes(jgrid.guiStyles[guiStyle], \"baseGuiStyle\");\n\t\t\t\tif (typeof baseGuiStyle === \"string\") {\n\t\t\t\t\tguiClasses = jgrid.getRes(jgrid.guiStyles[baseGuiStyle], path);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn jgrid.mergeCssClasses(guiClasses || \"\", jqClasses || \"\");\n\t\t},\n\t\tisBootstrapGuiStyle: function () {\n\t\t\treturn $.inArray(\"ui-jqgrid-bootstrap\", $(this).jqGrid(\"getGuiStyles\", \"gBox\").split(\" \")) >= 0;\n\t\t},\n\t\tdisplayErrorMessage: function (message) {\n\t\t\tvar $t = this instanceof $ && this.length > 0 ? this[0] : this;\n\t\t\tif (!$t || !$t.grid || !$t.p || !message) { return; }\n\t\t\tvar $errorDiv = $($t.grid.eDiv),\n\t\t\t\t$errorSpan = $errorDiv.children(\".ui-jqgrid-error\");\n\n\t\t\t$errorSpan.html(message);\n\t\t\t$errorDiv.show();\n\t\t\tif ($t.p.errorDisplayTimeout) {\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t$errorSpan.empty();\n\t\t\t\t\t$errorDiv.hide();\n\t\t\t\t}, $t.p.errorDisplayTimeout);\n\t\t\t}\n\t\t},\n\t\tgetIconRes: function (path) {\n\t\t\tvar $t = this instanceof $ && this.length > 0 ? this[0] : this;\n\t\t\tif (!$t || !$t.p) { return \"\"; }\n\n\t\t\tvar p = $t.p, iconSet = jgrid.icons[p.iconSet],\n\t\t\t\tgetIcon = function (basePath, path, alternativeRoot) {\n\t\t\t\t\tvar pathParts = path.split(\".\"), root, n = pathParts.length, part, i, classes = [];\n\t\t\t\t\tbasePath = typeof basePath === \"string\" ? jgrid.icons[basePath] : basePath;\n\t\t\t\t\tif (basePath == null) {\n\t\t\t\t\t\treturn \"\"; // error unknown iconSet\n\t\t\t\t\t}\n\t\t\t\t\troot = basePath;\n\t\t\t\t\tif (root.common) {\n\t\t\t\t\t\tclasses.push(root.common);\n\t\t\t\t\t} else if (alternativeRoot && alternativeRoot.common) {\n\t\t\t\t\t\tclasses.push(alternativeRoot.common);\n\t\t\t\t\t}\n\t\t\t\t\tfor (i = 0; i < n; i++) {\n\t\t\t\t\t\tpart = pathParts[i];\n\t\t\t\t\t\tif (!part) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (i + 1 === n && root.ignoreParents) {\n\t\t\t\t\t\t\t// the final level\n\t\t\t\t\t\t\t// Verify that ignoreParents mode is set on the level\n\t\t\t\t\t\t\tclasses = []; // reset array of classes\n\t\t\t\t\t\t}\n\t\t\t\t\t\troot = root[part];\n\t\t\t\t\t\tif (root === undefined) {\n\t\t\t\t\t\t\tif (part === \"common\") { break; }\n\t\t\t\t\t\t\treturn \"\"; // error unknown icon path\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (typeof root === \"string\") {\n\t\t\t\t\t\t\tclasses.push(root);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (root != null && root.common) {\n\t\t\t\t\t\t\tclasses.push(root.common);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn jgrid.mergeCssClasses.apply(this, classes);\n\t\t\t\t};\n\n\t\t\tif (iconSet == null) {\n\t\t\t\treturn \"\";\n\t\t\t}\n\t\t\tvar classes = getIcon(p.iconSet, path);\n\t\t\tif (classes === \"\" && iconSet.baseIconSet != null) {\n\t\t\t\tclasses = getIcon(iconSet.baseIconSet, path, jgrid.icons[p.iconSet]);\n\t\t\t}\n\t\t\treturn classes || \"\";\n\t\t},\n\t\tisInCommonIconClass: function (testClass) {\n\t\t\tvar $t = this instanceof $ && this.length > 0 ? this[0] : this;\n\t\t\tif (!$t || !$t.p) { return \"\"; }\n\n\t\t\tvar p = $t.p, iconSet = jgrid.icons[p.iconSet];\n\t\t\tif (iconSet == null) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar commonClasses = iconSet.common;\n\t\t\tif (commonClasses === undefined) {\n\t\t\t\tif (iconSet.baseIconSet == null) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\ticonSet = jgrid.icons[iconSet.baseIconSet];\n\t\t\t\tif (iconSet == null) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tcommonClasses = iconSet.common;\n\t\t\t}\n\t\t\treturn typeof commonClasses === \"string\" && $.inArray(testClass, commonClasses.split(\" \")) >= 0;\n\t\t},\n\t\tgetUniqueValueFromColumnIndex: function (cmName) {\n\t\t\tvar $t = this[0];\n\t\t\tif (!$t || !$t.grid) { return null; }\n\t\t\tvar uniqueTexts = [], v = \"\", id;\n\n\t\t\tvar uniqueValues = $t.p.indexByColumnData[cmName];\n\t\t\tif (uniqueValues != null) {\n\t\t\t\tfor (v in uniqueValues) {\n\t\t\t\t\tif (uniqueValues.hasOwnProperty(v)) {\n\t\t\t\t\t\tfor (id in uniqueValues[v]) {\n\t\t\t\t\t\t\tif (uniqueValues[v].hasOwnProperty(id)) {\n\t\t\t\t\t\t\t\tv = String(uniqueValues[v][id]); // get the value in the correct case\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tuniqueTexts.push(v);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// sort the values\n\t\t\t\tif ($t.p.ignoreCase) {\n\t\t\t\t\tif (typeof String.prototype.localeCompare === \"undefined\") {\n\t\t\t\t\t\t// IE10 and before\n\t\t\t\t\t\tuniqueTexts.sort(function (a, b) {\n\t\t\t\t\t\t\tvar aLowCase = a.toLowerCase(),\n\t\t\t\t\t\t\t\tbLowCase = b.toLowerCase();\n\t\t\t\t\t\t\treturn (aLowCase === bLowCase) ? 0 : ((aLowCase > bLowCase) ? 1 : -1);\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuniqueTexts.sort(function (a, b) {\n\t\t\t\t\t\t\treturn String(a).toLowerCase().localeCompare(String(b).toLowerCase());\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tuniqueTexts.sort();\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn uniqueTexts;\n\t\t},\n\t\tgenerateDatalistFromColumnIndex: function (cmName) {\n\t\t\tif (!this[0] || !this[0].grid) { return null; }\n\t\t\tvar uniqueTexts = this.jqGrid(\"getUniqueValueFromColumnIndex\", cmName), i, len,\n\t\t\t\t$dataList = $(\"<datalist></datalist>\");\n\n\t\t\tif (uniqueTexts != null && uniqueTexts.length > 0) {\n\t\t\t\t// convert to format of editoptions.value or searchoptions.value\n\t\t\t\tfor (i = 0, len = uniqueTexts.length; i < len; i++) {\n\t\t\t\t\t$dataList.append($(\"<option></option>\").attr(\"value\", uniqueTexts[i]));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn $(); // return empty jQuery object\n\t\t\t}\n\t\t\treturn $dataList;\n\t\t},\n\t\tgetGridParam: function (pName) {\n\t\t\tvar $t = this[0];\n\t\t\tif (!$t || !$t.grid) { return null; }\n\t\t\tif (!pName) { return $t.p; }\n\t\t\treturn $t.p[pName] !== undefined ? $t.p[pName] : null;\n\t\t},\n\t\tsetGridParam: function (newParams, overwrite) {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar self = this;\n\t\t\t\tif (overwrite == null) {\n\t\t\t\t\toverwrite = false;\n\t\t\t\t}\n\t\t\t\tif (self.grid && typeof newParams === \"object\") {\n\t\t\t\t\tif (overwrite === true) {\n\t\t\t\t\t\t$.extend(self.p, newParams);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$.extend(true, self.p, newParams);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tabortAjaxRequest: function () {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar self = this;\n\t\t\t\tif (self.p.jqXhr != null) {\n\t\t\t\t\tself.p.jqXhr.abort();\n\t\t\t\t}\n\t\t\t\tself.grid.endReq.call(self);\n\t\t\t});\n\t\t},\n\t\tgetGridRowById: function (rowid) {\n\t\t\tif (rowid == null) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar row, rowId = rowid.toString();\n\t\t\tthis.each(function () {\n\t\t\t\tvar i, rows = this.rows, tr, rowIndex;\n\t\t\t\tif (this.p.rowIndexes != null) {\n\t\t\t\t\trowIndex = this.p.rowIndexes[rowId];\n\t\t\t\t\ttr = rows[rowIndex];\n\t\t\t\t\tif (tr && tr.id === rowId) {\n\t\t\t\t\t\trow = tr;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!row) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\t//row = this.rows.namedItem( rowid );\n\t\t\t\t\t\ti = rows.length;\n\t\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\t\ttr = rows[i];\n\t\t\t\t\t\t\tif (rowId === tr.id) {\n\t\t\t\t\t\t\t\trow = tr;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\trow = $(this.grid.bDiv).find(\"#\" + jqID(rowid));\n\t\t\t\t\t\trow = row.length > 0 ? row[0] : null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn row;\n\t\t},\n\t\tgetDataIDs: function () {\n\t\t\tvar ids = [];\n\t\t\tthis.each(function () {\n\t\t\t\tvar rows = this.rows, len = rows.length, i, tr;\n\t\t\t\tif (len && len > 0) {\n\t\t\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\t\t\ttr = rows[i];\n\t\t\t\t\t\tif ($(tr).hasClass(\"jqgrow\")) {\n\t\t\t\t\t\t\tids.push(tr.id);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ids;\n\t\t},\n\t\t/*selectDeselectRow: function (tr, toSelect, notUpdateParam) {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, p = $t.p, rowId = tr.id, iSel, getGuiStyles = base.getGuiStyles,\n\t\t\t\t\thighlightClass = getGuiStyles.call($($t), \"states.select\"), frozenRows,\n\t\t\t\t\tselectUnselectRow = function (tr1, toSelect) {\n\t\t\t\t\t\tvar method = toSelect ? \"addClass\" : \"removeClass\", iColCb = p.iColByName.cb,\n\t\t\t\t\t\t\tattributes = toSelect ?\n\t\t\t\t\t\t\t\t\t{ \"aria-selected\": \"true\", tabindex: \"0\" } :\n\t\t\t\t\t\t\t\t\t{ \"aria-selected\": \"false\", tabindex: \"-1\" },\n\t\t\t\t\t\t\tselectUnselectRowInTable = function (tr) {\n\t\t\t\t\t\t\t\t$(tr)[method](highlightClass).attr(attributes);\n\t\t\t\t\t\t\t\tif (iColCb !== undefined) { // p.multiselect or p.multiselectCheckboxes\n\t\t\t\t\t\t\t\t\t$(tr.cells[iColCb]).children(\"input.cbox\").prop(\"checked\", toSelect);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\tselectUnselectRowInTable(tr1);\n\t\t\t\t\t\tif (frozenRows) {\n\t\t\t\t\t\t\tselectUnselectRowInTable(frozenRows[tr1.rowIndex]);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\tif (!$t.grid || !p || rowId === \"\") { return; }\n\t\t\t\tfrozenRows = $t.grid.fbRows;\n\t\t\t\tselectUnselectRow(tr, toSelect);\n\t\t\t\tif (!notUpdateParam) {\n\t\t\t\t\tiSel = $.inArray(rowId, p.selarrrow);\n\t\t\t\t\tif (iSel < 0 && toSelect) {\n\t\t\t\t\t\t// select\n\t\t\t\t\t\tp.selarrrow.push(rowId);\n\t\t\t\t\t\tp.selrow = rowId;\n\t\t\t\t\t} else if (iSel >= 0 && !toSelect) {\n\t\t\t\t\t\t// deselect\n\t\t\t\t\t\tp.selarrrow.splice(iSel, 1); // remove from array\n\t\t\t\t\t\tp.selrow = p.selarrrow.length >= 0 ? p.selarrrow[0] : null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},*/\n\t\tsetSelection: function (selection, onsr, e) {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, $self = $($t), p = $t.p, stat, pt, ner, ia, tpsr, csr, $tr, editingInfo,\n\t\t\t\t\tgetGuiStyles = base.getGuiStyles, getGridRowById = base.getGridRowById,\n\t\t\t\t\thighlightClass = getGuiStyles.call($self, \"states.select\"),\n\t\t\t\t\tdisabledClasses = getGuiStyles.call($self, \"states.disabled\"),\n\t\t\t\t\tfrozenRows = $t.grid.fbRows,\n\t\t\t\t\tselectUnselectRow = function (tr1, toSelect) {\n\t\t\t\t\t\tvar method = toSelect ? \"addClass\" : \"removeClass\", iColCb = p.iColByName.cb,\n\t\t\t\t\t\t\tattributes = toSelect ?\n\t\t\t\t\t\t\t\t{ \"aria-selected\": \"true\", tabindex: \"0\" } :\n\t\t\t\t\t\t\t\t{ \"aria-selected\": \"false\", tabindex: \"-1\" },\n\t\t\t\t\t\t\tselectUnselectRowInTable = function (tr) {\n\t\t\t\t\t\t\t\t$(tr)[method](highlightClass).attr(attributes);\n\t\t\t\t\t\t\t\tif (iColCb !== undefined) { // p.multiselect or p.multiselectCheckboxes\n\t\t\t\t\t\t\t\t\t$(tr.cells[iColCb]).children(\"input.cbox\").prop(\"checked\", toSelect);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\tselectUnselectRowInTable(tr1);\n\t\t\t\t\t\tif (frozenRows) {\n\t\t\t\t\t\t\tselectUnselectRowInTable(frozenRows[tr1.rowIndex]);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\tif (selection === undefined) { return; }\n\t\t\t\tonsr = onsr === false ? false : true;\n\t\t\t\tif (e != null) {\n\t\t\t\t\t// try to get tr from e.target\n\t\t\t\t\t$tr = $(e.target).closest(\"tr.jqgrow\");\n\t\t\t\t\tif ($tr.length > 0) {\n\t\t\t\t\t\tpt = $tr[0];\n\t\t\t\t\t\tif (frozenRows/* && !$.contains($t, pt)*/) {\n\t\t\t\t\t\t\t// The event could be inside of frozen div.\n\t\t\t\t\t\t\t// Thus tr could be the same as trFrozen (frozenRows[pt.rowIndex])\n\t\t\t\t\t\t\t// We normalize it based on the rowIndex.\n\t\t\t\t\t\t\tpt = $t.rows[pt.rowIndex];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pt == null) {\n\t\t\t\t\tpt = getGridRowById.call($self, selection);\n\t\t\t\t}\n\t\t\t\tif (!pt || !pt.className || pt.className.indexOf(disabledClasses) > -1) { return; }\n\t\t\t\tfunction scrGrid(tr, bDiv) {\n\t\t\t\t\tvar ch = bDiv.clientHeight,\n\t\t\t\t\t\tst = bDiv.scrollTop,\n\t\t\t\t\t\trpos = $(tr).position().top,\n\t\t\t\t\t\trh = tr.clientHeight;\n\t\t\t\t\tif (rpos + rh >= ch + st) {\n\t\t\t\t\t\tbDiv.scrollTop = rpos - (ch + st) + rh + st;\n\t\t\t\t\t} else if (rpos < ch + st) {\n\t\t\t\t\t\tif (rpos < st) {\n\t\t\t\t\t\t\tbDiv.scrollTop = rpos;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (p.scrollrows === true) {\n\t\t\t\t\tner = getGridRowById.call($self, selection);\n\t\t\t\t\tif (ner != null) {\n\t\t\t\t\t\tner = ner.rowIndex;\n\t\t\t\t\t\tif (ner >= 0) {\n\t\t\t\t\t\t\tscrGrid($t.rows[ner], $t.grid.bDiv);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!p.multiselect) {\n\t\t\t\t\tif (pt.className !== \"ui-subgrid\") {\n\t\t\t\t\t\tif (p.selrow !== pt.id) {\n\t\t\t\t\t\t\tif (p.selrow !== null) {\n\t\t\t\t\t\t\t\tcsr = getGridRowById.call($self, p.selrow);\n\t\t\t\t\t\t\t\tif (csr) {\n\t\t\t\t\t\t\t\t\tselectUnselectRow(csr, false);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tselectUnselectRow(pt, true);\n\t\t\t\t\t\t\tstat = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstat = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tp.selrow = pt.id;\n\t\t\t\t\t\tif (onsr) {\n\t\t\t\t\t\t\tfeedback.call($t, \"onSelectRow\", pt.id, stat, e || {});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t//unselect selectall checkbox when deselecting a specific row\n\t\t\t\t\t$t.setHeadCheckBox(false);\n\t\t\t\t\tp.selrow = pt.id;\n\t\t\t\t\teditingInfo = jgrid.detectRowEditing.call($t, pt.id);\n\t\t\t\t\tia = $.inArray(p.selrow, p.selarrrow);\n\t\t\t\t\tif (ia === -1) {\n\t\t\t\t\t\tstat = true;\n\t\t\t\t\t\tp.selarrrow.push(p.selrow);\n\t\t\t\t\t} else if (editingInfo !== null && (editingInfo.mode === \"inlineEditing\" || !$(e.target).hasClass(\"cbox\"))) {\n\t\t\t\t\t\t// the row is editing and selected now. The checkbox is clicked\n\t\t\t\t\t\tstat = true; // set to force the checkbox stay selected\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// deselect only if the row is not in editing mode\n\t\t\t\t\t\tstat = false;\n\t\t\t\t\t\tp.selarrrow.splice(ia, 1);\n\t\t\t\t\t\ttpsr = p.selarrrow[0];\n\t\t\t\t\t\tp.selrow = (tpsr === undefined) ? null : tpsr;\n\t\t\t\t\t}\n\t\t\t\t\tif (pt.className !== \"ui-subgrid\") {\n\t\t\t\t\t\tselectUnselectRow(pt, stat);\n\t\t\t\t\t}\n\t\t\t\t\tif (onsr) {\n\t\t\t\t\t\tfeedback.call($t, \"onSelectRow\", pt.id, stat, e || {});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tresetSelection: function (rowid) {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, $self = $(this), p = $t.p, row,\n\t\t\t\t\tgetGuiStyles = base.getGuiStyles, getGridRowById = base.getGridRowById,\n\t\t\t\t\thighlightClass = getGuiStyles.call($self, \"states.select\"), //\"ui-state-highlight\"\n\t\t\t\t\tcellEditCellHighlightClasses = \"edit-cell \" + highlightClass,\n\t\t\t\t\tcellEditRowHighlightClasses = \"selected-row \" + getGuiStyles.call($self, \"states.hover\"),\n\t\t\t\t\tiColCb = p.iColByName.cb,\n\t\t\t\t\tmultiselectChechboxes = iColCb !== undefined,\n\t\t\t\t\tfrozenRows = $t.grid.fbRows,\n\t\t\t\t\tdeselectRow = function (tr) {\n\t\t\t\t\t\tvar method = \"removeClass\", frozenRow,\n\t\t\t\t\t\t\tattributes = { \"aria-selected\": \"false\", tabindex: \"-1\" };\n\t\t\t\t\t\t$(tr)[method](highlightClass).attr(attributes);\n\t\t\t\t\t\tif (multiselectChechboxes) { // p.multiselect or p.multiselectCheckboxes\n\t\t\t\t\t\t\t$(tr.cells[iColCb]).children(\"input.cbox\").prop(\"checked\", false);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (frozenRows) {\n\t\t\t\t\t\t\tfrozenRow = frozenRows[tr.rowIndex];\n\t\t\t\t\t\t\t$(frozenRow)[method](highlightClass).attr(attributes);\n\t\t\t\t\t\t\tif (multiselectChechboxes) { // p.multiselect or p.multiselectCheckboxes\n\t\t\t\t\t\t\t\t$(frozenRow.cells[iColCb]).children(\"input.cbox\").prop(\"checked\", false);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\tif (rowid !== undefined) {\n\t\t\t\t\trow = getGridRowById.call($self, rowid);\n\t\t\t\t\tdeselectRow(row);\n\t\t\t\t\tif (multiselectChechboxes) {\n\t\t\t\t\t\t$t.setHeadCheckBox(false);\n\t\t\t\t\t\tvar ia = $.inArray(rowid, p.selarrrow);\n\t\t\t\t\t\tif (ia !== -1) {\n\t\t\t\t\t\t\tp.selarrrow.splice(ia, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (!p.multiselect) {\n\t\t\t\t\tif (p.selrow) {\n\t\t\t\t\t\trow = getGridRowById.call($self, p.selrow);\n\t\t\t\t\t\tdeselectRow(row);\n\t\t\t\t\t\tp.selrow = null;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t$($t.rows).each(function () {\n\t\t\t\t\t\tvar iSel = $.inArray(this.id, p.selarrrow);\n\t\t\t\t\t\tif (iSel !== -1) {\n\t\t\t\t\t\t\tdeselectRow(this);\n\t\t\t\t\t\t\tp.selarrrow.splice(iSel, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t$t.setHeadCheckBox(false);\n\t\t\t\t\tif (!p.multiPageSelection) {\n\t\t\t\t\t\tclearArray(p.selarrrow); // p.selarrrow = [];\n\t\t\t\t\t}\n\t\t\t\t\tp.selrow = null;\n\t\t\t\t}\n\t\t\t\tif (p.cellEdit === true) {\n\t\t\t\t\tif (parseInt(p.iCol, 10) >= 0 && parseInt(p.iRow, 10) >= 0) {\n\t\t\t\t\t\trow = $t.rows[p.iRow];\n\t\t\t\t\t\tif (row != null) {\n\t\t\t\t\t\t\t$(row.cells[p.iCol]).removeClass(cellEditCellHighlightClasses);\n\t\t\t\t\t\t\t$(row).removeClass(cellEditRowHighlightClasses);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (frozenRows) {\n\t\t\t\t\t\t\trow = frozenRows[p.iRow];\n\t\t\t\t\t\t\tif (row != null) {\n\t\t\t\t\t\t\t\t$(row.cells[p.iCol]).removeClass(cellEditCellHighlightClasses);\n\t\t\t\t\t\t\t\t$(row).removeClass(cellEditRowHighlightClasses);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t//clearArray(p.savedRow); // p.savedRow = [];\n\t\t\t\t//p.editingInfo = {};\n\t\t\t});\n\t\t},\n\t\tisCellEditing: function (rowid, iCol, trDom) {\n\t\t\tvar $t = this[0], editingInfo = jgrid.detectRowEditing.call($t, rowid);\n\n\t\t\tif (editingInfo != null &&\n\t\t\t\t((editingInfo.mode === \"inlineEditing\") ||\n\t\t\t\t\t(editingInfo.mode === \"cellEditing\" && editingInfo.savedRow.ic === iCol))) {\n\t\t\t\tiCol = isNaN(iCol) ? $t.p.iColByName[iCol] : parseInt(iCol, 10);\n\t\t\t\tvar tr = trDom != null && trDom.id === rowid ?\n\t\t\t\t\t\ttrDom :\n\t\t\t\t\t\tbase.getGridRowById.call($($t), rowid),\n\t\t\t\t\tcm = $t.p.colModel[iCol],\n\t\t\t\t\tisEditable = cm.editable;\n\n\t\t\t\tif ($.isFunction(isEditable)) {\n\t\t\t\t\tisEditable = isEditable.call($t, {\n\t\t\t\t\t\trowid: rowid,\n\t\t\t\t\t\tid: stripPref($t.p.idPrefix, rowid),\n\t\t\t\t\t\tiCol: iCol,\n\t\t\t\t\t\tiRow: tr.rowIndex,\n\t\t\t\t\t\tcmName: cm.name,\n\t\t\t\t\t\tcm: cm,\n\t\t\t\t\t\tmode: editingInfo.mode,\n\t\t\t\t\t\ttd: tr.cells[iCol],\n\t\t\t\t\t\ttr: tr,\n\t\t\t\t\t\tdataElement: jgrid.getDataFieldOfCell.call($t, tr, iCol)[0]\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (isEditable === true) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tgetRowData: function (rowid, options) {\n\t\t\t// TODO: add additional parameter, which will inform whether the output data need be in formatted or unformatted form\n\t\t\tvar res = {}, resall;\n\t\t\tif (typeof rowid === \"object\") {\n\t\t\t\toptions = rowid;\n\t\t\t\trowid = undefined;\n\t\t\t}\n\t\t\toptions = options || {};\n\t\t\tthis.each(function () {\n\t\t\t\tvar $t = this, p = $t.p, getall = false, tr, len = 1, j, rows = $t.rows, i, $td, cm, nm, td, editingInfo;\n\t\t\t\tif (rowid === undefined) {\n\t\t\t\t\tgetall = true;\n\t\t\t\t\tresall = [];\n\t\t\t\t\tlen = rows.length;\n\t\t\t\t} else {\n\t\t\t\t\ttr = base.getGridRowById.call($($t), rowid);\n\t\t\t\t\tif (!tr) { return res; }\n\t\t\t\t}\n\t\t\t\tfor (j = 0; j < len; j++) {\n\t\t\t\t\tif (getall) { tr = rows[j]; }\n\t\t\t\t\tif ($(tr).hasClass(\"jqgrow\")) {\n\t\t\t\t\t\teditingInfo = jgrid.detectRowEditing.call($t, rowid);\n\t\t\t\t\t\t$td = $(tr).find(\"td[role=gridcell]\");\n\t\t\t\t\t\tfor (i = 0; i < $td.length; i++) {\n\t\t\t\t\t\t\tcm = p.colModel[i];\n\t\t\t\t\t\t\tnm = cm.name;\n\t\t\t\t\t\t\tif ($.inArray(nm, p.reservedColumnNames) < 0 && cm.formatter !== \"actions\" && (!options.skipHidden || !cm.hidden)) {\n\t\t\t\t\t\t\t\ttd = $td[i];\n\t\t\t\t\t\t\t\tif (base.isCellEditing.call($($t), rowid, i, tr)) {\n\t\t\t\t\t\t\t\t\tres[nm] = jgrid.getEditedValue.call($t, jgrid.getDataFieldOfCell.call($t, tr, i), cm, {}, cm.editable);\n\t\t\t\t\t\t\t\t} else if (p.treeGrid === true && nm === p.ExpandColumn) {\n\t\t\t\t\t\t\t\t\tres[nm] = htmlDecode($(\"span\", td).first().html());\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tres[nm] = $.unformat.call($t, td, { rowId: rowid, colModel: cm }, i);\n\t\t\t\t\t\t\t\t\t} catch (exception) {\n\t\t\t\t\t\t\t\t\t\tres[nm] = htmlDecode($(td).html());\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (options.includeId && (p.keyName === false || res[p.keyName] == null)) {\n\t\t\t\t\t\t\tres[p.prmNames.id] = stripPref(p.idPrefix, tr.id);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (getall) {\n\t\t\t\t\t\t\tresall.push(res);\n\t\t\t\t\t\t\tres = {};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn resall || res;\n\t\t},\n\t\tdelRowData: function (rowid) {\n\t\t\tvar success = false;\n\t\t\tthis.each(function () {\n\t\t\t\tvar $t = this, p = $t.p, editingInfo = $.jgrid.detectRowEditing.call($t, rowid), rowInd, ia, nextRow;\n\t\t\t\trowInd = base.getGridRowById.call($($t), rowid);\n\t\t\t\tif (!rowInd) { return false; }\n\t\t\t\tif (p.subGrid) {\n\t\t\t\t\tnextRow = $(rowInd).next();\n\t\t\t\t\tif (nextRow.hasClass(\"ui-subgrid\")) {\n\t\t\t\t\t\tnextRow.remove();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (editingInfo != null) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (editingInfo.mode === \"inlineEditing\" && base.restoreRow != null) {\n\t\t\t\t\t\t\tbase.restoreRow.call($($t), rowid);\n\t\t\t\t\t\t} else if (editingInfo.mode === \"cellEditing\" && base.restoreCell != null) {\n\t\t\t\t\t\t\tbase.restoreCell.call($($t), editingInfo.savedRow.id, editingInfo.savedRow.ic);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (ignore) { }\n\t\t\t\t}\n\t\t\t\tif (rowInd.rowIndex === p.iRow) { // delete row with selected/edited cell\n\t\t\t\t\t// reset cell editing parameters in case of selected cells, but not editing\n\t\t\t\t\tp.iRow = -1;\n\t\t\t\t\tp.iCol = -1;\n\t\t\t\t}\n\t\t\t\t$(rowInd).remove();\n\t\t\t\tp.records--;\n\t\t\t\tp.reccount--;\n\t\t\t\t$t.updatepager(true, false);\n\t\t\t\tsuccess = true;\n\t\t\t\tif (p.multiselect) {\n\t\t\t\t\tia = $.inArray(rowid, p.selarrrow);\n\t\t\t\t\tif (ia !== -1) { p.selarrrow.splice(ia, 1); }\n\t\t\t\t}\n\t\t\t\tif (p.multiselect && p.selarrrow.length > 0) {\n\t\t\t\t\tp.selrow = p.selarrrow[p.selarrrow.length - 1];\n\t\t\t\t} else if (p.selrow === rowid) {\n\t\t\t\t\tp.selrow = null;\n\t\t\t\t}\n\t\t\t\tif (p.datatype === \"local\") {\n\t\t\t\t\tvar id = stripPref(p.idPrefix, rowid),\n\t\t\t\t\t\tpos = p._index[id];\n\t\t\t\t\tif (pos !== undefined) {\n\t\t\t\t\t\t$t.removeItemDataFromColumnIndex(id);\n\t\t\t\t\t\tp.data.splice(pos, 1);\n\t\t\t\t\t\t$t.refreshIndex(); // ??? it could be less expansive\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t$t.rebuildRowIndexes();\n\t\t\t\tif (p.altRows === true && success && !$($t).jqGrid(\"isBootstrapGuiStyle\")) {\n\t\t\t\t\tvar cn = p.altclass, frozenRows = $t.grid.fbRows;\n\t\t\t\t\t$($t.rows).each(function (i) {\n\t\t\t\t\t\tvar $row = $(this);\n\t\t\t\t\t\tif (frozenRows) {\n\t\t\t\t\t\t\t$row = $row.add(frozenRows[this.rowIndex]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$row[i % 2 === 0 ? \"addClass\" : \"removeClass\"](cn);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tfeedback.call($t, \"afterDelRow\", rowid);\n\t\t\t});\n\t\t\treturn success;\n\t\t},\n\t\tsetRowData: function (rowid, data, cssp) {\n\t\t\t// TODO: add additional parameter to setRowData which inform that input data is in formatted or unformatted form\n\t\t\tvar success = true;\n\t\t\tthis.each(function () {\n\t\t\t\tvar t = this, p = t.p, ind, cp = typeof cssp, lcdata = {};\n\t\t\t\tif (!t.grid) { return false; }\n\t\t\t\tind = base.getGridRowById.call($(t), rowid);\n\t\t\t\tif (!ind) { return false; }\n\t\t\t\tif (data) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar id = stripPref(p.idPrefix, rowid), key, pos = p._index[id], newData = {},\n\t\t\t\t\t\t\toData = pos != null ? p.data[pos] : undefined;\n\t\t\t\t\t\t$(p.colModel).each(function (i) {\n\t\t\t\t\t\t\tvar cm = this, nm = cm.name, vl = getAccessor(data, nm);\n\t\t\t\t\t\t\tif (vl !== undefined) {\n\t\t\t\t\t\t\t\tif (p.datatype === \"local\" && oData != null) {\n\t\t\t\t\t\t\t\t\tvl = convertOnSaveLocally.call(t, vl, cm, oData[nm], id, oData, i);\n\t\t\t\t\t\t\t\t\tif ($.isFunction(cm.saveLocally)) {\n\t\t\t\t\t\t\t\t\t\tcm.saveLocally.call(t, { newValue: vl, newItem: lcdata, oldItem: oData, id: id, cm: cm, cmName: nm, iCol: i });\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tlcdata[nm] = vl;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tnewData[nm] = vl;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$(p.colModel).each(function (i) {\n\t\t\t\t\t\t\tvar cm = this, nm = cm.name, title, vl = getAccessor(data, nm), $td = $(ind.cells[i]);\n\t\t\t\t\t\t\tif (vl !== undefined) {\n\t\t\t\t\t\t\t\tif (p.datatype === \"local\" && oData != null) {\n\t\t\t\t\t\t\t\t\tvl = lcdata[nm];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\ttitle = cm.title ? { \"title\": vl } : {};\n\t\t\t\t\t\t\t\tvl = t.formatter(rowid, vl, i, data, \"edit\", newData);\n\t\t\t\t\t\t\t\tif (cm.formatter === \"select\") {\n\t\t\t\t\t\t\t\t\ttitle = cm.title ? { \"title\": stripHtml(vl) } : {};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvar $dataFiled = $td;\n\t\t\t\t\t\t\t\tif (p.treeGrid === true && nm === p.ExpandColumn) {\n\t\t\t\t\t\t\t\t\t$dataFiled = $dataFiled.children(\"span.cell-wrapperleaf,span.cell-wrapper\").first();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t$dataFiled.html(vl);\n\t\t\t\t\t\t\t\t$td.attr(title);\n\t\t\t\t\t\t\t\tif (p.frozenColumns) {\n\t\t\t\t\t\t\t\t\t$dataFiled = $(t.grid.fbRows[ind.rowIndex].cells[i]);\n\t\t\t\t\t\t\t\t\tif (p.treeGrid === true && nm === p.ExpandColumn) {\n\t\t\t\t\t\t\t\t\t\t$dataFiled = $dataFiled.children(\"span.cell-wrapperleaf,span.cell-wrapper\").first();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t$dataFiled.html(vl).attr(title);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (p.datatype === \"local\") {\n\t\t\t\t\t\t\tif (p.treeGrid) {\n\t\t\t\t\t\t\t\tfor (key in p.treeReader) {\n\t\t\t\t\t\t\t\t\tif (p.treeReader.hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\t\t\tdelete lcdata[p.treeReader[key]];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (oData !== undefined) {\n\t\t\t\t\t\t\t\t// !!!!\n\t\t\t\t\t\t\t\tp.data[pos] = $.extend(true, oData, lcdata);\n\t\t\t\t\t\t\t\tt.removeItemDataFromColumnIndex(id);\n\t\t\t\t\t\t\t\tt.addItemDataToColumnIndex(p.data[pos], id);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfeedback.call(t, \"afterSetRow\", {\n\t\t\t\t\t\t\trowid: rowid,\n\t\t\t\t\t\t\tinputData: data,\n\t\t\t\t\t\t\tiData: pos,\n\t\t\t\t\t\t\tiRow: ind.rowIndex,\n\t\t\t\t\t\t\ttr: ind,\n\t\t\t\t\t\t\tlocalData: lcdata,\n\t\t\t\t\t\t\tcssProp: cssp\n\t\t\t\t\t\t});\n\t\t\t\t\t} catch (exception) {\n\t\t\t\t\t\tsuccess = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (success) {\n\t\t\t\t\tif (cp === \"string\") { $(ind).addClass(cssp); } else if (cssp !== null && cp === \"object\") { $(ind).css(cssp); }\n\t\t\t\t\t//$(t).triggerHandler(\"jqGridAfterGridComplete\");\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn success;\n\t\t},\n\t\tchangeRowid: function (oldRowId, newRowId) {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar ts = this, $self = $(ts), p = ts.p, localData, i, newCboxId, tr, $tr, cm, value;\n\t\t\t\tif (!ts.grid || !p || oldRowId === newRowId) { return; }\n\n\t\t\t\ttr = $self.jqGrid(\"getGridRowById\", oldRowId);\n\t\t\t\tif (!tr || $self.jqGrid(\"getGridRowById\", newRowId) != null) {\n\t\t\t\t\t// consider to throw an exception or displaying an error in some way\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar oldId = jgrid.stripPref(p.idPrefix, oldRowId),\n\t\t\t\t\tnewId = jgrid.stripPref(p.idPrefix, newRowId),\n\t\t\t\t\tidname = p.keyName === false ? p.prmNames.id : p.keyName,\n\t\t\t\t\tfixRowid = function () {\n\t\t\t\t\t\tvar id = this.id, lengthDiff = id.length - oldId.length;\n\t\t\t\t\t\tif (lengthDiff > 0 && id.substr(lengthDiff) === oldId) {\n\t\t\t\t\t\t\t$(this).attr(\"id\", id.substr(0, lengthDiff) + newId);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\tif (p.iColByName[idname] >= 0) {\n\t\t\t\t\t$self.jqGrid(\"setCell\", oldRowId, idname, newId);\n\t\t\t\t}\n\t\t\t\tif (p.datatype === \"local\" && p._index[oldId] !== undefined) {\n\t\t\t\t\tp._index[newId] = p._index[oldId];\n\t\t\t\t\tlocalData = p.data[p._index[oldId]];\n\t\t\t\t\tdelete p._index[oldId];\n\t\t\t\t\tif (localData.hasOwnProperty(idname)) {\n\t\t\t\t\t\tlocalData[idname] = newId;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// fix rowIndexes used inside of getGridRowById\n\t\t\t\tp.rowIndexes[newRowId] = tr.rowIndex;\n\t\t\t\tdelete p.rowIndexes[oldRowId];\n\n\t\t\t\t$tr = ts.grid.fbRows == null ?\n\t\t\t\t\t$(tr) :\n\t\t\t\t\t$(tr).add(ts.grid.fbRows[tr.rowIndex]);\n\t\t\t\t$tr.attr(\"id\", newRowId);\n\t\t\t\tif (p.selrow === oldRowId) {\n\t\t\t\t\tp.selrow = newRowId;\n\t\t\t\t}\n\t\t\t\tif ($.isArray(p.selarrrow)) {\n\t\t\t\t\ti = $.inArray(oldRowId, p.selarrrow);\n\t\t\t\t\tif (i >= 0) {\n\t\t\t\t\t\tp.selarrrow[i] = newRowId;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (p.multiselect) {\n\t\t\t\t\tnewCboxId = \"jqg_\" + p.id + \"_\" + newRowId;\n\t\t\t\t\t$tr.find(\"input.cbox\")\n\t\t\t\t\t\t.attr(\"id\", newCboxId)\n\t\t\t\t\t\t.attr(\"name\", newCboxId);\n\t\t\t\t}\n\t\t\t\t// fix ids of all column with formatters actions and probably showlink\n\t\t\t\tfor (i = 0; i < p.colModel.length; i++) {\n\t\t\t\t\tcm = p.colModel[i];\n\t\t\t\t\tif (cm.formatter === \"actions\") {\n\t\t\t\t\t\t$tr.find(\".ui-jqgrid-actions .ui-pg-div\")\n\t\t\t\t\t\t\t.each(fixRowid);\n\t\t\t\t\t} else if (cm.formatter === \"showlink\" || (cm.unformat != null && cm.formatter != null)) {\n\t\t\t\t\t\t// resetting the same value in the cell will reformat the cell\n\t\t\t\t\t\t// with new rowid getCell uses unformat and setCell uses unformat\n\t\t\t\t\t\tvalue = $self.jqGrid(\"getCell\", newRowId, i);\n\t\t\t\t\t\t$self.jqGrid(\"setCell\", newRowId, i, value, false, false, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfeedback.call(ts, \"afterChangeRowid\", {\n\t\t\t\t\trowid: newRowId,\n\t\t\t\t\toldRowid: oldRowId,\n\t\t\t\t\tiRow: tr.rowIndex,\n\t\t\t\t\ttr: tr\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\taddRowData: function (rowid, rdata, pos, src) {\n\t\t\t// TODO: add an additional parameter, which will inform whether the input data rdata is in formatted or unformatted form\n\t\t\tif ($.inArray(pos, [\"first\", \"last\", \"before\", \"after\", \"afterSelected\", \"beforeSelected\"]) < 0) { pos = \"last\"; }\n\t\t\tvar success = false, nm, row, sind, i, v, aradd, cnm, cn, data, cm, id;\n\t\t\tif (rdata) {\n\t\t\t\tif ($.isArray(rdata)) {\n\t\t\t\t\taradd = true;\n\t\t\t\t\t//pos = \"last\";\n\t\t\t\t\tcnm = rowid;\n\t\t\t\t} else {\n\t\t\t\t\trdata = [rdata];\n\t\t\t\t\taradd = false;\n\t\t\t\t}\n\t\t\t\tthis.each(function () {\n\t\t\t\t\tvar t = this, p = t.p, datalen = rdata.length, $self = $(t), rows = t.rows, k = 0,\n\t\t\t\t\t\tgetGridRowById = base.getGridRowById, colModel = p.colModel, lcdata,\n\t\t\t\t\t\tadditionalProperties = p.additionalProperties, grouping;\n\t\t\t\t\tif (!aradd) {\n\t\t\t\t\t\tif (rowid !== undefined) {\n\t\t\t\t\t\t\trowid = String(rowid);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\trowid = randId();\n\t\t\t\t\t\t\tif (p.keyName !== false) {\n\t\t\t\t\t\t\t\tcnm = p.keyName;\n\t\t\t\t\t\t\t\tif (rdata[0][cnm] !== undefined) { rowid = rdata[0][cnm]; }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcn = p.altclass;\n\t\t\t\t\t// TODO: call jgrid.parseDataToHtml once with ALL data,\n\t\t\t\t\t// TODO: set correct the altrow classes inside of jgrid.parseDataToHtml (use params)\n\t\t\t\t\twhile (k < datalen) {\n\t\t\t\t\t\tdata = rdata[k];\n\t\t\t\t\t\trow = [];\n\t\t\t\t\t\tif (aradd) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\trowid = data[cnm];\n\t\t\t\t\t\t\t\tif (rowid === undefined) {\n\t\t\t\t\t\t\t\t\trowid = randId();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} catch (exception) { rowid = randId(); }\n\t\t\t\t\t\t\t//cna = p.altRows === true ? (rows.length - 1) % 2 === 0 ? cn : \"\" : \"\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tid = jgrid.stripPref(p.idPrefix, rowid);\n\t\t\t\t\t\tlcdata = {};\n\t\t\t\t\t\tfor (i = 0; i < colModel.length; i++) {\n\t\t\t\t\t\t\tcm = colModel[i];\n\t\t\t\t\t\t\tnm = cm.name;\n\t\t\t\t\t\t\tif (nm !== \"rn\" && nm !== \"cb\" && nm !== \"subgrid\") {\n\t\t\t\t\t\t\t\tv = convertOnSaveLocally.call(t, data[nm], cm, undefined, id, {}, i);\n\t\t\t\t\t\t\t\tif ($.isFunction(cm.saveLocally)) {\n\t\t\t\t\t\t\t\t\tcm.saveLocally.call(t, { newValue: v, newItem: lcdata, oldItem: {}, id: id, rowid: rowid, cm: cm, cmName: nm, iCol: i });\n\t\t\t\t\t\t\t\t} else if (v !== undefined) {\n\t\t\t\t\t\t\t\t\tlcdata[nm] = v;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (i = 0; i < additionalProperties.length; i++) {\n\t\t\t\t\t\t\tnm = additionalProperties[i];\n\t\t\t\t\t\t\tif (typeof nm === \"object\" && nm.hasOwnProperty(\"name\")) {\n\t\t\t\t\t\t\t\tnm = nm.name;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tv = getAccessor(data, nm);\n\t\t\t\t\t\t\tif (v !== undefined) {\n\t\t\t\t\t\t\t\tlcdata[nm] = v;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (p.datatype === \"local\") {\n\t\t\t\t\t\t\tlcdata[p.localReader.id] = id;\n\t\t\t\t\t\t\tp._index[id] = p.data.length;\n\t\t\t\t\t\t\tp.data.push(lcdata);\n\t\t\t\t\t\t\tt.addItemDataToColumnIndex(lcdata, id);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tgrouping = p.grouping;\n\t\t\t\t\t\tp.grouping = false; // workaround for adding row in the grid with grouping data\n\t\t\t\t\t\trow = jgrid.parseDataToHtml.call(t, 1, [rowid], [data]);\n\t\t\t\t\t\tp.grouping = grouping;\n\t\t\t\t\t\trow = row.join(\"\");\n\t\t\t\t\t\tif (rows.length === 0) {\n\t\t\t\t\t\t\t$(t.tBodies[0]).append(row);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (pos === \"afterSelected\" || pos === \"beforeSelected\") {\n\t\t\t\t\t\t\t\tif (src === undefined && p.selrow !== null) {\n\t\t\t\t\t\t\t\t\tsrc = p.selrow;\n\t\t\t\t\t\t\t\t\tpos = (pos === \"afterSelected\") ? \"after\" : \"before\";\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tpos = (pos === \"afterSelected\") ? \"last\" : \"first\";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tswitch (pos) {\n\t\t\t\t\t\t\t\tcase \"last\":\n\t\t\t\t\t\t\t\t\t$(rows[rows.length - 1]).after(row);\n\t\t\t\t\t\t\t\t\tsind = rows.length - 1;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase \"first\":\n\t\t\t\t\t\t\t\t\t$(rows[0]).after(row);\n\t\t\t\t\t\t\t\t\tsind = 1;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase \"after\":\n\t\t\t\t\t\t\t\t\tsind = getGridRowById.call($self, src);\n\t\t\t\t\t\t\t\t\tif (sind) {\n\t\t\t\t\t\t\t\t\t\tif ($(rows[sind.rowIndex + 1]).hasClass(\"ui-subgrid\")) {\n\t\t\t\t\t\t\t\t\t\t\t$(rows[sind.rowIndex + 1]).after(row);\n\t\t\t\t\t\t\t\t\t\t\tsind = sind.rowIndex + 2;\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t$(sind).after(row);\n\t\t\t\t\t\t\t\t\t\t\tsind = sind.rowIndex + 1;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase \"before\":\n\t\t\t\t\t\t\t\t\tsind = getGridRowById.call($self, src);\n\t\t\t\t\t\t\t\t\tif (sind) {\n\t\t\t\t\t\t\t\t\t\t$(sind).before(row);\n\t\t\t\t\t\t\t\t\t\tsind = sind.rowIndex - 1;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (p.subGrid === true) {\n\t\t\t\t\t\t\tbase.addSubGrid.call($self, p.iColByName.subgrid, sind);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tp.records++;\n\t\t\t\t\t\tp.reccount++;\n\t\t\t\t\t\tif (p.lastpage === 0) {\n\t\t\t\t\t\t\tp.lastpage = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfeedback.call(t, \"afterAddRow\", {\n\t\t\t\t\t\t\trowid: rowid,\n\t\t\t\t\t\t\tinputData: rdata,\n\t\t\t\t\t\t\tposition: pos,\n\t\t\t\t\t\t\tsrcRowid: src,\n\t\t\t\t\t\t\tiRow: sind,\n\t\t\t\t\t\t\ttr: rows[sind],\n\t\t\t\t\t\t\tlocalData: lcdata,\n\t\t\t\t\t\t\tiData: p.data.length - 1\n\t\t\t\t\t\t});\n\t\t\t\t\t\tk++;\n\t\t\t\t\t}\n\t\t\t\t\tif (p.altRows === true && !aradd && !$self.jqGrid(\"isBootstrapGuiStyle\")) {\n\t\t\t\t\t\t// even in case of usage correct parameter for parseDataToHtml\n\t\t\t\t\t\t// one will need to reset the classes if the row will be inserted not at the end of jqGrid\n\t\t\t\t\t\tif (pos === \"last\") {\n\t\t\t\t\t\t\tif ((rows.length - 1) % 2 === 0) { $(rows[rows.length - 1]).addClass(cn); }\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$(rows).each(function (iRow) {\n\t\t\t\t\t\t\t\tif (iRow % 2 === 1) {\n\t\t\t\t\t\t\t\t\t$(this).addClass(cn);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t$(this).removeClass(cn);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tt.rebuildRowIndexes(); // we can remove the call later if pos===\"last\"\n\t\t\t\t\tt.updatepager(true, true);\n\t\t\t\t\tsuccess = true;\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn success;\n\t\t},\n\t\tfooterData: function (action, data, format) {\n\t\t\t// TODO: add an additional parameter, which will inform whether the input data \"data\" is in formatted or unformatted form\n\t\t\tvar success = false, res = {};\n\t\t\tfunction isEmpty(obj) {\n\t\t\t\tvar i;\n\t\t\t\tfor (i in obj) {\n\t\t\t\t\tif (obj.hasOwnProperty(i)) { return false; }\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (action == null) { action = \"get\"; }\n\t\t\tif (typeof format !== \"boolean\") { format = true; }\n\t\t\taction = action.toLowerCase();\n\t\t\tthis.each(function () {\n\t\t\t\tvar t = this, p = t.p, vl, $td, nm, iCol;\n\t\t\t\tif (!t.grid || !p.footerrow) { return false; }\n\t\t\t\tif (action === \"set\" && isEmpty(data)) { return false; }\n\t\t\t\tsuccess = true;\n\t\t\t\tvar ftable = $(t.grid.sDiv)\n\t\t\t\t\t.children(\".ui-jqgrid-hbox\" + (p.direction === \"rtl\" ? \"-rtl\" : \"\"))\n\t\t\t\t\t.children(\".ui-jqgrid-ftable\")[0];\n\t\t\t\tif (ftable == null || ftable.rows == null) { return false; }\n\t\t\t\tvar cells = ftable.rows[0].cells, colModel = p.colModel,\n\t\t\t\t\tfcells = t.grid.fsDiv == null ? {} : t.grid.fsDiv.children(\".ui-jqgrid-ftable\")[0].rows[0].cells;\n\t\t\t\tif (action === \"get\") {\n\t\t\t\t\tfor (iCol = 0; iCol < colModel.length; iCol++) {\n\t\t\t\t\t\tnm = colModel[iCol].name;\n\t\t\t\t\t\tif ($.inArray(nm, p.reservedColumnNames) < 0) {\n\t\t\t\t\t\t\tif (data !== false) {\n\t\t\t\t\t\t\t\tvl = $(cells[iCol]).text();\n\t\t\t\t\t\t\t\tif ($.trim(vl)) {\n\t\t\t\t\t\t\t\t\tres[nm] = vl;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tres[nm] = $(cells[iCol]).html();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (action === \"set\") {\n\t\t\t\t\tfor (nm in data) {\n\t\t\t\t\t\tiCol = p.iColByName[nm];\n\t\t\t\t\t\tif (data.hasOwnProperty(nm) && iCol !== undefined) {\n\t\t\t\t\t\t\tvl = format ? t.formatter(\"\", data[nm], iCol, data, \"edit\") : data[nm];\n\t\t\t\t\t\t\t$td = $(cells[iCol]).add(fcells[iCol]);\n\t\t\t\t\t\t\t$td.html(vl);\n\t\t\t\t\t\t\tif (colModel[iCol].title) {\n\t\t\t\t\t\t\t\t$td.attr({ \"title\": stripHtml(vl) });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn action === \"get\" ? res : success;\n\t\t},\n\t\tresetColumnResizerHeight: function () {\n\t\t\treturn this.each(function () {\n\t\t\t\tif ($.jgrid.msie) {\n\t\t\t\t\t// IE don't calculate height: 100%; in the CSS rule\n\t\t\t\t\t// \t\t.ui-jqgrid .ui-jqgrid-labels > .ui-th-column > .ui-jqgrid-resize { ... }\n\t\t\t\t\t// One have to set the height of the span.ui-jqgrid-resize explicitly\n\t\t\t\t\t// to the height of the row/th\n\t\t\t\t\tvar $th, $resizer, i, headers = this.grid.headers, headerHeight;\n\t\t\t\t\tfor (i = 0; i < headers.length; i++) {\n\t\t\t\t\t\t$th = $(headers[i].el);\n\t\t\t\t\t\theaderHeight = $th.height();\n\t\t\t\t\t\tif (headerHeight) {\n\t\t\t\t\t\t\t$resizer = $th.children(\".ui-jqgrid-resize\");\n\t\t\t\t\t\t\tif ($resizer.length > 0 && Math.abs(headerHeight - $resizer.height()) > 0.5) {\n\t\t\t\t\t\t\t\t$th.children(\".ui-jqgrid-resize\").height(headerHeight);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\trotateColumnHeaders: function (columnNameOrIndexes, headerHeight) {\n\t\t\treturn this.each(function () {\n\t\t\t\t// TODO: reorder columns via drag&drop\n\t\t\t\tvar $self = $(this), p = this.p, i, iCol, th, $th, thHeight, columnNameOrIndex,\n\t\t\t\t\t$thDiv, $inconsDiv, $textWrapper, $sortOrder, widthIcon, widthText,\n\t\t\t\t\tthPaddingLeft, thPaddingRight, thPaddingTop, thPaddingBottom,\n\t\t\t\t\tnColFrozen = p.frozenColumns && $.isFunction(base.getNumberOfFrozenColumns) ? $self.jqGrid(\"getNumberOfFrozenColumns\") : 0,\n\t\t\t\t\tremoveInconsDiv = function () {\n\t\t\t\t\t\t$inconsDiv.detach();\n\t\t\t\t\t\t/*$inconsDiv.each(function () {\n\t\t\t\t\t\t\tthis.parentNode.removeChild(this);\n\t\t\t\t\t\t});*/\n\t\t\t\t\t\t$sortOrder.detach();\n\t\t\t\t\t\t/*$sortOrder.each(function () {\n\t\t\t\t\t\t\tthis.parentNode.removeChild(this);\n\t\t\t\t\t\t});*/\n\t\t\t\t\t},\n\t\t\t\t\tappendInconsDiv = function () {\n\t\t\t\t\t\t$thDiv.each(function (index) {\n\t\t\t\t\t\t\tif (index < $inconsDiv.length) {\n\t\t\t\t\t\t\t\t$(this).append($inconsDiv[index]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (index < $sortOrder.length) {\n\t\t\t\t\t\t\t\t$(this).append($sortOrder[index]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\n\t\t\t\tif (!$.isArray(columnNameOrIndexes)) {\n\t\t\t\t\tcolumnNameOrIndexes = [columnNameOrIndexes];\n\t\t\t\t}\n\n\t\t\t\tfor (i = 0; i < columnNameOrIndexes.length; i++) {\n\t\t\t\t\tcolumnNameOrIndex = columnNameOrIndexes[i];\n\t\t\t\t\tiCol = isNaN(columnNameOrIndex) ?\n\t\t\t\t\t\tp.iColByName[columnNameOrIndex] :\n\t\t\t\t\t\tparseInt(columnNameOrIndex, 10);\n\t\t\t\t\tif (iCol >= 0) {\n\t\t\t\t\t\tth = this.grid.headers[iCol].el;\n\t\t\t\t\t\t$th = iCol < nColFrozen ?\n\t\t\t\t\t\t\t$(th).add($(this.grid.fhDiv.find(\"#\" + jqID(th.id)))) :\n\t\t\t\t\t\t\t$(th);\n\t\t\t\t\t\t$thDiv = $th.children(\"div\");\n\t\t\t\t\t\t$inconsDiv = $thDiv.children(\"span.s-ico\");\n\t\t\t\t\t\t$sortOrder = $thDiv.children(\"span.ui-jqgrid-sort-order\");\n\t\t\t\t\t\t$textWrapper = $thDiv.children(\"span.\" + p.autoResizing.wrapperClassName);\n\t\t\t\t\t\tif ($textWrapper.length < 1) {\n\t\t\t\t\t\t\tremoveInconsDiv();\n\t\t\t\t\t\t\t$thDiv.wrapInner(\"<span class='\" + p.autoResizing.wrapperClassName + \"'></span>\");\n\t\t\t\t\t\t\t$textWrapper = $thDiv.children(\"span.\" + p.autoResizing.wrapperClassName);\n\t\t\t\t\t\t\tappendInconsDiv();\n\t\t\t\t\t\t}\n\t\t\t\t\t\twidthIcon = $inconsDiv.outerWidth(true);\n\t\t\t\t\t\twidthText = $textWrapper.outerWidth();\n\t\t\t\t\t\tthPaddingTop = parseFloat($th.css(\"padding-top\") || 0);\n\t\t\t\t\t\tthPaddingBottom = parseFloat($th.css(\"padding-bottom\") || 0);\n\t\t\t\t\t\tthPaddingLeft = parseFloat($th.css(\"padding-left\") || 0);\n\t\t\t\t\t\tthPaddingRight = parseFloat($th.css(\"padding-right\") || 0);\n\n\t\t\t\t\t\tif (p.showSortOrder) {\n\t\t\t\t\t\t\twidthIcon += widthIcon * 0.5; // one can improve the calculation later !!!\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthHeight = headerHeight === undefined || headerHeight === 0 ?\n\t\t\t\t\t\t\twidthText + widthIcon + thPaddingLeft + thPaddingRight :\n\t\t\t\t\t\t\theaderHeight;\n\t\t\t\t\t\t$th.height(thHeight);\n\t\t\t\t\t\t$th.css({\n\t\t\t\t\t\t\tpaddingTop: thPaddingRight + \"px\",\n\t\t\t\t\t\t\tpaddingBottom: thPaddingLeft + \"px\",\n\t\t\t\t\t\t\tpaddingLeft: thPaddingTop + \"px\",\n\t\t\t\t\t\t\tpaddingRight: thPaddingBottom + \"px\"\n\t\t\t\t\t\t});\n\t\t\t\t\t\t//thHeight = Math.max($th.parent().height(), thHeight);\n\t\t\t\t\t\t// we must set width of column header div BEFOR adding class \"ui-jqgrid-rotate\" to\n\t\t\t\t\t\t// prevent text cutting based on the current column width\n\t\t\t\t\t\t$thDiv.css(\"min-width\", (thHeight - thPaddingLeft - thPaddingRight) + \"px\")\n\t\t\t\t\t\t\t.addClass(\"ui-jqgrid-rotate\")\n\t\t\t\t\t\t\t.css({ bottom: 0 });\n\t\t\t\t\t\tp.colModel[iCol].rotated = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t$self.jqGrid(\"resetColumnResizerHeight\");\n\t\t\t\tif (p.frozenColumns) {\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t$self.triggerHandler(\"jqGridResetFrozenHeights\", {\n\t\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t\tresizeDiv: true,\n\t\t\t\t\t\t\t\tresizedRows: {\n\t\t\t\t\t\t\t\t\tiRowStart: 0,\n\t\t\t\t\t\t\t\t\tiRowEnd: -1 // -1 means \"till the end\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tresizeFooter: true,\n\t\t\t\t\t\t\tbody: {\n\t\t\t\t\t\t\t\tresizeDiv: true,\n\t\t\t\t\t\t\t\tresizedRows: {\n\t\t\t\t\t\t\t\t\tiRowStart: -1, // -1 means don't recalculate heights or rows\n\t\t\t\t\t\t\t\t\tiRowEnd: -1\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tshowHideCol: function (colname, show, options) {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, $self = $($t), grid = $t.grid, fndh = false, p = $t.p, brd = jgrid.cell_width ? 0 : p.cellLayout, cw;\n\n\t\t\t\tif (!grid) { return; }\n\t\t\t\tif (typeof colname === \"string\") { colname = [colname]; }\n\t\t\t\tshow = (show !== \"none\" && show !== false) ? \"\" : \"none\";\n\t\t\t\toptions = options || {};\n\n\t\t\t\tvar sw = show === \"\" ? true : false, groupHeader = p.groupHeader,\n\t\t\t\t\tgh = groupHeader && (typeof groupHeader === \"object\" || $.isFunction(groupHeader));\n\n\t\t\t\tif (gh && !options.skipSetGroupHeaders) {\n\t\t\t\t\tbase.destroyGroupHeader.call($self, false);\n\t\t\t\t}\n\n\t\t\t\t$(p.colModel).each(function (iCol) {\n\t\t\t\t\tvar setDisplayCssOnRows = function (rows) {\n\t\t\t\t\t\tvar iRow, nRow, row, cell, $cell, $thDiv, $inconsDiv, $textWrapper, heightText, widthText, heightIcon, widthIcon,\n\t\t\t\t\t\t\tthHeight, thPaddingTop, thPaddingBottom, thPaddingLeft, thPaddingRight;\n\t\t\t\t\t\tfor (iRow = 0, nRow = rows.length; iRow < nRow; iRow++) {\n\t\t\t\t\t\t\trow = rows[iRow];\n\t\t\t\t\t\t\tcell = row.cells[iCol];\n\t\t\t\t\t\t\tif (!$(row).hasClass(\"jqgroup\") || (cell != null && cell.colSpan === 1)) {\n\t\t\t\t\t\t\t\t/* workaround for the bug of Microsoft Edge\n\t\t\t\t\t\t\t\t/* The following bug: Microsoft Edge \"optimize\" the changes of styles on elements with \"height:0\"\n\t\t\t\t\t\t\t\t * on the empty grid. In other words, if the grid is empty then the code\n\t\t\t\t\t\t\t\t *     $(cell).css(\"display\", \"\");\n\t\t\t\t\t\t\t\t * or\n\t\t\t\t\t\t\t\t *     cell.style.display = \"\";\n\t\t\t\t\t\t\t\t * will NOT change the style of the cell. One can examine cell.outerHTML to see something like\n\t\t\t\t\t\t\t\t *     <td role=\"gridcell\" style=\"height:0;width:20px;display:none;\"></td>\n\t\t\t\t\t\t\t\t * but still see that cell.style.display is changed. As the workaround we first temporary set\n\t\t\t\t\t\t\t\t * height of the cell from 0 to 1px, then changes \"display\" style and finally reset height to 0\n\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t$cell = $(cell);\n\t\t\t\t\t\t\t\tif (iRow === 0 && $(row).hasClass(\"jqgfirstrow\")) {\n\t\t\t\t\t\t\t\t\t$cell.css(\"height\", \"1px\");\n\t\t\t\t\t\t\t\t\t$cell.css(\"display\", show);\n\t\t\t\t\t\t\t\t\t$cell.css(\"height\", \"0\");\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t$cell.css(\"display\", show);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (sw && cell != null && cell.tagName.toUpperCase() === \"TH\" && $cell.hasClass(\"ui-th-column\")) {\n\t\t\t\t\t\t\t\t\t$thDiv = $cell.children(\"div\");\n\t\t\t\t\t\t\t\t\tif ($thDiv.hasClass(\"ui-jqgrid-rotate\")) {\n\t\t\t\t\t\t\t\t\t\t$inconsDiv = $thDiv.children(\"span.s-ico\");\n\t\t\t\t\t\t\t\t\t\t$textWrapper = $thDiv.children(\"span.\" + p.autoResizing.wrapperClassName),\n\t\t\t\t\t\t\t\t\t\t\theightText = $textWrapper.outerHeight(),\n\t\t\t\t\t\t\t\t\t\t\twidthText = $textWrapper.outerWidth(),\n\t\t\t\t\t\t\t\t\t\t\theightIcon = $inconsDiv.outerHeight(),\n\t\t\t\t\t\t\t\t\t\t\twidthIcon = $inconsDiv.outerWidth(true);\n\n\t\t\t\t\t\t\t\t\t\tif ($textWrapper.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\tthPaddingTop = parseFloat($cell.css(\"padding-top\") || 0);\n\t\t\t\t\t\t\t\t\t\t\tthPaddingBottom = parseFloat($cell.css(\"padding-bottom\") || 0);\n\t\t\t\t\t\t\t\t\t\t\tthPaddingLeft = parseFloat($cell.css(\"padding-left\") || 0);\n\t\t\t\t\t\t\t\t\t\t\tthPaddingRight = parseFloat($cell.css(\"padding-right\") || 0);\n\t\t\t\t\t\t\t\t\t\t\tif (p.showSortOrder) {\n\t\t\t\t\t\t\t\t\t\t\t\twidthIcon += widthIcon * 0.5; // one can improve the calculation later !!!\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tthHeight = widthText + widthIcon + thPaddingLeft + thPaddingRight;\n\t\t\t\t\t\t\t\t\t\t\t$cell.height(thHeight);\n\t\t\t\t\t\t\t\t\t\t\t$cell.css({\n\t\t\t\t\t\t\t\t\t\t\t\tpaddingTop: thPaddingRight + \"px\",\n\t\t\t\t\t\t\t\t\t\t\t\tpaddingBottom: thPaddingLeft + \"px\",\n\t\t\t\t\t\t\t\t\t\t\t\tpaddingLeft: thPaddingTop + \"px\",\n\t\t\t\t\t\t\t\t\t\t\t\tpaddingRight: thPaddingBottom + \"px\"\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t//thHeight = Math.max($cell.parent().height(), thHeight);\n\t\t\t\t\t\t\t\t\t\t\t// we must set width of column header div BEFOR adding class \"ui-jqgrid-rotate\" to\n\t\t\t\t\t\t\t\t\t\t\t// prevent text cutting based on the current column width\n\t\t\t\t\t\t\t\t\t\t\t$thDiv.css(\"min-width\", (thHeight - thPaddingLeft - thPaddingRight) + \"px\")\n\t\t\t\t\t\t\t\t\t\t\t\t.css({ bottom: 0 });\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// to follow HTML standards exactly one should probably add hidden column in\n\t\t\t\t\t\t\t// grouping header row if ($(row).hasClass(\"jqgroup\")) and decrement the value of\n\t\t\t\t\t\t\t// colspan.\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tif ($.inArray(this.name, colname) !== -1 && this.hidden === sw) {\n\t\t\t\t\t\tif (p.frozenColumns === true && this.frozen === true && !options.notSkipFrozen) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetDisplayCssOnRows($(grid.hDiv).find(\".ui-jqgrid-htable>thead>tr\"));\n\t\t\t\t\t\tif (p.frozenColumns === true && grid.fhDiv != null) {\n\t\t\t\t\t\t\tsetDisplayCssOnRows($(grid.fhDiv).find(\".ui-jqgrid-htable>thead>tr\"));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetDisplayCssOnRows($t.rows);\n\t\t\t\t\t\tif (p.frozenColumns === true && grid.fbRows != null) {\n\t\t\t\t\t\t\tsetDisplayCssOnRows($t.rows);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (p.footerrow) {\n\t\t\t\t\t\t\tsetDisplayCssOnRows($(grid.sDiv).find(\"tr.footrow\"));\n\t\t\t\t\t\t\tif (p.frozenColumns === true && grid.fsDiv != null) {\n\t\t\t\t\t\t\t\tsetDisplayCssOnRows($(grid.fsDiv).find(\"tr.footrow\"));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcw = parseInt(this.width, 10);\n\t\t\t\t\t\tif (show === \"none\") {\n\t\t\t\t\t\t\tp.tblwidth -= cw + brd;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tp.tblwidth += cw + brd;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.hidden = !sw;\n\t\t\t\t\t\tfndh = true;\n\t\t\t\t\t\tif (!options.skipFeedback) {\n\t\t\t\t\t\t\tfeedback.call($t, \"onShowHideCol\", sw, this.name, iCol, options);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\toptions.toReport = options.toReport || {};\n\t\t\t\t\t\t\toptions.toReport[this.name] = sw;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (fndh === true) {\n\t\t\t\t\tvar newGridWidth = !p.autowidth && (p.widthOrg === undefined || p.widthOrg === \"auto\" || p.widthOrg === \"100%\") ?\n\t\t\t\t\t\tp.tblwidth + parseInt(p.scrollOffset, 10) :\n\t\t\t\t\t\tp.width;\n\t\t\t\t\tif (!options.skipSetGridWidth) {\n\t\t\t\t\t\tbase.setGridWidth.call($self, newGridWidth);\n\t\t\t\t\t} else {\n\t\t\t\t\t\toptions.newGridWidth = newGridWidth;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (gh && !options.skipSetGroupHeaders) {\n\t\t\t\t\tif (p.pivotOptions != null && p.pivotOptions.colHeaders != null && p.pivotOptions.colHeaders.length > 1) {\n\t\t\t\t\t\tvar i, gHead = p.pivotOptions.colHeaders;\n\t\t\t\t\t\tfor (i = 0; i < gHead.length; i++) {\n\t\t\t\t\t\t\t// Multiple calls of setGroupHeaders for one grid are wrong,\n\t\t\t\t\t\t\t// but there are produces good results in case of usage\n\t\t\t\t\t\t\t// useColSpanStyle: false option. The rowspan values\n\t\t\t\t\t\t\t// needed be increased in case of usage useColSpanStyle: true\n\t\t\t\t\t\t\tif (gHead[i] && gHead[i].groupHeaders.length) {\n\t\t\t\t\t\t\t\tbase.setGroupHeaders.call($self, gHead[i]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbase.setGroupHeaders.call($self, p.groupHeader);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\thideCol: function (colname, options) {\n\t\t\treturn this.each(function () { base.showHideCol.call($(this), colname, \"none\", options); });\n\t\t},\n\t\tshowCol: function (colname, options) {\n\t\t\treturn this.each(function () { base.showHideCol.call($(this), colname, \"\", options); });\n\t\t},\n\t\tremapColumns: function (permutation, updateCells, keepHeader) {\n\t\t\tvar ts = this[0], p = ts.p, grid = ts.grid, iCol, n, makeArray = $.makeArray,\n\t\t\t\tisFrozenColumns = p.frozenColumns === true, $toResort,\n\t\t\t\tnFrozenColumns = this.jqGrid(\"getNumberOfFrozenColumns\"),\n\t\t\t\tpermutationNormalized;\n\t\t\tfunction normalizePermutation() {\n\t\t\t\tvar frozen = [], nonFrozen = [], i, l = permutation.length;\n\t\t\t\tfor (i = 0; i < l; i++) {\n\t\t\t\t\tif (isFrozenColumns && permutation[i] < nFrozenColumns) {\n\t\t\t\t\t\tfrozen.push(permutation[i]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnonFrozen.push(permutation[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn frozen.concat(nonFrozen);\n\t\t\t}\n\t\t\tfunction resortArray(a) {\n\t\t\t\tvar ac = a.length ? makeArray(a) : $.extend({}, a);\n\t\t\t\t$.each(permutationNormalized, function (i) {\n\t\t\t\t\ta[i] = ac[this];\n\t\t\t\t});\n\t\t\t}\n\t\t\tfunction resortRows($parent, selector) {\n\t\t\t\tvar $rows = selector ? $parent.children(selector) : $parent.children();\n\t\t\t\t$rows.each(function () {\n\t\t\t\t\tvar row = this, elems = makeArray(row.cells);\n\t\t\t\t\t$.each(permutationNormalized, function (i) {\n\t\t\t\t\t\tvar e = elems[this], oldElem = row.cells[i];\n\t\t\t\t\t\tif (e != null && oldElem != null &&\te.cellIndex !== i) {\n\t\t\t\t\t\t\te.parentNode.insertBefore(e, oldElem);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (grid == null || p == null) { return; }\n\t\t\t// One have to \"normalize\" permutation array in case of usage frozen columns.\n\t\t\t// The new index of frozen columns have to be less then nFrozenColumns\n\t\t\t// (less then the number of frozen columns). In the same way the new index\n\t\t\t// of non-frozen columns have to stay >=nFrozenColumns (non-frozen columns\n\t\t\t// have to stay non-frozen)\n\t\t\tpermutationNormalized = normalizePermutation();\n\t\t\tresortArray(p.colModel);\n\t\t\tresortArray(p.colNames);\n\t\t\tresortArray(grid.headers);\n\t\t\t$toResort = $(grid.hDiv)\n\t\t\t\t.children(\"div\")\n\t\t\t\t.children(\"table.ui-jqgrid-htable\")\n\t\t\t\t.children(\"thead\");\n\t\t\tif (isFrozenColumns && grid.fhDiv != null) {\n\t\t\t\t$toResort = $toResort.add(\n\t\t\t\t\tgrid.fhDiv\n\t\t\t\t\t\t.children(\"table.ui-jqgrid-htable\")\n\t\t\t\t\t\t.children(\"thead\")\n\t\t\t\t);\n\t\t\t}\n\t\t\tresortRows($toResort, keepHeader && \":not(.ui-jqgrid-labels)\");\n\t\t\tif (updateCells) {\n\t\t\t\t$toResort = $(ts.tBodies[0]);\n\t\t\t\tif (isFrozenColumns && grid.fbDiv != null) {\n\t\t\t\t\t$toResort = $toResort.add(\n\t\t\t\t\t\tgrid.fbDiv\n\t\t\t\t\t\t\t.children(\"table.ui-jqgrid-btable\")\n\t\t\t\t\t\t\t.children(\"tbody\")\n\t\t\t\t\t\t\t.first()\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tresortRows($toResort, \"tr.jqgfirstrow,tr.jqgrow,tr.jqfoot\");\n\t\t\t}\n\t\t\tif (p.footerrow) {\n\t\t\t\t$toResort = $(grid.sDiv)\n\t\t\t\t\t.children(\"div\")\n\t\t\t\t\t.children(\"table.ui-jqgrid-ftable\")\n\t\t\t\t\t.children(\"tbody\")\n\t\t\t\t\t.first();\n\t\t\t\tif (isFrozenColumns && grid.fsDiv != null) {\n\t\t\t\t\t$toResort = $toResort.add(\n\t\t\t\t\t\tgrid.fsDiv\n\t\t\t\t\t\t\t.children(\"table.ui-jqgrid-ftable\")\n\t\t\t\t\t\t\t.children(\"tbody\")\n\t\t\t\t\t\t\t.first()\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tresortRows($toResort);\n\t\t\t}\n\t\t\tif (p.remapColumns) {\n\t\t\t\tif (!p.remapColumns.length) {\n\t\t\t\t\tp.remapColumns = makeArray(permutationNormalized);\n\t\t\t\t} else {\n\t\t\t\t\tresortArray(p.remapColumns);\n\t\t\t\t}\n\t\t\t}\n\t\t\tp.lastsort = $.inArray(p.lastsort, permutationNormalized);\n\t\t\t// rebuild iColByName\n\t\t\tp.iColByName = {};\n\t\t\tfor (iCol = 0, n = p.colModel.length; iCol < n; iCol++) {\n\t\t\t\tp.iColByName[p.colModel[iCol].name] = iCol;\n\t\t\t}\n\t\t\tfeedback.call(ts, \"onRemapColumns\", permutationNormalized, updateCells, keepHeader);\n\t\t},\n\t\tremapColumnsByName: function (permutationByName, updateCells, keepHeader) {\n\t\t\tvar ts = this[0], p = ts.p, permutation = [], i, n, cmNames = permutationByName.slice(), inArray = $.inArray;\n\n\t\t\tif (p.subGrid && inArray(\"subgrid\", cmNames) < 0) {\n\t\t\t\tcmNames.unshift(\"subgrid\");\n\t\t\t}\n\t\t\tif (p.multiselect && inArray(\"cb\", cmNames) < 0) {\n\t\t\t\tcmNames.unshift(\"cb\");\n\t\t\t}\n\t\t\tif (p.rownumbers && inArray(\"rn\", cmNames) < 0) {\n\t\t\t\tcmNames.unshift(\"rn\");\n\t\t\t}\n\t\t\tfor (i = 0, n = cmNames.length; i < n; i++) {\n\t\t\t\tpermutation.push(p.iColByName[cmNames[i]]);\n\t\t\t}\n\t\t\tbase.remapColumns.call(this, permutation, updateCells, keepHeader);\n\t\t\treturn this;\n\t\t},\n\t\tsetGridWidth: function (newWidth, shrink) {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, p = $t.p, columnWidth, grid = $t.grid, initialWidth = 0, iLastVariableColumn, numberOfVariableColumns = 0, hasScrollbar = false, totalVariableWidth, fixedColumnsWidth = 0, correctur,\n\t\t\t\t\tisCellClassHidden = jgrid.isCellClassHidden, newGridWidth = newWidth;\n\t\t\t\tif (!grid || p == null) { return; }\n\t\t\t\t$t.fixScrollOffsetAndhBoxPadding();\n\t\t\t\t// there are tree categorien of columns important below:\n\t\t\t\t//   1) hidden - the columns will be not used in calculation of width\n\t\t\t\t//   2) fixed  - we will use the existing width of the columns in the calculation of the total width, but we well not change its width\n\t\t\t\t//   3) variable columns - all other visible columns which width can be changed in general\n\t\t\t\t// The width of every column consist from the innerWidth and the with of outer parts which will be 0 or cellLayout depend on boxing model used.\n\t\t\t\t// The total width of the grid consist of the sum of width of all visible (fixed and variable) columns.\n\t\t\t\t// There are outer bDiv which could have scroll bars. The p.scrollOffset hold the width or vertical scrollbar if it exists.\n\t\t\t\t// grid.width and p.width need be set to the width of bDiv. The width of all other divs should be set to the same value.\n\t\t\t\t//\n\t\t\t\t// the input parameter newWidth specify new value of outer width (the width of bDiv)\n\t\t\t\tvar colModel = p.colModel, cm, scrollbarWidth = p.scrollOffset, borderAndPaddingWidth = jgrid.cell_width ? 0 : p.cellLayout, thInfo,\n\t\t\t\t\theaders = grid.headers, footers = grid.footers, bDiv = grid.bDiv, hDiv = grid.hDiv, sDiv = grid.sDiv,\n\t\t\t\t\tcols = grid.cols, delta, colsExist, shrinkFactor,\n\t\t\t\t\thCols = $(hDiv).find(\">div>.ui-jqgrid-htable>thead>tr\").first()[0].cells,\n\t\t\t\t\tsetWidthOfAllDivs = function (width) {\n\t\t\t\t\t\tgrid.width = p.width = width;\n\t\t\t\t\t\t$(p.gBox).css(\"width\", width + \"px\");\n\t\t\t\t\t\t$(p.gView).css(\"width\", width + \"px\");\n\t\t\t\t\t\t$(bDiv).css(\"width\", width + \"px\");\n\t\t\t\t\t\t$(hDiv).css(\"width\", width + \"px\");\n\t\t\t\t\t\tif (p.pager) {\n\t\t\t\t\t\t\t$(p.pager).css(\"width\", width + \"px\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (p.toppager) {\n\t\t\t\t\t\t\t$(p.toppager).css(\"width\", width + \"px\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (p.toolbar[0] === true) {\n\t\t\t\t\t\t\t$(grid.uDiv).css(\"width\", width + \"px\");\n\t\t\t\t\t\t\tif (p.toolbar[1] === \"both\") {\n\t\t\t\t\t\t\t\t$(grid.ubDiv).css(\"width\", width + \"px\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (p.footerrow) {\n\t\t\t\t\t\t\t$(sDiv).css(\"width\", width + \"px\");\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\tif (typeof shrink !== \"boolean\") {\n\t\t\t\t\tshrink = p.shrinkToFit;\n\t\t\t\t}\n\t\t\t\tif (isNaN(newGridWidth)) { return; }\n\t\t\t\tnewGridWidth = parseInt(newGridWidth, 10); // round till integer value of px\n\t\t\t\tsetWidthOfAllDivs(newGridWidth);\n\t\t\t\tif (shrink === false && p.forceFit === true) { p.forceFit = false; }\n\t\t\t\t// TODO: ??? recalculate p.tblwidth in case of shrink===false\n\t\t\t\tif (shrink === true) {\n\t\t\t\t\t// calculate initialWidth, fixedColumnsWidth and numberOfVariableColumns\n\t\t\t\t\t$.each(colModel, function () {\n\t\t\t\t\t\t// the classes property of colModel will be applied to the first\n\t\t\t\t\t\t// row of the grid (hCols). If the\n\t\t\t\t\t\tif (this.hidden === false && !isCellClassHidden(this.classes)) {\n\t\t\t\t\t\t\tcolumnWidth = this.widthOrg;\n\t\t\t\t\t\t\tinitialWidth += columnWidth + borderAndPaddingWidth;\n\t\t\t\t\t\t\tif (this.fixed) {\n\t\t\t\t\t\t\t\tfixedColumnsWidth += this.width + borderAndPaddingWidth;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tnumberOfVariableColumns++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tif (numberOfVariableColumns === 0) { return; }\n\t\t\t\t\tp.tblwidth = parseInt(initialWidth, 10); // round till integer value of px;\n\t\t\t\t\ttotalVariableWidth = newGridWidth - borderAndPaddingWidth * numberOfVariableColumns - fixedColumnsWidth;\n\t\t\t\t\tif (!isNaN(p.height)) {\n\t\t\t\t\t\tif (bDiv.clientHeight < bDiv.scrollHeight || $t.rows.length === 1) {\n\t\t\t\t\t\t\thasScrollbar = true;\n\t\t\t\t\t\t\ttotalVariableWidth -= scrollbarWidth;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tshrinkFactor = totalVariableWidth / (p.tblwidth - borderAndPaddingWidth * numberOfVariableColumns - fixedColumnsWidth);\n\t\t\t\t\tif (shrinkFactor < 0) { return; }\n\t\t\t\t\tinitialWidth = 0;\n\t\t\t\t\tcolsExist = cols.length > 0;\n\t\t\t\t\t$.each(colModel, function (i) {\n\t\t\t\t\t\tif (this.hidden === false && !isCellClassHidden(this.classes) && !this.fixed) {\n\t\t\t\t\t\t\tcolumnWidth = Math.round(this.widthOrg * shrinkFactor);\n\t\t\t\t\t\t\tthis.width = columnWidth;\n\t\t\t\t\t\t\tinitialWidth += columnWidth;\n\t\t\t\t\t\t\theaders[i].width = columnWidth;\n\t\t\t\t\t\t\thCols[i].style.width = columnWidth + \"px\";\n\t\t\t\t\t\t\tif (p.footerrow) {\n\t\t\t\t\t\t\t\tfooters[i].style.width = columnWidth + \"px\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (colsExist) {\n\t\t\t\t\t\t\t\tcols[i].style.width = columnWidth + \"px\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tiLastVariableColumn = i;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tif (!iLastVariableColumn) { return; }\n\n\t\t\t\t\tcorrectur = 0;\n\t\t\t\t\tif (hasScrollbar) {\n\t\t\t\t\t\tif (newGridWidth - fixedColumnsWidth - (initialWidth + borderAndPaddingWidth * numberOfVariableColumns) !== scrollbarWidth) {\n\t\t\t\t\t\t\tcorrectur = newGridWidth - fixedColumnsWidth - (initialWidth + borderAndPaddingWidth * numberOfVariableColumns) - scrollbarWidth;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (Math.abs(newGridWidth - fixedColumnsWidth - (initialWidth + borderAndPaddingWidth * numberOfVariableColumns)) !== 1) {\n\t\t\t\t\t\tcorrectur = newGridWidth - fixedColumnsWidth - (initialWidth + borderAndPaddingWidth * numberOfVariableColumns);\n\t\t\t\t\t}\n\t\t\t\t\tcm = colModel[iLastVariableColumn];\n\t\t\t\t\tcm.width += correctur;\n\t\t\t\t\tp.tblwidth = parseInt(initialWidth + correctur + borderAndPaddingWidth * numberOfVariableColumns + fixedColumnsWidth, 10); // round till integer value of px;\n\t\t\t\t\tif (p.tblwidth > newGridWidth) {\n\t\t\t\t\t\tdelta = p.tblwidth - parseInt(newGridWidth, 10);\n\t\t\t\t\t\tp.tblwidth = newGridWidth;\n\t\t\t\t\t\tcm.width = cm.width - delta;\n\t\t\t\t\t}\n\t\t\t\t\tcolumnWidth = cm.width;\n\t\t\t\t\tthInfo = headers[iLastVariableColumn];\n\t\t\t\t\tthInfo.width = columnWidth;\n\t\t\t\t\thCols[iLastVariableColumn].style.width = columnWidth + \"px\";\n\t\t\t\t\tif (colsExist) { cols[iLastVariableColumn].style.width = columnWidth + \"px\"; }\n\t\t\t\t\tif (p.footerrow) {\n\t\t\t\t\t\tfooters[iLastVariableColumn].style.width = columnWidth + \"px\";\n\t\t\t\t\t}\n\t\t\t\t\tif (p.tblwidth + (hasScrollbar ? scrollbarWidth : 0) < p.width) { // prabably bDiv.offsetWidth - bDiv.clientWidth is better as scw\n\t\t\t\t\t\t// decrease the width if required\n\t\t\t\t\t\tsetWidthOfAllDivs(p.tblwidth + (hasScrollbar ? scrollbarWidth : 0));\n\t\t\t\t\t}\n\t\t\t\t\tif (bDiv.offsetWidth > bDiv.clientWidth) { // the part seems never work\n\t\t\t\t\t\t// horizontal scroll bar exist.\n\t\t\t\t\t\t// we need increase the width of bDiv to fix the problem or to reduce the width of the table\n\t\t\t\t\t\t// currently we just increase the width\n\t\t\t\t\t\tif (!p.autowidth && (p.widthOrg === undefined || p.widthOrg === \"auto\" || p.widthOrg === \"100%\")) {\n\t\t\t\t\t\t\tsetWidthOfAllDivs(bDiv.offsetWidth);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (p.tblwidth) {\n\t\t\t\t\tp.tblwidth = parseInt(p.tblwidth, 10); // round till integer value of px;\n\t\t\t\t\tnewGridWidth = p.tblwidth;\n\t\t\t\t\t//$($t).css(\"width\", newGridWidth + \"px\");\n\t\t\t\t\t//getGridComponent(COMPONENT_NAMES.HEADER_TABLE, hDiv).css(\"width\", newGridWidth + \"px\");\n\t\t\t\t\thDiv.scrollLeft = bDiv.scrollLeft;\n\t\t\t\t\t/*if (p.footerrow) {\n\t\t\t\t\t\tgetGridComponent(COMPONENT_NAMES.FOOTER_TABLE, sDiv).css(\"width\", newGridWidth + \"px\");\n\t\t\t\t\t}*/\n\t\t\t\t\t// small fix which origin should be examined more exactly\n\t\t\t\t\tdelta = Math.abs(newGridWidth - p.width);\n\t\t\t\t\tif (p.shrinkToFit && !shrink && delta < 3 && delta > 0) {\n\t\t\t\t\t\tif (newGridWidth < p.width) {\n\t\t\t\t\t\t\tsetWidthOfAllDivs(newGridWidth); // decrease the width if required\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (bDiv.offsetWidth > bDiv.clientWidth) { // the part seems never work\n\t\t\t\t\t\t\tif (!p.autowidth && (p.widthOrg === undefined || p.widthOrg === \"auto\" || p.widthOrg === \"100%\")) {\n\t\t\t\t\t\t\t\tsetWidthOfAllDivs(bDiv.offsetWidth);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t$t.fixScrollOffsetAndhBoxPadding();\n\t\t\t\tvar whichHeigthToRecalculate = {\n\t\t\t\t\tresizeDiv: true,\n\t\t\t\t\tresizedRows: {\n\t\t\t\t\t\tiRowStart: (shrink ? 0 : -1), // -1 means don't recalculate heights or rows\n\t\t\t\t\t\tiRowEnd: -1\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\t$($t).triggerHandler(\"jqGridResetFrozenHeights\", [{\n\t\t\t\t\theader: whichHeigthToRecalculate,\n\t\t\t\t\tresizeFooter: true,\n\t\t\t\t\tbody: whichHeigthToRecalculate\n\t\t\t\t}]);\n\t\t\t});\n\t\t},\n\t\tsetGridHeight: function (nh) {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, grid = $t.grid, p = $t.p;\n\t\t\t\tif (!grid) { return; }\n\t\t\t\tvar bDiv = $(grid.bDiv);\n\t\t\t\tbDiv.css({ height: nh + (isNaN(nh) ? \"\" : \"px\") });\n\t\t\t\tif (p.frozenColumns === true) {\n\t\t\t\t\t//follow the original set height to use 16, better scrollbar width detection\n\t\t\t\t\t$(p.idSel + \"_frozen\").parent().height(bDiv.height() - 16);\n\t\t\t\t}\n\t\t\t\tp.height = nh;\n\t\t\t\tif (p.scroll) { grid.populateVisible.call($t); }\n\t\t\t\t$t.fixScrollOffsetAndhBoxPadding();\n\t\t\t\t$($t).triggerHandler(\"jqGridResetFrozenHeights\");\n\t\t\t});\n\t\t},\n\t\tsetCaption: function (newcap) {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar self = this, cDiv = self.grid.cDiv;\n\t\t\t\tself.p.caption = newcap;\n\t\t\t\t$(\"span.ui-jqgrid-title, span.ui-jqgrid-title-rtl\", cDiv).html(newcap);\n\t\t\t\t$(cDiv).show();\n\t\t\t\t$(cDiv).nextAll(\"div\").removeClass(base.getGuiStyles.call(self, \"top\"));\n\t\t\t\t$(this).triggerHandler(\"jqGridResetFrozenHeights\");\n\t\t\t});\n\t\t},\n\t\tsetLabel: function (colname, nData, prop, attrp) {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, iCol, p = $t.p, $th;\n\t\t\t\tif (!$t.grid) { return; }\n\t\t\t\tif (isNaN(colname)) {\n\t\t\t\t\tiCol = p.iColByName[colname];\n\t\t\t\t\tif (iCol === undefined) { return; }\n\t\t\t\t} else { iCol = parseInt(colname, 10); }\n\t\t\t\tif (iCol >= 0) {\n\t\t\t\t\t$th = $($t.grid.headers[iCol].el);\n\t\t\t\t\tif (p.frozenColumns) {\n\t\t\t\t\t\t$th = $th.add($t.grid.fhDiv.find(\"#\" + jqID($th)));\n\t\t\t\t\t}\n\t\t\t\t\tif (nData) {\n\t\t\t\t\t\t$th.each(function () {\n\t\t\t\t\t\t\tvar $div = $(\"[id^=jqgh_]\", this),\n\t\t\t\t\t\t\t\t$textWrapper = $div.children(\"span.ui-jqgrid-cell-wrapper\");\n\t\t\t\t\t\t\tif ($textWrapper.length > 0) {\n\t\t\t\t\t\t\t\t$textWrapper.html(nData);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvar $ico = $(\".s-ico\", this);\n\t\t\t\t\t\t\t\t$div.empty()\n\t\t\t\t\t\t\t\t\t.html(nData)[p.sortIconsBeforeText ? \"prepend\" : \"append\"]($ico);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tp.colNames[iCol] = nData;\n\t\t\t\t\t}\n\t\t\t\t\tif (prop) {\n\t\t\t\t\t\tif (typeof prop === \"string\") { $th.addClass(prop); } else { $th.css(prop); }\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof attrp === \"object\") { $th.attr(attrp); }\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tsetCell: function (rowid, colName, nData, cssp, attrp, forceUpdate) {\n\t\t\t// TODO: add an additional parameter, which will inform whether the input data nData is in formatted or unformatted form\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, p = $t.p, iCol = -1, colModel = p.colModel, v, i, cm, item, tr, $td, $tdi, val, rawdat = {}, id, index;\n\t\t\t\tif (!$t.grid) { return; }\n\t\t\t\tiCol = isNaN(colName) ? p.iColByName[colName] : parseInt(colName, 10);\n\t\t\t\tif (iCol >= 0) {\n\t\t\t\t\ttr = base.getGridRowById.call($($t), rowid);\n\t\t\t\t\tif (tr) {\n\t\t\t\t\t\t$td = jgrid.getCell.call($t, tr, iCol);\n\t\t\t\t\t\tif (nData !== \"\" || forceUpdate === true) {\n\t\t\t\t\t\t\tcm = colModel[iCol];\n\t\t\t\t\t\t\tif (p.datatype === \"local\") {\n\t\t\t\t\t\t\t\tid = stripPref(p.idPrefix, rowid);\n\t\t\t\t\t\t\t\tindex = p._index[id];\n\t\t\t\t\t\t\t\tif (index !== undefined) {\n\t\t\t\t\t\t\t\t\titem = p.data[index];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// !!! filling of the rawdat for all cells slow down speed\n\t\t\t\t\t\t\t// probably one should use p.data[index] (see below) instead ???\n\t\t\t\t\t\t\tif (item == null) {\n\t\t\t\t\t\t\t\tfor (i = 0; i < tr.cells.length; i++) {\n\t\t\t\t\t\t\t\t\t// !!! BUG the usage of innerHTML is wrong\n\t\t\t\t\t\t\t\t\t// one have to use p.data[index] or unformat the data\n\t\t\t\t\t\t\t\t\tif (i !== iCol) {\n\t\t\t\t\t\t\t\t\t\t$tdi = jgrid.getDataFieldOfCell.call($t, tr, i);\n\t\t\t\t\t\t\t\t\t\tif ($tdi.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\t\tval = $.unformat.call($t, $tdi, { rowId: rowid, colModel: colModel[i] }, i);\n\t\t\t\t\t\t\t\t\t\t\t} catch (exception) {\n\t\t\t\t\t\t\t\t\t\t\t\tval = htmlDecode($tdi[0].innerHTML);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\trawdat[colModel[i].name] = val;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\trawdat = item;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\trawdat[cm.name] = nData;\n\t\t\t\t\t\t\tv = $t.formatter(rowid, nData, iCol, rawdat, \"edit\");\n\n\t\t\t\t\t\t\t// update the data in the corresponding part of the cell\n\t\t\t\t\t\t\tvar $dataFiled = $td;\n\t\t\t\t\t\t\tif (p.treeGrid === true && cm.name === p.ExpandColumn) {\n\t\t\t\t\t\t\t\t$dataFiled = $dataFiled.children(\"span.cell-wrapperleaf,span.cell-wrapper\").first();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t$dataFiled.html(v);\n\n\t\t\t\t\t\t\t// update the title of the cell if required\n\t\t\t\t\t\t\tif (cm.title) {\n\t\t\t\t\t\t\t\t$td.attr({ \"title\": nData });\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (item != null) { // p.datatype === \"local\"\n\t\t\t\t\t\t\t\tv = convertOnSaveLocally.call($t, nData, cm, item[cm.name], id, item, iCol);\n\t\t\t\t\t\t\t\tif ($.isFunction(cm.saveLocally)) {\n\t\t\t\t\t\t\t\t\tcm.saveLocally.call($t, { newValue: v, newItem: item, oldItem: item, id: id, cm: cm, cmName: cm.name, iCol: iCol });\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\titem[cm.name] = v;\n\t\t\t\t\t\t\t\t\t// !!!!\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (cssp || attrp) {\n\t\t\t\t\t\t\t$td = jgrid.getCell.call($t, tr, iCol);\n\t\t\t\t\t\t\tif (cssp) {\n\t\t\t\t\t\t\t\t$td[typeof cssp === \"string\" ? \"addClass\" : \"css\"](cssp);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (typeof attrp === \"object\") {\n\t\t\t\t\t\t\t\t$td.attr(attrp);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgetCell: function (rowid, colName) {\n\t\t\t// TODO: add an additional parameter, which will inform whether the output data should be in formatted or unformatted form\n\t\t\tvar ret = false;\n\t\t\tthis.each(function () {\n\t\t\t\tvar $t = this, iCol, p = $t.p, tr, $td, cm;\n\t\t\t\tif (!$t.grid) { return; }\n\t\t\t\tiCol = isNaN(colName) ? p.iColByName[colName] : parseInt(colName, 10);\n\t\t\t\tif (iCol >= 0) { //isNaN(iCol)>=0 is false and undefined >= 0 is false\n\t\t\t\t\ttr = base.getGridRowById.call($($t), rowid);\n\t\t\t\t\tif (tr) {\n\t\t\t\t\t\t$td = jgrid.getDataFieldOfCell.call($t, tr, iCol).first();\n\t\t\t\t\t\tcm = p.colModel[iCol];\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif (base.isCellEditing.call($($t), rowid, iCol, tr)) {\n\t\t\t\t\t\t\t\tret = jgrid.getEditedValue.call($t, $td, cm, {}, cm.editable);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tret = $.unformat.call($t, $td, { rowId: tr.id, colModel: cm }, iCol);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (exception) {\n\t\t\t\t\t\t\tret = htmlDecode($td.html());\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ret;\n\t\t},\n\t\tgetCol: function (colName, obj, mathopr) {\n\t\t\t// TODO: add an additional parameter, which will inform whether the output data should be in formatted or unformatted form\n\t\t\tvar ret = [], val, sum = 0, min, max, v;\n\t\t\tobj = typeof obj !== \"boolean\" ? false : obj;\n\t\t\tif (mathopr === undefined) { mathopr = false; }\n\t\t\tthis.each(function () {\n\t\t\t\tvar $t = this, iCol, p = $t.p, $td;\n\t\t\t\tif (!$t.grid) { return; }\n\t\t\t\tiCol = isNaN(colName) ? p.iColByName[colName] : parseInt(colName, 10);\n\t\t\t\tif (iCol >= 0) { //isNaN(iCol)>=0 is false and undefined >= 0 is false\n\t\t\t\t\tvar rows = $t.rows, ln = rows.length, i = 0, dlen = 0, tr, cm = p.colModel[iCol], rowid;\n\t\t\t\t\tif (ln && ln > 0) {\n\t\t\t\t\t\twhile (i < ln) {\n\t\t\t\t\t\t\ttr = rows[i];\n\t\t\t\t\t\t\tif ($(tr).hasClass(\"jqgrow\")) {\n\t\t\t\t\t\t\t\t$td = jgrid.getDataFieldOfCell.call($t, tr, iCol).first(); //$(tr.cells[iCol]);\n\t\t\t\t\t\t\t\trowid = tr.id;\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tif (base.isCellEditing.call($($t), rowid, iCol, tr)) {\n\t\t\t\t\t\t\t\t\t\tval = jgrid.getEditedValue.call($t, $td, cm, {}, cm.editable);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tval = $.unformat.call($t, $td, { rowId: rowid, colModel: cm }, iCol);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} catch (exception) {\n\t\t\t\t\t\t\t\t\tval = htmlDecode($td.html());\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (mathopr) {\n\t\t\t\t\t\t\t\t\tv = parseFloat(val);\n\t\t\t\t\t\t\t\t\tif (!isNaN(v)) {\n\t\t\t\t\t\t\t\t\t\tsum += v;\n\t\t\t\t\t\t\t\t\t\tif (max === undefined) { max = min = v; }\n\t\t\t\t\t\t\t\t\t\tmin = Math.min(min, v);\n\t\t\t\t\t\t\t\t\t\tmax = Math.max(max, v);\n\t\t\t\t\t\t\t\t\t\tdlen++;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else if (obj) {\n\t\t\t\t\t\t\t\t\tret.push({ id: rowid, value: val });\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tret.push(val);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ti++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (mathopr) {\n\t\t\t\t\t\t\tswitch (mathopr.toLowerCase()) {\n\t\t\t\t\t\t\t\tcase \"sum\":\n\t\t\t\t\t\t\t\t\tret = sum;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase \"avg\":\n\t\t\t\t\t\t\t\t\tret = sum / dlen;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase \"count\":\n\t\t\t\t\t\t\t\t\tret = (ln - 1);\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase \"min\":\n\t\t\t\t\t\t\t\t\tret = min;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase \"max\":\n\t\t\t\t\t\t\t\t\tret = max;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ret;\n\t\t},\n\t\tclearGridData: function (clearfooter) {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, p = $t.p, rows = $t.rows, grid = $t.grid;\n\t\t\t\tif (!grid || !p || !rows) { return; }\n\t\t\t\tif (typeof clearfooter !== \"boolean\") { clearfooter = false; }\n\t\t\t\t$($t).off(\".jqGridFormatter\");\n\t\t\t\tgrid.emptyRows.call($t, false, true);\n\t\t\t\tif (p.footerrow && clearfooter) { $(\".ui-jqgrid-ftable td\", grid.sDiv).html(\"&#160;\"); }\n\t\t\t\tp.selrow = null;\n\t\t\t\tclearArray(p.selarrrow); // p.selarrrow= [];\n\t\t\t\tclearArray(p.savedRow); // p.savedRow = [];\n\t\t\t\tp.editingInfo = {};\n\t\t\t\tclearArray(p.data); //p.data = [];\n\t\t\t\tclearArray(p.lastSelectedData); //p.lastSelectedData = [];\n\t\t\t\tp._index = {};\n\t\t\t\tp.rowIndexes = {};\n\t\t\t\tp.dataIndexById = {};\n\t\t\t\tp.indexByColumnData = {};\n\t\t\t\tp.records = 0;\n\t\t\t\tp.page = 1;\n\t\t\t\tp.lastpage = 0;\n\t\t\t\tp.reccount = 0;\n\t\t\t\t$t.updatepager(true, false);\n\t\t\t});\n\t\t},\n\t\tgetInd: function (rowid, rc) {\n\t\t\tvar tr = base.getGridRowById.call($(this), rowid);\n\t\t\treturn tr ? (rc === true ? tr : tr.rowIndex) : false;\n\t\t},\n\t\tbindKeys: function (settings) {\n\t\t\tvar o = $.extend({\n\t\t\t\tonEnter: null,\n\t\t\t\tonSpace: null,\n\t\t\t\tonLeftKey: null,\n\t\t\t\tonRightKey: null,\n\t\t\t\tscrollingRows: true\n\t\t\t}, settings || {});\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, p = $t.p, $self = $($t);\n\t\t\t\tp.scrollrows = o.scrollingRows;\n\t\t\t\t$self.on(\"keydown.jqGrid\", function (event) {\n\t\t\t\t\tvar tr = $(this).find(\"tr[tabindex=0]\")[0],\n\t\t\t\t\t\teditingInfo = jgrid.detectRowEditing.call($t, $(event.target).closest(\"tr.jqgrow\").attr(\"id\")),\n\t\t\t\t\t\tmoveVertical = function (siblingProperty) {\n\t\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\t\ttr = tr[siblingProperty];\n\t\t\t\t\t\t\t\tif (tr === null) { return; }\n\t\t\t\t\t\t\t} while ($(tr).is(\":hidden\") || !$(tr).hasClass(\"jqgrow\"));\n\t\t\t\t\t\t\tbase.setSelection.call($self, tr.id, true);\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfeedbackKey = function (name, callbackSuffix) {\n\t\t\t\t\t\t\t// possible events\n\t\t\t\t\t\t\t//    jqGridKeyLeft\n\t\t\t\t\t\t\t//    jqGridKeyRight\n\t\t\t\t\t\t\t//    jqGridKeyEnter\n\t\t\t\t\t\t\t//    jqGridKeySpace\n\t\t\t\t\t\t\t// possible callbacks\n\t\t\t\t\t\t\t//    onLeftKey\n\t\t\t\t\t\t\t//    onRightKey\n\t\t\t\t\t\t\t//    onEnter\n\t\t\t\t\t\t\t//    onSpace\n\t\t\t\t\t\t\t// no onUpKey or onDownKey and the corresponding events\n\t\t\t\t\t\t\tvar callback = o[\"on\" + name + (callbackSuffix || \"\")];\n\t\t\t\t\t\t\t$self.triggerHandler(\"jqGridKey\" + name, [p.selrow]);\n\t\t\t\t\t\t\tif ($.isFunction(callback)) {\n\t\t\t\t\t\t\t\tcallback.call($t, p.selrow);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tmoveHorizontal = function (stringLeftOrRight) {\n\t\t\t\t\t\t\tif (p.treeGrid) {\n\t\t\t\t\t\t\t\tvar expanded = p.data[p._index[stripPref(p.idPrefix, tr.id)]][p.treeReader.expanded_field];\n\t\t\t\t\t\t\t\tif (stringLeftOrRight === \"Right\") { expanded = !expanded; }\n\t\t\t\t\t\t\t\tif (expanded) {\n\t\t\t\t\t\t\t\t\t$(tr).find(\"div.treeclick\").trigger(\"click\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfeedbackKey(stringLeftOrRight, \"Key\");\n\t\t\t\t\t\t};\n\n\t\t\t\t\t//check for arrow keys\n\t\t\t\t\tif (tr && editingInfo === null) {\n\t\t\t\t\t\tswitch (event.keyCode) {\n\t\t\t\t\t\t\tcase 38: // up key\n\t\t\t\t\t\t\t\tmoveVertical(\"previousSibling\");\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 40: // down key\n\t\t\t\t\t\t\t\tmoveVertical(\"nextSibling\");\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 37: // left key\n\t\t\t\t\t\t\t\tmoveHorizontal(\"Left\");\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 39: // left key\n\t\t\t\t\t\t\t\tmoveHorizontal(\"Right\");\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 13: // enter key\n\t\t\t\t\t\t\t\tfeedbackKey(\"Enter\");\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 32: // space key\n\t\t\t\t\t\t\t\tfeedbackKey(\"Space\");\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tunbindKeys: function () {\n\t\t\treturn this.each(function () {\n\t\t\t\t$(this).off(\"keydown.jqGrid\");\n\t\t\t});\n\t\t},\n\t\tgetLocalRow: function (rowid) {\n\t\t\tvar ret = false, ind;\n\t\t\tthis.each(function () {\n\t\t\t\tvar p = this.p;\n\t\t\t\tif (rowid !== undefined && p != null && p._index != null && p.data != null) {\n\t\t\t\t\tind = p._index[stripPref(p.idPrefix, rowid)];\n\t\t\t\t\tif (ind >= 0) {\n\t\t\t\t\t\tret = p.data[ind];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ret;\n\t\t},\n\t\tprogressBar: function (p) {\n\t\t\tp = $.extend({\n\t\t\t\thtmlcontent: \"\",\n\t\t\t\tmethod: \"hide\",\n\t\t\t\tloadtype: \"disable\"\n\t\t\t}, p || {});\n\t\t\treturn this.each(function () {\n\t\t\t\tvar sh = p.method === \"show\" ? true : false, gridIdEscaped = jqID(this.p.id), $loading = $(\"#load_\" + gridIdEscaped);\n\t\t\t\tif (p.htmlcontent !== \"\") {\n\t\t\t\t\t$loading.html(p.htmlcontent);\n\t\t\t\t}\n\t\t\t\tswitch (p.loadtype) {\n\t\t\t\t\tcase \"disable\":\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"enable\":\n\t\t\t\t\t\t$loading.toggle(sh);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"block\":\n\t\t\t\t\t\t$(\"#lui_\" + gridIdEscaped).toggle(sh);\n\t\t\t\t\t\t$loading.toggle(sh);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tsetColWidth: function (iCol, newWidth, adjustGridWidth, skipGridAdjustments) {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar self = this, $self = $(self), grid = self.grid, p = self.p, h;\n\t\t\t\tif (typeof iCol === \"string\") {\n\t\t\t\t\t// the first parametrer is column name instead of index\n\t\t\t\t\tiCol = p.iColByName[iCol];\n\t\t\t\t\tif (iCol === undefined) { return; }\n\t\t\t\t} else if (typeof iCol !== \"number\") {\n\t\t\t\t\treturn; // error: wrong parameters\n\t\t\t\t}\n\t\t\t\th = grid.headers[iCol];\n\t\t\t\tif (h != null) {\n\t\t\t\t\th.newWidth = newWidth;\n\t\t\t\t\tgrid.newWidth = p.tblwidth + newWidth - h.width;\n\t\t\t\t\tgrid.resizeColumn(iCol, !p.frozenColumns, skipGridAdjustments);\n\t\t\t\t\tif (adjustGridWidth !== false && !skipGridAdjustments) {\n\t\t\t\t\t\tself.fixScrollOffsetAndhBoxPadding();\n\t\t\t\t\t\tbase.setGridWidth.call($self, grid.newWidth + p.scrollOffset, false); // adjust grid width too\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgetAutoResizableWidth: function (iCol) {\n\t\t\t// The method get the max-width in the column.\n\t\t\t// It get in considerations only VISIBLE elements.\n\t\t\t// For example if some rows with data are hidden (grouping data, tree grid)\n\t\t\t// then the max-width will see 0 as the width of the elements of the rows.\n\t\t\t//\n\t\t\t// The most expensive in below code is getting padding-left.\n\t\t\tvar self = this;\n\t\t\tif (self.length === 0) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tself = self[0];\n\t\t\tvar rows = self.rows, row, cell, iRow, $cell, $cellFirstChild,\n\t\t\t\tp = self.p,\n\t\t\t\tcm = p.colModel[iCol],\n\t\t\t\t$th = $(self.grid.headers[iCol].el),\n\t\t\t\t$thDiv = $th.children(\"div\"),\n\t\t\t\tthPaddingLeft = parseFloat($th.css((cm.rotated ? \"padding-top\" : \"padding-left\")) || 0),  // typically 2\n\t\t\t\tthPaddingRight = parseFloat($th.css((cm.rotated ? \"padding-bottom\" : \"padding-right\")) || 0),// typically 2\n\t\t\t\t$incosDiv = $thDiv.children(\"span.s-ico\"),\n\t\t\t\t$sortOrder = $thDiv.children(\".ui-jqgrid-sort-order\"),\n\t\t\t\t$wrapper = $thDiv.children(\".\" + p.autoResizing.wrapperClassName),\n\t\t\t\twrapperOuterWidth = cm.rotated ? $wrapper.outerHeight() : $wrapper.outerWidth(),\n\t\t\t\twrapperCssWidth = parseFloat($wrapper.css(cm.rotated ? \"height\" : \"width\") || 0),\n\t\t\t\twidthOuter = 0,\n\t\t\t\tcolWidth = 0,\n\t\t\t\tcompact = (cm.autoResizing != null && cm.autoResizable.compact !== undefined) ? cm.autoResizable.compact : p.autoResizing.compact,\n\t\t\t\twrapperClassName = p.autoResizing.wrapperClassName;\n\n\t\t\tif (cm == null || !cm.autoResizable || $wrapper.length === 0 || cm.hidden || jgrid.isCellClassHidden(cm.classes) || cm.fixed) {\n\t\t\t\treturn -1; // do nothing\n\t\t\t}\n\t\t\tif (!compact || $incosDiv.is(\":visible\") || ($incosDiv.css(\"display\") !== \"none\")) {  //|| p.viewsortcols[0]\n\t\t\t\tcolWidth = cm.rotated ?\n\t\t\t\t\t$incosDiv.outerHeight(true) :\n\t\t\t\t\t$incosDiv.outerWidth(true) + ($sortOrder.length > 0 ? $sortOrder.outerWidth(true) : 0);\n\t\t\t\tif (!p.sortIconsBeforeText) {\n\t\t\t\t\tcolWidth -= p.direction === \"rtl\" ?\n\t\t\t\t\t\tparseFloat($incosDiv.css(\"padding-left\") || 0) +\n\t\t\t\t\t\tparseFloat($incosDiv.css(\"margin-left\") || 0) :\n\t\t\t\t\t\tparseFloat($incosDiv.css(\"padding-right\") || 0) +\n\t\t\t\t\t\tparseFloat($incosDiv.css(\"margin-right\") || 0);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (cm.rotated) {\n\t\t\t\tcolWidth = Math.max(colWidth, wrapperOuterWidth + thPaddingLeft + thPaddingRight);\n\t\t\t} else {\n\t\t\t\tcolWidth += wrapperOuterWidth + thPaddingLeft +\n\t\t\t\t\t(wrapperCssWidth === wrapperOuterWidth ? thPaddingLeft + thPaddingRight : 0) +\n\t\t\t\t\tparseFloat($thDiv.css(\"margin-left\") || 0) + parseFloat($thDiv.css(\"margin-right\") || 0);\n\t\t\t}\n\t\t\tfor (iRow = 0, rows = self.rows; iRow < rows.length; iRow++) {\n\t\t\t\trow = rows[iRow];\n\t\t\t\tcell = row.cells[iCol];\n\t\t\t\t$cell = $(row.cells[iCol]);\n\t\t\t\tif (cell != null && ($(row).hasClass(\"jqgrow\") && row.style.display !== \"none\" && cell.style.display !== \"none\" || ($(row).hasClass(\"jqgroup\") && cell.colSpan === 1))) {\n\t\t\t\t\t$cellFirstChild = $(cell.firstChild);\n\t\t\t\t\tif ($cellFirstChild.hasClass(wrapperClassName)) {\n\t\t\t\t\t\tcolWidth = Math.max(colWidth, $cellFirstChild.outerWidth() + widthOuter);\n\t\t\t\t\t} else if (p.treeGrid && p.ExpandColumn === cm.name) {\n\t\t\t\t\t\t$cellFirstChild = $cell.children(\".cell-wrapper,.cell-wrapperleaf\");\n\t\t\t\t\t\tcolWidth = Math.max(colWidth, $cellFirstChild.outerWidth() + widthOuter + $cell.children(\".tree-wrap\").outerWidth());\n\t\t\t\t\t}\n\t\t\t\t} else if ($(row).hasClass(\"jqgfirstrow\")) {\n\t\t\t\t\t// widthOuter is 4 typically (if jgrid.cell_width is true).\n\t\t\t\t\twidthOuter = (jgrid.cell_width ? parseFloat($cell.css(\"padding-left\") || 0) + parseFloat($cell.css(\"padding-right\") || 0) : 0) +\n\t\t\t\t\t\tparseFloat($cell.css(\"border-right\") || 0) +\n\t\t\t\t\t\tparseFloat($cell.css(\"border-left\") || 0);\n\t\t\t\t}\n\t\t\t}\n\t\t\tcolWidth = Math.max(colWidth,\n\t\t\t\tcm.autoResizing != null && cm.autoResizing.minColWidth !== undefined ?\n\t\t\t\t\tcm.autoResizing.minColWidth :\n\t\t\t\t\tp.autoResizing.minColWidth);\n\t\t\treturn Math.min(\n\t\t\t\tcolWidth,\n\t\t\t\tcm.autoResizing != null && cm.autoResizing.maxColWidth !== undefined ?\n\t\t\t\t\tcm.autoResizing.maxColWidth :\n\t\t\t\t\tp.autoResizing.maxColWidth\n\t\t\t);\n\t\t},\n\t\tautoResizeColumn: function (iCol, skipGridAdjustments) {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar self = this, $self = $(this), p = self.p, cm = p.colModel[iCol], widthOrg,\n\t\t\t\t\t$th = $(self.grid.headers[iCol].el),\n\t\t\t\t\tnewWidth = base.getAutoResizableWidth.call($self, iCol),\n\t\t\t\t\tresetWidthOrg = (cm.autoResizing || {}).resetWidthOrg;\n\n\t\t\t\tif (cm == null || newWidth < 0 || newWidth === cm.width) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tbase.setColWidth.call($self, iCol, newWidth, p.autoResizing.adjustGridWidth && !p.autoResizing.fixWidthOnShrink && !skipGridAdjustments, skipGridAdjustments);\n\t\t\t\tif (p.autoResizing.fixWidthOnShrink && p.shrinkToFit && !skipGridAdjustments) {\n\t\t\t\t\tcm.fixed = true;\n\t\t\t\t\twidthOrg = cm.widthOrg; // save the value in temporary variable\n\t\t\t\t\tcm.widthOrg = cm.width; // to force not changing of the column width\n\t\t\t\t\tbase.setGridWidth.call($self, p.width, true);\n\t\t\t\t\tcm.widthOrg = widthOrg;\n\t\t\t\t\tcm.fixed = false;\n\t\t\t\t}\n\t\t\t\tif (resetWidthOrg || (resetWidthOrg === undefined && p.autoResizing.resetWidthOrg)) {\n\t\t\t\t\tcm.widthOrg = cm.width;\n\t\t\t\t}\n\t\t\t\t$th.data(\"autoResized\", \"true\");\n\t\t\t});\n\t\t},\n\t\tautoResizeAllColumns: function () {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar self = this, $self = $(self), p = self.p, colModel = p.colModel, nCol = colModel.length, iCol, cm,\n\t\t\t\t\tshrinkToFit = p.shrinkToFit, // save the original shrinkToFit value in the grid\n\t\t\t\t\tadjustGridWidth = p.autoResizing.adjustGridWidth,\n\t\t\t\t\tfixWidthOnShrink = p.autoResizing.fixWidthOnShrink,\n\t\t\t\t\twidth = parseInt(p.widthOrg, 10), grid = self.grid,\n\t\t\t\t\tautoResizeColumn = base.autoResizeColumn; // cache autoResizeColumn reference\n\n\t\t\t\t// autoResizeAllColumns calls multiple times autoResizeColumn\n\t\t\t\t// which calls setColWidth, which calls resizeColumn, which calls\n\t\t\t\t// fixScrollOffsetAndhBoxPadding and setGridWidth.\n\t\t\t\t// The method setGridWidth will be called ADDITIONALLY by autoResizeColumn too\n\t\t\t\t// As the result the most time spending by autoResizeAllColumns is\n\t\t\t\t// for multiple calling of setGridWidth and fixScrollOffsetAndhBoxPadding\n\t\t\t\t//\n\t\t\t\t// So we skipp internal calls of fixScrollOffsetAndhBoxPadding and setGridWidth\n\t\t\t\t// and to call the method ONCE after the end of loop below\n\n\t\t\t\t//    1) Analyse colModel, colNames properties and sortname parameter to calculate\n\t\t\t\t//       minimal and optimal width of every column and the grid. It could be\n\t\t\t\t//       some important cases which should be\n\t\t\t\t//      a) The current width of the grid is LESS then optimal width and resizable column don't have fixed:true property.\n\t\t\t\t//         1. save widthOrg of the resizable column in temporary variable\n\t\t\t\t//         2. set widthOrg property of the resizable column to optimal size and set additionally fixed:true\n\t\t\t\t//         3. call setGridWidth with the CURRENT grid width to change shrink width of all fixed:false\n\n\t\t\t\tp.shrinkToFit = false; // make no shrinking during resizing of any columns\n\t\t\t\tp.autoResizing.adjustGridWidth = true;\n\t\t\t\tp.autoResizing.fixWidthOnShrink = false;\n\t\t\t\tfor (iCol = 0; iCol < nCol; iCol++) {\n\t\t\t\t\tcm = colModel[iCol];\n\t\t\t\t\tif (cm.autoResizable && cm.formatter !== \"actions\") {\n\t\t\t\t\t\tautoResizeColumn.call($self, iCol, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// finalization\n\t\t\t\tgrid.hDiv.scrollLeft = grid.bDiv.scrollLeft;\n\t\t\t\tif (p.footerrow) {\n\t\t\t\t\tgrid.sDiv.scrollLeft = grid.bDiv.scrollLeft;\n\t\t\t\t}\n\t\t\t\tself.fixScrollOffsetAndhBoxPadding();\n\n\t\t\t\tif (!isNaN(width)) {\n\t\t\t\t\tbase.setGridWidth.call($self, width, false);\n\t\t\t\t} else if (adjustGridWidth) {\n\t\t\t\t\tbase.setGridWidth.call($self, grid.newWidth + p.scrollOffset, false);\n\t\t\t\t}\n\t\t\t\t// restore the original shrinkToFit value\n\t\t\t\tp.autoResizing.fixWidthOnShrink = fixWidthOnShrink;\n\t\t\t\tp.autoResizing.adjustGridWidth = adjustGridWidth;\n\t\t\t\tp.shrinkToFit = shrinkToFit;\n\t\t\t});\n\t\t}\n\t});\n\t// end module grid.base\n\n\t/**\n\t * jqGrid extension for cellediting Grid Data\n\t * Copyright (c) 2008-2014, Tony Tomov, tony@trirand.com, http://trirand.com/blog/\n\t * Copyright (c) 2014-2018, Oleg Kiriljuk, oleg.kiriljuk@ok-soft-gmbh.com\n\t * Dual licensed under the MIT and GPL licenses:\n\t * http://www.opensource.org/licenses/mit-license.php\n\t * http://www.gnu.org/licenses/gpl-2.0.html\n\t **/\n\t\t// begin module grid.celledit\n\tvar getTdByColumnIndex = function (tr, iCol) {\n\t\t\tvar $t = this, frozenRows = $t.grid.fbRows;\n\t\t\ttr = frozenRows != null && frozenRows[0].cells.length > iCol ? frozenRows[tr.rowIndex] : tr;\n\t\t\treturn tr != null && tr.cells != null ? $(tr.cells[iCol]) : $();\n\t\t},\n\t\tsafeHeightSet = function ($elem, newHeight) {\n\t\t\tvar height = $elem.height();\n\t\t\tif (Math.abs(height - newHeight) >= 1 && newHeight > 0) {\n\t\t\t\t$elem.height(newHeight);\n\t\t\t\theight = $elem.height();\n\t\t\t\tif (Math.abs(newHeight - height) >= 1) {\n\t\t\t\t\t$elem.height(newHeight + Math.round((newHeight - height)));\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\tjgrid.extend({\n\t\teditCell: function (iRow, iCol, ed) {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, $self = $($t), p = $t.p, nm, tmp, $td, cm, rows = $t.rows;\n\t\t\t\tif (!$t.grid || p.cellEdit !== true || rows == null || rows[iRow] == null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tiRow = parseInt(iRow, 10); // we change iRow and rows[iRow] can be change too\n\t\t\t\tiCol = parseInt(iCol, 10);\n\t\t\t\tif (isNaN(iRow) || isNaN(iCol)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar tr = rows[iRow], rowid = tr != null ? tr.id : null, $tr = $(tr), edittype,\n\t\t\t\t\tiColOld = parseInt(p.iCol, 10), iRowOld = parseInt(p.iRow, 10),\n\t\t\t\t\t$trOld = $(rows[iRowOld]), savedRow = p.savedRow;\n\t\t\t\t// select the row that can be used for other methods\n\t\t\t\tif (rowid == null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tp.selrow = rowid;\n\t\t\t\tif (!p.knv) {\n\t\t\t\t\t$self.jqGrid(\"GridNav\");\n\t\t\t\t}\n\t\t\t\t// check to see if we have already edited cell\n\t\t\t\tif (savedRow.length > 0 && $trOld.length > 0) {\n\t\t\t\t\t// prevent second click on that field and enable selects\n\t\t\t\t\tif (ed === true) {\n\t\t\t\t\t\tif (iRow === iRowOld && iCol === iColOld) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// save the cell\n\t\t\t\t\t$self.jqGrid(\"saveCell\", savedRow[0].id, savedRow[0].ic);\n\t\t\t\t} else {\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t$(\"#\" + jgrid.jqID(p.knv)).attr(\"tabindex\", \"-1\").focus();\n\t\t\t\t\t}, 1);\n\t\t\t\t}\n\t\t\t\tcm = p.colModel[iCol];\n\t\t\t\tnm = cm.name;\n\t\t\t\tif (nm === \"subgrid\" || nm === \"cb\" || nm === \"rn\") {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t$td = getTdByColumnIndex.call($t, tr, iCol);\n\t\t\t\tvar editable = cm.editable, mode = \"cell\";\n\t\t\t\tif ($.isFunction(editable)) {\n\t\t\t\t\teditable = editable.call($t, {\n\t\t\t\t\t\trowid: rowid,\n\t\t\t\t\t\tiCol: iCol,\n\t\t\t\t\t\tiRow: iRow,\n\t\t\t\t\t\tcmName: nm,\n\t\t\t\t\t\tcm: cm,\n\t\t\t\t\t\tmode: mode\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tvar highlightClasses = $self.jqGrid(\"getGuiStyles\", \"states.select\", \"edit-cell\"),\n\t\t\t\t\thoverClasses = $self.jqGrid(\"getGuiStyles\", \"states.hover\", \"selected-row\");\n\t\t\t\tif (editable === true && ed === true && !$td.hasClass(\"not-editable-cell\")) {\n\t\t\t\t\tif (!p.noCellSelection) {\n\t\t\t\t\t\tif (iColOld >= 0 && iRowOld >= 0) {\n\t\t\t\t\t\t\tgetTdByColumnIndex.call($t, $trOld[0], iColOld).removeClass(highlightClasses);\n\t\t\t\t\t\t\t$trOld.removeClass(hoverClasses);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$td.addClass(highlightClasses);\n\t\t\t\t\t\t$tr.addClass(hoverClasses);\n\t\t\t\t\t}\n\t\t\t\t\tif (!cm.edittype) {\n\t\t\t\t\t\tcm.edittype = \"text\";\n\t\t\t\t\t}\n\t\t\t\t\tedittype = cm.edittype;\n\t\t\t\t\ttry {\n\t\t\t\t\t\ttmp = $.unformat.call($t, $td, { rowId: rowid, colModel: cm }, iCol);\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\ttmp = edittype === \"textarea\" ? $td.text() : $td.html();\n\t\t\t\t\t}\n\t\t\t\t\tif (p.autoEncodeOnEdit) {\n\t\t\t\t\t\ttmp = jgrid.oldDecodePostedData(tmp);\n\t\t\t\t\t}\n\t\t\t\t\tif (tmp === \"&nbsp;\" || tmp === \"&#160;\" || (tmp.length === 1 && tmp.charCodeAt(0) === 160)) {\n\t\t\t\t\t\ttmp = \"\";\n\t\t\t\t\t}\n\t\t\t\t\tif ($.isFunction(p.formatCell)) {\n\t\t\t\t\t\tvar tmp2 = p.formatCell.call($t, rowid, nm, tmp, iRow, iCol);\n\t\t\t\t\t\tif (tmp2 !== undefined) {\n\t\t\t\t\t\t\ttmp = tmp2;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfeedback.call($t, \"beforeEditCell\", rowid, nm, tmp, iRow, iCol);\n\t\t\t\t\tsavedRow.push({ id: iRow, ic: iCol, name: nm, v: tmp });\n\t\t\t\t\tp.editingInfo[rowid] = {\n\t\t\t\t\t\tmode: \"cellEditing\",\n\t\t\t\t\t\tsavedRow: savedRow[savedRow.length - 1],\n\t\t\t\t\t\teditable: {}\n\t\t\t\t\t};\n\t\t\t\t\tp.editingInfo[rowid].editable[nm] = editable;\n\t\t\t\t\tvar opt = $.extend({}, cm.editoptions || {},\n\t\t\t\t\t\t{ id: iRow + \"_\" + nm, name: nm, rowId: rowid, mode: mode, cm: cm, iCol: iCol });\n\t\t\t\t\tvar elc = jgrid.createEl.call($t, edittype, opt, tmp, true, $.extend({}, jgrid.ajaxOptions, p.ajaxSelectOptions || {})),\n\t\t\t\t\t\t$dataFiled = $td,\n\t\t\t\t\t\teditingColumnWithTreeGridIcon = p.treeGrid === true && nm === p.ExpandColumn;\n\t\t\t\t\tif (editingColumnWithTreeGridIcon) {\n\t\t\t\t\t\t$dataFiled = $td.children(\"span.cell-wrapperleaf,span.cell-wrapper\");\n\t\t\t\t\t}\n\t\t\t\t\t$dataFiled.html(\"\").append(elc).attr(\"tabindex\", \"0\");\n\t\t\t\t\tif (editingColumnWithTreeGridIcon) { // && elc.style.width === \"100%\"\n\t\t\t\t\t\t$(elc).width($td.width() - $td.children(\"div.tree-wrap\").outerWidth());\n\t\t\t\t\t}\n\t\t\t\t\tjgrid.bindEv.call($t, elc, opt);\n\t\t\t\t\tif (p.frozenColumns && iCol < $self.jqGrid(\"getNumberOfFrozenColumns\")) {\n\t\t\t\t\t\tsafeHeightSet($($t.rows[tr.rowIndex].cells[iCol]), $td.height());\n\t\t\t\t\t}\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t$(elc).focus();\n\t\t\t\t\t}, 0);\n\t\t\t\t\t$(\"input, select, textarea\", $td).on(\"keydown\", function (e) {\n\t\t\t\t\t\tif (e.keyCode === 27) {\n\t\t\t\t\t\t\tif ($(\"input.hasDatepicker\", $td).length > 0) {\n\t\t\t\t\t\t\t\tif ($(\".ui-datepicker\").is(\":hidden\")) {\n\t\t\t\t\t\t\t\t\t$self.jqGrid(\"restoreCell\", iRow, iCol);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t$(\"input.hasDatepicker\", $td).datepicker(\"hide\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$self.jqGrid(\"restoreCell\", iRow, iCol);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} //ESC\n\t\t\t\t\t\tif (e.keyCode === 13 && !e.shiftKey) {\n\t\t\t\t\t\t\t$self.jqGrid(\"saveCell\", iRow, iCol);\n\t\t\t\t\t\t\t// Prevent default action\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t} //Enter\n\t\t\t\t\t\tif (e.keyCode === 9) {\n\t\t\t\t\t\t\tif (!$t.grid.hDiv.loading) {\n\t\t\t\t\t\t\t\tif (e.shiftKey) {\n\t\t\t\t\t\t\t\t\t$self.jqGrid(\"prevCell\", iRow, iCol); //Shift TAb\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t$self.jqGrid(\"nextCell\", iRow, iCol); //Tab\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t});\n\t\t\t\t\tfeedback.call($t, \"afterEditCell\", rowid, nm, tmp, iRow, iCol);\n\t\t\t\t} else {\n\t\t\t\t\tif (!p.noCellSelection) {\n\t\t\t\t\t\tif (iColOld >= 0 && iRowOld >= 0) {\n\t\t\t\t\t\t\tgetTdByColumnIndex.call($t, $trOld[0], iColOld).removeClass(highlightClasses);\n\t\t\t\t\t\t\t$trOld.removeClass(hoverClasses);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$td.addClass(highlightClasses);\n\t\t\t\t\t\t$tr.addClass(hoverClasses);\n\t\t\t\t\t}\n\t\t\t\t\ttmp = $td.html().replace(/&#160;/ig, \"\");\n\t\t\t\t\tfeedback.call($t, \"onSelectCell\", rowid, nm, tmp, iRow, iCol);\n\t\t\t\t}\n\t\t\t\tp.iCol = iCol;\n\t\t\t\tp.iRow = iRow;\n\t\t\t});\n\t\t},\n\t\tsaveCell: function (iRow, iCol) {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, $self = $($t), p = $t.p, grid = $t.grid, infoDialog = jgrid.info_dialog, jqID = jgrid.jqID;\n\n\t\t\t\tif (!grid || p.cellEdit !== true) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar errors = $self.jqGrid(\"getGridRes\", \"errors\"), errcap = errors.errcap,\n\t\t\t\t\tedit = $self.jqGrid(\"getGridRes\", \"edit\"), bClose = edit.bClose,\n\t\t\t\t\tsavedRow = p.savedRow, fr = savedRow.length >= 1 ? 0 : null;\n\t\t\t\tif (fr !== null) {\n\t\t\t\t\tvar tr = $t.rows[iRow], rowid = tr != null ? tr.id : null, $tr = tr != null ? $(tr) : $(), cm = p.colModel[iCol], nm = cm.name, vv,\n\t\t\t\t\t\t$td = getTdByColumnIndex.call($t, tr, iCol), valueText = {},\n\t\t\t\t\t\tv = jgrid.getEditedValue.call($t, $td, cm, valueText);\n\n\t\t\t\t\t// The common approach is if nothing changed do not do anything\n\t\t\t\t\tif (v !== savedRow[fr].v) {\n\t\t\t\t\t\tvv = $self.triggerHandler(\"jqGridBeforeSaveCell\", [rowid, nm, v, iRow, iCol]);\n\t\t\t\t\t\tif (vv !== undefined) {\n\t\t\t\t\t\t\tv = vv;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ($.isFunction(p.beforeSaveCell)) {\n\t\t\t\t\t\t\tvv = p.beforeSaveCell.call($t, rowid, nm, v, iRow, iCol);\n\t\t\t\t\t\t\tif (vv !== undefined) {\n\t\t\t\t\t\t\t\tv = vv;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar cv = jgrid.checkValues.call($t, v, iCol, undefined, undefined, {\n\t\t\t\t\t\t\t\toldValue: savedRow[fr].v,\n\t\t\t\t\t\t\t\tnewValue: v,\n\t\t\t\t\t\t\t\tcmName: nm,\n\t\t\t\t\t\t\t\trowid: rowid,\n\t\t\t\t\t\t\t\tiCol: iCol,\n\t\t\t\t\t\t\t\tiRow: iRow,\n\t\t\t\t\t\t\t\tcm: cm,\n\t\t\t\t\t\t\t\ttr: tr,\n\t\t\t\t\t\t\t\ttd: $td,\n\t\t\t\t\t\t\t\tmode: \"cell\"\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tformatoptions = cm.formatoptions || {};\n\t\t\t\t\t\tif (cv == null || cv === true || cv[0] === true) {\n\t\t\t\t\t\t\tvar addpost = $self.triggerHandler(\"jqGridBeforeSubmitCell\", [rowid, nm, v, iRow, iCol]) || {};\n\t\t\t\t\t\t\tif ($.isFunction(p.beforeSubmitCell)) {\n\t\t\t\t\t\t\t\taddpost = p.beforeSubmitCell.call($t, rowid, nm, v, iRow, iCol);\n\t\t\t\t\t\t\t\tif (!addpost) {\n\t\t\t\t\t\t\t\t\taddpost = {};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ($(\"input.hasDatepicker\", $td).length > 0) {\n\t\t\t\t\t\t\t\t$(\"input.hasDatepicker\", $td).datepicker(\"hide\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (cm.formatter === \"date\" && formatoptions.sendFormatted !== true) {\n\t\t\t\t\t\t\t\t// TODO: call all other predefined formatters!!! Not only formatter: \"date\" have the problem.\n\t\t\t\t\t\t\t\t// Floating point separator for example\n\t\t\t\t\t\t\t\tv = $.unformat.date.call($t, v, cm);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (p.cellsubmit === \"remote\") {\n\t\t\t\t\t\t\t\tif (p.cellurl) {\n\t\t\t\t\t\t\t\t\tvar postdata = {};\n\t\t\t\t\t\t\t\t\tpostdata[nm] = v;\n\t\t\t\t\t\t\t\t\tvar opers = p.prmNames, idname = opers.id, oper = opers.oper;\n\t\t\t\t\t\t\t\t\tpostdata[idname] = jgrid.stripPref(p.idPrefix, rowid);\n\t\t\t\t\t\t\t\t\tpostdata[oper] = opers.editoper;\n\t\t\t\t\t\t\t\t\tpostdata = $.extend(addpost, postdata);\n\t\t\t\t\t\t\t\t\tif (p.autoEncodeOnEdit) {\n\t\t\t\t\t\t\t\t\t\t$.each(postdata, function (n, val) {\n\t\t\t\t\t\t\t\t\t\t\tif (!$.isFunction(val)) {\n\t\t\t\t\t\t\t\t\t\t\t\tpostdata[n] = jgrid.oldEncodePostedData(val);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t$self.jqGrid(\"progressBar\", { method: \"show\", loadtype: p.loadui, htmlcontent: $self.jqGrid(\"getGridRes\", \"defaults.savetext\") || \"Saving...\" });\n\t\t\t\t\t\t\t\t\tgrid.hDiv.loading = true;\n\t\t\t\t\t\t\t\t\t$.ajax($.extend({\n\t\t\t\t\t\t\t\t\t\turl: $.isFunction(p.cellurl) ? p.cellurl.call($t, p.cellurl, iRow, iCol, rowid, v, nm) : p.cellurl,\n\t\t\t\t\t\t\t\t\t\t//data :$.isFunction(p.serializeCellData) ? p.serializeCellData.call($t, postdata) : postdata,\n\t\t\t\t\t\t\t\t\t\tdata: jgrid.serializeFeedback.call($t, p.serializeCellData, \"jqGridSerializeCellData\", postdata),\n\t\t\t\t\t\t\t\t\t\ttype: \"POST\",\n\t\t\t\t\t\t\t\t\t\tcomplete: function (jqXHR) {\n\t\t\t\t\t\t\t\t\t\t\tgrid.endReq.call($t);\n\t\t\t\t\t\t\t\t\t\t\tif ((jqXHR.status < 300 || jqXHR.status === 304) && (jqXHR.status !== 0 || jqXHR.readyState !== 4)) {\n\t\t\t\t\t\t\t\t\t\t\t\tvar ret = $self.triggerHandler(\"jqGridAfterSubmitCell\", [$t, jqXHR, postdata.id, nm, v, iRow, iCol]) || [true, \"\"];\n\t\t\t\t\t\t\t\t\t\t\t\tif (ret === true || (ret[0] === true && $.isFunction(p.afterSubmitCell))) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tret = p.afterSubmitCell.call($t, jqXHR, postdata.id, nm, v, iRow, iCol);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tif (ret == null || ret === true || ret[0] === true) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t$self.jqGrid(\"setCell\", rowid, iCol, v, false, false, true);\n\t\t\t\t\t\t\t\t\t\t\t\t\t$td.addClass(\"dirty-cell\");\n\t\t\t\t\t\t\t\t\t\t\t\t\t$tr.addClass(\"edited\");\n\t\t\t\t\t\t\t\t\t\t\t\t\tfeedback.call($t, \"afterSaveCell\", rowid, nm, v, iRow, iCol);\n\t\t\t\t\t\t\t\t\t\t\t\t\tsavedRow.splice(0, 1);\n\t\t\t\t\t\t\t\t\t\t\t\t\tdelete p.editingInfo[rowid];\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\tinfoDialog.call($t, errcap, ret[1], bClose);\n\t\t\t\t\t\t\t\t\t\t\t\t\t$self.jqGrid(\"restoreCell\", iRow, iCol);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\terror: function (jqXHR, textStatus, errorThrown) {\n\t\t\t\t\t\t\t\t\t\t\t$self.triggerHandler(\"jqGridErrorCell\", [jqXHR, textStatus, errorThrown]);\n\t\t\t\t\t\t\t\t\t\t\tif ($.isFunction(p.errorCell)) {\n\t\t\t\t\t\t\t\t\t\t\t\tp.errorCell.call($t, jqXHR, textStatus, errorThrown);\n\t\t\t\t\t\t\t\t\t\t\t\t$self.jqGrid(\"restoreCell\", iRow, iCol);\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tinfoDialog.call($t, errcap, jqXHR.status + \" : \" + jqXHR.statusText + \"<br/>\" + textStatus, bClose);\n\t\t\t\t\t\t\t\t\t\t\t\t$self.jqGrid(\"restoreCell\", iRow, iCol);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}, jgrid.ajaxOptions, p.ajaxCellOptions || {}));\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tinfoDialog.call($t, errcap, errors.nourl, bClose);\n\t\t\t\t\t\t\t\t\t\t$self.jqGrid(\"restoreCell\", iRow, iCol);\n\t\t\t\t\t\t\t\t\t} catch (ignore) { }\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (p.cellsubmit === \"clientArray\") {\n\t\t\t\t\t\t\t\t$self.jqGrid(\"setCell\", rowid, iCol,\n\t\t\t\t\t\t\t\t\tcm.edittype === \"select\" && cm.formatter !== \"select\" ? valueText.text : v,\n\t\t\t\t\t\t\t\t\tfalse, false, true);\n\t\t\t\t\t\t\t\t$td.addClass(\"dirty-cell\");\n\t\t\t\t\t\t\t\t$tr.addClass(\"edited\");\n\t\t\t\t\t\t\t\tfeedback.call($t, \"afterSaveCell\", rowid, nm, v, iRow, iCol);\n\t\t\t\t\t\t\t\tif (p.frozenColumns && iCol < $self.jqGrid(\"getNumberOfFrozenColumns\")) {\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t$t.rows[tr.rowIndex].cells[iCol].style.height = \"\";\n\t\t\t\t\t\t\t\t\t} catch (ignore) { }\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsavedRow.splice(0, 1);\n\t\t\t\t\t\t\t\tdelete p.editingInfo[rowid];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\t\tvar relativeRect = jgrid.getRelativeRect.call($t, $td);\n\t\t\t\t\t\t\t\t\tinfoDialog.call($t, errcap, v + \" \" + cv[1], bClose, {\n\t\t\t\t\t\t\t\t\t\ttop: relativeRect.top,\n\t\t\t\t\t\t\t\t\t\tleft: relativeRect.left + $($t).closest(\".ui-jqgrid\").offset().left\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}, 50);\n\t\t\t\t\t\t\t\t$self.jqGrid(\"restoreCell\", iRow, iCol);\n\t\t\t\t\t\t\t} catch (ignore) { }\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$self.jqGrid(\"restoreCell\", iRow, iCol);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t$(\"#\" + jqID(p.knv)).attr(\"tabindex\", \"-1\").focus();\n\t\t\t\t}, 0);\n\t\t\t});\n\t\t},\n\t\trestoreCell: function (iRow, iCol) {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, p = $t.p, tr = $t.rows[iRow], rowid = tr.id, v, cm, formatoptions;\n\t\t\t\tif (!$t.grid || p.cellEdit !== true) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar savedRow = p.savedRow, $td = getTdByColumnIndex.call($t, tr, iCol);\n\t\t\t\tif (savedRow.length >= 1) {\n\t\t\t\t\t// datepicker fix\n\t\t\t\t\tif ($.isFunction($.fn.datepicker)) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t$(\"input.hasDatepicker\", $td).datepicker(\"hide\");\n\t\t\t\t\t\t} catch (ignore) { }\n\t\t\t\t\t}\n\t\t\t\t\tcm = p.colModel[iCol];\n\t\t\t\t\tif (p.treeGrid === true && cm != null && cm.name === p.ExpandColumn) {\n\t\t\t\t\t\t$td.children(\"span.cell-wrapperleaf,span.cell-wrapper\").empty();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$td.empty();\n\t\t\t\t\t}\n\t\t\t\t\t$td.attr(\"tabindex\", \"-1\");\n\t\t\t\t\tv = savedRow[0].v;\n\t\t\t\t\tif (cm != null) {\n\t\t\t\t\t\tformatoptions = cm.formatoptions || {};\n\t\t\t\t\t\tif (cm.formatter === \"date\" && formatoptions.sendFormatted !== true) {\n\t\t\t\t\t\t\t// TODO: call all other predefined formatters!!! Not only formatter: \"date\" have the problem.\n\t\t\t\t\t\t\t// Floating point separator for example\n\t\t\t\t\t\t\tv = $.unformat.date.call($t, v, cm);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$($t).jqGrid(\"setCell\", rowid, iCol, v, false, false, true);\n\t\t\t\t\t\tif (p.frozenColumns && iCol < $($t).jqGrid(\"getNumberOfFrozenColumns\")) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t$t.rows[tr.rowIndex].cells[iCol].style.height = \"\";\n\t\t\t\t\t\t\t} catch (ignore) { }\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfeedback.call($t, \"afterRestoreCell\", rowid, v, iRow, iCol);\n\t\t\t\t\tsavedRow.splice(0, 1);\n\t\t\t\t\tdelete p.editingInfo[rowid];\n\t\t\t\t}\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t$(\"#\" + p.knv).attr(\"tabindex\", \"-1\").focus();\n\t\t\t\t}, 0);\n\t\t\t});\n\t\t},\n\t\tnextCell: function (iRow, iCol) {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, $self = $($t), p = $t.p, nCol = false, i, editable, cm, rows = $t.rows;\n\t\t\t\tif (!$t.grid || p.cellEdit !== true || rows == null || rows[iRow] == null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// try to find next editable cell\n\t\t\t\tfor (i = iCol + 1; i < p.colModel.length; i++) {\n\t\t\t\t\tcm = p.colModel[i];\n\t\t\t\t\teditable = cm.editable;\n\t\t\t\t\tif ($.isFunction(editable)) {\n\t\t\t\t\t\teditable = editable.call($t, {\n\t\t\t\t\t\t\trowid: rows[iRow].id,\n\t\t\t\t\t\t\tiCol: i,\n\t\t\t\t\t\t\tiRow: iRow,\n\t\t\t\t\t\t\tcmName: cm.name,\n\t\t\t\t\t\t\tcm: cm,\n\t\t\t\t\t\t\tmode: \"cell\"\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (editable === true) {\n\t\t\t\t\t\tnCol = i;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (nCol !== false) {\n\t\t\t\t\t$self.jqGrid(\"editCell\", iRow, nCol, true);\n\t\t\t\t} else {\n\t\t\t\t\tif (p.savedRow.length > 0) {\n\t\t\t\t\t\t$self.jqGrid(\"saveCell\", iRow, iCol);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tprevCell: function (iRow, iCol) {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, $self = $($t), p = $t.p, nCol = false, i, editable, cm, rows = $t.rows;\n\t\t\t\tif (!$t.grid || p.cellEdit !== true || rows == null || rows[iRow] == null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// try to find next editable cell\n\t\t\t\tfor (i = iCol - 1; i >= 0; i--) {\n\t\t\t\t\tcm = p.colModel[i];\n\t\t\t\t\teditable = cm.editable;\n\t\t\t\t\tif ($.isFunction(editable)) {\n\t\t\t\t\t\teditable = editable.call($t, {\n\t\t\t\t\t\t\trowid: rows[iRow].id,\n\t\t\t\t\t\t\tiCol: i,\n\t\t\t\t\t\t\tiRow: iRow,\n\t\t\t\t\t\t\tcmName: cm.name,\n\t\t\t\t\t\t\tcm: cm,\n\t\t\t\t\t\t\tmode: \"cell\"\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (editable === true) {\n\t\t\t\t\t\tnCol = i;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (nCol !== false) {\n\t\t\t\t\t$self.jqGrid(\"editCell\", iRow, nCol, true);\n\t\t\t\t} else {\n\t\t\t\t\tif (p.savedRow.length > 0) {\n\t\t\t\t\t\t$self.jqGrid(\"saveCell\", iRow, iCol);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tGridNav: function () {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, $self = $($t), p = $t.p, grid = $t.grid, i, kdir;\n\t\t\t\tif (!grid || p.cellEdit !== true) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar bDiv = grid.bDiv;\n\t\t\t\t// trick to process keydown on non input elements\n\t\t\t\tp.knv = p.id + \"_kn\";\n\t\t\t\tvar selection = $(\"<div style='position:fixed;top:0px;width:1px;height:1px;' tabindex='0'><div tabindex='-1' style='width:1px;height:1px;' id='\" + p.knv + \"'></div></div>\");\n\t\t\t\tfunction scrollGrid(iR, iC, tp) {\n\t\t\t\t\tvar tr = $t.rows[iR];\n\t\t\t\t\tif (tp.substr(0, 1) === \"v\") {\n\t\t\t\t\t\tvar ch = bDiv.clientHeight,\n\t\t\t\t\t\t\tst = bDiv.scrollTop,\n\t\t\t\t\t\t\tnRot = tr.offsetTop + tr.clientHeight,\n\t\t\t\t\t\t\tpRot = tr.offsetTop;\n\n\t\t\t\t\t\tif (tp === \"vd\") {\n\t\t\t\t\t\t\tif (nRot >= st + ch) {\n\t\t\t\t\t\t\t\tbDiv.scrollTop = bDiv.scrollTop + tr.clientHeight;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (tp === \"vu\") {\n\t\t\t\t\t\t\tif (pRot < st) {\n\t\t\t\t\t\t\t\tbDiv.scrollTop = bDiv.scrollTop - tr.clientHeight;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (tp === \"h\") {\n\t\t\t\t\t\tvar cw = bDiv.clientWidth,\n\t\t\t\t\t\t\tsl = bDiv.scrollLeft,\n\t\t\t\t\t\t\ttd = tr.cells[iC],\n\t\t\t\t\t\t\tnCol = td.offsetLeft + td.clientWidth,\n\t\t\t\t\t\t\tpCol = td.offsetLeft;\n\n\t\t\t\t\t\tif (nCol >= cw + parseInt(sl, 10)) {\n\t\t\t\t\t\t\tbDiv.scrollLeft = bDiv.scrollLeft + td.clientWidth;\n\t\t\t\t\t\t} else if (pCol < sl) {\n\t\t\t\t\t\t\tbDiv.scrollLeft = bDiv.scrollLeft - td.clientWidth;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfunction findNextVisible(iC, act) {\n\t\t\t\t\tvar ind = 0, j, colModel = p.colModel;\n\t\t\t\t\tif (act === \"lft\") {\n\t\t\t\t\t\tind = iC + 1;\n\t\t\t\t\t\tfor (j = iC; j >= 0; j--) {\n\t\t\t\t\t\t\tif (colModel[j].hidden !== true) {\n\t\t\t\t\t\t\t\tind = j;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (act === \"rgt\") {\n\t\t\t\t\t\tind = iC - 1;\n\t\t\t\t\t\tfor (j = iC; j < colModel.length; j++) {\n\t\t\t\t\t\t\tif (colModel[j].hidden !== true) {\n\t\t\t\t\t\t\t\tind = j;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn ind;\n\t\t\t\t}\n\n\t\t\t\t$(selection).insertBefore(grid.cDiv);\n\t\t\t\t$(\"#\" + p.knv)\n\t\t\t\t\t.focus()\n\t\t\t\t\t.keydown(function (e) {\n\t\t\t\t\t\tvar iRowOld = parseInt(p.iRow, 10), iColOld = parseInt(p.iCol, 10);\n\t\t\t\t\t\tkdir = e.keyCode;\n\t\t\t\t\t\tif (p.direction === \"rtl\") {\n\t\t\t\t\t\t\tif (kdir === 37) {\n\t\t\t\t\t\t\t\tkdir = 39;\n\t\t\t\t\t\t\t} else if (kdir === 39) {\n\t\t\t\t\t\t\t\tkdir = 37;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tswitch (kdir) {\n\t\t\t\t\t\t\tcase 38:\n\t\t\t\t\t\t\t\tif (iRowOld - 1 > 0) {\n\t\t\t\t\t\t\t\t\tscrollGrid(iRowOld - 1, iColOld, \"vu\");\n\t\t\t\t\t\t\t\t\t$self.jqGrid(\"editCell\", iRowOld - 1, iColOld, false);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 40:\n\t\t\t\t\t\t\t\tif (iRowOld + 1 <= $t.rows.length - 1) {\n\t\t\t\t\t\t\t\t\tscrollGrid(iRowOld + 1, iColOld, \"vd\");\n\t\t\t\t\t\t\t\t\t$self.jqGrid(\"editCell\", iRowOld + 1, iColOld, false);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 37:\n\t\t\t\t\t\t\t\tif (iColOld - 1 >= 0) {\n\t\t\t\t\t\t\t\t\ti = findNextVisible(iColOld - 1, \"lft\");\n\t\t\t\t\t\t\t\t\tscrollGrid(iRowOld, i, \"h\");\n\t\t\t\t\t\t\t\t\t$self.jqGrid(\"editCell\", iRowOld, i, false);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 39:\n\t\t\t\t\t\t\t\tif (iColOld + 1 <= p.colModel.length - 1) {\n\t\t\t\t\t\t\t\t\ti = findNextVisible(iColOld + 1, \"rgt\");\n\t\t\t\t\t\t\t\t\tscrollGrid(iRowOld, i, \"h\");\n\t\t\t\t\t\t\t\t\t$self.jqGrid(\"editCell\", iRowOld, i, false);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 13:\n\t\t\t\t\t\t\t\tif (iColOld >= 0 && iRowOld >= 0) {\n\t\t\t\t\t\t\t\t\t$self.jqGrid(\"editCell\", iRowOld, iColOld, true);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tgetChangedCells: function (mthd) {\n\t\t\tvar ret = [];\n\t\t\tif (!mthd) {\n\t\t\t\tmthd = \"all\";\n\t\t\t}\n\t\t\tthis.each(function () {\n\t\t\t\tvar $t = this, p = $t.p, htmlDecode = jgrid.htmlDecode, rows = $t.rows;\n\t\t\t\tif (!$t.grid || p.cellEdit !== true) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t$(rows).each(function (j) {\n\t\t\t\t\tvar res = {};\n\t\t\t\t\tif ($(this).hasClass(\"edited\")) {\n\t\t\t\t\t\tvar tr = this;\n\t\t\t\t\t\t$(this.cells).each(function (i) {\n\t\t\t\t\t\t\tvar cm = p.colModel[i], nm = cm.name, $td = getTdByColumnIndex.call($t, tr, i); // $td = $(this);\n\t\t\t\t\t\t\tif (nm !== \"cb\" && nm !== \"subgrid\" && nm !== \"rn\" && (mthd !== \"dirty\" || $td.hasClass(\"dirty-cell\"))) {\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tres[nm] = $.unformat.call($t, $td[0], { rowId: rows[j].id, colModel: cm }, i);\n\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\tres[nm] = htmlDecode($td.html());\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tres.id = this.id;\n\t\t\t\t\t\tret.push(res);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\treturn ret;\n\t\t}\n\t});\n\t// end module grid.celledit\n\n\t/**\n\t * jqGrid common function\n\t * Tony Tomov tony@trirand.com, http://trirand.com/blog/\n\t * Changed by Oleg Kiriljuk, oleg.kiriljuk@ok-soft-gmbh.com\n\t * Dual licensed under the MIT and GPL licenses:\n\t * http://www.opensource.org/licenses/mit-license.php\n\t * http://www.gnu.org/licenses/gpl-2.0.html\n\t */\n\t\t// begin module grid.common\n\tvar getGuiStyles = base.getGuiStyles, getGridRes = base.getGridRes;\n\n\tjgrid.jqModal = jgrid.jqModal || {};\n\t$.extend(true, jgrid.jqModal, { toTop: true });\n\n\t$.extend(jgrid, {\n\t\t// Modal functions\n\t\t// The methods showModal and closeModal will be used as callback of $.jqm jQuery plugin defined in jqModal.js\n\t\t// The modul can support multiple modal dialods. It hold the information about evety active modules in internal array of \"hashes\".\n\t\t// The modal dialogs as hidden typically. Before the dialog will be visible onShow callback (showModal) will be called.\n\t\t//\n\t\t// Every eleement contains \"hash object\" which have 4 properties:\n\t\t//  w: (jQuery object) The modal element, represent the outer div of the modal dialog\n\t\t//  o: (jQuery object) The overlay element. It will be assigned on the first opening of the modal\n\t\t//  c: (object) The modal's options object. The options used durin creating the modal.\n\t\t//          One can use global $.jgrid.jqModal or gris specifif p.jqModal to specify defaults of the options.\n\t\t//  t: (DOM object) The triggering element.\n\t\t//  s: numeric part of \"id\" used for modal dialog. The modal dialog have class \"jqmID\" + s.\n\t\t//  a: Boolean. It's false initially. It will be set to true during opening and will set to false on closing.\n\t\tshowModal: function (h) {\n\t\t\t//  w: (jQuery object) The modal element\n\t\t\th.w.show();\n\t\t},\n\t\tcloseModal: function (h) {\n\t\t\t//  w: (jQuery object) The modal element\n\t\t\t//  o: (jQuery object) The overlay element\n\t\t\t//  c: (object) The modal's options object\n\t\t\th.w.hide().attr(\"aria-hidden\", \"true\");\n\t\t\tif (h.o) {\n\t\t\t\th.o.remove();\n\t\t\t}\n\t\t},\n\t\thideModal: function (selector, o) {\n\t\t\to = $.extend({ jqm: true, gb: \"\", removemodal: false }, o || {});\n\t\t\tvar thisgrid = o.gb && typeof o.gb === \"string\" && o.gb.substr(0, 6) === \"#gbox_\" ? $(\"#\" + o.gb.substr(6))[0] : false,\n\t\t\t\t$selector = $(selector);\n\t\t\tif (o.onClose) {\n\t\t\t\tvar oncret = thisgrid ? o.onClose.call(thisgrid, selector) : o.onClose(selector);\n\t\t\t\tif (typeof oncret === \"boolean\" && !oncret) { return; }\n\t\t\t}\n\t\t\tif ($.fn.jqm && o.jqm === true) {\n\t\t\t\t$selector.attr(\"aria-hidden\", \"true\").jqmHide();\n\t\t\t} else {\n\t\t\t\tif (o.gb !== \"\") {\n\t\t\t\t\ttry { $(\">.jqgrid-overlay\", o.gb).first().hide(); } catch (ignore) { }\n\t\t\t\t}\n\t\t\t\t$selector.hide().attr(\"aria-hidden\", \"true\");\n\t\t\t}\n\t\t\tif (o.removemodal) {\n\t\t\t\t$selector.remove();\n\t\t\t}\n\t\t},\n\t\t//Helper functions\n\t\tcreateModal: function (aIDs, content, o, insertSelector, posSelector, appendsel, css) {\n\t\t\tvar jqID = jgrid.jqID, p = this.p;\n\t\t\to = $.extend(true, {\n\t\t\t\t\tresizingRightBottomIcon: base.getIconRes.call(this, \"form.resizableLtr\")\n\t\t\t\t}, jgrid.jqModal || {},\n\t\t\t\tp != null ? p.jqModal || {} : {},\n\t\t\t\to);\n\t\t\t// create main window \"div.ui-jqdialog\", which will contains other components of the modal window:\n\t\t\t// \"div.ui-jqdialog-titlebar\", \"div.ui-jqdialog-content\" and optionally resizer like \"div.jqResize\"\n\t\t\tvar mw = document.createElement(\"div\"), themodalSelector = \"#\" + jqID(aIDs.themodal),\n\t\t\t\trtlsup = $(o.gbox).attr(\"dir\") === \"rtl\" ? true : false,\n\t\t\t\tresizeAlso = aIDs.resizeAlso ? \"#\" + jqID(aIDs.resizeAlso) : false;\n\t\t\tcss = $.extend({}, css || {});\n\t\t\tmw.className = getGuiStyles.call(this, \"dialog.window\", \"ui-jqdialog\");\n\t\t\tmw.id = aIDs.themodal;\n\t\t\tmw.dir = rtlsup ? \"rtl\" : \"ltr\";\n\t\t\tvar mdoc = document.createElement(\"div\");\n\t\t\tmdoc.className = getGuiStyles.call(this, \"dialog.document\");\n\t\t\t$(mdoc).attr(\"role\", \"document\");\n\t\t\tvar msubdoc = document.createElement(\"div\");\n\t\t\tmsubdoc.className = getGuiStyles.call(this, \"dialog.subdocument\");\n\t\t\tmdoc.appendChild(msubdoc);\n\t\t\tmw.appendChild(mdoc);\n\t\t\t// create the title \"div.ui-jqdialog-titlebar\", which contains:\n\t\t\t// \"span.ui-jqdialog-title\" with the title text and \"a.ui-jqdialog-titlebar-close\" with the closing button\n\t\t\tvar mh = document.createElement(\"div\");\n\t\t\tmh.className = getGuiStyles.call(this,\n\t\t\t\t\"dialog.header\",\n\t\t\t\t\"ui-jqdialog-titlebar \" + (rtlsup ? \"ui-jqdialog-titlebar-rtl\" : \"ui-jqdialog-titlebar-ltr\"));\n\t\t\tmh.id = aIDs.modalhead;\n\t\t\t$(mh).append(\"<span class='ui-jqdialog-title'>\" + o.caption + \"</span>\");\n\t\t\tvar hoverClasses = getGuiStyles.call(this, \"states.hover\"),\n\t\t\t\tahr = $(\"<a aria-label='Close' class='\" + getGuiStyles.call(this, \"dialog.closeButton\", \"ui-jqdialog-titlebar-close\") + \"'></a>\")\n\t\t\t\t\t.hover(function () { ahr.addClass(hoverClasses); },\n\t\t\t\t\t\tfunction () { ahr.removeClass(hoverClasses); })\n\t\t\t\t\t.append(\"<span class='\" + base.getIconRes.call(this, \"form.close\") + \"'></span>\");\n\t\t\t$(mh).append(ahr);\n\t\t\t// create \"div.ui-jqdialog-content\" which hold some HTML content (see input parameter)\n\t\t\tvar mc = document.createElement(\"div\");\n\t\t\t$(mc).addClass(getGuiStyles.call(this, \"dialog.content\", \"ui-jqdialog-content\"))\n\t\t\t\t.attr(\"id\", aIDs.modalcontent);\n\t\t\t$(mc).append(content);\n\t\t\t// place \"div.ui-jqdialog-content\" and \"div.ui-jqdialog-titlebar\" in main window \"div.ui-jqdialog\"\n\t\t\tmsubdoc.appendChild(mc);\n\t\t\t$(msubdoc).prepend(mh);\n\t\t\t// appendsel and insertSelector specifies where the dialog should be placed on the HTML page\n\t\t\tif (appendsel === true) {\n\t\t\t\t$(\"body\").append(mw);  //append as first child in body -for alert dialog\n\t\t\t} else if (typeof appendsel === \"string\") {\n\t\t\t\t$(appendsel).append(mw);\n\t\t\t} else { $(mw).insertBefore(insertSelector); }\n\t\t\t$(mw).css(css);\n\t\t\tif (o.jqModal === undefined) { o.jqModal = true; } // internal use\n\t\t\tvar coord = {};\n\t\t\tif ($.fn.jqm && o.jqModal === true) {\n\t\t\t\tif (o.left === 0 && o.top === 0 && o.overlay) {\n\t\t\t\t\to = $(posSelector).offset();\n\t\t\t\t\to.left += 4;\n\t\t\t\t\to.top += 4;\n\t\t\t\t}\n\t\t\t\tcoord.top = o.top + \"px\";\n\t\t\t\tcoord.left = o.left;\n\t\t\t} else if (o.left !== 0 || o.top !== 0) {\n\t\t\t\tcoord.left = o.left;\n\t\t\t\tcoord.top = o.top + \"px\";\n\t\t\t}\n\t\t\t$(\"a.ui-jqdialog-titlebar-close\", mh).click(function () {\n\t\t\t\tvar oncm = $(themodalSelector).data(\"onClose\") || o.onClose;\n\t\t\t\tvar gboxclose = $(themodalSelector).data(\"gbox\") || o.gbox;\n\t\t\t\tjgrid.hideModal(themodalSelector, {\n\t\t\t\t\tgb: gboxclose,\n\t\t\t\t\tjqm: o.jqModal,\n\t\t\t\t\tonClose: oncm,\n\t\t\t\t\tremovemodal: o.removemodal || false\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t});\n\t\t\tif (o.width === 0 || !o.width) { o.width = 300; }\n\t\t\tif (o.height === 0 || !o.height) { o.height = 200; }\n\t\t\tif (!o.zIndex) {\n\t\t\t\tvar parentZ = $(insertSelector).parents(\"*[role=dialog]\").first().css(\"z-index\");\n\t\t\t\tif (parentZ) {\n\t\t\t\t\to.zIndex = parseInt(parentZ, 10) + 2;\n\t\t\t\t\to.toTop = true;\n\t\t\t\t} else {\n\t\t\t\t\to.zIndex = 950;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// ONE NEEDS correction of left position in case of RTL, but the current code places\n\t\t\t// modal dialog OUT OF visible part of/ the window if <body dir=\"rtl\">.\n\t\t\t// Thus first of all the lines are commented. Later the FIXED code below will be included.\n\t\t\t/*var rtlt = 0;\n\t\t\tif( rtlsup && coord.left && !appendsel) {\n\t\t\t\trtlt = $(o.gbox).width()- (!isNaN(o.width) ? parseInt(o.width,10) :0) - 8; // to do\n\t\t\t// just in case\n\t\t\t\tcoord.left = parseInt(coord.left,10) + parseInt(rtlt,10);\n\t\t\t}*/\n\t\t\tif (coord.left) { coord.left += \"px\"; }\n\t\t\t$(mw).css($.extend({\n\t\t\t\twidth: isNaN(o.width) ? \"auto\" : o.width + \"px\",\n\t\t\t\theight: isNaN(o.height) ? \"auto\" : o.height + \"px\",\n\t\t\t\tzIndex: o.zIndex\n\t\t\t}, coord))\n\t\t\t\t.attr({ tabIndex: \"-1\", \"role\": \"dialog\", \"aria-labelledby\": aIDs.modalhead, \"aria-hidden\": \"true\" });\n\t\t\tif (o.drag === undefined) { o.drag = true; }\n\t\t\tif (o.resize === undefined) { o.resize = true; }\n\t\t\tif (o.drag) {\n\t\t\t\tif ($.fn.jqDrag) {\n\t\t\t\t\t// .ui-draggable .ui-dialog-titlebar {cursor: move}\n\t\t\t\t\t//$(mw).addClass(\"ui-draggable\"); //css(\"cursor\", \"move\");\n\t\t\t\t\t$(mh).css(\"cursor\", \"move\");\n\t\t\t\t\t$(mw).jqDrag(mh);\n\t\t\t\t} else {\n\t\t\t\t\ttry {\n\t\t\t\t\t\t$(mw).draggable({ handle: $(\"#\" + jqID(mh.id)) });\n\t\t\t\t\t} catch (ignore) { }\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (o.resize) {\n\t\t\t\tif ($.fn.jqResize) {\n\t\t\t\t\t$(mc).append(\"<div class='jqResize ui-resizable-handle ui-resizable-se \" + o.resizingRightBottomIcon + \"'></div>\");\n\t\t\t\t\t$(themodalSelector).jqResize(\".jqResize\", resizeAlso);\n\t\t\t\t} else {\n\t\t\t\t\ttry {\n\t\t\t\t\t\t$(mw).resizable({ handles: \"se, sw\", alsoResize: resizeAlso });\n\t\t\t\t\t} catch (ignore) { }\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (o.closeOnEscape === true) {\n\t\t\t\t$(mw).keydown(function (e) {\n\t\t\t\t\tif (e.which === 27) {\n\t\t\t\t\t\tvar cone = $(themodalSelector).data(\"onClose\") || o.onClose;\n\t\t\t\t\t\tjgrid.hideModal(themodalSelector, { gb: o.gbox, jqm: o.jqModal, onClose: cone, removemodal: o.removemodal || false, formprop: !o.recreateForm || false, form: o.form || \"\" });\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tviewModal: function (selector, o) {\n\t\t\to = $.extend(true, {\n\t\t\t\t//toTop: false,\n\t\t\t\toverlay: 30,\n\t\t\t\tmodal: false,\n\t\t\t\toverlayClass: getGuiStyles.call(this, \"overlay\"), // \"ui-widget-overlay\"\n\t\t\t\tonShow: jgrid.showModal,\n\t\t\t\tonHide: jgrid.closeModal,\n\t\t\t\tgbox: \"\",\n\t\t\t\tjqm: true,\n\t\t\t\tjqM: true\n\t\t\t}, jgrid.jqModal || {}, o || {});\n\t\t\tif ($.fn.jqm && o.jqm === true) {\n\t\t\t\tif (o.jqM) {\n\t\t\t\t\t$(selector).attr(\"aria-hidden\", \"false\").jqm(o).jqmShow();\n\t\t\t\t} else {\n\t\t\t\t\t$(selector).attr(\"aria-hidden\", \"false\").jqmShow();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (o.gbox !== \"\") {\n\t\t\t\t\t$(\">.jqgrid-overlay\", o.gbox).first().show();\n\t\t\t\t\t$(selector).data(\"gbox\", o.gbox);\n\t\t\t\t}\n\t\t\t\t$(selector).show().attr(\"aria-hidden\", \"false\");\n\t\t\t\ttry { $(\":input:visible\", selector)[0].focus(); } catch (ignore) { }\n\t\t\t}\n\t\t},\n\t\tinfo_dialog: function (caption, content, closeButtonText, modalopt) {\n\t\t\tvar $t = this, p = $t.p,\n\t\t\t\tmopt = $.extend(true,\n\t\t\t\t\t{\n\t\t\t\t\t\twidth: 290,\n\t\t\t\t\t\theight: \"auto\",\n\t\t\t\t\t\tdataheight: \"auto\",\n\t\t\t\t\t\tdrag: true,\n\t\t\t\t\t\tresize: false,\n\t\t\t\t\t\tleft: 250,\n\t\t\t\t\t\ttop: 170,\n\t\t\t\t\t\tzIndex: 1000,\n\t\t\t\t\t\tjqModal: true,\n\t\t\t\t\t\tmodal: false,\n\t\t\t\t\t\tcloseOnEscape: true,\n\t\t\t\t\t\talign: \"center\",\n\t\t\t\t\t\tbuttonalign: \"center\",\n\t\t\t\t\t\tbuttons: []\n\t\t\t\t\t\t// {text:\"textbutt\", id:\"buttid\", onClick : function(){...}}\n\t\t\t\t\t\t// if the id is not provided we set it like info_button_+ the index in the array - i.e info_button_0,info_button_1...\n\t\t\t\t\t},\n\t\t\t\t\tjgrid.jqModal || {},\n\t\t\t\t\tp != null ? p.jqModal || {} : {},\n\t\t\t\t\t{ caption: \"<b>\" + caption + \"</b>\" },\n\t\t\t\t\tmodalopt || {}),\n\t\t\t\tjm = mopt.jqModal;\n\n\t\t\tif ($.fn.jqm && !jm) { jm = false; }\n\t\t\t// in case there is no jqModal\n\t\t\tvar buttstr = \"\", i, hoverClasses = getGuiStyles.call($t, \"states.hover\");\n\t\t\tif (mopt.buttons.length > 0) {\n\t\t\t\tfor (i = 0; i < mopt.buttons.length; i++) {\n\t\t\t\t\tif (mopt.buttons[i].id === undefined) { mopt.buttons[i].id = \"info_button_\" + i; }\n\t\t\t\t\tbuttstr += jgrid.builderFmButon.call($t, mopt.buttons[i].id, mopt.buttons[i].text);\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar dh = isNaN(mopt.dataheight) ? mopt.dataheight : mopt.dataheight + \"px\",\n\t\t\t\tcn = \"text-align:\" + mopt.align + \";\",\n\t\t\t\t$dlg = $(\"#info_dialog\"),\n\t\t\t\tcnt = \"<div id='info_id'>\";\n\t\t\tcnt += \"<div id='infocnt' style='margin:0px;padding-bottom:1em;width:100%;overflow:auto;position:relative;height:\" + dh + \";\" + cn + \"'>\" + content + \"</div>\";\n\t\t\tif (closeButtonText || buttstr !== \"\") {\n\t\t\t\tcnt += \"<hr class='\" + getGuiStyles.call($t, \"dialog.hr\") + \"' style='margin:1px'/><div style='text-align:\" + mopt.buttonalign +\n\t\t\t\t\t\";padding:.8em 0 .5em 0;background-image:none;border-width: 1px 0 0 0;'>\" +\n\t\t\t\t\t(closeButtonText ? jgrid.builderFmButon.call($t, \"closedialog\", closeButtonText) : \"\") + buttstr + \"</div>\";\n\t\t\t}\n\t\t\tcnt += \"</div>\";\n\n\t\t\ttry {\n\t\t\t\tif ($dlg.attr(\"aria-hidden\") === \"false\") {\n\t\t\t\t\tjgrid.hideModal(\"#info_dialog\", { jqm: jm });\n\t\t\t\t}\n\t\t\t\t$dlg.remove();\n\t\t\t} catch (ignore) { }\n\t\t\tjgrid.createModal.call($t,\n\t\t\t\t{\n\t\t\t\t\tthemodal: \"info_dialog\",\n\t\t\t\t\tmodalhead: \"info_head\",\n\t\t\t\t\tmodalcontent: \"info_content\",\n\t\t\t\t\tresizeAlso: \"infocnt\"\n\t\t\t\t},\n\t\t\t\tcnt,\n\t\t\t\tmopt,\n\t\t\t\t\"\", \"\", true);\n\t\t\t// attach onclick after inserting into the dom\n\t\t\t$dlg = $(\"#info_dialog\");\n\t\t\tif (buttstr) {\n\t\t\t\t$.each(mopt.buttons, function () {\n\t\t\t\t\t$(\"#\" + jgrid.jqID(this.id), \"#info_id\")\n\t\t\t\t\t\t.on(\"click\",\n\t\t\t\t\t\t\t{ click: this.onClick },\n\t\t\t\t\t\t\tfunction (e) {\n\t\t\t\t\t\t\t\tif ($.isFunction(e.data.click)) {\n\t\t\t\t\t\t\t\t\te.data.click.call($t, e, $dlg);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\t$(\"#closedialog\", \"#info_id\").click(function () {\n\t\t\t\tjgrid.hideModal(\"#info_dialog\", {\n\t\t\t\t\tjqm: jm,\n\t\t\t\t\tonClose: $dlg.data(\"onClose\") || mopt.onClose,\n\t\t\t\t\tgb: $dlg.data(\"gbox\") || mopt.gbox\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t});\n\t\t\t$(\".fm-button\", \"#info_dialog\").hover(\n\t\t\t\tfunction () { $(this).addClass(hoverClasses); },\n\t\t\t\tfunction () { $(this).removeClass(hoverClasses); }\n\t\t\t);\n\t\t\tif ($.isFunction(mopt.beforeOpen)) { mopt.beforeOpen(); }\n\t\t\tjgrid.viewModal.call($t, \"#info_dialog\", {\n\t\t\t\tonHide: function (h) {\n\t\t\t\t\th.w.hide().remove();\n\t\t\t\t\tif (h.o) { h.o.remove(); }\n\t\t\t\t},\n\t\t\t\tmodal: mopt.modal,\n\t\t\t\tjqm: jm\n\t\t\t});\n\t\t\tif ($.isFunction(mopt.afterOpen)) { mopt.afterOpen(); }\n\t\t\ttry { $dlg.focus(); } catch (ignore) { }\n\t\t},\n\t\tbindEv: function (el, opt) {\n\t\t\tvar $t = this;\n\t\t\tif ($.isFunction(opt.dataInit)) {\n\t\t\t\topt.dataInit.call($t, el, opt);\n\t\t\t}\n\t\t\tif (opt.dataEvents) {\n\t\t\t\t$.each(opt.dataEvents, function () {\n\t\t\t\t\tif (this.data !== undefined) {\n\t\t\t\t\t\t$(el).on(this.type, typeof this.data === \"object\" && this.data !== null ? $.extend(true, {}, opt, this.data) : this.data, this.fn);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(el).on(this.type, opt, this.fn);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t// Form Functions\n\t\tcreateEl: function (eltype, options, vl, autowidth, ajaxso) {\n\t\t\tvar elem = \"\", $t = this, p = $t.p, infoDialog = jgrid.info_dialog,\n\t\t\t\tgetRes = function (path) { return getGridRes.call($($t), path); },\n\t\t\t\terrcap = getRes(\"errors.errcap\"), edit = getRes(\"edit\"), editMsg = edit.msg, bClose = edit.bClose;\n\t\t\tfunction setAttributes(elm, atr, exl) {\n\t\t\t\tvar exclude = [\n\t\t\t\t\t\"dataInit\",\n\t\t\t\t\t\"dataEvents\",\n\t\t\t\t\t\"dataUrl\",\n\t\t\t\t\t\"buildSelect\",\n\t\t\t\t\t\"sopt\",\n\t\t\t\t\t\"searchhidden\",\n\t\t\t\t\t\"defaultValue\",\n\t\t\t\t\t\"attr\",\n\t\t\t\t\t\"custom_element\",\n\t\t\t\t\t\"custom_value\",\n\t\t\t\t\t\"generateValue\",\n\t\t\t\t\t\"postData\",\n\t\t\t\t\t\"selectFilled\",\n\t\t\t\t\t\"rowId\",\n\t\t\t\t\t\"column\",\n\t\t\t\t\t\"mode\",\n\t\t\t\t\t\"cm\",\n\t\t\t\t\t\"iCol\"\n\t\t\t\t];\n\t\t\t\tif (exl !== undefined && $.isArray(exl)) {\n\t\t\t\t\t$.merge(exclude, exl);\n\t\t\t\t}\n\t\t\t\t$.each(atr, function (attrName, value) {\n\t\t\t\t\tif ($.inArray(attrName, exclude) === -1) {\n\t\t\t\t\t\t$(elm).attr(attrName, value);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (!atr.hasOwnProperty(\"id\")) {\n\t\t\t\t\t$(elm).attr(\"id\", jgrid.randId());\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (options == null) { return \"\"; }\n\n\t\t\tswitch (eltype) {\n\t\t\t\tcase \"textarea\":\n\t\t\t\t\telem = document.createElement(\"textarea\");\n\t\t\t\t\tif (autowidth) {\n\t\t\t\t\t\tif (!options.cols) { $(elem).css({ width: \"100%\", \"box-sizing\": \"border-box\" }); }\n\t\t\t\t\t} else if (!options.cols) { options.cols = 19; }\n\t\t\t\t\tif (!options.rows) { options.rows = 2; }\n\t\t\t\t\tif (vl === \"&nbsp;\" || vl === \"&#160;\" || (vl.length === 1 && vl.charCodeAt(0) === 160)) { vl = \"\"; }\n\t\t\t\t\telem.value = vl;\n\t\t\t\t\tsetAttributes(elem, options);\n\t\t\t\t\t$(elem).attr({ role: \"textbox\" }); // , \"multiline\": \"true\"\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"checkbox\": //what code for simple checkbox\n\t\t\t\t\telem = document.createElement(\"input\");\n\t\t\t\t\telem.type = \"checkbox\";\n\t\t\t\t\tif (vl === \"\" || vl == null) {\n\t\t\t\t\t\tvl = !options.hasOwnProperty(\"defaultValue\") ?\n\t\t\t\t\t\t\t\"false\" :\n\t\t\t\t\t\t\t$.isFunction(options.defaultValue) ?\n\t\t\t\t\t\t\t\toptions.defaultValue.call($t, {\n\t\t\t\t\t\t\t\t\tcellValue: vl,\n\t\t\t\t\t\t\t\t\toptions: options\n\t\t\t\t\t\t\t\t}) :\n\t\t\t\t\t\t\t\toptions.defaultValue;\n\t\t\t\t\t}\n\t\t\t\t\tif (!options.value) {\n\t\t\t\t\t\tvar vl1 = String(vl).toLowerCase();\n\t\t\t\t\t\tif (vl1.search(/(false|f|0|no|n|off|undefined)/i) < 0 && vl1 !== \"\") {\n\t\t\t\t\t\t\telem.checked = true;\n\t\t\t\t\t\t\telem.defaultChecked = true;\n\t\t\t\t\t\t\telem.value = vl;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\telem.value = \"on\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$(elem).data(\"offval\", \"off\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar cbval = options.value.split(\":\");\n\t\t\t\t\t\tif (vl === cbval[0]) {\n\t\t\t\t\t\t\telem.checked = true;\n\t\t\t\t\t\t\telem.defaultChecked = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telem.value = vl;\n\t\t\t\t\t\t$(elem).data(\"offval\", cbval[1]);\n\t\t\t\t\t}\n\t\t\t\t\tsetAttributes(elem, options, [\"value\"]);\n\t\t\t\t\t$(elem).attr({ role: \"checkbox\", \"aria-checked\": elem.checked ? \"true\" : \"false\" });\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"select\":\n\t\t\t\t\telem = document.createElement(\"select\");\n\t\t\t\t\t//var msl, ovm = [], isSelected, rowid = null;\n\t\t\t\t\tvar msl, ovm = [], rowid = null;\n\n\t\t\t\t\tif (options.multiple === true || options.multiple === \"multiple\") {\n\t\t\t\t\t\tmsl = true;\n\t\t\t\t\t\telem.multiple = \"multiple\";\n\t\t\t\t\t\t$(elem).attr(\"aria-multiselectable\", \"true\");\n\t\t\t\t\t\tovm = vl.split(\",\");\n\t\t\t\t\t\tovm = $.map(ovm, function (n) { return $.trim(n); });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmsl = false;\n\t\t\t\t\t\tovm[0] = $.trim(vl);\n\t\t\t\t\t}\n\t\t\t\t\tif (options.size === undefined) {\n\t\t\t\t\t\toptions.size = msl ? 3 : 1;\n\t\t\t\t\t}\n\t\t\t\t\ttry {\n\t\t\t\t\t\trowid = options.rowId;\n\t\t\t\t\t} catch (ignore) { }\n\n\t\t\t\t\tif (p && p.idPrefix) {\n\t\t\t\t\t\trowid = jgrid.stripPref(p.idPrefix, rowid);\n\t\t\t\t\t}\n\t\t\t\t\tif (options.dataUrl === undefined && options.generateValue && p.indexByColumnData[options.cm.name] != null) {\n\t\t\t\t\t\toptions.value = $t.generateValueFromColumnIndex(options.cm.name, options.separator, options.delimiter);\n\t\t\t\t\t}\n\t\t\t\t\tif (options.dataUrl !== undefined) {\n\t\t\t\t\t\tvar postData = options.postData || ajaxso.postData,\n\t\t\t\t\t\t\tajaxContext = {\n\t\t\t\t\t\t\t\telem: elem,\n\t\t\t\t\t\t\t\toptions: options,\n\t\t\t\t\t\t\t\tcm: options.cm,\n\t\t\t\t\t\t\t\tmode: options.mode,\n\t\t\t\t\t\t\t\trowid: rowid,\n\t\t\t\t\t\t\t\tiCol: options.iCol,\n\t\t\t\t\t\t\t\tovm: ovm\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\tsetAttributes(elem, options, postData ? [\"postData\"] : undefined);\n\t\t\t\t\t\t$.ajax($.extend({\n\t\t\t\t\t\t\turl: $.isFunction(options.dataUrl) ? options.dataUrl.call($t, rowid, vl, String(options.name), ajaxContext) : options.dataUrl,\n\t\t\t\t\t\t\ttype: \"GET\",\n\t\t\t\t\t\t\tdataType: \"html\",\n\t\t\t\t\t\t\tdata: $.isFunction(postData) ? postData.call($t, rowid, vl, String(options.name)) : postData,\n\t\t\t\t\t\t\tcontext: ajaxContext,\n\t\t\t\t\t\t\tsuccess: function (data, textStatus, jqXHR) {\n\t\t\t\t\t\t\t\tvar ovm1 = this.ovm, elem1 = this.elem, cm1 = this.cm, iCol1 = this.iCol,\n\t\t\t\t\t\t\t\t\toptions1 = $.extend({}, this.options), rowid1 = this.rowid, mode1 = this.mode,\n\t\t\t\t\t\t\t\t\ta = $.isFunction(options1.buildSelect) ? options1.buildSelect.call($t, data, jqXHR, cm1, iCol1) : data;\n\t\t\t\t\t\t\t\tif (typeof a === \"string\") {\n\t\t\t\t\t\t\t\t\ta = $($.trim(a)).html();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (a) {\n\t\t\t\t\t\t\t\t\t//$(elem1).empty(); // ???\n\t\t\t\t\t\t\t\t\t$(elem1).append(a);\n\t\t\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\t\t\tvar isSelected1; // undefined\n\t\t\t\t\t\t\t\t\t\t$(\"option\", elem1).each(function (iOpt) {\n\t\t\t\t\t\t\t\t\t\t\t//if(i===0) { this.selected = false; }\n\t\t\t\t\t\t\t\t\t\t\t// fix IE8/IE7 problem with selecting of the first item on multiple=true\n\t\t\t\t\t\t\t\t\t\t\tif (iOpt === 0 && elem1.multiple) { this.selected = false; }\n\t\t\t\t\t\t\t\t\t\t\tif ($.inArray($.trim($(this).val()), ovm1) > -1) {\n\t\t\t\t\t\t\t\t\t\t\t\t// this.setAttribute(\"selected\", \"selected\");\n\t\t\t\t\t\t\t\t\t\t\t\tthis.selected = true;\n\t\t\t\t\t\t\t\t\t\t\t\tisSelected1 = true;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tif (!isSelected1) {\n\t\t\t\t\t\t\t\t\t\t\t$(\"option\", elem1).each(function () {\n\t\t\t\t\t\t\t\t\t\t\t\tif ($.inArray($.trim($(this).text()), ovm1) > -1) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t// this.setAttribute(\"selected\", \"selected\");\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.selected = true;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//$(elem1).change();\n\t\t\t\t\t\t\t\t\t\tjgrid.fullBoolFeedback.call($t, options1.selectFilled, \"jqGridSelectFilled\", {\n\t\t\t\t\t\t\t\t\t\t\telem: elem1,\n\t\t\t\t\t\t\t\t\t\t\toptions: options1,\n\t\t\t\t\t\t\t\t\t\t\tcm: cm1,\n\t\t\t\t\t\t\t\t\t\t\trowid: rowid1,\n\t\t\t\t\t\t\t\t\t\t\tmode: mode1,\n\t\t\t\t\t\t\t\t\t\t\tcmName: cm1 != null ? cm1.name : options1.name,\n\t\t\t\t\t\t\t\t\t\t\tiCol: iCol1\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}, 0);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, ajaxso || {}));\n\t\t\t\t\t} else if (options.value) {\n\t\t\t\t\t\tjgrid.fillSelectOptions(\n\t\t\t\t\t\t\telem,\n\t\t\t\t\t\t\toptions.value,\n\t\t\t\t\t\t\toptions.separator === undefined ? \":\" : options.separator,\n\t\t\t\t\t\t\toptions.delimiter === undefined ? \";\" : options.delimiter,\n\t\t\t\t\t\t\tmsl,\n\t\t\t\t\t\t\tvl\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tsetAttributes(elem, options, [\"value\"]);\n\t\t\t\t\t\tjgrid.fullBoolFeedback.call($t, options.selectFilled, \"jqGridSelectFilled\", {\n\t\t\t\t\t\t\telem: elem,\n\t\t\t\t\t\t\toptions: options,\n\t\t\t\t\t\t\tcm: options.cm,\n\t\t\t\t\t\t\trowid: rowid,\n\t\t\t\t\t\t\tmode: options.mode,\n\t\t\t\t\t\t\tcmName: options.cm != null ? options.cm.name : options.name,\n\t\t\t\t\t\t\tiCol: options.iCol\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"text\":\n\t\t\t\tcase \"password\":\n\t\t\t\tcase \"button\":\n\t\t\t\t\tvar role;\n\t\t\t\t\tif (eltype === \"button\") {\n\t\t\t\t\t\trole = \"button\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\trole = \"textbox\";\n\t\t\t\t\t}\n\t\t\t\t\telem = document.createElement(\"input\");\n\t\t\t\t\telem.type = eltype;\n\t\t\t\t\tsetAttributes(elem, options);\n\t\t\t\t\telem.value = vl;\n\t\t\t\t\tif (eltype !== \"button\") {\n\t\t\t\t\t\tif (autowidth) {\n\t\t\t\t\t\t\tif (!options.size) { $(elem).css({ width: \"100%\", \"box-sizing\": \"border-box\" }); }\n\t\t\t\t\t\t} else if (!options.size) {\n\t\t\t\t\t\t\toptions.size = 20;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t$(elem).attr(\"role\", role);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"image\":\n\t\t\t\tcase \"file\":\n\t\t\t\t\telem = document.createElement(\"input\");\n\t\t\t\t\telem.type = eltype;\n\t\t\t\t\tsetAttributes(elem, options);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"custom\":\n\t\t\t\t\telem = document.createElement(\"span\");\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif ($.isFunction(options.custom_element)) {\n\t\t\t\t\t\t\tvar celm = options.custom_element.call($t, vl, options);\n\t\t\t\t\t\t\tif (celm instanceof jQuery || jgrid.isHTMLElement(celm) || typeof celm === \"string\") {\n\t\t\t\t\t\t\t\tcelm = $(celm).addClass(\"customelement\").attr({ id: options.id, name: options.name });\n\t\t\t\t\t\t\t\t$(elem).empty().append(celm);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthrow \"editoptions.custom_element returns value of a wrong type\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthrow \"editoptions.custom_element is not a function\";\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tif (e === \"e1\") {\n\t\t\t\t\t\t\tinfoDialog.call($t, errcap, \"function 'custom_element' \" + editMsg.nodefined, bClose);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (e === \"e2\") {\n\t\t\t\t\t\t\tinfoDialog.call($t, errcap, \"function 'custom_element' \" + editMsg.novalue, bClose);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tinfoDialog.call($t, errcap, typeof e === \"string\" ? e : e.message, bClose);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn elem;\n\t\t},\n\t\t// Date Validation Javascript\n\t\tcheckDate: function (format, date) {\n\t\t\tvar daysInFebruary = function (year) {\n\t\t\t\t\t// February has 29 days in any year evenly divisible by four,\n\t\t\t\t\t// EXCEPT for centurial years which are not also divisible by 400.\n\t\t\t\t\treturn (((year % 4 === 0) && (year % 100 !== 0 || (year % 400 === 0))) ? 29 : 28);\n\t\t\t\t},\n\t\t\t\ttsp = {},\n\t\t\t\tsep;\n\t\t\tformat = format.toLowerCase();\n\t\t\t//we search for /,-,. for the date separator\n\t\t\tif (format.indexOf(\"/\") !== -1) {\n\t\t\t\tsep = \"/\";\n\t\t\t} else if (format.indexOf(\"-\") !== -1) {\n\t\t\t\tsep = \"-\";\n\t\t\t} else if (format.indexOf(\".\") !== -1) {\n\t\t\t\tsep = \".\";\n\t\t\t} else {\n\t\t\t\tsep = \"/\";\n\t\t\t}\n\t\t\tformat = format.split(sep);\n\t\t\tdate = date.split(sep);\n\t\t\tif (date.length !== 3) { return false; }\n\t\t\tvar j = -1, yln, dln = -1, mln = -1, i, dv;\n\t\t\tfor (i = 0; i < format.length; i++) {\n\t\t\t\tdv = isNaN(date[i]) ? 0 : parseInt(date[i], 10);\n\t\t\t\ttsp[format[i]] = dv;\n\t\t\t\tyln = format[i];\n\t\t\t\tif (yln.indexOf(\"y\") !== -1) { j = i; }\n\t\t\t\tif (yln.indexOf(\"m\") !== -1) { mln = i; }\n\t\t\t\tif (yln.indexOf(\"d\") !== -1) { dln = i; }\n\t\t\t}\n\t\t\tif (format[j] === \"y\" || format[j] === \"yyyy\") {\n\t\t\t\tyln = 4;\n\t\t\t} else if (format[j] === \"yy\") {\n\t\t\t\tyln = 2;\n\t\t\t} else {\n\t\t\t\tyln = -1;\n\t\t\t}\n\t\t\tvar strDate, daysInMonth = [0, 31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\t\t\tif (j === -1) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tstrDate = tsp[format[j]].toString();\n\t\t\tif (yln === 2 && strDate.length === 1) { yln = 1; }\n\t\t\tif (strDate.length !== yln || (tsp[format[j]] === 0 && date[j] !== \"00\")) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (mln === -1) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tstrDate = tsp[format[mln]].toString();\n\t\t\tif (strDate.length < 1 || tsp[format[mln]] < 1 || tsp[format[mln]] > 12) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (dln === -1) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tstrDate = tsp[format[dln]].toString();\n\t\t\tif (strDate.length < 1 || tsp[format[dln]] < 1 || tsp[format[dln]] > 31 || (tsp[format[mln]] === 2 && tsp[format[dln]] > daysInFebruary(tsp[format[j]])) || tsp[format[dln]] > daysInMonth[tsp[format[mln]]]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tisEmpty: function (val) {\n\t\t\tif (val.match(/^\\s+$/) || val === \"\") {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tcheckTime: function (time) {\n\t\t\t// checks only hh:ss (and optional am/pm)\n\t\t\tvar re = /^(\\d{1,2}):(\\d{2})([apAP][Mm])?$/, regs;\n\t\t\tif (!jgrid.isEmpty(time)) {\n\t\t\t\tregs = time.match(re);\n\t\t\t\tif (regs) {\n\t\t\t\t\tif (regs[3]) {\n\t\t\t\t\t\tif (regs[1] < 1 || regs[1] > 12) { return false; }\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (regs[1] > 23) { return false; }\n\t\t\t\t\t}\n\t\t\t\t\tif (regs[2] > 59) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tcheckValues: function (val, iCol, customobject, nam, options) {\n\t\t\tvar edtrul, nm, dft, g = this, p = g.p, colModel = p.colModel, cm, isEmpty = jgrid.isEmpty,\n\t\t\t\teditMsg = getGridRes.call($(g), \"edit.msg\"), ret,\n\t\t\t\tgetPropertyValue = function (propertyName) {\n\t\t\t\t\tvar propValue = edtrul[propertyName];\n\t\t\t\t\treturn $.isFunction(propValue) ? propValue.call(g, options) : propValue;\n\t\t\t\t},\n\t\t\t\tdateMasks = getGridRes.call($(g), \"formatter.date.masks\");\n\t\t\tif (customobject === undefined) {\n\t\t\t\tif (typeof iCol === \"string\") {\n\t\t\t\t\tiCol = p.iColByName[iCol];\n\t\t\t\t}\n\t\t\t\tif (iCol === undefined || iCol < 0) {\n\t\t\t\t\treturn [true, \"\", \"\"];\n\t\t\t\t}\n\t\t\t\tcm = colModel[iCol];\n\t\t\t\tedtrul = cm.editrules;\n\t\t\t\tif (cm.formoptions != null) { nm = cm.formoptions.label; }\n\t\t\t} else {\n\t\t\t\tedtrul = customobject;\n\t\t\t\tnm = nam === undefined ? \"_\" : nam;\n\t\t\t\tcm = colModel[iCol];\n\t\t\t}\n\t\t\tif (edtrul) {\n\t\t\t\tif (!nm) { nm = p.colNames != null ? p.colNames[iCol] : cm.label; }\n\t\t\t\tif (getPropertyValue(\"required\") === true) {\n\t\t\t\t\tif (isEmpty(val)) { return [false, nm + \": \" + editMsg.required, \"\"]; }\n\t\t\t\t}\n\t\t\t\t// force required\n\t\t\t\tvar rqfield = getPropertyValue(\"required\") === false ? false : true;\n\t\t\t\tif (getPropertyValue(\"number\") === true) {\n\t\t\t\t\tif (!(rqfield === false && isEmpty(val))) {\n\t\t\t\t\t\tif (isNaN(val)) { return [false, nm + \": \" + editMsg.number, \"\"]; }\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (edtrul.minValue !== undefined && !isNaN(edtrul.minValue)) {\n\t\t\t\t\tif (parseFloat(val) < parseFloat(edtrul.minValue)) { return [false, nm + \": \" + editMsg.minValue + \" \" + edtrul.minValue, \"\"]; }\n\t\t\t\t}\n\t\t\t\tif (edtrul.maxValue !== undefined && !isNaN(edtrul.maxValue)) {\n\t\t\t\t\tif (parseFloat(val) > parseFloat(edtrul.maxValue)) { return [false, nm + \": \" + editMsg.maxValue + \" \" + edtrul.maxValue, \"\"]; }\n\t\t\t\t}\n\t\t\t\tvar filter;\n\t\t\t\tif (getPropertyValue(\"email\") === true) {\n\t\t\t\t\tif (!(rqfield === false && isEmpty(val))) {\n\t\t\t\t\t\t// taken from $ Validate plugin\n\t\t\t\t\t\tfilter = /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?$/i;\n\t\t\t\t\t\tif (!filter.test(val)) { return [false, nm + \": \" + editMsg.email, \"\"]; }\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (getPropertyValue(\"integer\") === true) {\n\t\t\t\t\tif (!(rqfield === false && isEmpty(val))) {\n\t\t\t\t\t\tif (isNaN(val)) { return [false, nm + \": \" + editMsg.integer, \"\"]; }\n\t\t\t\t\t\tif ((val % 1 !== 0) || (val.indexOf(\".\") !== -1)) { return [false, nm + \": \" + editMsg.integer, \"\"]; }\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (getPropertyValue(\"date\") === true) {\n\t\t\t\t\tif (!(rqfield === false && isEmpty(val))) {\n\t\t\t\t\t\tif (cm.formatoptions && cm.formatoptions.newformat) {\n\t\t\t\t\t\t\tdft = cm.formatoptions.newformat;\n\t\t\t\t\t\t\tif (dateMasks.hasOwnProperty(dft)) {\n\t\t\t\t\t\t\t\tdft = dateMasks[dft];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdft = colModel[iCol].datefmt || \"Y-m-d\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!jgrid.checkDate(dft, val)) { return [false, nm + \": \" + editMsg.date + \" - \" + dft, \"\"]; }\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (getPropertyValue(\"time\") === true) {\n\t\t\t\t\tif (!(rqfield === false && isEmpty(val))) {\n\t\t\t\t\t\tif (!jgrid.checkTime(val)) { return [false, nm + \": \" + editMsg.date + \" - hh:mm (am/pm)\", \"\"]; }\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (getPropertyValue(\"url\") === true) {\n\t\t\t\t\tif (!(rqfield === false && isEmpty(val))) {\n\t\t\t\t\t\tfilter = /^(((https?)|(ftp)):\\/\\/([\\-\\w]+\\.)+\\w{2,3}(\\/[%\\-\\w]+(\\.\\w{2,})?)*(([\\w\\-\\.\\?\\\\\\/+@&#;`~=%!]*)(\\.\\w{2,})?)*\\/?)/i;\n\t\t\t\t\t\tif (!filter.test(val)) { return [false, nm + \": \" + editMsg.url, \"\"]; }\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (edtrul.custom === true) {\n\t\t\t\t\tif (!(rqfield === false && isEmpty(val))) {\n\t\t\t\t\t\tif ($.isFunction(edtrul.custom_func)) {\n\t\t\t\t\t\t\tret = edtrul.custom_func.call(g, val, nm, iCol);\n\t\t\t\t\t\t\treturn $.isArray(ret) ? ret : [false, editMsg.customarray, \"\"];\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn [false, editMsg.customfcheck, \"\"];\n\t\t\t\t\t}\n\t\t\t\t} else if ($.isFunction(edtrul.custom)) {\n\t\t\t\t\tif (!(rqfield === false && isEmpty(val))) {\n\t\t\t\t\t\tret = edtrul.custom.call(g, options);\n\t\t\t\t\t\treturn $.isArray(ret) ? ret : [false, editMsg.customarray, \"\"];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn [true, \"\", \"\"];\n\t\t}\n\t});\n\t// end module grid.common\n\n\t/**\n\t * jqGrid extension for custom methods\n\t * Tony Tomov tony@trirand.com, http://trirand.com/blog/\n\t *\n\t * Wildraid wildraid@mail.ru\n\t * Oleg Kiriljuk oleg.kiriljuk@ok-soft-gmbh.com\n\t * Dual licensed under the MIT and GPL licenses:\n\t * http://www.opensource.org/licenses/mit-license.php\n\t * http://www.gnu.org/licenses/gpl-2.0.html\n\t **/\n\t// begin module grid.custom\n\tjgrid.extend({\n\t\tgetColProp: function (colname) {\n\t\t\tvar ret = {}, t = this[0], iCol;\n\t\t\tif (t != null && t.grid) {\n\t\t\t\tiCol = t.p.iColByName[colname];\n\t\t\t\tif (iCol !== undefined) {\n\t\t\t\t\treturn t.p.colModel[iCol];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn ret;\n\t\t},\n\t\tsetColProp: function (colname, obj) {\n\t\t\t//do not set width will not work\n\t\t\treturn this.each(function () {\n\t\t\t\tvar self = this, p = self.p, iCol;\n\t\t\t\tif (self.grid && p != null && obj) {\n\t\t\t\t\tiCol = p.iColByName[colname];\n\t\t\t\t\tif (iCol !== undefined) {\n\t\t\t\t\t\t$.extend(true, p.colModel[iCol], obj);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tsortGrid: function (colname, reload, sor) {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar self = this, grid = self.grid, p = self.p, colModel = p.colModel, l = colModel.length, cm, i, sobj = false, sort;\n\t\t\t\tif (!grid) { return; }\n\t\t\t\tif (!colname) { colname = p.sortname; }\n\t\t\t\tif (typeof reload !== \"boolean\") { reload = false; }\n\t\t\t\tfor (i = 0; i < l; i++) {\n\t\t\t\t\tcm = colModel[i];\n\t\t\t\t\tif (cm.index === colname || cm.name === colname) {\n\t\t\t\t\t\tif (p.frozenColumns === true && cm.frozen === true) {\n\t\t\t\t\t\t\tsobj = grid.fhDiv.find(\"#\" + jqID(p.id + \"_\" + colname));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!sobj || sobj.length === 0) {\n\t\t\t\t\t\t\tsobj = grid.headers[i].el;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsort = cm.sortable;\n\t\t\t\t\t\tif (typeof sort !== \"boolean\" || sort) {\n\t\t\t\t\t\t\tself.sortData(cm.index || cm.name, i, reload, sor, sobj);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tclearBeforeUnload: function () {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar self = this, p = self.p, grid = self.grid, propOrMethod, clearArray = jgrid.clearArray,\n\t\t\t\t\thasOwnProperty = Object.prototype.hasOwnProperty;\n\t\t\t\tif ($.isFunction(grid.emptyRows)) {\n\t\t\t\t\tgrid.emptyRows.call(self, true, true); // this work quick enough and reduce the size of memory leaks if we have someone\n\t\t\t\t}\n\n\t\t\t\t$(document).off(\"mousemove.jqGrid mouseup.jqGrid\" + p.id);\n\t\t\t\t$(self).off();\n\n\t\t\t\t/*grid.dragEnd = null;\n\t\t\t\tgrid.dragMove = null;\n\t\t\t\tgrid.dragStart = null;\n\t\t\t\tgrid.emptyRows = null;\n\t\t\t\tgrid.populate = null;\n\t\t\t\tgrid.populateVisible = null;\n\t\t\t\tgrid.scrollGrid = null;\n\t\t\t\tgrid.selectionPreserver = null;\n\n\t\t\t\tgrid.bDiv = null;\n\t\t\t\tgrid.fbRows = null;\n\t\t\t\tgrid.cDiv = null;\n\t\t\t\tgrid.hDiv = null;\n\t\t\t\tgrid.cols = null;*/\n\t\t\t\tvar i, l = grid.headers.length;\n\t\t\t\tfor (i = 0; i < l; i++) {\n\t\t\t\t\tgrid.headers[i].el = null;\n\t\t\t\t}\n\t\t\t\tfor (propOrMethod in grid) {\n\t\t\t\t\tif (grid.hasOwnProperty(propOrMethod)) {\n\t\t\t\t\t\tgrid.propOrMethod = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t/*self.formatCol = null;\n\t\t\t\tself.sortData = null;\n\t\t\t\tself.updatepager = null;\n\t\t\t\tself.refreshIndex = null;\n\t\t\t\tself.setHeadCheckBox = null;\n\t\t\t\tself.constructTr = null;\n\t\t\t\tself.formatter = null;\n\t\t\t\tself.addXmlData = null;\n\t\t\t\tself.addJSONData = null;\n\t\t\t\tself.grid = null;*/\n\n\t\t\t\tvar propOrMethods = [\"formatCol\", \"sortData\", \"updatepager\", \"refreshIndex\", \"setHeadCheckBox\", \"constructTr\", \"clearToolbar\", \"fixScrollOffsetAndhBoxPadding\", \"rebuildRowIndexes\", \"modalAlert\", \"toggleToolbar\", \"triggerToolbar\", \"formatter\", \"addXmlData\", \"addJSONData\", \"ftoolbar\", \"_inlinenav\", \"nav\", \"grid\", \"p\"];\n\t\t\t\tl = propOrMethods.length;\n\t\t\t\tfor (i = 0; i < l; i++) {\n\t\t\t\t\tif (hasOwnProperty.call(self, propOrMethods[i])) {\n\t\t\t\t\t\tself[propOrMethods[i]] = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tself._index = {};\n\t\t\t\tclearArray(p.data);\n\t\t\t\tclearArray(p.lastSelectedData);\n\t\t\t\tclearArray(p.selarrrow);\n\t\t\t\tclearArray(p.savedRow);\n\t\t\t\tp.editingInfo = {};\n\t\t\t});\n\t\t},\n\t\tGridDestroy: function () {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar self = this, p = self.p;\n\t\t\t\tif (self.grid && p != null) {\n\t\t\t\t\tif (p.pager) { // if not part of grid\n\t\t\t\t\t\t$(p.pager).remove();\n\t\t\t\t\t}\n\t\t\t\t\ttry {\n\t\t\t\t\t\t$(\"#alertmod_\" + jqID(p.id)).remove();\n\t\t\t\t\t\t$(self).jqGrid(\"clearBeforeUnload\");\n\t\t\t\t\t\t$(p.gBox).remove();\n\t\t\t\t\t} catch (ignore) { }\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tGridUnload: function () {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar self = this, $self = $(self), p = self.p, $j = $.fn.jqGrid;\n\t\t\t\tif (!self.grid) { return; }\n\t\t\t\t$self.removeClass($j.getGuiStyles.call($self, \"grid\", \"ui-jqgrid-btable\"));\n\t\t\t\t// The multiple removeAttr can be replace to one after dropping of support of old jQuery\n\t\t\t\tif (p.pager) {\n\t\t\t\t\tif (p.pager.substr(1, $.jgrid.uidPref.length) === $.jgrid.uidPref) {\n\t\t\t\t\t\t$(p.pager).remove();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(p.pager).empty()\n\t\t\t\t\t\t\t.removeClass($j.getGuiStyles.call($self, \"pager.pager\", \"ui-jqgrid-pager \" +\n\t\t\t\t\t\t\t\t$j.getGuiStyles.call($self, \"bottom\")))\n\t\t\t\t\t\t\t.removeAttr(\"style\")\n\t\t\t\t\t\t\t.removeAttr(\"dir\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t$self.jqGrid(\"clearBeforeUnload\");\n\t\t\t\t$self.removeAttr(\"style\")\n\t\t\t\t\t.removeAttr(\"tabindex\")\n\t\t\t\t\t.removeAttr(\"role\")\n\t\t\t\t\t.removeAttr(\"aria-labelledby\")\n\t\t\t\t\t.removeAttr(\"style\");\n\t\t\t\t$self.empty(); // remove the first line\n\t\t\t\t$self.insertBefore(p.gBox).show();\n\t\t\t\t$(p.pager).insertBefore(p.gBox).show();\n\t\t\t\t$(p.gBox).remove();\n\t\t\t});\n\t\t},\n\t\tsetGridState: function (state) {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, p = $t.p, grid = $t.grid, cDiv = grid.cDiv, $uDiv = $(grid.uDiv), $ubDiv = $(grid.ubDiv);\n\t\t\t\tif (!grid || p == null) { return; }\n\t\t\t\tvar getMinimizeIcon = function (path) {\n\t\t\t\t\t\treturn base.getIconRes.call($t, \"gridMinimize.\" + path);\n\t\t\t\t\t},\n\t\t\t\t\tvisibleGridIcon = getMinimizeIcon(\"visible\"),\n\t\t\t\t\thiddenGridIcon = getMinimizeIcon(\"hidden\");\n\t\t\t\tif (state === \"hidden\") {\n\t\t\t\t\t$(\".ui-jqgrid-bdiv, .ui-jqgrid-hdiv\", p.gView).slideUp(\"fast\");\n\t\t\t\t\tif (p.pager) { $(p.pager).slideUp(\"fast\"); }\n\t\t\t\t\tif (p.toppager) { $(p.toppager).slideUp(\"fast\"); }\n\t\t\t\t\tif (p.toolbar[0] === true) {\n\t\t\t\t\t\tif (p.toolbar[1] === \"both\") {\n\t\t\t\t\t\t\t$ubDiv.slideUp(\"fast\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$uDiv.slideUp(\"fast\");\n\t\t\t\t\t}\n\t\t\t\t\tif (p.footerrow) { $(\".ui-jqgrid-sdiv\", p.gBox).slideUp(\"fast\"); }\n\t\t\t\t\t$(\".ui-jqgrid-titlebar-close span\", cDiv).removeClass(visibleGridIcon).addClass(hiddenGridIcon);\n\t\t\t\t\tp.gridstate = \"hidden\";\n\t\t\t\t} else if (state === \"visible\") {\n\t\t\t\t\t$(\".ui-jqgrid-hdiv, .ui-jqgrid-bdiv\", p.gView).slideDown(\"fast\");\n\t\t\t\t\tif (p.pager) { $(p.pager).slideDown(\"fast\"); }\n\t\t\t\t\tif (p.toppager) { $(p.toppager).slideDown(\"fast\"); }\n\t\t\t\t\tif (p.toolbar[0] === true) {\n\t\t\t\t\t\tif (p.toolbar[1] === \"both\") {\n\t\t\t\t\t\t\t$ubDiv.slideDown(\"fast\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$uDiv.slideDown(\"fast\");\n\t\t\t\t\t}\n\t\t\t\t\tif (p.footerrow) { $(\".ui-jqgrid-sdiv\", p.gBox).slideDown(\"fast\"); }\n\t\t\t\t\t$(\".ui-jqgrid-titlebar-close span\", cDiv).removeClass(hiddenGridIcon).addClass(visibleGridIcon);\n\t\t\t\t\tp.gridstate = \"visible\";\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tfilterToolbar: function (oMuligrid) {\n\t\t\t// if one uses jQuery wrapper with multiple grids, then oMultiple specify the object with common options\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, grid = $t.grid, $self = $($t), p = $t.p, infoDialog = jgrid.info_dialog, htmlEncode = jgrid.htmlEncode;\n\t\t\t\tif (this.ftoolbar) { return; }\n\t\t\t\t// make new copy of the options and use it for ONE specific grid.\n\t\t\t\t// p.searching can contains grid specific options\n\t\t\t\t// we will don't modify the input options oMuligrid\n\t\t\t\tvar o = $.extend(true, {\n\t\t\t\t\t\tautosearch: true,\n\t\t\t\t\t\tautosearchDelay: 500,\n\t\t\t\t\t\tsearchOnEnter: true,\n\t\t\t\t\t\tbeforeSearch: null,\n\t\t\t\t\t\tafterSearch: null,\n\t\t\t\t\t\tbeforeClear: null,\n\t\t\t\t\t\tafterClear: null,\n\t\t\t\t\t\tsearchurl: \"\",\n\t\t\t\t\t\tsField: \"searchField\",\n\t\t\t\t\t\tsValue: \"searchString\",\n\t\t\t\t\t\tsOper: \"searchOper\",\n\t\t\t\t\t\tsFilter: p.prmNames.filters,\n\t\t\t\t\t\tstringResult: false,\n\t\t\t\t\t\tgroupOp: \"AND\",\n\t\t\t\t\t\tdefaultSearch: \"bw\",\n\t\t\t\t\t\tidMode: \"new\", // support \"old\", \"compatibility\", \"new\"\n\t\t\t\t\t\tsearchOperators: false,\n\t\t\t\t\t\tresetIcon: \"&times;\",\n\t\t\t\t\t\tapplyLabelClasses: true,\n\t\t\t\t\t\tloadFilterDefaults: true, // this options activates loading of default filters from grid's postData for Multipe Search only.\n\t\t\t\t\t\toperands: { \"eq\": \"==\", \"ne\": \"!\", \"lt\": \"<\", \"le\": \"<=\", \"gt\": \">\", \"ge\": \">=\", \"bw\": \"^\", \"bn\": \"!^\", \"in\": \"=\", \"ni\": \"!=\", \"ew\": \"|\", \"en\": \"!@\", \"cn\": \"~\", \"nc\": \"!~\", \"nu\": \"#\", \"nn\": \"!#\" }\n\t\t\t\t\t}, jgrid.search, p.searching || {}, oMuligrid || {}),\n\t\t\t\t\tcolModel = p.colModel,\n\t\t\t\t\tgetRes = function (path) {\n\t\t\t\t\t\treturn getGridRes.call($self, path);\n\t\t\t\t\t},\n\t\t\t\t\terrcap = getRes(\"errors.errcap\"),\n\t\t\t\t\tbClose = getRes(\"edit.bClose\"),\n\t\t\t\t\teditMsg = getRes(\"edit.msg\"),\n\t\t\t\t\thoverClasses = getGuiStyles.call($t, \"states.hover\"),\n\t\t\t\t\thighlightClass = getGuiStyles.call($t, \"states.select\"),\n\t\t\t\t\tdataFieldClass = getGuiStyles.call($t, \"filterToolbar.dataField\"),\n\t\t\t\t\tcurrentFilters = {},\n\t\t\t\t\tgetId = function (cmName) {\n\t\t\t\t\t\tvar prefix = \"gs_\";\n\t\t\t\t\t\tswitch (o.idMode) {\n\t\t\t\t\t\t\tcase \"compatibility\":\n\t\t\t\t\t\t\t\tprefix += p.idPrefix;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"new\":\n\t\t\t\t\t\t\t\tprefix += p.id + \"_\";\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault: // \"old\"\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn prefix + cmName;\n\t\t\t\t\t},\n\t\t\t\t\tgetIdSel = function (cmName) {\n\t\t\t\t\t\treturn \"#\" + jqID(getId(cmName));\n\t\t\t\t\t},\n\t\t\t\t\tgetOnOffValue = function (soptions) {\n\t\t\t\t\t\tvar checkboxValue = (soptions.value || \"\").split(\":\");\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ton: checkboxValue[0] || \"on\",\n\t\t\t\t\t\t\toff: checkboxValue[1] || \"off\"\n\t\t\t\t\t\t};\n\t\t\t\t\t},\n\t\t\t\t\tparseFilter = function (fillAll) {\n\t\t\t\t\t\tvar i, j, filters = p.postData[o.sFilter], filter = {}, rules, rule,\n\t\t\t\t\t\t\tiColByName = p.iColByName, cm, soptions;\n\t\t\t\t\t\tif (fillAll) {\n\t\t\t\t\t\t\tfor (j = 0; j < colModel.length; j++) {\n\t\t\t\t\t\t\t\tcm = colModel[j];\n\t\t\t\t\t\t\t\tif (cm.search !== false) {\n\t\t\t\t\t\t\t\t\tsoptions = cm.searchoptions || {};\n\t\t\t\t\t\t\t\t\tfilter[cm.name] = {\n\t\t\t\t\t\t\t\t\t\top: soptions.sopt ?\n\t\t\t\t\t\t\t\t\t\t\tsoptions.sopt[0] :\n\t\t\t\t\t\t\t\t\t\t\t(cm.stype === \"select\" || cm.stype === \"checkbox\") ? \"eq\" : o.defaultSearch,\n\t\t\t\t\t\t\t\t\t\tdata: soptions.defaultValue !== undefined ? soptions.defaultValue : \"\"\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// TODO: test for !o.stringResult && !o.searchOperators && p.datatype !== \"local\"\n\t\t\t\t\t\t// and use p.postData[cm.index || cm.name] instead of filter[cm.name]\n\t\t\t\t\t\tif (!filters || !p.search) { return filter; }\n\t\t\t\t\t\tif (typeof filters === \"string\") {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tfilters = $.parseJSON(filters);\n\t\t\t\t\t\t\t} catch (ignore) {\n\t\t\t\t\t\t\t\tfilters = {};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfilters = filters || {};\n\t\t\t\t\t\t}\n\t\t\t\t\t\trules = filters.rules || {};\n\t\t\t\t\t\tif (filters == null ||\n\t\t\t\t\t\t\t(filters.groupOp != null && o.groupOp != null && filters.groupOp.toUpperCase() !== o.groupOp.toUpperCase()) ||\n\t\t\t\t\t\t\trules == null || rules.length === 0 ||\n\t\t\t\t\t\t\t(filters.groups != null && filters.groups.length > 0)) {\n\t\t\t\t\t\t\treturn filter;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (j = 0; j < rules.length; j++) {\n\t\t\t\t\t\t\trule = rules[j];\n\t\t\t\t\t\t\t// find all columns in colModel, where\n\t\t\t\t\t\t\t// colModel[i].index || colModel[i].name === rule.field\n\t\t\t\t\t\t\tcm = colModel[iColByName[rule.field]];\n\t\t\t\t\t\t\tfor (i = 0; i < colModel.length; i++) {\n\t\t\t\t\t\t\t\tcm = colModel[i];\n\t\t\t\t\t\t\t\tif ((cm.index || cm.name) !== rule.field || cm.search === false) {\n\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsoptions = cm.searchoptions || {};\n\t\t\t\t\t\t\t\tif (soptions.sopt) {\n\t\t\t\t\t\t\t\t\tif ($.inArray(rule.op, soptions.sopt) < 0) {\n\t\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else if (cm.stype === \"select\" || cm.stype === \"checkbox\") {\n\t\t\t\t\t\t\t\t\tif (rule.op !== \"eq\") {\n\t\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else if (rule.op !== o.defaultSearch) {\n\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tfilter[cm.name] = { op: rule.op, data: rule.data };\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn filter;\n\t\t\t\t\t},\n\t\t\t\t\tsetThreeStateCheckbox = function ($checkbox, state) {\n\t\t\t\t\t\tswitch (state) {\n\t\t\t\t\t\t\tcase 1: // make checked\n\t\t\t\t\t\t\t\t$checkbox.data(\"state\", 1)\n\t\t\t\t\t\t\t\t\t.prop({\n\t\t\t\t\t\t\t\t\t\tchecked: true,\n\t\t\t\t\t\t\t\t\t\tindeterminate: false\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 0: // make unchecked\n\t\t\t\t\t\t\t\t$checkbox.data(\"state\", 0)\n\t\t\t\t\t\t\t\t\t.prop({\n\t\t\t\t\t\t\t\t\t\tchecked: false,\n\t\t\t\t\t\t\t\t\t\tindeterminate: false\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault: // make indeterminate\n\t\t\t\t\t\t\t\t$checkbox.data(\"state\", -1)\n\t\t\t\t\t\t\t\t\t.prop({\n\t\t\t\t\t\t\t\t\t\tchecked: false,\n\t\t\t\t\t\t\t\t\t\tindeterminate: true\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\ttriggerToolbar = function () {\n\t\t\t\t\t\tvar sdata = {}, j = 0, sopt = {};\n\t\t\t\t\t\t$.each(colModel, function () {\n\t\t\t\t\t\t\tvar cm = this, nm = cm.index || cm.name, v, so, searchoptions = cm.searchoptions || {},\n\t\t\t\t\t\t\t\t$elem = $(getIdSel(cm.name), (cm.frozen === true && p.frozenColumns === true) ? grid.fhDiv : grid.hDiv),\n\t\t\t\t\t\t\t\tgetFormaterOption = function (optionName, formatter) {\n\t\t\t\t\t\t\t\t\tvar formatoptions = cm.formatoptions || {};\n\t\t\t\t\t\t\t\t\treturn formatoptions[optionName] !== undefined ?\n\t\t\t\t\t\t\t\t\t\tformatoptions[optionName] :\n\t\t\t\t\t\t\t\t\t\tgetRes(\"formatter.\" + (formatter || cm.formatter) + \".\" + optionName);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcutThousandsSeparator = function (val) {\n\t\t\t\t\t\t\t\t\tvar separator = getFormaterOption(\"thousandsSeparator\")\n\t\t\t\t\t\t\t\t\t\t.replace(/([\\.\\*\\_\\'\\(\\)\\{\\}\\+\\?\\\\])/g, \"\\\\$1\");\n\t\t\t\t\t\t\t\t\treturn val.replace(new RegExp(separator, \"g\"), \"\");\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tif (o.searchOperators) {\n\t\t\t\t\t\t\t\tso = $elem.parent().prev().children(\"a\").data(\"soper\") || o.defaultSearch;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tso = searchoptions.sopt ? searchoptions.sopt[0] : (cm.stype === \"select\" || cm.stype === \"checkbox\") ? \"eq\" : o.defaultSearch;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/* the format of element of the searching toolbar if ANOTHER\n\t\t\t\t\t\t\t * as the format of cells in the grid. So one can't use\n\t\t\t\t\t\t\t *     value = $.unformat.call($t, $elem, { colModel: cm }, iCol)\n\t\t\t\t\t\t\t * to get the value. Even the access to the value should be\n\t\t\t\t\t\t\t * $elem.val() instead of $elem.text() used in the common case of\n\t\t\t\t\t\t\t * formatter. So we have to make manual conversion of searching filed\n\t\t\t\t\t\t\t * used for integer/number/currency. The code will be duplicate */\n\t\t\t\t\t\t\tif (cm.stype === \"custom\" && $.isFunction(searchoptions.custom_value) && $elem.length > 0 && $elem[0].nodeName.toUpperCase() === \"SPAN\") {\n\t\t\t\t\t\t\t\tv = searchoptions.custom_value.call($t, $elem.children(\".customelement\").first(), \"get\");\n\t\t\t\t\t\t\t} else if (cm.stype === \"select\") {\n\t\t\t\t\t\t\t\tif ($elem.prop(\"multiple\")) {\n\t\t\t\t\t\t\t\t\tv = $elem.val();\n\t\t\t\t\t\t\t\t\tif (v == null || v.length === 0) {\n\t\t\t\t\t\t\t\t\t\tv = \"\";\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tv = v.join(p.inFilterSeparator || \",\");\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tv = $elem.val();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (cm.stype === \"checkbox\") {\n\t\t\t\t\t\t\t\tvar onOffValue = getOnOffValue(searchoptions);\n\n\t\t\t\t\t\t\t\tswitch ($elem.data(\"state\")) {\n\t\t\t\t\t\t\t\t\tcase -1:   // has indeterminate state\n\t\t\t\t\t\t\t\t\t\tv = \"\";\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase 0:    // is unchecked\n\t\t\t\t\t\t\t\t\t\t// make indeterminate\n\t\t\t\t\t\t\t\t\t\tv = onOffValue.off;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tdefault:    // is checked\n\t\t\t\t\t\t\t\t\t\t// make unchecked\n\t\t\t\t\t\t\t\t\t\tv = onOffValue.on;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tv = $.trim($elem.val());\n\t\t\t\t\t\t\t\tswitch (cm.formatter) {\n\t\t\t\t\t\t\t\t\tcase \"integer\":\n\t\t\t\t\t\t\t\t\t\tv = cutThousandsSeparator(v)\n\t\t\t\t\t\t\t\t\t\t\t.replace(getFormaterOption(\"decimalSeparator\", \"number\"), \".\");\n\t\t\t\t\t\t\t\t\t\tif (v !== \"\") {\n\t\t\t\t\t\t\t\t\t\t\t// normalize the strings like \"010.01\" to \"10\"\n\t\t\t\t\t\t\t\t\t\t\tv = String(parseInt(v, 10));\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase \"number\":\n\t\t\t\t\t\t\t\t\t\tv = cutThousandsSeparator(v)\n\t\t\t\t\t\t\t\t\t\t\t.replace(getFormaterOption(\"decimalSeparator\"), \".\");\n\t\t\t\t\t\t\t\t\t\tif (v !== \"\" && String(v).charAt(0) === \"0\") {\n\t\t\t\t\t\t\t\t\t\t\t// normalize the strings like \"010.00\" to \"10\"\n\t\t\t\t\t\t\t\t\t\t\t// and \"010.12\" to \"10.12\"\n\t\t\t\t\t\t\t\t\t\t\tv = String(parseFloat(v));\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase \"currency\":\n\t\t\t\t\t\t\t\t\t\tvar prefix = getFormaterOption(\"prefix\"),\n\t\t\t\t\t\t\t\t\t\t\tsuffix = getFormaterOption(\"suffix\");\n\t\t\t\t\t\t\t\t\t\tif (prefix && prefix.length && v.substr(0, prefix.length) === prefix) {\n\t\t\t\t\t\t\t\t\t\t\tv = v.substr(prefix.length);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif (suffix && suffix.length && v.length > suffix.length && v.substr(v.length - suffix.length, suffix.length) === suffix) {\n\t\t\t\t\t\t\t\t\t\t\tv = v.substr(0, v.length - suffix.length);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tv = cutThousandsSeparator(v)\n\t\t\t\t\t\t\t\t\t\t\t.replace(getFormaterOption(\"decimalSeparator\"), \".\");\n\t\t\t\t\t\t\t\t\t\tif (v !== \"\") {\n\t\t\t\t\t\t\t\t\t\t\t// normalize the strings like \"010.00\" to \"10\"\n\t\t\t\t\t\t\t\t\t\t\t// and \"010.12\" to \"10.12\"\n\t\t\t\t\t\t\t\t\t\t\tv = String(parseFloat(v));\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\t// TODO: call unformatter if it's defined.\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (v || so === \"nu\" || so === \"nn\" || $.inArray(so, p.customUnaryOperations) >= 0) {\n\t\t\t\t\t\t\t\tsdata[nm] = v;\n\t\t\t\t\t\t\t\tsopt[nm] = so;\n\t\t\t\t\t\t\t\tj++;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (sdata.hasOwnProperty(nm)) {\n\t\t\t\t\t\t\t\t\tdelete sdata[nm];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (!(o.stringResult || o.searchOperators || p.datatype === \"local\")) {\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tif (p.postData != null && p.postData.hasOwnProperty(nm)) {\n\t\t\t\t\t\t\t\t\t\t\tdelete p.postData[nm];\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} catch (ignore) { }\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tvar sd = j > 0 ? true : false;\n\t\t\t\t\t\tif (o.stringResult || o.searchOperators || p.datatype === \"local\") {\n\t\t\t\t\t\t\tvar ruleGroup = '{\"groupOp\":\"' + o.groupOp + '\",\"rules\":[';\n\t\t\t\t\t\t\tvar gi = 0;\n\t\t\t\t\t\t\t$.each(sdata, function (cmName, n) {\n\t\t\t\t\t\t\t\t//var iCol = p.iColByName[cmName], cm = p.colModel[iCol],\n\t\t\t\t\t\t\t\t//\tvalue = $.unformat.call($t, $(\"<span></span>\").text(n), { colModel: cm }, iCol);\n\t\t\t\t\t\t\t\tif (gi > 0) { ruleGroup += \",\"; }\n\t\t\t\t\t\t\t\truleGroup += '{\"field\":\"' + cmName + '\",';\n\t\t\t\t\t\t\t\truleGroup += '\"op\":\"' + sopt[cmName] + '\",';\n\t\t\t\t\t\t\t\tn += \"\";\n\t\t\t\t\t\t\t\truleGroup += '\"data\":\"' + n.replace(/\\\\/g, \"\\\\\\\\\").replace(/\\\"/g, '\\\\\"') + '\"}';\n\t\t\t\t\t\t\t\tgi++;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\truleGroup += \"]}\";\n\t\t\t\t\t\t\tp.postData[o.sFilter] = ruleGroup;\n\t\t\t\t\t\t\t$.each([o.sField, o.sValue, o.sOper], function (i, n) {\n\t\t\t\t\t\t\t\tif (p.postData.hasOwnProperty(n)) { delete p.postData[n]; }\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$.extend(p.postData, sdata);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar saveurl;\n\t\t\t\t\t\tif (p.searchurl) {\n\t\t\t\t\t\t\tsaveurl = p.url;\n\t\t\t\t\t\t\t$self.jqGrid(\"setGridParam\", { url: p.searchurl });\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar bsr = $self.triggerHandler(\"jqGridToolbarBeforeSearch\") === \"stop\" ? true : false;\n\t\t\t\t\t\tif (!bsr && $.isFunction(o.beforeSearch)) { bsr = o.beforeSearch.call($t); }\n\t\t\t\t\t\tif (!bsr) {\n\t\t\t\t\t\t\t$self.jqGrid(\"setGridParam\", { search: sd })\n\t\t\t\t\t\t\t\t.trigger(\"reloadGrid\", [$.extend({ page: 1 }, o.reloadGridSearchOptions || {})]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (saveurl) { $self.jqGrid(\"setGridParam\", { url: saveurl }); }\n\t\t\t\t\t\t$self.triggerHandler(\"jqGridToolbarAfterSearch\");\n\t\t\t\t\t\tif ($.isFunction(o.afterSearch)) { o.afterSearch.call($t); }\n\t\t\t\t\t},\n\t\t\t\t\tclearToolbar = function (trigger) {\n\t\t\t\t\t\tvar sdata = {}, j = 0, nm;\n\t\t\t\t\t\ttrigger = (typeof trigger !== \"boolean\") ? true : trigger;\n\t\t\t\t\t\t$.each(colModel, function () {\n\t\t\t\t\t\t\tvar v, cm = this, $elem = $(getIdSel(cm.name), (cm.frozen === true && p.frozenColumns === true) ? grid.fhDiv : grid.hDiv),\n\t\t\t\t\t\t\t\tisSindleSelect, searchoptions = cm.searchoptions || {};\n\t\t\t\t\t\t\tif (searchoptions.defaultValue !== undefined) { v = searchoptions.defaultValue; }\n\t\t\t\t\t\t\tnm = cm.index || cm.name;\n\t\t\t\t\t\t\tswitch (cm.stype) {\n\t\t\t\t\t\t\t\tcase \"checkbox\":\n\t\t\t\t\t\t\t\t\t// set indeterminate state\n\t\t\t\t\t\t\t\t\tsetThreeStateCheckbox($elem, -1);\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase \"select\":\n\t\t\t\t\t\t\t\t\tisSindleSelect = $elem.length > 0 ? !$elem[0].multiple : true;\n\t\t\t\t\t\t\t\t\t$elem.find(\"option\").each(function (i) {\n\t\t\t\t\t\t\t\t\t\tthis.selected = i === 0 && isSindleSelect;\n\t\t\t\t\t\t\t\t\t\tif ($(this).val() === v) {\n\t\t\t\t\t\t\t\t\t\t\tthis.selected = true;\n\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tif (v !== undefined) {\n\t\t\t\t\t\t\t\t\t\t// post the key and not the text\n\t\t\t\t\t\t\t\t\t\tsdata[nm] = v;\n\t\t\t\t\t\t\t\t\t\tj++;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\tdelete p.postData[nm];\n\t\t\t\t\t\t\t\t\t\t} catch (ignore) { }\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase \"text\":\n\t\t\t\t\t\t\t\t\t$elem.val(v || \"\");\n\t\t\t\t\t\t\t\t\tif (v !== undefined) {\n\t\t\t\t\t\t\t\t\t\tsdata[nm] = v;\n\t\t\t\t\t\t\t\t\t\tj++;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\tdelete p.postData[nm];\n\t\t\t\t\t\t\t\t\t\t} catch (ignore) { }\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase \"custom\":\n\t\t\t\t\t\t\t\t\tif ($.isFunction(searchoptions.custom_value) && $elem.length > 0 && $elem[0].nodeName.toUpperCase() === \"SPAN\") {\n\t\t\t\t\t\t\t\t\t\tif (v === undefined) {\n\t\t\t\t\t\t\t\t\t\t\tv = \"\";\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tsearchoptions.custom_value.call($t, $elem.children(\".customelement\").first(), \"set\", v);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tvar sd = j > 0 ? true : false;\n\t\t\t\t\t\tp.resetsearch = true;\n\t\t\t\t\t\tif (o.stringResult || o.searchOperators || p.datatype === \"local\") {\n\t\t\t\t\t\t\tvar ruleGroup = '{\"groupOp\":\"' + o.groupOp + '\",\"rules\":[';\n\t\t\t\t\t\t\tvar gi = 0;\n\t\t\t\t\t\t\t$.each(sdata, function (i, n) {\n\t\t\t\t\t\t\t\tif (gi > 0) { ruleGroup += \",\"; }\n\t\t\t\t\t\t\t\truleGroup += '{\"field\":\"' + i + '\",';\n\t\t\t\t\t\t\t\truleGroup += '\"op\":\"' + \"eq\" + '\",';\n\t\t\t\t\t\t\t\tn += \"\";\n\t\t\t\t\t\t\t\truleGroup += '\"data\":\"' + n.replace(/\\\\/g, \"\\\\\\\\\").replace(/\\\"/g, '\\\\\"') + '\"}';\n\t\t\t\t\t\t\t\tgi++;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\truleGroup += \"]}\";\n\t\t\t\t\t\t\tp.postData[o.sFilter] = ruleGroup;\n\t\t\t\t\t\t\t$.each([o.sField, o.sValue, o.sOper], function (i, n) {\n\t\t\t\t\t\t\t\tif (p.postData.hasOwnProperty(n)) { delete p.postData[n]; }\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$.extend(p.postData, sdata);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar saveurl;\n\t\t\t\t\t\tif (p.searchurl) {\n\t\t\t\t\t\t\tsaveurl = p.url;\n\t\t\t\t\t\t\t$self.jqGrid(\"setGridParam\", { url: p.searchurl });\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar bcv = $self.triggerHandler(\"jqGridToolbarBeforeClear\") === \"stop\" ? true : false;\n\t\t\t\t\t\tif (!bcv && $.isFunction(o.beforeClear)) { bcv = o.beforeClear.call($t); }\n\t\t\t\t\t\tif (!bcv) {\n\t\t\t\t\t\t\tif (trigger) {\n\t\t\t\t\t\t\t\t$self.jqGrid(\"setGridParam\", { search: sd })\n\t\t\t\t\t\t\t\t\t.trigger(\"reloadGrid\", [$.extend({ page: 1 }, o.reloadGridResetOptions || {})]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (saveurl) { $self.jqGrid(\"setGridParam\", { url: saveurl }); }\n\t\t\t\t\t\t$self.triggerHandler(\"jqGridToolbarAfterClear\");\n\t\t\t\t\t\tif ($.isFunction(o.afterClear)) { o.afterClear.call($t); }\n\t\t\t\t\t},\n\t\t\t\t\ttoggleToolbar = function () {\n\t\t\t\t\t\tvar trow = $(\"tr.ui-search-toolbar\", grid.hDiv),\n\t\t\t\t\t\t\ttrow2 = p.frozenColumns === true ? $(\"tr.ui-search-toolbar\", grid.fhDiv) : false;\n\t\t\t\t\t\tif (trow.css(\"display\") === \"none\") {\n\t\t\t\t\t\t\ttrow.show();\n\t\t\t\t\t\t\tif (trow2) {\n\t\t\t\t\t\t\t\ttrow2.show();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttrow.hide();\n\t\t\t\t\t\t\tif (trow2) {\n\t\t\t\t\t\t\t\ttrow2.hide();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (p.frozenColumns === true) {\n\t\t\t\t\t\t\t$self.jqGrid(\"destroyFrozenColumns\");\n\t\t\t\t\t\t\t$self.jqGrid(\"setFrozenColumns\");\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\todata = getRes(\"search.odata\") || [],\n\t\t\t\t\tcustomSortOperations = p.customSortOperations,\n\t\t\t\t\tbuildRuleMenu = function (elem, left, top) {\n\t\t\t\t\t\t$(\"#sopt_menu\").remove();\n\n\t\t\t\t\t\tleft = parseInt(left, 10);\n\t\t\t\t\t\ttop = parseInt(top, 10) + 18;\n\n\t\t\t\t\t\tvar selclass, ina, i = 0, aoprs = [], selected = $(elem).data(\"soper\"), nm = $(elem).data(\"colname\"),\n\t\t\t\t\t\t\tfs = $(\".ui-jqgrid-view\").css(\"font-size\") || \"11px\",\n\t\t\t\t\t\t\tstr = \"<ul id='sopt_menu' class='\" +\n\t\t\t\t\t\t\t\tgetGuiStyles.call($t, \"searchToolbar.menu\", \"ui-search-menu\") +\n\t\t\t\t\t\t\t\t\"' role='menu' tabindex='0' style='z-index:9999;display:block;font-size:\" + fs + \";left:\" + left + \"px;top:\" + top + \"px;'>\";\n\t\t\t\t\t\ti = p.iColByName[nm];\n\t\t\t\t\t\tif (i === undefined) { return; }\n\t\t\t\t\t\tvar cm = colModel[i], options = $.extend({}, cm.searchoptions), odataItem, item, itemOper, itemOperand, itemText;\n\t\t\t\t\t\tif (!options.sopt) {\n\t\t\t\t\t\t\toptions.sopt = [];\n\t\t\t\t\t\t\toptions.sopt[0] = (cm.stype === \"select\" || cm.stype === \"checkbox\") ? \"eq\" : o.defaultSearch;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$.each(odata, function () { aoprs.push(this.oper); });\n\t\t\t\t\t\t// append aoprs array with custom operations defined in customSortOperations parameter jqGrid\n\t\t\t\t\t\tif (customSortOperations != null) {\n\t\t\t\t\t\t\t$.each(customSortOperations, function (propertyName) { aoprs.push(propertyName); });\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (i = 0; i < options.sopt.length; i++) {\n\t\t\t\t\t\t\titemOper = options.sopt[i];\n\t\t\t\t\t\t\tina = $.inArray(itemOper, aoprs);\n\t\t\t\t\t\t\tif (ina !== -1) {\n\t\t\t\t\t\t\t\todataItem = odata[ina];\n\t\t\t\t\t\t\t\tif (odataItem !== undefined) {\n\t\t\t\t\t\t\t\t\t// standard operation\n\t\t\t\t\t\t\t\t\titemOperand = o.operands[itemOper];\n\t\t\t\t\t\t\t\t\titemText = odataItem.text;\n\t\t\t\t\t\t\t\t} else if (customSortOperations != null) {\n\t\t\t\t\t\t\t\t\t// custom operation\n\t\t\t\t\t\t\t\t\titem = customSortOperations[itemOper];\n\t\t\t\t\t\t\t\t\titemOperand = item.operand;\n\t\t\t\t\t\t\t\t\titemText = item.text;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tselclass = selected === itemOper ? highlightClass : \"\";\n\t\t\t\t\t\t\t\tstr += '<li class=\"' +\n\t\t\t\t\t\t\t\t\tgetGuiStyles.call($t, \"searchToolbar.menuItem\", \"ui-jqgrid-menu-item \" + selclass) +\n\t\t\t\t\t\t\t\t\t'\" role=\"presentation\"><a class=\"' +\n\t\t\t\t\t\t\t\t\tgetGuiStyles.call($t, \"searchToolbar.menuItemButton\", \"g-menu-item\") +\n\t\t\t\t\t\t\t\t\t'\" tabindex=\"0\" role=\"menuitem\" value=\"' + htmlEncode(itemOper) + '\" data-oper=\"' + htmlEncode(itemOperand) + '\"><table><tr><td style=\"width:25px\">' + htmlEncode(itemOperand) + '</td><td>' + htmlEncode(itemText) + '</td></tr></table></a></li>';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstr += \"</ul>\";\n\t\t\t\t\t\t$(\"body\").append(str);\n\t\t\t\t\t\t$(\"#sopt_menu > li > a\").hover(\n\t\t\t\t\t\t\tfunction () { $(this).addClass(hoverClasses); },\n\t\t\t\t\t\t\tfunction () { $(this).removeClass(hoverClasses); }\n\t\t\t\t\t\t).click(function () {\n\t\t\t\t\t\t\tvar v = $(this).attr(\"value\"),\n\t\t\t\t\t\t\t\toper = $(this).data(\"oper\");\n\t\t\t\t\t\t\t$self.triggerHandler(\"jqGridToolbarSelectOper\", [v, oper, elem]);\n\t\t\t\t\t\t\t$(\"#sopt_menu\").hide();\n\t\t\t\t\t\t\t$(elem).data(\"soper\", v).text(oper);\n\t\t\t\t\t\t\tif (o.autosearch === true) {\n\t\t\t\t\t\t\t\tvar inpelm = $(elem).parent().next().children()[0];\n\t\t\t\t\t\t\t\tif ($(inpelm).val() || v === \"nu\" || v === \"nn\" || $.inArray(v, p.customUnaryOperations) >= 0) {\n\t\t\t\t\t\t\t\t\ttriggerToolbar();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\ttimeoutHnd,\n\t\t\t\t\tbindings = [],\n\t\t\t\t\t$tr = $(\"<tr></tr>\", { \"class\": \"ui-search-toolbar\", role: \"row form\" });\n\n\t\t\t\tif (o.loadFilterDefaults) {\n\t\t\t\t\tcurrentFilters = parseFilter() || {};\n\t\t\t\t}\n\t\t\t\t// create the row\n\t\t\t\t$.each(colModel, function (ci) {\n\t\t\t\t\tvar cm = this, soptions, mode = \"filter\", surl, sot, so, i, searchoptions = cm.searchoptions || {}, editoptions = cm.editoptions || {},\n\t\t\t\t\t\t$th = $(\"<th></th>\", {\n\t\t\t\t\t\t\t\"class\": getGuiStyles.call($t, \"colHeaders\", \"ui-th-column ui-th-\" + p.direction + \" \" + (o.applyLabelClasses ? cm.labelClasses || \"\" : \"\")),\n\t\t\t\t\t\t\trole: \"gridcell\",\n\t\t\t\t\t\t\t\"aria-describedby\": p.id + \"_\" + cm.name\n\t\t\t\t\t\t}),\n\t\t\t\t\t\t$thd = $(\"<div></div>\"), elem, $elem,\n\t\t\t\t\t\t$stable = $(\"<table class='ui-search-table'><tbody><tr><td class='ui-search-oper'></td><td class='ui-search-input'></td><td class='ui-search-clear' style='width:1px'></td></tr></tbody></table>\"),\n\t\t\t\t\t\t$tds = $stable.children(\"tbody\").children(\"tr\").children(\"td\"),\n\t\t\t\t\t\t$tdOper = $tds.eq(0),\n\t\t\t\t\t\t$tdInput = $tds.eq(1),\n\t\t\t\t\t\t$tdClear = $tds.eq(2);\n\t\t\t\t\tif (this.hidden === true) { $th.css(\"display\", \"none\"); }\n\t\t\t\t\tthis.search = this.search === false ? false : true;\n\t\t\t\t\tif (this.stype === undefined) { this.stype = \"text\"; }\n\t\t\t\t\tsoptions = $.extend({ mode: mode, name: cm.name, cm: cm, iCol: ci, id: getId(cm.name) }, searchoptions);\n\t\t\t\t\tif (this.search) {\n\t\t\t\t\t\tif (o.searchOperators) {\n\t\t\t\t\t\t\tif (p.search && currentFilters[this.name] != null) {\n\t\t\t\t\t\t\t\tso = currentFilters[this.name].op;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tso = (soptions.sopt) ? soptions.sopt[0] : (cm.stype === \"select\" || cm.stype === \"checkbox\") ? \"eq\" : o.defaultSearch;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfor (i = 0; i < odata.length; i++) {\n\t\t\t\t\t\t\t\tif (odata[i].oper === so) {\n\t\t\t\t\t\t\t\t\tsot = o.operands[so] || \"\";\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (sot === undefined && customSortOperations != null) {\n\t\t\t\t\t\t\t\tvar customOp;\n\t\t\t\t\t\t\t\tfor (customOp in customSortOperations) {\n\t\t\t\t\t\t\t\t\tif (customSortOperations.hasOwnProperty(customOp) && customOp === so) {\n\t\t\t\t\t\t\t\t\t\tsot = customSortOperations[customOp].operand;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t//soptions.searchtitle = customSortOperations[customOp].title;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (sot === undefined) { sot = \"=\"; }\n\t\t\t\t\t\t\t$tdOper.append(\"<a title='\" +\n\t\t\t\t\t\t\t\t(soptions.searchtitle != null ? soptions.searchtitle : getRes(\"search.operandTitle\")) +\n\t\t\t\t\t\t\t\t\"' data-soper='\" + so + \"' class='\" +\n\t\t\t\t\t\t\t\tgetGuiStyles.call($t, \"searchToolbar.operButton\", \"soptclass\") +\n\t\t\t\t\t\t\t\t\"' data-colname='\" + this.name + \"'>\" + sot + \"</a>\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$tdOper.data(\"colindex\", ci);\n\t\t\t\t\t\tif (soptions.sopt == null || soptions.sopt.length === 1) {\n\t\t\t\t\t\t\t$tdOper.hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (p.search && currentFilters[this.name] != null) {\n\t\t\t\t\t\t\tsoptions.defaultValue = currentFilters[this.name].data;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (soptions.clearSearch === undefined) {\n\t\t\t\t\t\t\tsoptions.clearSearch = this.stype === \"text\" ? true : false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (soptions.clearSearch) {\n\t\t\t\t\t\t\tvar csv = $.isFunction(o.resetTitle) ?\n\t\t\t\t\t\t\t\to.resetTitle.call($t, {\n\t\t\t\t\t\t\t\t\toptions: o,\n\t\t\t\t\t\t\t\t\tcm: cm,\n\t\t\t\t\t\t\t\t\tcmName: cm.name,\n\t\t\t\t\t\t\t\t\tiCol: ci\n\t\t\t\t\t\t\t\t}) :\n\t\t\t\t\t\t\t\t(getRes(\"search.resetTitle\") || \"Clear Search Value\") + \" \" + jgrid.stripHtml(p.colNames[ci]);\n\t\t\t\t\t\t\t$tdClear.append(\"<a title='\" + csv + \"' aria-label='\" + csv + \"' class='\" +\n\t\t\t\t\t\t\t\tgetGuiStyles.call($t, \"searchToolbar.clearButton\", \"clearsearchclass\") +\n\t\t\t\t\t\t\t\t\"'><span>\" + o.resetIcon + \"</span></a>\");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$tdClear.hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$thd.append($stable);\n\t\t\t\t\t\tswitch (this.stype) {\n\t\t\t\t\t\t\tcase \"checkbox\":\n\t\t\t\t\t\t\t\tvar state = soptions.defaultValue !== undefined ? soptions.defaultValue : \"-1\";\n\t\t\t\t\t\t\t\t$elem = $(\"<input role='search' type='checkbox' class='\" + dataFieldClass +\n\t\t\t\t\t\t\t\t\t\"' name='\" + (cm.index || cm.name) +\n\t\t\t\t\t\t\t\t\t\"' id='\" + getId(cm.name) +\n\t\t\t\t\t\t\t\t\t\"' aria-labelledby='\" + \"jqgh_\" + p.id + \"_\" + cm.name +\n\t\t\t\t\t\t\t\t\t\"' data-state='\" + state + \"'/>\");\n\t\t\t\t\t\t\t\tif (state === \"-1\") {\n\t\t\t\t\t\t\t\t\t$elem.prop(\"indeterminate\", true);\n\t\t\t\t\t\t\t\t} else if (state === \"1\") {\n\t\t\t\t\t\t\t\t\t$elem.prop(\"checked\", true);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t$elem.click(function () {\n\t\t\t\t\t\t\t\t\tvar $checkbox = $(this);\n\t\t\t\t\t\t\t\t\tswitch ($checkbox.data(\"state\")) {\n\t\t\t\t\t\t\t\t\t\tcase -1: // has indeterminate state\n\t\t\t\t\t\t\t\t\t\t\t// make checked\n\t\t\t\t\t\t\t\t\t\t\tsetThreeStateCheckbox($checkbox, 1);\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\tcase 0: // is unchecked\n\t\t\t\t\t\t\t\t\t\t\t// set indeterminate state\n\t\t\t\t\t\t\t\t\t\t\tsetThreeStateCheckbox($checkbox, -1);\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\tdefault: // is checked\n\t\t\t\t\t\t\t\t\t\t\t// make unchecked\n\t\t\t\t\t\t\t\t\t\t\tsetThreeStateCheckbox($checkbox, 0);\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (o.autosearch === true) {\n\t\t\t\t\t\t\t\t\t\ttriggerToolbar();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t$tdInput.append($elem);\n\t\t\t\t\t\t\t\tif (soptions.attr) { $elem.attr(soptions.attr); }\n\t\t\t\t\t\t\t\tbindings.push({ elem: $elem[0], options: soptions });\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"select\":\n\t\t\t\t\t\t\t\tsurl = this.surl || soptions.dataUrl;\n\t\t\t\t\t\t\t\tif (surl) {\n\t\t\t\t\t\t\t\t\t// data returned should have already constructed html select\n\t\t\t\t\t\t\t\t\t// primitive jQuery load\n\t\t\t\t\t\t\t\t\t$.ajax($.extend({\n\t\t\t\t\t\t\t\t\t\turl: surl,\n\t\t\t\t\t\t\t\t\t\tcontext: { $tdInput: $tdInput, options: soptions, cm: cm, iCol: ci },\n\t\t\t\t\t\t\t\t\t\tdataType: \"html\",\n\t\t\t\t\t\t\t\t\t\tsuccess: function (data, textStatus, jqXHR) {\n\t\t\t\t\t\t\t\t\t\t\tvar cm1 = this.cm, iCol1 = this.iCol, soptions1 = this.options, d, ov1,\n\t\t\t\t\t\t\t\t\t\t\t\t$td = this.$tdInput, $select;\n\t\t\t\t\t\t\t\t\t\t\tif (soptions1.buildSelect !== undefined) {\n\t\t\t\t\t\t\t\t\t\t\t\td = soptions1.buildSelect.call($t, data, jqXHR, cm1, iCol1);\n\t\t\t\t\t\t\t\t\t\t\t\tif (d) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t$td.append(d);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t$td.append(data);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t$select = $td.children(\"select\");\n\t\t\t\t\t\t\t\t\t\t\t$select.attr({ name: cm1.index || cm1.name, id: getId(cm1.name) });\n\t\t\t\t\t\t\t\t\t\t\tif (soptions1.attr) { $select.attr(soptions1.attr); }\n\t\t\t\t\t\t\t\t\t\t\t$select.addClass(dataFieldClass);\n\t\t\t\t\t\t\t\t\t\t\t$select.css({ width: \"100%\" });\n\t\t\t\t\t\t\t\t\t\t\tif ($select.find(\"option[value='']\").length === 0 && typeof soptions.noFilterText === \"string\") {\n\t\t\t\t\t\t\t\t\t\t\t\tov1 = document.createElement(\"option\");\n\t\t\t\t\t\t\t\t\t\t\t\tov1.value = \"\";\n\t\t\t\t\t\t\t\t\t\t\t\tov1.innerHTML = soptions.noFilterText;\n\t\t\t\t\t\t\t\t\t\t\t\t$select.prepend(ov1);\n\t\t\t\t\t\t\t\t\t\t\t\tif ($($select[0].options[$select[0].selectedIndex]).attr(\"selected\") == null && !$select[0].multiple) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t$select[0].selectedIndex = 0;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif ($select[0].multiple && $select.find(\"option[selected]\").length === 0 && $select[0].selectedIndex !== -1) {\n\t\t\t\t\t\t\t\t\t\t\t\t// It can be that multiselect (select with multiple attribute) will be returned from surl\n\t\t\t\t\t\t\t\t\t\t\t\t// or build with respect of buildSelect WITHOUT having multiple attribute\n\t\t\t\t\t\t\t\t\t\t\t\t// (just as <select>...</select> instead of <select multiple=\"multiple\">...</select>)\n\t\t\t\t\t\t\t\t\t\t\t\t// and the multiple attribute will be assigned via soptions.attr (attr: { multiple: \"multiple\" }).\n\t\t\t\t\t\t\t\t\t\t\t\t// One will have non-multiple select initially, where the first element will be automatically selected.\n\t\t\t\t\t\t\t\t\t\t\t\t// After assigning the attribute multiple=\"multiple\" the select will be able to have no selected elements,\n\t\t\t\t\t\t\t\t\t\t\t\t// but it will be too late. To fix the case we will unselect the first element in the special case.\n\t\t\t\t\t\t\t\t\t\t\t\t$select[0].options[$select[0].selectedIndex].selected = false;\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\tif (soptions1.defaultValue !== undefined) { $select.val(soptions1.defaultValue); }\n\t\t\t\t\t\t\t\t\t\t\t// preserve autoserch\n\t\t\t\t\t\t\t\t\t\t\tjgrid.bindEv.call($t, $select[0], soptions1);\n\t\t\t\t\t\t\t\t\t\t\tjgrid.fullBoolFeedback.call($t, soptions1.selectFilled, \"jqGridSelectFilled\", {\n\t\t\t\t\t\t\t\t\t\t\t\telem: $select[0],\n\t\t\t\t\t\t\t\t\t\t\t\toptions: soptions1,\n\t\t\t\t\t\t\t\t\t\t\t\tcm: cm1,\n\t\t\t\t\t\t\t\t\t\t\t\tcmName: cm1.name,\n\t\t\t\t\t\t\t\t\t\t\t\tiCol: iCol1,\n\t\t\t\t\t\t\t\t\t\t\t\tmode: mode\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\tif (o.autosearch === true) {\n\t\t\t\t\t\t\t\t\t\t\t\t$select.change(function () {\n\t\t\t\t\t\t\t\t\t\t\t\t\ttriggerToolbar();\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}, jgrid.ajaxOptions, p.ajaxSelectOptions || {}));\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tvar oSv, sep, delim;\n\t\t\t\t\t\t\t\t\tif (cm.searchoptions) {\n\t\t\t\t\t\t\t\t\t\toSv = searchoptions.value === undefined ? editoptions.value || \"\" : searchoptions.value;\n\t\t\t\t\t\t\t\t\t\tsep = searchoptions.separator === undefined ? editoptions.separator || \":\" : searchoptions.separator;\n\t\t\t\t\t\t\t\t\t\tdelim = searchoptions.delimiter === undefined ? editoptions.delimiter || \";\" : searchoptions.delimiter;\n\t\t\t\t\t\t\t\t\t} else if (cm.editoptions) {\n\t\t\t\t\t\t\t\t\t\toSv = editoptions.value === undefined ? \"\" : editoptions.value;\n\t\t\t\t\t\t\t\t\t\tsep = editoptions.separator === undefined ? \":\" : editoptions.separator;\n\t\t\t\t\t\t\t\t\t\tdelim = editoptions.delimiter === undefined ? \";\" : editoptions.delimiter;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (searchoptions.generateValue && p.indexByColumnData[cm.name] != null) {\n\t\t\t\t\t\t\t\t\t\toSv = $t.generateValueFromColumnIndex(cm.name, sep, delim);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (oSv) {\n\t\t\t\t\t\t\t\t\t\telem = document.createElement(\"select\");\n\t\t\t\t\t\t\t\t\t\telem.style.width = \"100%\";\n\t\t\t\t\t\t\t\t\t\t$elem = $(elem).attr({\n\t\t\t\t\t\t\t\t\t\t\tname: cm.index || cm.name,\n\t\t\t\t\t\t\t\t\t\t\trole: \"search\",\n\t\t\t\t\t\t\t\t\t\t\tid: getId(cm.name),\n\t\t\t\t\t\t\t\t\t\t\t\"aria-describedby\": p.id + \"_\" + cm.name\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tif (soptions.attr) { $elem.attr(soptions.attr); }\n\t\t\t\t\t\t\t\t\t\tvar isNoFilterValueExist = jgrid.fillSelectOptions(\n\t\t\t\t\t\t\t\t\t\t\telem,\n\t\t\t\t\t\t\t\t\t\t\toSv,\n\t\t\t\t\t\t\t\t\t\t\tsep,\n\t\t\t\t\t\t\t\t\t\t\tdelim,\n\t\t\t\t\t\t\t\t\t\t\tsoptions.attr != null && soptions.attr.multiple\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\tif (!isNoFilterValueExist && typeof soptions.noFilterText === \"string\") {\n\t\t\t\t\t\t\t\t\t\t\tvar ov = document.createElement(\"option\");\n\t\t\t\t\t\t\t\t\t\t\tov.value = \"\";\n\t\t\t\t\t\t\t\t\t\t\tov.innerHTML = soptions.noFilterText;\n\t\t\t\t\t\t\t\t\t\t\tov.selected = true;\n\t\t\t\t\t\t\t\t\t\t\t$elem.prepend(ov);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif (soptions.defaultValue !== undefined) { $elem.val(soptions.defaultValue); }\n\t\t\t\t\t\t\t\t\t\t$elem.addClass(dataFieldClass);\n\t\t\t\t\t\t\t\t\t\t//bindEv.call($t, elem, soptions);\n\t\t\t\t\t\t\t\t\t\tbindings.push({ elem: elem, options: soptions });\n\t\t\t\t\t\t\t\t\t\t$tdInput.append(elem);\n\t\t\t\t\t\t\t\t\t\tjgrid.fullBoolFeedback.call($t, soptions.selectFilled, \"jqGridSelectFilled\", {\n\t\t\t\t\t\t\t\t\t\t\telem: elem,\n\t\t\t\t\t\t\t\t\t\t\toptions: cm.searchoptions || editoptions,\n\t\t\t\t\t\t\t\t\t\t\tcm: cm,\n\t\t\t\t\t\t\t\t\t\t\tcmName: cm.name,\n\t\t\t\t\t\t\t\t\t\t\tiCol: ci,\n\t\t\t\t\t\t\t\t\t\t\tmode: mode\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tif (o.autosearch === true) {\n\t\t\t\t\t\t\t\t\t\t\t$elem.change(function () {\n\t\t\t\t\t\t\t\t\t\t\t\ttriggerToolbar();\n\t\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"text\":\n\t\t\t\t\t\t\t\t$elem = $(\"<input role='search' type='text' class='\" + dataFieldClass +\n\t\t\t\t\t\t\t\t\t\"' name='\" + (cm.index || cm.name) +\n\t\t\t\t\t\t\t\t\t\"' id='\" + getId(cm.name) +\n\t\t\t\t\t\t\t\t\t\"' aria-labelledby='\" + \"jqgh_\" + p.id + \"_\" + cm.name +\n\t\t\t\t\t\t\t\t\t\"' value='\" + (soptions.defaultValue !== undefined ? soptions.defaultValue : \"\") + \"'/>\");\n\n\t\t\t\t\t\t\t\t$tdInput.append($elem);\n\t\t\t\t\t\t\t\tif (cm.createColumnIndex && soptions.generateDatalist) {\n\t\t\t\t\t\t\t\t\tvar dataListId = \"dl_\" + getId(cm.name),\n\t\t\t\t\t\t\t\t\t\t$datalist = $self.jqGrid(\"generateDatalistFromColumnIndex\", cm.name);\n\t\t\t\t\t\t\t\t\tif ($datalist != null && $datalist.length > 0) {\n\t\t\t\t\t\t\t\t\t\t$elem.attr(\"list\", dataListId);\n\t\t\t\t\t\t\t\t\t\t$tdInput.append($datalist.attr(\"id\", dataListId));\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (soptions.attr) { $elem.attr(soptions.attr); }\n\t\t\t\t\t\t\t\tbindings.push({ elem: $elem[0], options: soptions });\n\t\t\t\t\t\t\t\tif (o.autosearch === true) {\n\t\t\t\t\t\t\t\t\tif (o.searchOnEnter) {\n\t\t\t\t\t\t\t\t\t\t$elem.keypress(function (e) {\n\t\t\t\t\t\t\t\t\t\t\tvar key1 = e.charCode || e.keyCode || 0;\n\t\t\t\t\t\t\t\t\t\t\tif (key1 === 13) {\n\t\t\t\t\t\t\t\t\t\t\t\ttriggerToolbar();\n\t\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\treturn this;\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t$elem.keydown(function (e) {\n\t\t\t\t\t\t\t\t\t\t\tvar key1 = e.which;\n\t\t\t\t\t\t\t\t\t\t\tswitch (key1) {\n\t\t\t\t\t\t\t\t\t\t\t\tcase 13:\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t\t\tcase 9:\n\t\t\t\t\t\t\t\t\t\t\t\tcase 16:\n\t\t\t\t\t\t\t\t\t\t\t\tcase 37:\n\t\t\t\t\t\t\t\t\t\t\t\tcase 38:\n\t\t\t\t\t\t\t\t\t\t\t\tcase 39:\n\t\t\t\t\t\t\t\t\t\t\t\tcase 40:\n\t\t\t\t\t\t\t\t\t\t\t\tcase 27:\n\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (timeoutHnd) { clearTimeout(timeoutHnd); }\n\t\t\t\t\t\t\t\t\t\t\t\t\ttimeoutHnd = setTimeout(function () { triggerToolbar(); }, o.autosearchDelay);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"custom\":\n\t\t\t\t\t\t\t\t$tdInput.append(\"<span style='width:100%;padding:0;box-sizing:border-box;' name='\" + (cm.index || cm.name) + \"' id='\" + getId(cm.name) + \"'/>\");\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tif ($.isFunction(soptions.custom_element)) {\n\t\t\t\t\t\t\t\t\t\tvar celm = soptions.custom_element.call($t, soptions.defaultValue !== undefined ? soptions.defaultValue : \"\", soptions);\n\t\t\t\t\t\t\t\t\t\tif (celm) {\n\t\t\t\t\t\t\t\t\t\t\tcelm = $(celm).addClass(\"customelement\");\n\t\t\t\t\t\t\t\t\t\t\t$thd.find(\"span[name='\" + (cm.index || cm.name) + \"']\").append(celm);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tthrow \"e2\";\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthrow \"e1\";\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\t\t\t\tif (ex === \"e1\") {\n\t\t\t\t\t\t\t\t\t\tinfoDialog.call($t, errcap, \"function 'custom_element' \" + editMsg.nodefined, bClose);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (ex === \"e2\") {\n\t\t\t\t\t\t\t\t\t\tinfoDialog.call($t, errcap, \"function 'custom_element' \" + editMsg.novalue, bClose);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tinfoDialog.call($t, errcap, typeof ex === \"string\" ? ex : ex.message, bClose);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t$th.append($thd);\n\t\t\t\t\t$th.find(\".ui-search-oper .soptclass,.ui-search-clear .clearsearchclass\")\n\t\t\t\t\t\t.hover(function () {\n\t\t\t\t\t\t\t$(this).addClass(hoverClasses);\n\t\t\t\t\t\t}, function () {\n\t\t\t\t\t\t\t$(this).removeClass(hoverClasses);\n\t\t\t\t\t\t});\n\t\t\t\t\t$tr.append($th);\n\t\t\t\t\tif (!o.searchOperators) {\n\t\t\t\t\t\t$tdOper.hide();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$(grid.hDiv).find(\">div>.ui-jqgrid-htable>thead\").append($tr);\n\t\t\t\t$.each(bindings, function () {\n\t\t\t\t\tjgrid.bindEv.call($t, this.elem, this.options);\n\t\t\t\t});\n\t\t\t\tif (o.searchOperators) {\n\t\t\t\t\t$(\".soptclass\", $tr).click(function (e) {\n\t\t\t\t\t\tvar offset = $(this).offset(),\n\t\t\t\t\t\t\tleft = (offset.left),\n\t\t\t\t\t\t\ttop = (offset.top);\n\t\t\t\t\t\tbuildRuleMenu(this, left, top);\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t});\n\t\t\t\t\t$(\"body\").on(\"click\", function (e) {\n\t\t\t\t\t\tif (e.target.className !== \"soptclass\") {\n\t\t\t\t\t\t\t$(\"#sopt_menu\").hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t$(\".clearsearchclass\", $tr).click(function () {\n\t\t\t\t\tvar $tdOper = $(this).closest(\".ui-search-clear\"),\n\t\t\t\t\t\t$tdSearchOper = $tdOper.siblings(\".ui-search-oper\"),\n\t\t\t\t\t\t$oper = $tdSearchOper.children(\"a\"),\n\t\t\t\t\t\tsoper = $oper.data(\"soper\"), v, operText,\n\t\t\t\t\t\tcoli = parseInt($tdSearchOper.data(\"colindex\"), 10),\n\t\t\t\t\t\t$tdInput = $tdOper.siblings(\".ui-search-input\"),\n\t\t\t\t\t\tcm = colModel[coli],\n\t\t\t\t\t\tsval = $.extend({}, cm.searchoptions || {}),\n\t\t\t\t\t\tdval = sval.defaultValue || \"\";\n\t\t\t\t\tswitch (cm.stype) {\n\t\t\t\t\t\tcase \"select\":\n\t\t\t\t\t\t\tif (dval) {\n\t\t\t\t\t\t\t\t$tdInput.find(\"select\").val(dval);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$tdInput.find(\"select\")[0].selectedIndex = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"checkbox\":\n\t\t\t\t\t\t\t// set indeterminate state\n\t\t\t\t\t\t\tsetThreeStateCheckbox($tdInput.find(\"input[type=checkbox]\"), -1);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t$tdInput.find(\"input\").val(dval);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (soper === \"nu\" || soper === \"nn\" || $.inArray(soper, p.customUnaryOperations) >= 0) {\n\t\t\t\t\t\t// one need reset an unary operation to default search operation\n\t\t\t\t\t\tv = sval.sopt ?\n\t\t\t\t\t\t\tsval.sopt[0] :\n\t\t\t\t\t\t\t(cm.stype === \"select\" || cm.stype === \"checkbox\") ?\n\t\t\t\t\t\t\t\t\"eq\" :\n\t\t\t\t\t\t\t\to.defaultSearch;\n\n\t\t\t\t\t\toperText = customSortOperations != null && customSortOperations[v] != null ?\n\t\t\t\t\t\t\tcustomSortOperations[v].operand :\n\t\t\t\t\t\t\to.operands[v] || \"\";\n\n\t\t\t\t\t\t$oper.data(\"soper\", v).text(operText);\n\t\t\t\t\t}\n\n\t\t\t\t\t// ToDo custom search type\n\t\t\t\t\tif (o.autosearch === true) {\n\t\t\t\t\t\ttriggerToolbar();\n\t\t\t\t\t}\n\n\t\t\t\t});\n\t\t\t\t$t.ftoolbar = true;\n\t\t\t\t$t.triggerToolbar = triggerToolbar;\n\t\t\t\t$t.clearToolbar = clearToolbar;\n\t\t\t\t$t.toggleToolbar = toggleToolbar;\n\t\t\t\tif (p.frozenColumns === true) {\n\t\t\t\t\t$self.jqGrid(\"destroyFrozenColumns\");\n\t\t\t\t\t$self.jqGrid(\"setFrozenColumns\");\n\t\t\t\t}\n\t\t\t\t$self.on(\n\t\t\t\t\t\"jqGridRefreshFilterValues.filterToolbar\" + (o.loadFilterDefaults ? \" jqGridAfterLoadComplete.filterToolbar\" : \"\"),\n\t\t\t\t\tfunction () {\n\t\t\t\t\t\tvar cmName, filter, newFilters = parseFilter(true) || {}, $input, $searchOper, i, $th, searchoptions;\n\t\t\t\t\t\tif (!o.stringResult && !o.searchOperators && p.datatype !== \"local\" && p.search) {\n\t\t\t\t\t\t\treturn; // do nothing on legacy searching\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor (cmName in newFilters) {\n\t\t\t\t\t\t\tif (newFilters.hasOwnProperty(cmName)) {\n\t\t\t\t\t\t\t\tfilter = newFilters[cmName];\n\t\t\t\t\t\t\t\t$input = $(getIdSel(cmName));\n\t\t\t\t\t\t\t\t$th = $input.closest(\"th.ui-th-column\");\n\t\t\t\t\t\t\t\tif ($input.length > 0 && $th.length > 0) {\n\t\t\t\t\t\t\t\t\tsearchoptions = (p.colModel[$th[0].cellIndex] || {}).searchoptions || {};\n\t\t\t\t\t\t\t\t\tif ($input[0].tagName.toUpperCase() === \"SELECT\" && $input[0].multiple) {\n\t\t\t\t\t\t\t\t\t\t$input.val(filter.data.split(p.inFilterSeparator || \",\"));\n\t\t\t\t\t\t\t\t\t} else if ($input.is(\"input[type=checkbox]\")) {\n\t\t\t\t\t\t\t\t\t\tvar onOffValue = getOnOffValue(searchoptions);\n\t\t\t\t\t\t\t\t\t\tsetThreeStateCheckbox(\n\t\t\t\t\t\t\t\t\t\t\t$input,\n\t\t\t\t\t\t\t\t\t\t\tfilter.data === onOffValue.on ?\n\t\t\t\t\t\t\t\t\t\t\t\t1 :\n\t\t\t\t\t\t\t\t\t\t\t\t(filter.data === onOffValue.off ? 0 : -1)\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} else if ($input.find(\".customelement\").length > 0 && $.isFunction(searchoptions.custom_value)) {\n\t\t\t\t\t\t\t\t\t\tvar oldValue = searchoptions.custom_value.call($t, $input.find(\".customelement\").first(), \"get\");\n\t\t\t\t\t\t\t\t\t\tif (filter.data === \"\" && searchoptions.defaultValue !== undefined) {\n\t\t\t\t\t\t\t\t\t\t\tfilter.data = searchoptions.defaultValue;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif (oldValue === undefined) {\n\t\t\t\t\t\t\t\t\t\t\toldValue = \"\";\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif (filter.data !== oldValue && String(filter.data) !== String(oldValue)) {\n\t\t\t\t\t\t\t\t\t\t\tsearchoptions.custom_value.call($t, $input.find(\".customelement\").first(), \"set\", filter.data);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (filter.data === \"\" && searchoptions.defaultValue !== undefined) {\n\t\t\t\t\t\t\t\t\t\t\tfilter.data = searchoptions.defaultValue;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif ($.trim($input.val()) !== String(filter.data)) {\n\t\t\t\t\t\t\t\t\t\t\t$input.val(filter.data);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t$searchOper = $input.closest(\".ui-search-input\")\n\t\t\t\t\t\t\t\t\t\t.siblings(\".ui-search-oper\")\n\t\t\t\t\t\t\t\t\t\t.children(\".soptclass\");\n\t\t\t\t\t\t\t\t\t$searchOper.data(\"soper\", filter.op);\n\t\t\t\t\t\t\t\t\t$searchOper.text(o.operands[filter.op] || (p.customSortOperations[filter.op] || {}).operand);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (i = 0; i < p.colModel.length; i++) {\n\t\t\t\t\t\t\tcmName = p.colModel[i].name;\n\t\t\t\t\t\t\tif (!newFilters.hasOwnProperty(cmName)) {\n\t\t\t\t\t\t\t\t$(getIdSel(cmName)).val(\"\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\t\tdestroyFilterToolbar: function () {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar self = this;\n\t\t\t\tif (!self.ftoolbar) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tself.triggerToolbar = null;\n\t\t\t\tself.clearToolbar = null;\n\t\t\t\tself.toggleToolbar = null;\n\t\t\t\tself.ftoolbar = false;\n\t\t\t\t$(self.grid.hDiv).find(\"table thead tr.ui-search-toolbar\").remove();\n\t\t\t\tif (self.p.frozenColumns === true) {\n\t\t\t\t\t$(self).jqGrid(\"destroyFrozenColumns\")\n\t\t\t\t\t\t.jqGrid(\"setFrozenColumns\");\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tdestroyGroupHeader: function (nullHeader) {\n\t\t\tif (nullHeader === undefined) {\n\t\t\t\tnullHeader = true;\n\t\t\t}\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, i, l, $th, $resizing, grid = $t.grid, cm = $t.p.colModel, hc,\n\t\t\t\t\tthead = $(\"table.ui-jqgrid-htable thead\", grid.hDiv);\n\t\t\t\tif (!grid) { return; }\n\n\t\t\t\t$($t).off(\".setGroupHeaders\");\n\t\t\t\tvar $tr = $(\"<tr>\", { role: \"row\" }).addClass(\"ui-jqgrid-labels\");\n\t\t\t\tvar headers = grid.headers;\n\t\t\t\tfor (i = 0, l = headers.length; i < l; i++) {\n\t\t\t\t\thc = cm[i].hidden ? \"none\" : \"\";\n\t\t\t\t\t$th = $(headers[i].el)\n\t\t\t\t\t\t.width(headers[i].width)\n\t\t\t\t\t\t.css(\"display\", hc);\n\t\t\t\t\ttry {\n\t\t\t\t\t\t$th.removeAttr(\"rowSpan\");\n\t\t\t\t\t} catch (rs) {\n\t\t\t\t\t\t//IE 6/7\n\t\t\t\t\t\t$th.attr(\"rowSpan\", 1);\n\t\t\t\t\t}\n\t\t\t\t\t$tr.append($th);\n\t\t\t\t\t$resizing = $th.children(\"span.ui-jqgrid-resize\");\n\t\t\t\t\tif ($resizing.length > 0) {// resizable column\n\t\t\t\t\t\t$resizing[0].style.height = \"\";\n\t\t\t\t\t}\n\t\t\t\t\t$th.children(\"div\")[0].style.top = \"\";\n\t\t\t\t}\n\t\t\t\t$(thead).children(\"tr.ui-jqgrid-labels\").remove();\n\t\t\t\t$(thead).prepend($tr);\n\n\t\t\t\tif (nullHeader === true) {\n\t\t\t\t\t$($t).jqGrid(\"setGridParam\", { \"groupHeader\": null });\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tsetGroupHeaders: function (o) {\n\t\t\to = $.extend({\n\t\t\t\tuseColSpanStyle: false,\n\t\t\t\tapplyLabelClasses: true,\n\t\t\t\tgroupHeaders: []\n\t\t\t}, o || {});\n\t\t\treturn this.each(function () {\n\t\t\t\tthis.p.groupHeader = o;\n\t\t\t\tvar ts = this, i, cmi, skip = 0, $tr, $colHeader, th, $th, thStyle, iCol, cghi, numberOfColumns, titleText, cVisibleColumns,\n\t\t\t\t\tp = ts.p, colModel = p.colModel, cml = colModel.length, ths = ts.grid.headers, $theadInTable, thClasses,\n\t\t\t\t\t$htable = $(\"table.ui-jqgrid-htable\", ts.grid.hDiv), isCellClassHidden = jgrid.isCellClassHidden,\n\t\t\t\t\t$trLabels = $htable.children(\"thead\").children(\"tr.ui-jqgrid-labels\"),\n\t\t\t\t\t$trLastWithLabels = $trLabels.last().addClass(\"jqg-second-row-header\"),\n\t\t\t\t\t$thead = $htable.children(\"thead\"),\n\t\t\t\t\t$firstHeaderRow = $htable.find(\".jqg-first-row-header\");\n\t\t\t\tif ($firstHeaderRow[0] === undefined) {\n\t\t\t\t\t$firstHeaderRow = $(\"<tr>\", { role: \"row\", \"aria-hidden\": \"true\" }).addClass(\"jqg-first-row-header\").css(\"height\", \"auto\");\n\t\t\t\t} else {\n\t\t\t\t\t$firstHeaderRow.empty();\n\t\t\t\t}\n\t\t\t\tvar inColumnHeader = function (cmName, columnHeaders) {\n\t\t\t\t\tvar j;\n\t\t\t\t\tfor (j = 0; j < columnHeaders.length; j++) {\n\t\t\t\t\t\tif (columnHeaders[j].startColumnName === cmName) {\n\t\t\t\t\t\t\treturn columnHeaders[j];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn 0; // falsy value\n\t\t\t\t};\n\n\t\t\t\t$(ts).prepend($thead);\n\t\t\t\t$tr = $(\"<tr>\", { role: \"row\" }).addClass(\"ui-jqgrid-labels jqg-third-row-header\");\n\t\t\t\tfor (i = 0; i < cml; i++) {\n\t\t\t\t\tth = ths[i].el;\n\t\t\t\t\t$th = $(th);\n\t\t\t\t\tcmi = colModel[i];\n\t\t\t\t\t// build the next cell for the first header row\n\t\t\t\t\t// ??? cmi.hidden || isCellClassHidden(cmi.classes) || $th.is(\":hidden\")\n\t\t\t\t\tthStyle = { height: \"0\", width: ths[i].width + \"px\", display: (cmi.hidden ? \"none\" : \"\") };\n\t\t\t\t\t$(\"<th>\", { role: \"gridcell\" }).css(thStyle).addClass(\"ui-first-th-\" + p.direction + (o.applyLabelClasses ? \" \" + (cmi.labelClasses || \"\") : \"\")).appendTo($firstHeaderRow);\n\n\t\t\t\t\tth.style.width = \"\"; // remove unneeded style\n\t\t\t\t\tthClasses = getGuiStyles.call(ts, \"colHeaders\", \"ui-th-column-header ui-th-\" + p.direction + \" \" + (o.applyLabelClasses ? cmi.labelClasses || \"\" : \"\"));\n\t\t\t\t\tcghi = inColumnHeader(cmi.name, o.groupHeaders);\n\t\t\t\t\tif (cghi) {\n\t\t\t\t\t\tnumberOfColumns = cghi.numberOfColumns;\n\t\t\t\t\t\ttitleText = cghi.titleText;\n\n\t\t\t\t\t\t// caclulate the number of visible columns from the next numberOfColumns columns\n\t\t\t\t\t\tfor (cVisibleColumns = 0, iCol = 0; iCol < numberOfColumns && (i + iCol < cml); iCol++) {\n\t\t\t\t\t\t\tif (!colModel[i + iCol].hidden && !isCellClassHidden(colModel[i + iCol].classes)) {\n\t\t\t\t\t\t\t\tcVisibleColumns++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// The next numberOfColumns headers will be moved in the next row\n\t\t\t\t\t\t// in the current row will be placed the new column header with the titleText.\n\t\t\t\t\t\t// The text will be over the cVisibleColumns columns\n\t\t\t\t\t\t$colHeader = $(\"<th>\")\n\t\t\t\t\t\t\t.addClass(thClasses)\n\t\t\t\t\t\t\t.html(titleText || \"&nbsp;\");\n\t\t\t\t\t\tif (cVisibleColumns > 0) {\n\t\t\t\t\t\t\t$colHeader.attr(\"colspan\", String(cVisibleColumns));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (p.headertitles) {\n\t\t\t\t\t\t\t$colHeader.attr(\"title\", $colHeader.text());\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// hide if not a visible cols\n\t\t\t\t\t\tif (cVisibleColumns === 0) {\n\t\t\t\t\t\t\t$colHeader.hide();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$th.before($colHeader); // insert new column header before the current\n\t\t\t\t\t\t$tr.append(th);         // move the current header in the next row\n\n\t\t\t\t\t\t// set the counter of headers which will be moved in the next row\n\t\t\t\t\t\tskip = numberOfColumns - 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (skip === 0) {\n\t\t\t\t\t\t\tif (o.useColSpanStyle) {\n\t\t\t\t\t\t\t\t// expand the header height to two rows\n\t\t\t\t\t\t\t\t$th.attr(\"rowspan\", $trLabels.length + 1); // consider to use ($th.attr(\"rowspan\") || 1) instead of $trLabels.length\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$(\"<th>\")\n\t\t\t\t\t\t\t\t\t.addClass(thClasses)\n\t\t\t\t\t\t\t\t\t.css({ \"display\": cmi.hidden ? \"none\" : \"\", \"border-top\": \"0 none\" })\n\t\t\t\t\t\t\t\t\t.insertBefore($th);\n\t\t\t\t\t\t\t\t$tr.append(th);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// move the header to the next row\n\t\t\t\t\t\t\t$tr.append(th);\n\t\t\t\t\t\t\tskip--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t$theadInTable = $(ts).children(\"thead\");\n\t\t\t\t$theadInTable.prepend($firstHeaderRow);\n\t\t\t\t$tr.insertAfter($trLastWithLabels);\n\t\t\t\t$htable.prepend($theadInTable);\n\n\t\t\t\t$(ts).triggerHandler(\"jqGridAfterSetGroupHeaders\");\n\t\t\t});\n\t\t},\n\t\tgetNumberOfFrozenColumns: function () {\n\t\t\tvar $t = this;\n\t\t\tif ($t.length === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\t$t = $t[0];\n\t\t\tvar colModel = $t.p.colModel, len = colModel.length, maxfrozen = -1, i;\n\t\t\t// get the max index of frozen col\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\t// from left, no breaking frozen\n\t\t\t\tif (colModel[i].frozen !== true) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tmaxfrozen = i;\n\t\t\t}\n\t\t\treturn maxfrozen + 1;\n\t\t},\n\t\tsetFrozenColumns: function (o) {\n\t\t\to = o || {};\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, $self = $($t), p = $t.p, grid = $t.grid;\n\t\t\t\tif (!grid || p == null || p.frozenColumns === true) { return; }\n\t\t\t\tvar cm = p.colModel, i, len = cm.length, maxfrozen = -1, frozen = false, frozenIds = [], $colHeaderRow,// nonFrozenIds = [],\n\t\t\t\t\ttid = jqID(p.id), // one can use p.idSel and remove \"#\"\n\t\t\t\t\thoverClasses = getGuiStyles.call($t, \"states.hover\");\n\n\t\t\t\t// TODO treeGrid and grouping  Support\n\t\t\t\t// TODO: allow to edit columns AFTER frozen columns\n\t\t\t\tif (p.subGrid === true || p.treeGrid === true || p.scroll) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// get the max index of frozen col\n\t\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\t\t// from left, no breaking frozen\n\t\t\t\t\tif (cm[i].frozen !== true) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t//nonFrozenIds.push(\"#jqgh_\" + tid + \"_\" + jqID(cm[i].name));\n\t\t\t\t\t}\n\t\t\t\t\tfrozen = true;\n\t\t\t\t\tmaxfrozen = i;\n\t\t\t\t\tfrozenIds.push(\"#jqgh_\" + tid + \"_\" + jqID(cm[i].name));\n\t\t\t\t}\n\t\t\t\tif (p.sortable) {\n\t\t\t\t\t$colHeaderRow = $(grid.hDiv).find(\".ui-jqgrid-htable .ui-jqgrid-labels\");\n\t\t\t\t\ttry {\n\t\t\t\t\t\t$colHeaderRow.sortable(\"destroy\");\n\t\t\t\t\t} catch (ignore) { }\n\t\t\t\t\t$self.jqGrid(\"setGridParam\", {\n\t\t\t\t\t\tsortable: {\n\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\titems: frozenIds.length > 0 ?\n\t\t\t\t\t\t\t\t\t\">th:not(:has(\" + frozenIds.join(\",\") + \"),:hidden)\" :\n\t\t\t\t\t\t\t\t\t\">th:not(:hidden)\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t$self.jqGrid(\"sortableColumns\", $colHeaderRow);\n\t\t\t\t}\n\t\t\t\tif (maxfrozen >= 0 && frozen) {\n\t\t\t\t\tvar top = p.caption ? $(grid.cDiv).outerHeight() : 0,\n\t\t\t\t\t\thth = $(\".ui-jqgrid-htable\", p.gView).height();\n\t\t\t\t\t//headers\n\t\t\t\t\tif (p.toppager) {\n\t\t\t\t\t\ttop = top + $(grid.topDiv).outerHeight();\n\t\t\t\t\t}\n\t\t\t\t\tif (p.toolbar[0] === true) {\n\t\t\t\t\t\tif (p.toolbar[1] !== \"bottom\") {\n\t\t\t\t\t\t\ttop = top + $(grid.uDiv).outerHeight();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tgrid.fhDiv = $(\"<div style='position:absolute;overflow:hidden;\" +\n\t\t\t\t\t\t(p.direction === \"rtl\" ? \"right:0;border-top-left-radius:0;\" : \"left:0;border-top-right-radius:0;\") +\n\t\t\t\t\t\t\"top:\" + top + \"px;height:\" + hth +\n\t\t\t\t\t\t\"px;' class='\" + getGuiStyles.call($t, \"hDiv\", \"frozen-div ui-jqgrid-hdiv\") + \"'></div>\");\n\t\t\t\t\tgrid.fbDiv = $(\"<div style='position:absolute;overflow:hidden;\" +\n\t\t\t\t\t\t(p.direction === \"rtl\" ? \"right:0;\" : \"left:0;\") +\n\t\t\t\t\t\t\"top:\" + (parseInt(top, 10) + parseInt(hth, 10) + 1) +\n\t\t\t\t\t\t\"px;overflow:hidden;' class='frozen-bdiv ui-jqgrid-bdiv'></div>\");\n\t\t\t\t\t$(p.gView).append(grid.fhDiv);\n\t\t\t\t\tvar htbl = $(\".ui-jqgrid-htable\", p.gView).clone(true),\n\t\t\t\t\t\ttHeadRows = htbl[0].tHead.rows;\n\t\t\t\t\t// groupheader support - only if useColSpanstyle is false\n\t\t\t\t\tif (p.groupHeader) {\n\t\t\t\t\t\t// TODO: remove all th which corresponds non-frozen columns. One can identify there by id\n\t\t\t\t\t\t// for example. Consider to use name attribute of th on column headers. It simplifies\n\t\t\t\t\t\t// identifying of the columns.\n\t\t\t\t\t\t$(tHeadRows[0].cells).filter(\":gt(\" + maxfrozen + \")\").remove();\n\t\t\t\t\t\t$(tHeadRows).filter(\".jqg-third-row-header\").each(function () {\n\t\t\t\t\t\t\t$(this).children(\"th[id]\")\n\t\t\t\t\t\t\t\t.each(function () {\n\t\t\t\t\t\t\t\t\tvar id = $(this).attr(\"id\"), colName;\n\t\t\t\t\t\t\t\t\tif (id && id.substr(0, $t.id.length + 1) === $t.id + \"_\") {\n\t\t\t\t\t\t\t\t\t\tcolName = id.substr($t.id.length + 1);\n\t\t\t\t\t\t\t\t\t\tif (p.iColByName[colName] > maxfrozen) {\n\t\t\t\t\t\t\t\t\t\t\t$(this).remove();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t\tvar swapfroz = -1, fdel = -1, cs, rs;\n\t\t\t\t\t\t// TODO: test carefully processing of hidden columns\n\t\t\t\t\t\t$(tHeadRows).filter(\".jqg-second-row-header\").children(\"th\").each(function () {\n\t\t\t\t\t\t\tcs = parseInt($(this).attr(\"colspan\") || 1, 10);\n\t\t\t\t\t\t\trs = parseInt($(this).attr(\"rowspan\") || 1, 10);\n\t\t\t\t\t\t\tif (rs > 1) {\n\t\t\t\t\t\t\t\tswapfroz++;\n\t\t\t\t\t\t\t\tfdel++;\n\t\t\t\t\t\t\t} else if (cs) {\n\t\t\t\t\t\t\t\tswapfroz = swapfroz + cs;\n\t\t\t\t\t\t\t\tfdel++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (swapfroz === maxfrozen) {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (swapfroz !== maxfrozen) {\n\t\t\t\t\t\t\tfdel = maxfrozen;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$(tHeadRows).filter(\".jqg-second-row-header,.ui-search-toolbar\").each(function () {\n\t\t\t\t\t\t\t$(this).children(\":gt(\" + fdel + \")\").remove();\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(tHeadRows).each(function () {\n\t\t\t\t\t\t\t$(this).children(\":gt(\" + maxfrozen + \")\").remove();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t// htable, bdiv and ftable uses table-layout:fixed; style\n\t\t\t\t\t// to make it working one have to set ANY width value on table.\n\t\t\t\t\t// The value of the width will be ignored, the sum of widths\n\t\t\t\t\t// of the first column will be used as the width of tables\n\t\t\t\t\t// and all columns will have the same width like the first row.\n\t\t\t\t\t// We set below just width=1 of the tables.\n\t\t\t\t\t$(htbl).width(1);\n\t\t\t\t\t// resizing stuff\n\t\t\t\t\t$(grid.fhDiv).append(htbl)\n\t\t\t\t\t\t.scroll(function () {\n\t\t\t\t\t\t\t// the fhDiv can be scrolled because of tab keyboard navigation\n\t\t\t\t\t\t\t// we prevent horizontal scrolling of fhDiv\n\t\t\t\t\t\t\tthis.scrollLeft = 0;\n\t\t\t\t\t\t});\n\t\t\t\t\tif (p.footerrow) {\n\t\t\t\t\t\tvar hbd = $(\".ui-jqgrid-bdiv\", p.gView).height();\n\n\t\t\t\t\t\tgrid.fsDiv = $(\"<div style='position:absolute;\" + (p.direction === \"rtl\" ? \"right:0;\" : \"left:0;\") + \"top:\" + (parseInt(top, 10) + parseInt(hth, 10) + parseInt(hbd, 10) + 1) + \"px;' class='frozen-sdiv ui-jqgrid-sdiv'></div>\");\n\t\t\t\t\t\t$(p.gView).append(grid.fsDiv);\n\t\t\t\t\t\tvar ftbl = $(\".ui-jqgrid-ftable\", p.gView).clone(true);\n\t\t\t\t\t\t$(\"tr\", ftbl).each(function () {\n\t\t\t\t\t\t\t$(\"td:gt(\" + maxfrozen + \")\", this).remove();\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$(ftbl).width(1);\n\t\t\t\t\t\t$(grid.fsDiv).append(ftbl);\n\t\t\t\t\t}\n\n\t\t\t\t\t// data stuff\n\t\t\t\t\t//TODO support for setRowData\n\t\t\t\t\t$(p.gView).append(grid.fbDiv);\n\t\t\t\t\t$(grid.bDiv).scroll(function () {\n\t\t\t\t\t\t$(grid.fbDiv).scrollTop($(this).scrollTop());\n\t\t\t\t\t});\n\t\t\t\t\t$(grid.fbDiv).on(\"mousewheel.setFrozenColumns DOMMouseScroll.setFrozenColumns\", function (e) {\n\t\t\t\t\t\tgrid.bDiv.scrollTop += $.isFunction(o.mouseWheel) ?\n\t\t\t\t\t\t\to.mouseWheel.call($t, e) :\n\t\t\t\t\t\t\te.type === \"mousewheel\" ?\n\t\t\t\t\t\t\t\t-e.originalEvent.wheelDelta / 10 :\n\t\t\t\t\t\t\t\te.originalEvent.detail * 6;\n\t\t\t\t\t});\n\t\t\t\t\tif (p.hoverrows === true) {\n\t\t\t\t\t\t$(p.idSel).off(\"mouseover.jqGrid mouseout.jqGrid\");\n\t\t\t\t\t}\n\t\t\t\t\tvar safeHeightSet = function ($elem, newHeight) {\n\t\t\t\t\t\t\tvar height = $elem.height();\n\t\t\t\t\t\t\tif (Math.abs(height - newHeight) >= 1 && newHeight > 0) {\n\t\t\t\t\t\t\t\t$elem.height(newHeight);\n\t\t\t\t\t\t\t\theight = $elem.height();\n\t\t\t\t\t\t\t\tif (Math.abs(newHeight - height) >= 1) {\n\t\t\t\t\t\t\t\t\t$elem.height(newHeight + Math.round((newHeight - height)));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsafeWidthSet = function ($elem, newWidth) {\n\t\t\t\t\t\t\tvar width = $elem.width();\n\t\t\t\t\t\t\tif (Math.abs(width - newWidth) >= 1) {\n\t\t\t\t\t\t\t\t$elem.width(newWidth);\n\t\t\t\t\t\t\t\twidth = $elem.width();\n\t\t\t\t\t\t\t\tif (Math.abs(newWidth - width) >= 1) {\n\t\t\t\t\t\t\t\t\t$elem.width(newWidth + Math.round((newWidth - width)));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfixDiv = function ($hDiv, hDivBase, iRowStart, iRowEnd) {\n\t\t\t\t\t\t\tvar iRow, n, $frozenRows, $rows, $row, $frozenRow, posFrozenTop, height, newHeightFrozen, td,\n\t\t\t\t\t\t\t\tposTop = $(hDivBase).position().top, frozenTableTop, tableTop, cells;\n\t\t\t\t\t\t\tif ($hDiv != null && $hDiv.length > 0) {\n\t\t\t\t\t\t\t\t$hDiv[0].scrollTop = hDivBase.scrollTop;\n\t\t\t\t\t\t\t\t$hDiv.css(p.direction === \"rtl\" ?\n\t\t\t\t\t\t\t\t\t{ top: posTop, right: 0 } :\n\t\t\t\t\t\t\t\t\t{ top: posTop, left: 0 }\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t// first try with thead for the hdiv\n\t\t\t\t\t\t\t\t$frozenRows = $hDiv.children(\"table\").children(\"thead\").children(\"tr\");\n\t\t\t\t\t\t\t\t$rows = $(hDivBase).children(\"div\").children(\"table\").children(\"thead\").children(\"tr\");\n\t\t\t\t\t\t\t\tif ($rows.length === 0 && $hDiv.children(\"table\").length > 0) {\n\t\t\t\t\t\t\t\t\t// then use tbody for bdiv\n\t\t\t\t\t\t\t\t\t$frozenRows = $($hDiv.children(\"table\")[0].rows);\n\t\t\t\t\t\t\t\t\t$rows = $($(hDivBase).children(\"div\").children(\"table\")[0].rows);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tn = Math.min($frozenRows.length, $rows.length);\n\t\t\t\t\t\t\t\tfrozenTableTop = n > 0 ? $($frozenRows[0]).position().top : 0;\n\t\t\t\t\t\t\t\ttableTop = n > 0 ? $($rows[0]).position().top : 0; // typically 0\n\t\t\t\t\t\t\t\tif (iRowStart >= 0) { // negative iRowStart means no changing of the height of individual rows\n\t\t\t\t\t\t\t\t\tif (iRowEnd >= 0) { // negative iRowEnd means all rows\n\t\t\t\t\t\t\t\t\t\tn = Math.min(iRowEnd + 1, n);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tfor (iRow = iRowStart; iRow < n; iRow++) {\n\t\t\t\t\t\t\t\t\t\t// but after that one have to verify all scenarios\n\t\t\t\t\t\t\t\t\t\t$row = $($rows[iRow]);\n\t\t\t\t\t\t\t\t\t\tif ($row.css(\"display\") !== \"none\" && $row.is(\":visible\")) {\n\t\t\t\t\t\t\t\t\t\t\tposTop = $row.position().top;\n\t\t\t\t\t\t\t\t\t\t\t$frozenRow = $($frozenRows[iRow]);\n\t\t\t\t\t\t\t\t\t\t\tposFrozenTop = $frozenRow.position().top;\n\t\t\t\t\t\t\t\t\t\t\theight = $row.height();\n\t\t\t\t\t\t\t\t\t\t\tif (p.groupHeader != null && p.groupHeader.useColSpanStyle) {\n\t\t\t\t\t\t\t\t\t\t\t\tcells = $row[0].cells;\n\t\t\t\t\t\t\t\t\t\t\t\tfor (i = 0; i < cells.length; i++) { // maxfrozen\n\t\t\t\t\t\t\t\t\t\t\t\t\ttd = cells[i];\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (td != null && td.nodeName.toUpperCase() === \"TH\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\theight = Math.max(height, $(td).height());\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tnewHeightFrozen = height + (posTop - tableTop) + (frozenTableTop - posFrozenTop);\n\t\t\t\t\t\t\t\t\t\t\tsafeHeightSet($frozenRow, newHeightFrozen);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsafeHeightSet($hDiv, hDivBase.clientHeight);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t/** @const */\n\t\t\t\t\t\tresizeAll = {\n\t\t\t\t\t\t\tresizeDiv: true,\n\t\t\t\t\t\t\tresizedRows: {\n\t\t\t\t\t\t\t\tiRowStart: 0,\n\t\t\t\t\t\t\t\tiRowEnd: -1 // -1 means \"till the end\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t/** @const */\n\t\t\t\t\t\tfullResize = {\n\t\t\t\t\t\t\theader: resizeAll,\n\t\t\t\t\t\t\tresizeFooter: true,\n\t\t\t\t\t\t\tbody: resizeAll\n\t\t\t\t\t\t};\n\n\t\t\t\t\t$self.on(\"jqGridAfterGridComplete.setFrozenColumns\", function () {\n\t\t\t\t\t\t$(p.idSel + \"_frozen\").remove();\n\t\t\t\t\t\t$(grid.fbDiv).height(grid.hDiv.clientHeight);\n\t\t\t\t\t\t// clone with data and events !!!\n\t\t\t\t\t\tvar $frozenBTable = $(this).clone(true),\n\t\t\t\t\t\t\tfrozenRows = $frozenBTable[0].rows,\n\t\t\t\t\t\t\trows = $self[0].rows;\n\t\t\t\t\t\t$(frozenRows).filter(\"tr[role=row]\").each(function () {\n\t\t\t\t\t\t\t$(this.cells).filter(\"td[role=gridcell]:gt(\" + maxfrozen + \")\").remove();\n\t\t\t\t\t\t\t/*if (this.id) {\n\t\t\t\t\t\t\t\t$(this).attr(\"id\", this.id + \"_frozen\");\n\t\t\t\t\t\t\t}*/\n\t\t\t\t\t\t});\n\t\t\t\t\t\tgrid.fbRows = frozenRows;\n\n\t\t\t\t\t\t$frozenBTable.width(1).attr(\"id\", p.id + \"_frozen\");\n\t\t\t\t\t\t$frozenBTable.appendTo(grid.fbDiv);\n\t\t\t\t\t\tif (p.hoverrows === true) {\n\t\t\t\t\t\t\tvar hoverRows = function (tr, method, additionalRows) {\n\t\t\t\t\t\t\t\t$(tr)[method](hoverClasses);\n\t\t\t\t\t\t\t\t$(additionalRows[tr.rowIndex])[method](hoverClasses);\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t$(frozenRows).filter(\".jqgrow\").hover(\n\t\t\t\t\t\t\t\tfunction () {\n\t\t\t\t\t\t\t\t\thoverRows(this, \"addClass\", rows);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tfunction () {\n\t\t\t\t\t\t\t\t\thoverRows(this, \"removeClass\", rows);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t$(rows).filter(\".jqgrow\").hover(\n\t\t\t\t\t\t\t\tfunction () {\n\t\t\t\t\t\t\t\t\thoverRows(this, \"addClass\", frozenRows);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tfunction () {\n\t\t\t\t\t\t\t\t\thoverRows(this, \"removeClass\", frozenRows);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfixDiv(grid.fhDiv, grid.hDiv, 0, -1);\n\t\t\t\t\t\tfixDiv(grid.fbDiv, grid.bDiv, 0, -1);\n\t\t\t\t\t\tif (grid.sDiv) { fixDiv(grid.fsDiv, grid.sDiv, 0, -1); }\n\t\t\t\t\t});\n\t\t\t\t\tvar myResize = function (resizeOptions) {\n\t\t\t\t\t\t$(grid.fbDiv).scrollTop($(grid.bDiv).scrollTop());\n\t\t\t\t\t\t// TODO: the width of all column headers can be changed\n\t\t\t\t\t\t// so one should recalculate frozenWidth in other way.\n\t\t\t\t\t\tif (resizeOptions.header.resizeDiv) {\n\t\t\t\t\t\t\tfixDiv(grid.fhDiv, grid.hDiv, resizeOptions.header.resizedRows.iRowStart, resizeOptions.header.resizedRows.iRowEnd);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (resizeOptions.body.resizeDiv) {\n\t\t\t\t\t\t\tfixDiv(grid.fbDiv, grid.bDiv, resizeOptions.body.resizedRows.iRowStart, resizeOptions.body.resizedRows.iRowEnd);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (resizeOptions.resizeFooter && grid.sDiv && resizeOptions.resizeFooter) {\n\t\t\t\t\t\t\tfixDiv(grid.fsDiv, grid.sDiv, 0, -1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar frozenWidth = grid.fhDiv[0].clientWidth;\n\t\t\t\t\t\tif (resizeOptions.header.resizeDiv && grid.fhDiv != null && grid.fhDiv.length >= 1) {\n\t\t\t\t\t\t\tsafeHeightSet($(grid.fhDiv), grid.hDiv.clientHeight);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (resizeOptions.body.resizeDiv && grid.fbDiv != null && grid.fbDiv.length > 0) {\n\t\t\t\t\t\t\tsafeWidthSet($(grid.fbDiv), frozenWidth);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (resizeOptions.resizeFooter && grid.fsDiv != null && grid.fsDiv.length >= 0) {\n\t\t\t\t\t\t\tsafeWidthSet($(grid.fsDiv), frozenWidth);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t$(p.gBox).on(\"resizestop.setFrozenColumns\", function () {\n\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\tmyResize(fullResize);\n\t\t\t\t\t\t}, 50);\n\t\t\t\t\t});\n\t\t\t\t\t$self.on(\"jqGridInlineEditRow.setFrozenColumns jqGridInlineAfterRestoreRow.setFrozenColumns jqGridInlineAfterSaveRow.setFrozenColumns jqGridAfterEditCell.setFrozenColumns jqGridAfterRestoreCell.setFrozenColumns jqGridAfterSaveCell.setFrozenColumns jqGridResizeStop.setFrozenColumns\", function (e, rowid) {\n\t\t\t\t\t\t// TODO: probably one should handle additional events like afterSetRow\n\t\t\t\t\t\t// and remove jqGridInlineAfterSaveRow and jqGridInlineAfterRestoreRow\n\t\t\t\t\t\tvar iRow = $self.jqGrid(\"getInd\", rowid);\n\t\t\t\t\t\tmyResize({\n\t\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t\tresizeDiv: false,  // don't recalculate the position and the height of hDiv\n\t\t\t\t\t\t\t\tresizedRows: {\n\t\t\t\t\t\t\t\t\tiRowStart: -1, // -1 means don't recalculate heights or rows\n\t\t\t\t\t\t\t\t\tiRowEnd: -1\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tresizeFooter: true,    // recalculate the position and the height of sDiv\n\t\t\t\t\t\t\tbody: {\n\t\t\t\t\t\t\t\tresizeDiv: true,   // recalculate the position and the height of bDiv\n\t\t\t\t\t\t\t\tresizedRows: {\n\t\t\t\t\t\t\t\t\t// recalculate the height of only one row inside of bDiv\n\t\t\t\t\t\t\t\t\tiRowStart: iRow,\n\t\t\t\t\t\t\t\t\tiRowEnd: iRow\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\t$self.on(\"jqGridResizeStop.setFrozenColumns\", function () {\n\t\t\t\t\t\tmyResize(fullResize);\n\t\t\t\t\t});\n\t\t\t\t\t$self.on(\"jqGridResetFrozenHeights.setFrozenColumns\", function (e, o) {\n\t\t\t\t\t\tmyResize(o || fullResize);\n\t\t\t\t\t});\n\t\t\t\t\tif (!grid.hDiv.loading) {\n\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t$self.triggerHandler(\"jqGridAfterGridComplete\");\n\t\t\t\t\t\t}, 0);\n\t\t\t\t\t}\n\t\t\t\t\tp.frozenColumns = true;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tdestroyFrozenColumns: function () {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, $self = $($t), grid = $t.grid, p = $t.p, tid = jqID(p.id);\n\t\t\t\tif (!grid) { return; }\n\t\t\t\tif (p.frozenColumns === true) {\n\t\t\t\t\t$(grid.fhDiv).remove();\n\t\t\t\t\t$(grid.fbDiv).off(\".setFrozenColumns\");\n\t\t\t\t\t$(grid.fbDiv).remove();\n\t\t\t\t\tgrid.fhDiv = null;\n\t\t\t\t\tgrid.fbDiv = null;\n\t\t\t\t\tgrid.fbRows = null;\n\t\t\t\t\tif (p.footerrow) {\n\t\t\t\t\t\t$(grid.fsDiv).remove();\n\t\t\t\t\t\tgrid.fsDiv = null;\n\t\t\t\t\t}\n\t\t\t\t\t$self.off(\".setFrozenColumns\");\n\t\t\t\t\tif (p.hoverrows === true) {\n\t\t\t\t\t\tvar ptr, hoverClasses = getGuiStyles.call($t, \"states.hover\");\n\t\t\t\t\t\t$self.on(\"mouseover.jqGrid\", function (e) {\n\t\t\t\t\t\t\tptr = $(e.target).closest(\"tr.jqgrow\");\n\t\t\t\t\t\t\tif ($(ptr).attr(\"class\") !== \"ui-subgrid\") {\n\t\t\t\t\t\t\t\t$(ptr).addClass(hoverClasses);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}).on(\"mouseout.jqGrid\", function (e) {\n\t\t\t\t\t\t\tptr = $(e.target).closest(\"tr.jqgrow\");\n\t\t\t\t\t\t\t$(ptr).removeClass(hoverClasses);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tp.frozenColumns = false;\n\t\t\t\t\tif (p.sortable) {\n\t\t\t\t\t\tvar $colHeaderRow = $(grid.hDiv).find(\".ui-jqgrid-htable .ui-jqgrid-labels\");\n\t\t\t\t\t\t$colHeaderRow.sortable(\"destroy\");\n\t\t\t\t\t\t$self.jqGrid(\"setGridParam\", {\n\t\t\t\t\t\t\tsortable: {\n\t\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\t\titems: \">th:not(:has(#jqgh_\" + tid + \"_cb\" + \",#jqgh_\" + tid + \"_rn\" + \",#jqgh_\" + tid + \"_subgrid),:hidden)\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$self.jqGrid(\"sortableColumns\", $colHeaderRow);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\t// end module grid.custom\n\n\t/**\n\t * jqFilter  jQuery jqGrid filter addon.\n\t * Copyright (c) 2011-2014, Tony Tomov, tony@trirand.com\n\t * Copyright (c) 2014-2018, Oleg Kiriljuk, oleg.kiriljuk@ok-soft-gmbh.com\n\t * Dual licensed under the MIT and GPL licenses\n\t * http://www.opensource.org/licenses/mit-license.php\n\t * http://www.gnu.org/licenses/gpl-2.0.html\n\t *\n\t * The work is inspired from this Stefan Pirvu\n\t * http://www.codeproject.com/KB/scripting/json-filtering.aspx\n\t *\n\t * The filter uses JSON entities to hold filter rules and groups. Here is an example of a filter:\n\n\t{ \"groupOp\": \"AND\",\n\t\t  \"groups\" : [\n\t\t\t{ \"groupOp\": \"OR\",\n\t\t\t\t\"rules\": [\n\t\t\t\t\t{ \"field\": \"name\", \"op\": \"eq\", \"data\": \"England\" },\n\t\t\t\t\t{ \"field\": \"id\", \"op\": \"le\", \"data\": \"5\"}\n\t\t\t\t ]\n\t\t\t}\n\t\t  ],\n\t\t  \"rules\": [\n\t\t\t{ \"field\": \"name\", \"op\": \"eq\", \"data\": \"Romania\" },\n\t\t\t{ \"field\": \"id\", \"op\": \"le\", \"data\": \"1\"}\n\t\t  ]\n\t}\n\t */\n\t// begin module grid.filter\n\t$.fn.jqFilter = function (arg) {\n\t\tif (typeof arg === \"string\") {\n\t\t\tvar fn = $.fn.jqFilter[arg];\n\t\t\tif (!fn) {\n\t\t\t\tthrow (\"jqFilter - No such method: \" + arg);\n\t\t\t}\n\t\t\tvar args = $.makeArray(arguments).slice(1);\n\t\t\treturn fn.apply(this, args);\n\t\t}\n\n\t\tvar p = $.extend(true, {\n\t\t\tfilter: null,\n\t\t\tcolumns: [],\n\t\t\tonChange: null,\n\t\t\tafterRedraw: null,\n\t\t\terror: false,\n\t\t\terrmsg: \"\",\n\t\t\terrorcheck: true,\n\t\t\tshowQuery: true,\n\t\t\tsopt: null,\n\t\t\tops: [],\n\t\t\toperands: null,\n\t\t\tnumopts: [\"eq\", \"ne\", \"lt\", \"le\", \"gt\", \"ge\", \"nu\", \"nn\", \"in\", \"ni\"],\n\t\t\tstropts: [\"eq\", \"ne\", \"bw\", \"bn\", \"ew\", \"en\", \"cn\", \"nc\", \"nu\", \"nn\", \"in\", \"ni\"],\n\t\t\tstrarr: [\"text\", \"string\", \"blob\"],\n\t\t\tgroupOps: [{ op: \"AND\", text: \"AND\" }, { op: \"OR\", text: \"OR\" }],\n\t\t\tgroupButton: true,\n\t\t\truleButtons: true,\n\t\t\tdirection: \"ltr\"\n\t\t}, jgrid.filter, arg || {});\n\t\treturn this.each(function () {\n\t\t\tif (this.filter) { return; }\n\t\t\tthis.p = p;\n\t\t\t// setup filter in case if they is not defined\n\t\t\tif (p.filter === null || p.filter === undefined) {\n\t\t\t\tp.filter = {\n\t\t\t\t\tgroupOp: p.groupOps[0].op,\n\t\t\t\t\trules: [],\n\t\t\t\t\tgroups: []\n\t\t\t\t};\n\t\t\t}\n\t\t\tvar iColumn, len = p.columns.length, cl, isIE = /msie/i.test(navigator.userAgent) && !window.opera,\n\t\t\t\tisFunction = $.isFunction,\n\t\t\t\tfatalErrorFunction = jgrid.defaults != null && isFunction(jgrid.defaults.fatalError) ? jgrid.defaults.fatalError : alert,\n\t\t\t\tgetGrid = function () {\n\t\t\t\t\treturn $(\"#\" + jgrid.jqID(p.id))[0] || null;\n\t\t\t\t},\n\t\t\t\tgetGuiStyles = function (path, jqClasses) {\n\t\t\t\t\treturn $(getGrid()).jqGrid(\"getGuiStyles\", path, jqClasses || \"\");\n\t\t\t\t},\n\t\t\t\tgetRes = function (property) {\n\t\t\t\t\treturn $(getGrid()).jqGrid(\"getGridRes\", \"search.\" + property);\n\t\t\t\t},\n\t\t\t\tgetCmInfo = function (cmName) {\n\t\t\t\t\t// the function convert column name or advanced property name to\n\t\t\t\t\t// object with properties { cm: , iCol: }\n\t\t\t\t\tvar $t = getGrid(), iCol = $t.p.iColByName[cmName]; //iPropByName\n\t\t\t\t\tif (iCol !== undefined) {\n\t\t\t\t\t\treturn { cm: $t.p.colModel[iCol], iCol: iCol };\n\t\t\t\t\t}\n\t\t\t\t\tiCol = $t.p.iPropByName[cmName];\n\t\t\t\t\tif (iCol !== undefined) {\n\t\t\t\t\t\treturn { cm: $t.p.additionalProperties[iCol], iCol: iCol, isAddProp: true };\n\t\t\t\t\t}\n\t\t\t\t\treturn { cm: null, iCol: -1 };\n\t\t\t\t},\n\t\t\t\terrorClass = getGuiStyles(\"states.error\"),\n\t\t\t\tdialogContentClass = getGuiStyles(\"dialog.content\");\n\n\t\t\t// translating the options\n\t\t\tp.initFilter = $.extend(true, {}, p.filter);\n\n\t\t\t// set default values for the columns if they are not set\n\t\t\tif (!len) { return; }\n\t\t\tfor (iColumn = 0; iColumn < len; iColumn++) {\n\t\t\t\tcl = p.columns[iColumn];\n\t\t\t\tif (cl.stype) {\n\t\t\t\t\t// grid compatibility\n\t\t\t\t\tcl.inputtype = cl.stype;\n\t\t\t\t} else if (!cl.inputtype) {\n\t\t\t\t\tcl.inputtype = \"text\";\n\t\t\t\t}\n\t\t\t\tif (cl.sorttype) {\n\t\t\t\t\t// grid compatibility\n\t\t\t\t\tcl.searchtype = cl.sorttype;\n\t\t\t\t} else if (!cl.searchtype) {\n\t\t\t\t\tcl.searchtype = \"string\";\n\t\t\t\t}\n\t\t\t\tif (cl.hidden === undefined) {\n\t\t\t\t\t// jqGrid compatibility\n\t\t\t\t\tcl.hidden = false;\n\t\t\t\t}\n\t\t\t\tif (!cl.label) {\n\t\t\t\t\tcl.label = cl.name;\n\t\t\t\t}\n\t\t\t\tcl.cmName = cl.name;\n\t\t\t\tif (cl.index) {\n\t\t\t\t\tcl.name = cl.index;\n\t\t\t\t}\n\t\t\t\tif (!cl.hasOwnProperty(\"searchoptions\")) {\n\t\t\t\t\tcl.searchoptions = {};\n\t\t\t\t}\n\t\t\t\tif (!cl.hasOwnProperty(\"searchrules\")) {\n\t\t\t\t\tcl.searchrules = {};\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tif (p.showQuery) {\n\t\t\t\t$(this).append(\"<table class='queryresult \" + dialogContentClass +\n\t\t\t\t\t\"' style='display:block;max-width:440px;border:0px none;' dir='\" + p.direction + \"'><tbody><tr><td class='query'></td></tr></tbody></table>\");\n\t\t\t}\n\t\t\t/*\n\t\t\t *Perform checking.\n\t\t\t *\n\t\t\t*/\n\t\t\tvar checkData = function (val, colModelItem) {\n\t\t\t\tvar ret = [true, \"\"], $t = getGrid();\n\t\t\t\tif (isFunction(colModelItem.searchrules)) {\n\t\t\t\t\tret = colModelItem.searchrules.call($t, val, colModelItem);\n\t\t\t\t} else if (jgrid && jgrid.checkValues) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tret = jgrid.checkValues.call($t, val, -1, colModelItem.searchrules, colModelItem.label);\n\t\t\t\t\t} catch (ignore) { }\n\t\t\t\t}\n\t\t\t\tif (ret && ret.length && ret[0] === false) {\n\t\t\t\t\tp.error = !ret[0];\n\t\t\t\t\tp.errmsg = ret[1];\n\t\t\t\t}\n\t\t\t};\n\t\t\t/* moving to common\n\t\t\trandId = function() {\n\t\t\t\treturn Math.floor(Math.random()*10000).toString();\n\t\t\t};\n\t\t\t*/\n\n\t\t\tthis.onchange = function () {\n\t\t\t\t// clear any error\n\t\t\t\tp.error = false;\n\t\t\t\tp.errmsg = \"\";\n\t\t\t\treturn isFunction(p.onChange) ? p.onChange.call(getGrid(), p, this) : false;\n\t\t\t};\n\t\t\t/*\n\t\t\t * Redraw the filter every time when new field is added/deleted\n\t\t\t * and field is  changed\n\t\t\t */\n\t\t\tthis.reDraw = function () {\n\t\t\t\t$(\"table.group:first\", this).remove();\n\t\t\t\tvar t = this.createTableForGroup(p.filter, null);\n\t\t\t\t$(this).append(t);\n\t\t\t\tif (isFunction(p.afterRedraw)) {\n\t\t\t\t\tp.afterRedraw.call(getGrid(), p, this);\n\t\t\t\t}\n\t\t\t};\n\t\t\t/**\n\t\t\t * Creates a grouping data for the filter\n\t\t\t * @param group - object\n\t\t\t * @param parentgroup - object\n\t\t\t */\n\t\t\tthis.createTableForGroup = function (group, parentgroup) {\n\t\t\t\tvar that = this, i;\n\t\t\t\t// this table will hold all the group (tables) and rules (rows)\n\t\t\t\tvar table = $(\"<table class='\" + getGuiStyles(\"searchDialog.operationGroup\", \"group\") +\n\t\t\t\t\t\"' style='border:0px none;'><tbody></tbody></table>\"), align = \"left\";\n\t\t\t\t// create error message row\n\t\t\t\tif (p.direction === \"rtl\") {\n\t\t\t\t\talign = \"right\";\n\t\t\t\t\ttable.attr(\"dir\", \"rtl\");\n\t\t\t\t}\n\t\t\t\tif (parentgroup === null) {\n\t\t\t\t\ttable.append(\"<tr class='error' style='display:none;'><th colspan='5' class='\" + errorClass + \"' align='\" + align + \"'></th></tr>\");\n\t\t\t\t}\n\n\t\t\t\tvar tr = $(\"<tr></tr>\");\n\t\t\t\ttable.append(tr);\n\t\t\t\t// this header will hold the group operator type and group action buttons for\n\t\t\t\t// creating subgroup \"+ {}\", creating rule \"+\" or deleting the group \"-\"\n\t\t\t\tvar th = $(\"<th colspan='5' align='\" + align + \"'></th>\");\n\t\t\t\ttr.append(th);\n\n\t\t\t\tif (p.ruleButtons === true) {\n\t\t\t\t\t// dropdown for: choosing group operator type\n\t\t\t\t\tvar groupOpSelect = $(\"<select class='\" + getGuiStyles(\"searchDialog.operationSelect\", \"opsel\") + \"'></select>\");\n\t\t\t\t\tth.append(groupOpSelect);\n\t\t\t\t\t// populate dropdown with all posible group operators: or, and\n\t\t\t\t\tvar str = \"\", selected;\n\t\t\t\t\tfor (i = 0; i < p.groupOps.length; i++) {\n\t\t\t\t\t\tselected = group.groupOp === that.p.groupOps[i].op ? \" selected='selected'\" : \"\";\n\t\t\t\t\t\tstr += \"<option value='\" + that.p.groupOps[i].op + \"'\" + selected + \">\" + that.p.groupOps[i].text + \"</option>\";\n\t\t\t\t\t}\n\n\t\t\t\t\tgroupOpSelect.append(str)\n\t\t\t\t\t\t.on(\"change\", function () {\n\t\t\t\t\t\t\tgroup.groupOp = $(groupOpSelect).val();\n\t\t\t\t\t\t\tthat.onchange(); // signals that the filter has changed\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t// button for adding a new subgroup\n\t\t\t\tvar inputAddSubgroup = \"<span></span>\";\n\t\t\t\tif (p.groupButton) {\n\t\t\t\t\tinputAddSubgroup = $(\"<input type='button' value='+ {}' title='\" + getRes(\"addGroupTitle\") + \"' class='\" +\n\t\t\t\t\t\tgetGuiStyles(\"searchDialog.addGroupButton\", \"add-group\") + \"'/>\");\n\t\t\t\t\tinputAddSubgroup.on(\"click\", function () {\n\t\t\t\t\t\tif (group.groups === undefined) {\n\t\t\t\t\t\t\tgroup.groups = [];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgroup.groups.push({\n\t\t\t\t\t\t\tgroupOp: p.groupOps[0].op,\n\t\t\t\t\t\t\trules: [],\n\t\t\t\t\t\t\tgroups: []\n\t\t\t\t\t\t}); // adding a new group\n\n\t\t\t\t\t\tthat.reDraw(); // the html has changed, force reDraw\n\n\t\t\t\t\t\tthat.onchange(); // signals that the filter has changed\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tth.append(inputAddSubgroup);\n\t\t\t\tif (p.ruleButtons === true) {\n\t\t\t\t\t// button for adding a new rule\n\t\t\t\t\tvar inputAddRule = $(\"<input type='button' value='+' title='\" + getRes(\"addRuleTitle\") + \"' class='\" +\n\t\t\t\t\t\tgetGuiStyles(\"searchDialog.addRuleButton\", \"add-rule ui-add\") + \"'/>\"), cm;\n\t\t\t\t\tinputAddRule.on(\"click\", function () {\n\t\t\t\t\t\tvar searchable, hidden, ignoreHiding;\n\t\t\t\t\t\t//if(!group) { group = {};}\n\t\t\t\t\t\tif (group.rules === undefined) {\n\t\t\t\t\t\t\tgroup.rules = [];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (i = 0; i < that.p.columns.length; i++) {\n\t\t\t\t\t\t\t// but show only serchable and serchhidden = true fields\n\t\t\t\t\t\t\tsearchable = (that.p.columns[i].search === undefined) ? true : that.p.columns[i].search;\n\t\t\t\t\t\t\thidden = (that.p.columns[i].hidden === true);\n\t\t\t\t\t\t\tignoreHiding = (that.p.columns[i].searchoptions.searchhidden === true);\n\t\t\t\t\t\t\tif ((ignoreHiding && searchable) || (searchable && !hidden)) {\n\t\t\t\t\t\t\t\tcm = that.p.columns[i];\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar opr;\n\t\t\t\t\t\tif (cm.searchoptions.sopt) {\n\t\t\t\t\t\t\topr = cm.searchoptions.sopt;\n\t\t\t\t\t\t} else if (that.p.sopt) {\n\t\t\t\t\t\t\topr = that.p.sopt;\n\t\t\t\t\t\t} else if ($.inArray(cm.searchtype, that.p.strarr) !== -1) {\n\t\t\t\t\t\t\topr = that.p.stropts;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\topr = that.p.numopts;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgroup.rules.push({\n\t\t\t\t\t\t\tfield: cm.name,\n\t\t\t\t\t\t\top: opr[0],\n\t\t\t\t\t\t\tdata: \"\"\n\t\t\t\t\t\t}); // adding a new rule\n\n\t\t\t\t\t\tthat.reDraw(); // the html has changed, force reDraw\n\t\t\t\t\t\t// for the moment no change have been made to the rule, so\n\t\t\t\t\t\t// this will not trigger onchange event\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t});\n\t\t\t\t\tth.append(inputAddRule);\n\t\t\t\t}\n\n\t\t\t\t// button for delete the group\n\t\t\t\tif (parentgroup !== null) { // ignore the first group\n\t\t\t\t\tvar inputDeleteGroup = $(\"<input type='button' value='-' title='\" + getRes(\"deleteGroupTitle\") + \"' class='\" +\n\t\t\t\t\t\tgetGuiStyles(\"searchDialog.deleteGroupButton\", \"delete-group\") + \"'/>\");\n\t\t\t\t\tth.append(inputDeleteGroup);\n\t\t\t\t\tinputDeleteGroup.on(\"click\", function () {\n\t\t\t\t\t\t// remove group from parent\n\t\t\t\t\t\tfor (i = 0; i < parentgroup.groups.length; i++) {\n\t\t\t\t\t\t\tif (parentgroup.groups[i] === group) {\n\t\t\t\t\t\t\t\tparentgroup.groups.splice(i, 1);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthat.reDraw(); // the html has changed, force reDraw\n\n\t\t\t\t\t\tthat.onchange(); // signals that the filter has changed\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// append subgroup rows\n\t\t\t\tif (group.groups !== undefined) {\n\t\t\t\t\tvar trHolderForSubgroup, tdFirstHolderForSubgroup, tdMainHolderForSubgroup;\n\t\t\t\t\tfor (i = 0; i < group.groups.length; i++) {\n\t\t\t\t\t\ttrHolderForSubgroup = $(\"<tr></tr>\");\n\t\t\t\t\t\ttable.append(trHolderForSubgroup);\n\n\t\t\t\t\t\ttdFirstHolderForSubgroup = $(\"<td class='first'></td>\");\n\t\t\t\t\t\ttrHolderForSubgroup.append(tdFirstHolderForSubgroup);\n\n\t\t\t\t\t\ttdMainHolderForSubgroup = $(\"<td colspan='4'></td>\");\n\t\t\t\t\t\ttdMainHolderForSubgroup.append(this.createTableForGroup(group.groups[i], group));\n\t\t\t\t\t\ttrHolderForSubgroup.append(tdMainHolderForSubgroup);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (group.groupOp === undefined) {\n\t\t\t\t\tgroup.groupOp = that.p.groupOps[0].op;\n\t\t\t\t}\n\n\t\t\t\t// append rules rows\n\t\t\t\tif (group.rules !== undefined) {\n\t\t\t\t\tfor (i = 0; i < group.rules.length; i++) {\n\t\t\t\t\t\ttable.append(\n\t\t\t\t\t\t\tthis.createTableRowForRule(group.rules[i], group)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn table;\n\t\t\t};\n\t\t\t/*\n\t\t\t * Create the rule data for the filter\n\t\t\t */\n\t\t\tthis.createTableRowForRule = function (rule, group) {\n\t\t\t\t// save current entity in a variable so that it could\n\t\t\t\t// be referenced in anonimous method calls\n\n\t\t\t\tvar that = this, $t = getGrid(), tr = $(\"<tr></tr>\"),\n\t\t\t\t\ti, op, cm, str = \"\", selected;\n\n\t\t\t\ttr.append(\"<td class='first'></td>\");\n\n\t\t\t\t// create field container\n\t\t\t\tvar ruleFieldTd = $(\"<td class='columns'></td>\");\n\t\t\t\ttr.append(ruleFieldTd);\n\n\t\t\t\t// dropdown for: choosing field\n\t\t\t\tvar ruleFieldSelect = $(\"<select class='\" + getGuiStyles(\"searchDialog.label\", \"selectLabel\") +\n\t\t\t\t\t\"'></select>\"), ina, aoprs = [];\n\t\t\t\truleFieldTd.append(ruleFieldSelect);\n\t\t\t\truleFieldSelect.on(\"change\", function () {\n\t\t\t\t\trule.field = $(ruleFieldSelect).val();\n\n\t\t\t\t\tvar trpar = $(this).parents(\"tr:first\"), columns, k; // define LOCAL variables\n\t\t\t\t\tfor (k = 0; k < that.p.columns.length; k++) {\n\t\t\t\t\t\tif (that.p.columns[k].name === rule.field) {\n\t\t\t\t\t\t\tcolumns = that.p.columns[k];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!columns) { return; }\n\t\t\t\t\tvar editoptions = $.extend({}, columns.editoptions || {});\n\t\t\t\t\tdelete editoptions.readonly;\n\t\t\t\t\tdelete editoptions.disabled;\n\t\t\t\t\tvar searchoptions = $.extend(\n\t\t\t\t\t\t{},\n\t\t\t\t\t\teditoptions || {},\n\t\t\t\t\t\tcolumns.searchoptions || {},\n\t\t\t\t\t\tgetCmInfo(columns.cmName),\n\t\t\t\t\t\t{ id: jgrid.randId(), name: columns.name, mode: \"search\" }\n\t\t\t\t\t);\n\t\t\t\t\tsearchoptions.column = columns; // add reference to that.p.columns[k];\n\t\t\t\t\tif (isIE && columns.inputtype === \"text\") {\n\t\t\t\t\t\tif (!searchoptions.size) {\n\t\t\t\t\t\t\tsearchoptions.size = 10;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvar elm = jgrid.createEl.call($t, columns.inputtype,\n\t\t\t\t\t\t$.extend({}, searchoptions, searchoptions.attr || {}),\n\t\t\t\t\t\t\"\", true, that.p.ajaxSelectOptions || {}, true);\n\t\t\t\t\t$(elm).addClass(getGuiStyles(\"searchDialog.elem\", \"input-elm\"));\n\t\t\t\t\t//that.createElement(rule, \"\");\n\n\t\t\t\t\tif (searchoptions.sopt) {\n\t\t\t\t\t\top = searchoptions.sopt;\n\t\t\t\t\t} else if (that.p.sopt) {\n\t\t\t\t\t\top = that.p.sopt;\n\t\t\t\t\t} else if ($.inArray(columns.searchtype, that.p.strarr) !== -1) {\n\t\t\t\t\t\top = that.p.stropts;\n\t\t\t\t\t} else {\n\t\t\t\t\t\top = that.p.numopts;\n\t\t\t\t\t}\n\t\t\t\t\t// operators\n\t\t\t\t\tvar s = \"\", so = 0, odataItem1, itemOper1, itemText;\n\t\t\t\t\taoprs = [];\n\t\t\t\t\t$.each(that.p.ops, function () { aoprs.push(this.oper); });\n\t\t\t\t\t// append aoprs array with custom operations defined in customSortOperations parameter jqGrid\n\t\t\t\t\tif (that.p.cops) {\n\t\t\t\t\t\t$.each(that.p.cops, function (propertyName) { aoprs.push(propertyName); });\n\t\t\t\t\t}\n\t\t\t\t\tfor (k = 0; k < op.length; k++) {\n\t\t\t\t\t\titemOper1 = op[k];\n\t\t\t\t\t\tina = $.inArray(op[k], aoprs);\n\t\t\t\t\t\tif (ina !== -1) {\n\t\t\t\t\t\t\todataItem1 = that.p.ops[ina];\n\t\t\t\t\t\t\titemText = odataItem1 !== undefined ? odataItem1.text : that.p.cops[itemOper1].text;\n\t\t\t\t\t\t\tif (so === 0) {\n\t\t\t\t\t\t\t\t// the first select item will be automatically selected in single-select\n\t\t\t\t\t\t\t\trule.op = itemOper1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ts += \"<option value='\" + itemOper1 + \"'>\" + itemText + \"</option>\";\n\t\t\t\t\t\t\tso++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t$(\".selectopts\", trpar).empty().append(s);\n\t\t\t\t\t$(\".selectopts\", trpar)[0].selectedIndex = 0;\n\t\t\t\t\tif (jgrid.msie && jgrid.msiever() < 9) {\n\t\t\t\t\t\tvar sw = parseInt($(\"select.selectopts\", trpar)[0].offsetWidth, 10) + 1;\n\t\t\t\t\t\t$(\".selectopts\", trpar).width(sw);\n\t\t\t\t\t\t$(\".selectopts\", trpar).css(\"width\", \"auto\");\n\t\t\t\t\t}\n\t\t\t\t\t// data\n\t\t\t\t\t$(\".data\", trpar).empty().append(elm);\n\t\t\t\t\tif (columns.createColumnIndex && searchoptions.generateDatalist) {\n\t\t\t\t\t\tvar dataListId = \"dl_\" + elm.id,\n\t\t\t\t\t\t\t$datalist = $($t).jqGrid(\"generateDatalistFromColumnIndex\", columns.name);\n\t\t\t\t\t\tif ($datalist != null && $datalist.length > 0) {\n\t\t\t\t\t\t\t$(elm).attr(\"list\", dataListId);\n\t\t\t\t\t\t\t$(\".data\", trpar).append($datalist.attr(\"id\", dataListId));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tjgrid.bindEv.call($t, elm, searchoptions);\n\t\t\t\t\t$(\".input-elm\", trpar).on(\"change\", searchoptions, function (e) {\n\t\t\t\t\t\tvar elem = e.target, column = e.data.column;\n\t\t\t\t\t\trule.data = column && column.inputtype === \"custom\" && isFunction(column.searchoptions.custom_value) ?\n\t\t\t\t\t\t\tcolumn.searchoptions.custom_value.call($t, $(this).find(\".customelement\").first(), \"get\") :\n\t\t\t\t\t\t\telem.value;\n\t\t\t\t\t\tif ($(elem).is(\"input[type=checkbox]\") && !$(elem).is(\":checked\")) {\n\t\t\t\t\t\t\t// value of checkbox contains checked value\n\t\t\t\t\t\t\trule.data = $(elem).data(\"offval\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthat.onchange(); // signals that the filter has changed\n\t\t\t\t\t});\n\t\t\t\t\tsetTimeout(function () { //IE, Opera, Chrome\n\t\t\t\t\t\trule.data = $(elm).val();\n\t\t\t\t\t\tthat.onchange();  // signals that the filter has changed\n\t\t\t\t\t}, 0);\n\t\t\t\t});\n\n\t\t\t\t// populate drop down with user provided column definitions\n\t\t\t\tvar j = 0, searchable, hidden, ignoreHiding;\n\t\t\t\tfor (i = 0; i < that.p.columns.length; i++) {\n\t\t\t\t\t// but show only serchable and serchhidden = true fields\n\t\t\t\t\tsearchable = (that.p.columns[i].search === undefined) ? true : that.p.columns[i].search;\n\t\t\t\t\thidden = (that.p.columns[i].hidden === true);\n\t\t\t\t\tignoreHiding = (that.p.columns[i].searchoptions.searchhidden === true);\n\t\t\t\t\tif ((ignoreHiding && searchable) || (searchable && !hidden)) {\n\t\t\t\t\t\tselected = \"\";\n\t\t\t\t\t\tif (rule.field === that.p.columns[i].name) {\n\t\t\t\t\t\t\tselected = \" selected='selected'\";\n\t\t\t\t\t\t\tj = i;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstr += \"<option value='\" + that.p.columns[i].name + \"'\" + selected + \">\" + that.p.columns[i].label + \"</option>\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\truleFieldSelect.append(str);\n\n\n\t\t\t\t// create operator container\n\t\t\t\tvar ruleOperatorTd = $(\"<td class='operators'></td>\");\n\t\t\t\ttr.append(ruleOperatorTd);\n\t\t\t\tcm = p.columns[j];\n\t\t\t\t// create it here so it can be referentiated in the onchange event\n\t\t\t\t//var RD = that.createElement(rule, rule.data);\n\t\t\t\tif (isIE && cm.inputtype === \"text\") {\n\t\t\t\t\tif (!cm.searchoptions.size) {\n\t\t\t\t\t\tcm.searchoptions.size = 10;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar editoptions = $.extend({}, cm.editoptions || {});\n\t\t\t\tdelete editoptions.readonly;\n\t\t\t\tdelete editoptions.disabled;\n\t\t\t\tvar searchoptions = $.extend(\n\t\t\t\t\t{},\n\t\t\t\t\teditoptions,\n\t\t\t\t\tcm.searchoptions || {},\n\t\t\t\t\tgetCmInfo(cm.cmName),\n\t\t\t\t\t{ id: jgrid.randId(), name: cm.name, mode: \"search\" });\n\t\t\t\tsearchoptions.column = cm;\n\t\t\t\tvar ruleDataInput = jgrid.createEl.call($t, cm.inputtype,\n\t\t\t\t\t$.extend({}, searchoptions, searchoptions.attr || {}),\n\t\t\t\t\trule.data, true, that.p.ajaxSelectOptions || {}, true);\n\t\t\t\tif (rule.op === \"nu\" || rule.op === \"nn\" || $.inArray(rule.op, $t.p.customUnaryOperations) >= 0) {\n\t\t\t\t\t$(ruleDataInput).attr(\"readonly\", \"true\");\n\t\t\t\t\t$(ruleDataInput).attr(\"disabled\", \"true\");\n\t\t\t\t} //retain the state of disabled text fields in case of null ops\n\t\t\t\t// dropdown for: choosing operator\n\t\t\t\tvar ruleOperatorSelect = $(\"<select class='\" + getGuiStyles(\"searchDialog.operator\", \"selectopts\") + \"'></select>\");\n\t\t\t\truleOperatorTd.append(ruleOperatorSelect);\n\t\t\t\truleOperatorSelect.on(\"change\", function () {\n\t\t\t\t\trule.op = $(ruleOperatorSelect).val();\n\t\t\t\t\tvar trpar = $(this).parents(\"tr:first\"),\n\t\t\t\t\t\trd = $(\".input-elm\", trpar)[0];\n\t\t\t\t\tif (rule.op === \"nu\" || rule.op === \"nn\" || $.inArray(rule.op, $t.p.customUnaryOperations) >= 0) { // disable for operator \"is null\" and \"is not null\"\n\t\t\t\t\t\trule.data = \"\";\n\t\t\t\t\t\tif (rd.tagName.toUpperCase() !== \"SELECT\") { rd.value = \"\"; }\n\t\t\t\t\t\trd.setAttribute(\"readonly\", \"true\");\n\t\t\t\t\t\trd.setAttribute(\"disabled\", \"true\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (rd.tagName.toUpperCase() === \"SELECT\") { rule.data = rd.value; }\n\t\t\t\t\t\trd.removeAttribute(\"readonly\");\n\t\t\t\t\t\trd.removeAttribute(\"disabled\");\n\t\t\t\t\t}\n\n\t\t\t\t\tthat.onchange();  // signals that the filter has changed\n\t\t\t\t});\n\n\t\t\t\t// populate drop down with all available operators\n\t\t\t\tif (cm.searchoptions.sopt) {\n\t\t\t\t\top = cm.searchoptions.sopt;\n\t\t\t\t} else if (that.p.sopt) {\n\t\t\t\t\top = that.p.sopt;\n\t\t\t\t} else if ($.inArray(cm.searchtype, that.p.strarr) !== -1) {\n\t\t\t\t\top = that.p.stropts;\n\t\t\t\t} else {\n\t\t\t\t\top = that.p.numopts;\n\t\t\t\t}\n\t\t\t\tstr = \"\";\n\t\t\t\tvar odataItem, itemOper;\n\t\t\t\t$.each(that.p.ops, function () { aoprs.push(this.oper); });\n\t\t\t\t// append aoprs array with custom operations defined in customSortOperations parameter jqGrid\n\t\t\t\tif (that.p.cops) {\n\t\t\t\t\t$.each(that.p.cops, function (propertyName) { aoprs.push(propertyName); });\n\t\t\t\t}\n\t\t\t\tfor (i = 0; i < op.length; i++) {\n\t\t\t\t\titemOper = op[i];\n\t\t\t\t\tina = $.inArray(op[i], aoprs);\n\t\t\t\t\tif (ina !== -1) {\n\t\t\t\t\t\todataItem = that.p.ops[ina];\n\t\t\t\t\t\tselected = rule.op === itemOper ? \" selected='selected'\" : \"\";\n\t\t\t\t\t\tstr += \"<option value='\" + itemOper + \"'\" + selected + \">\" +\n\t\t\t\t\t\t\t(odataItem !== undefined ? odataItem.text : that.p.cops[itemOper].text) +\n\t\t\t\t\t\t\t\"</option>\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\truleOperatorSelect.append(str);\n\t\t\t\t// create data container\n\t\t\t\tvar ruleDataTd = $(\"<td class='data'></td>\");\n\t\t\t\ttr.append(ruleDataTd);\n\n\t\t\t\t// textbox for: data\n\t\t\t\t// is created previously\n\t\t\t\t//ruleDataInput.setAttribute(\"type\", \"text\");\n\t\t\t\truleDataTd.append(ruleDataInput);\n\t\t\t\tif (cm.createColumnIndex && cm.searchoptions.generateDatalist) {\n\t\t\t\t\tvar dataListId = \"dl_\" + ruleDataInput.id,\n\t\t\t\t\t\t$datalist = $($t).jqGrid(\"generateDatalistFromColumnIndex\", cm.name);\n\t\t\t\t\tif ($datalist != null && $datalist.length > 0) {\n\t\t\t\t\t\t$(ruleDataInput).attr(\"list\", dataListId);\n\t\t\t\t\t\truleDataTd.append($datalist.attr(\"id\", dataListId));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tjgrid.bindEv.call($t, ruleDataInput, cm.searchoptions);\n\t\t\t\t$(ruleDataInput).addClass(getGuiStyles(\"searchDialog.elem\", \"input-elm\"))\n\t\t\t\t\t.on(\"change\", function () {\n\t\t\t\t\t\trule.data = cm.inputtype === \"custom\" ?\n\t\t\t\t\t\t\tcm.searchoptions.custom_value.call($t, $(this).find(\".customelement\").first(), \"get\") :\n\t\t\t\t\t\t\t$(this).val();\n\t\t\t\t\t\tif ($(this).is(\"input[type=checkbox]\") && !$(this).is(\":checked\")) {\n\t\t\t\t\t\t\t// value of checkbox contains checked value\n\t\t\t\t\t\t\trule.data = $(this).data(\"offval\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ($.isArray(rule.data)) {\n\t\t\t\t\t\t\trule.data = rule.data.join(p.inFilterSeparator || \",\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthat.onchange(); // signals that the filter has changed\n\t\t\t\t\t});\n\n\t\t\t\t// create action container\n\t\t\t\tvar ruleDeleteTd = $(\"<td></td>\");\n\t\t\t\ttr.append(ruleDeleteTd);\n\n\t\t\t\t// create button for: delete rule\n\t\t\t\tif (p.ruleButtons === true) {\n\t\t\t\t\tvar ruleDeleteInput = $(\"<input type='button' value='-' title='\" + getRes(\"deleteRuleTitle\") + \"' class='\" +\n\t\t\t\t\t\tgetGuiStyles(\"searchDialog.deleteRuleButton\", \"delete-rule ui-del\") + \"'/>\");\n\t\t\t\t\truleDeleteTd.append(ruleDeleteInput);\n\t\t\t\t\t//$(ruleDeleteInput).html(\"\").height(20).width(30).button({icons: {  primary: \"ui-icon-minus\", text:false}});\n\t\t\t\t\truleDeleteInput.on(\"click\", function () {\n\t\t\t\t\t\t// remove rule from group\n\t\t\t\t\t\tfor (i = 0; i < group.rules.length; i++) {\n\t\t\t\t\t\t\tif (group.rules[i] === rule) {\n\t\t\t\t\t\t\t\tgroup.rules.splice(i, 1);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthat.reDraw(); // the html has changed, force reDraw\n\n\t\t\t\t\t\tthat.onchange(); // signals that the filter has changed\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn tr;\n\t\t\t};\n\n\t\t\tthis.getStringForGroup = function (group) {\n\t\t\t\tvar s = \"(\", index;\n\t\t\t\tif (group.groups !== undefined) {\n\t\t\t\t\tfor (index = 0; index < group.groups.length; index++) {\n\t\t\t\t\t\tif (s.length > 1) {\n\t\t\t\t\t\t\ts += \" \" + group.groupOp + \" \";\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\ts += this.getStringForGroup(group.groups[index]);\n\t\t\t\t\t\t} catch (eg) {\n\t\t\t\t\t\t\tfatalErrorFunction(eg);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (group.rules !== undefined) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tfor (index = 0; index < group.rules.length; index++) {\n\t\t\t\t\t\t\tif (s.length > 1) {\n\t\t\t\t\t\t\t\ts += \" \" + group.groupOp + \" \";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ts += this.getStringForRule(group.rules[index]);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tfatalErrorFunction(e);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\ts += \")\";\n\n\t\t\t\tif (s === \"()\") {\n\t\t\t\t\treturn \"\"; // ignore groups that don't have rules\n\t\t\t\t}\n\t\t\t\treturn s;\n\t\t\t};\n\t\t\tthis.getStringForRule = function (rule) {\n\t\t\t\tvar operand = \"\", opC = \"\", i, cm, ret, val = rule.data, oper, numtypes = [\"int\", \"integer\", \"float\", \"number\", \"currency\"]; // jqGrid\n\t\t\t\tfor (i = 0; i < p.ops.length; i++) {\n\t\t\t\t\tif (p.ops[i].oper === rule.op) {\n\t\t\t\t\t\toperand = p.operands.hasOwnProperty(rule.op) ? p.operands[rule.op] : \"\";\n\t\t\t\t\t\topC = p.ops[i].oper;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (opC === \"\" && p.cops != null) {\n\t\t\t\t\tfor (oper in p.cops) {\n\t\t\t\t\t\tif (p.cops.hasOwnProperty(oper)) {\n\t\t\t\t\t\t\topC = oper;\n\t\t\t\t\t\t\toperand = p.cops[oper].operand;\n\t\t\t\t\t\t\tif (isFunction(p.cops[oper].buildQueryValue)) {\n\t\t\t\t\t\t\t\treturn p.cops[oper].buildQueryValue.call(p, { cmName: rule.field, searchValue: val, operand: operand });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (i = 0; i < p.columns.length; i++) {\n\t\t\t\t\tif (p.columns[i].name === rule.field) {\n\t\t\t\t\t\tcm = p.columns[i];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (cm == null) {\n\t\t\t\t\treturn \"\";\n\t\t\t\t}\n\t\t\t\tif (opC === \"bw\" || opC === \"bn\") {\n\t\t\t\t\tval = val + \"%\";\n\t\t\t\t}\n\t\t\t\tif (opC === \"ew\" || opC === \"en\") {\n\t\t\t\t\tval = \"%\" + val;\n\t\t\t\t}\n\t\t\t\tif (opC === \"cn\" || opC === \"nc\") {\n\t\t\t\t\tval = \"%\" + val + \"%\";\n\t\t\t\t}\n\t\t\t\tif (opC === \"in\" || opC === \"ni\") {\n\t\t\t\t\tval = \" (\" + val + \")\";\n\t\t\t\t}\n\t\t\t\tif (p.errorcheck) {\n\t\t\t\t\tcheckData(rule.data, cm);\n\t\t\t\t}\n\t\t\t\tif ($.inArray(cm.searchtype, numtypes) !== -1 || opC === \"nn\" || opC === \"nu\" || $.inArray(opC, getGrid().p.customUnaryOperations) >= 0) {\n\t\t\t\t\tret = rule.field + \" \" + operand + \" \" + val;\n\t\t\t\t} else {\n\t\t\t\t\tret = rule.field + \" \" + operand + ' \"' + val + '\"';\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t\t};\n\t\t\tthis.resetFilter = function () {\n\t\t\t\tp.filter = $.extend(true, {}, p.initFilter);\n\t\t\t\tthis.reDraw();\n\t\t\t\tthis.onchange();\n\t\t\t};\n\t\t\tthis.hideError = function () {\n\t\t\t\t$(\"th.\" + errorClass, this).html(\"\");\n\t\t\t\t$(\"tr.error\", this).hide();\n\t\t\t};\n\t\t\tthis.showError = function () {\n\t\t\t\t$(\"th.\" + errorClass, this).html(p.errmsg);\n\t\t\t\t$(\"tr.error\", this).show();\n\t\t\t};\n\t\t\tthis.toUserFriendlyString = function () {\n\t\t\t\treturn this.getStringForGroup(p.filter);\n\t\t\t};\n\t\t\tthis.toString = function () {\n\t\t\t\t// this will obtain a string that can be used to match an item.\n\t\t\t\tvar that = this;\n\t\t\t\tfunction getStringRule(rule) {\n\t\t\t\t\tif (that.p.errorcheck) {\n\t\t\t\t\t\tvar i, cm;\n\t\t\t\t\t\tfor (i = 0; i < that.p.columns.length; i++) {\n\t\t\t\t\t\t\tif (that.p.columns[i].name === rule.field) {\n\t\t\t\t\t\t\t\tcm = that.p.columns[i];\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (cm) {\n\t\t\t\t\t\t\tcheckData(rule.data, cm);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn rule.op + \"(item.\" + rule.field + \",'\" + rule.data + \"')\";\n\t\t\t\t}\n\n\t\t\t\tfunction getStringForGroup(group) {\n\t\t\t\t\tvar s = \"(\", index;\n\n\t\t\t\t\tif (group.groups !== undefined) {\n\t\t\t\t\t\tfor (index = 0; index < group.groups.length; index++) {\n\t\t\t\t\t\t\tif (s.length > 1) {\n\t\t\t\t\t\t\t\tif (group.groupOp === \"OR\") {\n\t\t\t\t\t\t\t\t\ts += \" || \";\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\ts += \" && \";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ts += getStringForGroup(group.groups[index]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (group.rules !== undefined) {\n\t\t\t\t\t\tfor (index = 0; index < group.rules.length; index++) {\n\t\t\t\t\t\t\tif (s.length > 1) {\n\t\t\t\t\t\t\t\tif (group.groupOp === \"OR\") {\n\t\t\t\t\t\t\t\t\ts += \" || \";\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\ts += \" && \";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ts += getStringRule(group.rules[index]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\ts += \")\";\n\n\t\t\t\t\tif (s === \"()\") {\n\t\t\t\t\t\treturn \"\"; // ignore groups that don't have rules\n\t\t\t\t\t}\n\t\t\t\t\treturn s;\n\t\t\t\t}\n\n\t\t\t\treturn getStringForGroup(p.filter);\n\t\t\t};\n\n\t\t\t// Here we init the filter\n\t\t\tthis.reDraw();\n\n\t\t\tif (p.showQuery) {\n\t\t\t\tthis.onchange();\n\t\t\t}\n\t\t\t// mark is as created so that it will not be created twice on this element\n\t\t\tthis.filter = true;\n\t\t});\n\t};\n\t$.extend($.fn.jqFilter, {\n\t\t/*\n\t\t * Return SQL like string. Can be used directly\n\t\t */\n\t\ttoSQLString: function () {\n\t\t\tvar s = \"\";\n\t\t\tthis.each(function () {\n\t\t\t\ts = this.toUserFriendlyString();\n\t\t\t});\n\t\t\treturn s;\n\t\t},\n\t\t/*\n\t\t * Return filter data as object.\n\t\t */\n\t\tfilterData: function () {\n\t\t\tvar s;\n\t\t\tthis.each(function () {\n\t\t\t\ts = this.p.filter;\n\t\t\t});\n\t\t\treturn s;\n\n\t\t},\n\t\tgetParameter: function (param) {\n\t\t\tif (param !== undefined) {\n\t\t\t\tif (this.p.hasOwnProperty(param)) {\n\t\t\t\t\treturn this.p[param];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this.p;\n\t\t},\n\t\tresetFilter: function () {\n\t\t\treturn this.each(function () {\n\t\t\t\tthis.resetFilter();\n\t\t\t});\n\t\t},\n\t\taddFilter: function (pfilter) {\n\t\t\tif (typeof pfilter === \"string\") {\n\t\t\t\tpfilter = $.parseJSON(pfilter);\n\t\t\t}\n\t\t\tthis.each(function () {\n\t\t\t\tthis.p.filter = pfilter;\n\t\t\t\tthis.reDraw();\n\t\t\t\tthis.onchange();\n\t\t\t});\n\t\t}\n\t});\n\t// end module grid.filter\n\n\t/**\n\t\tThe below work is licensed under Creative Commons GNU LGPL License.\n\n\t\tOriginal work:\n\n\t\tLicense:     http://creativecommons.org/licenses/LGPL/2.1/\n\t\tAuthor:      Stefan Goessner/2006\n\t\tWeb:         http://goessner.net/\n\n\t\tModifications made:\n\n\t\tVersion:     0.9-p5\n\t\tDescription: Restructured code, JSLint validated (no strict whitespaces),\n\t\t\t\t\t added handling of empty arrays, empty strings, and int/floats values.\n\t\tAuthor:      Michael Schøler/2008-01-29\n\t\tWeb:         http://michael.hinnerup.net/blog/2008/01/26/converting-json-to-xml-and-xml-to-json/\n\n\t\tDescription: json2xml added support to convert functions as CDATA\n\t\t\t\t\t so it will be easy to write characters that cause some problems when convert\n\t\tAuthor:      Tony Tomov\n\t */\n\t\t// begin module jsonxml\n\tvar xmlJsonClass = {\n\t\t\t// Param \"xml\": Element or document DOM node.\n\t\t\t// Param \"tab\": Tab or indent string for pretty output formatting omit or use empty string \"\" to supress.\n\t\t\t// Returns:     JSON string\n\t\t\txml2json: function (xml, tab) {\n\t\t\t\tif (xml.nodeType === 9) {\n\t\t\t\t\t// document node\n\t\t\t\t\txml = xml.documentElement;\n\t\t\t\t}\n\t\t\t\tvar nws = this.removeWhite(xml),\n\t\t\t\t\tobj = this.toObj(nws),\n\t\t\t\t\tjson = this.toJson(obj, xml.nodeName, \"\\t\");\n\t\t\t\treturn \"{\\n\" + tab + (tab ? json.replace(/\\t/g, tab) : json.replace(/\\t|\\n/g, \"\")) + \"\\n}\";\n\t\t\t},\n\n\t\t\t// Param \"o\":   JavaScript object\n\t\t\t// Param \"tab\": tab or indent string for pretty output formatting omit or use empty string \"\" to supress.\n\t\t\t// Returns:     XML string\n\t\t\tjson2xml: function (o, tab) {\n\t\t\t\tvar toXml = function (v, name, ind) {\n\t\t\t\t\t\tvar xml = \"\", i, n, sXml, hasChild, m;\n\t\t\t\t\t\tif (v instanceof Array) {\n\t\t\t\t\t\t\tif (v.length === 0) {\n\t\t\t\t\t\t\t\txml += ind + \"<\" + name + \">__EMPTY_ARRAY_</\" + name + \">\\n\";\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfor (i = 0, n = v.length; i < n; i += 1) {\n\t\t\t\t\t\t\t\t\tsXml = ind + toXml(v[i], name, ind + \"\\t\") + \"\\n\";\n\t\t\t\t\t\t\t\t\txml += sXml;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (typeof v === \"object\") {\n\t\t\t\t\t\t\thasChild = false;\n\t\t\t\t\t\t\txml += ind + \"<\" + name;\n\t\t\t\t\t\t\tfor (m in v) {\n\t\t\t\t\t\t\t\tif (v.hasOwnProperty(m)) {\n\t\t\t\t\t\t\t\t\tif (m.charAt(0) === \"@\") {\n\t\t\t\t\t\t\t\t\t\txml += \" \" + m.substr(1) + \"=\\\"\" + v[m].toString() + \"\\\"\";\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\thasChild = true;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\txml += hasChild ? \">\" : \"/>\";\n\t\t\t\t\t\t\tif (hasChild) {\n\t\t\t\t\t\t\t\tfor (m in v) {\n\t\t\t\t\t\t\t\t\tif (v.hasOwnProperty(m)) {\n\t\t\t\t\t\t\t\t\t\tif (m === \"#text\") {\n\t\t\t\t\t\t\t\t\t\t\txml += v[m];\n\t\t\t\t\t\t\t\t\t\t} else if (m === \"#cdata\") {\n\t\t\t\t\t\t\t\t\t\t\txml += \"<![CDATA[\" + v[m] + \"]]>\";\n\t\t\t\t\t\t\t\t\t\t} else if (m.charAt(0) !== \"@\") {\n\t\t\t\t\t\t\t\t\t\t\txml += toXml(v[m], m, ind + \"\\t\");\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\txml += (xml.charAt(xml.length - 1) === \"\\n\" ? ind : \"\") + \"</\" + name + \">\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (typeof v === \"function\") {\n\t\t\t\t\t\t\txml += ind + \"<\" + name + \">\" + \"<![CDATA[\" + v + \"]]>\" + \"</\" + name + \">\";\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (v === undefined) {\n\t\t\t\t\t\t\t\tv = \"\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (v.toString() === \"\\\"\\\"\" || v.toString().length === 0) {\n\t\t\t\t\t\t\t\txml += ind + \"<\" + name + \">__EMPTY_STRING_</\" + name + \">\";\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\txml += ind + \"<\" + name + \">\" + v.toString() + \"</\" + name + \">\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn xml;\n\t\t\t\t\t},\n\t\t\t\t\txml1 = \"\",\n\t\t\t\t\tp;\n\n\t\t\t\tfor (p in o) {\n\t\t\t\t\tif (o.hasOwnProperty(p)) {\n\t\t\t\t\t\txml1 += toXml(o[p], p, \"\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn tab ? xml1.replace(/\\t/g, tab) : xml1.replace(/\\t|\\n/g, \"\");\n\t\t\t},\n\t\t\t// Internal methods\n\t\t\ttoObj: function (xml) {\n\t\t\t\tvar o = {}, funcTest = /function/i, i, textChild = 0, cdataChild = 0, hasElementChild = false, n;\n\t\t\t\tif (xml.nodeType === 1) {\n\t\t\t\t\t// element node ..\n\t\t\t\t\tif (xml.attributes.length) {\n\t\t\t\t\t\t// element with attributes ..\n\t\t\t\t\t\tfor (i = 0; i < xml.attributes.length; i += 1) {\n\t\t\t\t\t\t\to[\"@\" + xml.attributes[i].nodeName] = (xml.attributes[i].nodeValue || \"\").toString();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (xml.firstChild) {\n\t\t\t\t\t\t// element has child nodes ..\n\t\t\t\t\t\tfor (n = xml.firstChild; n; n = n.nextSibling) {\n\t\t\t\t\t\t\tif (n.nodeType === 1) {\n\t\t\t\t\t\t\t\thasElementChild = true;\n\t\t\t\t\t\t\t} else if (n.nodeType === 3 && n.nodeValue.match(/[^ \\f\\n\\r\\t\\v]/)) {\n\t\t\t\t\t\t\t\t// non-whitespace text\n\t\t\t\t\t\t\t\ttextChild += 1;\n\t\t\t\t\t\t\t} else if (n.nodeType === 4) {\n\t\t\t\t\t\t\t\t// cdata section node\n\t\t\t\t\t\t\t\tcdataChild += 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (hasElementChild) {\n\t\t\t\t\t\t\tif (textChild < 2 && cdataChild < 2) {\n\t\t\t\t\t\t\t\t// structured element with evtl. a single text or/and cdata node ..\n\t\t\t\t\t\t\t\tthis.removeWhite(xml);\n\t\t\t\t\t\t\t\tfor (n = xml.firstChild; n; n = n.nextSibling) {\n\t\t\t\t\t\t\t\t\tif (n.nodeType === 3) {\n\t\t\t\t\t\t\t\t\t\t// text node\n\t\t\t\t\t\t\t\t\t\to[\"#text\"] = this.escape(n.nodeValue);\n\t\t\t\t\t\t\t\t\t} else if (n.nodeType === 4) {\n\t\t\t\t\t\t\t\t\t\t// cdata node\n\t\t\t\t\t\t\t\t\t\tif (funcTest.test(n.nodeValue)) {\n\t\t\t\t\t\t\t\t\t\t\to[n.nodeName] = [o[n.nodeName], n.nodeValue];\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\to[\"#cdata\"] = this.escape(n.nodeValue);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else if (o[n.nodeName]) {\n\t\t\t\t\t\t\t\t\t\t// multiple occurence of element ..\n\t\t\t\t\t\t\t\t\t\tif (o[n.nodeName] instanceof Array) {\n\t\t\t\t\t\t\t\t\t\t\to[n.nodeName][o[n.nodeName].length] = this.toObj(n);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\to[n.nodeName] = [o[n.nodeName], this.toObj(n)];\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t// first occurence of element ..\n\t\t\t\t\t\t\t\t\t\to[n.nodeName] = this.toObj(n);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// mixed content\n\t\t\t\t\t\t\t\tif (!xml.attributes.length) {\n\t\t\t\t\t\t\t\t\to = this.escape(this.innerXml(xml));\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\to[\"#text\"] = this.escape(this.innerXml(xml));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (textChild) {\n\t\t\t\t\t\t\t// pure text\n\t\t\t\t\t\t\tif (!xml.attributes.length) {\n\t\t\t\t\t\t\t\to = this.escape(this.innerXml(xml));\n\t\t\t\t\t\t\t\tif (o === \"__EMPTY_ARRAY_\") {\n\t\t\t\t\t\t\t\t\to = \"[]\";\n\t\t\t\t\t\t\t\t} else if (o === \"__EMPTY_STRING_\") {\n\t\t\t\t\t\t\t\t\to = \"\";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\to[\"#text\"] = this.escape(this.innerXml(xml));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (cdataChild) {\n\t\t\t\t\t\t\t// cdata\n\t\t\t\t\t\t\tif (cdataChild > 1) {\n\t\t\t\t\t\t\t\to = this.escape(this.innerXml(xml));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfor (n = xml.firstChild; n; n = n.nextSibling) {\n\t\t\t\t\t\t\t\t\tif (funcTest.test(xml.firstChild.nodeValue)) {\n\t\t\t\t\t\t\t\t\t\to = xml.firstChild.nodeValue;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\to[\"#cdata\"] = this.escape(n.nodeValue);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!xml.attributes.length && !xml.firstChild) {\n\t\t\t\t\t\to = null;\n\t\t\t\t\t}\n\t\t\t\t} else if (xml.nodeType === 9) {\n\t\t\t\t\t// document.node\n\t\t\t\t\to = this.toObj(xml.documentElement);\n\t\t\t\t} else {\n\t\t\t\t\t($.jgrid != null && $.jgrid.defaults != null && $.isFunction($.jgrid.defaults.fatalError) ? $.jgrid.defaults.fatalError : alert)(\"unhandled node type: \" + xml.nodeType);\n\t\t\t\t}\n\t\t\t\treturn o;\n\t\t\t},\n\t\t\ttoJson: function (o, name, ind, wellform) {\n\t\t\t\tif (wellform === undefined) {\n\t\t\t\t\twellform = true;\n\t\t\t\t}\n\t\t\t\tvar json = name ? (\"\\\"\" + name + \"\\\"\") : \"\", tab = \"\\t\", newline = \"\\n\", n, i, ar = [], arr = [], m;\n\t\t\t\tif (!wellform) {\n\t\t\t\t\ttab = \"\";\n\t\t\t\t\tnewline = \"\";\n\t\t\t\t}\n\n\t\t\t\tif (o === \"[]\") {\n\t\t\t\t\tjson += (name ? \":[]\" : \"[]\");\n\t\t\t\t} else if (o instanceof Array) {\n\t\t\t\t\tfor (i = 0, n = o.length; i < n; i += 1) {\n\t\t\t\t\t\tar[i] = this.toJson(o[i], \"\", ind + tab, wellform);\n\t\t\t\t\t}\n\t\t\t\t\tjson += (name ? \":[\" : \"[\") + (ar.length > 1 ? (newline + ind + tab + ar.join(\",\" + newline + ind + tab) + newline + ind) : ar.join(\"\")) + \"]\";\n\t\t\t\t} else if (o === null) {\n\t\t\t\t\tjson += (name && \":\") + \"null\";\n\t\t\t\t} else if (typeof o === \"object\") {\n\t\t\t\t\tfor (m in o) {\n\t\t\t\t\t\tif (o.hasOwnProperty(m)) {\n\t\t\t\t\t\t\tarr[arr.length] = this.toJson(o[m], m, ind + tab, wellform);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tjson += (name ? \":{\" : \"{\") + (arr.length > 1 ? (newline + ind + tab + arr.join(\",\" + newline + ind + tab) + newline + ind) : arr.join(\"\")) + \"}\";\n\t\t\t\t} else if (typeof o === \"string\") {\n\t\t\t\t\tjson += (name && \":\") + \"\\\"\" + o.replace(/\\\\/g, \"\\\\\\\\\").replace(/\\\"/g, '\\\\\"') + \"\\\"\";\n\t\t\t\t} else {\n\t\t\t\t\tjson += (name && \":\") +  o.toString();\n\t\t\t\t}\n\t\t\t\treturn json;\n\t\t\t},\n\t\t\tinnerXml: function (node) {\n\t\t\t\tvar s = \"\", child,\n\t\t\t\t\tasXml = function (n) {\n\t\t\t\t\t\tvar str = \"\", i, c;\n\t\t\t\t\t\tif (n.nodeType === 1) {\n\t\t\t\t\t\t\tstr += \"<\" + n.nodeName;\n\t\t\t\t\t\t\tfor (i = 0; i < n.attributes.length; i += 1) {\n\t\t\t\t\t\t\t\tstr += \" \" + n.attributes[i].nodeName + \"=\\\"\" + (n.attributes[i].nodeValue || \"\").toString() + \"\\\"\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (n.firstChild) {\n\t\t\t\t\t\t\t\tstr += \">\";\n\t\t\t\t\t\t\t\tfor (c = n.firstChild; c; c = c.nextSibling) {\n\t\t\t\t\t\t\t\t\tstr += asXml(c);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tstr += \"</\" + n.nodeName + \">\";\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tstr += \"/>\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (n.nodeType === 3) {\n\t\t\t\t\t\t\tstr += n.nodeValue;\n\t\t\t\t\t\t} else if (n.nodeType === 4) {\n\t\t\t\t\t\t\tstr += \"<![CDATA[\" + n.nodeValue + \"]]>\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn str;\n\t\t\t\t\t};\n\t\t\t\tif (node.hasOwnProperty(\"innerHTML\")) {\n\t\t\t\t\ts = node.innerHTML;\n\t\t\t\t} else {\n\t\t\t\t\tfor (child = node.firstChild; child; child = child.nextSibling) {\n\t\t\t\t\t\ts += asXml(child);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn s;\n\t\t\t},\n\t\t\tescape: function (txt) {\n\t\t\t\treturn txt.replace(/[\\\\]/g, \"\\\\\\\\\").replace(/[\\\"]/g, '\\\\\"').replace(/[\\n]/g, \"\\\\n\").replace(/[\\r]/g, \"\\\\r\");\n\t\t\t},\n\t\t\tremoveWhite: function (e) {\n\t\t\t\te.normalize();\n\t\t\t\tvar n = e.firstChild, nxt;\n\t\t\t\twhile (n) {\n\t\t\t\t\tif (n.nodeType === 3) {\n\t\t\t\t\t\t// text node\n\t\t\t\t\t\tif (!n.nodeValue.match(/[^ \\f\\n\\r\\t\\v]/)) {\n\t\t\t\t\t\t\t// pure whitespace text node\n\t\t\t\t\t\t\tnxt = n.nextSibling;\n\t\t\t\t\t\t\te.removeChild(n);\n\t\t\t\t\t\t\tn = nxt;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tn = n.nextSibling;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (n.nodeType === 1) {\n\t\t\t\t\t\t// element node\n\t\t\t\t\t\tthis.removeWhite(n);\n\t\t\t\t\t\tn = n.nextSibling;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// any other node\n\t\t\t\t\t\tn = n.nextSibling;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn e;\n\t\t\t}\n\t\t};\n\twindow.xmlJsonClass = xmlJsonClass;\n\t// end module jsonxml\n\n\t/**\n\t * jqGrid extension for form editing Grid Data\n\t * Copyright (c) 2008-2014, Tony Tomov, tony@trirand.com, http://trirand.com/blog/\n\t * Copyright (c) 2014-2018, Oleg Kiriljuk, oleg.kiriljuk@ok-soft-gmbh.com\n\t * Dual licensed under the MIT and GPL licenses:\n\t * http://www.opensource.org/licenses/mit-license.php\n\t * http://www.gnu.org/licenses/gpl-2.0.html\n\t **/\n\t\t// begin module grid.formedit\n\tvar jgridFeedback = jgrid.feedback, fullBoolFeedback = jgrid.fullBoolFeedback, builderFmButon = jgrid.builderFmButon,\n\t\taddFormIcon = function ($fmButton, iconInfos, commonIcon) {\n\t\t\tvar iconspan;\n\t\t\tif (iconInfos[0] === true) {\n\t\t\t\ticonspan = \"<span class='\" + mergeCssClasses(\"fm-button-icon\", commonIcon, iconInfos[2]) + \"'></span>\";\n\t\t\t\tif (iconInfos[1] === \"right\") {\n\t\t\t\t\t$fmButton.addClass(\"fm-button-icon-right\").append(iconspan);\n\t\t\t\t} else {\n\t\t\t\t\t$fmButton.addClass(\"fm-button-icon-left\").prepend(iconspan);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tgetGuiStateStyles = function (path) {\n\t\t\treturn getGuiStyles.call(this, \"states.\" + path);\n\t\t},\n\t\thideRowsWithoutVissibleCells = function ($tb) {\n\t\t\t$tb.find(\"tr[data-rowpos]\").each(function () {\n\t\t\t\tvar vissible = 0;\n\t\t\t\t$(this).children(\"td\").each(function () {\n\t\t\t\t\tif ($(this).css(\"visibility\") !== \"hidden\") {\n\t\t\t\t\t\tvissible++;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (!vissible) {\n\t\t\t\t\t$(this).hide();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tisEmptyString = function (htmlStr) {\n\t\t\treturn htmlStr === \"&nbsp;\" || htmlStr === \"&#160;\" || (htmlStr.length === 1 && htmlStr.charCodeAt(0) === 160);\n\t\t};\n\tjgrid.extend({\n\t\tsearchGrid: function (oMuligrid) {\n\t\t\t// if one uses jQuery wrapper with multiple grids, then oMuligrid specify the object with common options\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, $self = $($t), p = $t.p;\n\t\t\t\tif (!$t.grid || p == null) { return; }\n\t\t\t\t// make new copy of the options and use it for ONE specific grid.\n\t\t\t\t// p.searching can contains grid specific options\n\t\t\t\t// we will don't modify the input options oMuligrid\n\t\t\t\tvar o = $.extend(true,\n\t\t\t\t\t{\n\t\t\t\t\t\tdrag: true,\n\t\t\t\t\t\tsField: \"searchField\",\n\t\t\t\t\t\tsValue: \"searchString\",\n\t\t\t\t\t\tsOper: \"searchOper\",\n\t\t\t\t\t\tsFilter: p.prmNames.filters,\n\t\t\t\t\t\tloadDefaults: true, // this options activates loading of default filters from grid's postData for Multipe Search only.\n\t\t\t\t\t\tbeforeShowSearch: null,\n\t\t\t\t\t\tafterShowSearch: null,\n\t\t\t\t\t\tonInitializeSearch: null,\n\t\t\t\t\t\tafterRedraw: null,\n\t\t\t\t\t\tafterChange: null,\n\t\t\t\t\t\tcloseAfterSearch: false,\n\t\t\t\t\t\tcloseAfterReset: false,\n\t\t\t\t\t\tcloseOnEscape: false,\n\t\t\t\t\t\tsearchOnEnter: false,\n\t\t\t\t\t\tmultipleSearch: false,\n\t\t\t\t\t\tmultipleGroup: false,\n\t\t\t\t\t\t// we can't use srort names like resetIcon because of conflict with existing \"x\" of filterToolbar\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\tremovemodal: true,\n\t\t\t\t\t\t//jqModal : true,\n\t\t\t\t\t\t//modal: false,\n\t\t\t\t\t\tresize: true,\n\t\t\t\t\t\twidth: 450,\n\t\t\t\t\t\theight: \"auto\",\n\t\t\t\t\t\tdataheight: \"auto\",\n\t\t\t\t\t\tshowQuery: false,\n\t\t\t\t\t\terrorcheck: true,\n\t\t\t\t\t\tsopt: null,\n\t\t\t\t\t\tstringResult: undefined,\n\t\t\t\t\t\tonClose: null,\n\t\t\t\t\t\tonSearch: null,\n\t\t\t\t\t\tonReset: null,\n\t\t\t\t\t\t//toTop : false,\n\t\t\t\t\t\t//overlay : 30,\n\t\t\t\t\t\tcolumns: [],\n\t\t\t\t\t\ttmplNames: null,\n\t\t\t\t\t\ttmplFilters: null,\n\t\t\t\t\t\ttmplLabel: \" Template: \",\n\t\t\t\t\t\tshowOnLoad: false,\n\t\t\t\t\t\tlayer: null,\n\t\t\t\t\t\toperands: {\n\t\t\t\t\t\t\teq: \"=\",\n\t\t\t\t\t\t\tne: \"<>\",\n\t\t\t\t\t\t\tlt: \"<\",\n\t\t\t\t\t\t\tle: \"<=\",\n\t\t\t\t\t\t\tgt: \">\",\n\t\t\t\t\t\t\tge: \">=\",\n\t\t\t\t\t\t\tbw: \"LIKE\",\n\t\t\t\t\t\t\tbn: \"NOT LIKE\",\n\t\t\t\t\t\t\t\"in\": \"IN\",\n\t\t\t\t\t\t\tni: \"NOT IN\",\n\t\t\t\t\t\t\tew: \"LIKE\",\n\t\t\t\t\t\t\ten: \"NOT LIKE\",\n\t\t\t\t\t\t\tcn: \"LIKE\",\n\t\t\t\t\t\t\tnc: \"NOT LIKE\",\n\t\t\t\t\t\t\tnu: \"IS NULL\",\n\t\t\t\t\t\t\tnn: \"IS NOT NULL\"\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tbase.getGridRes.call($self, \"search\"),\n\t\t\t\t\tjgrid.search || {},\n\t\t\t\t\tp.searching || {},\n\t\t\t\t\toMuligrid || {});\n\n\t\t\t\tvar fid = \"fbox_\" + p.id, commonIconClass = o.commonIconClass,\n\t\t\t\t\tids = { themodal: \"searchmod\" + fid, modalhead: \"searchhd\" + fid, modalcontent: \"searchcnt\" + fid, resizeAlso: fid },\n\t\t\t\t\tthemodalSelector = \"#\" + jqID(ids.themodal), gboxSelector = p.gBox, gviewSelector = p.gView, each = $.each,\n\t\t\t\t\tdefaultFilters = p.postData[o.sFilter],\n\t\t\t\t\tsearchFeedback = function () {\n\t\t\t\t\t\tvar args = $.makeArray(arguments);\n\t\t\t\t\t\targs.unshift(\"Search\");\n\t\t\t\t\t\targs.unshift(\"Filter\");\n\t\t\t\t\t\targs.unshift(o);\n\t\t\t\t\t\treturn jgridFeedback.apply($t, args);\n\t\t\t\t\t},\n\t\t\t\t\thideModel = function () {\n\t\t\t\t\t\tjgrid.hideModal(themodalSelector, {\n\t\t\t\t\t\t\tgb: gboxSelector,\n\t\t\t\t\t\t\tjqm: o.jqModal,\n\t\t\t\t\t\t\tonClose: o.onClose,\n\t\t\t\t\t\t\tremovemodal: o.removemodal\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\tif (typeof defaultFilters === \"string\") {\n\t\t\t\t\tdefaultFilters = $.trim(defaultFilters) !== \"\" ? $.parseJSON(defaultFilters) : undefined;\n\t\t\t\t}\n\t\t\t\t$(themodalSelector).remove();\n\t\t\t\tfunction showFilter($filter) {\n\t\t\t\t\tif (searchFeedback(\"beforeShow\", $filter)) {\n\t\t\t\t\t\t$(themodalSelector).data(\"onClose\", o.onClose);\n\t\t\t\t\t\tjgrid.viewModal.call($t, themodalSelector, {\n\t\t\t\t\t\t\tgbox: gboxSelector,\n\t\t\t\t\t\t\tjqm: o.jqModal,\n\t\t\t\t\t\t\toverlay: o.overlay,\n\t\t\t\t\t\t\tmodal: o.modal,\n\t\t\t\t\t\t\toverlayClass: o.overlayClass,\n\t\t\t\t\t\t\ttoTop: o.toTop,\n\t\t\t\t\t\t\tonHide: function (h) {\n\t\t\t\t\t\t\t\th.w.remove();\n\t\t\t\t\t\t\t\tif (h.o) { h.o.remove(); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tsearchFeedback(\"afterShow\", $filter);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ($(themodalSelector)[0] !== undefined) {\n\t\t\t\t\tshowFilter($(\"#fbox_\" + jqID(p.id)));\n\t\t\t\t} else {\n\t\t\t\t\tvar fil = $(\"<div><div id='\" + fid + \"' class='\" +\n\t\t\t\t\t\tgetGuiStyles.call($t, \"dialog.body\", \"searchFilter\") +\n\t\t\t\t\t\t\"' style='overflow:auto'></div></div>\").insertBefore(gviewSelector);\n\t\t\t\t\tif (p.direction === \"rtl\") {\n\t\t\t\t\t\tfil.attr(\"dir\", \"rtl\");\n\t\t\t\t\t}\n\t\t\t\t\tvar bQ = \"\", tmpl = \"\", colnm, found = false, bt, cmi = -1, columns = $.extend([], p.colModel),\n\t\t\t\t\t\tbS = builderFmButon.call($t, fid + \"_search\", o.Find, mergeCssClasses(commonIconClass, o.findDialogIcon), \"right\"),\n\t\t\t\t\t\tbC = builderFmButon.call($t, fid + \"_reset\", o.Reset, mergeCssClasses(commonIconClass, o.resetDialogIcon), \"left\");\n\t\t\t\t\tif (o.showQuery) {\n\t\t\t\t\t\tbQ = builderFmButon.call($t, fid + \"_query\", \"Query\", mergeCssClasses(commonIconClass, o.queryDialogIcon), \"left\") +\n\t\t\t\t\t\t\t\"&#160;\";\n\t\t\t\t\t}\n\t\t\t\t\tif (o.searchForAdditionalProperties) {\n\t\t\t\t\t\teach(p.additionalProperties, function () {\n\t\t\t\t\t\t\tvar cm = typeof this === \"string\" ? { name: this } : this;\n\t\t\t\t\t\t\tif (!cm.label) {\n\t\t\t\t\t\t\t\tcm.label = cm.name;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcm.isAddProp = true,\n\t\t\t\t\t\t\t\tcolumns.push(cm);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!o.columns.length) {\n\t\t\t\t\t\teach(columns, function (i, n) {\n\t\t\t\t\t\t\tif (!n.label) {\n\t\t\t\t\t\t\t\tn.label = n.isAddProp ? n.name : p.colNames[i];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// find first searchable column and set it if no default filter\n\t\t\t\t\t\t\tif (!found) {\n\t\t\t\t\t\t\t\tvar searchable = (n.search === undefined) ? true : n.search,\n\t\t\t\t\t\t\t\t\thidden = (n.hidden === true),\n\t\t\t\t\t\t\t\t\tignoreHiding = (n.searchoptions && n.searchoptions.searchhidden === true);\n\t\t\t\t\t\t\t\tif ((ignoreHiding && searchable) || (searchable && !hidden)) {\n\t\t\t\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\t\t\t\tcolnm = n.index || n.name;\n\t\t\t\t\t\t\t\t\tcmi = i;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcolumns = o.columns;\n\t\t\t\t\t\tcmi = 0;\n\t\t\t\t\t\tcolnm = columns[0].index || columns[0].name;\n\t\t\t\t\t}\n\t\t\t\t\t// old behaviour\n\t\t\t\t\tif ((!defaultFilters && colnm) || o.multipleSearch === false) {\n\t\t\t\t\t\tvar cmop = \"eq\";\n\t\t\t\t\t\tif (cmi >= 0 && columns[cmi].searchoptions && columns[cmi].searchoptions.sopt) {\n\t\t\t\t\t\t\tcmop = columns[cmi].searchoptions.sopt[0];\n\t\t\t\t\t\t} else if (o.sopt && o.sopt.length) {\n\t\t\t\t\t\t\tcmop = o.sopt[0];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdefaultFilters = { groupOp: \"AND\", rules: [{ field: colnm, op: cmop, data: \"\" }] };\n\t\t\t\t\t}\n\t\t\t\t\tfound = false;\n\t\t\t\t\tif (o.tmplNames && o.tmplNames.length) {\n\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\ttmpl = o.tmplLabel;\n\t\t\t\t\t\ttmpl += \"<select class='ui-template'>\";\n\t\t\t\t\t\ttmpl += \"<option value='default'>Default</option>\";\n\t\t\t\t\t\teach(o.tmplNames, function (i, n) {\n\t\t\t\t\t\t\ttmpl += \"<option value='\" + i + \"'>\" + n + \"</option>\";\n\t\t\t\t\t\t});\n\t\t\t\t\t\ttmpl += \"</select>\";\n\t\t\t\t\t}\n\n\t\t\t\t\tbt = \"<div class='\" + getGuiStyles.call($t, \"dialog.footer\") + \"'><table class='EditTable' style='border:0px none;margin-top:5px' id='\" + fid + \"_2'><tbody><tr><td colspan='2'><hr class='\" +\n\t\t\t\t\t\tgetGuiStyles.call($t, \"dialog.hr\") + \"' style='margin:1px'/></td></tr><tr><td class='EditButton EditButton-\" + p.direction + \"'  style='float:\" + (p.direction === \"rtl\" ? \"right\" : \"left\") + \";'>\" + bC + tmpl + \"</td><td class='EditButton EditButton-\" + p.direction + \"'>\" + bQ + bS + \"</td></tr></tbody></table></div>\";\n\t\t\t\t\tfid = jqID(fid);\n\t\t\t\t\to.gbox = gboxSelector; //\"#gbox_\" + fid;\n\t\t\t\t\to.height = \"auto\";\n\t\t\t\t\tfid = \"#\" + fid;\n\t\t\t\t\t$(fid).jqFilter({\n\t\t\t\t\t\tcolumns: columns,\n\t\t\t\t\t\tfilter: o.loadDefaults ? defaultFilters : null,\n\t\t\t\t\t\tshowQuery: o.showQuery,\n\t\t\t\t\t\terrorcheck: o.errorcheck,\n\t\t\t\t\t\tsopt: o.sopt,\n\t\t\t\t\t\tgroupButton: o.multipleGroup,\n\t\t\t\t\t\truleButtons: o.multipleSearch,\n\t\t\t\t\t\tafterRedraw: o.afterRedraw,\n\t\t\t\t\t\tops: o.odata,\n\t\t\t\t\t\tcops: p.customSortOperations,\n\t\t\t\t\t\toperands: o.operands,\n\t\t\t\t\t\tajaxSelectOptions: p.ajaxSelectOptions,\n\t\t\t\t\t\tgroupOps: o.groupOps,\n\t\t\t\t\t\tonChange: function (filterOptions, filterDiv) {\n\t\t\t\t\t\t\tif (filterOptions.showQuery) {\n\t\t\t\t\t\t\t\t$(\".query\", filterDiv).text(filterDiv.toUserFriendlyString());\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfullBoolFeedback.call($t, o.afterChange, \"jqGridFilterAfterChange\", $(fid), o, filterOptions, filterDiv);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdirection: p.direction,\n\t\t\t\t\t\tid: p.id\n\t\t\t\t\t});\n\t\t\t\t\tfil.append(bt);\n\t\t\t\t\tif (found && o.tmplFilters && o.tmplFilters.length) {\n\t\t\t\t\t\t$(\".ui-template\", fil).on(\"change\", function () {\n\t\t\t\t\t\t\tvar curtempl = $(this).val();\n\t\t\t\t\t\t\tif (curtempl === \"default\") {\n\t\t\t\t\t\t\t\t$(fid).jqFilter(\"addFilter\", defaultFilters);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$(fid).jqFilter(\"addFilter\", o.tmplFilters[parseInt(curtempl, 10)]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (o.multipleGroup === true) { o.multipleSearch = true; }\n\t\t\t\t\tsearchFeedback(\"onInitialize\", $(fid));\n\t\t\t\t\tif (o.layer) {\n\t\t\t\t\t\tjgrid.createModal.call($t, ids, fil, o, gviewSelector, $(gboxSelector)[0], \"#\" + jqID(o.layer), { position: \"relative\" });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tjgrid.createModal.call($t, ids, fil, o, gviewSelector, $(gboxSelector)[0]);\n\t\t\t\t\t}\n\t\t\t\t\tif (o.searchOnEnter || o.closeOnEscape) {\n\t\t\t\t\t\t$(themodalSelector).keydown(function (e) {\n\t\t\t\t\t\t\tvar $target = $(e.target);\n\t\t\t\t\t\t\tif (o.searchOnEnter && e.which === 13 && // 13 === $.ui.keyCode.ENTER\n\t\t\t\t\t\t\t\t!$target.hasClass(\"add-group\") && !$target.hasClass(\"add-rule\") &&\n\t\t\t\t\t\t\t\t!$target.hasClass(\"delete-group\") && !$target.hasClass(\"delete-rule\") &&\n\t\t\t\t\t\t\t\t(!$target.hasClass(\"fm-button\") || !$target.is(\"[id$=_query]\"))) {\n\t\t\t\t\t\t\t\t$(fid + \"_search\").click();\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (o.closeOnEscape && e.which === 27) { // 27 === $.ui.keyCode.ESCAPE\n\t\t\t\t\t\t\t\t$(\"#\" + jqID(ids.modalhead)).find(\".ui-jqdialog-titlebar-close\").click();\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (bQ) {\n\t\t\t\t\t\t$(fid + \"_query\").on(\"click\", function () {\n\t\t\t\t\t\t\t$(\".queryresult\", fil).toggle();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (o.stringResult === undefined) {\n\t\t\t\t\t\t// to provide backward compatibility, inferring stringResult value from multipleSearch\n\t\t\t\t\t\to.stringResult = o.multipleSearch;\n\t\t\t\t\t}\n\t\t\t\t\t$(fid + \"_search\").on(\"click\", function () {\n\t\t\t\t\t\tvar sdata = {}, res = \"\", filters, fl = $(fid), $inputs = fl.find(\".input-elm\");\n\t\t\t\t\t\tif ($inputs.filter(\":focus\")) {\n\t\t\t\t\t\t\t$inputs = $inputs.filter(\":focus\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$inputs.change();\n\t\t\t\t\t\tfilters = fl.jqFilter(\"filterData\");\n\t\t\t\t\t\tif (o.errorcheck) {\n\t\t\t\t\t\t\tfl[0].hideError();\n\t\t\t\t\t\t\tif (!o.showQuery) { fl.jqFilter(\"toSQLString\"); }\n\t\t\t\t\t\t\tif (fl[0].p.error) {\n\t\t\t\t\t\t\t\tfl[0].showError();\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (o.stringResult || p.datatype === \"local\") {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tres = JSON.stringify(filters);\n\t\t\t\t\t\t\t} catch (ignore) { }\n\t\t\t\t\t\t\tif (typeof res === \"string\") {\n\t\t\t\t\t\t\t\tsdata[o.sFilter] = res;\n\t\t\t\t\t\t\t\teach([o.sField, o.sValue, o.sOper], function () { sdata[this] = \"\"; });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (o.multipleSearch) {\n\t\t\t\t\t\t\t\tsdata[o.sFilter] = filters;\n\t\t\t\t\t\t\t\teach([o.sField, o.sValue, o.sOper], function () { sdata[this] = \"\"; });\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsdata[o.sField] = filters.rules[0].field;\n\t\t\t\t\t\t\t\tsdata[o.sValue] = filters.rules[0].data;\n\t\t\t\t\t\t\t\tsdata[o.sOper] = filters.rules[0].op;\n\t\t\t\t\t\t\t\tsdata[o.sFilter] = \"\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$.extend(p.postData, sdata);\n\t\t\t\t\t\tif (fullBoolFeedback.call($t, o.onSearch, \"jqGridFilterSearch\", p.filters)) {\n\t\t\t\t\t\t\tp.search = true;\n\t\t\t\t\t\t\t$self.trigger(\"reloadGrid\", [$.extend({ page: 1 }, o.reloadGridSearchOptions || {})]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (o.closeAfterSearch) {\n\t\t\t\t\t\t\thideModel();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t});\n\t\t\t\t\t$(fid + \"_reset\").on(\"click\", function () {\n\t\t\t\t\t\tvar sdata = {}, fl1 = $(fid);\n\t\t\t\t\t\tp.search = false;\n\t\t\t\t\t\tp.resetsearch = true;\n\t\t\t\t\t\tif (o.multipleSearch === false) {\n\t\t\t\t\t\t\tsdata[o.sField] = sdata[o.sValue] = sdata[o.sOper] = \"\";\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsdata[o.sFilter] = \"\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfl1[0].resetFilter();\n\t\t\t\t\t\tif (found) {\n\t\t\t\t\t\t\t$(\".ui-template\", fil).val(\"default\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$.extend(p.postData, sdata);\n\t\t\t\t\t\tif (fullBoolFeedback.call($t, o.onReset, \"jqGridFilterReset\")) {\n\t\t\t\t\t\t\t$self.trigger(\"reloadGrid\", [$.extend({ page: 1 }, o.reloadGridResetOptions || {})]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (o.closeAfterReset) {\n\t\t\t\t\t\t\thideModel();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t});\n\t\t\t\t\tshowFilter($(fid));\n\t\t\t\t\tvar hoverClasses = getGuiStateStyles.call($t, \"hover\");\n\t\t\t\t\t// !!! The next row will not work if \"states.disabled\" is defined using more as one CSS class\n\t\t\t\t\t$(\".fm-button:not(.\" + getGuiStateStyles.call($t, \"disabled\").split(\" \").join(\".\") + \")\", fil).hover(\n\t\t\t\t\t\tfunction () { $(this).addClass(hoverClasses); },\n\t\t\t\t\t\tfunction () { $(this).removeClass(hoverClasses); }\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\teditGridRow: function (rowid, oMuligrid) {    // if one uses jQuery wrapper with multiple grids, then oMultiple specify the object with common options\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, $self = $($t), p = $t.p;\n\t\t\t\tif (!$t.grid || p == null || !rowid) { return; }\n\t\t\t\t// make new copy of the options oMuligrid and use it for ONE specific grid.\n\t\t\t\t// p.formEditing can contains grid specific options\n\t\t\t\t// we will don't modify the input options oMuligrid\n\t\t\t\tvar gridId = p.id, getGridRes = base.getGridRes, setSelection = base.setSelection,\n\t\t\t\t\to = $.extend(true,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\twidth: 300,\n\t\t\t\t\t\t\tdatawidth: \"auto\",\n\t\t\t\t\t\t\theight: \"auto\",\n\t\t\t\t\t\t\tdataheight: \"auto\",\n\t\t\t\t\t\t\t//modal: false,\n\t\t\t\t\t\t\t//toTop : false,\n\t\t\t\t\t\t\t//overlay : 30,\n\t\t\t\t\t\t\tdrag: true,\n\t\t\t\t\t\t\tresize: true,\n\t\t\t\t\t\t\turl: null,\n\t\t\t\t\t\t\tmtype: \"POST\",\n\t\t\t\t\t\t\tclearAfterAdd: true,\n\t\t\t\t\t\t\tcloseAfterEdit: false,\n\t\t\t\t\t\t\treloadAfterSubmit: true,\n\t\t\t\t\t\t\tonInitializeForm: null,\n\t\t\t\t\t\t\tbeforeInitData: null,\n\t\t\t\t\t\t\tbeforeShowForm: null,\n\t\t\t\t\t\t\tafterShowForm: null,\n\t\t\t\t\t\t\tbeforeSubmit: null,\n\t\t\t\t\t\t\tafterSubmit: null,\n\t\t\t\t\t\t\tonclickSubmit: null,\n\t\t\t\t\t\t\tafterComplete: null,\n\t\t\t\t\t\t\tonclickPgButtons: null,\n\t\t\t\t\t\t\tafterclickPgButtons: null,\n\t\t\t\t\t\t\teditData: {},\n\t\t\t\t\t\t\t//jqModal : true,\n\t\t\t\t\t\t\tcloseOnEscape: false,\n\t\t\t\t\t\t\taddedrow: \"first\",\n\t\t\t\t\t\t\ttopinfo: \"\",\n\t\t\t\t\t\t\tbottominfo: \"\",\n\t\t\t\t\t\t\tlabelswidth: \"\",\n\t\t\t\t\t\t\tsavekey: [false, 13],\n\t\t\t\t\t\t\tnavkeys: [false, 38, 40],\n\t\t\t\t\t\t\tcheckOnSubmit: false,\n\t\t\t\t\t\t\tcheckOnUpdate: false,\n\t\t\t\t\t\t\t_savedData: {},\n\t\t\t\t\t\t\tprocessing: false,\n\t\t\t\t\t\t\tonClose: null,\n\t\t\t\t\t\t\tajaxEditOptions: {},\n\t\t\t\t\t\t\tserializeEditData: null,\n\t\t\t\t\t\t\tviewPagerButtons: true,\n\t\t\t\t\t\t\toverlayClass: getGuiStyles.call(this, \"overlay\"),\n\t\t\t\t\t\t\tremovemodal: true,\n\t\t\t\t\t\t\tskipPostTypes: [\"image\", \"file\"],\n\t\t\t\t\t\t\tsaveui: \"enable\",\n\t\t\t\t\t\t\tsavetext: getGridRes.call($self, \"defaults.savetext\") || \"Saving...\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetGridRes.call($self, \"edit\"),\n\t\t\t\t\t\tjgrid.edit,\n\t\t\t\t\t\tp.formEditing || {},\n\t\t\t\t\t\toMuligrid || {});\n\n\t\t\t\tvar frmgr = \"FrmGrid_\" + gridId, frmgrId = frmgr, frmtborg = \"TblGrid_\" + gridId, frmtb = \"#\" + jqID(frmtborg), frmtb2 = frmtb + \"_2\",\n\t\t\t\t\tids = { themodal: \"editmod\" + gridId, modalhead: \"edithd\" + gridId, modalcontent: \"editcnt\" + gridId, resizeAlso: frmgr },\n\t\t\t\t\tthemodalSelector = \"#\" + jqID(ids.themodal), gboxSelector = p.gBox, colModel = p.colModel, iColByName = p.iColByName,\n\t\t\t\t\tmaxCols = 1, maxRows = 0, postdata, diff, editOrAdd, commonIconClass = o.commonIconClass,\n\t\t\t\t\thideModal = function () {\n\t\t\t\t\t\tjgrid.hideModal(themodalSelector, {\n\t\t\t\t\t\t\tgb: gboxSelector,\n\t\t\t\t\t\t\tjqm: o.jqModal,\n\t\t\t\t\t\t\tonClose: o.onClose,\n\t\t\t\t\t\t\tremovemodal: o.removemodal\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\terrcap = getGridRes.call($self, \"errors.errcap\"),\n\t\t\t\t\teditFeedback = function () {\n\t\t\t\t\t\tvar args = $.makeArray(arguments);\n\t\t\t\t\t\targs.unshift(\"\");\n\t\t\t\t\t\targs.unshift(\"AddEdit\");\n\t\t\t\t\t\targs.unshift(o);\n\t\t\t\t\t\treturn jgridFeedback.apply($t, args);\n\t\t\t\t\t},\n\t\t\t\t\thoverClasses = getGuiStateStyles.call($t, \"hover\"),\n\t\t\t\t\tdisabledClass = getGuiStateStyles.call($t, \"disabled\"),\n\t\t\t\t\thighlightClass = getGuiStateStyles.call($t, \"select\"),\n\t\t\t\t\tactiveClass = getGuiStateStyles.call($t, \"active\"),\n\t\t\t\t\terrorClass = getGuiStateStyles.call($t, \"error\");\n\n\t\t\t\t$(themodalSelector).remove();\n\t\t\t\tfrmgr = \"#\" + jqID(frmgr);\n\t\t\t\tif (rowid === \"new\") {\n\t\t\t\t\trowid = \"_empty\";\n\t\t\t\t\teditOrAdd = \"add\";\n\t\t\t\t\to.caption = o.addCaption;\n\t\t\t\t} else {\n\t\t\t\t\to.caption = o.editCaption;\n\t\t\t\t\teditOrAdd = \"edit\";\n\t\t\t\t}\n\t\t\t\tvar closeovrl = true;\n\t\t\t\tif (o.checkOnUpdate && (o.jqModal === true || o.jqModal === undefined) && !o.modal) {\n\t\t\t\t\tcloseovrl = false;\n\t\t\t\t}\n\t\t\t\tfunction getFormData() {\n\t\t\t\t\t$(frmtb + \" > tbody > tr > td .FormElement\").each(function () {\n\t\t\t\t\t\tvar $celm = $(\".customelement\", this),\n\t\t\t\t\t\t\tnm = $celm.length ? $celm.attr(\"name\") : this.name,\n\t\t\t\t\t\t\tiCol = iColByName[nm],\n\t\t\t\t\t\t\tcm = iCol !== undefined ? colModel[iCol] || {} : {},\n\t\t\t\t\t\t\teditoptions = cm.editoptions || {},\n\t\t\t\t\t\t\tformatoptions, newformat, type;\n\t\t\t\t\t\tif ($celm.length && $.isFunction(editoptions.custom_value)) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tpostdata[nm] = editoptions.custom_value.call($t, $(\"#\" + jqID(nm), frmtb), \"get\");\n\t\t\t\t\t\t\t\tif (postdata[nm] === undefined) { throw \"e1\"; }\n\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\tif (e === \"e1\") {\n\t\t\t\t\t\t\t\t\tjgrid.info_dialog.call($t, errcap, \"function 'custom_value' \" + o.msg.novalue, o.bClose);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tjgrid.info_dialog.call($t, errcap, e.message, o.bClose);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttype = $(this)[0].type;\n\t\t\t\t\t\t\tswitch (type) {\n\t\t\t\t\t\t\t\tcase \"checkbox\":\n\t\t\t\t\t\t\t\t\tvar checkBoxValues = typeof editoptions.value === \"string\" ?\n\t\t\t\t\t\t\t\t\t\teditoptions.value.split(\":\") :\n\t\t\t\t\t\t\t\t\t\t[\"Yes\", \"No\"];\n\t\t\t\t\t\t\t\t\tpostdata[nm] = $(this).is(\":checked\") ? checkBoxValues[0] : checkBoxValues[1];\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase \"select-one\":\n\t\t\t\t\t\t\t\t\tpostdata[nm] = $(\"option:selected\", this).val();\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase \"select-multiple\":\n\t\t\t\t\t\t\t\t\tpostdata[nm] = $(this).val();\n\t\t\t\t\t\t\t\t\tpostdata[nm] = postdata[nm] ? postdata[nm].join(\",\") : \"\";\n\t\t\t\t\t\t\t\t\tvar selectedText = [];\n\t\t\t\t\t\t\t\t\t$(\"option:selected\", this).each(\n\t\t\t\t\t\t\t\t\t\tfunction (i, selected) {\n\t\t\t\t\t\t\t\t\t\t\tselectedText[i] = $(selected).text();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase \"date\":\n\t\t\t\t\t\t\t\t\tpostdata[nm] = $(this).val();\n\t\t\t\t\t\t\t\t\tif (String(postdata[nm]).split(\"-\").length === 3) {\n\t\t\t\t\t\t\t\t\t\tformatoptions = cm.formatoptions || {};\n\t\t\t\t\t\t\t\t\t\tnewformat = formatoptions.newformat || getGridRes.call($self, \"formatter.date.newformat\");\n\t\t\t\t\t\t\t\t\t\tpostdata[nm] = jgrid.parseDate.call($self[0], \"Y-m-d\", postdata[nm], newformat);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\tif (type !== undefined && $.inArray(type, o.skipPostTypes) < 0) {\n\t\t\t\t\t\t\t\t\t\tpostdata[nm] = $(this).val();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tfunction createData(rowid1, tb, maxcols) {\n\t\t\t\t\tvar cnt = 0, retpos = [], ind = false, $tb = $(tb),\n\t\t\t\t\t\tlabelsWidth = String(o.labelswidth) + (!o.labelswidth || isNaN(o.labelswidth) ? \"\" : \"px\"),\n\t\t\t\t\t\ttdtmpl = \"<td class='CaptionTD\" +\n\t\t\t\t\t\t\t(labelsWidth ? \"' style='width:\" + labelsWidth + \";\" : \"\") +\n\t\t\t\t\t\t\t\"'>&#160;</td><td class='DataTD'>&#160;</td>\", tmpl = \"\", i; //*2\n\t\t\t\t\tfor (i = 1; i <= maxcols; i++) {\n\t\t\t\t\t\ttmpl += tdtmpl;\n\t\t\t\t\t}\n\t\t\t\t\tif (rowid1 !== \"_empty\") {\n\t\t\t\t\t\tind = base.getInd.call($self, rowid1);\n\t\t\t\t\t}\n\t\t\t\t\t$(colModel).each(function (iCol) {\n\t\t\t\t\t\tvar cm = this, nm = cm.name, $td, hc, trdata, tmp, elc, editable = cm.editable, disabled = false, readonly = false,\n\t\t\t\t\t\t\tmode = rowid1 === \"_empty\" ? \"addForm\" : \"editForm\";\n\t\t\t\t\t\tif ($.isFunction(editable)) {\n\t\t\t\t\t\t\teditable = editable.call($t, {\n\t\t\t\t\t\t\t\trowid: rowid1,\n\t\t\t\t\t\t\t\tiCol: iCol,\n\t\t\t\t\t\t\t\tiRow: ind, // can be false for Add operation\n\t\t\t\t\t\t\t\tcmName: nm,\n\t\t\t\t\t\t\t\tcm: cm,\n\t\t\t\t\t\t\t\tmode: mode\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// hidden fields are included in the form\n\t\t\t\t\t\tif (cm.editrules && cm.editrules.edithidden === true) {\n\t\t\t\t\t\t\thc = false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thc = cm.hidden === true || editable === \"hidden\" ? true : false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tswitch (String(editable).toLowerCase()) {\n\t\t\t\t\t\t\tcase \"hidden\":\n\t\t\t\t\t\t\t\teditable = true;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"disabled\":\n\t\t\t\t\t\t\t\teditable = true;\n\t\t\t\t\t\t\t\tdisabled = true;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"readonly\":\n\t\t\t\t\t\t\t\teditable = true;\n\t\t\t\t\t\t\t\treadonly = true;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (nm !== \"cb\" && nm !== \"subgrid\" && editable === true && nm !== \"rn\") {\n\t\t\t\t\t\t\tif (ind === false) {\n\t\t\t\t\t\t\t\ttmp = \"\";\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$td = $($t.rows[ind].cells[iCol]); // $(\"td[role=gridcell]:eq(\" + i + \")\", $t.rows[ind])\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\ttmp = $.unformat.call($t, $td, { rowId: rowid1, colModel: cm }, iCol);\n\t\t\t\t\t\t\t\t} catch (_) {\n\t\t\t\t\t\t\t\t\ttmp = (cm.edittype && cm.edittype === \"textarea\") ? $td.text() : $td.html();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (isEmptyString(tmp)) { tmp = \"\"; }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar opt = $.extend({}, cm.editoptions || {},\n\t\t\t\t\t\t\t\t\t{ id: nm, name: nm, rowId: rowid1, mode: mode, cm: cm, iCol: iCol }),\n\t\t\t\t\t\t\t\tfrmopt = $.extend({}, { elmprefix: \"\", elmsuffix: \"\", rowabove: false, rowcontent: \"\" }, cm.formoptions || {}),\n\t\t\t\t\t\t\t\trp = parseInt(frmopt.rowpos, 10) || cnt + 1,\n\t\t\t\t\t\t\t\tcp = parseInt((parseInt(frmopt.colpos, 10) || 1) * 2, 10);\n\t\t\t\t\t\t\tif (rowid1 === \"_empty\" && opt.defaultValue) {\n\t\t\t\t\t\t\t\ttmp = $.isFunction(opt.defaultValue) ? opt.defaultValue.call($t) : opt.defaultValue;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!cm.edittype) { cm.edittype = \"text\"; }\n\t\t\t\t\t\t\tif (p.autoEncodeOnEdit) { tmp = jgrid.oldDecodePostedData(tmp); }\n\t\t\t\t\t\t\telc = jgrid.createEl.call($t, cm.edittype, opt, tmp, false, $.extend({}, jgrid.ajaxOptions, p.ajaxSelectOptions || {}));\n\t\t\t\t\t\t\t//if(tmp === \"\" && cm.edittype == \"checkbox\") {tmp = $(elc).data(\"offval\");}\n\t\t\t\t\t\t\t//if(tmp === \"\" && cm.edittype == \"select\") {tmp = $(\"option:eq(0)\",elc).text();}\n\t\t\t\t\t\t\tif (o.checkOnSubmit || o.checkOnUpdate) { o._savedData[nm] = tmp; }\n\t\t\t\t\t\t\t$(elc).addClass(\"FormElement\");\n\t\t\t\t\t\t\tif ($.inArray(cm.edittype, [\"text\", \"textarea\", \"checkbox\", \"password\", \"select\"]) > -1) {\n\t\t\t\t\t\t\t\t$(elc).addClass(getGuiStyles.call($t, \"dialog.dataField\"));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttrdata = $tb.find(\"tr[data-rowpos=\" + rp + \"]\");\n\t\t\t\t\t\t\tif (frmopt.rowabove) {\n\t\t\t\t\t\t\t\tvar newdata = $(\"<tr><td class='contentinfo' colspan='\" + (maxcols * 2) + \"'>\" + frmopt.rowcontent + \"</td></tr>\");\n\t\t\t\t\t\t\t\t$tb.append(newdata);\n\t\t\t\t\t\t\t\tnewdata[0].rp = rp;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (trdata.length === 0) {\n\t\t\t\t\t\t\t\ttrdata = $(\"<tr data-rowpos='\" + rp + \"'></tr>\").addClass(\"FormData\").attr(\"id\", \"tr_\" + nm);\n\t\t\t\t\t\t\t\t$(trdata).append(tmpl);\n\t\t\t\t\t\t\t\t$tb.append(trdata);\n\t\t\t\t\t\t\t\ttrdata[0].rp = rp;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar $label = $(\"td:eq(\" + (cp - 2) + \")\", trdata[0]),\n\t\t\t\t\t\t\t\t$data = $(\"td:eq(\" + (cp - 1) + \")\", trdata[0]);\n\t\t\t\t\t\t\t$label.html(frmopt.label === undefined ? p.colNames[iCol] : frmopt.label || \"&#160;\");\n\t\t\t\t\t\t\tvar $dataCell = $data[isEmptyString($data.html()) ? \"html\" : \"append\"](frmopt.elmprefix);\n\t\t\t\t\t\t\t$dataCell.append(elc).append(frmopt.elmsuffix);\n\t\t\t\t\t\t\tif (elc.tagName.toUpperCase() === \"INPUT\" && cm.createColumnIndex && opt.generateDatalist) {\n\t\t\t\t\t\t\t\tvar $datalist = $self.jqGrid(\"generateDatalistFromColumnIndex\", cm.name);\n\t\t\t\t\t\t\t\tif ($datalist != null && $datalist.length > 0) {\n\t\t\t\t\t\t\t\t\t$(elc).attr(\"list\", \"dl_\" + elc.id);\n\t\t\t\t\t\t\t\t\t$dataCell.append($datalist.attr(\"id\", \"dl_\" + elc.id));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (disabled) {\n\t\t\t\t\t\t\t\t$label.addClass(disabledClass);\n\t\t\t\t\t\t\t\t$data.addClass(disabledClass);\n\t\t\t\t\t\t\t\t$(elc).prop(\"readonly\", true);\n\t\t\t\t\t\t\t\t$(elc).prop(\"disabled\", true);\n\t\t\t\t\t\t\t} else if (readonly) {\n\t\t\t\t\t\t\t\t$(elc).prop(\"readonly\", true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (cm.edittype === \"custom\" && $.isFunction(opt.custom_value)) {\n\t\t\t\t\t\t\t\topt.custom_value.call($t, $(\"#\" + jqID(nm), frmgr), \"set\", tmp);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tjgrid.bindEv.call($t, elc, opt);\n\t\t\t\t\t\t\tif (hc) {\n\t\t\t\t\t\t\t\t$label.add($data).css(\"visibility\", \"hidden\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tretpos[cnt] = iCol;\n\t\t\t\t\t\t\tcnt++;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\thideRowsWithoutVissibleCells($tb);\n\t\t\t\t\tif (cnt > 0) {\n\t\t\t\t\t\tvar idrow = $(\"<tr class='FormData' style='display:none'><td class='CaptionTD'>&#160;</td><td colspan='\" + (maxcols * 2 - 1) + \"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='\" + gridId + \"_id' value='\" + rowid1 + \"'/></td></tr>\");\n\t\t\t\t\t\tidrow[0].rp = cnt + 999;\n\t\t\t\t\t\t$tb.append(idrow);\n\t\t\t\t\t\tif (o.checkOnSubmit || o.checkOnUpdate) { o._savedData[gridId + \"_id\"] = rowid1; }\n\t\t\t\t\t}\n\t\t\t\t\treturn retpos;\n\t\t\t\t}\n\t\t\t\tfunction fillData(rowid1, fmid) {\n\t\t\t\t\tvar nm, cnt = 0, fld, opt, vl, vlc;\n\t\t\t\t\tif (o.checkOnSubmit || o.checkOnUpdate) { o._savedData = {}; o._savedData[gridId + \"_id\"] = rowid1; }\n\t\t\t\t\tvar cm = p.colModel;\n\t\t\t\t\tif (rowid1 === \"_empty\") {\n\t\t\t\t\t\t$(cm).each(function () {\n\t\t\t\t\t\t\tnm = this.name;\n\t\t\t\t\t\t\topt = $.extend({}, this.editoptions || {});\n\t\t\t\t\t\t\tfld = $(\"#\" + jqID(nm), fmid);\n\t\t\t\t\t\t\tif (fld && fld.length && fld[0] !== null) {\n\t\t\t\t\t\t\t\tvl = \"\";\n\t\t\t\t\t\t\t\tif (this.edittype === \"custom\" && $.isFunction(opt.custom_value)) {\n\t\t\t\t\t\t\t\t\topt.custom_value.call($t, fld, \"set\", vl);\n\t\t\t\t\t\t\t\t} else if (opt.defaultValue) {\n\t\t\t\t\t\t\t\t\tvl = $.isFunction(opt.defaultValue) ? opt.defaultValue.call($t) : opt.defaultValue;\n\t\t\t\t\t\t\t\t\tif (fld[0].type === \"checkbox\") {\n\t\t\t\t\t\t\t\t\t\tvlc = vl.toLowerCase();\n\t\t\t\t\t\t\t\t\t\tif (vlc.search(/(false|f|0|no|n|off|undefined)/i) < 0 && vlc !== \"\") {\n\t\t\t\t\t\t\t\t\t\t\tfld[0].checked = true;\n\t\t\t\t\t\t\t\t\t\t\tfld[0].defaultChecked = true;\n\t\t\t\t\t\t\t\t\t\t\tfld[0].value = vl;\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tfld[0].checked = false;\n\t\t\t\t\t\t\t\t\t\t\tfld[0].defaultChecked = false;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else { fld.val(vl); }\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (fld[0].type === \"checkbox\") {\n\t\t\t\t\t\t\t\t\t\tfld[0].checked = false;\n\t\t\t\t\t\t\t\t\t\tfld[0].defaultChecked = false;\n\t\t\t\t\t\t\t\t\t\tvl = $(fld).data(\"offval\");\n\t\t\t\t\t\t\t\t\t} else if (fld[0].type && fld[0].type.substr(0, 6) === \"select\") {\n\t\t\t\t\t\t\t\t\t\tfld[0].selectedIndex = 0;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tfld.val(vl);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (o.checkOnSubmit === true || o.checkOnUpdate) { o._savedData[nm] = vl; }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$(\"#id_g\", fmid).val(rowid1);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tvar tre = base.getInd.call($self, rowid1, true);\n\t\t\t\t\tif (!tre) { return; }\n\t\t\t\t\t//$(\"td[role=gridcell]\", tre)\n\t\t\t\t\t$(tre.cells).filter(\"td[role=gridcell]\").each(function (i) {\n\t\t\t\t\t\tvar tmp;\n\t\t\t\t\t\tnm = cm[i].name;\n\t\t\t\t\t\t// hidden fields are included in the form\n\t\t\t\t\t\tif (nm !== \"cb\" && nm !== \"subgrid\" && nm !== \"rn\" && cm[i].editable === true) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\ttmp = $.unformat.call($t, $(this), { rowId: rowid1, colModel: cm[i] }, i);\n\t\t\t\t\t\t\t} catch (_) {\n\t\t\t\t\t\t\t\ttmp = cm[i].edittype === \"textarea\" ? $(this).text() : $(this).html();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (p.autoEncodeOnEdit) { tmp = jgrid.oldDecodePostedData(tmp); }\n\t\t\t\t\t\t\tif (o.checkOnSubmit === true || o.checkOnUpdate) { o._savedData[nm] = tmp; }\n\t\t\t\t\t\t\tnm = \"#\" + jqID(nm);\n\t\t\t\t\t\t\tswitch (cm[i].edittype) {\n\t\t\t\t\t\t\t\tcase \"password\":\n\t\t\t\t\t\t\t\tcase \"text\":\n\t\t\t\t\t\t\t\tcase \"button\":\n\t\t\t\t\t\t\t\tcase \"image\":\n\t\t\t\t\t\t\t\tcase \"textarea\":\n\t\t\t\t\t\t\t\t\tif (isEmptyString(tmp)) { tmp = \"\"; }\n\t\t\t\t\t\t\t\t\t$(nm, fmid).val(tmp);\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase \"select\":\n\t\t\t\t\t\t\t\t\tvar valuesToSelect = tmp.split(\",\");\n\t\t\t\t\t\t\t\t\tvaluesToSelect = $.map(valuesToSelect, function (n) { return $.trim(n); });\n\t\t\t\t\t\t\t\t\t// first of all we try to select options testing the valuesToSelect,\n\t\t\t\t\t\t\t\t\t// we will remove the values from valuesToSelect, which will be found by value\n\t\t\t\t\t\t\t\t\t// In the next step we go through all options once more time and select the options\n\t\t\t\t\t\t\t\t\t// testing there by text. In other words selection by text will be used only for\n\t\t\t\t\t\t\t\t\t// values from valuesToSelect, which not exist as option by value\n\t\t\t\t\t\t\t\t\t$(nm + \" option\", fmid).each(function () {\n\t\t\t\t\t\t\t\t\t\tvar selOpt = this, $selOpt = $(selOpt), optVal = $.trim($selOpt.val()), iVal;\n\t\t\t\t\t\t\t\t\t\tif (!cm[i].editoptions.multiple && valuesToSelect[0] === optVal) {\n\t\t\t\t\t\t\t\t\t\t\tvaluesToSelect.splice(0, 1);\n\t\t\t\t\t\t\t\t\t\t\tselOpt.selected = true;\n\t\t\t\t\t\t\t\t\t\t} else if (cm[i].editoptions.multiple) {\n\t\t\t\t\t\t\t\t\t\t\tiVal = $.inArray(optVal, valuesToSelect);\n\t\t\t\t\t\t\t\t\t\t\tif (iVal > -1) {\n\t\t\t\t\t\t\t\t\t\t\t\tvaluesToSelect.splice(iVal, 1);\n\t\t\t\t\t\t\t\t\t\t\t\tselOpt.selected = true;\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tselOpt.selected = false;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tselOpt.selected = false;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif (valuesToSelect.length === 0) { return false; }\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tif (valuesToSelect.length > 0) {\n\t\t\t\t\t\t\t\t\t\t$(nm + \" option\", fmid).each(function () {\n\t\t\t\t\t\t\t\t\t\t\tvar selOpt = this, $selOpt = $(selOpt), optText = $.trim($selOpt.text()), iVal;\n\t\t\t\t\t\t\t\t\t\t\tif (!cm[i].editoptions.multiple && ($.trim(tmp) === optText || valuesToSelect[0] === optText)) {\n\t\t\t\t\t\t\t\t\t\t\t\tvaluesToSelect.splice(0, 1);\n\t\t\t\t\t\t\t\t\t\t\t\tselOpt.selected = true;\n\t\t\t\t\t\t\t\t\t\t\t} else if (cm[i].editoptions.multiple) {\n\t\t\t\t\t\t\t\t\t\t\t\tiVal = $.inArray(optText, valuesToSelect);\n\t\t\t\t\t\t\t\t\t\t\t\tif (iVal > -1) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tvaluesToSelect.splice(iVal, 1);\n\t\t\t\t\t\t\t\t\t\t\t\t\tselOpt.selected = true;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif (valuesToSelect.length === 0) { return false; }\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase \"checkbox\":\n\t\t\t\t\t\t\t\t\ttmp = String(tmp);\n\t\t\t\t\t\t\t\t\t// tmp will be set below (in the if-else) to Boolean true or false\n\t\t\t\t\t\t\t\t\tif (cm[i].editoptions && cm[i].editoptions.value) {\n\t\t\t\t\t\t\t\t\t\ttmp = cm[i].editoptions.value.split(\":\")[0] === tmp;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\ttmp = tmp.toLowerCase();\n\t\t\t\t\t\t\t\t\t\ttmp = tmp.search(/(false|f|0|no|n|off|undefined)/i) < 0 && tmp !== \"\";\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t$(nm, fmid).prop({ checked: tmp, defaultChecked: tmp });\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase \"custom\":\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tif (cm[i].editoptions && $.isFunction(cm[i].editoptions.custom_value)) {\n\t\t\t\t\t\t\t\t\t\t\tcm[i].editoptions.custom_value.call($t, $(nm, fmid), \"set\", tmp);\n\t\t\t\t\t\t\t\t\t\t} else { throw \"e1\"; }\n\t\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\t\tif (e === \"e1\") {\n\t\t\t\t\t\t\t\t\t\t\tjgrid.info_dialog.call($t, errcap, \"function 'custom_value' \" + o.msg.nodefined, o.bClose);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tjgrid.info_dialog.call($t, errcap, e.message, o.bClose);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcnt++;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tif (cnt > 0) { $(\"#id_g\", frmtb).val(rowid1); }\n\t\t\t\t}\n\t\t\t\tfunction setNullsOrUnformat() {\n\t\t\t\t\tvar url = o.url || p.editurl;\n\t\t\t\t\t$.each(colModel, function (i, cm) {\n\t\t\t\t\t\tvar cmName = cm.name;\n\t\t\t\t\t\tif (postdata.hasOwnProperty(cmName)) {\n\t\t\t\t\t\t\tif (cm.formatter === \"date\" && (cm.formatoptions == null || cm.formatoptions.sendFormatted !== true)) {\n\t\t\t\t\t\t\t\t// TODO: call all other predefined formatters!!! Not only formatter: \"date\" have the problem.\n\t\t\t\t\t\t\t\t// Floating point separator for example\n\t\t\t\t\t\t\t\tpostdata[cmName] = $.unformat.date.call($t, postdata[cmName], cm);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (url !== \"clientArray\" && cm.editoptions && cm.editoptions.NullIfEmpty === true && postdata[cmName] === \"\") {\n\t\t\t\t\t\t\t\tpostdata[cmName] = \"null\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tfunction postIt() {\n\t\t\t\t\tvar successResult = [true, \"\", \"\"], ret = successResult, onClickSubmitResult = {}, opers = p.prmNames, idname, oper, key, selr, i, url, itm, iCol,\n\t\t\t\t\t\tiRow = base.getInd.call($self, rowid),\n\t\t\t\t\t\ttr = iRow === false ? null : $t.rows[iRow],\n\t\t\t\t\t\tretvals = $self.triggerHandler(\"jqGridAddEditBeforeCheckValues\", [postdata, $(frmgr), editOrAdd]);\n\n\t\t\t\t\tif (retvals && typeof retvals === \"object\") { postdata = retvals; }\n\n\t\t\t\t\tiRow = iRow === false ? -1 : iRow;\n\n\t\t\t\t\tif ($.isFunction(o.beforeCheckValues)) {\n\t\t\t\t\t\tretvals = o.beforeCheckValues.call($t, postdata, $(frmgr), editOrAdd);\n\t\t\t\t\t\tif (retvals && typeof retvals === \"object\") { postdata = retvals; }\n\t\t\t\t\t}\n\t\t\t\t\tfor (key in postdata) {\n\t\t\t\t\t\tif (postdata.hasOwnProperty(key)) {\n\t\t\t\t\t\t\tiCol = p.iColByName[key];\n\t\t\t\t\t\t\tret = jgrid.checkValues.call($t, postdata[key], key, undefined, undefined, {\n\t\t\t\t\t\t\t\toldValue: rowid === \"_empty\" ? null : base.getCell.call($self, rowid, iCol),\n\t\t\t\t\t\t\t\tnewValue: postdata[key],\n\t\t\t\t\t\t\t\tcmName: key,\n\t\t\t\t\t\t\t\trowid: rowid,\n\t\t\t\t\t\t\t\tcm: colModel[iCol],\n\t\t\t\t\t\t\t\tiCol: iCol,\n\t\t\t\t\t\t\t\tiRow: iRow,\n\t\t\t\t\t\t\t\ttr: tr,\n\t\t\t\t\t\t\t\ttd: tr == null ? null : tr.cells[iCol],\n\t\t\t\t\t\t\t\tmode: rowid === \"_empty\" ? \"addForm\" : \"editForm\"\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif (ret == null || ret === true) { ret = successResult; }\n\t\t\t\t\t\t\tif (ret[0] === false) { break; }\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tsetNullsOrUnformat();\n\t\t\t\t\tif (ret[0]) {\n\t\t\t\t\t\tonClickSubmitResult = $self.triggerHandler(\"jqGridAddEditClickSubmit\", [o, postdata, editOrAdd]);\n\t\t\t\t\t\tif (onClickSubmitResult === undefined && $.isFunction(o.onclickSubmit)) {\n\t\t\t\t\t\t\tonClickSubmitResult = o.onclickSubmit.call($t, o, postdata, editOrAdd) || {};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tret = $self.triggerHandler(\"jqGridAddEditBeforeSubmit\", [postdata, $(frmgr), editOrAdd]);\n\t\t\t\t\t\tif (ret == null || ret === true) { ret = successResult; }\n\t\t\t\t\t\tif (ret[0] && $.isFunction(o.beforeSubmit)) {\n\t\t\t\t\t\t\tret = o.beforeSubmit.call($t, postdata, $(frmgr), editOrAdd);\n\t\t\t\t\t\t\tif (ret == null || ret === true) { ret = successResult; }\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (ret[0] && !o.processing) {\n\t\t\t\t\t\to.processing = true;\n\t\t\t\t\t\t$(\"#sData\", frmtb2).addClass(activeClass);\n\t\t\t\t\t\turl = o.url || p.editurl;\n\t\t\t\t\t\toper = opers.oper;\n\t\t\t\t\t\tidname = url === \"clientArray\" && p.keyName !== false ? p.keyName : opers.id;\n\t\t\t\t\t\t// we add to pos data array the action - the name is oper\n\t\t\t\t\t\tpostdata[oper] = ($.trim(postdata[gridId + \"_id\"]) === \"_empty\") ? opers.addoper : opers.editoper;\n\t\t\t\t\t\tif (postdata[oper] !== opers.addoper) {\n\t\t\t\t\t\t\tpostdata[idname] = postdata[gridId + \"_id\"];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// check to see if we have allredy this field in the form and if yes lieve it\n\t\t\t\t\t\t\tif (postdata[idname] === undefined) { postdata[idname] = postdata[gridId + \"_id\"]; }\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdelete postdata[gridId + \"_id\"];\n\t\t\t\t\t\tpostdata = $.extend(postdata, o.editData, onClickSubmitResult);\n\t\t\t\t\t\tif (p.treeGrid === true) {\n\t\t\t\t\t\t\tif (postdata[oper] === opers.addoper) {\n\t\t\t\t\t\t\t\tselr = p.selrow;\n\t\t\t\t\t\t\t\tvar parentIdField = p.treeGridModel === \"adjacency\" ? p.treeReader.parent_id_field : \"parent_id\";\n\t\t\t\t\t\t\t\tpostdata[parentIdField] = selr;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfor (i in p.treeReader) {\n\t\t\t\t\t\t\t\tif (p.treeReader.hasOwnProperty(i)) {\n\t\t\t\t\t\t\t\t\titm = p.treeReader[i];\n\t\t\t\t\t\t\t\t\tif (postdata.hasOwnProperty(itm)) {\n\t\t\t\t\t\t\t\t\t\tif (postdata[oper] === opers.addoper && i === \"parent_id_field\") { continue; }\n\t\t\t\t\t\t\t\t\t\tdelete postdata[itm];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tpostdata[idname] = jgrid.stripPref(p.idPrefix, postdata[idname]);\n\t\t\t\t\t\tif (p.autoEncodeOnEdit) {\n\t\t\t\t\t\t\t$.each(postdata, function (n, v) {\n\t\t\t\t\t\t\t\tif (!$.isFunction(v)) {\n\t\t\t\t\t\t\t\t\tpostdata[n] = jgrid.oldEncodePostedData(v);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar ajaxOptions = $.extend({\n\t\t\t\t\t\t\turl: $.isFunction(url) ? url.call($t, postdata[idname], editOrAdd, postdata, o) : url,\n\t\t\t\t\t\t\ttype: $.isFunction(o.mtype) ? o.mtype.call($t, editOrAdd, o, postdata[idname], postdata) : o.mtype,\n\t\t\t\t\t\t\t//data: $.isFunction(o.serializeEditData) ? o.serializeEditData.call($t,postdata) :  postdata,\n\t\t\t\t\t\t\tdata: jgrid.serializeFeedback.call($t,\n\t\t\t\t\t\t\t\t$.isFunction(o.serializeEditData) ? o.serializeEditData : p.serializeEditData,\n\t\t\t\t\t\t\t\t\"jqGridAddEditSerializeEditData\",\n\t\t\t\t\t\t\t\tpostdata),\n\t\t\t\t\t\t\tcomplete: function (jqXHR, textStatus) {\n\t\t\t\t\t\t\t\t$self.jqGrid(\"progressBar\", { method: \"hide\", loadtype: o.saveui });\n\t\t\t\t\t\t\t\t$(\"#sData\", frmtb2).removeClass(activeClass);\n\t\t\t\t\t\t\t\tpostdata[idname] = $(\"#id_g\", frmtb).val();\n\t\t\t\t\t\t\t\tif ((jqXHR.status >= 300 && jqXHR.status !== 304) || (jqXHR.status === 0 && jqXHR.readyState === 4)) {\n\t\t\t\t\t\t\t\t\tret[0] = false;\n\t\t\t\t\t\t\t\t\tret[1] = $self.triggerHandler(\"jqGridAddEditErrorTextFormat\", [jqXHR, editOrAdd]);\n\t\t\t\t\t\t\t\t\tif ($.isFunction(o.errorTextFormat)) {\n\t\t\t\t\t\t\t\t\t\tret[1] = o.errorTextFormat.call($t, jqXHR, editOrAdd);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tret[1] = textStatus + \" Status: '\" + jqXHR.statusText + \"'. Error code: \" + jqXHR.status;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t// data is posted successful\n\t\t\t\t\t\t\t\t\t// execute aftersubmit with the returned data from server\n\t\t\t\t\t\t\t\t\tret = $self.triggerHandler(\"jqGridAddEditAfterSubmit\", [jqXHR, postdata, editOrAdd]);\n\t\t\t\t\t\t\t\t\tif (ret == null || ret === true) { ret = successResult; }\n\t\t\t\t\t\t\t\t\tif (ret[0] && $.isFunction(o.afterSubmit)) {\n\t\t\t\t\t\t\t\t\t\tret = o.afterSubmit.call($t, jqXHR, postdata, editOrAdd);\n\t\t\t\t\t\t\t\t\t\tif (ret == null || ret === true) { ret = successResult; }\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (ret[0] === false) {\n\t\t\t\t\t\t\t\t\t$(\"#FormError>td\", frmtb).html(ret[1]);\n\t\t\t\t\t\t\t\t\t$(\"#FormError\", frmtb).show();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (p.autoEncodeOnEdit) {\n\t\t\t\t\t\t\t\t\t\t$.each(postdata, function (n, v) {\n\t\t\t\t\t\t\t\t\t\t\tpostdata[n] = jgrid.oldDecodePostedData(v);\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//o.reloadAfterSubmit = o.reloadAfterSubmit && $t.o.datatype != \"local\";\n\t\t\t\t\t\t\t\t\t// the action is add\n\t\t\t\t\t\t\t\t\tvar reloadGridOptions = [$.extend({}, o.reloadGridOptions || {})];\n\t\t\t\t\t\t\t\t\tif (postdata[oper] === opers.addoper) {\n\t\t\t\t\t\t\t\t\t\t//id processing\n\t\t\t\t\t\t\t\t\t\t// user not set the id ret[2]\n\t\t\t\t\t\t\t\t\t\tif (!ret[2]) { ret[2] = jgrid.randId(); }\n\t\t\t\t\t\t\t\t\t\tif (postdata[idname] == null || postdata[idname] === \"_empty\" || postdata[oper] === opers.addoper) {\n\t\t\t\t\t\t\t\t\t\t\tpostdata[idname] = ret[2];\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tret[2] = postdata[idname];\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif (o.reloadAfterSubmit) {\n\t\t\t\t\t\t\t\t\t\t\t$self.trigger(\"reloadGrid\", reloadGridOptions);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tif (p.treeGrid === true) {\n\t\t\t\t\t\t\t\t\t\t\t\tbase.addChildNode.call($self, ret[2], selr, postdata);\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tbase.addRowData.call($self, ret[2], postdata, o.addedrow);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif (o.closeAfterAdd) {\n\t\t\t\t\t\t\t\t\t\t\tif (p.treeGrid !== true) {\n\t\t\t\t\t\t\t\t\t\t\t\tsetSelection.call($self, ret[2]);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\thideModal();\n\t\t\t\t\t\t\t\t\t\t} else if (o.clearAfterAdd) {\n\t\t\t\t\t\t\t\t\t\t\tfillData(\"_empty\", frmgr);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t// the action is update\n\t\t\t\t\t\t\t\t\t\tif (o.reloadAfterSubmit) {\n\t\t\t\t\t\t\t\t\t\t\t$self.trigger(\"reloadGrid\", reloadGridOptions);\n\t\t\t\t\t\t\t\t\t\t\tif (!o.closeAfterEdit) { setTimeout(function () { setSelection.call($self, postdata[idname]); }, 1000); }\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tif (p.treeGrid === true) {\n\t\t\t\t\t\t\t\t\t\t\t\tbase.setTreeRow.call($self, postdata[idname], postdata);\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tbase.setRowData.call($self, postdata[idname], postdata);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif (o.closeAfterEdit) {\n\t\t\t\t\t\t\t\t\t\t\thideModal();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ($.isFunction(o.afterComplete)) {\n\t\t\t\t\t\t\t\t\t\tvar copydata = jqXHR;\n\t\t\t\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\t\t\t\t$self.triggerHandler(\"jqGridAddEditAfterComplete\", [copydata, postdata, $(frmgr), editOrAdd]);\n\t\t\t\t\t\t\t\t\t\t\to.afterComplete.call($t, copydata, postdata, $(frmgr), editOrAdd);\n\t\t\t\t\t\t\t\t\t\t\tcopydata = null;\n\t\t\t\t\t\t\t\t\t\t}, 50);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (o.checkOnSubmit || o.checkOnUpdate) {\n\t\t\t\t\t\t\t\t\t\t$(frmgr).data(\"disabled\", false);\n\t\t\t\t\t\t\t\t\t\tif (o._savedData[gridId + \"_id\"] !== \"_empty\") {\n\t\t\t\t\t\t\t\t\t\t\tvar key1;\n\t\t\t\t\t\t\t\t\t\t\tfor (key1 in o._savedData) {\n\t\t\t\t\t\t\t\t\t\t\t\tif (o._savedData.hasOwnProperty(key1) && postdata[key1]) {\n\t\t\t\t\t\t\t\t\t\t\t\t\to._savedData[key1] = postdata[key1];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\to.processing = false;\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t$(frmgr).find(\"input,textarea,select,button,object,*[tabindex]\")\n\t\t\t\t\t\t\t\t\t\t.filter(\":input:visible:not(:disabled)\")\n\t\t\t\t\t\t\t\t\t\t.first()\n\t\t\t\t\t\t\t\t\t\t.focus();\n\t\t\t\t\t\t\t\t} catch (ignore) { }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, jgrid.ajaxOptions, o.ajaxEditOptions);\n\n\t\t\t\t\t\tif (!ajaxOptions.url && !o.useDataProxy) {\n\t\t\t\t\t\t\tif ($.isFunction(p.dataProxy)) {\n\t\t\t\t\t\t\t\to.useDataProxy = true;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tret[0] = false;\n\t\t\t\t\t\t\t\tret[1] += \" \" + jgrid.errors.nourl;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (ret[0]) {\n\t\t\t\t\t\t\t$self.jqGrid(\"progressBar\", { method: \"show\", loadtype: o.saveui, htmlcontent: o.savetext });\n\t\t\t\t\t\t\tif (o.useDataProxy) {\n\t\t\t\t\t\t\t\tvar dpret = p.dataProxy.call($t, ajaxOptions, \"set_\" + gridId);\n\t\t\t\t\t\t\t\tif (dpret === undefined) {\n\t\t\t\t\t\t\t\t\tdpret = [true, \"\"];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (dpret[0] === false) {\n\t\t\t\t\t\t\t\t\tret[0] = false;\n\t\t\t\t\t\t\t\t\tret[1] = dpret[1] || \"Error deleting the selected row!\";\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (ajaxOptions.data.oper === opers.addoper && o.closeAfterAdd) {\n\t\t\t\t\t\t\t\t\t\thideModal();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (ajaxOptions.data.oper === opers.editoper && o.closeAfterEdit) {\n\t\t\t\t\t\t\t\t\t\thideModal();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (ajaxOptions.url === \"clientArray\") {\n\t\t\t\t\t\t\t\t\to.reloadAfterSubmit = false;\n\t\t\t\t\t\t\t\t\tpostdata = ajaxOptions.data;\n\t\t\t\t\t\t\t\t\tajaxOptions.complete({ status: 200, statusText: \"\" }, \"\");\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t$.ajax(ajaxOptions);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (ret[0] === false) {\n\t\t\t\t\t\t$(\"#FormError>td\", frmtb).html(ret[1]);\n\t\t\t\t\t\t$(\"#FormError\", frmtb).show();\n\t\t\t\t\t\t// return;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfunction compareData(nObj, oObj) {\n\t\t\t\t\tvar ret = false, key;\n\t\t\t\t\tfor (key in nObj) {\n\t\t\t\t\t\tif (nObj.hasOwnProperty(key) && String(nObj[key]) !== String(oObj[key])) {\n\t\t\t\t\t\t\tret = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\t\t\t\tfunction checkUpdates() {\n\t\t\t\t\tvar stat = true;\n\t\t\t\t\t$(\"#FormError\", frmtb).hide();\n\t\t\t\t\tif (o.checkOnUpdate) {\n\t\t\t\t\t\tpostdata = {};\n\t\t\t\t\t\tgetFormData();\n\t\t\t\t\t\tdiff = compareData(postdata, o._savedData);\n\t\t\t\t\t\tif (diff) {\n\t\t\t\t\t\t\t$(frmgr).data(\"disabled\", true);\n\t\t\t\t\t\t\t$(\".confirm\", themodalSelector).show();\n\t\t\t\t\t\t\tstat = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn stat;\n\t\t\t\t}\n\t\t\t\tfunction restoreInline() {\n\t\t\t\t\tvar editingInfo = jgrid.detectRowEditing.call($t, rowid);\n\t\t\t\t\tif (editingInfo != null) {\n\t\t\t\t\t\tif (editingInfo.mode === \"inlineEditing\") {\n\t\t\t\t\t\t\tbase.restoreRow.call($self, rowid);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar savedRowInfo = editingInfo.savedRow, tr = $t.rows[savedRowInfo.id];\n\t\t\t\t\t\t\tbase.restoreCell.call($self, savedRowInfo.id, savedRowInfo.ic);\n\t\t\t\t\t\t\t// remove highlighting of the cell\n\t\t\t\t\t\t\t$(tr.cells[savedRowInfo.ic]).removeClass(\"edit-cell \" + highlightClass);\n\t\t\t\t\t\t\t$(tr).addClass(highlightClass).attr({ \"aria-selected\": \"true\", \"tabindex\": \"0\" });\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfunction updateNav(cr, posarr) {\n\t\t\t\t\tvar totr = posarr[1].length - 1;\n\t\t\t\t\tif (cr === 0) {\n\t\t\t\t\t\t$(\"#pData\", frmtb2).addClass(disabledClass);\n\t\t\t\t\t} else if (posarr[1][cr - 1] !== undefined && hasOneFromClasses($(\"#\" + jqID(posarr[1][cr - 1])), disabledClass)) {\n\t\t\t\t\t\t$(\"#pData\", frmtb2).addClass(disabledClass);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(\"#pData\", frmtb2).removeClass(disabledClass);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (cr === totr) {\n\t\t\t\t\t\t$(\"#nData\", frmtb2).addClass(disabledClass);\n\t\t\t\t\t} else if (posarr[1][cr + 1] !== undefined && hasOneFromClasses($(\"#\" + jqID(posarr[1][cr + 1])), disabledClass)) {\n\t\t\t\t\t\t$(\"#nData\", frmtb2).addClass(disabledClass);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(\"#nData\", frmtb2).removeClass(disabledClass);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfunction getCurrPos() {\n\t\t\t\t\tvar rowsInGrid = base.getDataIDs.call($self),\n\t\t\t\t\t\tselrow = $(\"#id_g\", frmtb).val(),\n\t\t\t\t\t\tpos = $.inArray(selrow, rowsInGrid);\n\t\t\t\t\treturn [pos, rowsInGrid];\n\t\t\t\t}\n\n\t\t\t\tvar dh = isNaN(o.dataheight) ? o.dataheight : o.dataheight + \"px\",\n\t\t\t\t\tdw = isNaN(o.datawidth) ? o.datawidth : o.datawidth + \"px\",\n\t\t\t\t\tfrm = $(\"<form name='FormPost' id='\" + frmgrId + \"' class='FormGrid' onSubmit='return false;' style='width:\" + dw + \";overflow:auto;position:relative;height:\" + dh + \";'></form>\").data(\"disabled\", false),\n\t\t\t\t\ttbl = $(\"<table id='\" + frmtborg + \"' class='EditTable'><tbody></tbody></table>\");\n\t\t\t\t$(colModel).each(function () {\n\t\t\t\t\tvar fmto = this.formoptions;\n\t\t\t\t\tmaxCols = Math.max(maxCols, fmto ? fmto.colpos || 0 : 0);\n\t\t\t\t\tmaxRows = Math.max(maxRows, fmto ? fmto.rowpos || 0 : 0);\n\t\t\t\t});\n\t\t\t\t$(frm).append(tbl);\n\t\t\t\tvar flr = $(\"<tr id='FormError' style='display:none'><td class='\" + errorClass + \"' colspan='\" + (maxCols * 2) + \"'>&#160;</td></tr>\");\n\t\t\t\tflr[0].rp = 0;\n\t\t\t\t$(tbl).append(flr);\n\t\t\t\t//topinfo\n\t\t\t\tflr = $(\"<tr style='display:none' class='tinfo'><td class='topinfo' colspan='\" + (maxCols * 2) + \"'>\" + (o.topinfo || \"&#160;\") + \"</td></tr>\");\n\t\t\t\tflr[0].rp = 0;\n\t\t\t\t$(tbl).append(flr);\n\t\t\t\tif (!editFeedback(\"beforeInitData\", frm, editOrAdd)) { return; }\n\t\t\t\trestoreInline();\n\t\t\t\t// set the id.\n\t\t\t\t// use carefull only to change here colproperties.\n\t\t\t\t// create data\n\t\t\t\tvar rtlb = p.direction === \"rtl\" ? true : false,\n\t\t\t\t\tbp = rtlb ? \"nData\" : \"pData\",\n\t\t\t\t\tbn = rtlb ? \"pData\" : \"nData\";\n\t\t\t\tcreateData(rowid, tbl, maxCols);\n\t\t\t\t// buttons at footer\n\t\t\t\tvar bP = builderFmButon.call($t, bp, \"\", mergeCssClasses(commonIconClass, o.prevIcon), \"\", \"left\"),\n\t\t\t\t\tbN = builderFmButon.call($t, bn, \"\", mergeCssClasses(commonIconClass, o.nextIcon), \"\", \"right\"),\n\t\t\t\t\tbS = builderFmButon.call($t, \"sData\", o.bSubmit),\n\t\t\t\t\tbC = builderFmButon.call($t, \"cData\", o.bCancel),\n\t\t\t\t\tbt = \"<div class='\" + getGuiStyles.call($t, \"dialog.footer\") + \"'><table class='EditTable' id='\" + frmtborg + \"_2'><tbody><tr><td colspan='2'><hr class='\" +\n\t\t\t\t\t\tgetGuiStyles.call($t, \"dialog.hr\") + \"' style='margin:1px'/></td></tr><tr id='Act_Buttons'><td class='navButton navButton-\" + p.direction + \"'>\" + (rtlb ? bN + bP : bP + bN) + \"</td><td class='EditButton EditButton-\" + p.direction + \"'>\" + bS + \"&#160;\" + bC + \"</td></tr>\";\n\t\t\t\tbt += \"<tr style='display:none' class='binfo'><td class='bottominfo' colspan='2'>\" + (o.bottominfo || \"&#160;\") + \"</td></tr>\";\n\t\t\t\tbt += \"</tbody></table></div>\";\n\t\t\t\tif (maxRows > 0) {\n\t\t\t\t\tvar sd = [];\n\t\t\t\t\t$.each($(tbl)[0].rows, function (i, r) {\n\t\t\t\t\t\tsd[i] = r;\n\t\t\t\t\t});\n\t\t\t\t\tsd.sort(function (a, b) {\n\t\t\t\t\t\tif (a.rp > b.rp) { return 1; }\n\t\t\t\t\t\tif (a.rp < b.rp) { return -1; }\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t});\n\t\t\t\t\t$.each(sd, function (index, row) {\n\t\t\t\t\t\t$(\"tbody\", tbl).append(row);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\to.gbox = gboxSelector;\n\t\t\t\tvar cle = false;\n\t\t\t\tif (o.closeOnEscape === true) {\n\t\t\t\t\to.closeOnEscape = false;\n\t\t\t\t\tcle = true;\n\t\t\t\t}\n\t\t\t\tvar tms = $(\"<div></div>\").append($(\"<div class='\" + getGuiStyles.call($t, \"dialog.body\") + \"'></div>\").append(frm)).append(bt);\n\t\t\t\tjgrid.createModal.call($t, ids, tms, o, p.gView, $(gboxSelector)[0]);\n\t\t\t\t// TODO: remove the call of jgrid.bindEv and probably call of opt.custom_value from createData\n\t\t\t\t// and place the calls here AFTER the form are placed on the HTML page\n\t\t\t\tif (o.topinfo) { $(\".tinfo\", frmtb).show(); }\n\t\t\t\tif (o.bottominfo) { $(\".binfo\", frmtb2).show(); }\n\t\t\t\ttms = null;\n\t\t\t\tbt = null;\n\t\t\t\t$(themodalSelector).keydown(function (e) {\n\t\t\t\t\tvar wTagName = (e.target.tagName || \"\").toUpperCase(), $focused, idFocused;\n\t\t\t\t\tif ($(frmgr).data(\"disabled\") === true) { return false; }//??\n\t\t\t\t\tif (e.which === 13) {\n\t\t\t\t\t\tif (wTagName !== \"TEXTAREA\") {\n\t\t\t\t\t\t\t$focused = $(frmtb2).find(\":focus\");\n\t\t\t\t\t\t\tidFocused = $focused.attr(\"id\");\n\t\t\t\t\t\t\tif ($focused.length > 0 && $.inArray(idFocused, [\"pData\", \"nData\", \"cData\"]) >= 0) {\n\t\t\t\t\t\t\t\t$focused.trigger(\"click\");\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (o.savekey[0] === true && o.savekey[1] === 13) {\n\t\t\t\t\t\t\t\t$(\"#sData\", frmtb2).trigger(\"click\");\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (o.savekey[0] === true && e.which === o.savekey[1]) { // save\n\t\t\t\t\t\tif (wTagName !== \"TEXTAREA\") {\n\t\t\t\t\t\t\t$(\"#sData\", frmtb2).trigger(\"click\");\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (e.which === 27) {\n\t\t\t\t\t\tif (!checkUpdates()) { return false; }\n\t\t\t\t\t\tif (cle) {\n\t\t\t\t\t\t\thideModal();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif (o.navkeys[0] === true) {\n\t\t\t\t\t\tif ($(\"#id_g\", frmtb).val() === \"_empty\") { return true; }\n\t\t\t\t\t\tif (e.which === o.navkeys[1]) { //up\n\t\t\t\t\t\t\t$(\"#pData\", frmtb2).trigger(\"click\");\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (e.which === o.navkeys[2]) { //down\n\t\t\t\t\t\t\t$(\"#nData\", frmtb2).trigger(\"click\");\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (o.checkOnUpdate) {\n\t\t\t\t\t$(\"a.ui-jqdialog-titlebar-close span\", themodalSelector).removeClass(\"jqmClose\");\n\t\t\t\t\t$(\"a.ui-jqdialog-titlebar-close\", themodalSelector).off(\"click\")\n\t\t\t\t\t\t.click(function () {\n\t\t\t\t\t\t\tif (!checkUpdates()) {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thideModal();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\taddFormIcon($(\"#sData\", frmtb2), o.saveicon, commonIconClass);\n\t\t\t\taddFormIcon($(\"#cData\", frmtb2), o.closeicon, commonIconClass);\n\t\t\t\tif (o.checkOnSubmit || o.checkOnUpdate) {\n\t\t\t\t\tbS = builderFmButon.call($t, \"sNew\", o.bYes);\n\t\t\t\t\tbN = builderFmButon.call($t, \"nNew\", o.bNo);\n\t\t\t\t\tbC = builderFmButon.call($t, \"cNew\", o.bExit);\n\t\t\t\t\tvar zI = o.zIndex || 999;\n\t\t\t\t\tzI++;\n\t\t\t\t\t$(\"<div class='\" + o.overlayClass + \" jqgrid-overlay confirm' style='z-index:\" + zI + \";display:none;'>&#160;</div><div class='\" + getGuiStyles.call($t, \"dialog.content\", \"confirm ui-jqconfirm\") + \"' style='z-index:\" + (zI + 1) + \"'>\" + o.saveData + \"<br/><br/>\" + bS + bN + bC + \"</div>\").insertAfter(frmgr);\n\t\t\t\t\t$(\"#sNew\", themodalSelector).click(function () {\n\t\t\t\t\t\t// if the form will be hidden at the first usage and it will be shown at the next usage\n\t\t\t\t\t\t// then the execution context click handler and all other functions like postIt()\n\t\t\t\t\t\t// will contains the variables (like rowid, postdata and so on) from THE FIRST call\n\t\t\t\t\t\t// of editGridRow. One should be very careful in the code of postIt()\n\t\t\t\t\t\tpostIt();\n\t\t\t\t\t\t$(frmgr).data(\"disabled\", false);\n\t\t\t\t\t\t$(\".confirm\", themodalSelector).hide();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t});\n\t\t\t\t\t$(\"#nNew\", themodalSelector).click(function () {\n\t\t\t\t\t\t$(\".confirm\", themodalSelector).hide();\n\t\t\t\t\t\t$(frmgr).data(\"disabled\", false);\n\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t$(frmgr).find(\"input,textarea,select,button,object,*[tabindex]\")\n\t\t\t\t\t\t\t\t.filter(\":input:visible:not(:disabled)\")\n\t\t\t\t\t\t\t\t.first()\n\t\t\t\t\t\t\t\t.focus();\n\t\t\t\t\t\t}, 0);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t});\n\t\t\t\t\t$(\"#cNew\", themodalSelector).click(function () {\n\t\t\t\t\t\t// if the form will be hidden at the first usage and it will be shown at the next usage\n\t\t\t\t\t\t// then the execution context click handler and all other functions like postIt()\n\t\t\t\t\t\t// will contains the variables (like o) from THE FIRST call\n\t\t\t\t\t\t$(\".confirm\", themodalSelector).hide();\n\t\t\t\t\t\t$(frmgr).data(\"disabled\", false);\n\t\t\t\t\t\thideModal();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t// here initform - only once\n\t\t\t\teditFeedback(\"onInitializeForm\", $(frmgr), editOrAdd);\n\t\t\t\tif (rowid === \"_empty\" || !o.viewPagerButtons) {\n\t\t\t\t\t$(\"#pData,#nData\", frmtb2).hide();\n\t\t\t\t} else {\n\t\t\t\t\t$(\"#pData,#nData\", frmtb2).show();\n\t\t\t\t}\n\t\t\t\teditFeedback(\"beforeShowForm\", $(frmgr), editOrAdd);\n\t\t\t\t$(themodalSelector).data(\"onClose\", o.onClose);\n\t\t\t\tjgrid.viewModal.call($t, themodalSelector, {\n\t\t\t\t\tgbox: gboxSelector,\n\t\t\t\t\tjqm: o.jqModal,\n\t\t\t\t\toverlay: o.overlay,\n\t\t\t\t\tmodal: o.modal,\n\t\t\t\t\toverlayClass: o.overlayClass,\n\t\t\t\t\ttoTop: o.toTop,\n\t\t\t\t\tonHide: function (h) {\n\t\t\t\t\t\th.w.remove();\n\t\t\t\t\t\tif (h.o) { h.o.remove(); }\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (!closeovrl) {\n\t\t\t\t\t$(\".\" + jqID(o.overlayClass)).click(function () {\n\t\t\t\t\t\tif (!checkUpdates()) { return false; }\n\t\t\t\t\t\thideModal();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t$(\".fm-button\", themodalSelector).hover(\n\t\t\t\t\tfunction () { $(this).addClass(hoverClasses); },\n\t\t\t\t\tfunction () { $(this).removeClass(hoverClasses); }\n\t\t\t\t);\n\t\t\t\t$(\"#sData\", frmtb2).click(function () {\n\t\t\t\t\tpostdata = {};\n\t\t\t\t\t$(\"#FormError\", frmtb).hide();\n\t\t\t\t\t// all depend on ret array\n\t\t\t\t\t//ret[0] - succes\n\t\t\t\t\t//ret[1] - msg if not succes\n\t\t\t\t\t//ret[2] - the id  that will be set if reload after submit false\n\t\t\t\t\tgetFormData();\n\t\t\t\t\tif (postdata[gridId + \"_id\"] === \"_empty\") {\n\t\t\t\t\t\tpostIt();\n\t\t\t\t\t} else if (o.checkOnSubmit === true) {\n\t\t\t\t\t\tdiff = compareData(postdata, o._savedData);\n\t\t\t\t\t\tif (diff) {\n\t\t\t\t\t\t\t$(frmgr).data(\"disabled\", true);\n\t\t\t\t\t\t\t$(\".confirm\", themodalSelector).show();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpostIt();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpostIt();\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t\t$(\"#cData\", frmtb2).click(function () {\n\t\t\t\t\tif (!checkUpdates()) { return false; }\n\t\t\t\t\thideModal();\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t\t$(\"#nData\", frmtb2).click(function () {\n\t\t\t\t\tif (!checkUpdates()) { return false; }\n\t\t\t\t\t$(\"#FormError\", frmtb).hide();\n\t\t\t\t\tvar npos = getCurrPos();\n\t\t\t\t\tnpos[0] = parseInt(npos[0], 10);\n\t\t\t\t\tif (npos[0] !== -1 && npos[1][npos[0] + 1]) {\n\t\t\t\t\t\tif (!editFeedback(\"onclickPgButtons\", \"next\", $(frmgr), npos[1][npos[0]])) { return false; }\n\t\t\t\t\t\tfillData(npos[1][npos[0] + 1], frmgr);\n\t\t\t\t\t\tsetSelection.call($self, npos[1][npos[0] + 1]);\n\t\t\t\t\t\teditFeedback(\"afterclickPgButtons\", \"next\", $(frmgr), npos[1][npos[0] + 1]);\n\t\t\t\t\t\tupdateNav(npos[0] + 1, npos);\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t\t$(\"#pData\", frmtb2).click(function () {\n\t\t\t\t\tif (!checkUpdates()) { return false; }\n\t\t\t\t\t$(\"#FormError\", frmtb).hide();\n\t\t\t\t\tvar ppos = getCurrPos();\n\t\t\t\t\tif (ppos[0] !== -1 && ppos[1][ppos[0] - 1]) {\n\t\t\t\t\t\tif (!editFeedback(\"onclickPgButtons\", \"prev\", $(frmgr), ppos[1][ppos[0]])) { return false; }\n\t\t\t\t\t\tif (hasOneFromClasses($(\"#\" + jqID(ppos[1][ppos[0] - 1])), disabledClass)) { return false; }\n\t\t\t\t\t\tfillData(ppos[1][ppos[0] - 1], frmgr);\n\t\t\t\t\t\tsetSelection.call($self, ppos[1][ppos[0] - 1]);\n\t\t\t\t\t\teditFeedback(\"afterclickPgButtons\", \"prev\", $(frmgr), ppos[1][ppos[0] - 1]);\n\t\t\t\t\t\tupdateNav(ppos[0] - 1, ppos);\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t\teditFeedback(\"afterShowForm\", $(frmgr), editOrAdd);\n\t\t\t\tvar posInit = getCurrPos();\n\t\t\t\tupdateNav(posInit[0], posInit);\n\t\t\t});\n\t\t},\n\t\tviewGridRow: function (rowid, oMuligrid) {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, $self = $($t), p = $t.p;\n\t\t\t\tif (!$t.grid || p == null || !rowid) { return; }\n\t\t\t\t// make new copy of the options oMuligrid and use it for ONE specific grid.\n\t\t\t\t// p.formViewing can contains grid specific options\n\t\t\t\t// we will don't modify the input options oMuligrid\n\t\t\t\tvar gridId = p.id,\n\t\t\t\t\to = $.extend(true,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\twidth: 0,\n\t\t\t\t\t\t\tdatawidth: \"auto\",\n\t\t\t\t\t\t\theight: \"auto\",\n\t\t\t\t\t\t\tdataheight: \"auto\",\n\t\t\t\t\t\t\t//modal: false,\n\t\t\t\t\t\t\t//toTop : false,\n\t\t\t\t\t\t\t//overlay: 30,\n\t\t\t\t\t\t\tdrag: true,\n\t\t\t\t\t\t\tresize: true,\n\t\t\t\t\t\t\t//jqModal: true,\n\t\t\t\t\t\t\tcloseOnEscape: false,\n\t\t\t\t\t\t\tlabelswidth: \"\", //\"30%\",\n\t\t\t\t\t\t\tnavkeys: [false, 38, 40],\n\t\t\t\t\t\t\tonClose: null,\n\t\t\t\t\t\t\tbeforeShowForm: null,\n\t\t\t\t\t\t\tbeforeInitData: null,\n\t\t\t\t\t\t\tviewPagerButtons: true,\n\t\t\t\t\t\t\tremovemodal: true\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbase.getGridRes.call($self, \"view\"),\n\t\t\t\t\t\tjgrid.view || {},\n\t\t\t\t\t\tp.formViewing || {},\n\t\t\t\t\t\toMuligrid || {});\n\n\t\t\t\tvar frmgr = \"#ViewGrid_\" + jqID(gridId), frmtb = \"#ViewTbl_\" + jqID(gridId), frmtb2 = frmtb + \"_2\",\n\t\t\t\t\tfrmgrId = \"ViewGrid_\" + gridId, frmtbId = \"ViewTbl_\" + gridId, commonIconClass = o.commonIconClass,\n\t\t\t\t\tids = { themodal: \"viewmod\" + gridId, modalhead: \"viewhd\" + gridId, modalcontent: \"viewcnt\" + gridId, resizeAlso: frmgrId },\n\t\t\t\t\tthemodalSelector = \"#\" + jqID(ids.themodal), gboxSelector = p.gBox, colModel = p.colModel,\n\t\t\t\t\tmaxCols = 1, maxRows = 0,\n\t\t\t\t\tviewFeedback = function () {\n\t\t\t\t\t\tvar args = $.makeArray(arguments);\n\t\t\t\t\t\targs.unshift(\"\");\n\t\t\t\t\t\targs.unshift(\"View\");\n\t\t\t\t\t\targs.unshift(o);\n\t\t\t\t\t\treturn jgridFeedback.apply($t, args);\n\t\t\t\t\t},\n\t\t\t\t\thideModal = function () {\n\t\t\t\t\t\tjgrid.hideModal(themodalSelector, {\n\t\t\t\t\t\t\tgb: gboxSelector,\n\t\t\t\t\t\t\tjqm: o.jqModal,\n\t\t\t\t\t\t\tonClose: o.onClose,\n\t\t\t\t\t\t\tremovemodal: o.removemodal\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\thoverClasses = getGuiStateStyles.call($t, \"hover\"),\n\t\t\t\t\tdisabledClass = getGuiStateStyles.call($t, \"disabled\");\n\n\t\t\t\tfunction focusaref() { //Sfari 3 issues\n\t\t\t\t\tif (o.closeOnEscape === true || o.navkeys[0] === true) {\n\t\t\t\t\t\tsetTimeout(function () { $(\"#cData\").focus(); }, 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfunction createData(rowid1, tb, maxcols) {\n\t\t\t\t\tvar nm, hc, $trdata, cnt = 0, tmp, retpos = [], ind = base.getInd.call($self, rowid1), i,\n\t\t\t\t\t\tviewDataClasses = getGuiStyles.call($t, \"dialog.viewData\"), $tb = $(tb),\n\t\t\t\t\t\tviewLabelClasses = getGuiStyles.call($t, \"dialog.viewLabel\"),\n\t\t\t\t\t\tlabelsWidth = String(o.labelswidth) + (!o.labelswidth || isNaN(o.labelswidth) ? \"\" : \"px\"),\n\t\t\t\t\t\ttdtmpl = \"<td class='\" +\n\t\t\t\t\t\t\tgetGuiStyles.call($t, \"dialog.viewCellLabel\", \"CaptionTD form-view-label\") +\n\t\t\t\t\t\t\t(labelsWidth ? \"' style='width:\" + labelsWidth + \";\" : \"\") +\n\t\t\t\t\t\t\t\"'>&#160;</td><td class='\" +\n\t\t\t\t\t\t\tgetGuiStyles.call($t, \"dialog.viewCellData\", \"DataTD form-view-data\") +\n\t\t\t\t\t\t\t\"'>&#160;</td>\",\n\t\t\t\t\t\ttmpl = \"\", fmtnum = [\"integer\", \"number\", \"currency\"], max1 = 0, max2 = 0, maxw, setme, viewfld;\n\t\t\t\t\tfor (i = 0; i < maxcols; i++) {\n\t\t\t\t\t\ttmpl += tdtmpl;\n\t\t\t\t\t}\n\t\t\t\t\t// find max number align right with property formatter\n\t\t\t\t\t$(colModel).each(function () {\n\t\t\t\t\t\tvar cm = this;\n\t\t\t\t\t\tif (cm.editrules && cm.editrules.edithidden === true) {\n\t\t\t\t\t\t\thc = false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thc = cm.hidden === true ? true : false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!hc && cm.align === \"right\") {\n\t\t\t\t\t\t\tif (cm.formatter && $.inArray(cm.formatter, fmtnum) !== -1) {\n\t\t\t\t\t\t\t\tmax1 = Math.max(max1, parseInt(cm.width, 10));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tmax2 = Math.max(max2, parseInt(cm.width, 10));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tmaxw = max1 !== 0 ? max1 : max2 !== 0 ? max2 : 0;\n\t\t\t\t\t$(colModel).each(function (iCol) {\n\t\t\t\t\t\tvar cm = this;\n\t\t\t\t\t\tnm = cm.name;\n\t\t\t\t\t\tsetme = false;\n\t\t\t\t\t\t// hidden fields are included in the form\n\t\t\t\t\t\tif (cm.editrules && cm.editrules.edithidden === true) {\n\t\t\t\t\t\t\thc = false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thc = cm.hidden === true ? true : false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tviewfld = (typeof cm.viewable !== \"boolean\") ? true : cm.viewable;\n\t\t\t\t\t\tif (nm !== \"cb\" && nm !== \"subgrid\" && nm !== \"rn\" && viewfld) {\n\t\t\t\t\t\t\ttmp = ind === false ? \"\" : jgrid.getDataFieldOfCell.call($t, $t.rows[ind], iCol).html();\n\t\t\t\t\t\t\tsetme = cm.align === \"right\" && maxw !== 0 ? true : false;\n\t\t\t\t\t\t\tvar frmopt = $.extend({}, { rowabove: false, rowcontent: \"\" }, cm.formoptions || {}),\n\t\t\t\t\t\t\t\trp = parseInt(frmopt.rowpos, 10) || cnt + 1,\n\t\t\t\t\t\t\t\tcp = parseInt((parseInt(frmopt.colpos, 10) || 1) * 2, 10);\n\t\t\t\t\t\t\tif (frmopt.rowabove) {\n\t\t\t\t\t\t\t\tvar newdata = $(\"<tr><td class='contentinfo' colspan='\" + (maxcols * 2) + \"'>\" + frmopt.rowcontent + \"</td></tr>\");\n\t\t\t\t\t\t\t\t$tb.append(newdata);\n\t\t\t\t\t\t\t\tnewdata[0].rp = rp;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t$trdata = $tb.find(\"tr[data-rowpos=\" + rp + \"]\");\n\t\t\t\t\t\t\tif ($trdata.length === 0) {\n\t\t\t\t\t\t\t\t$trdata = $(\"<tr data-rowpos='\" + rp + \"'></tr>\")\n\t\t\t\t\t\t\t\t\t.addClass(\"FormData\")\n\t\t\t\t\t\t\t\t\t.attr(\"id\", \"trv_\" + nm);\n\t\t\t\t\t\t\t\t$trdata.append(tmpl);\n\t\t\t\t\t\t\t\t$tb.append($trdata);\n\t\t\t\t\t\t\t\t$trdata[0].rp = rp;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar labelText = (frmopt.label === undefined ? p.colNames[iCol] : frmopt.label),\n\t\t\t\t\t\t\t\t$data = $(\"td:eq(\" + (cp - 1) + \")\", $trdata[0]),\n\t\t\t\t\t\t\t\t$label = $(\"td:eq(\" + (cp - 2) + \")\", $trdata[0]);\n\t\t\t\t\t\t\t$label.html(\"<label for='\" + nm + \"'\" +\n\t\t\t\t\t\t\t\t(viewLabelClasses ? \" class='\" + viewLabelClasses + \"'>\" : \">\") +\n\t\t\t\t\t\t\t\t(labelText || \"&nbsp;\") + \"</label>\");\n\t\t\t\t\t\t\t$data[isEmptyString($data.html()) ? \"html\" : \"append\"](\"<span id='\" + nm + \"'\" +\n\t\t\t\t\t\t\t\t(viewDataClasses ? \" class='\" + viewDataClasses + \"'>\" : \">\") +\n\t\t\t\t\t\t\t\t(tmp || \"&nbsp;\") + \"</span>\").attr(\"id\", \"v_\" + nm);\n\t\t\t\t\t\t\tif (setme) {\n\t\t\t\t\t\t\t\t$(\"td:eq(\" + (cp - 1) + \") span\", $trdata[0]).css({ \"text-align\": \"right\", width: maxw + \"px\" });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (hc) {\n\t\t\t\t\t\t\t\t$label.add($data).css(\"visibility\", \"hidden\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tretpos[cnt] = iCol;\n\t\t\t\t\t\t\tcnt++;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\thideRowsWithoutVissibleCells($tb);\n\t\t\t\t\tif (cnt > 0) {\n\t\t\t\t\t\tvar idrow = $(\"<tr class='FormData' style='display:none'><td class='CaptionTD'>&#160;</td><td colspan='\" + (maxcols * 2 - 1) + \"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='id' value='\" + rowid1 + \"'/></td></tr>\");\n\t\t\t\t\t\tidrow[0].rp = cnt + 99;\n\t\t\t\t\t\t$tb.append(idrow);\n\t\t\t\t\t}\n\t\t\t\t\treturn retpos;\n\t\t\t\t}\n\t\t\t\tfunction fillData(rowid1) {\n\t\t\t\t\tvar nm, cnt = 0, trv = base.getInd.call($self, rowid1, true), cm;\n\t\t\t\t\tif (!trv) { return; }\n\t\t\t\t\t$(\"td\", trv).each(function (i) {\n\t\t\t\t\t\tcm = colModel[i];\n\t\t\t\t\t\tnm = cm.name;\n\t\t\t\t\t\tif (nm !== \"cb\" && nm !== \"subgrid\" && nm !== \"rn\") {\n\t\t\t\t\t\t\tnm = jqID(\"v_\" + nm);\n\t\t\t\t\t\t\t$(\"#\" + nm + \" span\", frmtb).html(jgrid.getDataFieldOfCell.call($t, trv, i).html());\n\t\t\t\t\t\t\tcnt++;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t//hideRowsWithoutVissibleCells($(frmtb));\n\t\t\t\t\tif (cnt > 0) { $(\"#id_g\", frmtb).val(rowid1); }\n\t\t\t\t}\n\t\t\t\tfunction updateNav(cr, posarr) {\n\t\t\t\t\tvar totr = posarr[1].length - 1;\n\t\t\t\t\tif (cr === 0) {\n\t\t\t\t\t\t$(\"#pData\", frmtb2).addClass(disabledClass);\n\t\t\t\t\t} else if (posarr[1][cr - 1] !== undefined && hasOneFromClasses($(\"#\" + jqID(posarr[1][cr - 1])), disabledClass)) {\n\t\t\t\t\t\t$(\"#pData\", frmtb2).addClass(disabledClass);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(\"#pData\", frmtb2).removeClass(disabledClass);\n\t\t\t\t\t}\n\t\t\t\t\tif (cr === totr) {\n\t\t\t\t\t\t$(\"#nData\", frmtb2).addClass(disabledClass);\n\t\t\t\t\t} else if (posarr[1][cr + 1] !== undefined && hasOneFromClasses($(\"#\" + jqID(posarr[1][cr + 1])), disabledClass)) {\n\t\t\t\t\t\t$(\"#nData\", frmtb2).addClass(disabledClass);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(\"#nData\", frmtb2).removeClass(disabledClass);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfunction getCurrPos() {\n\t\t\t\t\tvar rowsInGrid = base.getDataIDs.call($self),\n\t\t\t\t\t\tselrow = $(\"#id_g\", frmtb).val(),\n\t\t\t\t\t\tpos = $.inArray(selrow, rowsInGrid);\n\t\t\t\t\treturn [pos, rowsInGrid];\n\t\t\t\t}\n\n\t\t\t\tvar dh = isNaN(o.dataheight) ? o.dataheight : o.dataheight + \"px\",\n\t\t\t\t\tdw = isNaN(o.datawidth) ? o.datawidth : o.datawidth + \"px\",\n\t\t\t\t\tfrmDiv = $(\"<div class='\" + getGuiStyles.call($t, \"dialog.body\") + \"'><form name='FormPost' id='\" + frmgrId +\n\t\t\t\t\t\t\"' class='FormGrid' style='width:\" + dw + \";overflow:auto;position:relative;height:\" + dh + \";'></form></div>\"),\n\t\t\t\t\tfrm = frmDiv.children(\"form.FormGrid\"),\n\t\t\t\t\ttbl = $(\"<table id='\" + frmtbId +\n\t\t\t\t\t\t\"' class='EditTable'><tbody></tbody></table>\");\n\n\t\t\t\t$(themodalSelector).remove();\n\t\t\t\t$(colModel).each(function () {\n\t\t\t\t\tvar fmto = this.formoptions;\n\t\t\t\t\tmaxCols = Math.max(maxCols, fmto ? fmto.colpos || 0 : 0);\n\t\t\t\t\tmaxRows = Math.max(maxRows, fmto ? fmto.rowpos || 0 : 0);\n\t\t\t\t});\n\t\t\t\t// set the id.\n\t\t\t\tfrm.append(tbl);\n\t\t\t\tif (!viewFeedback(\"beforeInitData\", frm)) { return; }\n\t\t\t\tcreateData(rowid, tbl, maxCols);\n\t\t\t\tvar rtlb = p.direction === \"rtl\" ? true : false,\n\t\t\t\t\tbp = rtlb ? \"nData\" : \"pData\",\n\t\t\t\t\tbn = rtlb ? \"pData\" : \"nData\",\n\t\t\t\t\t// buttons at footer\n\t\t\t\t\tbP = builderFmButon.call($t, bp, \"\", mergeCssClasses(commonIconClass, o.prevIcon), \"\", \"left\"),\n\t\t\t\t\tbN = builderFmButon.call($t, bn, \"\", mergeCssClasses(commonIconClass, o.nextIcon), \"\", \"right\"),\n\t\t\t\t\tbC = builderFmButon.call($t, \"cData\", o.bClose);\n\n\t\t\t\tif (maxRows > 0) {\n\t\t\t\t\tvar sd = [];\n\t\t\t\t\t$.each($(tbl)[0].rows, function (i, r) {\n\t\t\t\t\t\tsd[i] = r;\n\t\t\t\t\t});\n\t\t\t\t\tsd.sort(function (a, b) {\n\t\t\t\t\t\tif (a.rp > b.rp) { return 1; }\n\t\t\t\t\t\tif (a.rp < b.rp) { return -1; }\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t});\n\t\t\t\t\t$.each(sd, function (index, row) {\n\t\t\t\t\t\t$(\"tbody\", tbl).append(row);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\to.gbox = gboxSelector;\n\t\t\t\tvar bt = $(\"<div></div>\").append(frmDiv).append(\"<div class='\" + getGuiStyles.call($t, \"dialog.footer\") + \"'><table border='0' class='EditTable' id='\" + frmtbId + \"_2'><tbody><tr id='Act_Buttons'><td class='navButton navButton-\" + p.direction + \"' width='\" + (o.labelswidth || \"auto\") + \"'>\" + (rtlb ? bN + bP : bP + bN) + \"</td><td class='EditButton EditButton-\" + p.direction + \"'>\" + bC + \"</td></tr></tbody></table></div>\");\n\t\t\t\tjgrid.createModal.call($t, ids, bt, o, p.gView, $(p.gView)[0]);\n\t\t\t\tif (!o.viewPagerButtons) { $(\"#pData, #nData\", frmtb2).hide(); }\n\t\t\t\tbt = null;\n\t\t\t\t$(themodalSelector).keydown(function (e) {\n\t\t\t\t\tvar $focused, idFocused;\n\t\t\t\t\tif ($(frmgr).data(\"disabled\") === true) { return false; }//??\n\t\t\t\t\tif (e.which === 13) {\n\t\t\t\t\t\t$focused = $(frmtb2).find(\":focus\");\n\t\t\t\t\t\tidFocused = $focused.attr(\"id\");\n\t\t\t\t\t\tif ($focused.length > 0 && $.inArray(idFocused, [\"pData\", \"nData\", \"cData\"]) >= 0) {\n\t\t\t\t\t\t\t$focused.trigger(\"click\");\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (e.which === 27) {\n\t\t\t\t\t\tif (o.closeOnEscape) {\n\t\t\t\t\t\t\thideModal();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif (o.navkeys[0] === true) {\n\t\t\t\t\t\tif (e.which === o.navkeys[1]) { //up\n\t\t\t\t\t\t\t$(\"#pData\", frmtb2).trigger(\"click\");\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (e.which === o.navkeys[2]) { //down\n\t\t\t\t\t\t\t$(\"#nData\", frmtb2).trigger(\"click\");\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\taddFormIcon($(\"#cData\", frmtb2), o.closeicon, commonIconClass);\n\t\t\t\tviewFeedback(\"beforeShowForm\", $(frmgr));\n\t\t\t\tjgrid.viewModal.call($t, themodalSelector, {\n\t\t\t\t\tgbox: gboxSelector,\n\t\t\t\t\tjqm: o.jqModal,\n\t\t\t\t\toverlay: o.overlay,\n\t\t\t\t\ttoTop: o.toTop,\n\t\t\t\t\tmodal: o.modal,\n\t\t\t\t\tonHide: function (h) {\n\t\t\t\t\t\th.w.remove();\n\t\t\t\t\t\tif (h.o) { h.o.remove(); }\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$(\".fm-button:not(.\" + disabledClass.split(\" \").join(\".\") + \")\", frmtb2).hover(\n\t\t\t\t\tfunction () { $(this).addClass(hoverClasses); },\n\t\t\t\t\tfunction () { $(this).removeClass(hoverClasses); }\n\t\t\t\t);\n\t\t\t\tfocusaref();\n\t\t\t\t$(\"#cData\", frmtb2).click(function () {\n\t\t\t\t\thideModal();\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t\t$(\"#nData\", frmtb2).click(function () {\n\t\t\t\t\t$(\"#FormError\", frmtb).hide();\n\t\t\t\t\tvar npos = getCurrPos();\n\t\t\t\t\tnpos[0] = parseInt(npos[0], 10);\n\t\t\t\t\tif (npos[0] !== -1 && npos[1][npos[0] + 1]) {\n\t\t\t\t\t\tif (!viewFeedback(\"onclickPgButtons\", \"next\", $(frmgr), npos[1][npos[0]])) { return false; }\n\t\t\t\t\t\tfillData(npos[1][npos[0] + 1]);\n\t\t\t\t\t\tbase.setSelection.call($self, npos[1][npos[0] + 1]);\n\t\t\t\t\t\tviewFeedback(\"afterclickPgButtons\", \"next\", $(frmgr), npos[1][npos[0] + 1]);\n\t\t\t\t\t\tupdateNav(npos[0] + 1, npos);\n\t\t\t\t\t}\n\t\t\t\t\tfocusaref();\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t\t$(\"#pData\", frmtb2).click(function () {\n\t\t\t\t\t$(\"#FormError\", frmtb).hide();\n\t\t\t\t\tvar ppos = getCurrPos();\n\t\t\t\t\tif (ppos[0] !== -1 && ppos[1][ppos[0] - 1]) {\n\t\t\t\t\t\tif (!viewFeedback(\"onclickPgButtons\", \"prev\", $(frmgr), ppos[1][ppos[0]])) { return false; }\n\t\t\t\t\t\tfillData(ppos[1][ppos[0] - 1]);\n\t\t\t\t\t\tbase.setSelection.call($self, ppos[1][ppos[0] - 1]);\n\t\t\t\t\t\tviewFeedback(\"afterclickPgButtons\", \"prev\", $(frmgr), ppos[1][ppos[0] - 1]);\n\t\t\t\t\t\tupdateNav(ppos[0] - 1, ppos);\n\t\t\t\t\t}\n\t\t\t\t\tfocusaref();\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t\tvar posInit = getCurrPos();\n\t\t\t\tupdateNav(posInit[0], posInit);\n\t\t\t});\n\t\t},\n\t\tdelGridRow: function (rowids, oMuligrid) {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, p = $t.p, $self = $($t);\n\t\t\t\tif (!$t.grid || p == null || !rowids) { return; }\n\t\t\t\t// make new copy of the options oMuligrid and use it for ONE specific grid.\n\t\t\t\t// p.formDeleting can contains grid specific options\n\t\t\t\t// we will don't modify the input options oMuligrid\n\t\t\t\tvar gridId = p.id,\n\t\t\t\t\to = $.extend(true,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\twidth: 240,\n\t\t\t\t\t\t\tremovemodal: true,\n\t\t\t\t\t\t\theight: \"auto\",\n\t\t\t\t\t\t\tdataheight: \"auto\",\n\t\t\t\t\t\t\tdatawidth: \"auto\",\n\t\t\t\t\t\t\t//modal: false,\n\t\t\t\t\t\t\t//toTop: false,\n\t\t\t\t\t\t\t//overlay: 30,\n\t\t\t\t\t\t\tdrag: true,\n\t\t\t\t\t\t\tresize: true,\n\t\t\t\t\t\t\turl: \"\",\n\t\t\t\t\t\t\tmtype: \"POST\",\n\t\t\t\t\t\t\treloadAfterSubmit: true,\n\t\t\t\t\t\t\tbeforeShowForm: null,\n\t\t\t\t\t\t\tbeforeInitData: null,\n\t\t\t\t\t\t\tafterShowForm: null,\n\t\t\t\t\t\t\tbeforeSubmit: null,\n\t\t\t\t\t\t\tonclickSubmit: null,\n\t\t\t\t\t\t\tafterSubmit: null,\n\t\t\t\t\t\t\t//jqModal : true,\n\t\t\t\t\t\t\tcloseOnEscape: false,\n\t\t\t\t\t\t\tdelData: {},\n\t\t\t\t\t\t\tidSeparator: \",\",\n\t\t\t\t\t\t\tonClose: null,\n\t\t\t\t\t\t\tajaxDelOptions: {},\n\t\t\t\t\t\t\tprocessing: false,\n\t\t\t\t\t\t\tserializeDelData: null,\n\t\t\t\t\t\t\tuseDataProxy: false,\n\t\t\t\t\t\t\tdelui: \"disable\", // \"enable\", \"enable\" or \"block\"\n\t\t\t\t\t\t\tdeltext: base.getGridRes.call($self, \"defaults.deltext\") || \"Deleting...\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbase.getGridRes.call($self, \"del\"),\n\t\t\t\t\t\tjgrid.del || {},\n\t\t\t\t\t\tp.formDeleting || {},\n\t\t\t\t\t\toMuligrid || {});\n\n\t\t\t\tvar dtblId = \"DelTbl_\" + gridId, dtbl = \"#DelTbl_\" + jqID(gridId), postd, idname, opers, oper,\n\t\t\t\t\tids = { themodal: \"delmod\" + gridId, modalhead: \"delhd\" + gridId, modalcontent: \"delcnt\" + gridId, resizeAlso: dtblId },\n\t\t\t\t\tthemodalSelector = \"#\" + jqID(ids.themodal), gboxSelector = p.gBox, commonIconClass = o.commonIconClass,\n\t\t\t\t\tdeleteFeedback = function () {\n\t\t\t\t\t\tvar args = $.makeArray(arguments);\n\t\t\t\t\t\targs.unshift(\"\");\n\t\t\t\t\t\targs.unshift(\"Delete\");\n\t\t\t\t\t\targs.unshift(o);\n\t\t\t\t\t\treturn jgridFeedback.apply($t, args);\n\t\t\t\t\t},\n\t\t\t\t\thoverClasses = getGuiStateStyles.call($t, \"hover\"),\n\t\t\t\t\tactiveClass = getGuiStateStyles.call($t, \"active\"),\n\t\t\t\t\terrorClass = getGuiStateStyles.call($t, \"error\");\n\n\t\t\t\tif (!$.isArray(rowids)) { rowids = [String(rowids)]; }\n\t\t\t\tif ($(themodalSelector)[0] !== undefined) {\n\t\t\t\t\tif (!deleteFeedback(\"beforeInitData\", $(dtbl))) { return; }\n\t\t\t\t\t$(\"#DelData>td\", dtbl).text(rowids.join(o.idSeparator)).data(\"rowids\", rowids);\n\t\t\t\t\t$(\"#DelError\", dtbl).hide();\n\t\t\t\t\tif (o.processing === true) {\n\t\t\t\t\t\to.processing = false;\n\t\t\t\t\t\t$(\"#dData\", dtbl).removeClass(activeClass);\n\t\t\t\t\t}\n\t\t\t\t\tdeleteFeedback(\"beforeShowForm\", $(dtbl));\n\t\t\t\t\tjgrid.viewModal.call($t, themodalSelector, {\n\t\t\t\t\t\tgbox: gboxSelector,\n\t\t\t\t\t\tjqm: o.jqModal,\n\t\t\t\t\t\tjqM: false,\n\t\t\t\t\t\toverlay: o.overlay,\n\t\t\t\t\t\ttoTop: o.toTop,\n\t\t\t\t\t\tmodal: o.modal\n\t\t\t\t\t});\n\t\t\t\t\tdeleteFeedback(\"afterShowForm\", $(dtbl));\n\t\t\t\t} else {\n\t\t\t\t\tvar dh = isNaN(o.dataheight) ? o.dataheight : o.dataheight + \"px\",\n\t\t\t\t\t\tdw = isNaN(o.datawidth) ? o.datawidth : o.datawidth + \"px\",\n\t\t\t\t\t\ttbl = \"<div class='\" + getGuiStyles.call($t, \"dialog.body\") + \"'><div id='\" + dtblId + \"' class='formdata' style='width:\" + dw + \";overflow:auto;position:relative;height:\" + dh + \";'>\";\n\t\t\t\t\ttbl += \"<table class='DelTable'><tbody>\";\n\t\t\t\t\t// error data\n\t\t\t\t\ttbl += \"<tr id='DelError' style='display:none'><td class='\" + errorClass + \"'></td></tr>\";\n\t\t\t\t\ttbl += \"<tr id='DelData' style='display:none'><td >\" + rowids.join(o.idSeparator) + \"</td></tr>\";\n\t\t\t\t\ttbl += \"<tr><td class='delmsg'>\" + o.msg + \"</td></tr>\";\n\t\t\t\t\t// buttons at footer\n\t\t\t\t\ttbl += \"</tbody></table></div></div>\";\n\t\t\t\t\tvar bS = builderFmButon.call($t, \"dData\", o.bSubmit),\n\t\t\t\t\t\tbC = builderFmButon.call($t, \"eData\", o.bCancel);\n\t\t\t\t\ttbl += \"<div class='\" + getGuiStyles.call($t, \"dialog.footer\") + \"'><table class='EditTable' id='\" +\n\t\t\t\t\t\tdtblId + \"_2'><tbody><tr><td><hr class='\" +\n\t\t\t\t\t\tgetGuiStyles.call($t, \"dialog.hr\") + \"' style='margin:1px'/></td></tr><tr><td class='DelButton EditButton EditButton-\" +\n\t\t\t\t\t\tp.direction + \"'>\" + bS + \"&#160;\" + bC + \"</td></tr></tbody></table></div>\";\n\t\t\t\t\to.gbox = gboxSelector;\n\t\t\t\t\tjgrid.createModal.call($t, ids, tbl, o, p.gView, $(p.gView)[0]);\n\t\t\t\t\t$(\"#DelData>td\", dtbl).data(\"rowids\", rowids);\n\n\t\t\t\t\tif (!deleteFeedback(\"beforeInitData\", $(tbl))) { return; }\n\t\t\t\t\t$(\".fm-button\", dtbl + \"_2\").hover(\n\t\t\t\t\t\tfunction () { $(this).addClass(hoverClasses); },\n\t\t\t\t\t\tfunction () { $(this).removeClass(hoverClasses); }\n\t\t\t\t\t);\n\t\t\t\t\taddFormIcon($(\"#dData\", dtbl + \"_2\"), o.delicon, commonIconClass);\n\t\t\t\t\taddFormIcon($(\"#eData\", dtbl + \"_2\"), o.cancelicon, commonIconClass);\n\t\t\t\t\t$(\"#dData\", dtbl + \"_2\").click(function () {\n\t\t\t\t\t\tvar ret = [true, \"\"], pk, $delData = $(\"#DelData>td\", dtbl),\n\t\t\t\t\t\t\tpostdata = $delData.text(), //the pair is name=val1,val2,...\n\t\t\t\t\t\t\tformRowIds = $delData.data(\"rowids\"),\n\t\t\t\t\t\t\tcs = {};\n\t\t\t\t\t\tif ($.isFunction(o.onclickSubmit)) { cs = o.onclickSubmit.call($t, o, postdata, formRowIds) || {}; }\n\t\t\t\t\t\tif ($.isFunction(o.beforeSubmit)) { ret = o.beforeSubmit.call($t, postdata, formRowIds) || ret; }\n\t\t\t\t\t\tif (ret[0] && !o.processing) {\n\t\t\t\t\t\t\to.processing = true;\n\t\t\t\t\t\t\topers = p.prmNames;\n\t\t\t\t\t\t\tpostd = $.extend({}, o.delData, cs);\n\t\t\t\t\t\t\toper = opers.oper;\n\t\t\t\t\t\t\tpostd[oper] = opers.deloper;\n\t\t\t\t\t\t\tidname = opers.id;\n\t\t\t\t\t\t\tpostdata = formRowIds.slice();\n\t\t\t\t\t\t\tif (!postdata.length) { return false; }\n\t\t\t\t\t\t\tfor (pk in postdata) {\n\t\t\t\t\t\t\t\tif (postdata.hasOwnProperty(pk)) {\n\t\t\t\t\t\t\t\t\tpostdata[pk] = jgrid.stripPref(p.idPrefix, postdata[pk]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tpostd[idname] = postdata.join(o.idSeparator);\n\t\t\t\t\t\t\t$(this).addClass(activeClass);\n\t\t\t\t\t\t\tvar url = o.url || p.editurl,\n\t\t\t\t\t\t\t\tajaxOptions = $.extend({\n\t\t\t\t\t\t\t\t\turl: $.isFunction(url) ? url.call($t, postd[idname], postd, o, formRowIds) : url,\n\t\t\t\t\t\t\t\t\ttype: o.mtype,\n\t\t\t\t\t\t\t\t\tdata: $.isFunction(o.serializeDelData) ? o.serializeDelData.call($t, postd, formRowIds) : postd,\n\t\t\t\t\t\t\t\t\tcomplete: function (jqXHR, textStatus) {\n\t\t\t\t\t\t\t\t\t\tvar i;\n\t\t\t\t\t\t\t\t\t\t$self.jqGrid(\"progressBar\", { method: \"hide\", loadtype: o.delui });\n\t\t\t\t\t\t\t\t\t\t$(\"#dData\", dtbl + \"_2\").removeClass(activeClass);\n\t\t\t\t\t\t\t\t\t\tif ((jqXHR.status >= 300 && jqXHR.status !== 304) || (jqXHR.status === 0 && jqXHR.readyState === 4)) {\n\t\t\t\t\t\t\t\t\t\t\tret[0] = false;\n\t\t\t\t\t\t\t\t\t\t\tif ($.isFunction(o.errorTextFormat)) {\n\t\t\t\t\t\t\t\t\t\t\t\tret[1] = o.errorTextFormat.call($t, jqXHR);\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tret[1] = textStatus + \" Status: '\" + jqXHR.statusText + \"'. Error code: \" + jqXHR.status;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t// data is posted successful\n\t\t\t\t\t\t\t\t\t\t\t// execute aftersubmit with the returned data from server\n\t\t\t\t\t\t\t\t\t\t\tif ($.isFunction(o.afterSubmit)) {\n\t\t\t\t\t\t\t\t\t\t\t\tret = o.afterSubmit.call($t, jqXHR, postd, formRowIds) || [true];\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif (ret[0] === false) {\n\t\t\t\t\t\t\t\t\t\t\t$(\"#DelError>td\", dtbl).html(ret[1]);\n\t\t\t\t\t\t\t\t\t\t\t$(\"#DelError\", dtbl).show();\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tif (p.datatype === \"local\" || p.treeGrid === true || !o.reloadAfterSubmit) {\n\t\t\t\t\t\t\t\t\t\t\t\tif (p.treeGrid === true) {\n\t\t\t\t\t\t\t\t\t\t\t\t\ttry { base.delTreeNode.call($self, formRowIds[0]); } catch (ignore) { }\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\tformRowIds = formRowIds.slice(); // make copy for save deleting\n\t\t\t\t\t\t\t\t\t\t\t\t\tfor (i = 0; i < formRowIds.length; i++) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbase.delRowData.call($self, formRowIds[i]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif (o.reloadAfterSubmit) {\n\t\t\t\t\t\t\t\t\t\t\t\t$self.trigger(\"reloadGrid\", [$.extend({}, o.reloadGridOptions || {})]);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\t\t\t\t\tdeleteFeedback(\"afterComplete\", jqXHR, postdata, $(dtbl), formRowIds);\n\t\t\t\t\t\t\t\t\t\t\t}, 50);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\to.processing = false;\n\t\t\t\t\t\t\t\t\t\tif (ret[0]) {\n\t\t\t\t\t\t\t\t\t\t\tjgrid.hideModal(themodalSelector, {\n\t\t\t\t\t\t\t\t\t\t\t\tgb: gboxSelector,\n\t\t\t\t\t\t\t\t\t\t\t\tjqm: o.jqModal,\n\t\t\t\t\t\t\t\t\t\t\t\tonClose: o.onClose,\n\t\t\t\t\t\t\t\t\t\t\t\tremovemodal: o.removemodal\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}, jgrid.ajaxOptions, o.ajaxDelOptions);\n\n\n\t\t\t\t\t\t\tif (!ajaxOptions.url && !o.useDataProxy) {\n\t\t\t\t\t\t\t\tif ($.isFunction(p.dataProxy)) {\n\t\t\t\t\t\t\t\t\to.useDataProxy = true;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tret[0] = false;\n\t\t\t\t\t\t\t\t\tret[1] += \" \" + jgrid.errors.nourl;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (ret[0]) {\n\t\t\t\t\t\t\t\t$self.jqGrid(\"progressBar\", { method: \"show\", loadtype: o.delui, htmlcontent: o.deltext });\n\t\t\t\t\t\t\t\tif (o.useDataProxy) {\n\t\t\t\t\t\t\t\t\tvar dpret = p.dataProxy.call($t, ajaxOptions, \"del_\" + gridId);\n\t\t\t\t\t\t\t\t\tif (dpret === undefined) {\n\t\t\t\t\t\t\t\t\t\tdpret = [true, \"\"];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (dpret[0] === false) {\n\t\t\t\t\t\t\t\t\t\tret[0] = false;\n\t\t\t\t\t\t\t\t\t\tret[1] = dpret[1] || \"Error deleting the selected row!\";\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tjgrid.hideModal(themodalSelector, {\n\t\t\t\t\t\t\t\t\t\t\tgb: gboxSelector,\n\t\t\t\t\t\t\t\t\t\t\tjqm: o.jqModal,\n\t\t\t\t\t\t\t\t\t\t\tonClose: o.onClose,\n\t\t\t\t\t\t\t\t\t\t\tremovemodal: o.removemodal\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (ajaxOptions.url === \"clientArray\") {\n\t\t\t\t\t\t\t\t\t\tpostd = ajaxOptions.data;\n\t\t\t\t\t\t\t\t\t\tajaxOptions.complete({ status: 200, statusText: \"\" }, \"\");\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t$.ajax(ajaxOptions);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (ret[0] === false) {\n\t\t\t\t\t\t\t$(\"#DelError>td\", dtbl).html(ret[1]);\n\t\t\t\t\t\t\t$(\"#DelError\", dtbl).show();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t});\n\t\t\t\t\t$(\"#eData\", dtbl + \"_2\").click(function () {\n\t\t\t\t\t\tjgrid.hideModal(themodalSelector, {\n\t\t\t\t\t\t\tgb: gboxSelector,\n\t\t\t\t\t\t\tjqm: o.jqModal,\n\t\t\t\t\t\t\tonClose: o.onClose,\n\t\t\t\t\t\t\tremovemodal: o.removemodal\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t});\n\t\t\t\t\tdeleteFeedback(\"beforeShowForm\", $(dtbl));\n\t\t\t\t\tjgrid.viewModal.call($t, themodalSelector, {\n\t\t\t\t\t\tgbox: gboxSelector,\n\t\t\t\t\t\tjqm: o.jqModal,\n\t\t\t\t\t\toverlay: o.overlay,\n\t\t\t\t\t\ttoTop: o.toTop,\n\t\t\t\t\t\tmodal: o.modal\n\t\t\t\t\t});\n\t\t\t\t\tdeleteFeedback(\"afterShowForm\", $(dtbl));\n\t\t\t\t}\n\t\t\t\tif (o.closeOnEscape === true) {\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t$(\".ui-jqdialog-titlebar-close\", \"#\" + jqID(ids.modalhead))\n\t\t\t\t\t\t\t.attr(\"tabindex\", \"-1\")\n\t\t\t\t\t\t\t.focus();\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tnavGrid: function (elem, oMuligrid, pEdit, pAdd, pDel, pSearch, pView) {\n\t\t\tif (typeof elem === \"object\") {\n\t\t\t\t// the option pager are skipped\n\t\t\t\tpView = pSearch;\n\t\t\t\tpSearch = pDel;\n\t\t\t\tpDel = pAdd;\n\t\t\t\tpAdd = pEdit;\n\t\t\t\tpEdit = oMuligrid;\n\t\t\t\toMuligrid = elem;\n\t\t\t\telem = undefined;\n\t\t\t}\n\t\t\tpAdd = pAdd || {};\n\t\t\tpEdit = pEdit || {};\n\t\t\tpView = pView || {};\n\t\t\tpDel = pDel || {};\n\t\t\tpSearch = pSearch || {};\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, p = $t.p, $self = $($t);\n\t\t\t\tif (!$t.grid || p == null || ($t.nav && $(elem).find(\".navtable\").length > 0)) {\n\t\t\t\t\treturn; // error or the navigator bar already exists\n\t\t\t\t}\n\t\t\t\t// make new copy of the options oMuligrid and use it for ONE specific grid.\n\t\t\t\t// p.navOptions can contains grid specific options\n\t\t\t\t// we will don't modify the input options oMuligrid\n\t\t\t\tvar gridId = p.id,\n\t\t\t\t\to = $.extend(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tedit: true,\n\t\t\t\t\t\t\tadd: true,\n\t\t\t\t\t\t\tdel: true,\n\t\t\t\t\t\t\tsearch: true,\n\t\t\t\t\t\t\trefresh: true,\n\t\t\t\t\t\t\trefreshstate: \"firstpage\",\n\t\t\t\t\t\t\tview: false,\n\t\t\t\t\t\t\tcloseOnEscape: true,\n\t\t\t\t\t\t\tbeforeRefresh: null,\n\t\t\t\t\t\t\tafterRefresh: null,\n\t\t\t\t\t\t\tcloneToTop: false,\n\t\t\t\t\t\t\thideEmptyPagerParts: true,\n\t\t\t\t\t\t\t//jqModal: true,\n\t\t\t\t\t\t\talertwidth: 200,\n\t\t\t\t\t\t\talertheight: \"auto\",\n\t\t\t\t\t\t\talerttop: null,\n\t\t\t\t\t\t\t//alertToTop: false,\n\t\t\t\t\t\t\tremovemodal: true,\n\t\t\t\t\t\t\talertleft: null,\n\t\t\t\t\t\t\talertzIndex: null,\n\t\t\t\t\t\t\ticonsOverText: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbase.getGridRes.call($self, \"nav\"),\n\t\t\t\t\t\tjgrid.nav || {},\n\t\t\t\t\t\tp.navOptions || {},\n\t\t\t\t\t\toMuligrid || {}\n\t\t\t\t\t);\n\t\t\t\t// set default position depend of RTL/LTR direction of the grid\n\t\t\t\to.position = o.position || (p.direction === \"rtl\" ? \"right\" : \"left\");\n\n\t\t\t\tvar twd, tdw, gridIdEscaped = p.idSel, gboxSelector = p.gBox, commonIconClass = o.commonIconClass,\n\t\t\t\t\talertIDs = { themodal: \"alertmod_\" + gridId, modalhead: \"alerthd_\" + gridId, modalcontent: \"alertcnt_\" + gridId },\n\t\t\t\t\tcreateModalAlert = function () {\n\t\t\t\t\t\treturn function () {\n\t\t\t\t\t\t\tvar documentElement = document.documentElement, w = window, left = 1024, top = 768,\n\t\t\t\t\t\t\t\toffsetGbox = $self.closest(\".ui-jqgrid\").offset();\n\t\t\t\t\t\t\tif ($(\"#\" + jqID(alertIDs.themodal))[0] === undefined) {\n\t\t\t\t\t\t\t\tif (!o.alerttop && !o.alertleft) {\n\t\t\t\t\t\t\t\t\tif (w.innerWidth !== undefined) {\n\t\t\t\t\t\t\t\t\t\tleft = w.innerWidth;\n\t\t\t\t\t\t\t\t\t\ttop = w.innerHeight;\n\t\t\t\t\t\t\t\t\t} else if (documentElement != null && documentElement.clientWidth !== undefined && documentElement.clientWidth !== 0) {\n\t\t\t\t\t\t\t\t\t\tleft = documentElement.clientWidth;\n\t\t\t\t\t\t\t\t\t\ttop = documentElement.clientHeight;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tleft = left / 2 - parseInt(o.alertwidth, 10) / 2 - offsetGbox.left +\n\t\t\t\t\t\t\t\t\t\t((w.pageXOffset !== undefined) ? w.pageXOffset : (documentElement || document.body.parentNode || document.body).scrollLeft);\n\t\t\t\t\t\t\t\t\ttop = top / 2 - 25 - offsetGbox.top +\n\t\t\t\t\t\t\t\t\t\t((w.pageYOffset !== undefined) ? w.pageYOffset : (documentElement || document.body.parentNode || document.body).scrollTop);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tjgrid.createModal.call($t, alertIDs,\n\t\t\t\t\t\t\t\t\t\"<div class='\" + getGuiStyles.call($t, \"dialog.body\") + \"'><div>\" + o.alerttext + \"</div></div>\",\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tgbox: gboxSelector,\n\t\t\t\t\t\t\t\t\t\tjqModal: o.jqModal,\n\t\t\t\t\t\t\t\t\t\tdrag: true,\n\t\t\t\t\t\t\t\t\t\tresize: true,\n\t\t\t\t\t\t\t\t\t\tcaption: o.alertcap,\n\t\t\t\t\t\t\t\t\t\ttop: o.alerttop != null ? o.alerttop : top,\n\t\t\t\t\t\t\t\t\t\tleft: o.alertleft != null ? o.alertleft : left,\n\t\t\t\t\t\t\t\t\t\twidth: o.alertwidth,\n\t\t\t\t\t\t\t\t\t\theight: o.alertheight,\n\t\t\t\t\t\t\t\t\t\tcloseOnEscape: o.closeOnEscape,\n\t\t\t\t\t\t\t\t\t\tzIndex: o.alertzIndex,\n\t\t\t\t\t\t\t\t\t\tremovemodal: o.removemodal\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tp.gView,\n\t\t\t\t\t\t\t\t\t$(gboxSelector)[0],\n\t\t\t\t\t\t\t\t\tfalse);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tjgrid.viewModal.call($t, \"#\" + jqID(alertIDs.themodal), {\n\t\t\t\t\t\t\t\tgbox: gboxSelector,\n\t\t\t\t\t\t\t\ttoTop: o.alertToTop,\n\t\t\t\t\t\t\t\tjqm: o.jqModal\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tvar $close = $(\"#\" + jqID(alertIDs.modalhead)).find(\".ui-jqdialog-titlebar-close\");\n\t\t\t\t\t\t\t$close.attr({ tabindex: \"0\", href: \"#\", role: \"button\" });\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\t$close.focus();\n\t\t\t\t\t\t\t}, 50);\n\t\t\t\t\t\t};\n\t\t\t\t\t},\n\t\t\t\t\tviewModalAlert = createModalAlert(),\n\t\t\t\t\tnavtbl,\n\t\t\t\t\tclickOnEnter = function (e) {\n\t\t\t\t\t\tvar $focused;\n\t\t\t\t\t\tif (e.which === 13) {\n\t\t\t\t\t\t\t$focused = $(this).find(\".ui-pg-button\").filter(\":focus\");\n\t\t\t\t\t\t\tif ($focused.length > 0) {\n\t\t\t\t\t\t\t\t// $focused[0].id == \"view_list\" or \"view_list_top\"\n\t\t\t\t\t\t\t\tvar focusedId = $focused[0].id,\n\t\t\t\t\t\t\t\t\tactionName = focusedId.substr(0,\n\t\t\t\t\t\t\t\t\t\t$(this).closest(\".ui-jqgrid-toppager\").length > 0 ?\n\t\t\t\t\t\t\t\t\t\t\tfocusedId.length - gridId.length - 5 : // \"_\" + \"_top\"\n\t\t\t\t\t\t\t\t\t\t\tfocusedId.length - gridId.length - 1), // view \"_\"\n\t\t\t\t\t\t\t\t\tgialogId = actionName + \"mod\" + p.id, // \"viewmodlist\"\n\t\t\t\t\t\t\t\t\tvisibleDailogIds = $(\".ui-jqdialog\").filter(\":visible\").map(function () { return this.id; });\n\n\t\t\t\t\t\t\t\tif ($.inArray(gialogId, visibleDailogIds) < 0) {\n\t\t\t\t\t\t\t\t\t// simulate click only if the dialog is not already opened\n\t\t\t\t\t\t\t\t\t$focused.trigger(\"click\");\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\thoverClasses = getGuiStateStyles.call($t, \"hover\"),\n\t\t\t\t\tdisabledClass = getGuiStateStyles.call($t, \"disabled\"),\n\t\t\t\t\tnavButtonClass = getGuiStyles.call($t, \"navButton\", \"ui-pg-button\");\n\t\t\t\tif (!$t.grid) {\n\t\t\t\t\treturn; // error\n\t\t\t\t}\n\t\t\t\t// set modalAlert which can be used inside of\n\t\t\t\t$t.modalAlert = viewModalAlert;\n\t\t\t\tif (elem === undefined) {\n\t\t\t\t\tif (p.pager) {\n\t\t\t\t\t\telem = p.pager;\n\t\t\t\t\t\tif (p.toppager) {\n\t\t\t\t\t\t\to.cloneToTop = true; // add buttons to both pagers\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (p.toppager) {\n\t\t\t\t\t\telem = p.toppager;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar clone = 1, i, tbd, pgid, elemids, iPart, pagerTable, $pagerPart, pagerParts = [\"left\", \"center\", \"right\"],\n\t\t\t\t\tnavButtonDisabledClass = getGuiStyles.call($t, \"navButton\", \"ui-pg-button\" + \" \" + getGuiStateStyles.call($t, \"disabled\")),\n\t\t\t\t\tsep = \"<div class='\" + navButtonDisabledClass + \"'><span class='ui-separator'></span></div>\",\n\t\t\t\t\tonHoverIn = function () {\n\t\t\t\t\t\tif (!hasOneFromClasses(this, disabledClass)) {\n\t\t\t\t\t\t\t$(this).addClass(hoverClasses);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tonHoverOut = function () {\n\t\t\t\t\t\t$(this).removeClass(hoverClasses);\n\t\t\t\t\t},\n\t\t\t\t\tonAdd = function () {\n\t\t\t\t\t\tif (!hasOneFromClasses(this, disabledClass)) {\n\t\t\t\t\t\t\tif ($.isFunction(o.addfunc)) {\n\t\t\t\t\t\t\t\to.addfunc.call($t, pAdd);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tbase.editGridRow.call($self, \"new\", pAdd);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t},\n\t\t\t\t\teditOrViewOfSelectedRow = function (func, methodName, param) {\n\t\t\t\t\t\tif (!hasOneFromClasses(this, disabledClass)) {\n\t\t\t\t\t\t\tvar sr = p.selrow;\n\t\t\t\t\t\t\tif (sr) {\n\t\t\t\t\t\t\t\tif ($.isFunction(func)) {\n\t\t\t\t\t\t\t\t\tfunc.call($t, sr, param);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tbase[methodName].call($self, sr, param);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tviewModalAlert();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t},\n\t\t\t\t\tonEdit = function () {\n\t\t\t\t\t\treturn editOrViewOfSelectedRow.call(this, o.editfunc, \"editGridRow\", pEdit);\n\t\t\t\t\t},\n\t\t\t\t\tonView = function () {\n\t\t\t\t\t\treturn editOrViewOfSelectedRow.call(this, o.viewfunc, \"viewGridRow\", pView);\n\t\t\t\t\t},\n\t\t\t\t\tonDel = function () {\n\t\t\t\t\t\tvar dr;\n\t\t\t\t\t\tif (!hasOneFromClasses(this, disabledClass)) {\n\t\t\t\t\t\t\tif (p.multiselect) {\n\t\t\t\t\t\t\t\tdr = p.selarrrow;\n\t\t\t\t\t\t\t\tif (dr.length === 0) { dr = null; }\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tdr = p.selrow;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (dr) {\n\t\t\t\t\t\t\t\tif ($.isFunction(o.delfunc)) {\n\t\t\t\t\t\t\t\t\to.delfunc.call($t, dr, pDel);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tbase.delGridRow.call($self, dr, pDel);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tviewModalAlert();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t},\n\t\t\t\t\tonSearch = function () {\n\t\t\t\t\t\tif (!hasOneFromClasses(this, disabledClass)) {\n\t\t\t\t\t\t\tif ($.isFunction(o.searchfunc)) {\n\t\t\t\t\t\t\t\to.searchfunc.call($t, pSearch);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tbase.searchGrid.call($self, pSearch);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t},\n\t\t\t\t\tonRefresh = function () {\n\t\t\t\t\t\tif (!hasOneFromClasses(this, disabledClass)) {\n\t\t\t\t\t\t\tif ($.isFunction(o.beforeRefresh)) { o.beforeRefresh.call($t); }\n\t\t\t\t\t\t\tp.search = false;\n\t\t\t\t\t\t\tp.resetsearch = true;\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tif (o.refreshstate !== \"currentfilter\") {\n\t\t\t\t\t\t\t\t\tp.postData.filters = \"\";\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t$(\"#fbox_\" + gridIdEscaped).jqFilter(\"resetFilter\");\n\t\t\t\t\t\t\t\t\t} catch (ignore) { }\n\t\t\t\t\t\t\t\t\tif ($.isFunction($t.clearToolbar)) { $t.clearToolbar(false); }\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} catch (ignore) { }\n\t\t\t\t\t\t\tswitch (o.refreshstate) {\n\t\t\t\t\t\t\t\tcase \"firstpage\":\n\t\t\t\t\t\t\t\t\t$self.trigger(\"reloadGrid\", [$.extend({}, o.reloadGridOptions || {}, { page: 1 })]);\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase \"current\":\n\t\t\t\t\t\t\t\tcase \"currentfilter\":\n\t\t\t\t\t\t\t\t\t$self.trigger(\"reloadGrid\", [$.extend({}, o.reloadGridOptions || {}, { current: true })]);\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ($.isFunction(o.afterRefresh)) { o.afterRefresh.call($t); }\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t},\n\t\t\t\t\tstdButtonActivation = function (name, id, onClick) {\n\t\t\t\t\t\tvar $button = $(\"<div class='\" + navButtonClass + \"' tabindex='0' role='button'></div>\"),\n\t\t\t\t\t\t\ticonClass = o[name + \"icon\"],\n\t\t\t\t\t\t\ticonText = $.trim(o[name + \"text\"]);\n\t\t\t\t\t\t$button.append(\"<div class='ui-pg-div'><span class='\" +\n\t\t\t\t\t\t\t(o.iconsOverText ?\n\t\t\t\t\t\t\t\tmergeCssClasses(\"ui-pg-button-icon-over-text\", commonIconClass, iconClass) :\n\t\t\t\t\t\t\t\tmergeCssClasses(commonIconClass, iconClass)) +\n\t\t\t\t\t\t\t\"'></span>\" +\n\t\t\t\t\t\t\t(iconText ? \"<span class='ui-pg-button-text\" + (o.iconsOverText ? \" ui-pg-button-icon-over-text\" : \"\") + \"'>\" + iconText + \"</span>\" : \"\") +\n\t\t\t\t\t\t\t\"</div>\");\n\t\t\t\t\t\t$(navtbl).append($button);\n\t\t\t\t\t\t$button.attr({ \"title\": o[name + \"title\"] || \"\", id: id || name + \"_\" + elemids })\n\t\t\t\t\t\t\t.click(onClick)\n\t\t\t\t\t\t\t.hover(onHoverIn, onHoverOut);\n\t\t\t\t\t\treturn $button;\n\t\t\t\t\t};\n\n\t\t\t\tif (o.cloneToTop && p.toppager) { clone = 2; }\n\t\t\t\tfor (i = 0; i < clone; i++) {\n\t\t\t\t\t// we can set aria-activedescendant=\"idOfFirstButton\" later\n\t\t\t\t\tnavtbl = $(\"<div\" + \" class='ui-pg-table navtable' role='toolbar' style='float:\" +\n\t\t\t\t\t\t(p.direction === \"rtl\" ? \"right\" : \"left\") +\n\t\t\t\t\t\t\";table-layout:auto;'></div>\");\n\t\t\t\t\tif (i === 0) {\n\t\t\t\t\t\tpgid = elem;\n\t\t\t\t\t\telemids = gridId;\n\t\t\t\t\t\tif (pgid === p.toppager) {\n\t\t\t\t\t\t\telemids += \"_top\";\n\t\t\t\t\t\t\tclone = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpgid = p.toppager;\n\t\t\t\t\t\telemids = gridId + \"_top\";\n\t\t\t\t\t}\n\t\t\t\t\tif (o.add) {\n\t\t\t\t\t\tstdButtonActivation(\"add\", pAdd.id, onAdd);\n\t\t\t\t\t}\n\t\t\t\t\tif (o.edit) {\n\t\t\t\t\t\tstdButtonActivation(\"edit\", pEdit.id, onEdit);\n\t\t\t\t\t}\n\t\t\t\t\tif (o.view) {\n\t\t\t\t\t\tstdButtonActivation(\"view\", pView.id, onView);\n\t\t\t\t\t}\n\t\t\t\t\tif (o.del) {\n\t\t\t\t\t\tstdButtonActivation(\"del\", pDel.id, onDel);\n\t\t\t\t\t}\n\t\t\t\t\tif (o.add || o.edit || o.del || o.view) { $(navtbl).append(sep); }\n\t\t\t\t\tif (o.search) {\n\t\t\t\t\t\ttbd = stdButtonActivation(\"search\", pSearch.id, onSearch);\n\t\t\t\t\t\tif (pSearch.showOnLoad && pSearch.showOnLoad === true) {\n\t\t\t\t\t\t\t$(tbd, navtbl).click();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (o.refresh) {\n\t\t\t\t\t\tstdButtonActivation(\"refresh\", \"\", onRefresh);\n\t\t\t\t\t}\n\t\t\t\t\t// TODO use setWidthOfPagerTdWithPager or remove at all and use div structure with wrapping\n\t\t\t\t\ttdw = $(\".ui-jqgrid>.ui-jqgrid-view\").css(\"font-size\") || \"11px\";\n\t\t\t\t\t$(\"body\").append(\"<div id='testpg2' class='\" + getGuiStyles.call($t, \"gBox\", \"ui-jqgrid\") + \"' style='font-size:\" + tdw + \";visibility:hidden;' ></div>\");\n\t\t\t\t\ttwd = $(navtbl).clone().appendTo(\"#testpg2\").width();\n\t\t\t\t\t$(\"#testpg2\").remove();\n\t\t\t\t\t$(pgid + \"_\" + o.position, pgid).append(navtbl);\n\t\t\t\t\tif (o.hideEmptyPagerParts) {\n\t\t\t\t\t\tfor (iPart = 0; iPart < pagerParts.length; iPart++) {\n\t\t\t\t\t\t\tif (pagerParts[iPart] !== o.position) {\n\t\t\t\t\t\t\t\t$pagerPart = $(pgid + \"_\" + pagerParts[iPart], pgid);\n\t\t\t\t\t\t\t\tif ($pagerPart.length === 0 || $pagerPart[0].childNodes.length === 0) {\n\t\t\t\t\t\t\t\t\t$pagerPart.hide();\n\t\t\t\t\t\t\t\t} else if ($pagerPart[0].childNodes.length === 1) {\n\t\t\t\t\t\t\t\t\tpagerTable = $pagerPart[0].firstChild;\n\t\t\t\t\t\t\t\t\tif ($(pagerTable).is(\"table.ui-pg-table\") && (pagerTable.rows === 0 || pagerTable.rows[0].cells.length === 0)) {\n\t\t\t\t\t\t\t\t\t\t$pagerPart.hide();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (p._nvtd) {\n\t\t\t\t\t\tif (twd > p._nvtd[0]) {\n\t\t\t\t\t\t\t$(pgid + \"_\" + o.position, pgid).width(twd);\n\t\t\t\t\t\t\tp._nvtd[0] = twd;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tp._nvtd[1] = twd;\n\t\t\t\t\t}\n\t\t\t\t\t$t.nav = true;\n\t\t\t\t\tnavtbl.on(\"keydown.jqGrid\", clickOnEnter);\n\t\t\t\t}\n\t\t\t\t$self.triggerHandler(\"jqGridResetFrozenHeights\");\n\t\t\t});\n\t\t},\n\t\tnavButtonAdd: function (elem, oMuligrid) {\n\t\t\tif (typeof elem === \"object\") {\n\t\t\t\toMuligrid = elem;\n\t\t\t\telem = undefined;\n\t\t\t}\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, p = $t.p;\n\t\t\t\tif (!$t.grid) { return; }\n\t\t\t\tvar o = $.extend(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcaption: \"newButton\",\n\t\t\t\t\t\t\ttitle: \"\",\n\t\t\t\t\t\t\tonClickButton: null,\n\t\t\t\t\t\t\tposition: \"last\",\n\t\t\t\t\t\t\ticonsOverText: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbase.getGridRes.call($($t), \"nav\"),\n\t\t\t\t\t\tjgrid.nav || {},\n\t\t\t\t\t\tp.navOptions || {},\n\t\t\t\t\t\toMuligrid || {}\n\t\t\t\t\t),\n\t\t\t\t\tid = o.id,\n\t\t\t\t\thoverClasses = getGuiStateStyles.call($t, \"hover\"),\n\t\t\t\t\tdisabledClass = getGuiStateStyles.call($t, \"disabled\"),\n\t\t\t\t\tnavButtonClass = getGuiStyles.call($t, \"navButton\", \"ui-pg-button\");\n\t\t\t\tif (elem === undefined) {\n\t\t\t\t\tif (p.pager) {\n\t\t\t\t\t\tbase.navButtonAdd.call($($t), p.pager, o);\n\t\t\t\t\t\tif (p.toppager) {\n\t\t\t\t\t\t\telem = p.toppager;\n\t\t\t\t\t\t\tif (id) {\n\t\t\t\t\t\t\t\tid += \"_top\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (p.toppager) {\n\t\t\t\t\t\telem = p.toppager;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (typeof elem === \"string\" && elem.indexOf(\"#\") !== 0) { elem = \"#\" + jqID(elem); }\n\t\t\t\tvar findnav = $(\".navtable\", elem), commonIconClass = o.commonIconClass;\n\t\t\t\tif (findnav.length > 0) {\n\t\t\t\t\tif (id && findnav.find(\"#\" + jqID(id)).length > 0) { return; }\n\t\t\t\t\tvar tbd = $(\"<div tabindex='0' role='button'></div>\");\n\t\t\t\t\tif (o.buttonicon.toString().toUpperCase() === \"NONE\") {\n\t\t\t\t\t\t$(tbd).addClass(navButtonClass).append(\"<div class='ui-pg-div'>\" +\n\t\t\t\t\t\t\t(o.caption ? \"<span class='ui-pg-button-text\" + (o.iconsOverText ? \" ui-pg-button-icon-over-text\" : \"\") + \"'>\" + o.caption + \"</span>\" : \"\") +\n\t\t\t\t\t\t\t\"</div>\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(tbd).addClass(navButtonClass).append(\"<div class='ui-pg-div'>\" +\n\t\t\t\t\t\t\t\"<span class='\" +\n\t\t\t\t\t\t\t(o.iconsOverText ?\n\t\t\t\t\t\t\t\tmergeCssClasses(\"ui-pg-button-icon-over-text\", commonIconClass, o.buttonicon) :\n\t\t\t\t\t\t\t\tmergeCssClasses(commonIconClass, o.buttonicon)) +\n\t\t\t\t\t\t\t\"'></span>\" +\n\t\t\t\t\t\t\t(o.caption ? \"<span class='ui-pg-button-text\" + (o.iconsOverText ? \" ui-pg-button-icon-over-text\" : \"\") + \"'>\" + o.caption + \"</span>\" : \"\") +\n\t\t\t\t\t\t\t\"</div>\");\n\t\t\t\t\t}\n\t\t\t\t\tif (id) { $(tbd).attr(\"id\", id); }\n\t\t\t\t\tif (o.position === \"first\" && findnav.children(\"div.ui-pg-button\").length > 0) {\n\t\t\t\t\t\tfindnav.children(\"div.ui-pg-button\").first().before(tbd);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfindnav.append(tbd);\n\t\t\t\t\t}\n\t\t\t\t\t$(tbd, findnav)\n\t\t\t\t\t\t.attr(\"title\", o.title || \"\")\n\t\t\t\t\t\t.click(function (e) {\n\t\t\t\t\t\t\tif (!hasOneFromClasses(this, disabledClass)) {\n\t\t\t\t\t\t\t\tif ($.isFunction(o.onClickButton)) { o.onClickButton.call($t, o, e); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.hover(\n\t\t\t\t\t\t\tfunction () {\n\t\t\t\t\t\t\t\tif (!hasOneFromClasses(this, disabledClass)) {\n\t\t\t\t\t\t\t\t\t$(this).addClass(hoverClasses);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfunction () { $(this).removeClass(hoverClasses); }\n\t\t\t\t\t\t);\n\t\t\t\t\t$($t).triggerHandler(\"jqGridResetFrozenHeights\");\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tnavSeparatorAdd: function (elem, o) {\n\t\t\to = $.extend({\n\t\t\t\tsepclass: \"ui-separator\",\n\t\t\t\tsepcontent: \"\",\n\t\t\t\tposition: \"last\"\n\t\t\t}, o || {});\n\t\t\treturn this.each(function () {\n\t\t\t\tif (!this.grid) { return; }\n\t\t\t\tvar $t = this, p = $t.p,\n\t\t\t\t\tnavButtonClass = getGuiStyles.call($t, \"navButton\", \"ui-pg-button\" + \" \" + getGuiStateStyles.call($t, \"disabled\"));\n\n\t\t\t\tif (elem === undefined) {\n\t\t\t\t\tif (p.pager) {\n\t\t\t\t\t\tbase.navSeparatorAdd.call($($t), p.pager, o);\n\t\t\t\t\t\tif (p.toppager) {\n\t\t\t\t\t\t\telem = p.toppager;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (p.toppager) {\n\t\t\t\t\t\telem = p.toppager;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (typeof elem === \"string\" && elem.indexOf(\"#\") !== 0) { elem = \"#\" + jqID(elem); }\n\t\t\t\tvar $nav = $(\".navtable\", elem);\n\t\t\t\tif ($nav.length > 0) {\n\t\t\t\t\tvar sep = \"<div class='\" + navButtonClass + \"'><span class='\" + o.sepclass + \"'></span>\" + o.sepcontent + \"</div>\";\n\t\t\t\t\tif (o.position === \"first\") {\n\t\t\t\t\t\tif ($nav.children(\"div.ui-pg-button\").length === 0) {\n\t\t\t\t\t\t\t$nav.append(sep);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$nav.children(\"div.ui-pg-button\").first().before(sep);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$nav.append(sep);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tGridToForm: function (rowid, formid) {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, i, $field, iField, $fieldi;\n\t\t\t\tif (!$t.grid) { return; }\n\t\t\t\tvar rowdata = base.getRowData.call($($t), rowid);\n\t\t\t\tif (rowdata) {\n\t\t\t\t\tfor (i in rowdata) {\n\t\t\t\t\t\tif (rowdata.hasOwnProperty(i)) {\n\t\t\t\t\t\t\t$field = $(\"[name=\" + jqID(i) + \"]\", formid);\n\t\t\t\t\t\t\tif ($field.is(\"input:radio\") || $field.is(\"input:checkbox\")) {\n\t\t\t\t\t\t\t\tfor (iField = 0; iField < $field.length; iField++) {\n\t\t\t\t\t\t\t\t\t$fieldi = $($field[iField]);\n\t\t\t\t\t\t\t\t\t$fieldi.prop(\"checked\", $fieldi.val() === String(rowdata[i]));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// this is very slow on big table and form.\n\t\t\t\t\t\t\t\t$field.val(isEmptyString(rowdata[i]) ? \"\" : rowdata[i]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tFormToGrid: function (rowid, formid, mode, position) {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this;\n\t\t\t\tif (!$t.grid) { return; }\n\t\t\t\tif (!mode) { mode = \"set\"; }\n\t\t\t\tif (!position) { position = \"first\"; }\n\t\t\t\tvar fields = $(formid).serializeArray();\n\t\t\t\tvar griddata = {};\n\t\t\t\t$.each(fields, function (i, field) {\n\t\t\t\t\tgriddata[field.name] = field.value;\n\t\t\t\t});\n\t\t\t\tif (mode === \"add\") {\n\t\t\t\t\tbase.addRowData.call($($t), rowid, griddata, position);\n\t\t\t\t} else if (mode === \"set\") {\n\t\t\t\t\tbase.setRowData.call($($t), rowid, griddata);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\t// end module grid.formedit\n\n\t// begin module grid.grouping\n\tjgrid.extend({\n\t\tgroupingSetup: function () {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, i, j, cml, p = $t.p, colModel = p.colModel, grp = p.groupingView, cm, summary,\n\t\t\t\t\temptyFormatter = function () {\n\t\t\t\t\t\treturn \"\";\n\t\t\t\t\t};\n\t\t\t\tif (grp !== null && ((typeof grp === \"object\") || $.isFunction(grp))) {\n\t\t\t\t\tif (!grp.groupField.length) {\n\t\t\t\t\t\tp.grouping = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (grp.visibiltyOnNextGrouping === undefined) {\n\t\t\t\t\t\t\tgrp.visibiltyOnNextGrouping = [];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgrp.lastvalues = [];\n\t\t\t\t\t\tif (!grp._locgr) {\n\t\t\t\t\t\t\tgrp.groups = [];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tgrp.counters = [];\n\t\t\t\t\t\tfor (i = 0; i < grp.groupField.length; i++) {\n\t\t\t\t\t\t\tif (!grp.groupOrder[i]) {\n\t\t\t\t\t\t\t\tgrp.groupOrder[i] = \"asc\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!grp.groupText[i]) {\n\t\t\t\t\t\t\t\tgrp.groupText[i] = \"{0}\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (typeof grp.groupColumnShow[i] !== \"boolean\") {\n\t\t\t\t\t\t\t\tgrp.groupColumnShow[i] = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (typeof grp.groupSummary[i] !== \"boolean\") {\n\t\t\t\t\t\t\t\tgrp.groupSummary[i] = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!grp.groupSummaryPos[i]) {\n\t\t\t\t\t\t\t\tgrp.groupSummaryPos[i] = \"footer\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// TODO: allow groupField be from additionalProperties\n\t\t\t\t\t\t\t// and not only from colModel\n\t\t\t\t\t\t\tcm = colModel[p.iColByName[grp.groupField[i]]];\n\t\t\t\t\t\t\tif (grp.groupColumnShow[i] === true) {\n\t\t\t\t\t\t\t\tgrp.visibiltyOnNextGrouping[i] = true;\n\t\t\t\t\t\t\t\tif (cm != null && cm.hidden === true) {\n\t\t\t\t\t\t\t\t\tbase.showCol.call($($t), grp.groupField[i]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tgrp.visibiltyOnNextGrouping[i] = $(\"#\" + jgrid.jqID(p.id + \"_\" + grp.groupField[i])).is(\":visible\");\n\t\t\t\t\t\t\t\tif (cm != null && cm.hidden !== true) {\n\t\t\t\t\t\t\t\t\tbase.hideCol.call($($t), grp.groupField[i]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tgrp.summary = [];\n\t\t\t\t\t\tif (grp.hideFirstGroupCol) {\n\t\t\t\t\t\t\tgrp.formatDisplayField[0] = function (v) {\n\t\t\t\t\t\t\t\treturn v;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (j = 0, cml = colModel.length; j < cml; j++) {\n\t\t\t\t\t\t\tcm = colModel[j];\n\t\t\t\t\t\t\tif (grp.hideFirstGroupCol) {\n\t\t\t\t\t\t\t\tif (!cm.hidden && grp.groupField[0] === cm.name) {\n\t\t\t\t\t\t\t\t\tcm.formatter = emptyFormatter;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (cm.summaryType) {\n\t\t\t\t\t\t\t\tsummary = {\n\t\t\t\t\t\t\t\t\tnm: cm.name,\n\t\t\t\t\t\t\t\t\tst: cm.summaryType,\n\t\t\t\t\t\t\t\t\tv: \"\",\n\t\t\t\t\t\t\t\t\tsr: cm.summaryRound,\n\t\t\t\t\t\t\t\t\tsrt: cm.summaryRoundType || \"round\"\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tif (cm.summaryDivider) {\n\t\t\t\t\t\t\t\t\tsummary.sd = cm.summaryDivider;\n\t\t\t\t\t\t\t\t\tsummary.vd = \"\";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tgrp.summary.push(summary);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tp.grouping = false;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgroupingPrepare: function (record, irow) {\n\t\t\tthis.each(function () {\n\t\t\t\tvar $t = this, p = $t.p, grp = p.groupingView, groups = grp.groups, counters = grp.counters,\n\t\t\t\t\tlastvalues = grp.lastvalues, isInTheSameGroup = grp.isInTheSameGroup, groupLength = grp.groupField.length,\n\t\t\t\t\ti, j, keys, newGroup, counter, fieldName, v, displayName, displayValue, changed = false,\n\t\t\t\t\tgroupingCalculationsHandler = base.groupingCalculations.handler, key,\n\t\t\t\t\tbuildSummary = function () {\n\t\t\t\t\t\tvar iSummary, summary, st;\n\t\t\t\t\t\tfor (iSummary = 0; iSummary < counter.summary.length; iSummary++) {\n\t\t\t\t\t\t\tsummary = counter.summary[iSummary];\n\t\t\t\t\t\t\tst = $.isArray(summary.st) ? summary.st[newGroup.idx] : summary.st;\n\t\t\t\t\t\t\tif ($.isFunction(st)) {\n\t\t\t\t\t\t\t\tsummary.v = st.call($t, summary.v, summary.nm, record, newGroup);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsummary.v = groupingCalculationsHandler.call($($t), st, summary.v, summary.nm, summary.sr, summary.srt, record);\n\t\t\t\t\t\t\t\tif (st.toLowerCase() === \"avg\" && summary.sd) {\n\t\t\t\t\t\t\t\t\tsummary.vd = groupingCalculationsHandler.call($($t), st, summary.vd, summary.sd, summary.sr, summary.srt, record);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn counter.summary;\n\t\t\t\t\t},\n\t\t\t\t\tnormilizeValue = function (value, cmOrPropName) {\n\t\t\t\t\t\tif (value == null && grp.useDefaultValuesOnGrouping) {\n\t\t\t\t\t\t\tvar cm = p.iColByName[cmOrPropName] !== undefined ?\n\t\t\t\t\t\t\t\t\tp.colModel[p.iColByName[cmOrPropName]] :\n\t\t\t\t\t\t\t\t\tp.additionalProperties[p.iPropByName[cmOrPropName]],\n\t\t\t\t\t\t\t\tdefaultValue;\n\n\t\t\t\t\t\t\tif (cm != null && cm.formatter != null) {\n\t\t\t\t\t\t\t\tif (cm.formatoptions != null && cm.formatoptions.defaultValue !== undefined) {\n\t\t\t\t\t\t\t\t\tvalue = cm.formatoptions.defaultValue;\n\t\t\t\t\t\t\t\t} else if (typeof cm.formatter === \"string\") {\n\t\t\t\t\t\t\t\t\tdefaultValue = $($t).jqGrid(\"getGridRes\", \"formatter.\" + cm.formatter + \".defaultValue\");\n\t\t\t\t\t\t\t\t\tif (defaultValue !== undefined) {\n\t\t\t\t\t\t\t\t\t\tvalue = defaultValue;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t};\n\n\t\t\t\tfor (i = 0; i < groupLength; i++) {\n\t\t\t\t\tfieldName = grp.groupField[i];\n\t\t\t\t\tv = normilizeValue(record[fieldName], fieldName);\n\t\t\t\t\tkey = v;\n\t\t\t\t\tdisplayName = grp.displayField[i];\n\t\t\t\t\tdisplayValue = displayName == null ?\n\t\t\t\t\t\tnull :\n\t\t\t\t\t\tnormilizeValue(record[displayName], displayName);\n\n\t\t\t\t\tif (displayValue == null) {\n\t\t\t\t\t\tdisplayValue = v;\n\t\t\t\t\t}\n\t\t\t\t\tif (v !== undefined) {\n\t\t\t\t\t\tkeys = [];\n\t\t\t\t\t\tfor (j = 0; j <= i; j++) {\n\t\t\t\t\t\t\tkeys.push(record[grp.groupField[j]]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnewGroup = {\n\t\t\t\t\t\t\tidx: i, // index in grp.groupField array\n\t\t\t\t\t\t\tdataIndex: fieldName,\n\t\t\t\t\t\t\tvalue: v,\n\t\t\t\t\t\t\tdisplayValue: displayValue,\n\t\t\t\t\t\t\tstartRow: irow,\n\t\t\t\t\t\t\tcnt: 1,\n\t\t\t\t\t\t\tkeys: keys,\n\t\t\t\t\t\t\tsummary: []\n\t\t\t\t\t\t};\n\t\t\t\t\t\tcounter = {\n\t\t\t\t\t\t\tcnt: 1,\n\t\t\t\t\t\t\tpos: groups.length,\n\t\t\t\t\t\t\tsummary: $.extend(true, [], grp.summary)\n\t\t\t\t\t\t};\n\t\t\t\t\t\tif (irow === 0) {\n\t\t\t\t\t\t\t// First record always starts a new group\n\t\t\t\t\t\t\tgroups.push(newGroup);\n\t\t\t\t\t\t\tlastvalues[i] = v;\n\t\t\t\t\t\t\tcounters[i] = counter;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (typeof v !== \"object\" && ($.isArray(isInTheSameGroup) && $.isFunction(isInTheSameGroup[i]) ? !isInTheSameGroup[i].call($t, lastvalues[i], v, i, grp) : lastvalues[i] !== v)) {\n\t\t\t\t\t\t\t\t// This record is not in same group as previous one\n\t\t\t\t\t\t\t\tgroups.push(newGroup);\n\t\t\t\t\t\t\t\tlastvalues[i] = v;\n\t\t\t\t\t\t\t\tchanged = true;\n\t\t\t\t\t\t\t\tcounters[i] = counter;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (changed) {\n\t\t\t\t\t\t\t\t\t// This group has changed because an earlier group changed.\n\t\t\t\t\t\t\t\t\tgroups.push(newGroup);\n\t\t\t\t\t\t\t\t\tlastvalues[i] = v;\n\t\t\t\t\t\t\t\t\tcounters[i] = counter;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcounter = counters[i];\n\t\t\t\t\t\t\t\t\tcounter.cnt += 1;\n\t\t\t\t\t\t\t\t\tgroups[counter.pos].cnt = counter.cnt;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tgroups[counter.pos].summary = buildSummary();\n\t\t\t\t\t\tfor (j = counter.pos - 1; j >= 0; j--) {\n\t\t\t\t\t\t\t// find the parent group (the grouping header)\n\t\t\t\t\t\t\tif (groups[j].idx < groups[counter.pos].idx) {\n\t\t\t\t\t\t\t\tgroups[counter.pos].parentGroupIndex = j;\n\t\t\t\t\t\t\t\tgroups[counter.pos].parentGroup = groups[j];\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t//gdata.push( rData );\n\t\t\t});\n\t\t\treturn this;\n\t\t},\n\t\tgetGroupHeaderIndex: function (hid, clickedElem) {\n\t\t\tvar $self = this, self = $self[0], p = self.p,\n\t\t\t\t$tr = clickedElem ?\n\t\t\t\t\t$(clickedElem).closest(\"tr.jqgroup\") :\n\t\t\t\t\t$(\"#\" + jgrid.jqID(hid)),\n\t\t\t\tgroupLevel = parseInt($tr.data(\"jqgrouplevel\"), 10),\n\t\t\t\thPrefix = p.id + \"ghead_\" + groupLevel + \"_\";\n\t\t\tif (isNaN(groupLevel) || !$tr.hasClass(\"jqgroup\") || hid.length <= hPrefix.length) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\treturn parseInt(hid.substring(hPrefix.length), 10);\n\t\t},\n\t\tgroupingToggle: function (hid, clickedElem) {\n\t\t\tthis.each(function () {\n\t\t\t\tvar $t = this, p = $t.p, grp = p.groupingView,\n\t\t\t\t\tminusClasses = grp.minusicon, plusClasses = grp.plusicon,\n\t\t\t\t\t$tr = clickedElem ?\n\t\t\t\t\t\t$(clickedElem).closest(\"tr.jqgroup\") :\n\t\t\t\t\t\t$(\"#\" + jgrid.jqID(hid)),\n\t\t\t\t\tgetGroupHeaderIcon = function ($trElem) {\n\t\t\t\t\t\treturn $trElem.find(\">td>span.\" + \"tree-wrap\");\n\t\t\t\t\t},\n\t\t\t\t\titemGroupingLevel, iRowStart, showDataRowsOnExpending = true,\n\t\t\t\t\t$groupIcon, collapsed = false, rowsToHideOrShow = [],\n\t\t\t\t\taddToHideOrShow = function ($elem) {\n\t\t\t\t\t\tvar i, l = $elem.length;\n\t\t\t\t\t\tfor (i = 0; i < l; i++) {\n\t\t\t\t\t\t\trowsToHideOrShow.push($elem[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tnum = parseInt($tr.data(\"jqgrouplevel\"), 10);\n\n\t\t\t\tif (p.frozenColumns && $tr.length > 0) {\n\t\t\t\t\t// always get row from non-frozen column\n\t\t\t\t\tiRowStart = $tr[0].rowIndex;\n\t\t\t\t\t$tr = $($t.rows[iRowStart]);\n\t\t\t\t\t$tr = $tr.add($t.grid.fbRows[iRowStart]);\n\t\t\t\t}\n\t\t\t\t$groupIcon = getGroupHeaderIcon($tr);\n\n\t\t\t\tif (jgrid.hasAllClasses($groupIcon, minusClasses)) {\n\t\t\t\t\t$groupIcon.removeClass(minusClasses).addClass(plusClasses);\n\t\t\t\t\tcollapsed = true;\n\t\t\t\t} else {\n\t\t\t\t\t$groupIcon.removeClass(plusClasses).addClass(minusClasses);\n\t\t\t\t}\n\t\t\t\tfor ($tr = $tr.next(); $tr.length; $tr = $tr.next()) {\n\t\t\t\t\tif ($tr.hasClass(\"jqfoot\")) {\n\t\t\t\t\t\titemGroupingLevel = parseInt($tr.data(\"jqfootlevel\"), 10);\n\t\t\t\t\t\tif (collapsed) {\n\t\t\t\t\t\t\t// hide all till the summary row of the same level.\n\t\t\t\t\t\t\t// don't hide the summary row if grp.showSummaryOnHide === true\n\t\t\t\t\t\t\titemGroupingLevel = parseInt($tr.data(\"jqfootlevel\"), 10);\n\t\t\t\t\t\t\tif ((!grp.showSummaryOnHide && itemGroupingLevel === num) || itemGroupingLevel > num) {\n\t\t\t\t\t\t\t\taddToHideOrShow($tr);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// stop hiding of rows if the footer of parent group are found\n\t\t\t\t\t\t\tif (itemGroupingLevel < num) { break; }\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (itemGroupingLevel === num || (grp.showSummaryOnHide && itemGroupingLevel === num + 1)) {\n\t\t\t\t\t\t\t\taddToHideOrShow($tr);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (itemGroupingLevel <= num) { break; }\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if ($tr.hasClass(\"jqgroup\")) {\n\t\t\t\t\t\titemGroupingLevel = parseInt($tr.data(\"jqgrouplevel\"), 10);\n\t\t\t\t\t\tif (collapsed) {\n\t\t\t\t\t\t\t// stop hiding of rows if the grouping header of the next group\n\t\t\t\t\t\t\t// of the same (or higher) level are found\n\t\t\t\t\t\t\tif (itemGroupingLevel <= num) { break; }\n\n\t\t\t\t\t\t\taddToHideOrShow($tr);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// stop next grouping header of the same lever are found\n\t\t\t\t\t\t\tif (itemGroupingLevel <= num) { break; }\n\t\t\t\t\t\t\tif (itemGroupingLevel === num + 1) {\n\t\t\t\t\t\t\t\t// one should display subgroupes in collaped form\n\t\t\t\t\t\t\t\tgetGroupHeaderIcon($tr).removeClass(minusClasses).addClass(plusClasses);\n\t\t\t\t\t\t\t\taddToHideOrShow($tr);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// one need hide all data if subgroup is found\n\t\t\t\t\t\t\tshowDataRowsOnExpending = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else { // data\n\t\t\t\t\t\t// we set currently no information about the level of data\n\t\t\t\t\t\t// se we use showDataRowsOnExpending variable which will be\n\t\t\t\t\t\t// used during expanding of data\n\t\t\t\t\t\tif (collapsed || showDataRowsOnExpending) {\n\t\t\t\t\t\t\t// grouping data need be displayed only\n\t\t\t\t\t\t\t// if the last level group with data (no subgroups)\n\t\t\t\t\t\t\t// is expanded\n\t\t\t\t\t\t\taddToHideOrShow($tr);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t//$(rowsToHideOrShow)[collapsed ? \"hide\" : \"show\"]();\n\t\t\t\t$(rowsToHideOrShow).css(\"display\", collapsed ? \"none\" : \"\");\n\t\t\t\t// fix position of elements of frozen divs\n\t\t\t\tif (p.frozenColumns) {\n\t\t\t\t\t$($t).triggerHandler(\"jqGridResetFrozenHeights\", [{\n\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\tresizeDiv: false,\n\t\t\t\t\t\t\tresizedRows: {\n\t\t\t\t\t\t\t\tiRowStart: -1, // -1 means don't recalculate heights or rows\n\t\t\t\t\t\t\t\tiRowEnd: -1\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tresizeFooter: false,\n\t\t\t\t\t\tbody: {\n\t\t\t\t\t\t\tresizeDiv: true,\n\t\t\t\t\t\t\tresizedRows: {\n\t\t\t\t\t\t\t\tiRowStart: iRowStart,\n\t\t\t\t\t\t\t\tiRowEnd: ($tr.length ? $tr[0].rowIndex - 1 : -1)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}]);\n\t\t\t\t}\n\n\t\t\t\t// recalculate the width because vertical scrollbar can\n\t\t\t\t// appears/disappears after expanding/collapsing\n\t\t\t\t$t.fixScrollOffsetAndhBoxPadding();\n\t\t\t\t$($t).triggerHandler(\"jqGridGroupingClickGroup\", [hid, collapsed]);\n\t\t\t\tif ($.isFunction(p.onClickGroup)) {\n\t\t\t\t\tp.onClickGroup.call($t, hid, collapsed);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn false;\n\t\t},\n\t\tgroupingRender: function (grdata, rn) {\n\t\t\t// input parameter grdata is array of strings, which are either opening <tr> element\n\t\t\t// or full HTML fragment (outer HTML) of <td> element, inclusive the closing tag </td>\n\t\t\t// or it contains the closing </tr> tag. The array grdata contains HTML fragments\n\t\t\t// of all rows from the current group.\n\t\t\t// The exact contain of the grdata is the following:\n\t\t\t//    \"<tr ...>\" - the opening tag of the first row of the group\n\t\t\t//        \"<td>...</td>\" - the irst cell of the first row\n\t\t\t//        \"<td>...</td>\" - the second cell of the first row\n\t\t\t//            ...\n\t\t\t//        \"<td>...</td>\" - the last cell of the first row\n\t\t\t//    \"</tr>\" - closing tag of the first row of the group\n\t\t\t//    \"<tr ...>\" - the opening tag of the second row of the group\n\t\t\t//        ... - all <td> elements of the second row\n\t\t\t//    \"</tr>\" - closing tag of the second row of the group\n\t\t\t//    ...\n\t\t\t//    \"<tr ...>\" - the opening tag of the last row of the group\n\t\t\t//        ... - all <td> elements of the last row\n\t\t\t//    \"</tr>\" - closing tag of the last row of the group\n\t\t\t// The input parameter rn corresponds to p.rowNum in the most cases.\n\t\t\tvar str = \"\", $t = this[0], p = $t.p, toEnd = 0, cp = [],\n\t\t\t\tgrp = p.groupingView, sumreverse = $.makeArray(grp.groupSummary),\n\t\t\t\tgroupLength = grp.groupField.length, groups = grp.groups, colModel = p.colModel,\n\t\t\t\tcmLength = colModel.length, page = p.page,\n\t\t\t\teventNames = \"jqGridShowHideCol.groupingRender\",\n\t\t\t\tgetGridRowStyles = function (classes) {\n\t\t\t\t\treturn base.getGuiStyles.call($t, \"gridRow\", classes);\n\t\t\t\t},\n\t\t\t\tjqgroupClass = getGridRowStyles(\"jqgroup ui-row-\" + p.direction),\n\t\t\t\tjqfootClass = getGridRowStyles(\"jqfoot ui-row-\" + p.direction);\n\n\t\t\tfunction buildSummaryTd(iEndGroup, offset, g, foffset, iconHtml) {\n\t\t\t\tvar fdata = groups[iEndGroup], i, groupCount, strTd = \"\", tmpdata, colSpan, align, vv,\n\t\t\t\t\tmadeHidden, nMakeHidden = 0, iSummary, summary, cm, iCol, summaryType, summaryTpl,\n\t\t\t\t\tisColumnForIconNotFound = true;\n\n\t\t\t\tif (offset !== 0 && groups[iEndGroup].idx !== 0) {\n\t\t\t\t\tfor (i = iEndGroup; i >= 0; i--) {\n\t\t\t\t\t\tif (groups[i].idx === groups[iEndGroup].idx - offset) {\n\t\t\t\t\t\t\tfdata = groups[i];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tgroupCount = fdata.cnt;\n\n\t\t\t\tfor (iCol = (iconHtml === undefined ? foffset : 0); iCol < cmLength; iCol++) {\n\t\t\t\t\ttmpdata = \"&#160;\";\n\t\t\t\t\tcm = colModel[iCol];\n\t\t\t\t\tfor (iSummary = 0; iSummary < fdata.summary.length; iSummary++) {\n\t\t\t\t\t\tsummary = fdata.summary[iSummary];\n\t\t\t\t\t\tsummaryType = $.isArray(summary.st) ? summary.st[g.idx] : summary.st;\n\t\t\t\t\t\tsummaryTpl = $.isArray(cm.summaryTpl) ? cm.summaryTpl[g.idx] : (cm.summaryTpl || \"{0}\");\n\t\t\t\t\t\tif (summary.nm === cm.name) {\n\t\t\t\t\t\t\tif (typeof summaryType === \"string\" && summaryType.toLowerCase() === \"avg\") {\n\t\t\t\t\t\t\t\tif (summary.sd && summary.vd) {\n\t\t\t\t\t\t\t\t\tsummary.v = (summary.v / summary.vd);\n\t\t\t\t\t\t\t\t} else if (summary.v && groupCount > 0) {\n\t\t\t\t\t\t\t\t\tsummary.v = (summary.v / groupCount);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tsummary.groupCount = fdata.cnt;\n\t\t\t\t\t\t\t\tsummary.groupIndex = fdata.dataIndex;\n\t\t\t\t\t\t\t\tsummary.groupValue = fdata.value;\n\t\t\t\t\t\t\t\tvv = $t.formatter(\"\", summary.v, iCol, summary);\n\t\t\t\t\t\t\t} catch (ef) {\n\t\t\t\t\t\t\t\tvv = summary.v;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttmpdata = jgrid.format(summaryTpl, vv);\n\t\t\t\t\t\t\tif (cm.summaryFormat) {\n\t\t\t\t\t\t\t\ttmpdata = cm.summaryFormat.call($t, g, tmpdata, vv, cm, summary);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcolSpan = false;\n\t\t\t\t\talign = false;\n\t\t\t\t\tif (iconHtml !== undefined && isColumnForIconNotFound) {\n\t\t\t\t\t\tif (!cm.hidden) {\n\t\t\t\t\t\t\t// the icon need be placed in the first non-hidden column\n\t\t\t\t\t\t\ttmpdata = iconHtml;\n\t\t\t\t\t\t\tisColumnForIconNotFound = false;\n\t\t\t\t\t\t\tif (foffset > 1) {\n\t\t\t\t\t\t\t\tcolSpan = true;\n\t\t\t\t\t\t\t\t// if foffset > 1 then the next foffset-1 non-hidden columns\n\t\t\t\t\t\t\t\t// must be displayed hidden.\n\t\t\t\t\t\t\t\tnMakeHidden = foffset - 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// the icon in the column header must be left aligned\n\t\t\t\t\t\t\talign = cm.align; // save the original align value\n\t\t\t\t\t\t\tcm.align = p.direction === \"rtl\" ? \"right\" : \"left\";\n\t\t\t\t\t\t\tgrp.iconColumnName = cm.name;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tmadeHidden = false;\n\t\t\t\t\tif (nMakeHidden > 0 && !cm.hidden && tmpdata === \"&#160;\") {\n\t\t\t\t\t\tmadeHidden = true;\n\t\t\t\t\t\tif (align) {\n\t\t\t\t\t\t\tcm.align = align; // restore the original align value\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnMakeHidden--;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstrTd += \"<td role='gridcell' \" + $t.formatCol(iCol, 1, \"\") +\n\t\t\t\t\t\t(colSpan ? \"colspan='\" + foffset + \"'\" : \"\") + \">\" + tmpdata + \"</td>\";\n\t\t\t\t\tcolSpan = false;\n\t\t\t\t\tif (align) {\n\t\t\t\t\t\tcm.align = align; // restore the original align value\n\t\t\t\t\t}\n\t\t\t\t\tif (madeHidden) {\n\t\t\t\t\t\tcm.hidden = false;\n\t\t\t\t\t\tnMakeHidden--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn strTd;\n\t\t\t}\n\n\t\t\t// TODO: allow groupField be from additionalProperties\n\t\t\t// and not only from colModel\n\t\t\t$.each(colModel, function (i, n) {\n\t\t\t\tvar iGroup;\n\t\t\t\tfor (iGroup = 0; iGroup < groupLength; iGroup++) {\n\t\t\t\t\tif (grp.groupField[iGroup] === n.name) {\n\t\t\t\t\t\tcp[iGroup] = i;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tsumreverse.reverse();\n\t\t\t$.each(groups, function (i, n) {\n\t\t\t\tvar gv, clid = p.id + \"ghead_\" + n.idx, hid = clid + \"_\" + i,\n\t\t\t\t\tgroupCollapse = $.isFunction(grp.groupCollapse) ?\n\t\t\t\t\t\tgrp.groupCollapse.call($t, { group: n, rowid: hid }) :\n\t\t\t\t\t\tgrp.groupCollapse,\n\t\t\t\t\tjj, kk, ik, colspan = 1, offset = 0, sgr, gg, end, grpTextStr,\n\t\t\t\t\tleaf = groupLength - 1 === n.idx,\n\t\t\t\t\tparentGroupCollapse = n.parentGroup != null ?\n\t\t\t\t\t\tn.parentGroup.collapsed :\n\t\t\t\t\t\tfalse,\n\t\t\t\t\ticon = \"<span style='cursor:pointer;margin-\" +\n\t\t\t\t\t\t(p.direction === \"rtl\" ? \"right:\" : \"left:\") + (n.idx * 12) +\n\t\t\t\t\t\t\"px;' class='\" + grp.commonIconClass + \" \" +\n\t\t\t\t\t\t(groupCollapse ? grp.plusicon : grp.minusicon) + \" tree-wrap'></span>\";\n\t\t\t\tif (grp._locgr) {\n\t\t\t\t\tif (!(n.startRow + n.cnt > (page - 1) * rn && n.startRow < page * rn)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (parentGroupCollapse) {\n\t\t\t\t\tgroupCollapse = true;\n\t\t\t\t}\n\t\t\t\tif (groupCollapse !== undefined) {\n\t\t\t\t\tn.collapsed = groupCollapse;\n\t\t\t\t}\n\t\t\t\ttoEnd++;\n\t\t\t\ttry {\n\t\t\t\t\tif ($.isArray(grp.formatDisplayField) && $.isFunction(grp.formatDisplayField[n.idx])) {\n\t\t\t\t\t\tn.displayValue = grp.formatDisplayField[n.idx].call($t, n.displayValue, n.value, colModel[cp[n.idx]], n.idx, n, i);\n\t\t\t\t\t\tgv = n.displayValue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tgv = $t.formatter(hid, n.displayValue, cp[n.idx], n.value, n);\n\t\t\t\t\t}\n\t\t\t\t} catch (egv) {\n\t\t\t\t\tgv = n.displayValue;\n\t\t\t\t}\n\t\t\t\tstr += \"<tr id='\" + hid + \"' data-jqgrouplevel='\" + n.idx + \"' \" +\n\t\t\t\t\t(groupCollapse && parentGroupCollapse ? \"style='display:none;' \" : \"\") +\n\t\t\t\t\t\"role='row' class='\" + jqgroupClass + \" \" + clid + \"'>\";\n\t\t\t\tgrpTextStr = $.isFunction(grp.groupText[n.idx]) ?\n\t\t\t\t\tgrp.groupText[n.idx].call($t, gv, n.cnt, n.summary) :\n\t\t\t\t\tjgrid.template(grp.groupText[n.idx], gv, n.cnt, n.summary);\n\t\t\t\tif (typeof grpTextStr !== \"string\" && typeof grpTextStr !== \"number\") {\n\t\t\t\t\tgrpTextStr = gv;\n\t\t\t\t}\n\t\t\t\tif (grp.groupSummaryPos[n.idx] === \"header\") {\n\t\t\t\t\tcolspan = 1;\n\t\t\t\t\tif (colModel[0].name === \"cb\" || colModel[1].name === \"cb\") {\n\t\t\t\t\t\tcolspan++;\n\t\t\t\t\t}\n\t\t\t\t\tif (colModel[0].name === \"subgrid\" || colModel[1].name === \"subgrid\") {\n\t\t\t\t\t\tcolspan++;\n\t\t\t\t\t}\n\t\t\t\t\tstr += buildSummaryTd(i, 0, n, colspan, icon + \"<span class='cell-wrapper'>\" + grpTextStr + \"</span>\");\n\t\t\t\t} else {\n\t\t\t\t\tstr += \"<td role='gridcell' style='padding-left:\" + (n.idx * 12) + \"px;'\" +\n\t\t\t\t\t\t\" colspan='\" + cmLength + \"'>\" + icon + grpTextStr + \"</td>\";\n\t\t\t\t}\n\t\t\t\tstr += \"</tr>\";\n\t\t\t\tif (leaf) {\n\t\t\t\t\tgg = groups[i + 1];\n\t\t\t\t\tsgr = n.startRow;\n\t\t\t\t\tend = gg !== undefined ? gg.startRow : groups[i].startRow + groups[i].cnt;\n\t\t\t\t\tif (grp._locgr) {\n\t\t\t\t\t\toffset = (page - 1) * rn;\n\t\t\t\t\t\tif (offset > n.startRow) {\n\t\t\t\t\t\t\tsgr = offset;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfor (kk = sgr; kk < end; kk++) {\n\t\t\t\t\t\tif (!grdata[kk - offset]) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstr += grdata[kk - offset].join(\"\");\n\t\t\t\t\t}\n\t\t\t\t\tif (grp.groupSummaryPos[n.idx] !== \"header\") {\n\t\t\t\t\t\tif (gg !== undefined) {\n\t\t\t\t\t\t\tfor (jj = 0; jj < grp.groupField.length; jj++) {\n\t\t\t\t\t\t\t\tif (gg.dataIndex === grp.groupField[jj]) {\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttoEnd = grp.groupField.length - jj;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (ik = 0; ik < toEnd; ik++) {\n\t\t\t\t\t\t\tif (!sumreverse[ik]) {\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tstr += \"<tr data-jqfootlevel='\" + (n.idx - ik) +\n\t\t\t\t\t\t\t\t(groupCollapse && ((n.idx - ik) > 0 || !grp.showSummaryOnHide) ? \"' style='display:none;'\" : \"'\") +\n\t\t\t\t\t\t\t\t\" role='row' class='\" + jqfootClass + \"'>\";\n\t\t\t\t\t\t\tstr += buildSummaryTd(i, ik, groups[n.idx - ik], 0);\n\t\t\t\t\t\t\tstr += \"</tr>\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttoEnd = jj;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.off(eventNames)\n\t\t\t\t.on(eventNames, function () { //e, show, cmName, iColShow) {\n\t\t\t\t\t// TODO fix the code after resorting columns\n\t\t\t\t\tvar iCol = p.iColByName[grp.iconColumnName], iRow, row, iColNew, i; //$cellData;\n\t\t\t\t\tif ($.inArray(\"header\", grp.groupSummaryPos) >= 0) {\n\t\t\t\t\t\tfor (i = 0; i < colModel.length; i++) {\n\t\t\t\t\t\t\tif (!colModel[i].hidden) {\n\t\t\t\t\t\t\t\tiColNew = i;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (iColNew === undefined || iCol === iColNew) { return; }\n\n\t\t\t\t\t\tfor (iRow = 0; iRow < $t.rows.length; iRow++) {\n\t\t\t\t\t\t\trow = $t.rows[iRow];\n\t\t\t\t\t\t\tif ($(row).hasClass(\"jqgroup\")) {\n\t\t\t\t\t\t\t\t/*$cellData = $(row.cells[iCol]).children(\".cell-wrapper\").detach();\n\t\t\t\t\t\t\t\t$.wrapInner(row.cells[iColNew], function () {//\"<span class='cell-wrapper'></span>\");\n\t\t\t\t\t\t\t\t\treturn \"<span class='cell-wrapper'>\" + this.nodeValue + \"</span>\";\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\trow.cells[iColNew]\n\t\t\t\t\t\t\t\t$cellData = $(row.cells[iCol]).children(\".cell-wrapper\").detach();\n\t\t\t\t\t\t\t\t$(row.cells[iCol]).html($(row.cells[iCol]).children(\"\").html());*/\n\t\t\t\t\t\t\t\t$(row.cells[iColNew]).html(row.cells[iCol].innerHTML);\n\t\t\t\t\t\t\t\t$(row.cells[iCol]).html(\"&nbsp;\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tgrp.iconColumnName = colModel[iColNew].name;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\treturn str;\n\t\t},\n\t\tgroupingGroupBy: function (name, options) {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, p = $t.p, grp = p.groupingView, i, cm;\n\t\t\t\tif (typeof name === \"string\") {\n\t\t\t\t\tname = [name];\n\t\t\t\t}\n\t\t\t\tp.grouping = true;\n\t\t\t\tgrp._locgr = false;\n\t\t\t\t//Set default, in case visibilityOnNextGrouping is undefined\n\t\t\t\tif (grp.visibiltyOnNextGrouping === undefined) {\n\t\t\t\t\tgrp.visibiltyOnNextGrouping = [];\n\t\t\t\t}\n\t\t\t\t// show previous hidden groups if they are hidden and weren't removed yet\n\t\t\t\tfor (i = 0; i < grp.groupField.length; i++) {\n\t\t\t\t\tcm = p.colModel[p.iColByName[grp.groupField[i]]];\n\t\t\t\t\tif (!grp.groupColumnShow[i] && grp.visibiltyOnNextGrouping[i] && cm != null && cm.hidden === true) {\n\t\t\t\t\t\tbase.showCol.call($($t), grp.groupField[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// set visibility status of current group columns on next grouping\n\t\t\t\tfor (i = 0; i < name.length; i++) {\n\t\t\t\t\tgrp.visibiltyOnNextGrouping[i] = $(p.idSel + \"_\" + jgrid.jqID(name[i])).is(\":visible\");\n\t\t\t\t}\n\t\t\t\tp.groupingView = $.extend(p.groupingView, options || {});\n\t\t\t\tgrp.groupField = name;\n\t\t\t\t$($t).trigger(\"reloadGrid\");\n\t\t\t});\n\t\t},\n\t\tgroupingRemove: function (current) {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, p = $t.p, tbody = $t.tBodies[0], grp = p.groupingView, i;\n\t\t\t\tif (current === undefined) {\n\t\t\t\t\tcurrent = true;\n\t\t\t\t}\n\t\t\t\tp.grouping = false;\n\t\t\t\tif (current === true) {\n\t\t\t\t\t// show previous hidden groups if they are hidden and weren't removed yet\n\t\t\t\t\tfor (i = 0; i < grp.groupField.length; i++) {\n\t\t\t\t\t\tif (!grp.groupColumnShow[i] && grp.visibiltyOnNextGrouping[i]) {\n\t\t\t\t\t\t\tbase.showCol.call($($t), grp.groupField);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t$(\"tr.jqgroup, tr.jqfoot\", tbody).remove();\n\t\t\t\t\t$(\"tr.jqgrow\", tbody).filter(\":hidden\").show();\n\t\t\t\t} else {\n\t\t\t\t\t$($t).trigger(\"reloadGrid\");\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgroupingCalculations: {\n\t\t\thandler: function (fn, v, field, round, roundType, rc) {\n\t\t\t\tvar funcs = {\n\t\t\t\t\t\tsum: function () {\n\t\t\t\t\t\t\treturn parseFloat(v || 0) + parseFloat((rc[field] || 0));\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\tmin: function () {\n\t\t\t\t\t\t\tif (v === \"\") {\n\t\t\t\t\t\t\t\treturn parseFloat(rc[field] || 0);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn Math.min(parseFloat(v), parseFloat(rc[field] || 0));\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\tmax: function () {\n\t\t\t\t\t\t\tif (v === \"\") {\n\t\t\t\t\t\t\t\treturn parseFloat(rc[field] || 0);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn Math.max(parseFloat(v), parseFloat(rc[field] || 0));\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\tcount: function () {\n\t\t\t\t\t\t\tif (v === \"\") {\n\t\t\t\t\t\t\t\tv = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (rc.hasOwnProperty(field)) {\n\t\t\t\t\t\t\t\treturn v + 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\tavg: function () {\n\t\t\t\t\t\t\t// the same as sum, but at end we divide it\n\t\t\t\t\t\t\t// so use sum instead of duplicating the code (?)\n\t\t\t\t\t\t\treturn funcs.sum();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tres,\n\t\t\t\t\tmul;\n\n\t\t\t\tif (!funcs[fn]) {\n\t\t\t\t\tthrow (\"jqGrid Grouping No such method: \" + fn);\n\t\t\t\t}\n\t\t\t\tres = funcs[fn]();\n\n\t\t\t\tif (round != null) {\n\t\t\t\t\tif (roundType === \"fixed\") {\n\t\t\t\t\t\tres = res.toFixed(round);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmul = Math.pow(10, round);\n\t\t\t\t\t\tres = Math.round(res * mul) / mul;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn res;\n\t\t\t}\n\t\t}\n\t});\n\t// end module grid.grouping\n\n\t/**\n\t * jqGrid extension for constructing Grid Data from external file\n\t * Tony Tomov tony@trirand.com, http://trirand.com/blog/\n\t * Dual licensed under the MIT and GPL licenses:\n\t * http://www.opensource.org/licenses/mit-license.php\n\t * http://www.gnu.org/licenses/gpl-2.0.html\n\t **/\n\t// begin module grid.import\n\t$.jgrid.extend({\n\t\tjqGridImport: function (o) {\n\t\t\to = $.extend({\n\t\t\t\timptype: \"xml\", // xml, json, xmlstring, jsonstring\n\t\t\t\timpstring: \"\",\n\t\t\t\timpurl: \"\",\n\t\t\t\tmtype: \"GET\",\n\t\t\t\timpData: {},\n\t\t\t\txmlGrid: {\n\t\t\t\t\tconfig: \"roots>grid\",\n\t\t\t\t\tdata: \"roots>rows\"\n\t\t\t\t},\n\t\t\t\tjsonGrid: {\n\t\t\t\t\tconfig: \"grid\",\n\t\t\t\t\tdata: \"data\"\n\t\t\t\t},\n\t\t\t\tajaxOptions: {}\n\t\t\t}, o || {});\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this,\n\t\t\t\t\txmlConvert = function (xml, options) {\n\t\t\t\t\t\tvar cnfg = $(options.xmlGrid.config, xml)[0], xmldata = $(options.xmlGrid.data, xml)[0], jstr, jstr1, key, svdatatype;\n\t\t\t\t\t\tif (xmlJsonClass.xml2json) {\n\t\t\t\t\t\t\tjstr = xmlJsonClass.xml2json(cnfg, \" \");\n\t\t\t\t\t\t\tjstr = $.parseJSON(jstr);\n\t\t\t\t\t\t\tfor (key in jstr) {\n\t\t\t\t\t\t\t\tif (jstr.hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\t\tjstr1 = jstr[key];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (jstr1 !== undefined) {\n\t\t\t\t\t\t\t\tif (xmldata) {\n\t\t\t\t\t\t\t\t\t// save the datatype\n\t\t\t\t\t\t\t\t\tsvdatatype = jstr.grid.datatype;\n\t\t\t\t\t\t\t\t\tjstr.grid.datatype = \"xmlstring\";\n\t\t\t\t\t\t\t\t\tjstr.grid.datastr = xml;\n\t\t\t\t\t\t\t\t\t$($t).jqGrid(jstr1).jqGrid(\"setGridParam\", { datatype: svdatatype });\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t$($t).jqGrid(jstr1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t(jgrid.defaults != null && $.isFunction(jgrid.defaults.fatalError) ? jgrid.defaults.fatalError : alert)(\"xml2json or parse are not present\");\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tjsonConvert = function (jsonstr, options) {\n\t\t\t\t\t\tif (jsonstr && typeof jsonstr === \"string\") {\n\t\t\t\t\t\t\tvar json = $.parseJSON(jsonstr),\n\t\t\t\t\t\t\t\tgprm = json[options.jsonGrid.config],\n\t\t\t\t\t\t\t\tjdata = json[options.jsonGrid.data], svdatatype;\n\n\t\t\t\t\t\t\tif (jdata) {\n\t\t\t\t\t\t\t\tsvdatatype = gprm.datatype;\n\t\t\t\t\t\t\t\tgprm.datatype = \"jsonstring\";\n\t\t\t\t\t\t\t\tgprm.datastr = jdata;\n\t\t\t\t\t\t\t\t$($t).jqGrid(gprm).jqGrid(\"setGridParam\", { datatype: svdatatype });\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$($t).jqGrid(gprm);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\txmld;\n\t\t\t\tswitch (o.imptype) {\n\t\t\t\t\tcase \"xml\":\n\t\t\t\t\t\t$.ajax($.extend({\n\t\t\t\t\t\t\turl: o.impurl,\n\t\t\t\t\t\t\ttype: o.mtype,\n\t\t\t\t\t\t\tdata: o.impData,\n\t\t\t\t\t\t\tdataType: \"xml\",\n\t\t\t\t\t\t\tcontext: o,\n\t\t\t\t\t\t\tcomplete: function (jqXHR) {\n\t\t\t\t\t\t\t\tif ((jqXHR.status < 300 || jqXHR.status === 304) && (jqXHR.status !== 0 || jqXHR.readyState !== 4)) {\n\t\t\t\t\t\t\t\t\txmlConvert(jqXHR.responseXML, this);\n\t\t\t\t\t\t\t\t\t$($t).triggerHandler(\"jqGridImportComplete\", [jqXHR, this]);\n\t\t\t\t\t\t\t\t\tif ($.isFunction(this.importComplete)) {\n\t\t\t\t\t\t\t\t\t\tthis.importComplete(jqXHR);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, o.ajaxOptions));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"xmlstring\":\n\t\t\t\t\t\t// we need to make just the conversion and use the same code as xml\n\t\t\t\t\t\tif (o.impstring && typeof o.impstring === \"string\") {\n\t\t\t\t\t\t\txmld = $.parseXML(o.impstring);\n\t\t\t\t\t\t\tif (xmld) {\n\t\t\t\t\t\t\t\txmlConvert(xmld, o);\n\t\t\t\t\t\t\t\t$($t).triggerHandler(\"jqGridImportComplete\", [xmld, o]);\n\t\t\t\t\t\t\t\tif ($.isFunction(o.importComplete)) {\n\t\t\t\t\t\t\t\t\to.importComplete(xmld);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\to.impstring = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"json\":\n\t\t\t\t\t\t$.ajax($.extend({\n\t\t\t\t\t\t\turl: o.impurl,\n\t\t\t\t\t\t\ttype: o.mtype,\n\t\t\t\t\t\t\tdata: o.impData,\n\t\t\t\t\t\t\tdataType: \"json\",\n\t\t\t\t\t\t\tcontext: o,\n\t\t\t\t\t\t\tcomplete: function (jqXHR) {\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tif ((jqXHR.status < 300 || jqXHR.status === 304) && (jqXHR.status !== 0 || jqXHR.readyState !== 4)) {\n\t\t\t\t\t\t\t\t\t\tjsonConvert(jqXHR.responseText, this);\n\t\t\t\t\t\t\t\t\t\t$($t).triggerHandler(\"jqGridImportComplete\", [jqXHR, this]);\n\t\t\t\t\t\t\t\t\t\tif ($.isFunction(this.importComplete)) {\n\t\t\t\t\t\t\t\t\t\t\tthis.importComplete(jqXHR);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} catch (ignore) { }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, o.ajaxOptions));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"jsonstring\":\n\t\t\t\t\t\tif (o.impstring && typeof o.impstring === \"string\") {\n\t\t\t\t\t\t\tjsonConvert(o.impstring, o);\n\t\t\t\t\t\t\t$($t).triggerHandler(\"jqGridImportComplete\", [o.impstring, o]);\n\t\t\t\t\t\t\tif ($.isFunction(o.importComplete)) {\n\t\t\t\t\t\t\t\to.importComplete(o.impstring);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\to.impstring = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tjqGridExport: function (o) {\n\t\t\to = $.extend({\n\t\t\t\texptype: \"xmlstring\",\n\t\t\t\troot: \"grid\",\n\t\t\t\tident: \"\\t\"\n\t\t\t}, o || {});\n\t\t\tvar ret = null;\n\t\t\tthis.each(function () {\n\t\t\t\tif (!this.grid) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar key, gprm = $.extend(true, {}, $(this).jqGrid(\"getGridParam\"));\n\t\t\t\t// we need to check for:\n\t\t\t\t// 1.multiselect, 2.subgrid  3. treegrid and remove the unneded columns from colNames\n\t\t\t\tif (gprm.rownumbers) {\n\t\t\t\t\tgprm.colNames.splice(0, 1);\n\t\t\t\t\tgprm.colModel.splice(0, 1);\n\t\t\t\t}\n\t\t\t\tif (gprm.multiselect) {\n\t\t\t\t\tgprm.colNames.splice(0, 1);\n\t\t\t\t\tgprm.colModel.splice(0, 1);\n\t\t\t\t}\n\t\t\t\tif (gprm.subGrid) {\n\t\t\t\t\tgprm.colNames.splice(0, 1);\n\t\t\t\t\tgprm.colModel.splice(0, 1);\n\t\t\t\t}\n\t\t\t\tgprm.knv = null;\n\t\t\t\tif (gprm.treeGrid) {\n\t\t\t\t\tfor (key in gprm.treeReader) {\n\t\t\t\t\t\tif (gprm.treeReader.hasOwnProperty(key)) {\n\t\t\t\t\t\t\tgprm.colNames.splice(gprm.colNames.length - 1);\n\t\t\t\t\t\t\tgprm.colModel.splice(gprm.colModel.length - 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tswitch (o.exptype) {\n\t\t\t\t\tcase \"xmlstring\":\n\t\t\t\t\t\tret = \"<\" + o.root + \">\" + xmlJsonClass.json2xml(gprm, o.ident) + \"</\" + o.root + \">\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"jsonstring\":\n\t\t\t\t\t\tret = \"{\" + xmlJsonClass.toJson(gprm, o.root, o.ident, false) + \"}\";\n\t\t\t\t\t\tif (gprm.postData.filters !== undefined) {\n\t\t\t\t\t\t\tret = ret.replace(/filters\":\"/, \"filters\\\":\");\n\t\t\t\t\t\t\tret = ret.replace(/\\}\\]\\}\"/, \"}]}\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ret;\n\t\t},\n\t\texcelExport: function (o) {\n\t\t\to = $.extend({\n\t\t\t\texptype: \"remote\",\n\t\t\t\turl: null,\n\t\t\t\toper: \"oper\",\n\t\t\t\ttag: \"excel\",\n\t\t\t\texportOptions: {}\n\t\t\t}, o || {});\n\t\t\treturn this.each(function () {\n\t\t\t\tvar pdata;\n\t\t\t\tif (!this.grid) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (o.exptype === \"remote\") {\n\t\t\t\t\tpdata = $.extend({}, this.p.postData, o.exportOptions);\n\t\t\t\t\tpdata[o.oper] = o.tag;\n\t\t\t\t\twindow.location = o.url + (o.url != null && o.url.indexOf(\"?\") >= 0 ? \"&\" : \"?\") + $.param(pdata);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\t// end module grid.import\n\n\t/**\n\t * jqGrid extension for manipulating Grid Data\n\t * Copyright (c) 2008-2014, Tony Tomov, tony@trirand.com,  http://trirand.com/blog/\n\t * Copyright (c) 2014-2018, Oleg Kiriljuk, oleg.kiriljuk@ok-soft-gmbh.com\n\t * Dual licensed under the MIT and GPL licenses:\n\t * http://www.opensource.org/licenses/mit-license.php\n\t * http://www.gnu.org/licenses/gpl-2.0.html\n\t **/\n\t\t// begin module grid.inlinedit\n\tvar editFeedback = function (o) {\n\t\t\tvar args = $.makeArray(arguments).slice(1);\n\t\t\targs.unshift(\"\");\n\t\t\targs.unshift(\"Inline\");\n\t\t\targs.unshift(o);\n\t\t\treturn jgrid.feedback.apply(this, args);\n\t\t};\n\tjgrid.inlineEdit = jgrid.inlineEdit || {};\n\tjgrid.extend({\n\t\t//Editing\n\t\teditRow: function (rowid, keys, oneditfunc, successfunc, url, extraparam, aftersavefunc, errorfunc, afterrestorefunc, beforeEditRow) {\n\t\t\t// Compatible mode old versions\n\t\t\tvar oMuligrid = {}, args = $.makeArray(arguments).slice(1);\n\n\t\t\tif ($.type(args[0]) === \"object\") {\n\t\t\t\toMuligrid = args[0];\n\t\t\t} else {\n\t\t\t\tif (keys !== undefined) { oMuligrid.keys = keys; }\n\t\t\t\tif ($.isFunction(oneditfunc)) { oMuligrid.oneditfunc = oneditfunc; }\n\t\t\t\tif ($.isFunction(successfunc)) { oMuligrid.successfunc = successfunc; }\n\t\t\t\tif (url !== undefined) { oMuligrid.url = url; }\n\t\t\t\tif (extraparam != null) { oMuligrid.extraparam = extraparam; }\n\t\t\t\tif ($.isFunction(aftersavefunc)) { oMuligrid.aftersavefunc = aftersavefunc; }\n\t\t\t\tif ($.isFunction(errorfunc)) { oMuligrid.errorfunc = errorfunc; }\n\t\t\t\tif ($.isFunction(afterrestorefunc)) { oMuligrid.afterrestorefunc = afterrestorefunc; }\n\t\t\t\tif ($.isFunction(beforeEditRow)) { oMuligrid.beforeEditRow = beforeEditRow; }\n\t\t\t\t// last two not as param, but as object (sorry)\n\t\t\t\t//if (restoreAfterError !== undefined) { oMuligrid.restoreAfterError = restoreAfterError; }\n\t\t\t\t//if (mtype !== undefined) { oMuligrid.mtype = mtype || \"POST\"; }\n\t\t\t}\n\n\t\t\t// End compatible\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, $self = $($t), p = $t.p, cnt = 0, focus = null, svr = {}, editableValues = {}, colModel = p.colModel, opers = p.prmNames;\n\t\t\t\tif (!$t.grid) { return; }\n\t\t\t\tvar o = $.extend(true, {\n\t\t\t\t\t\tkeys: false,\n\t\t\t\t\t\toneditfunc: null,\n\t\t\t\t\t\tsuccessfunc: null,\n\t\t\t\t\t\turl: null,\n\t\t\t\t\t\textraparam: {},\n\t\t\t\t\t\taftersavefunc: null,\n\t\t\t\t\t\terrorfunc: null,\n\t\t\t\t\t\tafterrestorefunc: null,\n\t\t\t\t\t\trestoreAfterError: true,\n\t\t\t\t\t\tbeforeEditRow: null,\n\t\t\t\t\t\t//mtype: \"POST\",\n\t\t\t\t\t\tfocusField: true\n\t\t\t\t\t}, jgrid.inlineEdit, p.inlineEditing || {}, oMuligrid),\n\t\t\t\t\tind = $self.jqGrid(\"getInd\", rowid, true),\n\t\t\t\t\tfocusField = o.focusField,\n\t\t\t\t\ttd = typeof focusField === \"object\" && focusField != null ?\n\t\t\t\t\t\t$(focusField.target || focusField).closest(\"tr.jqgrow>td\")[0] : null;\n\n\t\t\t\tif (ind === false) { return; }\n\n\t\t\t\tif (o.extraparam[opers.oper] !== opers.addoper) {\n\t\t\t\t\tif (!editFeedback.call($t, o, \"beforeEditRow\", o, rowid)) { return; }\n\t\t\t\t}\n\n\t\t\t\tif (($(ind).attr(\"editable\") || \"0\") === \"0\" && !$(ind).hasClass(\"not-editable-row\")) {\n\t\t\t\t\tvar editingInfo = jgrid.detectRowEditing.call($t, rowid);\n\t\t\t\t\tif (editingInfo != null && editingInfo.mode === \"cellEditing\") {\n\t\t\t\t\t\tvar savedRowInfo = editingInfo.savedRow, tr = $t.rows[savedRowInfo.id],\n\t\t\t\t\t\t\thighlightClass = getGuiStateStyles.call($t, \"select\");\n\t\t\t\t\t\t$self.jqGrid(\"restoreCell\", savedRowInfo.id, savedRowInfo.ic);\n\t\t\t\t\t\t// remove highlighting of the cell\n\t\t\t\t\t\t$(tr.cells[savedRowInfo.ic]).removeClass(\"edit-cell \" + highlightClass);\n\t\t\t\t\t\t$(tr).addClass(highlightClass).attr({ \"aria-selected\": \"true\", \"tabindex\": \"0\" });\n\t\t\t\t\t}\n\t\t\t\t\tjgrid.enumEditableCells.call($t, ind, $(ind).hasClass(\"jqgrid-new-row\") ? \"add\" : \"edit\", function (options) {\n\t\t\t\t\t\tvar cm = options.cm, $dataFiled = $(options.dataElement), dataWidth = options.dataWidth, tmp, opt, elc,\n\t\t\t\t\t\t\tnm = cm.name, edittype = cm.edittype, iCol = options.iCol, editoptions = cm.editoptions || {};\n\t\t\t\t\t\teditableValues[nm] = options.editable;\n\t\t\t\t\t\tif (options.editable === \"hidden\") { return; }\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\ttmp = $.unformat.call(this, options.td, { rowId: rowid, colModel: cm }, iCol);\n\t\t\t\t\t\t} catch (_) {\n\t\t\t\t\t\t\ttmp = edittype === \"textarea\" ? $dataFiled.text() : $dataFiled.html();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsvr[nm] = tmp; // include only editable fields in svr object\n\t\t\t\t\t\t$dataFiled.html(\"\");\n\t\t\t\t\t\topt = $.extend({}, editoptions,\n\t\t\t\t\t\t\t{ id: rowid + \"_\" + nm, name: nm, rowId: rowid, mode: options.mode, cm: cm, iCol: iCol });\n\t\t\t\t\t\tif (tmp === \"&nbsp;\" || tmp === \"&#160;\" || (tmp.length === 1 && tmp.charCodeAt(0) === 160)) { tmp = \"\"; }\n\t\t\t\t\t\telc = jgrid.createEl.call($t, edittype, opt, tmp, true, $.extend({}, jgrid.ajaxOptions, p.ajaxSelectOptions || {}));\n\t\t\t\t\t\t$(elc).addClass(\"editable\");\n\t\t\t\t\t\t$dataFiled.append(elc);\n\t\t\t\t\t\tif (dataWidth) {\n\t\t\t\t\t\t\t// change the width from auto or the value from editoptions\n\t\t\t\t\t\t\t// in case of editing ExpandColumn of TreeGrid\n\t\t\t\t\t\t\t$(elc).width(options.dataWidth);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tjgrid.bindEv.call($t, elc, opt);\n\t\t\t\t\t\t//Again IE\n\t\t\t\t\t\tif (edittype === \"select\" && editoptions.multiple === true && editoptions.dataUrl === undefined && jgrid.msie) {\n\t\t\t\t\t\t\t$(elc).width($(elc).width());\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (focus === null) { focus = iCol; }\n\t\t\t\t\t\tcnt++;\n\t\t\t\t\t});\n\t\t\t\t\tif (cnt > 0) {\n\t\t\t\t\t\tsvr.id = rowid;\n\t\t\t\t\t\tp.savedRow.push(svr);\n\t\t\t\t\t\tp.editingInfo[rowid] = {\n\t\t\t\t\t\t\tmode: \"inlineEditing\",\n\t\t\t\t\t\t\tsavedRow: svr,\n\t\t\t\t\t\t\teditable: editableValues\n\t\t\t\t\t\t};\n\t\t\t\t\t\t$(ind).attr(\"editable\", \"1\");\n\t\t\t\t\t\tif (focusField) {\n\t\t\t\t\t\t\tif (typeof focusField === \"number\" && parseInt(focusField, 10) <= colModel.length) {\n\t\t\t\t\t\t\t\tfocus = focusField;\n\t\t\t\t\t\t\t} else if (typeof focusField === \"string\") {\n\t\t\t\t\t\t\t\tfocus = p.iColByName[focusField];\n\t\t\t\t\t\t\t} else if (td != null) {\n\t\t\t\t\t\t\t\tfocus = td.cellIndex;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\t// we want to use \":focusable\"\n\t\t\t\t\t\t\t\tvar nFrozenColumns = $self.jqGrid(\"getNumberOfFrozenColumns\"),\n\t\t\t\t\t\t\t\t\tgetTdByColIndex = function (iCol) {\n\t\t\t\t\t\t\t\t\t\treturn p.frozenColumns && nFrozenColumns > 0 && focus < nFrozenColumns ?\n\t\t\t\t\t\t\t\t\t\t\t$t.grid.fbRows[ind.rowIndex].cells[iCol] :\n\t\t\t\t\t\t\t\t\t\t\tind.cells[iCol];\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tgetFocusable = function (elem) {\n\t\t\t\t\t\t\t\t\t\treturn $(elem).find(\"input,textarea,select,button,object,*[tabindex]\")\n\t\t\t\t\t\t\t\t\t\t\t.filter(\":input:visible:not(:disabled)\");\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tgetFirstFocusable = function () {\n\t\t\t\t\t\t\t\t\t\treturn getFocusable(p.frozenColumns && nFrozenColumns > 0 ? $t.grid.fbRows[ind.rowIndex] : ind)\n\t\t\t\t\t\t\t\t\t\t\t.first();\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t$fe = getFocusable(getTdByColIndex(focus));\n\n\t\t\t\t\t\t\t\tif ($fe.length > 0) {\n\t\t\t\t\t\t\t\t\t$fe.first().focus();\n\t\t\t\t\t\t\t\t} else if (typeof o.defaultFocusField === \"number\" || typeof o.defaultFocusField === \"string\") {\n\t\t\t\t\t\t\t\t\t$fe = getFocusable(getTdByColIndex(typeof o.defaultFocusField === \"number\" ? o.defaultFocusField : p.iColByName[o.defaultFocusField]));\n\t\t\t\t\t\t\t\t\tif ($fe.length === 0) {\n\t\t\t\t\t\t\t\t\t\t$fe = getFirstFocusable();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t$fe.first().focus();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tgetFirstFocusable().focus();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, 0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (o.keys === true) {\n\t\t\t\t\t\t\tvar $ind = $(ind);\n\t\t\t\t\t\t\tif (p.frozenColumns) {\n\t\t\t\t\t\t\t\t$ind = $ind.add($t.grid.fbRows[ind.rowIndex]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t$ind.on(\"keydown\", function (e) {\n\t\t\t\t\t\t\t\tif (e.keyCode === 27) {\n\t\t\t\t\t\t\t\t\t$self.jqGrid(\"restoreRow\", rowid, o.afterrestorefunc);\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (e.keyCode === 13) {\n\t\t\t\t\t\t\t\t\tvar ta = e.target;\n\t\t\t\t\t\t\t\t\tif (ta.tagName === \"TEXTAREA\") { return true; }\n\t\t\t\t\t\t\t\t\t$self.jqGrid(\"saveRow\", rowid, o);\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfullBoolFeedback.call($t, o.oneditfunc, \"jqGridInlineEditRow\", rowid, o);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tsaveRow: function (rowid, successfunc, url, extraparam, aftersavefunc, errorfunc, afterrestorefunc, beforeSaveRow) {\n\t\t\t// Compatible mode old versions\n\t\t\tvar args = $.makeArray(arguments).slice(1), o = {}, $t = this[0], $self = $($t),\n\t\t\t\tp = $t != null ? $t.p : null, editOrAdd, infoDialog = jgrid.info_dialog,\n\t\t\t\tisFunction = $.isFunction,\n\t\t\t\tfatalErrorFunction = jgrid.defaults != null && isFunction(jgrid.defaults.fatalError) ? jgrid.defaults.fatalError : alert;\n\t\t\tif (!$t.grid || p == null) { return; }\n\n\t\t\tif ($.type(args[0]) === \"object\") {\n\t\t\t\to = args[0];\n\t\t\t} else {\n\t\t\t\tif (isFunction(successfunc)) { o.successfunc = successfunc; }\n\t\t\t\tif (url !== undefined) { o.url = url; }\n\t\t\t\tif (extraparam !== undefined) { o.extraparam = extraparam; }\n\t\t\t\tif (isFunction(aftersavefunc)) { o.aftersavefunc = aftersavefunc; }\n\t\t\t\tif (isFunction(errorfunc)) { o.errorfunc = errorfunc; }\n\t\t\t\tif (isFunction(afterrestorefunc)) { o.afterrestorefunc = afterrestorefunc; }\n\t\t\t\tif (isFunction(beforeSaveRow)) { o.beforeSaveRow = beforeSaveRow; }\n\t\t\t}\n\t\t\tvar getRes = function (path) { return $self.jqGrid(\"getGridRes\", path); };\n\t\t\to = $.extend(true, {\n\t\t\t\tsuccessfunc: null,\n\t\t\t\turl: null,\n\t\t\t\textraparam: {},\n\t\t\t\taftersavefunc: null,\n\t\t\t\terrorfunc: null,\n\t\t\t\tafterrestorefunc: null,\n\t\t\t\trestoreAfterError: true,\n\t\t\t\tbeforeSaveRow: null,\n\t\t\t\tajaxSaveOptions: {},\n\t\t\t\tserializeSaveData: null,\n\t\t\t\tmtype: \"POST\",\n\t\t\t\tsaveui: \"enable\",\n\t\t\t\tsavetext: getRes(\"defaults.savetext\") || \"Saving...\"\n\t\t\t}, jgrid.inlineEdit, p.inlineEditing || {}, o);\n\t\t\t// End compatible\n\t\t\t// TODO: add return this.each(function(){....}\n\t\t\tvar tmp = {}, tmp2 = {}, postData = {}, editable, k, fr, resp, cv, editingInfo, ind = $self.jqGrid(\"getInd\", rowid, true), $tr = $(ind),\n\t\t\t\topers = p.prmNames, errcap = getRes(\"errors.errcap\"), bClose = getRes(\"edit.bClose\"), isRemoteSave, isError,\n\t\t\t\tdisplayErrorMessage = function (text, relativeElem) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar relativeRect = jgrid.getRelativeRect.call($t, relativeElem);\n\n\t\t\t\t\t\tinfoDialog.call($t, errcap, text, bClose, {\n\t\t\t\t\t\t\ttop: relativeRect.top,\n\t\t\t\t\t\t\tleft: relativeRect.left + $($t).closest(\".ui-jqgrid\").offset().left\n\t\t\t\t\t\t});\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tfatalErrorFunction(text);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\tif (ind === false) { return; }\n\n\t\t\teditOrAdd = o.extraparam[opers.oper] === opers.addoper ? \"add\" : \"edit\";\n\n\t\t\tif (!editFeedback.call($t, o, \"beforeSaveRow\", o, rowid, editOrAdd)) { return; }\n\n\t\t\teditable = $tr.attr(\"editable\");\n\t\t\to.url = o.url || p.editurl;\n\t\t\tisRemoteSave = o.url !== \"clientArray\";\n\t\t\tif (editable === \"1\") {\n\t\t\t\teditingInfo = $.jgrid.detectRowEditing.call($t, rowid);\n\t\t\t\tjgrid.enumEditableCells.call($t, ind, $tr.hasClass(\"jqgrid-new-row\") ? \"add\" : \"edit\", function (options) {\n\t\t\t\t\tvar cm = options.cm, formatter = cm.formatter, editoptions = cm.editoptions || {},\n\t\t\t\t\t\tformatoptions = cm.formatoptions || {}, valueText = {},\n\t\t\t\t\t\tv = jgrid.getEditedValue.call($t, $(options.dataElement), cm, valueText, options.editable);\n\n\t\t\t\t\tif (cm.edittype === \"select\" && cm.formatter !== \"select\") {\n\t\t\t\t\t\ttmp2[cm.name] = valueText.text;\n\t\t\t\t\t}\n\t\t\t\t\tcv = jgrid.checkValues.call($t, v, options.iCol, undefined, undefined,\n\t\t\t\t\t\t$.extend(options, {\n\t\t\t\t\t\t\toldValue: editingInfo != null ? editingInfo.savedRow[cm.name] : null,\n\t\t\t\t\t\t\tnewValue: v,\n\t\t\t\t\t\t\toldRowData: editingInfo != null ? editingInfo.savedRow : null }));\n\t\t\t\t\tif (cv != null && cv[0] === false) {\n\t\t\t\t\t\tisError = true;\n\t\t\t\t\t\tdisplayErrorMessage(cv[1], options.td);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif (formatter === \"date\" && formatoptions.sendFormatted !== true) {\n\t\t\t\t\t\t// TODO: call all other predefined formatters!!! Not only formatter: \"date\" have the problem.\n\t\t\t\t\t\t// Floating point separator for example\n\t\t\t\t\t\tv = $.unformat.date.call($t, v, cm);\n\t\t\t\t\t}\n\t\t\t\t\tif (isRemoteSave && editoptions.NullIfEmpty === true) {\n\t\t\t\t\t\tif (v === \"\") {\n\t\t\t\t\t\t\tv = \"null\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\ttmp[cm.name] = v;\n\t\t\t\t});\n\n\t\t\t\tif (isError) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar idname;\n\t\t\t\topers = p.prmNames;\n\t\t\t\tif (p.keyName === false) {\n\t\t\t\t\tidname = opers.id;\n\t\t\t\t} else {\n\t\t\t\t\tidname = p.keyName;\n\t\t\t\t}\n\t\t\t\tif (tmp) {\n\t\t\t\t\ttmp[opers.oper] = opers.editoper;\n\t\t\t\t\tif (tmp[idname] === undefined || tmp[idname] === \"\") {\n\t\t\t\t\t\ttmp[idname] = jgrid.stripPref(p.idPrefix, rowid);\n\t\t\t\t\t}\n\t\t\t\t\ttmp = $.extend({}, tmp, p.inlineData || {}, o.extraparam);\n\t\t\t\t}\n\t\t\t\tvar validationOptions = {\n\t\t\t\t\toptions: o,\n\t\t\t\t\trowid: rowid,\n\t\t\t\t\ttr: ind,\n\t\t\t\t\tiRow: ind.rowIndex,\n\t\t\t\t\tsavedRow: editingInfo.savedRow,\n\t\t\t\t\tnewData: tmp,\n\t\t\t\t\tmode: editOrAdd\n\t\t\t\t};\n\t\t\t\tif (!editFeedback.call($t, o, \"saveRowValidation\", validationOptions)) {\n\t\t\t\t\tif (validationOptions.errorText) {\n\t\t\t\t\t\tdisplayErrorMessage(validationOptions.errorText, ind);\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!isRemoteSave) {\n\t\t\t\t\ttmp = $.extend({}, tmp, tmp2);\n\t\t\t\t\tresp = $self.jqGrid(\"setRowData\", rowid, tmp);\n\t\t\t\t\t$tr.attr(\"editable\", \"0\");\n\t\t\t\t\tfor (k = 0; k < p.savedRow.length; k++) {\n\t\t\t\t\t\tif (String(p.savedRow[k].id) === String(rowid)) { fr = k; break; }\n\t\t\t\t\t}\n\t\t\t\t\tif (fr >= 0) {\n\t\t\t\t\t\tp.savedRow.splice(fr, 1);\n\t\t\t\t\t\tdelete p.editingInfo[rowid];\n\t\t\t\t\t}\n\t\t\t\t\tfullBoolFeedback.call($t, o.aftersavefunc, \"jqGridInlineAfterSaveRow\", rowid, resp, tmp, o);\n\t\t\t\t\t$tr.removeClass(\"jqgrid-new-row\").off(\"keydown\");\n\t\t\t\t\tif (ind.id !== p.idPrefix + tmp[idname]) {\n\t\t\t\t\t\t$self.jqGrid(\"changeRowid\", ind.id, p.idPrefix + tmp[idname]);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t$self.jqGrid(\"progressBar\", { method: \"show\", loadtype: o.saveui, htmlcontent: o.savetext });\n\t\t\t\t\tpostData = $.extend({}, tmp, postData);\n\t\t\t\t\tpostData[idname] = jgrid.stripPref(p.idPrefix, postData[idname]);\n\t\t\t\t\tif (p.autoEncodeOnEdit) {\n\t\t\t\t\t\t$.each(postData, function (n, v) {\n\t\t\t\t\t\t\tif (!isFunction(v)) {\n\t\t\t\t\t\t\t\tpostData[n] = jgrid.oldEncodePostedData(v);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (ind.id !== p.idPrefix + postData[idname] && opers.idold != null &&\n\t\t\t\t\t\t!postData.hasOwnProperty(opers.idold)) {\n\t\t\t\t\t\tpostData[opers.idold] = jgrid.stripPref(p.idPrefix, ind.id);\n\t\t\t\t\t}\n\n\t\t\t\t\t$.ajax($.extend({\n\t\t\t\t\t\turl: isFunction(o.url) ? o.url.call($t, postData[idname], editOrAdd, postData, o) : o.url,\n\t\t\t\t\t\tdata: jgrid.serializeFeedback.call($t,\n\t\t\t\t\t\t\tisFunction(o.serializeSaveData) ? o.serializeSaveData : p.serializeRowData,\n\t\t\t\t\t\t\t\"jqGridInlineSerializeSaveData\",\n\t\t\t\t\t\t\tpostData),\n\t\t\t\t\t\ttype: isFunction(o.mtype) ? o.mtype.call($t, editOrAdd, o, postData[idname], postData) : o.mtype,\n\t\t\t\t\t\tcomplete: function (jqXHR, textStatus) {\n\t\t\t\t\t\t\t$self.jqGrid(\"progressBar\", { method: \"hide\", loadtype: o.saveui });\n\t\t\t\t\t\t\t// textStatus can be \"abort\", \"timeout\", \"error\", \"parsererror\" or some text from text part of HTTP error occurs\n\t\t\t\t\t\t\t// see the answer http://stackoverflow.com/a/3617710/315935 about xhr.readyState === 4 && xhr.status === 0\n\t\t\t\t\t\t\tif ((jqXHR.status < 300 || jqXHR.status === 304) && (jqXHR.status !== 0 || jqXHR.readyState !== 4)) {\n\t\t\t\t\t\t\t\tvar ret, sucret, j;\n\t\t\t\t\t\t\t\tsucret = $self.triggerHandler(\"jqGridInlineSuccessSaveRow\", [jqXHR, rowid, o, editOrAdd, postData]);\n\t\t\t\t\t\t\t\tif (sucret == null || sucret === true) { sucret = [true, tmp]; }\n\t\t\t\t\t\t\t\tif (sucret[0] && isFunction(o.successfunc)) { sucret = o.successfunc.call($t, jqXHR, rowid, o, editOrAdd, postData); }\n\t\t\t\t\t\t\t\tif ($.isArray(sucret)) {\n\t\t\t\t\t\t\t\t\t// expect array - status, data, rowid\n\t\t\t\t\t\t\t\t\tret = sucret[0];\n\t\t\t\t\t\t\t\t\ttmp = sucret[1] || tmp;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tret = sucret;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (ret === true) {\n\t\t\t\t\t\t\t\t\tif (p.autoEncodeOnEdit) {\n\t\t\t\t\t\t\t\t\t\t$.each(tmp, function (n, v) {\n\t\t\t\t\t\t\t\t\t\t\ttmp[n] = jgrid.oldDecodePostedData(v);\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\ttmp = $.extend({}, tmp, tmp2);\n\t\t\t\t\t\t\t\t\t$self.jqGrid(\"setRowData\", rowid, tmp);\n\t\t\t\t\t\t\t\t\t$tr.attr(\"editable\", \"0\");\n\t\t\t\t\t\t\t\t\tfor (j = 0; j < p.savedRow.length; j++) {\n\t\t\t\t\t\t\t\t\t\tif (String(p.savedRow[j].id) === String(rowid)) { fr = j; break; }\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (fr >= 0) {\n\t\t\t\t\t\t\t\t\t\tp.savedRow.splice(fr, 1);\n\t\t\t\t\t\t\t\t\t\tdelete p.editingInfo[rowid];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tfullBoolFeedback.call($t, o.aftersavefunc, \"jqGridInlineAfterSaveRow\", rowid, jqXHR, tmp, o);\n\t\t\t\t\t\t\t\t\tif (sucret[2] != null) {\n\t\t\t\t\t\t\t\t\t\t$self.jqGrid(\"changeRowid\", rowid, p.idPrefix + sucret[2]);\n\t\t\t\t\t\t\t\t\t} else if (ind.id !== p.idPrefix + tmp[idname]) {\n\t\t\t\t\t\t\t\t\t\t$self.jqGrid(\"changeRowid\", ind.id, p.idPrefix + tmp[idname]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t$tr.removeClass(\"jqgrid-new-row\").off(\"keydown\");\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tfullBoolFeedback.call($t, o.errorfunc, \"jqGridInlineErrorSaveRow\", rowid, jqXHR, textStatus, null, o);\n\t\t\t\t\t\t\t\t\tif (o.restoreAfterError === true) {\n\t\t\t\t\t\t\t\t\t\t$self.jqGrid(\"restoreRow\", rowid, o.afterrestorefunc);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: function (res, stat, err) {\n\t\t\t\t\t\t\t$self.triggerHandler(\"jqGridInlineErrorSaveRow\", [rowid, res, stat, err, o]);\n\t\t\t\t\t\t\tif (isFunction(o.errorfunc)) {\n\t\t\t\t\t\t\t\to.errorfunc.call($t, rowid, res, stat, err);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvar rT = res.responseText || res.statusText;\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tinfoDialog.call($t, errcap, '<div class=\"' + getGuiStateStyles.call($t, \"error\") + '\">' + rT + \"</div>\", bClose, { buttonalign: \"right\" });\n\t\t\t\t\t\t\t\t} catch (e1) {\n\t\t\t\t\t\t\t\t\tfatalErrorFunction(rT);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (o.restoreAfterError === true) {\n\t\t\t\t\t\t\t\t$self.jqGrid(\"restoreRow\", rowid, o.afterrestorefunc);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}, jgrid.ajaxOptions, p.ajaxRowOptions, o.ajaxSaveOptions || {}));\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn;\n\t\t},\n\t\trestoreRow: function (rowid, afterrestorefunc) {\n\t\t\t// Compatible mode old versions\n\t\t\tvar args = $.makeArray(arguments).slice(1), oMuligrid = {};\n\n\t\t\tif ($.type(args[0]) === \"object\") {\n\t\t\t\toMuligrid = args[0];\n\t\t\t} else {\n\t\t\t\tif ($.isFunction(afterrestorefunc)) { oMuligrid.afterrestorefunc = afterrestorefunc; }\n\t\t\t}\n\n\t\t\t// End compatible\n\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, $self = $($t), p = $t.p, fr = -1, ares = {}, k;\n\t\t\t\tif (!$t.grid) { return; }\n\n\t\t\t\tvar o = $.extend(true, {}, jgrid.inlineEdit, p.inlineEditing || {}, oMuligrid);\n\t\t\t\tvar ind = $self.jqGrid(\"getInd\", rowid, true);\n\t\t\t\tif (ind === false) { return; }\n\n\t\t\t\tif (!editFeedback.call($t, o, \"beforeCancelRow\", o, rowid)) { return; }\n\n\t\t\t\tfor (k = 0; k < p.savedRow.length; k++) {\n\t\t\t\t\tif (String(p.savedRow[k].id) === String(rowid)) {\n\t\t\t\t\t\tfr = k;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (fr >= 0) {\n\t\t\t\t\tif ($.isFunction($.fn.datepicker)) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t$(\"input.hasDatepicker\", \"#\" + jgrid.jqID(ind.id)).datepicker(\"hide\");\n\t\t\t\t\t\t} catch (ignore) { }\n\t\t\t\t\t}\n\n\t\t\t\t\t$.each(p.colModel, function () {\n\t\t\t\t\t\tvar nm = this.name;\n\t\t\t\t\t\tif (p.savedRow[fr].hasOwnProperty(nm)) {\n\t\t\t\t\t\t\tares[nm] = p.savedRow[fr][nm];\n\t\t\t\t\t\t\tif (this.formatter && this.formatter === \"date\" && (this.formatoptions == null || this.formatoptions.sendFormatted !== true)) {\n\t\t\t\t\t\t\t\t// TODO: call all other predefined formatters!!! Not only formatter: \"date\" have the problem.\n\t\t\t\t\t\t\t\t// Floating point separator for example\n\t\t\t\t\t\t\t\tares[nm] = $.unformat.date.call($t, ares[nm], this);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t$self.jqGrid(\"setRowData\", rowid, ares);\n\t\t\t\t\t$(ind).attr(\"editable\", \"0\").off(\"keydown\");\n\t\t\t\t\tp.savedRow.splice(fr, 1);\n\t\t\t\t\tdelete p.editingInfo[rowid];\n\t\t\t\t\tif ($(\"#\" + jgrid.jqID(rowid), $t).hasClass(\"jqgrid-new-row\")) {\n\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t$self.jqGrid(\"delRowData\", rowid);\n\t\t\t\t\t\t\t$self.jqGrid(\"showAddEditButtons\", false);\n\t\t\t\t\t\t}, 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfullBoolFeedback.call($t, o.afterrestorefunc, \"jqGridInlineAfterRestoreRow\", rowid);\n\t\t\t});\n\t\t},\n\t\taddRow: function (oMuligrid) {\n\t\t\treturn this.each(function () {\n\t\t\t\tif (!this.grid) { return; }\n\n\t\t\t\tvar $t = this, $self = $($t), p = $t.p,\n\t\t\t\t\to = $.extend(true, {\n\t\t\t\t\t\trowID: null,\n\t\t\t\t\t\tinitdata: {},\n\t\t\t\t\t\tposition: \"first\",\n\t\t\t\t\t\tuseDefValues: true,\n\t\t\t\t\t\tuseFormatter: false,\n\t\t\t\t\t\tbeforeAddRow: null,\n\t\t\t\t\t\taddRowParams: { extraparam: {} }\n\t\t\t\t\t}, jgrid.inlineEdit, p.inlineEditing || {}, oMuligrid || {});\n\t\t\t\tif (!editFeedback.call($t, o, \"beforeAddRow\", o.addRowParams)) { return; }\n\n\t\t\t\to.rowID = $.isFunction(o.rowID) ? o.rowID.call($t, o) : ((o.rowID != null) ? o.rowID : jgrid.randId());\n\t\t\t\tif (o.useDefValues === true) {\n\t\t\t\t\t$(p.colModel).each(function () {\n\t\t\t\t\t\tif (this.editoptions && this.editoptions.defaultValue) {\n\t\t\t\t\t\t\tvar opt = this.editoptions.defaultValue;\n\t\t\t\t\t\t\to.initdata[this.name] = $.isFunction(opt) ? opt.call($t, o) : opt;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\to.rowID = p.idPrefix + o.rowID;\n\t\t\t\t$self.jqGrid(\"addRowData\", o.rowID, o.initdata, o.position);\n\t\t\t\t$(\"#\" + jgrid.jqID(o.rowID), $t).addClass(\"jqgrid-new-row\");\n\t\t\t\tif (o.useFormatter) {\n\t\t\t\t\t$(\"#\" + jgrid.jqID(o.rowID) + \" .ui-inline-edit\", $t).click();\n\t\t\t\t} else {\n\t\t\t\t\tvar opers = p.prmNames, oper = opers.oper;\n\t\t\t\t\to.addRowParams.extraparam[oper] = opers.addoper;\n\t\t\t\t\t$self.jqGrid(\"editRow\", o.rowID, o.addRowParams);\n\t\t\t\t\t$self.jqGrid(\"setSelection\", o.rowID);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tinlineNav: function (elem, oMuligrid) {\n\t\t\tif (typeof elem === \"object\") {\n\t\t\t\t// the option pager are skipped\n\t\t\t\toMuligrid = elem;\n\t\t\t\telem = undefined;\n\t\t\t}\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, $self = $($t), p = $t.p;\n\t\t\t\tif (!this.grid || p == null) { return; }\n\t\t\t\tvar $elem, gID = elem === p.toppager ? p.idSel + \"_top\" : p.idSel,\n\t\t\t\t\tgid = elem === p.toppager ? p.id + \"_top\" : p.id, disabledClass = getGuiStateStyles.call($t, \"disabled\"),\n\t\t\t\t\to = $.extend(true,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tedit: true,\n\t\t\t\t\t\t\tediticon: \"ui-icon-pencil\",\n\t\t\t\t\t\t\tadd: true,\n\t\t\t\t\t\t\taddicon: \"ui-icon-plus\",\n\t\t\t\t\t\t\tsave: true,\n\t\t\t\t\t\t\tsaveicon: \"ui-icon-disk\",\n\t\t\t\t\t\t\tcancel: true,\n\t\t\t\t\t\t\tcancelicon: \"ui-icon-cancel\",\n\t\t\t\t\t\t\tcommonIconClass: \"ui-icon\",\n\t\t\t\t\t\t\ticonsOverText: false,\n\t\t\t\t\t\t\t//alertToTop: false, use undefined to be able to use defaults from $.jgrid.jqModal or later from p.jqModal\n\t\t\t\t\t\t\taddParams: { addRowParams: { extraparam: {} } },\n\t\t\t\t\t\t\teditParams: {},\n\t\t\t\t\t\t\trestoreAfterSelect: true\n\t\t\t\t\t\t},\n\t\t\t\t\t\t//TODO make getRes(locales[p.locale], \"nav\"), jgrid.nav || {}, p.navOptions || {}\n\t\t\t\t\t\t// as the result of working getRes(\"nav\")\n\t\t\t\t\t\t//getRes(locales[p.locale], \"nav\"),\n\t\t\t\t\t\t$self.jqGrid(\"getGridRes\", \"nav\"),\n\t\t\t\t\t\tjgrid.nav || {},\n\t\t\t\t\t\tp.navOptions || {},\n\t\t\t\t\t\tjgrid.inlineNav || {},\n\t\t\t\t\t\tp.inlineNavOptions || {},\n\t\t\t\t\t\toMuligrid || {}\n\t\t\t\t\t),\n\t\t\t\t\tviewModalAlert = function () {\n\t\t\t\t\t\t$t.modalAlert();\n\t\t\t\t\t};\n\n\t\t\t\tif (elem === undefined) {\n\t\t\t\t\tif (p.pager) {\n\t\t\t\t\t\t$self.jqGrid(\"inlineNav\", p.pager, o);\n\t\t\t\t\t\tif (p.toppager) {\n\t\t\t\t\t\t\telem = p.toppager;\n\t\t\t\t\t\t\tgID = p.idSel + \"_top\";\n\t\t\t\t\t\t\tgid = p.id + \"_top\";\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (p.toppager) {\n\t\t\t\t\t\telem = p.toppager;\n\t\t\t\t\t\tgID = p.idSel + \"_top\";\n\t\t\t\t\t\tgid = p.id + \"_top\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (elem === undefined) {\n\t\t\t\t\treturn; // error\n\t\t\t\t}\n\t\t\t\t$elem = $(elem);\n\t\t\t\tif ($elem.length <= 0) {\n\t\t\t\t\treturn; // error\n\t\t\t\t}\n\t\t\t\tif ($elem.find(\".navtable\").length <= 0) {\n\t\t\t\t\t// create navigator bar if it is not yet exist\n\t\t\t\t\t$self.jqGrid(\"navGrid\", elem, { add: false, edit: false, del: false, search: false, refresh: false, view: false });\n\t\t\t\t}\n\n\t\t\t\tp._inlinenav = true;\n\t\t\t\t// detect the formatactions column\n\t\t\t\tif (o.addParams.useFormatter === true) {\n\t\t\t\t\tvar cm = p.colModel, i, defaults, ap;\n\t\t\t\t\tfor (i = 0; i < cm.length; i++) {\n\t\t\t\t\t\tif (cm[i].formatter && cm[i].formatter === \"actions\") {\n\t\t\t\t\t\t\tif (cm[i].formatoptions) {\n\t\t\t\t\t\t\t\tdefaults = {\n\t\t\t\t\t\t\t\t\tkeys: false,\n\t\t\t\t\t\t\t\t\tonEdit: null,\n\t\t\t\t\t\t\t\t\tonSuccess: null,\n\t\t\t\t\t\t\t\t\tafterSave: null,\n\t\t\t\t\t\t\t\t\tonError: null,\n\t\t\t\t\t\t\t\t\tafterRestore: null,\n\t\t\t\t\t\t\t\t\textraparam: {},\n\t\t\t\t\t\t\t\t\turl: null\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tap = $.extend(defaults, cm[i].formatoptions);\n\t\t\t\t\t\t\t\to.addParams.addRowParams = {\n\t\t\t\t\t\t\t\t\t\"keys\": ap.keys,\n\t\t\t\t\t\t\t\t\t\"oneditfunc\": ap.onEdit,\n\t\t\t\t\t\t\t\t\t\"successfunc\": ap.onSuccess,\n\t\t\t\t\t\t\t\t\t\"url\": ap.url,\n\t\t\t\t\t\t\t\t\t\"extraparam\": ap.extraparam,\n\t\t\t\t\t\t\t\t\t\"aftersavefunc\": ap.afterSave,\n\t\t\t\t\t\t\t\t\t\"errorfunc\": ap.onError,\n\t\t\t\t\t\t\t\t\t\"afterrestorefunc\": ap.afterRestore\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (o.add) {\n\t\t\t\t\t$self.jqGrid(\"navButtonAdd\", elem, {\n\t\t\t\t\t\tcaption: o.addtext,\n\t\t\t\t\t\ttitle: o.addtitle,\n\t\t\t\t\t\tcommonIconClass: o.commonIconClass,\n\t\t\t\t\t\tbuttonicon: o.addicon,\n\t\t\t\t\t\ticonsOverText: o.iconsOverText,\n\t\t\t\t\t\tid: gid + \"_iladd\",\n\t\t\t\t\t\tonClickButton: function () {\n\t\t\t\t\t\t\tif (!hasOneFromClasses(this, disabledClass)) {\n\t\t\t\t\t\t\t\t$self.jqGrid(\"addRow\", o.addParams);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (o.edit) {\n\t\t\t\t\t$self.jqGrid(\"navButtonAdd\", elem, {\n\t\t\t\t\t\tcaption: o.edittext,\n\t\t\t\t\t\ttitle: o.edittitle,\n\t\t\t\t\t\tcommonIconClass: o.commonIconClass,\n\t\t\t\t\t\tbuttonicon: o.editicon,\n\t\t\t\t\t\ticonsOverText: o.iconsOverText,\n\t\t\t\t\t\tid: gid + \"_iledit\",\n\t\t\t\t\t\tonClickButton: function () {\n\t\t\t\t\t\t\tif (!hasOneFromClasses(this, disabledClass)) {\n\t\t\t\t\t\t\t\tvar sr = p.selrow;\n\t\t\t\t\t\t\t\tif (sr) {\n\t\t\t\t\t\t\t\t\t$self.jqGrid(\"editRow\", sr, o.editParams);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tviewModalAlert();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (o.save) {\n\t\t\t\t\t$self.jqGrid(\"navButtonAdd\", elem, {\n\t\t\t\t\t\tcaption: o.savetext,\n\t\t\t\t\t\ttitle: o.savetitle,\n\t\t\t\t\t\tcommonIconClass: o.commonIconClass,\n\t\t\t\t\t\tbuttonicon: o.saveicon,\n\t\t\t\t\t\ticonsOverText: o.iconsOverText,\n\t\t\t\t\t\tid: gid + \"_ilsave\",\n\t\t\t\t\t\tonClickButton: function () {\n\t\t\t\t\t\t\tif (!hasOneFromClasses(this, disabledClass) && p.savedRow.length > 0) {\n\t\t\t\t\t\t\t\tvar sr = p.savedRow[0].id;\n\t\t\t\t\t\t\t\tif (sr) {\n\t\t\t\t\t\t\t\t\tvar opers = p.prmNames, oper = opers.oper, tmpParams = o.editParams;\n\t\t\t\t\t\t\t\t\tif ($(\"#\" + jgrid.jqID(sr), $t).hasClass(\"jqgrid-new-row\")) {\n\t\t\t\t\t\t\t\t\t\to.addParams.addRowParams.extraparam[oper] = opers.addoper;\n\t\t\t\t\t\t\t\t\t\ttmpParams = o.addParams.addRowParams;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif (!o.editParams.extraparam) {\n\t\t\t\t\t\t\t\t\t\t\to.editParams.extraparam = {};\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\to.editParams.extraparam[oper] = opers.editoper;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t$self.jqGrid(\"saveRow\", sr, tmpParams);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tviewModalAlert();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t$(gID + \"_ilsave\").addClass(disabledClass);\n\t\t\t\t}\n\t\t\t\tif (o.cancel) {\n\t\t\t\t\t$self.jqGrid(\"navButtonAdd\", elem, {\n\t\t\t\t\t\tcaption: o.canceltext,\n\t\t\t\t\t\ttitle: o.canceltitle,\n\t\t\t\t\t\tcommonIconClass: o.commonIconClass,\n\t\t\t\t\t\tbuttonicon: o.cancelicon,\n\t\t\t\t\t\ticonsOverText: o.iconsOverText,\n\t\t\t\t\t\tid: gid + \"_ilcancel\",\n\t\t\t\t\t\tonClickButton: function () {\n\t\t\t\t\t\t\tif (!hasOneFromClasses(this, disabledClass) && p.savedRow.length > 0) {\n\t\t\t\t\t\t\t\tvar sr = p.savedRow[0].id, cancelPrm = o.editParams;\n\t\t\t\t\t\t\t\tif (sr) {\n\t\t\t\t\t\t\t\t\tif ($(\"#\" + jgrid.jqID(sr), $t).hasClass(\"jqgrid-new-row\")) {\n\t\t\t\t\t\t\t\t\t\tcancelPrm = o.addParams.addRowParams;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t$self.jqGrid(\"restoreRow\", sr, cancelPrm);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tviewModalAlert();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t$(gID + \"_ilcancel\").addClass(disabledClass);\n\t\t\t\t}\n\t\t\t\tif (o.restoreAfterSelect === true) {\n\t\t\t\t\t$self.on(\"jqGridSelectRow\", function (e, rowid) {\n\t\t\t\t\t\tif (p.savedRow.length > 0 && p._inlinenav === true) {\n\t\t\t\t\t\t\tvar editingRowId = p.savedRow[0].id;\n\t\t\t\t\t\t\tif (rowid !== editingRowId && typeof editingRowId !== \"number\") {\n\t\t\t\t\t\t\t\t$self.jqGrid(\"restoreRow\", editingRowId, o.editParams);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t$self.on(\"jqGridInlineAfterRestoreRow jqGridInlineAfterSaveRow\", function () {\n\t\t\t\t\t$self.jqGrid(\"showAddEditButtons\", false);\n\t\t\t\t});\n\t\t\t\t$self.on(\"jqGridInlineEditRow\", function (e, rowid) {\n\t\t\t\t\t$self.jqGrid(\"showAddEditButtons\", true, rowid);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tshowAddEditButtons: function (isEditing) {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this;\n\t\t\t\tif (!$t.grid) { return; }\n\t\t\t\tvar p = $t.p, idSel = p.idSel, disabledClass = getGuiStateStyles.call($t, \"disabled\"),\n\t\t\t\t\tsaveCancel = idSel + \"_ilsave,\" + idSel + \"_ilcancel\" + (p.toppager ? \",\" + idSel + \"_top_ilsave,\" + idSel + \"_top_ilcancel\" : \"\"),\n\t\t\t\t\taddEdit = idSel + \"_iladd,\" + idSel + \"_iledit\" + (p.toppager ? \",\" + idSel + \"_top_iladd,\" + idSel + \"_top_iledit\" : \"\");\n\t\t\t\t$(isEditing ? addEdit : saveCancel).addClass(disabledClass);\n\t\t\t\t$(isEditing ? saveCancel : addEdit).removeClass(disabledClass);\n\t\t\t});\n\t\t}\n\t});\n\t// end module grid.inlinedit\n\n\t/**\n\t * jqGrid addons using jQuery UI\n\t * Author: Mark Williams\n\t * Changed by Oleg Kiriljuk, oleg.kiriljuk@ok-soft-gmbh.com\n\t * Dual licensed under the MIT and GPL licenses:\n\t * http://www.opensource.org/licenses/mit-license.php\n\t * http://www.gnu.org/licenses/gpl-2.0.html\n\t * depends on jQuery UI\n\t **/\n\t\t// begin module grid.jqueryui\n\tvar $UiMultiselect = $.ui != null ? $.ui.multiselect : null,\n\t\treorderSelectedColumns = function (iColItem) {\n\t\t\t/* Background information:\n\t\t\t *\n\t\t\t * Multiselect contains the list of selected items this.selectedList,\n\t\t\t * which is jQuery wrapper of <ul> element. The items of this.selectedList\n\t\t\t * are <li> elements, which represent visible (hidden:false) and movable\n\t\t\t * (hidedlg:false) columns of the grid.\n\t\t\t *\n\t\t\t * Additionally there are exist hidden <select multiple=\"multiple\">.\n\t\t\t * Every <option> of the <select> corresponds the column of the grid.\n\t\t\t * The visible columns (hidden:false) are selected. The value of the <option>\n\t\t\t * contains the column index (iCol) in colModel. <li> elements of\n\t\t\t * this.selectedLis have data with the \"optionLink\" pointed to the corresponding\n\t\t\t * option of the hidden select.\n\t\t\t *\n\t\t\t * this.grid is the DOM of the grid and this.newColOrder is the array with\n\t\t\t * ALL column names in the order, which should be applied after reordering\n\t\t\t * the grid. Additionally this.gh contains the COPY of p.groupHeader.groupHeaders.\n\t\t\t * It's important that startColumnName property of elements of\n\t\t\t * p.groupHeader.groupHeaders could be changed during reordering of the columns.\n\t\t\t * On the other side the user can't click Cancel button of columnChooser for\n\t\t\t * breaking reordering. Because of that this.gh contains the COPY of\n\t\t\t * p.groupHeader.groupHeaders and the original p.groupHeader.groupHeaders will be\n\t\t\t * not changed in the reorderSelectedColumns function.\n\t\t\t *\n\t\t\t * An important implementation problem: reorderSelectedColumns function will be\n\t\t\t * called after ONE reordering of the columns. On the other side, the user can\n\t\t\t * reorder the columns MULTIPLE TIMES before saving the new order. Thus, one\n\t\t\t * have to take in consideration not only the original order of columns in\n\t\t\t * colModel, but THE CURRENT order of the columns saved only internally in\n\t\t\t * the dialog in this.newColOrder.\n\t\t\t */\n\t\t\tif (this.grid != null && this.grid.p != null) {\n\t\t\t\tvar that = this, p = this.grid.p, iCol, j, iGrp, ghItem,\n\t\t\t\t\tgh = this.gh, selectedList = this.selectedList, inGroup = this.inGroup,\n\t\t\t\t\titems = selectedList.find(\"li\"), optionLink,\n\t\t\t\t\tindexOfAddedItem = items.length - 1,\n\t\t\t\t\tenumSelected = function (callback, startIndex, reverse) {\n\t\t\t\t\t\tvar i, opt, items = selectedList.find(\"li\");\n\t\t\t\t\t\tif (startIndex === undefined) {\n\t\t\t\t\t\t\tstartIndex = reverse ? items.length - 1 : 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (i = startIndex; !reverse ? i < items.length : i >= 0; !reverse ? i++ : i--) {\n\t\t\t\t\t\t\topt = $(items[i]).data(\"optionLink\");\n\t\t\t\t\t\t\tif (opt && callback.call(items[i], parseInt(opt.val(), 10), i)) {\n\t\t\t\t\t\t\t\treturn i;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tupdateNewColOrder = function () {\n\t\t\t\t\t\t// !!! the function set additionally indexOfAddedItem and update items\n\n\t\t\t\t\t\t// remove iColItem from this.newColOrder\n\t\t\t\t\t\tj = $.inArray(p.colModel[iColItem].name, that.newColOrder);\n\t\t\t\t\t\tif (j >= 0) {\n\t\t\t\t\t\t\tthat.newColOrder.splice(j, 1);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// refill items\n\t\t\t\t\t\titems = selectedList.find(\"li\");\n\n\t\t\t\t\t\t// iCol will be the index in newColOrder. The order of columns in items\n\t\t\t\t\t\t// should be mostly THE SAME like in selectedList, but newColOrder\n\t\t\t\t\t\t// contains additional elements (hidden and hidedlg). The array items\n\t\t\t\t\t\t// on the other side contains just inserted iColItem element.\n\n\t\t\t\t\t\t// we need find indexOfAddedItem - the index of <li> with iColItem\n\t\t\t\t\t\t// in the list of this.selectedList.find(\"li\") elements\n\t\t\t\t\t\tiCol = 0;\n\t\t\t\t\t\tenumSelected(\n\t\t\t\t\t\t\tfunction (iColOld, index) {\n\t\t\t\t\t\t\t\tif (iColOld === iColItem) {\n\t\t\t\t\t\t\t\t\tindexOfAddedItem = index;\n\t\t\t\t\t\t\t\t\t// if iColItem is in the same header group as p.colModel[iCol] or\n\t\t\t\t\t\t\t\t\t// both belongs no header group then the column could be NOT in\n\t\t\t\t\t\t\t\t\t// selectedList. I find better to insert the item AFTER the hidden\n\t\t\t\t\t\t\t\t\t// or non-movable columns (like \"rn\", \"subgrid\" column or other)\n\t\t\t\t\t\t\t\t\twhile (iCol >= 0 && iCol < p.colModel.length && iCol !== iColItem &&\n\t\t\t\t\t\t\t\t\t(p.colModel[iCol].hidden || p.colModel[iCol].hidedlg) &&\n\t\t\t\t\t\t\t\t\t(inGroup == null ||\n\t\t\t\t\t\t\t\t\t\t//inGroup[iCol] !== undefined && inGroup[iColItem] !== undefined &&\n\t\t\t\t\t\t\t\t\t\tinGroup[iCol] === inGroup[iColItem])) {\n\t\t\t\t\t\t\t\t\t\tiCol++;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthat.newColOrder.splice(iCol, 0, p.colModel[iColItem].name);\n\t\t\t\t\t\t\t\t\treturn true; // stop enumeration\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// selectedList contains SUBSET of columns from colModel, but newColOrder\n\t\t\t\t\t\t\t\t// contains ALL columns. It's important that all columns from selectedList\n\t\t\t\t\t\t\t\t// exist in newColOrder IN THE SAME order. Thus iCol will be the current\n\t\t\t\t\t\t\t\t// index in newColOrder array with p.colModel[iColOld].name column name.\n\t\t\t\t\t\t\t\tiCol = $.inArray(p.colModel[iColOld].name, that.newColOrder, iCol);\n\t\t\t\t\t\t\t\tif (iCol < 0) {\n\t\t\t\t\t\t\t\t\t// to be sure that the code works in case of some errors too\n\t\t\t\t\t\t\t\t\tiCol = $.inArray(p.colModel[iColOld].name, that.newColOrder);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tiCol++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t\tenumPreviousAndInsertAfter = function (iCol) {\n\t\t\t\t\t\tif (inGroup[iCol] === inGroup[iColItem]) {\n\t\t\t\t\t\t\t$(this).after(items[indexOfAddedItem]);\n\t\t\t\t\t\t\tupdateNewColOrder();\n\t\t\t\t\t\t\treturn true; // stop enumeration\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tenumNextAndInsertBefore = function (iCol) {\n\t\t\t\t\t\tif (inGroup[iCol] === inGroup[iColItem]) {\n\t\t\t\t\t\t\t$(this).before(items[indexOfAddedItem]);\n\t\t\t\t\t\t\tupdateNewColOrder();\n\t\t\t\t\t\t\treturn true; // stop enumeration\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tupdateStartColumn = function (iCol) {\n\t\t\t\t\t\tif (inGroup[iCol] === inGroup[iColItem] && inGroup[iCol] !== undefined) {\n\t\t\t\t\t\t\tgh[inGroup[iCol]].startColumnName = p.colModel[iCol].name;\n\t\t\t\t\t\t\treturn true; // stop enumeration\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t// Fix potition of added/moved item iColItem in that.newColOrder array.\n\t\t\t\t// We syncronize only the initial state of newColOrder. The position of\n\t\t\t\t// iColItem item can be changed later in both selectedList and newColOrder\n\t\t\t\tupdateNewColOrder();\n\n\t\t\t\tif (gh && gh[inGroup[iColItem]] !== undefined) {\n\t\t\t\t\t// the item belong to some group\n\t\t\t\t\tghItem = gh[inGroup[iColItem]];\n\t\t\t\t\tfor (j = 0; j < ghItem.numberOfColumns; j++) {\n\t\t\t\t\t\tiCol = p.iColByName[ghItem.startColumnName] + j;\n\t\t\t\t\t\tif (!p.colModel[iCol].hidden && !p.colModel[iCol].hidedlg) {\n\t\t\t\t\t\t\t// the columns are displayed in the selectedList\n\n\t\t\t\t\t\t\t// We need to enumerate items in reverse order and to find the index of the item\n\t\t\t\t\t\t\t// in the array items comparing the items by $(items[j]).data(\"optionLink\").val()\n\t\t\t\t\t\t\t// If the item is found then append prevously found item AFTER this one.\n\t\t\t\t\t\t\t// We can use j variable bacause the outer loop will be exit (see break below)\n\t\t\t\t\t\t\tenumSelected(\n\t\t\t\t\t\t\t\tenumPreviousAndInsertAfter,\n\t\t\t\t\t\t\t\tindexOfAddedItem - 1,\n\t\t\t\t\t\t\t\ttrue // enum in reverse order\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t// If step 2 didn't find the group then we need examin NEXT items and find\n\t\t\t\t\t\t\t// the items from the same group. We should test the items in sequential order\n\t\t\t\t\t\t\t// after the item found. If the item is found then apend prevously found\n\t\t\t\t\t\t\t// item BEFORE this one.\n\t\t\t\t\t\t\tenumSelected(\n\t\t\t\t\t\t\t\tenumNextAndInsertBefore,\n\t\t\t\t\t\t\t\tindexOfAddedItem + 1\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t// fix the name of the first column in the group\n\t\t\t\t\t\t\tenumSelected(updateStartColumn);\n\t\t\t\t\t\t\tbreak; // !!!\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (gh) {\n\t\t\t\t\t// The item from no group is added/moved.\n\t\t\t\t\t// We have to verify that the item is not dropped inside of some header group\n\t\t\t\t\t// find the index of added/moved element in this.selectedList.find(\"li\")\n\t\t\t\t\titems = selectedList.find(\"li\");\n\t\t\t\t\tj = enumSelected(function (iCol) {\n\t\t\t\t\t\tif (iCol === iColItem) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tif (j + 1 >= items.length || j < 0) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\toptionLink = $(items[j + 1]).data(\"optionLink\");\n\t\t\t\t\tif (optionLink) {\n\t\t\t\t\t\tiGrp = inGroup[parseInt(optionLink.val(), 10)];\n\t\t\t\t\t\tif (iGrp !== undefined) {\n\t\t\t\t\t\t\toptionLink = $(items[j - 1]).data(\"optionLink\");\n\t\t\t\t\t\t\tif (optionLink && inGroup[parseInt(optionLink.val(), 10)] === iGrp) {\n\t\t\t\t\t\t\t\t// The next and the previous items are in the same group, but\n\t\t\t\t\t\t\t\t// the added/moved item in NOT in the group.\n\t\t\t\t\t\t\t\t// We have to move the item items[j] AFTER the last item of the group.\n\t\t\t\t\t\t\t\tvar iColNotInTheGroup = enumSelected(\n\t\t\t\t\t\t\t\t\tfunction (iCol) {\n\t\t\t\t\t\t\t\t\t\tif (inGroup[iCol] !== iGrp) {\n\t\t\t\t\t\t\t\t\t\t\treturn true; // stop enumeration\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tj + 1 // start enumeration with the index\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t$(items[iColNotInTheGroup === undefined || iColNotInTheGroup >= items.length ? items.length - 1 : iColNotInTheGroup - 1])\n\t\t\t\t\t\t\t\t\t.after(items[indexOfAddedItem]);\n\t\t\t\t\t\t\t\tupdateNewColOrder();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\tif (jgrid.msie && jgrid.msiever() === 8) {\n\t\t$.expr[\":\"].hidden = function (elem) {\n\t\t\treturn elem.offsetWidth === 0 || elem.offsetHeight === 0 ||\n\t\t\t\telem.style.display === \"none\";\n\t\t};\n\t}\n\t// requiere load multiselect before grid\n\tjgrid._multiselect = false;\n\tif ($UiMultiselect) {\n\t\tif ($UiMultiselect.prototype._setSelected) {\n\t\t\tvar setSelected = $UiMultiselect.prototype._setSelected;\n\t\t\t$UiMultiselect.prototype._setSelected = function (item, selected) {\n\t\t\t\t// the method will be called if the user clicks \"+\" button on the item of \"available\" list\n\t\t\t\t// or if the user clicks \"-\" button on the item of \"selected\" list.\n\t\t\t\t// The parameter \"selected\" is equal true on click on the item of \"selected\" list\n\t\t\t\t// and false on click on the item of \"available\" list.\n\t\t\t\tvar ret = setSelected.call(this, item, selected), elt = this.element,\n\t\t\t\t\tiColItem = parseInt(item.data(\"optionLink\").val(), 10);\n\t\t\t\tif (selected && this.selectedList) {\n\t\t\t\t\t// reorder items of selectedList\n\t\t\t\t\t// all items of selectedList from one group have to be together\n\t\t\t\t\t// all items of availableList from one group have to be together\n\t\t\t\t\treorderSelectedColumns.call(this, iColItem);\n\n\t\t\t\t\t// apply the new sort order to the original selectbox\n\t\t\t\t\tthis.selectedList.find(\"li\").each(function () {\n\t\t\t\t\t\tif ($(this).data(\"optionLink\")) {\n\t\t\t\t\t\t\t$(this).data(\"optionLink\").remove().appendTo(elt);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t\t};\n\t\t}\n\t\tif ($UiMultiselect.prototype.destroy) {\n\t\t\t$UiMultiselect.prototype.destroy = function () {\n\t\t\t\tvar self = this;\n\t\t\t\tself.element.show();\n\t\t\t\tself.container.remove();\n\t\t\t\tif ($.Widget === undefined) {\n\t\t\t\t\t$.widget.prototype.destroy.apply(self, arguments);\n\t\t\t\t} else {\n\t\t\t\t\t$.Widget.prototype.destroy.apply(self, arguments);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tjgrid._multiselect = true;\n\t}\n\n\tjgrid.extend({\n\t\tsortableColumns: function (tblrow) {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar ts = this, p = ts.p, tid = jqID(p.id);\n\t\t\t\tif (!p || !p.sortable || !$.isFunction($.fn.sortable)) { return; }\n\t\t\t\tfunction start() { p.disableClick = true; }\n\t\t\t\tvar sortableOpts = {\n\t\t\t\t\ttolerance: \"pointer\",\n\t\t\t\t\taxis: \"x\",\n\t\t\t\t\tscrollSensitivity: \"1\",\n\t\t\t\t\titems: \">th:not(:has(#jqgh_\" + tid + \"_cb\" + \",#jqgh_\" + tid + \"_rn\" + \",#jqgh_\" + tid + \"_subgrid),:hidden)\",\n\t\t\t\t\tplaceholder: {\n\t\t\t\t\t\telement: function (item) {\n\t\t\t\t\t\t\tvar el = $(document.createElement(item[0].nodeName))\n\t\t\t\t\t\t\t\t.addClass(item[0].className + \" ui-sortable-placeholder ui-state-highlight\")\n\t\t\t\t\t\t\t\t.removeClass(\"ui-sortable-helper\")[0];\n\t\t\t\t\t\t\treturn el;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tupdate: function (self, o) {\n\t\t\t\t\t\t\to.height(self.currentItem.innerHeight() - parseInt(self.currentItem.css(\"paddingTop\") || 0, 10) - parseInt(self.currentItem.css(\"paddingBottom\") || 0, 10));\n\t\t\t\t\t\t\to.width(self.currentItem.innerWidth() - parseInt(self.currentItem.css(\"paddingLeft\") || 0, 10) - parseInt(self.currentItem.css(\"paddingRight\") || 0, 10));\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tstart: function () {\n\t\t\t\t\t\tts.grid.hDiv.scrollLeft = ts.grid.bDiv.scrollLeft;\n\t\t\t\t\t},\n\t\t\t\t\tupdate: function (event, ui) {\n\t\t\t\t\t\tvar th = $(\">th\", $(ui.item).parent()), tid1 = p.id + \"_\", permutation = [];\n\t\t\t\t\t\tth.each(function () {\n\t\t\t\t\t\t\tvar id = $(\">div\", this).get(0).id.replace(/^jqgh_/, \"\").replace(tid1, \"\"),\n\t\t\t\t\t\t\t\tiCol = p.iColByName[id];\n\t\t\t\t\t\t\tif (iCol !== undefined) {\n\t\t\t\t\t\t\t\tpermutation.push(iCol);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t$(ts).jqGrid(\"remapColumns\", permutation, true, true);\n\t\t\t\t\t\tif ($.isFunction(p.sortable.update)) {\n\t\t\t\t\t\t\tp.sortable.update(permutation);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetTimeout(function () { p.disableClick = false; }, 50);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tif (p.sortable.options) {\n\t\t\t\t\t$.extend(sortableOpts, p.sortable.options);\n\t\t\t\t} else if ($.isFunction(p.sortable)) {\n\t\t\t\t\tp.sortable = { \"update\": p.sortable };\n\t\t\t\t}\n\t\t\t\tif (sortableOpts.start) {\n\t\t\t\t\tvar s = sortableOpts.start;\n\t\t\t\t\tsortableOpts.start = function (e, ui) {\n\t\t\t\t\t\tstart();\n\t\t\t\t\t\ts.call(this, e, ui);\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tsortableOpts.start = start;\n\t\t\t\t}\n\t\t\t\tif (p.sortable.exclude) {\n\t\t\t\t\tsortableOpts.items += \":not(\" + p.sortable.exclude + \")\";\n\t\t\t\t}\n\t\t\t\tvar $e = tblrow.sortable(sortableOpts), dataObj = $e.data(\"sortable\") || $e.data(\"uiSortable\") || $e.data(\"ui-sortable\");\n\t\t\t\tif (dataObj != null) {\n\t\t\t\t\tdataObj.floating = true;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tcolumnChooser: function (opts) {\n\t\t\tvar $self = this, self = $self[0], p = self.p, selector, select, dopts, mopts,\n\t\t\t\t$dialogContent, multiselectData, listHeight,\n\t\t\t\tcolModel = p.colModel, nCol = colModel.length, colNames = p.colNames,\n\t\t\t\tgetMultiselectWidgetData = function ($elem) {\n\t\t\t\t\treturn ($UiMultiselect && $UiMultiselect.prototype && $elem.data($UiMultiselect.prototype.widgetFullName || $UiMultiselect.prototype.widgetName)) ||\n\t\t\t\t\t\t$elem.data(\"ui-multiselect\") || $elem.data(\"multiselect\");\n\t\t\t\t};\n\n\t\t\tif ($(\"#colchooser_\" + jqID(p.id)).length) { return; }\n\t\t\tselector = $('<div id=\"colchooser_' + p.id + '\" style=\"position:relative;overflow:hidden\"><div><select multiple=\"multiple\"></select></div></div>');\n\t\t\tselect = $(\"select\", selector);\n\n\t\t\tfunction call(fn, obj) {\n\t\t\t\tif (!fn) { return; }\n\t\t\t\tif (typeof fn === \"string\") {\n\t\t\t\t\tif ($.fn[fn]) {\n\t\t\t\t\t\t$.fn[fn].apply(obj, $.makeArray(arguments).slice(2));\n\t\t\t\t\t}\n\t\t\t\t} else if ($.isFunction(fn)) {\n\t\t\t\t\tfn.apply(obj, $.makeArray(arguments).slice(2));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\topts = $.extend({\n\t\t\t\t\twidth: 400,\n\t\t\t\t\theight: 240,\n\t\t\t\t\tclassname: null,\n\t\t\t\t\tdone: function (perm) {\n\t\t\t\t\t\tif (perm) {\n\t\t\t\t\t\t\t$self.jqGrid(\"remapColumns\", perm, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t/* msel is either the name of a ui widget class that\n\t\t\t\t\t   extends a multiselect, or a function that supports\n\t\t\t\t\t   creating a multiselect object (with no argument,\n\t\t\t\t\t   or when passed an object), and destroying it (when\n\t\t\t\t\t   passed the string \"destroy\"). */\n\t\t\t\t\tmsel: \"multiselect\",\n\t\t\t\t\t/* \"msel_opts\" : {}, */\n\n\t\t\t\t\t/* dlog is either the name of a ui widget class that\n\t\t\t\t\t   behaves in a dialog-like way, or a function, that\n\t\t\t\t\t   supports creating a dialog (when passed dlog_opts)\n\t\t\t\t\t   or destroying a dialog (when passed the string\n\t\t\t\t\t   \"destroy\")\n\t\t\t\t\t   */\n\t\t\t\t\tdlog: \"dialog\",\n\t\t\t\t\tdialog_opts: {\n\t\t\t\t\t\tminWidth: 470,\n\t\t\t\t\t\tdialogClass: \"ui-jqdialog\"\n\t\t\t\t\t},\n\t\t\t\t\t/* dlog_opts is either an option object to be passed\n\t\t\t\t\t   to \"dlog\", or (more likely) a function that creates\n\t\t\t\t\t   the options object.\n\t\t\t\t\t   The default produces a suitable options object for\n\t\t\t\t\t   ui.dialog */\n\t\t\t\t\tdlog_opts: function (options) {\n\t\t\t\t\t\tvar buttons = {};\n\t\t\t\t\t\tbuttons[options.bSubmit] = function () {\n\t\t\t\t\t\t\toptions.apply_perm();\n\t\t\t\t\t\t\toptions.cleanup(false);\n\t\t\t\t\t\t};\n\t\t\t\t\t\tbuttons[options.bCancel] = function () {\n\t\t\t\t\t\t\toptions.cleanup(true);\n\t\t\t\t\t\t};\n\t\t\t\t\t\treturn $.extend(true, {\n\t\t\t\t\t\t\tbuttons: buttons,\n\t\t\t\t\t\t\tclose: function () {\n\t\t\t\t\t\t\t\toptions.cleanup(true);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tmodal: options.modal || false,\n\t\t\t\t\t\t\tresizable: options.resizable || true,\n\t\t\t\t\t\t\twidth: options.width + 70,\n\t\t\t\t\t\t\tresize: function () {\n\t\t\t\t\t\t\t\tvar widgetData = getMultiselectWidgetData(select),\n\t\t\t\t\t\t\t\t\t$thisDialogContent = widgetData.container.closest(\".ui-dialog-content\");\n\n\t\t\t\t\t\t\t\tif ($thisDialogContent.length > 0 && typeof $thisDialogContent[0].style === \"object\") {\n\t\t\t\t\t\t\t\t\t$thisDialogContent[0].style.width = \"\";\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t$thisDialogContent.css(\"width\", \"\"); // or just remove width style\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\twidgetData.selectedList.height(Math.max(widgetData.selectedContainer.height() - widgetData.selectedActions.outerHeight() - 1, 1));\n\t\t\t\t\t\t\t\twidgetData.availableList.height(Math.max(widgetData.availableContainer.height() - widgetData.availableActions.outerHeight() - 1, 1));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, options.dialog_opts || {});\n\t\t\t\t\t},\n\t\t\t\t\t/* Function to get the permutation array, and pass it to the\n\t\t\t\t\t   \"done\" function */\n\t\t\t\t\tapply_perm: function () {\n\t\t\t\t\t\tvar perm = new Array(p.colModel.length), i, gHead,\n\t\t\t\t\t\t\tshowHideColOptions = {\n\t\t\t\t\t\t\t\tnotSkipFrozen: opts.notSkipFrozen === undefined ? false : opts.notSkipFrozen,\n\t\t\t\t\t\t\t\tskipSetGridWidth: true,\n\t\t\t\t\t\t\t\tskipSetGroupHeaders: true\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// we can use remapColumnsByName instead of remapColumns in general,\n\t\t\t\t\t\t// but we try to hold the compatibility with old version. Thus we\n\t\t\t\t\t\t// fill perm based on multiselectData.newColOrder\n\t\t\t\t\t\tfor (i = 0; i < p.colModel.length; i++) {\n\t\t\t\t\t\t\tperm[i] = p.iColByName[multiselectData.newColOrder[i]];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$(\"option\", select).each(function () {\n\t\t\t\t\t\t\tif ($(this).is(\":selected\")) {\n\t\t\t\t\t\t\t\t$self.jqGrid(\"showCol\", colModel[this.value].name, showHideColOptions);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$self.jqGrid(\"hideCol\", colModel[this.value].name, showHideColOptions);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (opts.done) {\n\t\t\t\t\t\t\topts.done.call($self, perm);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (p.groupHeader && (typeof p.groupHeader === \"object\" || $.isFunction(p.groupHeader))) {\n\t\t\t\t\t\t\t$self.jqGrid(\"destroyGroupHeader\", false);\n\t\t\t\t\t\t\tp.groupHeader.groupHeaders = multiselectData.gh; // use modified groupHeader\n\t\t\t\t\t\t\tif (p.pivotOptions != null && p.pivotOptions.colHeaders != null && p.pivotOptions.colHeaders.length > 1) {\n\t\t\t\t\t\t\t\tgHead = p.pivotOptions.colHeaders;\n\t\t\t\t\t\t\t\tfor (i = 0; i < gHead.length; i++) {\n\t\t\t\t\t\t\t\t\t// Multiple calls of setGroupHeaders for one grid are wrong,\n\t\t\t\t\t\t\t\t\t// but there are produces good results in case of usage\n\t\t\t\t\t\t\t\t\t// useColSpanStyle: false option. The rowspan values\n\t\t\t\t\t\t\t\t\t// needed be increased in case of usage useColSpanStyle: true\n\t\t\t\t\t\t\t\t\tif (gHead[i] && gHead[i].groupHeaders.length) {\n\t\t\t\t\t\t\t\t\t\t$self.jqGrid(\"setGroupHeaders\", gHead[i]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$self.jqGrid(\"setGroupHeaders\", p.groupHeader);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar newWidth = !p.autowidth && (p.widthOrg === undefined || p.widthOrg === \"auto\" || p.widthOrg === \"100%\") ? p.tblwidth : p.width;\n\t\t\t\t\t\tif (newWidth !== p.width) {\n\t\t\t\t\t\t\t$self.jqGrid(\"setGridWidth\", newWidth, p.shrinkToFit);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t/* Function to cleanup the dialog, and select. Also calls the\n\t\t\t\t\t   done function with no permutation (to indicate that the\n\t\t\t\t\t   columnChooser was aborted */\n\t\t\t\t\tcleanup: function (calldone) {\n\t\t\t\t\t\tcall(opts.dlog, selector, \"destroy\");\n\t\t\t\t\t\tcall(opts.msel, select, \"destroy\");\n\t\t\t\t\t\tselector.remove();\n\t\t\t\t\t\tif (calldone && opts.done) {\n\t\t\t\t\t\t\topts.done.call($self);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tmsel_opts: {}\n\t\t\t\t},\n\t\t\t\t$self.jqGrid(\"getGridRes\", \"col\"),\n\t\t\t\tjgrid.col, opts || {});\n\t\t\tif ($.ui) {\n\t\t\t\tif ($UiMultiselect && $UiMultiselect.defaults) {\n\t\t\t\t\tif (!jgrid._multiselect) {\n\t\t\t\t\t\t// should be in language file\n\t\t\t\t\t\t(jgrid.defaults != null && $.isFunction(jgrid.defaults.fatalError) ? jgrid.defaults.fatalError : alert)(\"Multiselect plugin loaded after jqGrid. Please load the plugin before the jqGrid!\");\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t// ??? the next line uses $.ui.multiselect.defaults which will be typically undefined\n\t\t\t\t\topts.msel_opts = $.extend($UiMultiselect.defaults, opts.msel_opts);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (opts.caption) {\n\t\t\t\tselector.attr(\"title\", opts.caption);\n\t\t\t}\n\t\t\tif (opts.classname) {\n\t\t\t\tselector.addClass(opts.classname);\n\t\t\t\tselect.addClass(opts.classname);\n\t\t\t}\n\t\t\tif (opts.width) {\n\t\t\t\t$(\">div\", selector).css({ width: opts.width, margin: \"0 auto\" });\n\t\t\t\tselect.css(\"width\", opts.width);\n\t\t\t}\n\t\t\tif (opts.height) {\n\t\t\t\t$(\">div\", selector).css(\"height\", opts.height);\n\t\t\t\tselect.css(\"height\", opts.height - 10);\n\t\t\t}\n\n\t\t\tselect.empty();\n\t\t\tvar gh = p.groupHeader != null ? p.groupHeader.groupHeaders : 0,\n\t\t\t\tcolHeader = {}, k, j, iCol, ghItem;\n\t\t\t// fill colHeader for columns which have column header\n\t\t\tif (gh) {\n\t\t\t\tfor (k = 0; k < gh.length; k++) {\n\t\t\t\t\tghItem = gh[k];\n\t\t\t\t\tfor (j = 0; j < ghItem.numberOfColumns; j++) {\n\t\t\t\t\t\tiCol = p.iColByName[ghItem.startColumnName] + j;\n\t\t\t\t\t\tcolHeader[iCol] = $.isFunction(opts.buildItemText) ?\n\t\t\t\t\t\t\topts.buildItemText.call($self[0], {\n\t\t\t\t\t\t\t\tiCol: iCol,\n\t\t\t\t\t\t\t\tcm: colModel[iCol],\n\t\t\t\t\t\t\t\tcmName: colModel[iCol].name,\n\t\t\t\t\t\t\t\tcolName: colNames[iCol],\n\t\t\t\t\t\t\t\tgroupTitleText: ghItem.titleText\n\t\t\t\t\t\t\t}) :\n\t\t\t\t\t\t\t$.jgrid.stripHtml(ghItem.titleText) + \": \" +\n\t\t\t\t\t\t\t$.jgrid.stripHtml(colNames[iCol] === \"\" ? colModel[iCol].name : colNames[iCol]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// fill colHeader for all other columns\n\t\t\tfor (iCol = 0; iCol < nCol; iCol++) {\n\t\t\t\tif (colHeader[iCol] === undefined) {\n\t\t\t\t\tcolHeader[iCol] = $.isFunction(opts.buildItemText) ?\n\t\t\t\t\t\topts.buildItemText.call($self[0], {\n\t\t\t\t\t\t\tiCol: iCol,\n\t\t\t\t\t\t\tcm: colModel[iCol],\n\t\t\t\t\t\t\tcmName: colModel[iCol].name,\n\t\t\t\t\t\t\tcolName: colNames[iCol],\n\t\t\t\t\t\t\tgroupTitleText: null\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\t$.jgrid.stripHtml(colNames[iCol]);\n\t\t\t\t}\n\t\t\t}\n\t\t\t$.each(colModel, function (i) {\n\t\t\t\tif (!this.hidedlg) {\n\t\t\t\t\tselect.append(\"<option value='\" + i + \"'\" +\n\t\t\t\t\t\t(p.headertitles || this.headerTitle ? (\" title='\" + jgrid.stripHtml(typeof this.headerTitle === \"string\" ? this.headerTitle : colHeader[i]) + \"'\") : \"\") +\n\t\t\t\t\t\t(this.hidden ? \"\" : \" selected='selected'\") + \">\" + colHeader[i] + \"</option>\");\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tdopts = $.isFunction(opts.dlog_opts) ? opts.dlog_opts.call($self, opts) : opts.dlog_opts;\n\t\t\tcall(opts.dlog, selector, dopts);\n\t\t\tmopts = $.isFunction(opts.msel_opts) ? opts.msel_opts.call($self, opts) : opts.msel_opts;\n\t\t\tcall(opts.msel, select, mopts);\n\n\t\t\t// fix height of elements of the multiselect widget\n\t\t\t$dialogContent = $(\"#colchooser_\" + jqID(p.id));\n\n\t\t\t$dialogContent.css({ margin: \"auto\" });\n\t\t\t$dialogContent.find(\">div\").css({ width: \"100%\", height: \"100%\", margin: \"auto\" });\n\n\t\t\tmultiselectData = getMultiselectWidgetData(select);\n\t\t\tif (multiselectData) {\n\t\t\t\t// grid property will be used to access the grid inside of _setSelected\n\t\t\t\tmultiselectData.grid = self;\n\t\t\t\tif (gh) {\n\t\t\t\t\t// make deep copy of groupHeaders to be able to hold changes of startColumnName,\n\t\t\t\t\t// but to apply the changes only after the user click OK button (not Cancel)\n\t\t\t\t\tmultiselectData.gh = $.extend(true, [], gh);\n\n\t\t\t\t\t// filling the helper array inGroup. It contains\n\t\t\t\t\t// an item for every column. The value is undefined if the column\n\t\t\t\t\t// not belongs to a header group and it is 0-based index of the\n\t\t\t\t\t// header group (the index in gh array) if the column belongs to\n\t\t\t\t\t// a header group. The array inGroup helps us to detect whether\n\t\t\t\t\t// two columns belong to the same group or not.\n\t\t\t\t\tmultiselectData.inGroup = new Array(p.colModel.length); // allocate array with undefined values\n\n\t\t\t\t\tvar iGrp, headerItem;\n\t\t\t\t\tfor (iGrp = 0; iGrp < gh.length; iGrp++) {\n\t\t\t\t\t\theaderItem = gh[iGrp];\n\t\t\t\t\t\tfor (iCol = 0; iCol < headerItem.numberOfColumns; iCol++) {\n\t\t\t\t\t\t\tmultiselectData.inGroup[p.iColByName[headerItem.startColumnName] + iCol] = iGrp;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tmultiselectData.newColOrder = $.map(colModel, function (cm) { return cm.name; });\n\t\t\t\tmultiselectData.container.css({ width: \"100%\", height: \"100%\", margin: \"auto\" });\n\n\t\t\t\tmultiselectData.selectedContainer.css({ width: multiselectData.options.dividerLocation * 100 + \"%\", height: \"100%\", margin: \"auto\", boxSizing: \"border-box\" });\n\t\t\t\tmultiselectData.availableContainer.css({ width: (100 - multiselectData.options.dividerLocation * 100) + \"%\", height: \"100%\", margin: \"auto\", boxSizing: \"border-box\" });\n\n\t\t\t\t// set height for both selectedList and availableList\n\t\t\t\tmultiselectData.selectedList.css(\"height\", \"auto\");\n\t\t\t\tmultiselectData.availableList.css(\"height\", \"auto\");\n\t\t\t\tlistHeight = Math.max(multiselectData.selectedList.height(), multiselectData.availableList.height());\n\t\t\t\tlistHeight = Math.min(listHeight, $(window).height());\n\t\t\t\tmultiselectData.selectedList.css(\"height\", listHeight);\n\t\t\t\tmultiselectData.availableList.css(\"height\", listHeight);\n\t\t\t\tif (multiselectData.options != null && multiselectData.options.sortable) {\n\t\t\t\t\tmultiselectData.selectedList.on(\"sortupdate\", function (e, ui) {\n\t\t\t\t\t\t// remove fixed inline style values of width and height\n\t\t\t\t\t\t// added during gragging\n\t\t\t\t\t\treorderSelectedColumns.call(\n\t\t\t\t\t\t\tmultiselectData,\n\t\t\t\t\t\t\tparseInt(ui.item.data(\"optionLink\").val(), 10)\n\t\t\t\t\t\t);\n\t\t\t\t\t\tui.item.css({ width: \"\", height: \"\" });\n\t\t\t\t\t\tif ($.isFunction(opts.sortUpdate)) {\n\t\t\t\t\t\t\topts.sortUpdate.call(self, e, ui);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif ($.isFunction(opts.init)) {\n\t\t\t\t\topts.init.call(self, multiselectData);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tsortableRows: function (opts) {\n\t\t\t// Can accept all sortable options and events\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, grid = $t.grid, p = $t.p;\n\t\t\t\tif (!grid) { return; }\n\t\t\t\t// Currently we disable a treeGrid sortable\n\t\t\t\tif (p.treeGrid) { return; }\n\t\t\t\tif ($.fn.sortable) {\n\t\t\t\t\topts = $.extend({\n\t\t\t\t\t\t\tcursor: \"move\",\n\t\t\t\t\t\t\taxis: \"y\",\n\t\t\t\t\t\t\titems: \">tbody>.jqgrow\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\topts || {});\n\t\t\t\t\tif (opts.start && $.isFunction(opts.start)) {\n\t\t\t\t\t\topts._start_ = opts.start;\n\t\t\t\t\t\tdelete opts.start;\n\t\t\t\t\t} else { opts._start_ = false; }\n\t\t\t\t\tif (opts.update && $.isFunction(opts.update)) {\n\t\t\t\t\t\topts._update_ = opts.update;\n\t\t\t\t\t\tdelete opts.update;\n\t\t\t\t\t} else { opts._update_ = false; }\n\t\t\t\t\topts.start = function (ev, ui) {\n\t\t\t\t\t\t$(ui.item).css(\"border-width\", \"0\");\n\t\t\t\t\t\t$(\"td\", ui.item).each(function (i) {\n\t\t\t\t\t\t\tthis.style.width = grid.cols[i].style.width;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (p.subGrid) {\n\t\t\t\t\t\t\tvar subgid = $(ui.item).attr(\"id\");\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t$($t).jqGrid(\"collapseSubGridRow\", subgid);\n\t\t\t\t\t\t\t} catch (ignore) { }\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (opts._start_) {\n\t\t\t\t\t\t\topts._start_.apply(this, [ev, ui]);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\topts.update = function (ev, ui) {\n\t\t\t\t\t\t$(ui.item).css(\"border-width\", \"\");\n\t\t\t\t\t\tif (p.rownumbers === true) {\n\t\t\t\t\t\t\t$(\"td.jqgrid-rownum\", $t.rows).each(function (i) {\n\t\t\t\t\t\t\t\t$(this).html(i + 1 + (parseInt(p.page, 10) - 1) * parseInt(p.rowNum, 10));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (opts._update_) {\n\t\t\t\t\t\t\topts._update_.apply(this, [ev, ui]);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t$($t).sortable(opts);\n\t\t\t\t\t/*if ($.isFunction($.fn.disableSelection)) {\n\t\t\t\t\t\t// The method disableSelection exists starting with jQuery UI 1.6,\n\t\t\t\t\t\t// but it's declared as deprecated since jQuery UI 1.9\n\t\t\t\t\t\t// see http://jqueryui.com/upgrade-guide/1.9/#deprecated-disableselection-and-enableselection\n\t\t\t\t\t\t// so we use disableSelection only if it exists\n\t\t\t\t\t\tvar jQueryUiVersion = $.ui != null && typeof $.ui.version === \"string\" ?\n\t\t\t\t\t\t\t\t$.ui.version.match(/(\\d+)\\.(\\d+).(\\d+)/) : [];\n\t\t\t\t\t\t// jQuery UI version is: jQueryUiVersion[1].jQueryUiVersion[2].jQueryUiVersion[3]\n\t\t\t\t\t\tif (jQueryUiVersion.length === 4 && jQueryUiVersion[1] === \"1\" &&\n\t\t\t\t\t\t\tjQueryUiVersion[2] > 5 && jQueryUiVersion[2] < 9) {\n\t\t\t\t\t\t\t// disable selection only for old jQuery UI\n\t\t\t\t\t\t\t$($t.tBodies[0]).children(\"tr.jqgrow\").disableSelection();\n\t\t\t\t\t\t}\n\t\t\t\t\t}*/\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgridDnD: function (opts) {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, j, cn;\n\t\t\t\tif (!$t.grid) { return; }\n\t\t\t\t// Currently we disable a treeGrid drag and drop\n\t\t\t\tif ($t.p.treeGrid) { return; }\n\t\t\t\tif (!$.fn.draggable || !$.fn.droppable) { return; }\n\t\t\t\tfunction updateDnD() {\n\t\t\t\t\tvar datadnd = $.data($t, \"dnd\");\n\t\t\t\t\t$(\"tr.jqgrow:not(.ui-draggable)\", $t).draggable($.isFunction(datadnd.drag) ? datadnd.drag.call($($t), datadnd) : datadnd.drag);\n\t\t\t\t}\n\t\t\t\tvar appender = \"<table id='jqgrid_dnd' class='ui-jqgrid-dnd'></table>\";\n\t\t\t\tif ($(\"#jqgrid_dnd\")[0] === undefined) {\n\t\t\t\t\t$(\"body\").append(appender);\n\t\t\t\t}\n\n\t\t\t\tif (typeof opts === \"string\" && opts === \"updateDnD\" && $t.p.jqgdnd === true) {\n\t\t\t\t\tupdateDnD();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\topts = $.extend({\n\t\t\t\t\tdrag: function (opts1) {\n\t\t\t\t\t\treturn $.extend({\n\t\t\t\t\t\t\tstart: function (ev, ui) {\n\t\t\t\t\t\t\t\tvar i, subgid;\n\t\t\t\t\t\t\t\t// if we are in subgrid mode try to collapse the node\n\t\t\t\t\t\t\t\tif ($t.p.subGrid) {\n\t\t\t\t\t\t\t\t\tsubgid = $(ui.helper).attr(\"id\");\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t$($t).jqGrid(\"collapseSubGridRow\", subgid);\n\t\t\t\t\t\t\t\t\t} catch (ignore) { }\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// hack\n\t\t\t\t\t\t\t\t// drag and drop does not insert tr in table, when the table has no rows\n\t\t\t\t\t\t\t\t// we try to insert new empty row on the target(s)\n\t\t\t\t\t\t\t\tfor (i = 0; i < $.data($t, \"dnd\").connectWith.length; i++) {\n\t\t\t\t\t\t\t\t\tif ($($.data($t, \"dnd\").connectWith[i]).jqGrid(\"getGridParam\", \"reccount\") === 0) {\n\t\t\t\t\t\t\t\t\t\t$($.data($t, \"dnd\").connectWith[i]).jqGrid(\"addRowData\", \"jqg_empty_row\", {});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tui.helper.addClass(\"ui-state-highlight\");\n\t\t\t\t\t\t\t\t$(\"td\", ui.helper).each(function (iCol) {\n\t\t\t\t\t\t\t\t\tthis.style.width = $t.grid.headers[iCol].width + \"px\";\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tif (opts1.onstart && $.isFunction(opts1.onstart)) { opts1.onstart.call($($t), ev, ui); }\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tstop: function (ev, ui) {\n\t\t\t\t\t\t\t\tvar i, ids;\n\t\t\t\t\t\t\t\tif (ui.helper.dropped && !opts1.dragcopy) {\n\t\t\t\t\t\t\t\t\tids = $(ui.helper).attr(\"id\");\n\t\t\t\t\t\t\t\t\tif (ids === undefined) { ids = $(this).attr(\"id\"); }\n\t\t\t\t\t\t\t\t\t$($t).jqGrid(\"delRowData\", ids);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// if we have a empty row inserted from start event try to delete it\n\t\t\t\t\t\t\t\tfor (i = 0; i < $.data($t, \"dnd\").connectWith.length; i++) {\n\t\t\t\t\t\t\t\t\t$($.data($t, \"dnd\").connectWith[i]).jqGrid(\"delRowData\", \"jqg_empty_row\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (opts1.onstop && $.isFunction(opts1.onstop)) { opts1.onstop.call($($t), ev, ui); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, opts1.drag_opts || {});\n\t\t\t\t\t},\n\t\t\t\t\tdrop: function (opts1) {\n\t\t\t\t\t\treturn $.extend({\n\t\t\t\t\t\t\taccept: function (d) {\n\t\t\t\t\t\t\t\tif (!$(d).hasClass(\"jqgrow\")) { return d; }\n\t\t\t\t\t\t\t\tvar tid = $(d).closest(\"table.ui-jqgrid-btable\");\n\t\t\t\t\t\t\t\tif (tid.length > 0 && $.data(tid[0], \"dnd\") !== undefined) {\n\t\t\t\t\t\t\t\t\tvar cn1 = $.data(tid[0], \"dnd\").connectWith;\n\t\t\t\t\t\t\t\t\treturn $.inArray(\"#\" + jqID(this.id), cn1) !== -1 ? true : false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tdrop: function (ev, ui) {\n\t\t\t\t\t\t\t\tif (!$(ui.draggable).hasClass(\"jqgrow\")) { return; }\n\t\t\t\t\t\t\t\tvar rowid = $(ui.draggable).attr(\"id\"),\n\t\t\t\t\t\t\t\t\t$srcGrid = ui.draggable.parent().parent(),\n\t\t\t\t\t\t\t\t\tgetdata = $srcGrid.jqGrid(\"getRowData\", rowid);\n\t\t\t\t\t\t\t\tif (!opts1.dropbyname) {\n\t\t\t\t\t\t\t\t\tvar tmpdata = {}, iSrc, iDest, srcName, destName,\n\t\t\t\t\t\t\t\t\t\tsrcColModel = $srcGrid.jqGrid(\"getGridParam\", \"colModel\"),\n\t\t\t\t\t\t\t\t\t\tdestColModel = $(\"#\" + jqID(this.id)).jqGrid(\"getGridParam\", \"colModel\");\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tfor (iSrc = 0, iDest = 0; iSrc < srcColModel.length && iDest < destColModel.length; iSrc++) {\n\t\t\t\t\t\t\t\t\t\t\tsrcName = srcColModel[iSrc].name;\n\t\t\t\t\t\t\t\t\t\t\tif (!(srcName === \"cb\" || srcName === \"rn\" || srcName === \"subgrid\")) {\n\t\t\t\t\t\t\t\t\t\t\t\t// src column found, which need be copied\n\t\t\t\t\t\t\t\t\t\t\t\tfor (; iDest < destColModel.length; iDest++) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tdestName = destColModel[iDest].name;\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (!(destName === \"cb\" || destName === \"rn\" || destName === \"subgrid\")) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttmpdata[destName] = getdata[srcName];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tiDest++;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tgetdata = tmpdata;\n\t\t\t\t\t\t\t\t\t} catch (ignore) { }\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tui.helper.dropped = true;\n\t\t\t\t\t\t\t\tif (opts1.beforedrop && $.isFunction(opts1.beforedrop)) {\n\t\t\t\t\t\t\t\t\t//parameters to this callback - event, element, data to be inserted, sender, reciever\n\t\t\t\t\t\t\t\t\t// should return object which will be inserted into the reciever\n\t\t\t\t\t\t\t\t\tvar datatoinsert = opts1.beforedrop.call(this, ev, ui, getdata, $(\"#\" + jqID($t.p.id)), $(this));\n\t\t\t\t\t\t\t\t\tif (datatoinsert !== undefined && datatoinsert !== null && typeof datatoinsert === \"object\") { getdata = datatoinsert; }\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (ui.helper.dropped) {\n\t\t\t\t\t\t\t\t\tvar grid;\n\t\t\t\t\t\t\t\t\tif (opts1.autoid) {\n\t\t\t\t\t\t\t\t\t\tif ($.isFunction(opts1.autoid)) {\n\t\t\t\t\t\t\t\t\t\t\tgrid = opts1.autoid.call(this, getdata, {\n\t\t\t\t\t\t\t\t\t\t\t\trowid: rowid,\n\t\t\t\t\t\t\t\t\t\t\t\tev: ev,\n\t\t\t\t\t\t\t\t\t\t\t\tui: ui\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tgrid = Math.ceil(Math.random() * 1000);\n\t\t\t\t\t\t\t\t\t\t\tgrid = opts1.autoidprefix + grid;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t// NULL is interpreted as undefined while null as object\n\t\t\t\t\t\t\t\t\t$(\"#\" + jqID(this.id)).jqGrid(\"addRowData\", grid, getdata, opts1.droppos);\n\t\t\t\t\t\t\t\t\tgetdata[$t.p.localReader.id] = grid;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (opts1.ondrop && $.isFunction(opts1.ondrop)) { opts1.ondrop.call(this, ev, ui, getdata); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, opts1.drop_opts || {});\n\t\t\t\t\t},\n\t\t\t\t\tonstart: null,\n\t\t\t\t\tonstop: null,\n\t\t\t\t\tbeforedrop: null,\n\t\t\t\t\tondrop: null,\n\t\t\t\t\tdrop_opts: {\n\t\t\t\t\t\t//activeClass: \"ui-state-active\",\n\t\t\t\t\t\t//hoverClass: \"ui-state-hover\"\n\t\t\t\t\t},\n\t\t\t\t\tdrag_opts: {\n\t\t\t\t\t\trevert: \"invalid\",\n\t\t\t\t\t\thelper: \"clone\",\n\t\t\t\t\t\tcursor: \"move\",\n\t\t\t\t\t\tappendTo: \"#jqgrid_dnd\",\n\t\t\t\t\t\tzIndex: 5000\n\t\t\t\t\t},\n\t\t\t\t\tdragcopy: false,\n\t\t\t\t\tdropbyname: false,\n\t\t\t\t\tdroppos: \"first\",\n\t\t\t\t\tautoid: true,\n\t\t\t\t\tautoidprefix: \"dnd_\"\n\t\t\t\t}, opts || {});\n\n\t\t\t\tif (!opts.connectWith) { return; }\n\t\t\t\topts.connectWith = opts.connectWith.split(\",\");\n\t\t\t\topts.connectWith = $.map(opts.connectWith, function (n) { return $.trim(n); });\n\t\t\t\t$.data($t, \"dnd\", opts);\n\n\t\t\t\tif ($t.p.reccount !== 0 && !$t.p.jqgdnd) {\n\t\t\t\t\tupdateDnD();\n\t\t\t\t}\n\t\t\t\t$t.p.jqgdnd = true;\n\t\t\t\tfor (j = 0; j < opts.connectWith.length; j++) {\n\t\t\t\t\tcn = opts.connectWith[j];\n\t\t\t\t\t$(cn).droppable($.isFunction(opts.drop) ? opts.drop.call($($t), opts) : opts.drop);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgridResize: function (opts) {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, grid = $t.grid, p = $t.p, bdivSelector = p.gView + \">.ui-jqgrid-bdiv\", onlyHorizontal = false, sel, gridHeight = p.height;\n\t\t\t\tif (!grid || !$.fn.resizable) { return; }\n\t\t\t\topts = $.extend({}, opts || {});\n\t\t\t\tif (opts.alsoResize) {\n\t\t\t\t\topts._alsoResize_ = opts.alsoResize;\n\t\t\t\t\tdelete opts.alsoResize;\n\t\t\t\t} else {\n\t\t\t\t\topts._alsoResize_ = false;\n\t\t\t\t}\n\t\t\t\tif (opts.stop && $.isFunction(opts.stop)) {\n\t\t\t\t\topts._stop_ = opts.stop;\n\t\t\t\t\tdelete opts.stop;\n\t\t\t\t} else {\n\t\t\t\t\topts._stop_ = false;\n\t\t\t\t}\n\t\t\t\topts.stop = function (ev, ui) {\n\t\t\t\t\t$($t).jqGrid(\"setGridWidth\", ui.size.width, opts.shrinkToFit);\n\t\t\t\t\t$(p.gView + \">.ui-jqgrid-titlebar\").css(\"width\", \"\");\n\t\t\t\t\tif (!onlyHorizontal) {\n\t\t\t\t\t\t$($t).jqGrid(\"setGridParam\", { height: $(bdivSelector).height() });\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(sel).each(function () {\n\t\t\t\t\t\t\t$(this).css(\"height\", \"\");\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (gridHeight === \"auto\" || gridHeight === \"100%\") {\n\t\t\t\t\t\t\t$(grid.bDiv).css(\"height\", gridHeight);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ($t.fixScrollOffsetAndhBoxPadding) {\n\t\t\t\t\t\t$t.fixScrollOffsetAndhBoxPadding();\n\t\t\t\t\t}\n\t\t\t\t\tif (opts._stop_) { opts._stop_.call($t, ev, ui); }\n\t\t\t\t};\n\t\t\t\tsel = bdivSelector;\n\t\t\t\tif ((gridHeight === \"auto\" || gridHeight === \"100%\") && opts.handles === undefined) {\n\t\t\t\t\topts.handles = \"e,w\";\n\t\t\t\t}\n\t\t\t\tif (opts.handles) {\n\t\t\t\t\t// test for \"e, w\"\n\t\t\t\t\tvar ar = $.map(String(opts.handles).split(\",\"), function (item) {\n\t\t\t\t\t\treturn $.trim(item);\n\t\t\t\t\t});\n\t\t\t\t\tif (ar.length === 2 && ((ar[0] === \"e\" && ar[1] === \"w\") || (ar[1] === \"e\" && ar[1] === \"w\"))) {\n\t\t\t\t\t\tsel = p.gView + \">div:not(.frozen-div)\";\n\t\t\t\t\t\tonlyHorizontal = true;\n\t\t\t\t\t\tif (p.pager) {\n\t\t\t\t\t\t\tsel += \",\" + p.pager;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (opts._alsoResize_) {\n\t\t\t\t\topts.alsoResize = sel + \",\" + opts._alsoResize_;\n\t\t\t\t} else {\n\t\t\t\t\topts.alsoResize = sel;\n\t\t\t\t}\n\t\t\t\tdelete opts._alsoResize_;\n\t\t\t\t$(p.gBox).resizable(opts);\n\t\t\t});\n\t\t}\n\t});\n\t// end module grid.jqueryui\n\n\t/**\n\t * jqGrid pivot functions\n\t * Copyright (c) 2008-2014, Tony Tomov, tony@trirand.com, http://trirand.com/blog/\n\t * Copyright (c) 2014-2018, Oleg Kiriljuk, oleg.kiriljuk@ok-soft-gmbh.com\n\t * The modul is created initially by Tony Tomov and it's full rewritten\n\t * for free jqGrid: https://github.com/free-jqgrid/jqGrid by Oleg Kiriljuk\n\t * Dual licensed under the MIT and GPL licenses:\n\t * http://www.opensource.org/licenses/mit-license.php\n\t * http://www.gnu.org/licenses/gpl-2.0.html\n\t */\n\t// begin module grid.pivot\n\tfunction Aggregation(aggregator, context, pivotOptions) {\n\t\tif (!(this instanceof Aggregation)) {\n\t\t\treturn new Aggregation(aggregator);\n\t\t}\n\t\t//this.result = undefined;\n\t\t//this.count = undefined;\n\t\tthis.aggregator = aggregator;\n\t\tthis.finilized = false;\n\t\tthis.context = context;\n\t\tthis.pivotOptions = pivotOptions;\n\t}\n\tAggregation.prototype.calc = function (v, fieldName, row, iRow, rows) {\n\t\tvar self = this;\n\t\tif (v !== undefined) {\n\t\t\tself.result = self.result || 0; // change undefined to 0\n\t\t\tv = parseFloat(v);\n\t\t\tswitch (self.aggregator) {\n\t\t\t\tcase \"sum\":\n\t\t\t\t\tself.result += v;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"count\":\n\t\t\t\t\tself.result++;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"avg\":\n\t\t\t\t\tif (self.finilized) {\n\t\t\t\t\t\tself.count = self.count || 0; // change undefined to 0\n\t\t\t\t\t\tself.result = (self.result * self.count + v) / (self.count + 1);\n\t\t\t\t\t\tself.count++;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.result += v;\n\t\t\t\t\t\tself.count = self.count || 0; // change undefined to 0\n\t\t\t\t\t\tself.count++;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"min\":\n\t\t\t\t\tself.result = Math.min(self.result, v);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"max\":\n\t\t\t\t\tself.result = Math.max(self.result, v);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tif ($.isFunction(self.aggregator)) {\n\t\t\t\t\t\tself.result = self.aggregator.call(self.context, {\n\t\t\t\t\t\t\tpreviousResult: self.result,\n\t\t\t\t\t\t\tvalue: v,\n\t\t\t\t\t\t\tfieldName: fieldName,\n\t\t\t\t\t\t\titem: row,\n\t\t\t\t\t\t\tiItem: iRow,\n\t\t\t\t\t\t\titems: rows\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t};\n\tAggregation.prototype.getResult = function (obj, propName, forceSaving) {\n\t\tvar self = this;\n\t\tif (self.result !== undefined || forceSaving) {\n\t\t\tif (forceSaving) {\n\t\t\t\tif (self.result !== undefined) {\n\t\t\t\t\tself.result = 0;\n\t\t\t\t\tself.count = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (self.result !== undefined && !self.finilized && self.aggregator === \"avg\") {\n\t\t\t\tself.result = self.result / self.count;\n\t\t\t\tself.finilized = true;\n\t\t\t}\n\t\t\tobj[propName] = self.result;\n\t\t}\n\t};\n\n\tfunction ArrayOfFieldsets(trimByCollect, caseSensitive, skipSort, dimension, fieldName) {\n\t\tvar iField, dimensionLength = dimension.length, dimensionItem, self = this,\n\t\t\tstringCompare = function (a, b) {\n\t\t\t\tvar a1 = a, b1 = b;\n\t\t\t\tif (a1 == null) { a1 = \"\"; } // we will place undefined and null values as the lowest TOGETHER with \"\"\n\t\t\t\tif (b1 == null) { b1 = \"\"; }\n\t\t\t\t// be sure that we have no other input data (Number, Date and so on)\n\t\t\t\ta1 = String(a1);\n\t\t\t\tb1 = String(b1);\n\t\t\t\tif (!this.caseSensitive) {\n\t\t\t\t\ta1 = a1.toUpperCase();\n\t\t\t\t\tb1 = b1.toUpperCase();\n\t\t\t\t}\n\t\t\t\tif (a1 === b1) {\n\t\t\t\t\tif (a === b) {//typeof a === typeof b) {\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t}\n\t\t\t\t\t// either a or b is undefined or null\n\t\t\t\t\tif (a === undefined) { return -1; } // make undefined less as all other\n\t\t\t\t\tif (b === undefined) { return 1; }\n\t\t\t\t\tif (a === null) { return -1; } // make null less as all other with the exception undefined\n\t\t\t\t\tif (b === null) { return 1; }\n\t\t\t\t}\n\t\t\t\tif (a1 < b1) {\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\t\t\t\treturn 1;\n\t\t\t},\n\t\t\tnumberCompare = function (a, b) {\n\t\t\t\ta = Number(a);\n\t\t\t\tb = Number(b);\n\t\t\t\tif (a === b) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t\tif (a < b) {\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\t\t\t\treturn 1;\n\t\t\t},\n\t\t\tintegerCompare = function (a, b) {\n\t\t\t\ta = Math.floor(Number(a));\n\t\t\t\tb = Math.floor(Number(b));\n\t\t\t\tif (a === b) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t\tif (a < b) {\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\t\t\t\treturn 1;\n\t\t\t};\n\n\t\tself.items = [];\n\t\tself.indexesOfSourceData = [];\n\t\tself.trimByCollect = trimByCollect;\n\t\tself.caseSensitive = caseSensitive;\n\t\tself.skipSort = skipSort;\n\t\tself.fieldLength = dimensionLength;\n\t\tself.fieldNames = new Array(dimensionLength);\n\t\tself.fieldSortDirection = new Array(dimensionLength);\n\t\tself.fieldCompare = new Array(dimensionLength); // 0 - number, 1 - integer, 2 - string, one can extend for Date and other\n\t\tfor (iField = 0; iField < dimensionLength; iField++) {\n\t\t\tdimensionItem = dimension[iField];\n\t\t\tself.fieldNames[iField] = dimensionItem[fieldName || \"dataName\"];\n\t\t\tswitch (dimensionItem.sorttype) {\n\t\t\t\tcase \"integer\":\n\t\t\t\tcase \"int\":\n\t\t\t\t\tself.fieldCompare[iField] = integerCompare;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"number\":\n\t\t\t\tcase \"currency\":\n\t\t\t\tcase \"float\":\n\t\t\t\t\tself.fieldCompare[iField] = numberCompare;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tself.fieldCompare[iField] = $.isFunction(dimensionItem.compare) ? dimensionItem.compare : stringCompare;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tself.fieldSortDirection[iField] = dimensionItem.sortorder === \"desc\" ? -1 : 1;\n\t\t}\n\t}\n\tArrayOfFieldsets.prototype.compareVectorsEx = function (vector1, vector2) {\n\t\tvar self = this, fieldLength = self.fieldLength, iField, compareResult;\n\t\tfor (iField = 0; iField < fieldLength; iField++) {\n\t\t\tcompareResult = self.fieldCompare[iField](vector1[iField], vector2[iField]);\n\t\t\tif (compareResult !== 0) {\n\t\t\t\treturn {\n\t\t\t\t\tindex: iField,\n\t\t\t\t\tresult: compareResult\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\tindex: -1,\n\t\t\tresult: 0\n\t\t};\n\t};\n\tArrayOfFieldsets.prototype.getIndexOfDifferences = function (vector1, vector2) {\n\t\tif (vector2 === null || vector1 === null) {\n\t\t\treturn 0;\n\t\t}\n\t\treturn this.compareVectorsEx(vector1, vector2).index;\n\t};\n\tArrayOfFieldsets.prototype.compareVectors = function (vector1, vector2) {\n\t\tvar compareRestlts = this.compareVectorsEx(vector1, vector2),\n\t\t\tsortDirection = compareRestlts.index >= 0 ? this.fieldSortDirection[compareRestlts.index] : 1;\n\t\treturn sortDirection > 0 ? compareRestlts.result : -compareRestlts.result;\n\t};\n\tArrayOfFieldsets.prototype.getItem = function (index) {\n\t\treturn this.items[index];\n\t};\n\tArrayOfFieldsets.prototype.getIndexLength = function () {\n\t\treturn this.items.length;\n\t};\n\tArrayOfFieldsets.prototype.getIndexesOfSourceData = function (index) {\n\t\treturn this.indexesOfSourceData[index];\n\t};\n\tArrayOfFieldsets.prototype.createDataIndex = function (data) {\n\t\tvar self = this, iRow, nRows = data.length, fieldLength = self.fieldLength, values, v,\n\t\t\tfieldNames = self.fieldNames, indexesOfSourceData = self.indexesOfSourceData, iField, compareResult, i, item,\n\t\t\titems = self.items, iMin, iMax;\n\n\t\tfor (iRow = 0; iRow < nRows; iRow++) {\n\t\t\titem = data[iRow];\n\n\t\t\t// build the set of fields with data of the current item\n\t\t\tvalues = new Array(fieldLength);\n\t\t\tfor (iField = 0; iField < fieldLength; iField++) {\n\t\t\t\tv = item[fieldNames[iField]];\n\t\t\t\tif (v !== undefined) {\n\t\t\t\t\tif (typeof v === \"string\" && self.trimByCollect) {\n\t\t\t\t\t\tv = $.trim(v);\n\t\t\t\t\t}\n\t\t\t\t\tvalues[iField] = v;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// compare values with items having index iMax and iMin\n\t\t\t// If we use skipSort:true option then we compare always\n\t\t\t// with iMax item only.\n\t\t\tiMin = 0;\n\t\t\tiMax = items.length - 1;\n\t\t\tif (iMax < 0) {\n\t\t\t\titems.push(values);\n\t\t\t\tindexesOfSourceData.push([iRow]);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tcompareResult = self.compareVectors(values, items[iMax]);\n\t\t\tif (compareResult === 0) {\n\t\t\t\tindexesOfSourceData[iMax].push(iRow);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (compareResult === 1 || self.skipSort) {\n\t\t\t\t// in case of the empty array this.items or if the values is larger as the\n\t\t\t\t// the max (last) element of this.items: append values to the array this.items\n\t\t\t\titems.push(values);\n\t\t\t\tindexesOfSourceData.push([iRow]);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tcompareResult = self.compareVectors(items[0], values);\n\t\t\tif (compareResult === 1) {\n\t\t\t\t// if the min (first) element values is larger as the values:\n\t\t\t\t// insert the values as the first element of the array this.items\n\t\t\t\titems.unshift(values);\n\t\t\t\tindexesOfSourceData.unshift([iRow]);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (compareResult === 0) {\n\t\t\t\tindexesOfSourceData[0].push(iRow);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t// we are sure that items[iMin] < values < items[iMax]\n\t\t\twhile (true) {\n\t\t\t\tif (iMax - iMin < 2) {\n\t\t\t\t\t// no identical items are found we need to insert the item at i index\n\t\t\t\t\titems.splice(iMax, 0, values); // insert after iMin\n\t\t\t\t\tindexesOfSourceData.splice(iMax, 0, [iRow]);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\ti = Math.floor((iMin + iMax) / 2); // | 0 means Math.floor, but it's faster sometimes.\n\t\t\t\tcompareResult = self.compareVectors(items[i], values);\n\t\t\t\tif (compareResult === 0) {\n\t\t\t\t\tindexesOfSourceData[i].push(iRow);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (compareResult === 1) {\n\t\t\t\t\tiMax = i;\n\t\t\t\t} else {\n\t\t\t\t\tiMin = i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tjgrid.extend({\n\t\tpivotSetup: function (data, options) {\n\t\t\t// data should come in json format\n\t\t\t// The function return the new colModel and the transformed data\n\t\t\t// again with group setup options which then will be passed to the grid\n\t\t\tvar self = this[0], isArray = $.isArray, summaries = {},\n\t\t\t\tgroupingView = {\n\t\t\t\t\tgroupField: [],\n\t\t\t\t\tgroupSummary: [],\n\t\t\t\t\tgroupSummaryPos: []\n\t\t\t\t},\n\t\t\t\tgroupOptions = {\n\t\t\t\t\tgrouping: true,\n\t\t\t\t\tgroupingView: groupingView\n\t\t\t\t},\n\t\t\t\to = $.extend({\n\t\t\t\t\ttotals: false, // replacement for rowTotals. totalText and totalHeader can be used additionally\n\t\t\t\t\tuseColSpanStyle: false,\n\t\t\t\t\ttrimByCollect: true,\n\t\t\t\t\tskipSortByX: false,\n\t\t\t\t\tskipSortByY: false,\n\t\t\t\t\tcaseSensitive: false,\n\t\t\t\t\tfooterTotals: false, // replacement colTotals. footerAggregator option and totalText properties of xDimension[i] can be used additionally\n\t\t\t\t\tgroupSummary: true,\n\t\t\t\t\tgroupSummaryPos: \"header\",\n\t\t\t\t\tfrozenStaticCols: false,\n\t\t\t\t\tdefaultFormatting: true,\n\t\t\t\t\tdata: data\n\t\t\t\t}, options || {}),\n\t\t\t\trow, i, k, nRows = data.length, x, y, cm, iRow, cmName, iXData, itemXData, pivotInfos, rows,\n\t\t\t\txDimension = o.xDimension, yDimension = o.yDimension, aggregates = o.aggregates, aggrContext,\n\t\t\t\tisRowTotal = o.totalText || o.totals || o.rowTotals || o.totalHeader, aggrTotal, gi,\n\t\t\t\txlen = isArray(xDimension) ? xDimension.length : 0,\n\t\t\t\tylen = isArray(yDimension) ? yDimension.length : 0,\n\t\t\t\taggrlen = isArray(aggregates) ? aggregates.length : 0,\n\t\t\t\theaderLevels = ylen - (aggrlen === 1 ? 1 : 0),\n\t\t\t\tcolHeaders = [], hasGroupTotal = [], colModel = [], outputItems = [],\n\t\t\t\tadditionalProperties = [\"pivotInfos\"],\n\t\t\t\taggrContextTotalRows = new Array(aggrlen), aggrContextGroupTotalRows = new Array(ylen),\n\t\t\t\txIndexLength, indexesOfDataWithTheSameXValues, iYData, itemYData, indexesOfDataWithTheSameYValues,\n\t\t\t\tiRows, agr, outputItem, previousY, groupHeaders, iRowsY, xIndex, yIndex, yIndexLength,\n\t\t\t\tindexDataBy = function (dimension, skipSort, compareVectors) {\n\t\t\t\t\tvar index = new ArrayOfFieldsets(o.trimByCollect, o.caseSensitive, skipSort, dimension);\n\t\t\t\t\tif ($.isFunction(compareVectors)) {\n\t\t\t\t\t\tindex.compareVectorsEx = compareVectors;\n\t\t\t\t\t}\n\t\t\t\t\tindex.createDataIndex(data);\n\t\t\t\t\treturn index;\n\t\t\t\t},\n\t\t\t\tbuildColModelItem = function (colType, agr1, iAggr, level, iyData) {\n\t\t\t\t\tvar label, name, cmItem;\n\t\t\t\t\tswitch (colType) {\n\t\t\t\t\t\tcase 1: // total group\n\t\t\t\t\t\t\tlabel = yDimension[level].totalText || \"{0} {1} {2}\";\n\t\t\t\t\t\t\tname = \"y\" + iyData + \"t\" + level;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 2: // grand total\n\t\t\t\t\t\t\tlabel = o.totalText || \"{0}\";\n\t\t\t\t\t\t\tname = \"t\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t//case 0: // standard column\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tlabel = aggrlen > 1 ?\n\t\t\t\t\t\t\t\tagr1.label || \"{0}\" :\n\t\t\t\t\t\t\t\t($.isFunction(yDimension[level].label) ?\n\t\t\t\t\t\t\t\t\tyDimension[level].label :\n\t\t\t\t\t\t\t\t\tyIndex.getItem(iyData)[level]);\n\t\t\t\t\t\t\tname = \"y\" + iyData;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcmItem = $.extend({}, agr1, {\n\t\t\t\t\t\tname: name + (aggrlen > 1 ? \"a\" + iAggr : \"\"),\n\t\t\t\t\t\tlabel: $.isFunction(label) ?\n\t\t\t\t\t\t\t(label.call(self, colType === 2 ?\n\t\t\t\t\t\t\t\t{ aggregate: agr1, iAggregate: iAggr, pivotOptions: o } :\n\t\t\t\t\t\t\t\t(colType === 1 ?\n\t\t\t\t\t\t\t\t\t{ yIndex: yIndex.getItem(iyData), aggregate: agr1, iAggregate: iAggr, yLevel: level, pivotOptions: o } :\n\t\t\t\t\t\t\t\t\t{ yData: yIndex.getItem(iyData)[level], yIndex: yIndex.getItem(iyData), yLevel: level, pivotOptions: o }))) :\n\t\t\t\t\t\t\t(jgrid.template.apply(self, colType === 2 ?\n\t\t\t\t\t\t\t\t[String(label), agr1.aggregator, agr1.member, iAggr] :\n\t\t\t\t\t\t\t\t[String(label), agr1.aggregator, agr1.member, yIndex.getItem(iyData)[level], level]))\n\t\t\t\t\t});\n\t\t\t\t\tdelete cmItem.member;\n\t\t\t\t\tdelete cmItem.aggregator;\n\t\t\t\t\treturn cmItem;\n\t\t\t\t},\n\t\t\t\taddColumnToColModel = function (colType, level, iyData) {\n\t\t\t\t\tvar iAggr, aggregate;\n\t\t\t\t\tfor (iAggr = 0; iAggr < aggrlen; iAggr++) {\n\t\t\t\t\t\taggregate = aggregates[iAggr];\n\t\t\t\t\t\tif (aggregate.template === undefined && aggregate.formatter === undefined && o.defaultFormatting) {\n\t\t\t\t\t\t\taggregate.template = aggregate.aggregator === \"count\" ? \"integer\" : \"number\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcolModel.push(buildColModelItem(colType, aggregate, iAggr, level, iyData));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\taddGroupTotalHeaders = function (iyData, level, previousY1) {\n\t\t\t\t\tvar iLevel, j, totalHeader, headerOnTop;\n\t\t\t\t\tfor (iLevel = headerLevels - 1; iLevel >= level; iLevel--) {\n\t\t\t\t\t\tif (hasGroupTotal[iLevel]) {\n\t\t\t\t\t\t\tfor (j = 0; j <= iLevel; j++) {\n\t\t\t\t\t\t\t\tgroupHeaders = colHeaders[j].groupHeaders;\n\t\t\t\t\t\t\t\tgroupHeaders[groupHeaders.length - 1].numberOfColumns += aggrlen;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ty = yDimension[iLevel];\n\t\t\t\t\t\t\ttotalHeader = y.totalHeader;\n\t\t\t\t\t\t\theaderOnTop = y.headerOnTop;\n\t\t\t\t\t\t\tfor (j = iLevel + 1; j <= headerLevels - 1; j++) {\n\t\t\t\t\t\t\t\tcolHeaders[j].groupHeaders.push({\n\t\t\t\t\t\t\t\t\ttitleText: ((headerOnTop && j === iLevel + 1) || (!headerOnTop && j === headerLevels - 1)) ?\n\t\t\t\t\t\t\t\t\t\t($.isFunction(totalHeader) ?\n\t\t\t\t\t\t\t\t\t\t\ttotalHeader.call(self, previousY1, iLevel) :\n\t\t\t\t\t\t\t\t\t\t\tjgrid.template.call(self, String(totalHeader || \"\"), previousY1[iLevel], iLevel)) :\n\t\t\t\t\t\t\t\t\t\t\"\",\n\t\t\t\t\t\t\t\t\tstartColumnName: \"y\" + (iyData - 1) + \"t\" + iLevel + (aggrlen === 1 ? \"\" : \"a0\"),\n\t\t\t\t\t\t\t\t\tnumberOfColumns: aggrlen\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcreateTotalAggregation = function (iAggr) {\n\t\t\t\t\tvar aggrGroup = new Aggregation(aggregates[iAggr].aggregator === \"count\" ? \"sum\" : aggregates[iAggr].aggregator, self, options);\n\t\t\t\t\taggrGroup.groupInfo = { iRows: [], rows: [], ys: [], iYs: [] };\n\t\t\t\t\treturn aggrGroup;\n\t\t\t\t},\n\t\t\t\tinitializeGroupTotals = function () {\n\t\t\t\t\tvar iLevel, iAggr;\n\t\t\t\t\tfor (iLevel = headerLevels - 1; iLevel >= 0; iLevel--) {\n\t\t\t\t\t\tif (hasGroupTotal[iLevel]) {\n\t\t\t\t\t\t\tif (aggrContextGroupTotalRows[iLevel] == null) {// first call\n\t\t\t\t\t\t\t\taggrContextGroupTotalRows[iLevel] = new Array(aggrlen);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfor (iAggr = 0; iAggr < aggrlen; iAggr++) {\n\t\t\t\t\t\t\t\taggrContextGroupTotalRows[iLevel][iAggr] = createTotalAggregation(iAggr);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfinalizeGroupTotals = function (iyData, itemYData1, previousY1, iAggr) {\n\t\t\t\t\tvar iLevel, level = yIndex.getIndexOfDifferences(itemYData1, previousY1), fieldName, aggrGroup;\n\n\t\t\t\t\tif (previousY1 !== null) {\n\t\t\t\t\t\t// test whether the group is finished and one need to get results\n\t\t\t\t\t\tlevel = Math.max(level, 0); // change -1 to 0 for the last call (itemYData === previousY)\n\t\t\t\t\t\tfor (iLevel = headerLevels - 1; iLevel >= level; iLevel--) {\n\t\t\t\t\t\t\tfieldName = \"y\" + iyData + \"t\" + iLevel + (aggrlen > 1 ? \"a\" + iAggr : \"\");\n\t\t\t\t\t\t\tif (hasGroupTotal[iLevel] && outputItem[fieldName] === undefined) {\n\t\t\t\t\t\t\t\taggrGroup = aggrContextGroupTotalRows[iLevel][iAggr];\n\t\t\t\t\t\t\t\taggrGroup.getResult(outputItem, fieldName);\n\t\t\t\t\t\t\t\toutputItem.pivotInfos[fieldName] = {\n\t\t\t\t\t\t\t\t\tcolType: 1,\n\t\t\t\t\t\t\t\t\tiA: iAggr,\n\t\t\t\t\t\t\t\t\ta: aggregates[iAggr],\n\t\t\t\t\t\t\t\t\tlevel: iLevel,\n\t\t\t\t\t\t\t\t\tiRows: aggrGroup.groupInfo.iRows,\n\t\t\t\t\t\t\t\t\trows: aggrGroup.groupInfo.rows,\n\t\t\t\t\t\t\t\t\tys: aggrGroup.groupInfo.ys,\n\t\t\t\t\t\t\t\t\tiYs: aggrGroup.groupInfo.iYs\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tif (itemYData1 !== previousY1) {\n\t\t\t\t\t\t\t\t\taggrContextGroupTotalRows[iLevel][iAggr] = createTotalAggregation(iAggr);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcalculateGroupTotals = function (itemYData1, previousY1, aggregate, iAggr, row1, iRow1, iyData) {\n\t\t\t\t\t// the method will be called at the first time with previousY === null in every output row\n\t\t\t\t\t// and finally with itemYData === previousY for getting results of all aggregation contexts\n\t\t\t\t\tvar iLevel, aggrGroup, groupInfo;\n\n\t\t\t\t\tif (itemYData1 !== previousY1) { // not the last call in the row\n\t\t\t\t\t\tfor (iLevel = headerLevels - 1; iLevel >= 0; iLevel--) {\n\t\t\t\t\t\t\tif (hasGroupTotal[iLevel]) {\n\t\t\t\t\t\t\t\taggrGroup = aggrContextGroupTotalRows[iLevel][iAggr];\n\t\t\t\t\t\t\t\taggrGroup.calc(row1[aggregate.member], aggregate.member, row1, iRow1, data);\n\t\t\t\t\t\t\t\tgroupInfo = aggrGroup.groupInfo;\n\t\t\t\t\t\t\t\tif ($.inArray(iyData, groupInfo.iYs) < 0) {\n\t\t\t\t\t\t\t\t\tgroupInfo.iYs.push(iyData);\n\t\t\t\t\t\t\t\t\tgroupInfo.ys.push(itemYData1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ($.inArray(iRow1, groupInfo.iRows) < 0) {\n\t\t\t\t\t\t\t\t\tgroupInfo.iRows.push(iRow1);\n\t\t\t\t\t\t\t\t\tgroupInfo.rows.push(row1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\tif (xlen === 0 || aggrlen === 0) {\n\t\t\t\tthrow (\"xDimension or aggregates options are not set!\");\n\t\t\t}\n\n\t\t\t// ****************************************************************\n\t\t\t// The step 1: scan input data and build the list of unique indexes\n\t\t\t// ****************************************************************\n\t\t\txIndex = indexDataBy(xDimension, o.skipSortByX, o.compareVectorsByX);\n\t\t\tyIndex = indexDataBy(yDimension, o.skipSortByY, o.compareVectorsByY);\n\n\t\t\t// save to be used probably later\n\t\t\toptions.xIndex = xIndex;\n\t\t\toptions.yIndex = yIndex;\n\n\t\t\t// *******************************************\n\t\t\t// The step 2: build colModel and groupOptions\n\t\t\t// *******************************************\n\t\t\t// fill the first xlen columns of colModel and fill the groupOptions\n\t\t\t// the names of the first columns will be \"x\"+i. The first column have the name \"x0\".\n\t\t\tfor (i = 0; i < xlen; i++) {\n\t\t\t\tx = xDimension[i];\n\t\t\t\tcm = {\n\t\t\t\t\tname: \"x\" + i,\n\t\t\t\t\tlabel: x.label != null ?\n\t\t\t\t\t\t($.isFunction(x.label) ? x.label.call(self, x, i, o) : x.label) :\n\t\t\t\t\t\tx.dataName,\n\t\t\t\t\tfrozen: o.frozenStaticCols\n\t\t\t\t};\n\t\t\t\tif (i < xlen - 1 && !x.skipGrouping && !x.additionalProperty) {\n\t\t\t\t\t// based on xDimension levels build grouping\n\t\t\t\t\tgroupingView.groupField.push(cm.name);\n\t\t\t\t\tgroupingView.groupSummary.push(o.groupSummary);\n\t\t\t\t\tgroupingView.groupSummaryPos.push(o.groupSummaryPos);\n\t\t\t\t}\n\t\t\t\tcm = $.extend(cm, x);\n\t\t\t\tdelete cm.dataName;\n\t\t\t\tdelete cm.footerText;\n\t\t\t\tif (!x.additionalProperty) {\n\t\t\t\t\tcolModel.push(cm);\n\t\t\t\t\tgroupOptions.sortname = cm.name;\n\t\t\t\t} else {\n\t\t\t\t\tadditionalProperties.push(cm.name);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (xlen < 2) {\n\t\t\t\tgroupOptions.grouping = false; // no grouping is needed\n\t\t\t}\n\t\t\tgroupingView.hideFirstGroupCol = true;\n\n\t\t\t// Fill hasGroupTotal and groupColumnsPerLevel arrays\n\t\t\t// The hasGroupTotal just shows whether one need create additional totals for every group.\n\t\t\tfor (i = 0; i < ylen; i++) {\n\t\t\t\ty = yDimension[i];\n\t\t\t\thasGroupTotal.push(y.totals || y.rowTotals || y.totalText || y.totalHeader ? true : false);\n\t\t\t}\n\n\t\t\t// fill other columns of colModel based on collected uniqueYData and aggregates options\n\t\t\t// the names of the first columns will be \"y\"+i in case of one aggregate and\n\t\t\t// \"y\"+i+\"a\"+k in case of multiple aggregates. The name of the first \"y\"-column is \"y0\" or \"y0a0\"\n\t\t\t// The next function build and insert item in colModel\n\t\t\t// colType: 0 - means standard column, 1 - total group, 2 - grand total\n\t\t\tpreviousY = yIndex.getItem(0);\n\t\t\taddColumnToColModel(0, ylen - 1, 0); // add standard column\n\t\t\tyIndexLength = yIndex.getIndexLength();\n\t\t\tfor (iYData = 1; iYData < yIndexLength; iYData++) {\n\t\t\t\titemYData = yIndex.getItem(iYData);\n\t\t\t\t/*\n\t\t\t\t * find where (on which level) the itemYData have the differences to\n\t\t\t\t * the previous y (previousY). If the level has (totals:true/rowTotals:true) in yDimension\n\t\t\t\t * then one should insert new total columns for all levels starting with the highest one\n\t\t\t\t * (yDimension[yDimension.length-1]) and till the current one.\n\t\t\t\t */\n\t\t\t\ti = yIndex.getIndexOfDifferences(itemYData, previousY);\n\t\t\t\tfor (k = headerLevels - 1; k >= i; k--) {\n\t\t\t\t\tif (hasGroupTotal[k]) {\n\t\t\t\t\t\taddColumnToColModel(1, k, iYData - 1); // add group total columns\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tpreviousY = itemYData;\n\t\t\t\taddColumnToColModel(0, ylen - 1, iYData); // add standard column\n\t\t\t}\n\t\t\t// finalize of all totals\n\t\t\tfor (i = headerLevels - 1; i >= 0; i--) {\n\t\t\t\tif (hasGroupTotal[i]) {\n\t\t\t\t\taddColumnToColModel(1, i, yIndexLength - 1); // add the last group total columns\n\t\t\t\t}\n\t\t\t}\n\t\t\t// add total columns calculated over all data of the row\n\t\t\tif (isRowTotal) {\n\t\t\t\taddColumnToColModel(2);\n\t\t\t}\n\n\t\t\t// ********************************\n\t\t\t// The step 3: build column headers\n\t\t\t// ********************************\n\t\t\t// initialize colHeaders\n\t\t\tpreviousY = yIndex.getItem(0);\n\t\t\tfor (k = 0; k < headerLevels; k++) {\n\t\t\t\tcolHeaders.push({\n\t\t\t\t\tuseColSpanStyle: o.useColSpanStyle,\n\t\t\t\t\tgroupHeaders: [{\n\t\t\t\t\t\ttitleText: ($.isFunction(yDimension[k].label) ?\n\t\t\t\t\t\t\tyDimension[k].label.call(self, { yData: previousY[k], yIndex: previousY, yLevel: k, pivotOptions: o }) :\n\t\t\t\t\t\t\tpreviousY[k]),\n\t\t\t\t\t\tstartColumnName: aggrlen === 1 ? \"y0\" : \"y0a0\",\n\t\t\t\t\t\tnumberOfColumns: aggrlen\n\t\t\t\t\t}]\n\t\t\t\t});\n\t\t\t}\n\t\t\tfor (iYData = 1; iYData < yIndexLength; iYData++) {\n\t\t\t\titemYData = yIndex.getItem(iYData);\n\t\t\t\ti = yIndex.getIndexOfDifferences(itemYData, previousY);\n\t\t\t\t// We placed QNIQUE data in uniqueYData array.\n\t\t\t\t// So we always find a difference on one level\n\n\t\t\t\taddGroupTotalHeaders(iYData, i, previousY);\n\t\t\t\t// add column headers which corresponds the main data\n\t\t\t\tfor (k = headerLevels - 1; k >= i; k--) {\n\t\t\t\t\tcolHeaders[k].groupHeaders.push({\n\t\t\t\t\t\ttitleText: ($.isFunction(yDimension[k].label) ?\n\t\t\t\t\t\t\tyDimension[k].label.call(self, { yData: itemYData[k], yIndex: itemYData, yLevel: k, pivotOptions: o }) :\n\t\t\t\t\t\t\titemYData[k]),\n\t\t\t\t\t\tstartColumnName: \"y\" + iYData + (aggrlen === 1 ? \"\" : \"a0\"),\n\t\t\t\t\t\tnumberOfColumns: aggrlen\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tfor (k = 0; k < i; k++) {\n\t\t\t\t\tgroupHeaders = colHeaders[k].groupHeaders;\n\t\t\t\t\tgroupHeaders[groupHeaders.length - 1].numberOfColumns += aggrlen;\n\t\t\t\t}\n\t\t\t\tpreviousY = itemYData;\n\t\t\t}\n\t\t\taddGroupTotalHeaders(yIndexLength, 0, previousY);\n\n\t\t\t// fill groupHeaders without taking in consideration group total columns\n\t\t\tif (isRowTotal) {\n\t\t\t\tfor (i = 0; i < headerLevels; i++) {\n\t\t\t\t\tcolHeaders[i].groupHeaders.push({\n\t\t\t\t\t\ttitleText: (i < headerLevels - 1 ? \"\" : o.totalHeader || \"\"),\n\t\t\t\t\t\tstartColumnName: \"t\" + (aggrlen === 1 ? \"\" : \"a0\"),\n\t\t\t\t\t\tnumberOfColumns: aggrlen\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// *****************************\n\t\t\t// The step 4: fill data of grid\n\t\t\t// *****************************\n\t\t\txIndexLength = xIndex.getIndexLength();\n\t\t\tfor (iXData = 0; iXData < xIndexLength; iXData++) {\n\t\t\t\titemXData = xIndex.getItem(iXData);\n\t\t\t\tpivotInfos = { iX: iXData, x: itemXData };\n\t\t\t\toutputItem = { pivotInfos: pivotInfos }; // item of output data\n\t\t\t\t// itemXData corresponds to the row of output data\n\t\t\t\tfor (i = 0; i < xlen; i++) {\n\t\t\t\t\t// fill first columns of data\n\t\t\t\t\toutputItem[\"x\" + i] = itemXData[i];\n\t\t\t\t}\n\n\t\t\t\tindexesOfDataWithTheSameXValues = xIndex.getIndexesOfSourceData(iXData);\n\t\t\t\t// The rows of input data with indexes from indexesOfDataWithTheSameXValues contains itemXData\n\t\t\t\t// Now we build columns of itemXData row\n\t\t\t\tif (isRowTotal) {\n\t\t\t\t\tfor (k = 0; k < aggrlen; k++) {\n\t\t\t\t\t\taggrContextTotalRows[k] = createTotalAggregation(k);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tpreviousY = null;\n\t\t\t\tinitializeGroupTotals();\n\t\t\t\tfor (iYData = 0; iYData < yIndexLength; iYData++) {\n\t\t\t\t\titemYData = yIndex.getItem(iYData);\n\t\t\t\t\tindexesOfDataWithTheSameYValues = yIndex.getIndexesOfSourceData(iYData);\n\t\t\t\t\t// we calculate aggregate in every itemYData\n\t\t\t\t\tfor (k = 0; k < aggrlen; k++) {\n\t\t\t\t\t\tif (previousY !== null) { // empty input data\n\t\t\t\t\t\t\tfinalizeGroupTotals(iYData - 1, itemYData, previousY, k);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tiRows = [];\n\t\t\t\t\t\tfor (i = 0; i < indexesOfDataWithTheSameYValues.length; i++) {\n\t\t\t\t\t\t\tiRowsY = indexesOfDataWithTheSameYValues[i];\n\t\t\t\t\t\t\tif ($.inArray(iRowsY, indexesOfDataWithTheSameXValues) >= 0) {\n\t\t\t\t\t\t\t\tiRows.push(iRowsY);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (iRows.length > 0) {\n\t\t\t\t\t\t\t// iRows array have all indexes of input data which have both itemXData and itemYData\n\t\t\t\t\t\t\t// We need calculate aggregate agr over all the items\n\t\t\t\t\t\t\trows = new Array(iRows.length);\n\t\t\t\t\t\t\tagr = aggregates[k];\n\t\t\t\t\t\t\taggrContext = new Aggregation(agr.aggregator, self, options);\n\t\t\t\t\t\t\tfor (iRow = 0; iRow < iRows.length; iRow++) {\n\t\t\t\t\t\t\t\ti = iRows[iRow];\n\t\t\t\t\t\t\t\trow = data[i];\n\t\t\t\t\t\t\t\trows[iRow] = row;\n\t\t\t\t\t\t\t\taggrContext.calc(row[agr.member], agr.member, row, i, data);\n\t\t\t\t\t\t\t\tif (isRowTotal) {\n\t\t\t\t\t\t\t\t\taggrTotal = aggrContextTotalRows[k];\n\t\t\t\t\t\t\t\t\taggrTotal.calc(row[agr.member], agr.member, row, i, data);\n\t\t\t\t\t\t\t\t\tgi = aggrTotal.groupInfo;\n\t\t\t\t\t\t\t\t\tif ($.inArray(i, gi.iYs) < 0) {\n\t\t\t\t\t\t\t\t\t\tgi.iYs.push(iYData);\n\t\t\t\t\t\t\t\t\t\tgi.ys.push(itemYData);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ($.inArray(i, gi.iRows) < 0) {\n\t\t\t\t\t\t\t\t\t\tgi.iRows.push(i);\n\t\t\t\t\t\t\t\t\t\tgi.rows.push(row);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcalculateGroupTotals(itemYData, previousY, agr, k, row, i, iYData);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcmName = \"y\" + iYData + (aggrlen === 1 ? \"\" : \"a\" + k);\n\t\t\t\t\t\t\taggrContext.getResult(outputItem, cmName);\n\t\t\t\t\t\t\tpivotInfos[cmName] = {\n\t\t\t\t\t\t\t\tcolType: 0, // standard row\n\t\t\t\t\t\t\t\tiY: iYData,\n\t\t\t\t\t\t\t\ty: itemYData,\n\t\t\t\t\t\t\t\tiA: k,\n\t\t\t\t\t\t\t\ta: agr,\n\t\t\t\t\t\t\t\tiRows: iRows,\n\t\t\t\t\t\t\t\trows: rows\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpreviousY = itemYData;\n\t\t\t\t}\n\t\t\t\tif (previousY !== null) { // if non-empty input data\n\t\t\t\t\tfor (k = 0; k < aggrlen; k++) {\n\t\t\t\t\t\tfinalizeGroupTotals(yIndexLength - 1, previousY, previousY, k);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (isRowTotal) {\n\t\t\t\t\tfor (k = 0; k < aggrlen; k++) {\n\t\t\t\t\t\tcmName = \"t\" + (aggrlen === 1 ? \"\" : \"a\" + k);\n\t\t\t\t\t\taggrTotal = aggrContextTotalRows[k];\n\t\t\t\t\t\taggrTotal.getResult(outputItem, cmName);\n\t\t\t\t\t\tgi = aggrTotal.groupInfo;\n\t\t\t\t\t\tpivotInfos[cmName] = {\n\t\t\t\t\t\t\tcolType: 2, // row total\n\t\t\t\t\t\t\tiA: k,\n\t\t\t\t\t\t\ta: aggregates[k],\n\t\t\t\t\t\t\tiRows: gi.iRows,\n\t\t\t\t\t\t\trows: gi.rows,\n\t\t\t\t\t\t\tiYs: gi.iYs,\n\t\t\t\t\t\t\tys: gi.ys\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\toutputItems.push(outputItem);\n\t\t\t}\n\n\t\t\t// *****************************\n\t\t\t// The step 5: fill total footer\n\t\t\t// *****************************\n\t\t\tif (o.footerTotals || o.colTotals) {\n\t\t\t\tnRows = outputItems.length;\n\t\t\t\tfor (i = 0; i < xlen; i++) {\n\t\t\t\t\tsummaries[\"x\" + i] = xDimension[i].footerText || \"\";\n\t\t\t\t}\n\t\t\t\tfor (i = xlen; i < colModel.length; i++) {\n\t\t\t\t\tcmName = colModel[i].name;\n\t\t\t\t\taggrContext = new Aggregation(o.footerAggregator || \"sum\", self, options);\n\t\t\t\t\tfor (iRow = 0; iRow < nRows; iRow++) {\n\t\t\t\t\t\toutputItem = outputItems[iRow];\n\t\t\t\t\t\taggrContext.calc(outputItem[cmName], cmName, outputItem, iRow, outputItems);\n\t\t\t\t\t}\n\t\t\t\t\taggrContext.getResult(summaries, cmName);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// return the final result.\n\t\t\toptions.colHeaders = colHeaders;\n\t\t\treturn {\n\t\t\t\tcolModel: colModel,\n\t\t\t\tadditionalProperties: additionalProperties,\n\t\t\t\toptions: options,\n\t\t\t\trows: outputItems,\n\t\t\t\tgroupOptions: groupOptions,\n\t\t\t\tgroupHeaders: colHeaders,\n\t\t\t\tsummary: summaries\n\t\t\t};\n\t\t},\n\t\tjqPivot: function (data, pivotOpt, gridOpt, ajaxOpt) {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, $self = $($t), $j = $.fn.jqGrid;\n\n\t\t\t\tfunction pivot() {\n\t\t\t\t\tvar pivotGrid = $j.pivotSetup.call($self, data, pivotOpt),\n\t\t\t\t\t\tgHead = pivotGrid.groupHeaders,\n\t\t\t\t\t\tassocArraySize = function (obj) {\n\t\t\t\t\t\t\t// http://stackoverflow.com/a/6700/11236\n\t\t\t\t\t\t\tvar size = 0, key;\n\t\t\t\t\t\t\tfor (key in obj) {\n\t\t\t\t\t\t\t\tif (obj.hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\t\tsize++;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn size;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfooterrow = assocArraySize(pivotGrid.summary) > 0 ? true : false,\n\t\t\t\t\t\tgroupingView = pivotGrid.groupOptions.groupingView,\n\t\t\t\t\t\tquery = jgrid.from.call($t, pivotGrid.rows), i;\n\t\t\t\t\tif (!pivotOpt.skipSortByX) {\n\t\t\t\t\t\tfor (i = 0; i < groupingView.groupField.length; i++) {\n\t\t\t\t\t\t\tquery.orderBy(groupingView.groupField[i],\n\t\t\t\t\t\t\t\tgridOpt != null && gridOpt.groupingView && gridOpt.groupingView.groupOrder != null && gridOpt.groupingView.groupOrder[i] === \"desc\" ? \"d\" : \"a\",\n\t\t\t\t\t\t\t\t\"text\",\n\t\t\t\t\t\t\t\t\"\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpivotOpt.data = data;\n\t\t\t\t\t$j.call($self, $.extend(true, {\n\t\t\t\t\t\tdatastr: $.extend(query.select(), footerrow ? { userdata: pivotGrid.summary } : {}),\n\t\t\t\t\t\tdatatype: \"jsonstring\",\n\t\t\t\t\t\tfooterrow: footerrow,\n\t\t\t\t\t\tuserDataOnFooter: footerrow,\n\t\t\t\t\t\tcolModel: pivotGrid.colModel,\n\t\t\t\t\t\tadditionalProperties: pivotGrid.additionalProperties,\n\t\t\t\t\t\tpivotOptions: pivotGrid.options,\n\t\t\t\t\t\tviewrecords: true,\n\t\t\t\t\t\tsortname: pivotOpt.xDimension[0].dataName // ?????\n\t\t\t\t\t}, pivotGrid.groupOptions, gridOpt || {}));\n\t\t\t\t\tif (gHead.length) {\n\t\t\t\t\t\tfor (i = 0; i < gHead.length; i++) {\n\t\t\t\t\t\t\t// Multiple calls of setGroupHeaders for one grid are wrong,\n\t\t\t\t\t\t\t// but there are produces good results in case of usage\n\t\t\t\t\t\t\t// useColSpanStyle: false option. The rowspan values\n\t\t\t\t\t\t\t// needed be increased in case of usage useColSpanStyle: true\n\t\t\t\t\t\t\tif (gHead[i] && gHead[i].groupHeaders.length) {\n\t\t\t\t\t\t\t\t$j.setGroupHeaders.call($self, gHead[i]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (pivotOpt.frozenStaticCols) {\n\t\t\t\t\t\t$j.setFrozenColumns.call($self);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (typeof data === \"string\") {\n\t\t\t\t\t$.ajax($.extend({\n\t\t\t\t\t\turl: data,\n\t\t\t\t\t\tdataType: \"json\",\n\t\t\t\t\t\tsuccess: function (data1) {\n\t\t\t\t\t\t\tdata = jgrid.getAccessor(data1, ajaxOpt && ajaxOpt.reader ? ajaxOpt.reader : \"rows\");\n\t\t\t\t\t\t\tpivot();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, ajaxOpt || {}));\n\t\t\t\t} else {\n\t\t\t\t\tpivot();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\t// end module grid.pivot\n\n\t/**\n\t * jqGrid extension for SubGrid Data\n\t * Copyright (c) 2008-2014, Tony Tomov, tony@trirand.com\n\t * Copyright (c) 2014-2018, Oleg Kiriljuk, oleg.kiriljuk@ok-soft-gmbh.com\n\t * Dual licensed under the MIT and GPL licenses:\n\t * http://www.opensource.org/licenses/mit-license.php\n\t * http://www.gnu.org/licenses/gpl-2.0.html\n\t **/\n\t\t// begin module grid.subgrid\n\tvar subGridFeedback = function () {\n\t\t\tvar args = $.makeArray(arguments);\n\t\t\targs[0] = \"subGrid\" + args[0].charAt(0).toUpperCase() + args[0].substring(1);\n\t\t\targs.unshift(\"\");\n\t\t\targs.unshift(\"\");\n\t\t\targs.unshift(this.p);\n\t\t\treturn jgrid.feedback.apply(this, args);\n\t\t},\n\t\tcollapseOrExpand = function (rowid, className) {\n\t\t\treturn this.each(function () {\n\t\t\t\tif (this.grid && rowid != null && this.p.subGrid === true) {\n\t\t\t\t\tvar tr = $(this).jqGrid(\"getInd\", rowid, true);\n\t\t\t\t\t$(tr).find(\">td.\" + className).trigger(\"click\");\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\tjgrid.extend({\n\t\tsetSubGrid: function () {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar p = this.p, $self = $(this), cm = p.subGridModel[0], i,\n\t\t\t\t\tgetIcon = function (path) {\n\t\t\t\t\t\treturn $self.jqGrid(\"getIconRes\", path);\n\t\t\t\t\t};\n\t\t\t\tp.subGridOptions = $.extend({\n\t\t\t\t\tcommonIconClass: getIcon(\"subgrid.common\"),\n\t\t\t\t\tplusicon: getIcon(\"subgrid.plus\"),\n\t\t\t\t\tminusicon: getIcon(\"subgrid.minus\"),\n\t\t\t\t\topenicon: (p.direction === \"rtl\" ? getIcon(\"subgrid.openRtl\") : getIcon(\"subgrid.openLtr\")),\n\t\t\t\t\texpandOnLoad: false,\n\t\t\t\t\tdelayOnLoad: 50,\n\t\t\t\t\tselectOnExpand: false,\n\t\t\t\t\tselectOnCollapse: false,\n\t\t\t\t\treloadOnExpand: true\n\t\t\t\t}, p.subGridOptions || {});\n\t\t\t\tp.colNames.unshift(\"\");\n\t\t\t\tp.colModel.unshift({\n\t\t\t\t\tname: \"subgrid\",\n\t\t\t\t\twidth: jgrid.cell_width ? p.subGridWidth + p.cellLayout : p.subGridWidth,\n\t\t\t\t\tlabelClasses: \"jqgh_subgrid\",\n\t\t\t\t\tsortable: false,\n\t\t\t\t\tresizable: false,\n\t\t\t\t\thidedlg: true,\n\t\t\t\t\tsearch: false,\n\t\t\t\t\tfixed: true,\n\t\t\t\t\tfrozen: true\n\t\t\t\t});\n\t\t\t\tif (cm) {\n\t\t\t\t\tcm.align = $.extend([], cm.align || []);\n\t\t\t\t\tfor (i = 0; i < cm.name.length; i++) {\n\t\t\t\t\t\tcm.align[i] = cm.align[i] || \"left\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\taddSubGridCell: function (pos, iRow, rowid, item) {\n\t\t\tvar self = this[0], subGridOptions = self.p.subGridOptions,\n\t\t\t\thasSubgrid = $.isFunction(subGridOptions.hasSubgrid) ?\n\t\t\t\t\tsubGridOptions.hasSubgrid.call(self, { rowid: rowid, iRow: iRow, iCol: pos, data: item }) :\n\t\t\t\t\ttrue;\n\t\t\treturn self.p == null ? \"\" :\n\t\t\t\t\"<td role='gridcell' class='\" + base.getGuiStyles.call(this, \"subgrid.tdStart\", hasSubgrid ? \"ui-sgcollapsed sgcollapsed\" : \"\") + \"' \" +\n\t\t\t\tself.formatCol(pos, iRow) + \">\" +\n\t\t\t\t(hasSubgrid ? \"<div class='\" + base.getGuiStyles.call(this, \"subgrid.buttonDiv\", \"sgbutton-div\") +\n\t\t\t\t\t\"'><a role='button' class='\" + base.getGuiStyles.call(this, \"subgrid.button\", \"sgbutton\") +\n\t\t\t\t\t\"'><span class='\" + jgrid.mergeCssClasses(subGridOptions.commonIconClass, subGridOptions.plusicon) + \"'></span></a></div>\" : \"&nbsp;\") +\n\t\t\t\t\"</td>\";\n\t\t},\n\t\taddSubGrid: function (pos, sind) {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar ts = this, p = ts.p, cm = p.subGridModel[0],\n\t\t\t\t\tgetSubgridStyle = function (name, calsses) {\n\t\t\t\t\t\treturn base.getGuiStyles.call(ts, \"subgrid.\" + name, calsses || \"\");\n\t\t\t\t\t},\n\t\t\t\t\tthSubgridClasses = getSubgridStyle(\"thSubgrid\", \"ui-th-subgrid ui-th-column ui-th-\" + p.direction),\n\t\t\t\t\trowSubTableClasses = getSubgridStyle(\"rowSubTable\", \"ui-subtblcell\"),\n\t\t\t\t\trowClasses = getSubgridStyle(\"row\", \"ui-subgrid ui-row-\" + p.direction),\n\t\t\t\t\ttdWithIconClasses = getSubgridStyle(\"tdWithIcon\", \"subgrid-cell\"),\n\t\t\t\t\ttdDataClasses = getSubgridStyle(\"tdData\", \"subgrid-data\"),\n\t\t\t\t\tsubGridCell = function ($tr, cell, pos1) {\n\t\t\t\t\t\tvar align = cm.align[pos1],\n\t\t\t\t\t\t\t$td = $(\"<td\" +\n\t\t\t\t\t\t\t\t(align ? \" style='text-align:\" + align + \";'\" : \"\") +\n\t\t\t\t\t\t\t\t\"></td>\").html(cell);\n\t\t\t\t\t\t$tr.append($td);\n\t\t\t\t\t},\n\t\t\t\t\tfillXmlBody = function (data, $tbody) {\n\t\t\t\t\t\tvar sgmap = p.xmlReader.subgrid;\n\t\t\t\t\t\t$(sgmap.root + \" \" + sgmap.row, data).each(function () {\n\t\t\t\t\t\t\tvar f, i, $tr = $(\"<tr class='\" + rowSubTableClasses + \"'></tr>\");\n\t\t\t\t\t\t\tif (sgmap.repeatitems === true) {\n\t\t\t\t\t\t\t\t$(sgmap.cell, this).each(function (j) {\n\t\t\t\t\t\t\t\t\tsubGridCell($tr, $(this).text() || \"&#160;\", j);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tf = cm.mapping || cm.name;\n\t\t\t\t\t\t\t\tif (f) {\n\t\t\t\t\t\t\t\t\tfor (i = 0; i < f.length; i++) {\n\t\t\t\t\t\t\t\t\t\tsubGridCell($tr, jgrid.getXmlData(this, f[i]) || \"&#160;\", i);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t$tbody.append($tr);\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tfillJsonBody = function (data, $tbody) {\n\t\t\t\t\t\tvar $tr, i, j, f, cur, sgmap = p.jsonReader.subgrid,\n\t\t\t\t\t\t\tresult = jgrid.getAccessor(data, sgmap.root);\n\t\t\t\t\t\tif (result != null) {\n\t\t\t\t\t\t\tfor (i = 0; i < result.length; i++) {\n\t\t\t\t\t\t\t\tcur = result[i];\n\t\t\t\t\t\t\t\t$tr = $(\"<tr class='\" + rowSubTableClasses + \"'></tr>\");\n\t\t\t\t\t\t\t\tif (sgmap.repeatitems === true) {\n\t\t\t\t\t\t\t\t\tif (sgmap.cell) {\n\t\t\t\t\t\t\t\t\t\tcur = cur[sgmap.cell];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tfor (j = 0; j < cur.length; j++) {\n\t\t\t\t\t\t\t\t\t\tsubGridCell($tr, cur[j] || \"&#160;\", j);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tf = cm.mapping || cm.name;\n\t\t\t\t\t\t\t\t\tif (f.length) {\n\t\t\t\t\t\t\t\t\t\tfor (j = 0; j < f.length; j++) {\n\t\t\t\t\t\t\t\t\t\t\tsubGridCell($tr, jgrid.getAccessor(cur, f[j]) || \"&#160;\", j);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t$tbody.append($tr);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tsubGridXmlOrJson = function (sjxml, sbid, fullBody) {\n\t\t\t\t\t\tvar $th, i,\tsubgridTableClasses = getSubgridStyle(\"legacyTable\", \"ui-jqgrid-legacy-subgrid\" +\n\t\t\t\t\t\t\t\t(p.altRows === true && $(ts).jqGrid(\"isBootstrapGuiStyle\") ? \" table-striped\" : \"\")),\n\t\t\t\t\t\t\t$table = $(\"<table\" +\n\t\t\t\t\t\t\t\t(subgridTableClasses ? \" style='width:1px' role='presentation' class='\" + subgridTableClasses + \"'\" : \"\") +\n\t\t\t\t\t\t\t\t\"><thead></thead><tbody></tbody></table>\"),\n\t\t\t\t\t\t\t$tr = $(\"<tr></tr>\");\n\n\t\t\t\t\t\tts.grid.endReq.call(ts);\n\n\t\t\t\t\t\tfor (i = 0; i < cm.name.length; i++) {\n\t\t\t\t\t\t\t$th = $(\"<th class='\" + thSubgridClasses + \"'></th>\")\n\t\t\t\t\t\t\t\t.html(cm.name[i])\n\t\t\t\t\t\t\t\t.width(cm.width[i]);\n\t\t\t\t\t\t\t$tr.append($th);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$tr.appendTo($table[0].tHead);\n\t\t\t\t\t\tfullBody(sjxml, $($table[0].tBodies[0]));\n\t\t\t\t\t\t$(\"#\" + jqID(p.id + \"_\" + sbid)).append($table);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t},\n\t\t\t\t\tpopulatesubgrid = function (rd) {\n\t\t\t\t\t\tvar sid = $(rd).attr(\"id\"), dp = { nd_: (new Date().getTime()) }, iCol, j;\n\t\t\t\t\t\tdp[p.prmNames.subgridid] = sid;\n\t\t\t\t\t\tif (!cm) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (cm.params) {\n\t\t\t\t\t\t\tfor (j = 0; j < cm.params.length; j++) {\n\t\t\t\t\t\t\t\tiCol = p.iColByName[cm.params[j]];\n\t\t\t\t\t\t\t\tif (iCol !== undefined) {\n\t\t\t\t\t\t\t\t\tdp[p.colModel[iCol].name] = $(rd.cells[iCol]).text().replace(/\\&#160\\;/ig, \"\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!ts.grid.hDiv.loading) {\n\t\t\t\t\t\t\tts.grid.beginReq.call(ts);\n\t\t\t\t\t\t\tif (!p.subgridtype) {\n\t\t\t\t\t\t\t\tp.subgridtype = p.datatype;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ($.isFunction(p.subgridtype)) {\n\t\t\t\t\t\t\t\tp.subgridtype.call(ts, dp);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tp.subgridtype = p.subgridtype.toLowerCase();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tswitch (p.subgridtype) {\n\t\t\t\t\t\t\t\tcase \"xml\":\n\t\t\t\t\t\t\t\tcase \"json\":\n\t\t\t\t\t\t\t\t\t$.ajax($.extend({\n\t\t\t\t\t\t\t\t\t\ttype: p.mtype,\n\t\t\t\t\t\t\t\t\t\turl: $.isFunction(p.subGridUrl) ? p.subGridUrl.call(ts, dp) : p.subGridUrl,\n\t\t\t\t\t\t\t\t\t\tdataType: p.subgridtype,\n\t\t\t\t\t\t\t\t\t\tcontext: sid,\n\t\t\t\t\t\t\t\t\t\tdata: jgrid.serializeFeedback.call(ts, p.serializeSubGridData, \"jqGridSerializeSubGridData\", dp),\n\t\t\t\t\t\t\t\t\t\tsuccess: function (data) {\n\t\t\t\t\t\t\t\t\t\t\tsubGridXmlOrJson(\n\t\t\t\t\t\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\t\t\tp.subgridtype === \"xml\" ? fillXmlBody : fillJsonBody\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\terror: function (jqXHR, textStatus, errorThrown) {\n\t\t\t\t\t\t\t\t\t\t\tvar loadError = p.loadSubgridError === undefined ?\n\t\t\t\t\t\t\t\t\t\t\t\tp.loadError :\n\t\t\t\t\t\t\t\t\t\t\t\tp.loadSubgridError;\n\n\t\t\t\t\t\t\t\t\t\t\tts.grid.endReq.call(ts);\n\t\t\t\t\t\t\t\t\t\t\tif ($.isFunction(loadError)) {\n\t\t\t\t\t\t\t\t\t\t\t\tloadError.call(ts, jqXHR, textStatus, errorThrown);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t// for compatibility only\n\t\t\t\t\t\t\t\t\t\t\tif (!p.subGridOptions.noEmptySubgridOnError) {\n\t\t\t\t\t\t\t\t\t\t\t\tsubGridXmlOrJson(\n\t\t\t\t\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\t\t\t\tp.subgridtype === \"xml\" ? fillXmlBody : fillJsonBody\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}, jgrid.ajaxOptions, p.ajaxSubgridOptions || {}));\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t},\n\t\t\t\t\tonClick = function () {\n\t\t\t\t\t\tvar tr = $(this).parent(\"tr\")[0], r = tr.nextSibling, rowid = tr.id, subgridDivId = p.id + \"_\" + rowid, atd,\n\t\t\t\t\t\t\ticonClass = function (iconName) {\n\t\t\t\t\t\t\t\treturn jgrid.mergeCssClasses(p.subGridOptions.commonIconClass, p.subGridOptions[iconName]);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tnhc = 1;\n\t\t\t\t\t\t$.each(p.colModel, function () {\n\t\t\t\t\t\t\tif (this.hidden === true || this.name === \"rn\" || this.name === \"cb\") {\n\t\t\t\t\t\t\t\t// ??? probably one should don't calculate hidden columns of subgrid?\n\t\t\t\t\t\t\t\t// (remove this.hidden === true part from the if) ???\n\t\t\t\t\t\t\t\tnhc++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif ($(this).hasClass(\"sgcollapsed\")) {\n\t\t\t\t\t\t\tif (p.subGridOptions.reloadOnExpand === true || (p.subGridOptions.reloadOnExpand === false && !$(r).hasClass(\"ui-subgrid\"))) {\n\t\t\t\t\t\t\t\tatd = pos >= 1 ? \"<td colspan='\" + pos + \"'>&#160;</td>\" : \"\";\n\t\t\t\t\t\t\t\tif (!subGridFeedback.call(ts, \"beforeExpand\", subgridDivId, rowid)) {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t$(tr).after(\"<tr role='row' class='\" + rowClasses + \"'>\" + atd + \"<td class='\" + tdWithIconClasses +\n\t\t\t\t\t\t\t\t\t\"'><span class='\" + iconClass(\"openicon\") + \"'></span></td><td colspan='\" + parseInt(p.colNames.length - nhc, 10) +\n\t\t\t\t\t\t\t\t\t\"' class='\" + tdDataClasses + \"'><div id='\" + subgridDivId + \"' class='tablediv'></div></td></tr>\");\n\t\t\t\t\t\t\t\t$(ts).triggerHandler(\"jqGridSubGridRowExpanded\", [subgridDivId, rowid]);\n\t\t\t\t\t\t\t\tif ($.isFunction(p.subGridRowExpanded)) {\n\t\t\t\t\t\t\t\t\tp.subGridRowExpanded.call(ts, subgridDivId, rowid);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tpopulatesubgrid(tr);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$(r).show();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t$(this).html(\n\t\t\t\t\t\t\t\t\"<div class='\" + base.getGuiStyles.call(ts, \"subgrid.buttonDiv\", \"sgbutton-div\") +\n\t\t\t\t\t\t\t\t\"'><a role='button' class='\" + base.getGuiStyles.call(ts, \"subgrid.button\", \"sgbutton\") +\n\t\t\t\t\t\t\t\t\"'><span class='\" + iconClass(\"minusicon\") + \"'></span></a></div>\"\n\t\t\t\t\t\t\t).removeClass(\"sgcollapsed\").addClass(\"sgexpanded\");\n\t\t\t\t\t\t\tif (p.subGridOptions.selectOnExpand) {\n\t\t\t\t\t\t\t\t$(ts).jqGrid(\"setSelection\", rowid);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if ($(this).hasClass(\"sgexpanded\")) {\n\t\t\t\t\t\t\tif (!subGridFeedback.call(ts, \"beforeCollapse\", subgridDivId, rowid)) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (p.subGridOptions.reloadOnExpand === true) {\n\t\t\t\t\t\t\t\t$(r).remove(\".ui-subgrid\");\n\t\t\t\t\t\t\t} else if ($(r).hasClass(\"ui-subgrid\")) { // incase of dynamic deleting\n\t\t\t\t\t\t\t\t$(r).hide();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t$(this).html(\n\t\t\t\t\t\t\t\t\"<div class='\" + base.getGuiStyles.call(ts, \"subgrid.buttonDiv\", \"sgbutton-div\") +\n\t\t\t\t\t\t\t\t\"'><a role='button' class='\" + base.getGuiStyles.call(ts, \"subgrid.button\", \"sgbutton\") +\n\t\t\t\t\t\t\t\t\"'><span class='\" + iconClass(\"plusicon\") + \"'></span></a></div>\"\n\t\t\t\t\t\t\t).removeClass(\"sgexpanded\").addClass(\"sgcollapsed\");\n\t\t\t\t\t\t\tif (p.subGridOptions.selectOnCollapse) {\n\t\t\t\t\t\t\t\t$(ts).jqGrid(\"setSelection\", rowid);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t},\n\t\t\t\t\tlen,\n\t\t\t\t\ttr1,\n\t\t\t\t\t$td1,\n\t\t\t\t\tiRow = 1;\n\n\t\t\t\tif (!ts.grid) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlen = ts.rows.length;\n\t\t\t\tif (sind !== undefined && sind > 0) {\n\t\t\t\t\tiRow = sind;\n\t\t\t\t\tlen = sind + 1;\n\t\t\t\t}\n\t\t\t\twhile (iRow < len) {\n\t\t\t\t\ttr1 = ts.rows[iRow];\n\t\t\t\t\tif ($(tr1).hasClass(\"jqgrow\")) {\n\t\t\t\t\t\t$td1 = $(tr1.cells[pos]);\n\t\t\t\t\t\tif ($td1.hasClass(\"ui-sgcollapsed\")) {\n\t\t\t\t\t\t\tif (p.scroll) {\n\t\t\t\t\t\t\t\t$td1.off(\"click\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t$td1.on(\"click\", onClick);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tiRow++;\n\t\t\t\t}\n\t\t\t\tif (p.subGridOptions.expandOnLoad === true) {\n\t\t\t\t\tvar iColSubgrid = p.iColByName.subgrid;\n\t\t\t\t\t$(ts.rows).filter(\".jqgrow\").each(function (index, row) {\n\t\t\t\t\t\t$(row.cells[iColSubgrid])\n\t\t\t\t\t\t\t.filter(\".sgcollapsed\")\n\t\t\t\t\t\t\t.children(\".sgbutton-div\")\n\t\t\t\t\t\t\t.children(\".sgbutton\")\n\t\t\t\t\t\t\t.click();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tts.subGridXml = function (xml, sid) {\n\t\t\t\t\treturn subGridXmlOrJson(xml, sid, fillXmlBody);\n\t\t\t\t};\n\t\t\t\tts.subGridJson = function (json, sid) {\n\t\t\t\t\treturn subGridXmlOrJson(json, sid, fillJsonBody);\n\t\t\t\t};\n\t\t\t});\n\t\t},\n\t\texpandSubGridRow: function (rowid) {\n\t\t\treturn collapseOrExpand.call(this, rowid, \"sgcollapsed\");\n\t\t},\n\t\tcollapseSubGridRow: function (rowid) {\n\t\t\treturn collapseOrExpand.call(this, rowid, \"sgexpanded\");\n\t\t},\n\t\ttoggleSubGridRow: function (rowid) {\n\t\t\treturn collapseOrExpand.call(this, rowid, \"ui-sgcollapsed\");\n\t\t}\n\t});\n\t// end module grid.subgrid\n\n\t/**\n\t Transform a table to a jqGrid.\n\t Peter Romianowski <peter.romianowski@optivo.de>\n\t If the first column of the table contains checkboxes or\n\t radiobuttons then the jqGrid is made selectable.\n\t */\n\t// begin module grid.tbltogrid\n\twindow.tableToGrid = function (selector, options) {\n\t\t$(selector).each(function () {\n\t\t\tvar self = this, $self = $(this), w, inputCheckbox, inputRadio, selectMultiple, selectSingle, selectable, a, id,\n\t\t\t\tcolModel = [], colNames = [], data = [], rowIds = [], rowChecked = [];\n\t\t\tif (self.grid) {\n\t\t\t\treturn;//Adedd by Tony Tomov\n\t\t\t}\n\t\t\t// This is a small \"hack\" to make the width of the jqGrid 100%\n\t\t\t$self.width(\"99%\");\n\t\t\tw = $self.width();\n\n\t\t\t// Text whether we have single or multi select\n\t\t\tinputCheckbox = $(\"tr td:first-child input[type=checkbox]:first\", $self);\n\t\t\tinputRadio = $(\"tr td:first-child input[type=radio]:first\", $self);\n\t\t\tselectMultiple = inputCheckbox.length > 0;\n\t\t\tselectSingle = !selectMultiple && inputRadio.length > 0;\n\t\t\tselectable = selectMultiple || selectSingle;\n\t\t\t//var inputName = inputCheckbox.attr(\"name\") || inputRadio.attr(\"name\");\n\n\t\t\t// Build up the columnModel and the data\n\t\t\t$(\"th\", $self).each(function () {\n\t\t\t\tif (colModel.length === 0 && selectable) {\n\t\t\t\t\tcolModel.push({\n\t\t\t\t\t\tname: \"__selection__\",\n\t\t\t\t\t\tindex: \"__selection__\",\n\t\t\t\t\t\twidth: 0,\n\t\t\t\t\t\thidden: true\n\t\t\t\t\t});\n\t\t\t\t\tcolNames.push(\"__selection__\");\n\t\t\t\t} else {\n\t\t\t\t\tcolModel.push({\n\t\t\t\t\t\tname: $(this).attr(\"id\") || $.trim($.jgrid.stripHtml($(this).html())).split(\" \").join(\"_\"),\n\t\t\t\t\t\tindex: $(this).attr(\"id\") || $.trim($.jgrid.stripHtml($(this).html())).split(\" \").join(\"_\"),\n\t\t\t\t\t\twidth: $(this).width() || 150\n\t\t\t\t\t});\n\t\t\t\t\tcolNames.push($(this).html());\n\t\t\t\t}\n\t\t\t});\n\t\t\t$(\"tbody > tr\", $self).each(function () {\n\t\t\t\tvar row = {}, rowPos = 0;\n\t\t\t\t$(\"td\", $(this)).each(function () {\n\t\t\t\t\tif (rowPos === 0 && selectable) {\n\t\t\t\t\t\tvar input = $(\"input\", $(this)), rowId = input.attr(\"value\");\n\t\t\t\t\t\trowIds.push(rowId || data.length);\n\t\t\t\t\t\tif (input.is(\":checked\")) {\n\t\t\t\t\t\t\trowChecked.push(rowId);\n\t\t\t\t\t\t}\n\t\t\t\t\t\trow[colModel[rowPos].name] = input.attr(\"value\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\trow[colModel[rowPos].name] = $(this).html();\n\t\t\t\t\t}\n\t\t\t\t\trowPos++;\n\t\t\t\t});\n\t\t\t\tif (rowPos > 0) {\n\t\t\t\t\tdata.push(row);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Clear the original HTML table\n\t\t\t$self.empty();\n\n\t\t\t$self.jqGrid($.extend({\n\t\t\t\tdatatype: \"local\",\n\t\t\t\twidth: w,\n\t\t\t\tcolNames: colNames,\n\t\t\t\tcolModel: colModel,\n\t\t\t\tmultiselect: selectMultiple\n\t\t\t\t//inputName: inputName,\n\t\t\t\t//inputValueCol: imputName != null ? \"__selection__\" : null\n\t\t\t}, options || {}));\n\n\t\t\t// Add data\n\t\t\tfor (a = 0; a < data.length; a++) {\n\t\t\t\tid = null;\n\t\t\t\tif (rowIds.length > 0) {\n\t\t\t\t\tid = rowIds[a];\n\t\t\t\t\tif (id && id.replace) {\n\t\t\t\t\t\t// We have to do this since the value of a checkbox\n\t\t\t\t\t\t// or radio button can be anything\n\t\t\t\t\t\tid = encodeURIComponent(id).replace(/[.\\-%]/g, \"_\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (id === null) {\n\t\t\t\t\tid = $.jgrid.randId();\n\t\t\t\t}\n\t\t\t\t$self.jqGrid(\"addRowData\", id, data[a]);\n\t\t\t}\n\n\t\t\t// Set the selection\n\t\t\tfor (a = 0; a < rowChecked.length; a++) {\n\t\t\t\t$self.jqGrid(\"setSelection\", rowChecked[a]);\n\t\t\t}\n\t\t});\n\t};\n\t// end module grid.tbltogrid\n\n\t/**\n\t * jqGrid extension - Tree Grid\n\t * Copyright (c) 2008-2014, Tony Tomov, tony@trirand.com\n\t * Copyright (c) 2014-2018, Oleg Kiriljuk, oleg.kiriljuk@ok-soft-gmbh.com\n\t * Dual licensed under the MIT and GPL licenses:\n\t * http://www.opensource.org/licenses/mit-license.php\n\t * http://www.gnu.org/licenses/gpl-2.0.html\n\t **/\n\t\t// begin module grid.treegrid\n\tvar treeGridFeedback = function () {\n\t\t\tvar args = $.makeArray(arguments);\n\t\t\targs[0] = \"treeGrid\" + args[0].charAt(0).toUpperCase() + args[0].substring(1);\n\t\t\targs.unshift(\"\");\n\t\t\targs.unshift(\"\");\n\t\t\targs.unshift(this.p);\n\t\t\treturn jgrid.feedback.apply(this, args);\n\t\t},\n\t\tgetNodeIcons = function (p, item) {\n\t\t\tvar icons = item[p.treeReader.icon_field],\n\t\t\t\ttreeIcons = p.treeIcons,\n\t\t\t\ticonCollapsed = treeIcons.plus + \" tree-plus\",\n\t\t\t\ticonExpanded = treeIcons.minus + \" tree-minus\";\n\t\t\tif (icons && typeof icons === \"string\") {\n\t\t\t\ticons = icons.split(\",\");\n\t\t\t\tif (icons.length === 2) {\n\t\t\t\t\ticonExpanded = icons[0];\n\t\t\t\t\ticonCollapsed = icons[1];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\texpanded: iconExpanded,\n\t\t\t\tcollapsed: iconCollapsed,\n\t\t\t\tcommon: treeIcons.commonIconClass\n\t\t\t};\n\t\t};\n\tjgrid.extend({\n\t\tsetTreeNode: function () {\n\t\t\t// TODO: Move the code in setTreeGrid because it uses currently no parameters\n\t\t\t// and it's don't make any actions with specific row\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, $self = $($t), p = $t.p;\n\t\t\t\tif (!$t.grid || !p.treeGrid) { return; }\n\t\t\t\tvar expanded = p.treeReader.expanded_field,\n\t\t\t\t\tisLeaf = p.treeReader.leaf_field,\n\t\t\t\t\tbeforeSelectRow = function (e, rowid, eOrg) {\n\t\t\t\t\t\tif (eOrg != null) {\n\t\t\t\t\t\t\tvar $target = $(eOrg.target),\n\t\t\t\t\t\t\t\t$td = $target.closest(\"tr.jqgrow>td\"),\n\t\t\t\t\t\t\t\t$tr = $td.parent(),\n\t\t\t\t\t\t\t\texpendOrCollaps = function () {\n\t\t\t\t\t\t\t\t\tvar item = p.data[p._index[stripPref(p.idPrefix, rowid)]],\n\t\t\t\t\t\t\t\t\t\tcollapseOrExpand = item[expanded] ? \"collapse\" : \"expand\";\n\t\t\t\t\t\t\t\t\tif (!item[isLeaf]) {\n\t\t\t\t\t\t\t\t\t\tbase[collapseOrExpand + \"Row\"].call($self, item, $tr);\n\t\t\t\t\t\t\t\t\t\tbase[collapseOrExpand + \"Node\"].call($self, item, $tr);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tif ($target.is(\"div.treeclick\")) {\n\t\t\t\t\t\t\t\texpendOrCollaps();\n\t\t\t\t\t\t\t} else if (p.ExpandColClick) {\n\t\t\t\t\t\t\t\tif ($td.length > 0 && $target.closest(\"span.cell-wrapper\", $td).length > 0) {\n\t\t\t\t\t\t\t\t\texpendOrCollaps();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true; // allow selection\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t$self.off(\"jqGridBeforeSelectRow.setTreeNode\");\n\t\t\t\t$self.on(\"jqGridBeforeSelectRow.setTreeNode\", beforeSelectRow);\n\n\t\t\t});\n\t\t},\n\t\tsetTreeGrid: function () {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, p = $t.p, nm, key, tkey, dupcols = [],\n\t\t\t\t\tboolProp = [\"leaf_field\", \"expanded_field\", \"loaded\"];\n\t\t\t\tif (!p.treeGrid) { return; }\n\t\t\t\tif (!p.treedatatype) { $.extend($t.p, { treedatatype: p.datatype }); }\n\t\t\t\tp.subGrid = false;\n\t\t\t\tp.altRows = false;\n\t\t\t\tp.pgbuttons = false;\n\t\t\t\tp.pginput = false;\n\t\t\t\tp.gridview = true;\n\t\t\t\tif (p.rowTotal === null) { p.rowNum = p.maxRowNum; }\n\t\t\t\tp.rowList = [];\n\t\t\t\t//pico = \"ui-icon-triangle-1-\" + (p.direction===\"rtl\" ? \"w\" : \"e\");\n\t\t\t\t//p.treeIcons = $.extend({plus:pico,minus:\"ui-icon-triangle-1-s\",leaf:\"ui-icon-radio-off\"},p.treeIcons || {});\n\t\t\t\tp.treeIcons.plus = p.direction === \"rtl\" ? p.treeIcons.plusRtl : p.treeIcons.plusLtr;\n\t\t\t\tif (p.treeGridModel === \"nested\") {\n\t\t\t\t\tp.treeReader = $.extend({\n\t\t\t\t\t\tlevel_field: \"level\",\n\t\t\t\t\t\tleft_field: \"lft\",\n\t\t\t\t\t\tright_field: \"rgt\",\n\t\t\t\t\t\tleaf_field: \"isLeaf\",\n\t\t\t\t\t\texpanded_field: \"expanded\",\n\t\t\t\t\t\tloaded: \"loaded\",\n\t\t\t\t\t\ticon_field: \"icon\"\n\t\t\t\t\t}, p.treeReader);\n\t\t\t\t} else if (p.treeGridModel === \"adjacency\") {\n\t\t\t\t\tp.treeReader = $.extend({\n\t\t\t\t\t\tlevel_field: \"level\",\n\t\t\t\t\t\tparent_id_field: \"parent\",\n\t\t\t\t\t\tleaf_field: \"isLeaf\",\n\t\t\t\t\t\texpanded_field: \"expanded\",\n\t\t\t\t\t\tloaded: \"loaded\",\n\t\t\t\t\t\ticon_field: \"icon\"\n\t\t\t\t\t}, p.treeReader);\n\t\t\t\t}\n\t\t\t\tfor (key in p.colModel) {\n\t\t\t\t\tif (p.colModel.hasOwnProperty(key)) {\n\t\t\t\t\t\tnm = p.colModel[key].name;\n\t\t\t\t\t\tfor (tkey in p.treeReader) {\n\t\t\t\t\t\t\tif (p.treeReader.hasOwnProperty(tkey) && p.treeReader[tkey] === nm) {\n\t\t\t\t\t\t\t\tdupcols.push(nm);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t$.each(p.treeReader, function (prop) {\n\t\t\t\t\tvar name = String(this);\n\t\t\t\t\tif (name && $.inArray(name, dupcols) === -1) {\n\t\t\t\t\t\tif ($.inArray(prop, boolProp) >= 0) {\n\t\t\t\t\t\t\tp.additionalProperties.push({\n\t\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\t\tsearch: false,\n\t\t\t\t\t\t\t\tconvert: function (data) {\n\t\t\t\t\t\t\t\t\treturn data === true || String(data).toLowerCase() === \"true\" || String(data) === \"1\" ? true : data;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tp.additionalProperties.push(name);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\texpandRow: function (record) {\n\t\t\tthis.each(function () {\n\t\t\t\tvar $t = this, $self = $($t), p = $t.p;\n\t\t\t\tif (!$t.grid || !p.treeGrid) { return; }\n\t\t\t\tvar expanded = p.treeReader.expanded_field, rowid = record[p.localReader.id]; // without prefix\n\t\t\t\tif (!treeGridFeedback.call($t, \"beforeExpandRow\", { rowid: rowid, item: record })) { return; }\n\t\t\t\tvar childern = base.getNodeChildren.call($self, record);\n\t\t\t\t$(childern).each(function () {\n\t\t\t\t\tvar id = p.idPrefix + getAccessor(this, p.localReader.id);\n\t\t\t\t\t$(base.getGridRowById.call($self, id)).css(\"display\", \"\");\n\t\t\t\t\tif (this[expanded]) {\n\t\t\t\t\t\tbase.expandRow.call($self, this);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\ttreeGridFeedback.call($t, \"afterExpandRow\", { rowid: rowid, item: record });\n\t\t\t});\n\t\t},\n\t\tcollapseRow: function (record) {\n\t\t\tthis.each(function () {\n\t\t\t\tvar $t = this, $self = $($t), p = $t.p;\n\t\t\t\tif (!$t.grid || !p.treeGrid) { return; }\n\t\t\t\tvar expanded = p.treeReader.expanded_field, rowid = record[p.localReader.id]; // without prefix\n\t\t\t\tif (!treeGridFeedback.call($t, \"beforeCollapseRow\", { rowid: rowid, item: record })) { return; }\n\t\t\t\tvar childern = base.getNodeChildren.call($self, record);\n\t\t\t\t$(childern).each(function () {\n\t\t\t\t\tvar id = p.idPrefix + getAccessor(this, p.localReader.id);\n\t\t\t\t\t$(base.getGridRowById.call($self, id)).css(\"display\", \"none\");\n\t\t\t\t\tif (this[expanded]) {\n\t\t\t\t\t\tbase.collapseRow.call($self, this);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\ttreeGridFeedback.call($t, \"afterCollapseRow\", { rowid: rowid, item: record });\n\t\t\t});\n\t\t},\n\t\t// NS ,adjacency models\n\t\tgetRootNodes: function () {\n\t\t\tvar result = [];\n\t\t\tthis.each(function () {\n\t\t\t\tvar $t = this, p = $t.p;\n\t\t\t\tif (!$t.grid || !p.treeGrid) { return; }\n\t\t\t\tswitch (p.treeGridModel) {\n\t\t\t\t\tcase \"nested\":\n\t\t\t\t\t\tvar level = p.treeReader.level_field;\n\t\t\t\t\t\t$(p.data).each(function () {\n\t\t\t\t\t\t\tif (parseInt(this[level], 10) === parseInt(p.tree_root_level, 10)) {\n\t\t\t\t\t\t\t\tresult.push(this);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"adjacency\":\n\t\t\t\t\t\tvar parentId = p.treeReader.parent_id_field;\n\t\t\t\t\t\t$(p.data).each(function () {\n\t\t\t\t\t\t\tif (this[parentId] === null || String(this[parentId]).toLowerCase() === \"null\") {\n\t\t\t\t\t\t\t\tresult.push(this);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn result;\n\t\t},\n\t\tgetNodeDepth: function (rc) {\n\t\t\tvar ret = null;\n\t\t\tthis.each(function () {\n\t\t\t\tvar $t = this, p = $t.p;\n\t\t\t\tif (!$t.grid || !p.treeGrid) { return; }\n\t\t\t\tswitch (p.treeGridModel) {\n\t\t\t\t\tcase \"nested\":\n\t\t\t\t\t\tvar level = p.treeReader.level_field;\n\t\t\t\t\t\tret = parseInt(rc[level], 10) - parseInt(p.tree_root_level, 10);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"adjacency\":\n\t\t\t\t\t\tret = base.getNodeAncestors.call($($t), rc).length;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ret;\n\t\t},\n\t\tgetNodeParent: function (rc) {\n\t\t\t// var $t = this instanceof $ && this.length > 0 ? this[0] : this;\n\t\t\tvar $t = this[0];\n\t\t\tif (!$t || !$t.grid || $t.p == null || !$t.p.treeGrid || rc == null) { return null; }\n\t\t\tvar p = $t.p, treeReader = p.treeReader, parentIdName = treeReader.parent_id_field, parentId = rc[parentIdName];\n\t\t\tif (p.treeGridModel === \"nested\") {\n\t\t\t\tvar result = null,\n\t\t\t\t\tlftc = treeReader.left_field,\n\t\t\t\t\trgtc = treeReader.right_field,\n\t\t\t\t\tlevelc = treeReader.level_field,\n\t\t\t\t\tlft = parseInt(rc[lftc], 10), rgt = parseInt(rc[rgtc], 10), level = parseInt(rc[levelc], 10);\n\n\t\t\t\t$(p.data).each(function () {\n\t\t\t\t\tif (parseInt(this[levelc], 10) === level - 1 && parseInt(this[lftc], 10) < lft && parseInt(this[rgtc], 10) > rgt) {\n\t\t\t\t\t\tresult = this;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\tif (parentId === null || parentId === \"null\") { return null; }\n\t\t\tvar iParent = p._index[parentId];\n\t\t\treturn iParent !== undefined ? p.data[iParent] : null;\n\t\t},\n\t\tgetNodeChildren: function (rc) {\n\t\t\tvar result = [];\n\t\t\tthis.each(function () {\n\t\t\t\tvar $t = this, p = $t.p;\n\t\t\t\tif (!$t.grid || !p.treeGrid) { return; }\n\t\t\t\tswitch (p.treeGridModel) {\n\t\t\t\t\tcase \"nested\":\n\t\t\t\t\t\tvar lftc = p.treeReader.left_field, rgtc = p.treeReader.right_field, levelc = p.treeReader.level_field,\n\t\t\t\t\t\t\tlft = parseInt(rc[lftc], 10),\n\t\t\t\t\t\t\trgt = parseInt(rc[rgtc], 10),\n\t\t\t\t\t\t\tlevel = parseInt(rc[levelc], 10);\n\t\t\t\t\t\t$(p.data).each(function () {\n\t\t\t\t\t\t\tif (parseInt(this[levelc], 10) === level + 1 && parseInt(this[lftc], 10) > lft && parseInt(this[rgtc], 10) < rgt) {\n\t\t\t\t\t\t\t\tresult.push(this);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"adjacency\":\n\t\t\t\t\t\tvar parentId = p.treeReader.parent_id_field, dtid = p.localReader.id;\n\t\t\t\t\t\t$(p.data).each(function () {\n\t\t\t\t\t\t\tif (String(this[parentId]) === String(rc[dtid])) {\n\t\t\t\t\t\t\t\tresult.push(this);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn result;\n\t\t},\n\t\tgetFullTreeNode: function (rc) {\n\t\t\tvar result = [];\n\t\t\tthis.each(function () {\n\t\t\t\tvar $t = this, p = $t.p, len;\n\t\t\t\tif (!$t.grid || !p.treeGrid) { return; }\n\t\t\t\tswitch (p.treeGridModel) {\n\t\t\t\t\tcase \"nested\":\n\t\t\t\t\t\tvar lftc = p.treeReader.left_field, rgtc = p.treeReader.right_field, levelc = p.treeReader.level_field,\n\t\t\t\t\t\t\tlft = parseInt(rc[lftc], 10),\n\t\t\t\t\t\t\trgt = parseInt(rc[rgtc], 10),\n\t\t\t\t\t\t\tlevel = parseInt(rc[levelc], 10);\n\t\t\t\t\t\t$(p.data).each(function () {\n\t\t\t\t\t\t\tif (parseInt(this[levelc], 10) >= level && parseInt(this[lftc], 10) >= lft && parseInt(this[lftc], 10) <= rgt) {\n\t\t\t\t\t\t\t\tresult.push(this);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"adjacency\":\n\t\t\t\t\t\tif (rc) {\n\t\t\t\t\t\t\tresult.push(rc);\n\t\t\t\t\t\t\tvar parentId = p.treeReader.parent_id_field, dtid = p.localReader.id;\n\t\t\t\t\t\t\t$(p.data).each(function () {\n\t\t\t\t\t\t\t\tvar i;\n\t\t\t\t\t\t\t\tlen = result.length;\n\t\t\t\t\t\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\t\t\t\t\t\tif (String(result[i][dtid]) === String(this[parentId])) {\n\t\t\t\t\t\t\t\t\t\tresult.push(this);\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn result;\n\t\t},\n\t\t// End NS, adjacency Model\n\t\tgetNodeAncestors: function (rc) {\n\t\t\tvar ancestors = [];\n\t\t\tthis.each(function () {\n\t\t\t\tvar $t = this, $self = $($t), getNodeParent = base.getNodeParent;\n\t\t\t\tif (!$t.grid || !$t.p.treeGrid) { return; }\n\t\t\t\tvar parent = getNodeParent.call($self, rc);\n\t\t\t\twhile (parent) {\n\t\t\t\t\tancestors.push(parent);\n\t\t\t\t\tparent = getNodeParent.call($self, parent);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ancestors;\n\t\t},\n\t\tisVisibleNode: function (rc) {\n\t\t\tvar result = true;\n\t\t\tthis.each(function () {\n\t\t\t\tvar $t = this, p = $t.p;\n\t\t\t\tif (!$t.grid || !p.treeGrid) { return; }\n\t\t\t\tvar ancestors = base.getNodeAncestors.call($($t), rc), expanded = p.treeReader.expanded_field;\n\t\t\t\t$(ancestors).each(function () {\n\t\t\t\t\tresult = result && this[expanded];\n\t\t\t\t\tif (!result) { return false; }\n\t\t\t\t});\n\t\t\t});\n\t\t\treturn result;\n\t\t},\n\t\tisNodeLoaded: function (rc) {\n\t\t\tvar result;\n\t\t\tthis.each(function () {\n\t\t\t\tvar $t = this, p = $t.p;\n\t\t\t\tif (!$t.grid || !p.treeGrid) { return; }\n\t\t\t\tvar isLeaf = p.treeReader.leaf_field, loaded = p.treeReader.loaded;\n\t\t\t\tif (rc !== undefined) {\n\t\t\t\t\tif (rc[loaded] !== undefined) {\n\t\t\t\t\t\tresult = rc[loaded];\n\t\t\t\t\t} else if (rc[isLeaf] || base.getNodeChildren.call($($t), rc).length > 0) {\n\t\t\t\t\t\tresult = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult = false;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tresult = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn result;\n\t\t},\n\t\texpandNode: function (rc) {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, p = $t.p, id, rc1, icons;\n\t\t\t\tif (!$t.grid || !p.treeGrid) { return; }\n\t\t\t\tvar treeReader = p.treeReader;\n\n\t\t\t\tif (!rc[treeReader.expanded_field]) {\n\t\t\t\t\tid = getAccessor(rc, p.localReader.id);\n\t\t\t\t\tif (!treeGridFeedback.call($t, \"beforeExpandNode\", { rowid: id, item: rc })) { return; }\n\t\t\t\t\trc1 = $(\"#\" + p.idPrefix + jqID(id), $t.grid.bDiv)[0];\n\n\t\t\t\t\trc[treeReader.expanded_field] = true;\n\t\t\t\t\ticons = getNodeIcons(p, rc);\n\t\t\t\t\t$(\"div.treeclick\", rc1).removeClass(icons.collapsed).addClass(icons.common).addClass(icons.expanded);\n\t\t\t\t\tif (p.treedatatype !== \"local\" && !base.isNodeLoaded.call($($t), p.data[p._index[id]]) && !$t.grid.hDiv.loading) {\n\t\t\t\t\t\t// set the value which will be used during processing of the server response\n\t\t\t\t\t\t// in readInput\n\t\t\t\t\t\tp.treeANode = rc1.rowIndex;\n\t\t\t\t\t\tp.datatype = p.treedatatype;\n\t\t\t\t\t\tbase.setGridParam.call($($t), {\n\t\t\t\t\t\t\tpostData: p.treeGridModel === \"nested\" ?\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tnodeid: id,\n\t\t\t\t\t\t\t\t\tn_level: rc[treeReader.level_field],\n\t\t\t\t\t\t\t\t\tn_left: rc[treeReader.left_field],\n\t\t\t\t\t\t\t\t\tn_right: rc[treeReader.right_field]\n\t\t\t\t\t\t\t\t} :\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tnodeid: id,\n\t\t\t\t\t\t\t\t\tn_level: rc[treeReader.level_field],\n\t\t\t\t\t\t\t\t\tparentid: rc[treeReader.parent_id_field]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$($t).trigger(\"reloadGrid\");\n\t\t\t\t\t\trc[treeReader.loaded] = true;\n\t\t\t\t\t\tbase.setGridParam.call($($t), {\n\t\t\t\t\t\t\tpostData: p.treeGridModel === \"nested\" ?\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tnodeid: \"\",\n\t\t\t\t\t\t\t\t\tn_level: \"\",\n\t\t\t\t\t\t\t\t\tn_left: \"\",\n\t\t\t\t\t\t\t\t\tn_right: \"\"\n\t\t\t\t\t\t\t\t} :\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tnodeid: \"\",\n\t\t\t\t\t\t\t\t\tn_level: \"\",\n\t\t\t\t\t\t\t\t\tparentid: \"\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\ttreeGridFeedback.call($t, \"afterExpandNode\", { rowid: id, item: rc });\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tcollapseNode: function (rc) {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, p = $t.p, icons;\n\t\t\t\tif (!$t.grid || !p.treeGrid) { return; }\n\t\t\t\tvar expanded = p.treeReader.expanded_field;\n\t\t\t\tif (rc[expanded]) {\n\t\t\t\t\tvar id = getAccessor(rc, p.localReader.id);\n\t\t\t\t\tif (!treeGridFeedback.call($t, \"beforeCollapseNode\", { rowid: id, item: rc })) { return; }\n\t\t\t\t\trc[expanded] = false;\n\t\t\t\t\ticons = getNodeIcons(p, rc);\n\t\t\t\t\t$(\"#\" + p.idPrefix + jqID(id), $t.grid.bDiv) // $tr\n\t\t\t\t\t\t.find(\"div.treeclick\")\n\t\t\t\t\t\t.removeClass(icons.expanded)\n\t\t\t\t\t\t.addClass(icons.common)\n\t\t\t\t\t\t.addClass(icons.collapsed);\n\t\t\t\t\tif (p.unloadNodeOnCollapse === true || ($.isFunction(p.unloadNodeOnCollapse) && p.unloadNodeOnCollapse.call($t, rc))) {\n\t\t\t\t\t\trc[p.treeReader.loaded] = false;\n\t\t\t\t\t\t$($t).jqGrid(\"delTreeNode\", id, true);\n\t\t\t\t\t}\n\t\t\t\t\ttreeGridFeedback.call($t, \"afterCollapseNode\", { rowid: id, item: rc });\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tSortTree: function (sortname, newDir, st, datefmt) {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, p = $t.p, $self = $($t);\n\t\t\t\tif (!$t.grid || !p.treeGrid) { return; }\n\t\t\t\tvar i, len, rec, records = [], rt = base.getRootNodes.call($self), query = jgrid.from.call($t, rt);\n\t\t\t\t// Sorting roots\n\t\t\t\tquery.orderBy(sortname, newDir, st, datefmt);\n\t\t\t\tvar roots = query.select();\n\n\t\t\t\t// Sorting children\n\t\t\t\tfor (i = 0, len = roots.length; i < len; i++) {\n\t\t\t\t\trec = roots[i];\n\t\t\t\t\trecords.push(rec);\n\t\t\t\t\tbase.collectChildrenSortTree.call($self, records, rec, sortname, newDir, st, datefmt);\n\t\t\t\t}\n\t\t\t\t$.each(records, function (index) {\n\t\t\t\t\tvar id = getAccessor(this, p.localReader.id);\n\t\t\t\t\t$($t.rows[index]).after($self.find(\">tbody>tr#\" + jqID(id)));\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tcollectChildrenSortTree: function (records, rec, sortname, newDir, st, datefmt) {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, $self = $($t);\n\t\t\t\tif (!$t.grid || !$t.p.treeGrid) { return; }\n\t\t\t\tvar i, len, child, ch = base.getNodeChildren.call($self, rec), query = jgrid.from.call($t, ch);\n\t\t\t\tquery.orderBy(sortname, newDir, st, datefmt);\n\t\t\t\tvar children = query.select();\n\t\t\t\tfor (i = 0, len = children.length; i < len; i++) {\n\t\t\t\t\tchild = children[i];\n\t\t\t\t\trecords.push(child);\n\t\t\t\t\tbase.collectChildrenSortTree.call($self, records, child, sortname, newDir, st, datefmt);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t// experimental\n\t\tsetTreeRow: function (rowid, data) {\n\t\t\tvar success = false;\n\t\t\tthis.each(function () {\n\t\t\t\tvar t = this;\n\t\t\t\tif (!t.grid || !t.p.treeGrid) { return; }\n\t\t\t\tsuccess = base.setRowData.call($(t), rowid, data);\n\t\t\t});\n\t\t\treturn success;\n\t\t},\n\t\tdelTreeNode: function (rowid, skipSelf) {\n\t\t\treturn this.each(function () {\n\t\t\t\tvar $t = this, p = $t.p, myright, width, res, key, rid = p.localReader.id, i, $self = $($t),\n\t\t\t\t\tleft = p.treeReader.left_field,\n\t\t\t\t\tright = p.treeReader.right_field;\n\t\t\t\tif (!$t.grid || !p.treeGrid) { return; }\n\t\t\t\tvar rc = p._index[rowid];\n\t\t\t\tif (rc !== undefined) {\n\t\t\t\t\t// nested\n\t\t\t\t\tmyright = parseInt(p.data[rc][right], 10);\n\t\t\t\t\twidth = myright - parseInt(p.data[rc][left], 10) + 1;\n\t\t\t\t\tvar dr = base.getFullTreeNode.call($self, p.data[rc]);\n\t\t\t\t\tif (dr.length > 0) {\n\t\t\t\t\t\tfor (i = 0; i < dr.length; i++) {\n\t\t\t\t\t\t\tif (!skipSelf || rowid !== dr[i][rid]) {\n\t\t\t\t\t\t\t\tbase.delRowData.call($self, dr[i][rid]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (p.treeGridModel === \"nested\") {\n\t\t\t\t\t\t// ToDo - update grid data\n\t\t\t\t\t\tres = jgrid.from.call($t, p.data)\n\t\t\t\t\t\t\t.greater(left, myright, { stype: \"integer\" })\n\t\t\t\t\t\t\t.select();\n\t\t\t\t\t\tif (res.length) {\n\t\t\t\t\t\t\tfor (key in res) {\n\t\t\t\t\t\t\t\tif (res.hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\t\tres[key][left] = parseInt(res[key][left], 10) - width;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tres = jgrid.from.call($t, p.data)\n\t\t\t\t\t\t\t.greater(right, myright, { stype: \"integer\" })\n\t\t\t\t\t\t\t.select();\n\t\t\t\t\t\tif (res.length) {\n\t\t\t\t\t\t\tfor (key in res) {\n\t\t\t\t\t\t\t\tif (res.hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\t\tres[key][right] = parseInt(res[key][right], 10) - width;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\taddChildNode: function (nodeid, parentid, data, expandData) {\n\t\t\treturn this.each(function () {\n\t\t\t\tif (!data) { return; }\n\t\t\t\tvar $t = this, p = $t.p, $self = $($t), getInd = base.getInd,\n\t\t\t\t\ticonExpanded = p.treeIcons.minus + \" tree-minus\",\n\t\t\t\t\tmethod, parentindex, parentdata, parentlevel, iRow, rowind = parentid, leaf, maxright,\n\t\t\t\t\texpanded = p.treeReader.expanded_field, isLeaf = p.treeReader.leaf_field, level = p.treeReader.level_field,\n\t\t\t\t\tparent = p.treeReader.parent_id_field,\n\t\t\t\t\tleft = p.treeReader.left_field,\n\t\t\t\t\tright = p.treeReader.right_field,\n\t\t\t\t\tloaded = p.treeReader.loaded;\n\t\t\t\tif (expandData === undefined) { expandData = false; }\n\t\t\t\tif (nodeid == null) {\n\t\t\t\t\tnodeid = jgrid.randId();\n\t\t\t\t}\n\t\t\t\tvar prow = getInd.call($self, parentid);\n\t\t\t\tleaf = false;\n\t\t\t\t// if not a parent we assume root\n\t\t\t\tif (parentid === undefined || parentid === null || parentid === \"\") {\n\t\t\t\t\tparentid = null;\n\t\t\t\t\trowind = null;\n\t\t\t\t\tmethod = \"last\";\n\t\t\t\t\tparentlevel = p.tree_root_level;\n\t\t\t\t} else {\n\t\t\t\t\tmethod = \"after\";\n\t\t\t\t\tparentindex = p._index[parentid];\n\t\t\t\t\tparentdata = p.data[parentindex];\n\t\t\t\t\tparentid = parentdata[p.localReader.id];\n\t\t\t\t\tiRow = getInd.call($self, parentid);\n\t\t\t\t\tparentlevel = parseInt(parentdata[level], 10) + 1;\n\t\t\t\t\tvar childs = base.getFullTreeNode.call($self, parentdata);\n\t\t\t\t\t// if there are child nodes get the last index of it\n\t\t\t\t\tif (childs.length) {\n\t\t\t\t\t\t// find the max rowIndex of the children\n\t\t\t\t\t\tvar iChild, iChildRow, childId;\n\t\t\t\t\t\tfor (iChild = 0; iChild < childs.length; iChild++) {\n\t\t\t\t\t\t\tchildId = childs[iChild][p.localReader.id];\n\t\t\t\t\t\t\tiChildRow = getInd.call($self, childId);\n\t\t\t\t\t\t\tif (iChildRow > iRow) {\n\t\t\t\t\t\t\t\tiRow = iChildRow;\n\t\t\t\t\t\t\t\trowind = childId;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// if the node is leaf\n\t\t\t\t\tif (parentdata[isLeaf]) {\n\t\t\t\t\t\tleaf = true;\n\t\t\t\t\t\tparentdata[expanded] = true;\n\t\t\t\t\t\t//var prow = getInd.call($self, parentid);\n\t\t\t\t\t\t$($t.rows[prow])\n\t\t\t\t\t\t\t.find(\"span.cell-wrapperleaf\").removeClass(\"cell-wrapperleaf\").addClass(\"cell-wrapper\")\n\t\t\t\t\t\t\t.end()\n\t\t\t\t\t\t\t.find(\"div.tree-leaf\").removeClass(p.treeIcons.leaf + \" tree-leaf\").addClass(p.treeIcons.commonIconClass).addClass(iconExpanded);\n\t\t\t\t\t\tp.data[parentindex][isLeaf] = false;\n\t\t\t\t\t\tparentdata[loaded] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (data[expanded] === undefined) { data[expanded] = false; }\n\t\t\t\tif (data[loaded] === undefined) { data[loaded] = false; }\n\t\t\t\tdata[level] = parentlevel;\n\t\t\t\tif (data[isLeaf] === undefined) { data[isLeaf] = true; }\n\t\t\t\tif (p.treeGridModel === \"adjacency\") {\n\t\t\t\t\tdata[parent] = parentid;\n\t\t\t\t}\n\t\t\t\tif (p.treeGridModel === \"nested\") {\n\t\t\t\t\t// this method requiere more attention\n\t\t\t\t\tvar query, res, key;\n\t\t\t\t\t//maxright = parseInt(maxright,10);\n\t\t\t\t\t// ToDo - update grid data\n\t\t\t\t\tif (parentid !== null) {\n\t\t\t\t\t\tmaxright = parseInt(parentdata[right], 10);\n\t\t\t\t\t\tquery = jgrid.from.call($t, p.data);\n\t\t\t\t\t\tquery = query.greaterOrEquals(right, maxright, { stype: \"integer\" });\n\t\t\t\t\t\tres = query.select();\n\t\t\t\t\t\tif (res.length) {\n\t\t\t\t\t\t\tfor (key in res) {\n\t\t\t\t\t\t\t\tif (res.hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\t\tres[key][left] = res[key][left] > maxright ? parseInt(res[key][left], 10) + 2 : res[key][left];\n\t\t\t\t\t\t\t\t\tres[key][right] = res[key][right] >= maxright ? parseInt(res[key][right], 10) + 2 : res[key][right];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdata[left] = maxright;\n\t\t\t\t\t\tdata[right] = maxright + 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmaxright = parseInt(base.getCol.call($self, right, false, \"max\"), 10);\n\t\t\t\t\t\tres = jgrid.from.call($t, p.data)\n\t\t\t\t\t\t\t.greater(left, maxright, { stype: \"integer\" })\n\t\t\t\t\t\t\t.select();\n\t\t\t\t\t\tif (res.length) {\n\t\t\t\t\t\t\tfor (key in res) {\n\t\t\t\t\t\t\t\tif (res.hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\t\tres[key][left] = parseInt(res[key][left], 10) + 2;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tres = jgrid.from.call($t, p.data)\n\t\t\t\t\t\t\t.greater(right, maxright, { stype: \"integer\" })\n\t\t\t\t\t\t\t.select();\n\t\t\t\t\t\tif (res.length) {\n\t\t\t\t\t\t\tfor (key in res) {\n\t\t\t\t\t\t\t\tif (res.hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\t\tres[key][right] = parseInt(res[key][right], 10) + 2;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdata[left] = maxright + 1;\n\t\t\t\t\t\tdata[right] = maxright + 2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (parentid === null || base.isNodeLoaded.call($self, parentdata) || leaf) {\n\t\t\t\t\tbase.addRowData.call($self, nodeid, data, method, rowind);\n\t\t\t\t}\n\t\t\t\tif (parentdata && !parentdata[expanded] && expandData) {\n\t\t\t\t\t$($t.rows[prow])\n\t\t\t\t\t\t.find(\"div.treeclick\")\n\t\t\t\t\t\t.click();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\t// end module grid.treegrid\n\n\t/**\n\t * jqDnR - Minimalistic Drag'n'Resize for jQuery.\n\t *\n\t * Copyright (c) 2007 Brice Burgess <bhb@iceburg.net>, http://www.iceburg.net\n\t * Licensed under the MIT License:\n\t * http://www.opensource.org/licenses/mit-license.php\n\t *\n\t * $Version: 2007.08.19 +r2\n\t * Updated by Oleg Kiriljuk to support touch devices\n\t * Copyright (c) 2014-2018, Oleg Kiriljuk, oleg.kiriljuk@ok-soft-gmbh.com\n\t */\n\t\t// begin module jqdnr\n\tvar namespace = \".jqGrid\", mouseDown = \"mousedown\", mouseMove = \"mousemove\", mouseUp = \"mouseup\",\n\t\tgetMouseCoordinates = function (e) {\n\t\t\tvar orgEvent = e.originalEvent, touches = orgEvent.targetTouches;\n\t\t\tif (touches) {\n\t\t\t\ttouches = touches[0];\n\t\t\t\treturn { x: touches.pageX, y: touches.pageY };\n\t\t\t}\n\t\t\treturn { x: e.pageX, y: e.pageY };\n\t\t},\n\t\tjqDnR = {\n\t\t\tdrag: function (e) {\n\t\t\t\tvar d = e.data, $mainDialog = d.e, dnrMainDialog = d.dnr, $alsoResize = d.ar, dnrAlsoResize = d.dnrAr,\n\t\t\t\t\txy = getMouseCoordinates(e);\n\t\t\t\tif (dnrMainDialog.k === \"move\") {\n\t\t\t\t\t$mainDialog.css({\n\t\t\t\t\t\tleft: dnrMainDialog.X + xy.x - dnrMainDialog.pX,\n\t\t\t\t\t\ttop: dnrMainDialog.Y + xy.y - dnrMainDialog.pY\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t$mainDialog.css({\n\t\t\t\t\t\twidth: Math.max(xy.x - dnrMainDialog.pX + dnrMainDialog.W, 0),\n\t\t\t\t\t\theight: Math.max(xy.y - dnrMainDialog.pY + dnrMainDialog.H, 0)\n\t\t\t\t\t});\n\t\t\t\t\tif (dnrAlsoResize) {\n\t\t\t\t\t\t$alsoResize.css({\n\t\t\t\t\t\t\twidth: Math.max(xy.x - dnrAlsoResize.pX + dnrAlsoResize.W, 0),\n\t\t\t\t\t\t\theight: Math.max(xy.y - dnrAlsoResize.pY + dnrAlsoResize.H, 0)\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\tstop: function () {\n\t\t\t\t//$mainDialog.css(\"opacity\", dnr.o);\n\t\t\t\t$(document).off(mouseMove, jqDnR.drag).off(mouseUp, jqDnR.stop);\n\t\t\t}\n\t\t},\n\t\tinit = function ($this, handle, actionName, alsoResize) {\n\t\t\treturn $this.each(function () {\n\t\t\t\thandle = handle ? $(handle, $this) : $this;\n\t\t\t\thandle.on(mouseDown, { e: $this, k: actionName }, function (e) {\n\t\t\t\t\tvar d = e.data, p = {}, $inputDatePicker, $mainDialog, dnrMainDialog, $alsoResize, dnrAlsoResize,\n\t\t\t\t\t\tgetCssProp = function ($elem, propertyName) {\n\t\t\t\t\t\t\treturn parseInt($elem.css(propertyName), 10) || false;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetMainCssProp = function (propertyName) {\n\t\t\t\t\t\t\treturn getCssProp($mainDialog, propertyName);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetAlsoResizeCssProp = function (propertyName) {\n\t\t\t\t\t\t\treturn getCssProp($alsoResize, propertyName);\n\t\t\t\t\t\t},\n\t\t\t\t\t\txy = getMouseCoordinates(e),\n\t\t\t\t\t\teventData;\n\n\t\t\t\t\tif ($(e.target).hasClass(\"ui-jqdialog-titlebar-close\") || $(e.target).parent().hasClass(\"ui-jqdialog-titlebar-close\")) {\n\t\t\t\t\t\t//$(e.target).click();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t$mainDialog = d.e;\n\t\t\t\t\t$alsoResize = alsoResize ? $(alsoResize) : false;\n\t\t\t\t\t// attempt utilization of dimensions plugin to fix IE issues\n\t\t\t\t\tif ($mainDialog.css(\"position\") !== \"relative\") {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t// ???? probably one want to GET position and save it in p ?\n\t\t\t\t\t\t\t// the current implementation use always p = {}\n\t\t\t\t\t\t\t// probably one mean some additional work together with Dimensions Plugin (dimensions.js)\n\t\t\t\t\t\t\t$mainDialog.position(p);\n\t\t\t\t\t\t} catch (ignore) { }\n\t\t\t\t\t}\n\t\t\t\t\tdnrMainDialog = {\n\t\t\t\t\t\tX: p.left || getMainCssProp(\"left\") || 0,\n\t\t\t\t\t\tY: p.top || getMainCssProp(\"top\") || 0,\n\t\t\t\t\t\tW: getMainCssProp(\"width\") || $mainDialog[0].scrollWidth || 0,\n\t\t\t\t\t\tH: getMainCssProp(\"height\") || $mainDialog[0].scrollHeight || 0,\n\t\t\t\t\t\tpX: xy.x,\n\t\t\t\t\t\tpY: xy.y,\n\t\t\t\t\t\tk: d.k\n\t\t\t\t\t\t//o:$mainDialog.css(\"opacity\")\n\t\t\t\t\t};\n\t\t\t\t\t// also resize\n\t\t\t\t\tif ($alsoResize && d.k !== \"move\") {\n\t\t\t\t\t\tdnrAlsoResize = {\n\t\t\t\t\t\t\tX: p.left || getAlsoResizeCssProp(\"left\") || 0,\n\t\t\t\t\t\t\tY: p.top || getAlsoResizeCssProp(\"top\") || 0,\n\t\t\t\t\t\t\tW: $alsoResize[0].offsetWidth || getAlsoResizeCssProp(\"width\") || 0,\n\t\t\t\t\t\t\tH: $alsoResize[0].offsetHeight || getAlsoResizeCssProp(\"height\") || 0,\n\t\t\t\t\t\t\tpX: xy.x,\n\t\t\t\t\t\t\tpY: xy.y,\n\t\t\t\t\t\t\tk: d.k\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdnrAlsoResize = false;\n\t\t\t\t\t}\n\t\t\t\t\t//E.css({opacity:0.8});\n\t\t\t\t\t$inputDatePicker = $mainDialog.find(\"input.hasDatepicker\");\n\t\t\t\t\tif ($inputDatePicker.length > 0) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t$inputDatePicker.datepicker(\"hide\");\n\t\t\t\t\t\t} catch (ignore) { }\n\t\t\t\t\t}\n\t\t\t\t\teventData = {\n\t\t\t\t\t\te: $mainDialog,\n\t\t\t\t\t\tdnr: dnrMainDialog,\n\t\t\t\t\t\tar: $alsoResize,\n\t\t\t\t\t\tdnrAr: dnrAlsoResize\n\t\t\t\t\t};\n\t\t\t\t\t$(document).on(mouseMove, eventData, jqDnR.drag);\n\t\t\t\t\t$(document).on(mouseUp, eventData, jqDnR.stop);\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\n\t// navigator.maxTouchPoints == 2, navigator.msMaxTouchPoints\n\t// https://msdn.microsoft.com/en-us/library/ie/dn304886(v=vs.85).aspx\n\tif (window.PointerEvent) {\n\t\tmouseDown += namespace + \" pointerdown\" + namespace;\n\t\tmouseMove += namespace + \" pointermove\" + namespace;\n\t\tmouseUp += namespace + \" pointerup\" + namespace;\n\t} else if (window.MSPointerEvent) {\n\t\tmouseDown += namespace + \" mspointerdown\" + namespace;\n\t\tmouseMove += namespace + \" mspointermove\" + namespace;\n\t\tmouseUp += namespace + \" mspointerup\";\n\t} else { //if (Object.prototype.hasOwnProperty.call(document, \"ontouchend\")) { or \"ontouchstart\" in document.documentElement or \"ontouchstart\" in window\n\t\tmouseDown += namespace + \" touchstart\" + namespace;\n\t\tmouseMove += namespace + \" touchmove\" + namespace;\n\t\tmouseUp += namespace + \" touchend\" + namespace;\n\t}\n\n\t$.jqDnR = jqDnR;\n\n\t$.fn.jqDrag = function (handle) {\n\t\treturn init(this, handle, \"move\");\n\t};\n\n\t$.fn.jqResize = function (handle, alsoResize) {\n\t\treturn init(this, handle, \"resize\", alsoResize);\n\t};\n\t// end module jqdnr\n\n\t/**\n\t * jqModal - Minimalist Modaling with jQuery\n\t *   (http://dev.iceburg.net/jquery/jqmodal/)\n\t *\n\t * Copyright (c) 2007,2008 Brice Burgess <bhb@iceburg.net>\n\t * Dual licensed under the MIT and GPL licenses:\n\t *   http://www.opensource.org/licenses/mit-license.php\n\t *   http://www.gnu.org/licenses/gpl.html\n\t *\n\t * $Version: 07/06/2008 +r13\n\t * Changed by Oleg Kiriljuk, oleg.kiriljuk@ok-soft-gmbh.com\n\t * Copyright (c) 2014-2018, Oleg Kiriljuk, oleg.kiriljuk@ok-soft-gmbh.com\n\t */\n\t\t// begin module jqmodal\n\tvar jqmHashLength = 0,\n\t\tjqmHash,\n\t\tcreatedModals = [],\n\t\tsetFocusOnFirstVisibleInput = function (h) {\n\t\t\ttry {\n\t\t\t\t$(\":input:visible\", h.w).first().focus();\n\t\t\t} catch (ignore) {}\n\t\t},\n\t\tsetFocus = function (h) {\n\t\t\tsetFocusOnFirstVisibleInput(h);\n\t\t},\n\t\tkeyOrMouseEventHandler = function (e) {\n\t\t\tvar activeModal = jqmHash[createdModals[createdModals.length - 1]],\n\t\t\t\tmodal = !$(e.target).parents(\".jqmID\" + activeModal.s)[0],\n\t\t\t\ttargetOffset = $(e.target).offset(),\n\t\t\t\teX = e.pageX !== undefined ? e.pageX : targetOffset.left,\n\t\t\t\teY = e.pageY !== undefined ? e.pageY : targetOffset.top,\n\t\t\t\tisEventInsideOfModal = function () {\n\t\t\t\t\tvar isInside = false;\n\t\t\t\t\t$(\".jqmID\" + activeModal.s).each(function () {\n\t\t\t\t\t\tvar $self = $(this), offset = $self.offset();\n\t\t\t\t\t\t// mouse event have e.pageX and e.pageY\n\t\t\t\t\t\t// keyboard event have e.type == \"keydown\" or \"keypress\",\n\t\t\t\t\t\t// e.pageX and e.pageY are undefined and one can use\n\t\t\t\t\t\t// $(e.target).offset()\n\t\t\t\t\t\tif (offset.top <= eY && eY <= offset.top + $self.height() &&\n\t\t\t\t\t\t\toffset.left <= eX && eX <= offset.left + $self.width()) {\n\t\t\t\t\t\t\tisInside = true;\n\t\t\t\t\t\t\treturn false; // stop enumeration\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\treturn isInside;\n\t\t\t\t};\n\t\t\tif (e.type !== \"mousedown\" && isEventInsideOfModal()) {\n\t\t\t\t// allows keyboard events inside of the modal\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (e.type === \"mousedown\" && modal) {\n\t\t\t\tif (isEventInsideOfModal()) {\n\t\t\t\t\tmodal = false;\n\t\t\t\t}\n\t\t\t\tif (modal && !$(e.target).is(\":input\")) {\n\t\t\t\t\tsetFocusOnFirstVisibleInput(activeModal);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !modal;\n\t\t},\n\t\tbindOrUnbindEvents = function (bindOrUnbind) {\n\t\t\t// bindOrUnbind is either \"bind\" or \"unbind\" string\n\t\t\t$(document)[bindOrUnbind](\"keypress keydown mousedown\", keyOrMouseEventHandler);\n\t\t},\n\t\tregisterHideOrShow = function (w, trigger, key) {\n\t\t\treturn w.each(function () {\n\t\t\t\tvar jqm = this._jqm;\n\t\t\t\t$(trigger).each(function () {\n\t\t\t\t\tif (!this[key]) {\n\t\t\t\t\t\tthis[key] = [];\n\t\t\t\t\t\t$(this).click(function () {\n\t\t\t\t\t\t\tvar i, method, propertyName, methods = [\"jqmShow\", \"jqmHide\"];\n\t\t\t\t\t\t\tfor (i = 0; i < methods.length; i++) {\n\t\t\t\t\t\t\t\tmethod = methods[i];\n\t\t\t\t\t\t\t\tfor (propertyName in this[method]) {\n\t\t\t\t\t\t\t\t\tif (this[method].hasOwnProperty(propertyName) && jqmHash[this[method][propertyName]]) {\n\t\t\t\t\t\t\t\t\t\tjqmHash[this[method][propertyName]].w[method](this);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tthis[key].push(jqm);\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\n\t$.fn.jqm = function (o) {\n\t\tvar p = {\n\t\t\toverlay: 50,\n\t\t\tcloseoverlay: false,\n\t\t\toverlayClass: \"jqmOverlay\",\n\t\t\tcloseClass: \"jqmClose\",\n\t\t\ttrigger: \".jqModal\",\n\t\t\tajax: false,\n\t\t\tajaxText: \"\",\n\t\t\ttarget: false,\n\t\t\tmodal: false,\n\t\t\ttoTop: false,\n\t\t\tonShow: false,\n\t\t\tonHide: false,\n\t\t\tonLoad: false\n\t\t};\n\t\treturn this.each(function () {\n\t\t\tif (this._jqm) {\n\t\t\t\tjqmHash[this._jqm].c = $.extend({}, jqmHash[this._jqm].c, o);\n\t\t\t\treturn jqmHash[this._jqm].c;\n\t\t\t}\n\t\t\tjqmHashLength++;\n\t\t\tthis._jqm = jqmHashLength;\n\t\t\tjqmHash[jqmHashLength] = {\n\t\t\t\t// comment from https://github.com/briceburg/jqModal/blob/master/jqModal.js\n\t\t\t\t// hash object;\n\t\t\t\t//  w: (jQuery object) The modal element\n\t\t\t\t//  c: (object) The modal's options object\n\t\t\t\t//  o: (jQuery object) The overlay element\n\t\t\t\t//  t: (DOM object) The triggering element\n\t\t\t\tc: $.extend(p, $.jqm.params, o),\n\t\t\t\ta: false,\n\t\t\t\tw: $(this).addClass(\"jqmID\" + jqmHashLength),\n\t\t\t\ts: jqmHashLength // used as id too\n\t\t\t};\n\t\t\tif (p.trigger) {\n\t\t\t\t$(this).jqmAddTrigger(p.trigger);\n\t\t\t}\n\t\t});\n\t};\n\n\t$.fn.jqmAddClose = function (trigger) {\n\t\treturn registerHideOrShow(this, trigger, \"jqmHide\");\n\t};\n\t$.fn.jqmAddTrigger = function (trigger) {\n\t\treturn registerHideOrShow(this, trigger, \"jqmShow\");\n\t};\n\t$.fn.jqmShow = function (trigger) {\n\t\treturn this.each(function () {\n\t\t\t$.jqm.open(this._jqm, trigger);\n\t\t});\n\t};\n\t$.fn.jqmHide = function (trigger) {\n\t\treturn this.each(function () {\n\t\t\t$.jqm.close(this._jqm, trigger);\n\t\t});\n\t};\n\n\t$.jqm = {\n\t\thash: {},\n\t\topen: function (s, trigger) {\n\t\t\tvar h = jqmHash[s], $overlay, target, url,\n\t\t\t\toptions = h.c, parentOffset = h.w.parent().offset(), left, top,\n\t\t\t\tcc = \".\" + options.closeClass,\n\t\t\t\tz = (parseInt(h.w.css(\"z-index\"), 10));\n\t\t\tz = (z > 0) ? z : 3000;\n\t\t\t$overlay = $(\"<div></div>\").css({\n\t\t\t\theight: \"100%\",\n\t\t\t\twidth: \"100%\",\n\t\t\t\tposition: \"fixed\",\n\t\t\t\tleft: 0,\n\t\t\t\ttop: 0,\n\t\t\t\t\"z-index\": z - 1,\n\t\t\t\topacity: options.overlay / 100\n\t\t\t});\n\t\t\tif (h.a) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\th.t = trigger;\n\t\t\th.a = true;\n\t\t\th.w.css(\"z-index\", z);\n\t\t\tif ($(h.w[0].ownerDocument).data(\"ui-dialog-overlays\")) {\n\t\t\t\th.w.addClass(\"ui-dialog\"); // hack to allow input inside of jQuery UI modal\n\t\t\t}\n\t\t\tif (options.modal) {\n\t\t\t\tif (!createdModals[0]) {\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tbindOrUnbindEvents(\"bind\");\n\t\t\t\t\t}, 1);\n\t\t\t\t}\n\t\t\t\tcreatedModals.push(s);\n\t\t\t} else if (options.overlay > 0) {\n\t\t\t\tif (options.closeoverlay) {\n\t\t\t\t\th.w.jqmAddClose($overlay);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$overlay = false;\n\t\t\t}\n\n\t\t\th.o = $overlay ? $overlay.addClass(options.overlayClass).prependTo(\"body\") : false;\n\n\t\t\tif (options.ajax) {\n\t\t\t\ttarget = options.target || h.w;\n\t\t\t\turl = options.ajax;\n\t\t\t\ttarget = (typeof target === \"string\") ? $(target, h.w) : $(target);\n\t\t\t\turl = (url.substr(0, 1) === \"@\") ? $(trigger).attr(url.substring(1)) : url;\n\t\t\t\ttarget.html(options.ajaxText)\n\t\t\t\t\t.load(url, function () {\n\t\t\t\t\t\tif (options.onLoad) {\n\t\t\t\t\t\t\toptions.onLoad.call(this, h);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (cc) {\n\t\t\t\t\t\t\th.w.jqmAddClose($(cc, h.w));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetFocus(h);\n\t\t\t\t\t});\n\t\t\t} else if (cc) {\n\t\t\t\th.w.jqmAddClose($(cc, h.w));\n\t\t\t}\n\n\t\t\tif (options.toTop && h.o) {\n\t\t\t\tparentOffset = h.w.parent().offset();\n\t\t\t\tleft = parseFloat(h.w.css(\"left\") || 0);\n\t\t\t\ttop = parseFloat(h.w.css(\"top\") || 0);\n\t\t\t\th.w.before('<span id=\"jqmP' + h.w[0]._jqm + '\"></span>')\n\t\t\t\t\t.insertAfter(h.o);\n\t\t\t\th.w.css({ top: parentOffset.top + top, left: parentOffset.left + left });\n\t\t\t}\n\t\t\tif (options.onShow) {\n\t\t\t\toptions.onShow(h);\n\t\t\t} else {\n\t\t\t\th.w.show();\n\t\t\t}\n\t\t\tsetFocus(h);\n\t\t\treturn false;\n\t\t},\n\t\tclose: function (s) {\n\t\t\tvar h = jqmHash[s];\n\t\t\tif (!h.a) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\th.a = false;\n\t\t\tif (createdModals[0]) {\n\t\t\t\tcreatedModals.pop();\n\t\t\t\tif (!createdModals[0]) {\n\t\t\t\t\tbindOrUnbindEvents(\"unbind\");\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (h.c.toTop && h.o) {\n\t\t\t\t$(\"#jqmP\" + h.w[0]._jqm)\n\t\t\t\t\t.after(h.w)\n\t\t\t\t\t.remove();\n\t\t\t}\n\t\t\tif (h.c.onHide) {\n\t\t\t\th.c.onHide(h);\n\t\t\t} else {\n\t\t\t\th.w.hide();\n\t\t\t\tif (h.o) {\n\t\t\t\t\th.o.remove();\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tparams: {}\n\t};\n\tjqmHash = $.jqm.hash;\n\t// end module jqmodal\n\n\t/**\n\t * formatter for values but most of the values if for jqGrid\n\t * Some of this was inspired and based on how YUI does the table datagrid but in jQuery fashion\n\t * we are trying to keep it as light as possible\n\t * Joshua Burnett josh@9ci.com\n\t * http://www.greenbill.com\n\t *\n\t * Changes from Tony Tomov tony@trirand.com\n\t * Changed by Oleg Kiriljuk, oleg.kiriljuk@ok-soft-gmbh.com\n\t * Dual licensed under the MIT and GPL licenses:\n\t * http://www.opensource.org/licenses/mit-license.php\n\t * http://www.gnu.org/licenses/gpl-2.0.html\n\t *\n\t **/\n\t// begin module jquery.fmatter\n\t$.fmatter = $.fmatter || {};\n\tvar fmatter = $.fmatter,\n\t\tgetOptionByName = function (colModel, name) {\n\t\t\tvar option = colModel.formatoptions || {};\n\t\t\tif (option.hasOwnProperty(name)) {\n\t\t\t\treturn option[name];\n\t\t\t} else {\n\t\t\t\treturn (colModel.editoptions || {})[name];\n\t\t\t}\n\t\t},\n\t\tencodeAttr = function (v) {\n\t\t\treturn String(v).replace(/\\'/g, \"&#39;\");\n\t\t},\n\t\tparseCheckboxOptions = function (options) {\n\t\t\tvar colModel = options.colModel || options.cm, checked, unchecked,\n\t\t\t\ttitle = colModel.title !== false ?\n\t\t\t\t\t\" title='\" + encodeAttr(options.colName || colModel.name) + \"'\" :\n\t\t\t\t\t\"\",\n\t\t\t\tgetOption = function (name) {\n\t\t\t\t\treturn getOptionByName(colModel, name);\n\t\t\t\t},\n\t\t\t\tcheckedClasses = getOption(\"checkedClass\"),\n\t\t\t\tuncheckedClasses = getOption(\"uncheckedClass\"),\n\t\t\t\tvalue = getOption(\"value\"),\n\t\t\t\tyes = typeof value === \"string\" ? (value.split(\":\")[0] || \"Yes\") : \"Yes\",\n\t\t\t\tno = typeof value === \"string\" ? (value.split(\":\")[1] || \"No\") : \"No\",\n\t\t\t\tbuildCheckbox = function (classes) {\n\t\t\t\t\treturn \"<i class='\" + encodeAttr(classes) + \"'\" + title + \"></i>\";\n\t\t\t\t},\n\t\t\t\tdisabled = getOption(\"disabled\");\n\n\t\t\tif (disabled === undefined) {\n\t\t\t\tdisabled = jgrid.formatter.checkbox.disabled;\n\t\t\t}\n\n\t\t\tvar checkedIcon = base.getIconRes.call(this, \"checkbox.checked\"),\n\t\t\t\tcheckedIconClasses = base.getIconRes.call(this, \"checkbox.checkedClasses\"),\n\t\t\t\tuncheckedIcon = base.getIconRes.call(this, \"checkbox.unchecked\");\n\t\t\tif (disabled === true && (checkedClasses || uncheckedClasses || checkedIcon || uncheckedIcon)) {\n\t\t\t\tchecked = buildCheckbox(checkedClasses || checkedIcon);\n\t\t\t\tunchecked = buildCheckbox(uncheckedClasses || uncheckedIcon);\n\t\t\t\tcheckedClasses = checkedIconClasses ? checkedIconClasses : checkedClasses || checkedIcon;\n\t\t\t} else {\n\t\t\t\tcheckedClasses = \"\";\n\t\t\t\ttitle += disabled === true ? \" disabled='disabled'\" : \"\";\n\t\t\t\tchecked = \"<input type='checkbox' checked='checked'\" + title + \" />\";\n\t\t\t\tunchecked = \"<input type='checkbox'\" + title + \" />\";\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tcheckedClasses: checkedClasses,\n\t\t\t\tchecked: checked,\n\t\t\t\tunchecked: unchecked,\n\t\t\t\tyes: yes,\n\t\t\t\tno: no\n\t\t\t};\n\t\t},\n\t\t// http://jsperf.com/regex-vs-indexof-vs-in/12\n\t\t/*yesObject = Object.create(null, {\n\t\t\t1: { value: 1 },\n\t\t\tx: { value: 1 },\n\t\t\t\"true\": { value: 1 },\n\t\t\tyes: { value: 1 },\n\t\t\ton: { value: 1 }\n\t\t}),\n\t\tnoObject = Object.create(null, {\n\t\t\t0: { value: 1 },\n\t\t\t\"false\": { value: 1 },\n\t\t\tno: { value: 1 },\n\t\t\toff: { value: 1 }\n\t\t});*/\n\t\t// one can use typeof Object.create != \"function\" and use either\n\t\t// Object.create or simple object firm, but the performance differences\n\t\t// are so low, that the compatibility to IE8 is more important\n\t\tyesObject = { 1: 1, x: 1, \"true\": 1, yes: 1, y: 1, on: 1 },\n\t\tnoObject = { 0: 1, \"false\": 1, no: 1, n: 1, off: 1 };\n\t$.extend(true, jgrid, {\n\t\tformatter: { // setting common formatter settings, which are independent from the language and locale\n\t\t\tdate: {\n\t\t\t\tparseRe: /[#%\\\\\\/:_;.,\\t\\s\\-]/,\n\t\t\t\tmasks: {\n\t\t\t\t\tISO8601Long: \"Y-m-d H:i:s\",\n\t\t\t\t\tISO8601Short: \"Y-m-d\",\n\t\t\t\t\tSortableDateTime: \"Y-m-d\\\\TH:i:s\",\n\t\t\t\t\tUniversalSortableDateTime: \"Y-m-d H:i:sO\"\n\t\t\t\t},\n\t\t\t\treformatAfterEdit: true,\n\t\t\t\tuserLocalTime: false\n\t\t\t},\n\t\t\tbaseLinkUrl: \"\",\n\t\t\tshowAction: \"\",\n\t\t\ttarget: \"\",\n\t\t\tcheckbox: { disabled: true, defaultValue: false },\n\t\t\tidName: \"id\"\n\t\t},\n\t\tcmTemplate: {\n\t\t\tintegerStr: {\n\t\t\t\tformatter: \"integer\", align: \"right\", sorttype: \"integer\",\n\t\t\t\tsearchoptions: { sopt: [\"eq\", \"ne\", \"lt\", \"le\", \"gt\", \"ge\"] }\n\t\t\t},\n\t\t\tinteger: {\n\t\t\t\tformatter: \"integer\", align: \"right\", sorttype: \"integer\",\n\t\t\t\tconvertOnSave: function (options) {\n\t\t\t\t\tvar nData = options.newValue;\n\t\t\t\t\treturn isNaN(nData) ? nData : parseInt(nData, 10);\n\t\t\t\t},\n\t\t\t\tsearchoptions: { sopt: [\"eq\", \"ne\", \"lt\", \"le\", \"gt\", \"ge\"] }\n\t\t\t},\n\t\t\tnumberStr: {\n\t\t\t\tformatter: \"number\", align: \"right\", sorttype: \"number\",\n\t\t\t\tsearchoptions: { sopt: [\"eq\", \"ne\", \"lt\", \"le\", \"gt\", \"ge\"] }\n\t\t\t},\n\t\t\tnumber: {\n\t\t\t\tformatter: \"number\", align: \"right\", sorttype: \"number\",\n\t\t\t\tconvertOnSave: function (options) {\n\t\t\t\t\tvar nData = options.newValue;\n\t\t\t\t\treturn isNaN(nData) ? nData : parseFloat(nData);\n\t\t\t\t},\n\t\t\t\tsearchoptions: { sopt: [\"eq\", \"ne\", \"lt\", \"le\", \"gt\", \"ge\"] }\n\t\t\t},\n\t\t\tbooleanCheckbox: {\n\t\t\t\talign: \"center\", formatter: \"checkbox\", sorttype: \"boolean\",\n\t\t\t\tedittype: \"checkbox\", editoptions: { value: \"true:false\", defaultValue: \"false\" },\n\t\t\t\tconvertOnSave: function (options) {\n\t\t\t\t\tvar newValue = options.newValue,\n\t\t\t\t\t\tcheckboxOptions = parseCheckboxOptions.call(this, options),\n\t\t\t\t\t\tlowerCaseNewData = String(newValue).toLowerCase();\n\n\t\t\t\t\tif (yesObject[lowerCaseNewData] || lowerCaseNewData === checkboxOptions.yes.toLowerCase()) {\n\t\t\t\t\t\tnewValue = true;\n\t\t\t\t\t} else if (noObject[lowerCaseNewData] || lowerCaseNewData === checkboxOptions.no.toLowerCase()) {\n\t\t\t\t\t\tnewValue = false;\n\t\t\t\t\t}\n\t\t\t\t\treturn newValue;\n\t\t\t\t},\n\t\t\t\tstype: \"checkbox\", searchoptions: { sopt: [\"eq\"], value: \"true:false\" }\n\t\t\t},\n\t\t\t// TODO: add cmTemplate for currency and date\n\t\t\tactions: function () {\n\t\t\t\tvar p = this.p;\n\t\t\t\treturn {\n\t\t\t\t\tformatter: \"actions\",\n\t\t\t\t\twidth: (p != null && (base.isInCommonIconClass.call(this, \"fa\") || base.isInCommonIconClass.call(this, \"glyphicon\")) ?\n\t\t\t\t\t\t($(this).jqGrid(\"isBootstrapGuiStyle\") ? 45 : 39) : 40) + (jgrid.cellWidth() ? 5 : 0),\n\t\t\t\t\talign: \"center\",\n\t\t\t\t\tlabel: \"\",\n\t\t\t\t\tautoResizable: false,\n\t\t\t\t\ttitle: false,\n\t\t\t\t\tfrozen: true,\n\t\t\t\t\tfixed: true,\n\t\t\t\t\thidedlg: true,\n\t\t\t\t\tresizable: false,\n\t\t\t\t\tsortable: false,\n\t\t\t\t\tsearch: false,\n\t\t\t\t\teditable: false,\n\t\t\t\t\tviewable: false\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t});\n\tjgrid.cmTemplate.booleanCheckboxFa = jgrid.cmTemplate.booleanCheckbox;\n\n\t//opts can be id:row id for the row, rowdata:the data for the row, colmodel:the column model for this column\n\t//example {id:1234,}\n\t$.extend(fmatter, {\n\t\t// one can consider to use $.type instead of some functions below (see http://api.jquery.com/jQuery.type/)\n\t\tisObject: function (o) {\n\t\t\treturn (o && (typeof o === \"object\" || $.isFunction(o))) || false;\n\t\t},\n\t\tisNumber: function (o) {\n\t\t\t// probably Number.isFinite can be used instead.\n\t\t\treturn typeof o === \"number\" && isFinite(o); // return false for +infinity, -infinity, or NaN\n\t\t},\n\t\tisValue: function (o) {\n\t\t\treturn (this.isObject(o) || typeof o === \"string\" || this.isNumber(o) || typeof o === \"boolean\");\n\t\t},\n\t\tisEmpty: function (o) {\n\t\t\tif (typeof o !== \"string\" && this.isValue(o)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (!this.isValue(o)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\to = $.trim(o).replace(/&nbsp;/ig, \"\").replace(/&#160;/ig, \"\");\n\t\t\treturn o === \"\";\n\t\t},\n\t\tNumberFormat: function (nData, opts) {\n\t\t\tvar isNumber = fmatter.isNumber;\n\t\t\tif (!isNumber(nData)) {\n\t\t\t\tnData *= 1;\n\t\t\t}\n\t\t\tif (isNumber(nData)) {\n\t\t\t\tvar bNegative = (nData < 0);\n\t\t\t\tvar sOutput = String(nData);\n\t\t\t\tvar sDecimalSeparator = opts.decimalSeparator || \".\";\n\t\t\t\tvar nDotIndex;\n\t\t\t\tif (isNumber(opts.decimalPlaces)) {\n\t\t\t\t\t// Round to the correct decimal place\n\t\t\t\t\tvar nDecimalPlaces = opts.decimalPlaces;\n\t\t\t\t\t// we use rounding described in http://www.jacklmoore.com/notes/rounding-in-javascript/\n\t\t\t\t\tsOutput = String(Number(Math.round(nData + \"e\" + nDecimalPlaces) + \"e-\" + nDecimalPlaces));\n\t\t\t\t\tnDotIndex = sOutput.lastIndexOf(\".\");\n\t\t\t\t\tif (nDecimalPlaces > 0) {\n\t\t\t\t\t\t// Add the decimal separator\n\t\t\t\t\t\tif (nDotIndex < 0) {\n\t\t\t\t\t\t\tsOutput += sDecimalSeparator;\n\t\t\t\t\t\t\tnDotIndex = sOutput.length - 1;\n\t\t\t\t\t\t} else if (sDecimalSeparator !== \".\") { // Replace the \".\"\n\t\t\t\t\t\t\tsOutput = sOutput.replace(\".\", sDecimalSeparator);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Add missing zeros\n\t\t\t\t\t\twhile ((sOutput.length - 1 - nDotIndex) < nDecimalPlaces) {\n\t\t\t\t\t\t\tsOutput += \"0\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (opts.thousandsSeparator) {\n\t\t\t\t\tvar sThousandsSeparator = opts.thousandsSeparator;\n\t\t\t\t\tnDotIndex = sOutput.lastIndexOf(sDecimalSeparator);\n\t\t\t\t\tnDotIndex = (nDotIndex > -1) ? nDotIndex : sOutput.length;\n\t\t\t\t\t// we cut the part after the point for integer numbers\n\t\t\t\t\t// it will prevent storing/restoring of wrong numbers during inline editing\n\t\t\t\t\tvar sNewOutput = opts.decimalSeparator === undefined ? \"\" : sOutput.substring(nDotIndex);\n\t\t\t\t\tvar nCount = -1, i;\n\t\t\t\t\tfor (i = nDotIndex; i > 0; i--) {\n\t\t\t\t\t\tnCount++;\n\t\t\t\t\t\tif ((nCount % 3 === 0) && (i !== nDotIndex) && (!bNegative || (i > 1))) {\n\t\t\t\t\t\t\tsNewOutput = sThousandsSeparator + sNewOutput;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsNewOutput = sOutput.charAt(i - 1) + sNewOutput;\n\t\t\t\t\t}\n\t\t\t\t\tsOutput = sNewOutput;\n\t\t\t\t}\n\t\t\t\treturn sOutput;\n\n\t\t\t}\n\t\t\treturn nData;\n\t\t}\n\t});\n\tvar $FnFmatter = function (formatType, cellval, opts, rwd, act) {\n\t\t// build main options before element iteration\n\t\tvar v = cellval;\n\t\topts = $.extend({}, getGridRes.call($(this), \"formatter\"), opts);\n\n\t\ttry {\n\t\t\tv = $.fn.fmatter[formatType].call(this, cellval, opts, rwd, act);\n\t\t} catch (ignore) { }\n\t\treturn v;\n\t};\n\t$.fn.fmatter = $FnFmatter;\n\t$FnFmatter.getCellBuilder = function (formatType, opts, act) {\n\t\tvar cellBuilder = $.fn.fmatter[formatType] != null ? $.fn.fmatter[formatType].getCellBuilder : null;\n\t\treturn $.isFunction(cellBuilder) ?\n\t\t\tcellBuilder.call(this, $.extend({}, getGridRes.call($(this), \"formatter\"), opts), act) :\n\t\t\tnull;\n\t};\n\t$FnFmatter.defaultFormat = function (cellval, opts) {\n\t\treturn (fmatter.isValue(cellval) && cellval !== \"\") ? cellval : opts.defaultValue || \"&#160;\";\n\t};\n\tvar defaultFormat = $FnFmatter.defaultFormat,\n\t\tformatCheckboxValue = function (cellValue, checkboxOptions, colModel) {\n\t\t\tif (cellValue === undefined || fmatter.isEmpty(cellValue)) {\n\t\t\t\tvar defaultValue = getOptionByName(colModel, \"defaultValue\");\n\t\t\t\tif (defaultValue === undefined) {\n\t\t\t\t\tdefaultValue = checkboxOptions.no;\n\t\t\t\t}\n\t\t\t\tcellValue = defaultValue;\n\t\t\t}\n\t\t\t// see http://jsperf.com/regex-vs-indexof-vs-in/12\n\t\t\tcellValue = String(cellValue).toLowerCase();\n\t\t\treturn yesObject[cellValue] || cellValue === checkboxOptions.yes.toLowerCase() ?\n\t\t\t\tcheckboxOptions.checked :\n\t\t\t\tcheckboxOptions.unchecked;\n\t\t};\n\t$FnFmatter.email = function (cellval, opts) {\n\t\tif (!fmatter.isEmpty(cellval)) {\n\t\t\treturn \"<a href='mailto:\" + encodeAttr(cellval) + \"'>\" + cellval + \"</a>\";\n\t\t}\n\t\treturn defaultFormat(cellval, opts);\n\t};\n\t$FnFmatter.checkbox = function (cellValue, options) {\n\t\tvar checkboxOptions = parseCheckboxOptions.call(this, options);\n\t\treturn formatCheckboxValue(cellValue, checkboxOptions, options.colModel);\n\t};\n\t$FnFmatter.checkbox.getCellBuilder = function (options) {\n\t\tvar checkboxOptions, colModel = options.colModel;\n\n\t\toptions.colName = options.colName || this.p.colNames[options.pos];\n\t\tcheckboxOptions = parseCheckboxOptions.call(this, options);\n\n\t\treturn function (cellValue) {\n\t\t\treturn formatCheckboxValue(cellValue, checkboxOptions, colModel);\n\t\t};\n\t};\n\t$FnFmatter.checkbox.unformat = function (cellValue, options, elem) {\n\t\tvar checkboxOptions = parseCheckboxOptions.call(this, options),\n\t\t\t$elem = $(elem);\n\n\t\treturn (checkboxOptions.checkedClasses ?\n\t\t\tjgrid.hasAllClasses($elem.children(\"i,svg\"), checkboxOptions.checkedClasses) :\n\t\t\t$elem.children(\"input\").is(\":checked\")) ?\n\t\t\tcheckboxOptions.yes :\n\t\t\tcheckboxOptions.no;\n\t};\n\t$FnFmatter.checkboxFontAwesome4 = $FnFmatter.checkbox;\n\t$FnFmatter.checkboxFontAwesome4.getCellBuilder = $FnFmatter.checkbox.getCellBuilder;\n\t$FnFmatter.checkboxFontAwesome4.unformat = $FnFmatter.checkbox.unformat;\n\t$FnFmatter.link = function (cellval, opts) {\n\t\tvar colModel = opts.colModel, target = \"\", op = { target: opts.target };\n\t\tif (colModel != null) {\n\t\t\top = $.extend({}, op, colModel.formatoptions || {});\n\t\t}\n\t\tif (op.target) { target = \"target=\" + op.target; }\n\t\tif (!fmatter.isEmpty(cellval)) {\n\t\t\treturn \"<a \" + target + \" href='\" + encodeAttr(cellval) + \"'>\" + cellval + \"</a>\";\n\t\t}\n\t\treturn defaultFormat(cellval, op);\n\t};\n\t$FnFmatter.showlink = function (cellval, opts, rowData) {\n\t\tvar self = this, colModel = opts.colModel,\n\t\t\top = {\n\t\t\t\tbaseLinkUrl: opts.baseLinkUrl,\n\t\t\t\tshowAction: opts.showAction,\n\t\t\t\taddParam: opts.addParam || \"\",\n\t\t\t\ttarget: opts.target,\n\t\t\t\tidName: opts.idName,\n\t\t\t\threfDefaultValue: \"#\"\n\t\t\t},\n\t\t\ttarget = \"\",\n\t\t\tidUrl,\n\t\t\tidParam,\n\t\t\taddParam,\n\t\t\tgetOptionValue = function (option) {\n\t\t\t\treturn $.isFunction(option) ?\n\t\t\t\t\toption.call(self, {\n\t\t\t\t\t\tcellValue: cellval,\n\t\t\t\t\t\trowid: opts.rowId,\n\t\t\t\t\t\trowData: rowData,\n\t\t\t\t\t\toptions: op\n\t\t\t\t\t}) :\n\t\t\t\t\toption || \"\";\n\t\t\t};\n\n\t\tif (colModel != null) {\n\t\t\top = $.extend({}, op, colModel.formatoptions || {});\n\t\t}\n\n\t\tif (op.target) {\n\t\t\ttarget = \"target=\" + getOptionValue(op.target);\n\t\t}\n\t\tidUrl = getOptionValue(op.baseLinkUrl) + getOptionValue(op.showAction);\n\t\tidParam = op.idName ? encodeURIComponent(getOptionValue(op.idName)) + \"=\" + encodeURIComponent(getOptionValue(op.rowId) || opts.rowId) : \"\";\n\t\taddParam = getOptionValue(op.addParam);\n\t\tif (typeof addParam === \"object\" && addParam !== null) {\n\t\t\t// add \"&\" only in case of usage object for of addParam\n\t\t\taddParam = (idParam !== \"\" ? \"&\" : \"\") + $.param(addParam);\n\t\t}\n\t\tidUrl += !idParam && !addParam ? \"\" : \"?\" + idParam + addParam;\n\t\tif (idUrl === \"\") {\n\t\t\tidUrl = getOptionValue(op.hrefDefaultValue);\n\t\t}\n\t\tif (typeof cellval === \"string\" || fmatter.isNumber(cellval) || $.isFunction(op.cellValue)) {\n\t\t\t//add this one even if cellval is blank string\n\t\t\treturn \"<a \" + target + \" href='\" + encodeAttr(idUrl) + \"'>\" +\n\t\t\t\t($.isFunction(op.cellValue) ? getOptionValue(op.cellValue) : cellval) +\n\t\t\t\t\"</a>\";\n\t\t}\n\t\t// the code below will be called typically for undefined cellval or\n\t\t// if cellval have null value or some other unclear value like an object\n\t\t// and no cellValue callback function are defined \"to decode\" the value\n\t\treturn defaultFormat(cellval, op);\n\t};\n\t$FnFmatter.showlink.getCellBuilder = function (opts1) {\n\t\tvar op = {\n\t\t\t\tbaseLinkUrl: opts1.baseLinkUrl,\n\t\t\t\tshowAction: opts1.showAction,\n\t\t\t\taddParam: opts1.addParam || \"\",\n\t\t\t\ttarget: opts1.target,\n\t\t\t\tidName: opts1.idName,\n\t\t\t\threfDefaultValue: \"#\"\n\t\t\t},\n\t\t\tcolModel = opts1.colModel;\n\n\t\tif (colModel != null) {\n\t\t\top = $.extend({}, op, colModel.formatoptions || {});\n\t\t}\n\n\t\treturn function (cellval, opts, rowData) {\n\t\t\tvar self = this, rowid = opts.rowId, target = \"\", idUrl, idParam, addParam,\n\t\t\t\tgetOptionValue = function (option) {\n\t\t\t\t\treturn $.isFunction(option) ?\n\t\t\t\t\t\toption.call(self, {\n\t\t\t\t\t\t\tcellValue: cellval,\n\t\t\t\t\t\t\trowid: rowid,\n\t\t\t\t\t\t\trowData: rowData,\n\t\t\t\t\t\t\toptions: op\n\t\t\t\t\t\t}) :\n\t\t\t\t\t\toption || \"\";\n\t\t\t\t};\n\t\t\tif (op.target) {\n\t\t\t\ttarget = \"target=\" + getOptionValue(op.target);\n\t\t\t}\n\t\t\tidUrl = getOptionValue(op.baseLinkUrl) + getOptionValue(op.showAction);\n\t\t\tidParam = op.idName ? encodeURIComponent(getOptionValue(op.idName)) + \"=\" + encodeURIComponent(getOptionValue(rowid) || opts.rowId) : \"\";\n\t\t\taddParam = getOptionValue(op.addParam);\n\t\t\tif (typeof addParam === \"object\" && addParam !== null) {\n\t\t\t\t// add \"&\" only in case of usage object for of addParam\n\t\t\t\taddParam = (idParam !== \"\" ? \"&\" : \"\") + $.param(addParam);\n\t\t\t}\n\t\t\tidUrl += !idParam && !addParam ? \"\" : \"?\" + idParam + addParam;\n\t\t\tif (idUrl === \"\") {\n\t\t\t\tidUrl = getOptionValue(op.hrefDefaultValue);\n\t\t\t}\n\t\t\tif (typeof cellval === \"string\" || fmatter.isNumber(cellval) || $.isFunction(op.cellValue)) {\n\t\t\t\t//add this one even if cellval is blank string\n\t\t\t\treturn \"<a \" + target + \" href='\" + encodeAttr(idUrl) + \"'>\" +\n\t\t\t\t\t($.isFunction(op.cellValue) ? getOptionValue(op.cellValue) : cellval) +\n\t\t\t\t\t\"</a>\";\n\t\t\t}\n\t\t\t// the code below will be called typically for undefined cellval or\n\t\t\t// if cellval have null value or some other unclear value like an object\n\t\t\t// and no cellValue callback function are defined \"to decode\" the value\n\t\t\treturn defaultFormat(cellval, op);\n\t\t};\n\t};\n\t$FnFmatter.showlink.pageFinalization = function (iCol) {\n\t\tvar $self = $(this), p = this.p, cm = p.colModel[iCol],\n\t\t\twrapperClassName = p.autoResizing.wrapperClassName,\n\t\t\tiRow, rows = this.rows, nRows = rows.length, row, td,\n\t\t\tonClick = function (e) {\n\t\t\t\tvar $td = $(this).closest(\"tr.jqgrow>td\"), $tr = $td.parent(), iCol = $td[0].cellIndex, cm = p.colModel[iCol];\n\t\t\t\tif ($tr.length > 0) {\n\t\t\t\t\treturn cm.formatoptions.onClick.call($self[0], {\n\t\t\t\t\t\tiCol: iCol,\n\t\t\t\t\t\tiRow: $tr[0].rowIndex,\n\t\t\t\t\t\trowid: $tr.attr(\"id\"),\n\t\t\t\t\t\tcm: cm,\n\t\t\t\t\t\tcmName: cm.name,\n\t\t\t\t\t\tcellValue: $(this).text(),\n\t\t\t\t\t\ta: this,\n\t\t\t\t\t\tevent: e\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\tif (cm.formatoptions != null && $.isFunction(cm.formatoptions.onClick)) {\n\t\t\tfor (iRow = 0; iRow < nRows; iRow++) {\n\t\t\t\trow = rows[iRow];\n\t\t\t\tif ($(row).hasClass(\"jqgrow\")) {\n\t\t\t\t\ttd = row.cells[iCol];\n\t\t\t\t\tif (cm.autoResizable && td != null && $(td.firstChild).hasClass(wrapperClassName)) {\n\t\t\t\t\t\ttd = td.firstChild;\n\t\t\t\t\t}\n\t\t\t\t\tif (td != null) {\n\t\t\t\t\t\t$(td.firstChild).on(\"click\", onClick);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\tvar insertPrefixAndSuffix = function (sOutput, opts) {\n\t\t\t// Prepend prefix\n\t\t\tsOutput = (opts.prefix) ? opts.prefix + sOutput : sOutput;\n\t\t\t// Append suffix\n\t\t\treturn (opts.suffix) ? sOutput + opts.suffix : sOutput;\n\t\t},\n\t\tnumberHelper = function (cellval, opts, formatType) {\n\t\t\tvar colModel = opts.colModel, op = $.extend({}, opts[formatType]);\n\t\t\tif (colModel != null) {\n\t\t\t\top = $.extend({}, op, colModel.formatoptions || {});\n\t\t\t}\n\t\t\tif (fmatter.isEmpty(cellval)) {\n\t\t\t\treturn insertPrefixAndSuffix(op.defaultValue, op);\n\t\t\t}\n\t\t\treturn insertPrefixAndSuffix(fmatter.NumberFormat(cellval, op), op);\n\t\t};\n\t$FnFmatter.integer = function (cellval, opts) {\n\t\treturn numberHelper(cellval, opts, \"integer\");\n\t};\n\t$FnFmatter.number = function (cellval, opts) {\n\t\treturn numberHelper(cellval, opts, \"number\");\n\t};\n\t$FnFmatter.currency = function (cellval, opts) {\n\t\treturn numberHelper(cellval, opts, \"currency\");\n\t};\n\n\tvar numberCellBuilder = function (opts, formatType) {\n\t\tvar colModel = opts.colModel, op = $.extend({}, opts[formatType]);\n\t\tif (colModel != null) {\n\t\t\top = $.extend({}, op, colModel.formatoptions || {});\n\t\t}\n\t\tvar numberFormat = fmatter.NumberFormat,\n\t\t\tdefaultValue = op.defaultValue ? insertPrefixAndSuffix(op.defaultValue, op) : \"\";\n\n\t\treturn function (cellValue) {\n\t\t\tif (fmatter.isEmpty(cellValue)) { return defaultValue; }\n\t\t\treturn insertPrefixAndSuffix(numberFormat(cellValue, op), op);\n\t\t};\n\t};\n\t$FnFmatter.integer.getCellBuilder = function (options) {\n\t\treturn numberCellBuilder(options, \"integer\");\n\t};\n\t$FnFmatter.number.getCellBuilder = function (options) {\n\t\treturn numberCellBuilder(options, \"number\");\n\t};\n\t$FnFmatter.currency.getCellBuilder = function (options) {\n\t\treturn numberCellBuilder(options, \"currency\");\n\t};\n\t$FnFmatter.date = function (cellval, opts, rwd, act) {\n\t\tvar colModel = opts.colModel, op = $.extend({}, opts.date);\n\t\tif (colModel != null) {\n\t\t\top = $.extend({}, op, colModel.formatoptions || {});\n\t\t}\n\t\tif (!op.reformatAfterEdit && act === \"edit\") {\n\t\t\treturn defaultFormat(cellval, op);\n\t\t}\n\t\tif (!fmatter.isEmpty(cellval)) {\n\t\t\treturn jgrid.parseDate.call(this, op.srcformat, cellval, op.newformat, op);\n\t\t}\n\t\treturn defaultFormat(cellval, op);\n\t};\n\t$FnFmatter.date.getCellBuilder = function (opts, act) {\n\t\tvar op = $.extend({}, opts.date);\n\t\tif (opts.colModel != null) {\n\t\t\top = $.extend({}, op, opts.colModel.formatoptions || {});\n\t\t}\n\t\tvar parseDate = jgrid.parseDate,\n\t\t\tsrcformat = op.srcformat, newformat = op.newformat;\n\t\tif (!op.reformatAfterEdit && act === \"edit\") {\n\t\t\treturn function (cellValue) {\n\t\t\t\treturn defaultFormat(cellValue, op);\n\t\t\t};\n\t\t}\n\t\treturn function (cellValue) {\n\t\t\treturn fmatter.isEmpty(cellValue) ?\n\t\t\t\tdefaultFormat(cellValue, op) :\n\t\t\t\tparseDate.call(this, srcformat, cellValue, newformat, op);\n\t\t};\n\t};\n\t$FnFmatter.select = function (cellval, opts) {\n\t\tvar ret = [], colModel = opts.colModel, defaultValue,\n\t\t\top = $.extend({}, colModel.editoptions || {}, colModel.formatoptions || {}),\n\t\t\toSelect = typeof op.value === \"function\" ? op.value() : op.value, sep = op.separator || \":\", delim = op.delimiter || \";\";\n\t\tif (oSelect) {\n\t\t\tvar msl = op.multiple === true ? true : false, scell = [], sv,\n\t\t\t\tmapFunc = function (n, j) { if (j > 0) { return n; } };\n\t\t\tif (msl) {\n\t\t\t\tscell = $.map(String(cellval).split(\",\"), function (n) { return $.trim(n); });\n\t\t\t}\n\t\t\tif (typeof oSelect === \"string\") {\n\t\t\t\t// maybe here we can use some caching with care ????\n\t\t\t\tvar so = oSelect.split(delim), i, v;\n\t\t\t\tfor (i = 0; i < so.length; i++) {\n\t\t\t\t\tsv = so[i].split(sep);\n\t\t\t\t\tif (sv.length > 2) {\n\t\t\t\t\t\tsv[1] = $.map(sv, mapFunc).join(sep);\n\t\t\t\t\t}\n\t\t\t\t\tv = $.trim(sv[0]);\n\t\t\t\t\tif (op.defaultValue === v) {\n\t\t\t\t\t\tdefaultValue = sv[1];\n\t\t\t\t\t}\n\t\t\t\t\tif (msl) {\n\t\t\t\t\t\tif ($.inArray(v, scell) > -1) {\n\t\t\t\t\t\t\tret.push(sv[1]);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (v === $.trim(cellval)) {\n\t\t\t\t\t\tret = [sv[1]];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (fmatter.isObject(oSelect)) {\n\t\t\t\tdefaultValue = oSelect[op.defaultValue];\n\t\t\t\tif (msl) {\n\t\t\t\t\tret = $.map(scell, function (n) {\n\t\t\t\t\t\treturn oSelect[n];\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tret = [oSelect[cellval] === undefined ? \"\" : oSelect[cellval]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcellval = ret.join(\", \");\n\t\treturn cellval !== \"\" ? cellval :\n\t\t\t(op.defaultValue !== undefined ? defaultValue : defaultFormat(cellval, op));\n\t};\n\t$FnFmatter.select.getCellBuilder = function (opts) {\n\t\t// jqGrid specific\n\t\tvar colModel = opts.colModel, $fnDefaultFormat = $FnFmatter.defaultFormat,\n\t\t\top = $.extend({}, colModel.editoptions || {}, colModel.formatoptions || {}),\n\t\t\toSelect = typeof op.value === \"function\" ? op.value() : op.value, sep = op.separator || \":\", delim = op.delimiter || \";\",\n\t\t\tdefaultValue, defaultValueDefined = op.defaultValue !== undefined,\n\t\t\tisMultiple = op.multiple === true ? true : false, sv, so, i, nOpts, selOptions = {},\n\t\t\tmapFunc = function (n, j) { if (j > 0) { return n; } };\n\t\tif (typeof oSelect === \"string\") {\n\t\t\t// maybe here we can use some caching with care ????\n\t\t\tso = oSelect.split(delim);\n\t\t\tnOpts = so.length;\n\t\t\tfor (i = nOpts - 1; i >= 0; i--) {\n\t\t\t\tsv = so[i].split(sep);\n\t\t\t\tif (sv.length > 2) {\n\t\t\t\t\tsv[1] = $.map(sv, mapFunc).join(sep);\n\t\t\t\t}\n\t\t\t\tselOptions[$.trim(sv[0])] = sv[1];\n\t\t\t}\n\t\t} else if (fmatter.isObject(oSelect)) {\n\t\t\tselOptions = oSelect;\n\t\t} else {\n\t\t\treturn function (cellValue) {\n\t\t\t\treturn cellValue ? String(cellValue) : $fnDefaultFormat(cellValue, op);\n\t\t\t};\n\t\t}\n\t\tif (defaultValueDefined) {\n\t\t\tdefaultValue = selOptions[op.defaultValue];\n\t\t}\n\t\treturn isMultiple ?\n\t\t\tfunction (cellValue) {\n\t\t\t\tvar ret = [], iOpt,\n\t\t\t\t\tsplitedCell = $.map(String(cellValue).split(\",\"), function (n) { return $.trim(n); });\n\t\t\t\tfor (iOpt = 0; iOpt < splitedCell.length; iOpt++) {\n\t\t\t\t\tcellValue = splitedCell[iOpt];\n\t\t\t\t\tif (selOptions.hasOwnProperty(cellValue)) {\n\t\t\t\t\t\tret.push(selOptions[cellValue]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcellValue = ret.join(\", \");\n\t\t\t\treturn cellValue !== \"\" ? cellValue :\n\t\t\t\t\t(defaultValueDefined ? defaultValue : $fnDefaultFormat(cellValue, op));\n\t\t\t} :\n\t\t\tfunction (cellValue) {\n\t\t\t\tvar ret = selOptions[String(cellValue)];\n\t\t\t\treturn ret !== \"\" && ret !== undefined ? ret :\n\t\t\t\t\t(defaultValueDefined ? defaultValue : $fnDefaultFormat(cellValue, op));\n\t\t\t};\n\t};\n\t$FnFmatter.rowactions = function (e, act) {\n\t\tvar $td = $(this).closest(\"tr.jqgrow>td\"), $tr = $td.parent(), rid = $tr.attr(\"id\"),\n\t\t\t$id = $(this).closest(\"table.ui-jqgrid-btable\").attr(\"id\").replace(/_frozen([^_]*)$/, \"$1\"),\n\t\t\t$grid = $(\"#\" + jgrid.jqID($id)), $t = $grid[0], p = $t.p, i, n, customAction, actop,\n\t\t\trelativeTop = jgrid.getRelativeRect.call($t, $tr).top,\n\t\t\tcm = p.colModel[$td[0].cellIndex],\n\t\t\top = $.extend(true, { extraparam: {} }, jgrid.actionsNav || {},\tp.actionsNavOptions || {}, cm.formatoptions || {});\n\n\t\tif (p.editOptions !== undefined) {\n\t\t\top.editOptions = $.extend(true, op.editOptions || {}, p.editOptions);\n\t\t}\n\t\tif (p.delOptions !== undefined) {\n\t\t\top.delOptions = p.delOptions;\n\t\t}\n\t\tif ($tr.hasClass(\"jqgrid-new-row\")) {\n\t\t\top.extraparam[p.prmNames.oper] = p.prmNames.addoper;\n\t\t}\n\t\tactop = {\n\t\t\tkeys: op.keys,\n\t\t\toneditfunc: op.onEdit,\n\t\t\tsuccessfunc: op.onSuccess,\n\t\t\turl: op.url,\n\t\t\textraparam: op.extraparam,\n\t\t\taftersavefunc: op.afterSave,\n\t\t\terrorfunc: op.onError,\n\t\t\tafterrestorefunc: op.afterRestore,\n\t\t\trestoreAfterError: op.restoreAfterError,\n\t\t\tmtype: op.mtype\n\t\t};\n\n\t\tif ((!p.multiselect && rid !== p.selrow) || (p.multiselect && $.inArray(rid, p.selarrrow) < 0)) {\n\t\t\t$grid.jqGrid(\"setSelection\", rid, true, e);\n\t\t} else {\n\t\t\tjgrid.fullBoolFeedback.call($t, \"onSelectRow\", \"jqGridSelectRow\", rid, true, e);\n\t\t}\n\t\tswitch (act) {\n\t\t\tcase \"edit\":\n\t\t\t\t$grid.jqGrid(\"editRow\", rid, actop);\n\t\t\t\tbreak;\n\t\t\tcase \"save\":\n\t\t\t\t$grid.jqGrid(\"saveRow\", rid, actop);\n\t\t\t\tbreak;\n\t\t\tcase \"cancel\":\n\t\t\t\t$grid.jqGrid(\"restoreRow\", rid, op.afterRestore);\n\t\t\t\tbreak;\n\t\t\tcase \"del\":\n\t\t\t\top.delOptions = op.delOptions || {};\n\t\t\t\tif (op.delOptions.top === undefined) {\n\t\t\t\t\top.delOptions.top = relativeTop;\n\t\t\t\t}\n\t\t\t\t$grid.jqGrid(\"delGridRow\", rid, op.delOptions);\n\t\t\t\tbreak;\n\t\t\tcase \"formedit\":\n\t\t\t\top.editOptions = op.editOptions || {};\n\t\t\t\tif (op.editOptions.top === undefined) {\n\t\t\t\t\top.editOptions.top = relativeTop;\n\t\t\t\t\top.editOptions.recreateForm = true;\n\t\t\t\t}\n\t\t\t\t$grid.jqGrid(\"editGridRow\", rid, op.editOptions);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tif (op.custom != null && op.custom.length > 0) {\n\t\t\t\t\tn = op.custom.length;\n\t\t\t\t\tfor (i = 0; i < n; i++) {\n\t\t\t\t\t\tcustomAction = op.custom[i];\n\t\t\t\t\t\tif (customAction.action === act && $.isFunction(customAction.onClick)) {\n\t\t\t\t\t\t\tcustomAction.onClick.call($t, { rowid: rid, event: e, action: act, options: customAction });\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t}\n\t\tif (e.stopPropagation) {\n\t\t\te.stopPropagation();\n\t\t}\n\t\treturn false; // prevent other processing of the click on the row\n\t};\n\t$FnFmatter.actions = function (cellval, opts, rwd, act) {\n\t\tvar rowid = opts.rowId, str = \"\", $t = this, $self = $($t), i, info, customAction, displayMask = {},\n\t\t\tedit = getGridRes.call($self, \"edit\") || {},\n\t\t\top = $.extend({\n\t\t\t\t\teditbutton: true,\n\t\t\t\t\tdelbutton: true,\n\t\t\t\t\teditformbutton: false,\n\t\t\t\t\tcommonIconClass: \"ui-icon\",\n\t\t\t\t\tediticon: \"ui-icon-pencil\",\n\t\t\t\t\tdelicon: \"ui-icon-trash\",\n\t\t\t\t\tsaveicon: \"ui-icon-disk\",\n\t\t\t\t\tcancelicon: \"ui-icon-cancel\",\n\t\t\t\t\tsavetitle: edit.bSubmit || \"\",\n\t\t\t\t\tcanceltitle: edit.bCancel || \"\"\n\t\t\t\t},\n\t\t\t\tgetGridRes.call($self, \"nav\") || {},\n\t\t\t\tjgrid.nav || {},\n\t\t\t\t$t.p.navOptions || {},\n\t\t\t\tgetGridRes.call($self, \"actionsNav\") || {},\n\t\t\t\tjgrid.actionsNav || {},\n\t\t\t\t$t.p.actionsNavOptions || {},\n\t\t\t\t(opts.colModel || {}).formatoptions || {}),\n\t\t\tcssIconClass = function (name) {\n\t\t\t\treturn jgrid.mergeCssClasses(op.commonIconClass, op[name + \"icon\"]);\n\t\t\t},\n\t\t\tbuttonInfos = [\n\t\t\t\t{ action: \"edit\", actionName: \"formedit\", display: op.editformbutton },\n\t\t\t\t{ action: \"edit\", display: !op.editformbutton && op.editbutton },\n\t\t\t\t{ action: \"del\", idPrefix: \"Delete\", display: op.delbutton },\n\t\t\t\t{ action: \"save\", display: op.editformbutton || op.editbutton, hidden: true },\n\t\t\t\t{ action: \"cancel\", display: op.editformbutton || op.editbutton, hidden: true }\n\t\t\t],\n\t\t\tactionButton = function (options) {\n\t\t\t\tvar action = options.action, actionName = options.actionName || action,\n\t\t\t\t\tidPrefix = options.idPrefix !== undefined ? options.idPrefix : (action.charAt(0).toUpperCase() + action.substring(1));\n\t\t\t\treturn \"<div title='\" + encodeAttr(op[action + \"title\"]) +\n\t\t\t\t\t(options.hidden ? \"' style='display:none;\" : \"\") +\n\t\t\t\t\t\"' class='\" + encodeAttr($self.jqGrid(\"getGuiStyles\", \"actionsButton\", \"ui-pg-div ui-inline-\" + action)) + \"' \" +\n\t\t\t\t\t(idPrefix !== null ? \"id='j\" + encodeAttr(idPrefix + \"Button_\" + rowid) : \"\") +\n\t\t\t\t\t\"' data-jqactionname=\\\"\" + actionName + \"\\\" \" +\n\t\t\t\t\t(options.noHovering ? \"\" : \"' data-jqhovering=\\\"1\\\" \") +\n\t\t\t\t\t\"><span class='\" +\n\t\t\t\t\tencodeAttr(cssIconClass(action)) + \"'></span></div>\";\n\t\t\t},\n\t\t\tn = op.custom != null ? op.custom.length - 1 : -1;\n\n\t\tif (rowid === undefined || fmatter.isEmpty(rowid)) { return \"\"; }\n\n\t\tif ($.isFunction(op.isDisplayButtons)) {\n\t\t\ttry {\n\t\t\t\tdisplayMask = op.isDisplayButtons.call(this, op, rwd, act) || {};\n\t\t\t} catch (ignore) {}\n\t\t}\n\t\twhile (n >= 0) {\n\t\t\tcustomAction = op.custom[n--];\n\t\t\tbuttonInfos[customAction.position === \"first\" ? \"unshift\" : \"push\"](customAction);\n\t\t}\n\n\t\tfor (i = 0, n = buttonInfos.length; i < n; i++) {\n\t\t\tinfo = $.extend({}, buttonInfos[i], displayMask[buttonInfos[i].action] || {});\n\t\t\tif (info.display !== false) {\n\t\t\t\tstr += actionButton(info);\n\t\t\t}\n\t\t}\n\t\treturn \"<div class='\" + encodeAttr($self.jqGrid(\"getGuiStyles\", \"actionsDiv\", \"ui-jqgrid-actions\")) + \"'>\" + str + \"</div>\";\n\t};\n\t$FnFmatter.actions.pageFinalization = function (iCol) {\n\t\tvar $self = $(this), p = this.p, cm = p.colModel[iCol],\n\t\t\twrapperClassName = p.autoResizing.wrapperClassName,\n\t\t\thoverClass = $self.jqGrid(\"getGuiStyles\", \"states.hover\"),\n\t\t\tiRow, rows = this.rows, fbRows = this.grid.fbRows, nRows = rows.length, row,\n\t\t\tshowHideEditDelete = (function (cmName) {\n\t\t\t\treturn function (show, tr) {\n\t\t\t\t\tvar maxfrozen = 0, $actionsDiv, colModel = p.colModel, len = colModel.length, i, iCol = p.iColByName[cmName];\n\t\t\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\t\t\t// from left, no breaking frozen\n\t\t\t\t\t\tif (colModel[i].frozen !== true) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmaxfrozen = i;\n\t\t\t\t\t}\n\t\t\t\t\tif (tr != null && tr.cells != null) {\n\t\t\t\t\t\t$actionsDiv = $(tr.cells[iCol]).children(\".ui-jqgrid-actions\");\n\t\t\t\t\t\tif (colModel[iCol].frozen && p.frozenColumns && iCol <= maxfrozen) {\n\t\t\t\t\t\t\t// uses the corresponding tr from frozen div with the same rowIndex ADDITIONALLY\n\t\t\t\t\t\t\t// to the standard action div\n\t\t\t\t\t\t\t$actionsDiv = $actionsDiv\n\t\t\t\t\t\t\t\t.add($($self[0].grid.fbRows[tr.rowIndex].cells[iCol])\n\t\t\t\t\t\t\t\t\t.children(\".ui-jqgrid-actions\"));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (show) {\n\t\t\t\t\t\t\t$actionsDiv.find(\">.ui-inline-edit,>.ui-inline-del\").show();\n\t\t\t\t\t\t\t$actionsDiv.find(\">.ui-inline-save,>.ui-inline-cancel\").hide();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$actionsDiv.find(\">.ui-inline-edit,>.ui-inline-del\").hide();\n\t\t\t\t\t\t\t$actionsDiv.find(\">.ui-inline-save,>.ui-inline-cancel\").show();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t})(cm.name),\n\t\t\tshowEditDelete = function (e, rowid) {\n\t\t\t\tvar tr = $self.jqGrid(\"getGridRowById\", rowid);\n\t\t\t\tshowHideEditDelete(true, tr);\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\thideEditDelete = function (e, rowid) {\n\t\t\t\tvar tr = $self.jqGrid(\"getGridRowById\", rowid);\n\t\t\t\tshowHideEditDelete(false, tr);\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\tonMouseOver = function (e) {\n\t\t\t\tif ($(e.target).closest(\"div.ui-pg-div\").data(\"jqhovering\") === 1) {\n\t\t\t\t\t$(this).addClass(hoverClass);\n\t\t\t\t}\n\t\t\t},\n\t\t\tonMouseOut = function (e) {\n\t\t\t\tif ($(e.target).closest(\"div.ui-pg-div\").data(\"jqhovering\") === 1) {\n\t\t\t\t\t$(this).removeClass(hoverClass);\n\t\t\t\t}\n\t\t\t},\n\t\t\tonClick = function (e) {\n\t\t\t\treturn $FnFmatter.rowactions.call(this, e, $(e.target).closest(\"div.ui-pg-div\").data(\"jqactionname\"));\n\t\t\t},\n\t\t\tbindEvents = function (td, autoResizable) {\n\t\t\t\tif (autoResizable && td != null && $(td.firstChild).hasClass(wrapperClassName)) {\n\t\t\t\t\ttd = td.firstChild;\n\t\t\t\t}\n\t\t\t\tif (td != null) {\n\t\t\t\t\t$(td.firstChild).on(\"click\", onClick);\n\t\t\t\t\t$(td.firstChild).children(\"div.ui-pg-div\")\n\t\t\t\t\t\t.on(\"mouseover\", onMouseOver)\n\t\t\t\t\t\t.on(\"mouseout\", onMouseOut);\n\t\t\t\t}\n\t\t\t},\n\t\t\tbindRowEvents = (function (cmName) {\n\t\t\t\treturn function (e, options) {\n\t\t\t\t\tvar iColToBind = p.iColByName[cmName]; // it could be changed index because of reordering of columns\n\t\t\t\t\tbindEvents(options.tr.cells[iColToBind], p.colModel[iColToBind].autoResizable);\n\t\t\t\t};\n\t\t\t})(cm.name);\n\n\t\tif (cm.formatoptions == null || !cm.formatoptions.editformbutton) {\n\t\t\t// we use unbind to be sure that we don't register the same events multiple times\n\t\t\t$self.off(\"jqGridInlineAfterRestoreRow.jqGridFormatter jqGridInlineAfterSaveRow.jqGridFormatter\", showEditDelete);\n\t\t\t$self.on(\"jqGridInlineAfterRestoreRow.jqGridFormatter jqGridInlineAfterSaveRow.jqGridFormatter\", showEditDelete);\n\t\t\t$self.off(\"jqGridInlineEditRow.jqGridFormatter\", hideEditDelete);\n\t\t\t$self.on(\"jqGridInlineEditRow.jqGridFormatter\", hideEditDelete);\n\t\t\t$self.off(\"jqGridAfterAddRow.jqGridFormatter\", bindRowEvents);\n\t\t\t$self.on(\"jqGridAfterAddRow.jqGridFormatter\", bindRowEvents);\n\t\t}\n\t\tfor (iRow = 0; iRow < nRows; iRow++) {\n\t\t\trow = rows[iRow];\n\t\t\tif ($(row).hasClass(\"jqgrow\")) {\n\t\t\t\tbindEvents(row.cells[iCol], cm.autoResizable);\n\t\t\t\tif (fbRows != null && fbRows[iRow] != null) {\n\t\t\t\t\tbindEvents(fbRows[iRow].cells[iCol], cm.autoResizable);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\t$.unformat = function (cellval, options, pos, cnt) {\n\t\t// specific for jqGrid only\n\t\tvar ret, colModel = options.colModel, formatType = colModel.formatter, p = this.p,\n\t\t\top = colModel.formatoptions || {},// sep,\n\t\t\t//re = /([\\.\\*\\_\\'\\(\\)\\{\\}\\+\\?\\\\])/g,\n\t\t\tunformatFunc = colModel.unformat || ($FnFmatter[formatType] && $FnFmatter[formatType].unformat);\n\t\tif (cellval instanceof jQuery && cellval.length > 0) {\n\t\t\tcellval = cellval[0];\n\t\t}\n\t\tif (p.treeGrid && cellval != null && $(cellval.firstChild).hasClass(\"tree-wrap\") && ($(cellval.lastChild).hasClass(\"cell-wrapper\") || $(cellval.lastChild).hasClass(\"cell-wrapperleaf\"))) {\n\t\t\tcellval = cellval.lastChild;\n\t\t}\n\t\tif (colModel.autoResizable && cellval != null && $(cellval.firstChild).hasClass(p.autoResizing.wrapperClassName)) {\n\t\t\tcellval = cellval.firstChild;\n\t\t}\n\t\tif (unformatFunc !== undefined && $.isFunction(unformatFunc)) {\n\t\t\tret = unformatFunc.call(this, $(cellval).text(), options, cellval);\n\t\t} else if (formatType !== undefined && typeof formatType === \"string\") {\n\t\t\t//var opts = $.extend(true, {}, getRes(locales[p.locale], \"formatter\"), jgrid.formatter || {}), stripTag;\n\t\t\tvar $self = $(this), //stripTag, //opts = getGridRes.call($self, \"formatter\"),\n\t\t\t\tgetFormaterOption = function (formatterName, optionName) {\n\t\t\t\t\treturn op[optionName] !== undefined ?\n\t\t\t\t\t\top[optionName] :\n\t\t\t\t\t\tgetGridRes.call($self, \"formatter.\" + formatterName + \".\" + optionName);\n\t\t\t\t},\n\t\t\t\tcutThousandsSeparator = function (formatterName, val) {\n\t\t\t\t\tvar separator = getFormaterOption(formatterName, \"thousandsSeparator\")\n\t\t\t\t\t\t.replace(/([\\.\\*\\_\\'\\(\\)\\{\\}\\+\\?\\\\])/g, \"\\\\$1\");\n\t\t\t\t\treturn val.replace(new RegExp(separator, \"g\"), \"\");\n\t\t\t\t};\n\t\t\tswitch (formatType) {\n\t\t\t\tcase \"integer\":\n\t\t\t\t\tret = cutThousandsSeparator(\"integer\", $(cellval).text());\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"number\":\n\t\t\t\t\tret = cutThousandsSeparator(\"number\", $(cellval).text())\n\t\t\t\t\t\t.replace(getFormaterOption(\"number\", \"decimalSeparator\"), \".\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"currency\":\n\t\t\t\t\tret = $(cellval).text();\n\t\t\t\t\tvar prefix = getFormaterOption(\"currency\", \"prefix\"),\n\t\t\t\t\t\tsuffix = getFormaterOption(\"currency\", \"suffix\");\n\t\t\t\t\tif (prefix && prefix.length) {\n\t\t\t\t\t\tret = ret.substr(prefix.length);\n\t\t\t\t\t}\n\t\t\t\t\tif (suffix && suffix.length) {\n\t\t\t\t\t\tret = ret.substr(0, ret.length - suffix.length);\n\t\t\t\t\t}\n\t\t\t\t\tret = cutThousandsSeparator(\"number\", ret)\n\t\t\t\t\t\t.replace(getFormaterOption(\"number\", \"decimalSeparator\"), \".\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"checkbox\":\n\t\t\t\t\tret = $FnFmatter.checkbox.unformat(cellval, options, cellval);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"select\":\n\t\t\t\t\tret = $.unformat.select(cellval, options, pos, cnt);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"actions\":\n\t\t\t\t\treturn \"\";\n\t\t\t\tdefault:\n\t\t\t\t\tret = $(cellval).text();\n\t\t\t}\n\t\t}\n\t\tret = ret !== undefined ? ret : cnt === true ? $(cellval).text() : jgrid.htmlDecode($(cellval).html());\n\t\treturn ret;\n\t};\n\t$.unformat.select = function (cellval, options, pos, cnt) {\n\t\t// Spacial case when we have local data and perform a sort\n\t\t// cnt is set to true only in sortDataArray\n\t\tvar ret = [], cell = $(cellval).text(), colModel = options.colModel;\n\t\tif (cnt === true) { return cell; }\n\t\tvar op = $.extend({}, colModel.editoptions || {}, colModel.formatoptions || {}),\n\t\t\tsep = op.separator === undefined ? \":\" : op.separator,\n\t\t\tdelim = op.delimiter === undefined ? \";\" : op.delimiter;\n\n\t\tif (op.value) {\n\t\t\tvar oSelect = typeof op.value === \"function\" ? op.value() : op.value,\n\t\t\t\tmsl = op.multiple === true ? true : false,\n\t\t\t\tscell = [], sv, mapFunc = function (n, k) { if (k > 0) { return n; } };\n\t\t\tif (msl) { scell = cell.split(\",\"); scell = $.map(scell, function (n) { return $.trim(n); }); }\n\t\t\tif (typeof oSelect === \"string\") {\n\t\t\t\tvar so = oSelect.split(delim), j = 0, i;\n\t\t\t\tfor (i = 0; i < so.length; i++) {\n\t\t\t\t\tsv = so[i].split(sep);\n\t\t\t\t\tif (sv.length > 2) {\n\t\t\t\t\t\tsv[1] = $.map(sv, mapFunc).join(sep);\n\t\t\t\t\t}\n\t\t\t\t\tif (msl) {\n\t\t\t\t\t\tif ($.inArray($.trim(sv[1]), scell) > -1) {\n\t\t\t\t\t\t\tret[j] = sv[0];\n\t\t\t\t\t\t\tj++;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if ($.trim(sv[1]) === $.trim(cell)) {\n\t\t\t\t\t\tret[0] = sv[0];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (fmatter.isObject(oSelect) || $.isArray(oSelect)) {\n\t\t\t\tif (!msl) { scell[0] = cell; }\n\t\t\t\tret = $.map(scell, function (n) {\n\t\t\t\t\tvar rv;\n\t\t\t\t\t$.each(oSelect, function (k, val) {\n\t\t\t\t\t\tif (val === n) {\n\t\t\t\t\t\t\trv = k;\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tif (rv !== undefined) { return rv; }\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn ret.join(\", \");\n\t\t}\n\t\treturn cell || \"\";\n\t};\n\t$.unformat.date = function (cellval, opts) {\n\t\t// TODO\n\t\tvar op = $.extend(true, {},\n\t\t\tgetGridRes.call($(this), \"formatter.date\"),\n\t\t\tjgrid.formatter.date || {},\n\t\t\topts.formatoptions || {});\n\n\t\treturn !fmatter.isEmpty(cellval) ?\n\t\t\tjgrid.parseDate.call(this, op.newformat, cellval, op.srcformat, op) :\n\t\t\t\"\";\n\t};\n\t// end module jquery.fmatter\n}));","/**\n * URL: https://github.com/OlegKi/jqGrid-plugins\n * Copyright (c) 2014, Dr. Oleg Kiriljuk, oleg.kiriljuk@ok-soft-gmbh.com\n * Dual licensed under the MIT and GPL licenses\n * http://www.opensource.org/licenses/mit-license.php\n * http://www.gnu.org/licenses/gpl-2.0.html\n * Date: 2014-11-07\n */\n\n/*global jQuery */\n(function ($) {\n\t\"use strict\";\n\t/*jslint eqeq: true, unparam: true, plusplus: true */\n\t$.jgrid.extend({\n\t\twinMultiSelect: function () {\n\t\t\treturn this.each(function () {\n\t\t\t\t$(this).bind(\"jqGridBeforeSelectRow\", function (ev, rowid, e) {\n\t\t\t\t\tif ( $(e.target).attr('type') == 'checkbox' ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar $self = $(this),\n\t\t\t\t\t\tselectedRowIds = $self.jqGrid(\"getGridParam\", \"selarrrow\"),\n\t\t\t\t\t\tselectRow = function (tr) {\n\t\t\t\t\t\t\tvar id = tr.id, $tr = $(tr);\n\t\t\t\t\t\t\t$tr.addClass(\"ui-state-highlight\").attr(\"aria-selected\", \"true\");\n\t\t\t\t\t\t\tif ($.inArray(id, selectedRowIds) < 0) {\n\t\t\t\t\t\t\t\tselectedRowIds.push(id);\n\t\t\t\t\t\t\t\t$self.jqGrid(\"setGridParam\", {selrow: id});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar $this_p = this.p;\n\n\t\t\t\t\t\t\t//check the box if it's selected\n\t\t\t\t\t\t\tif ( $tr.hasClass('ui-state-highlight') ) {\n\t\t\t\t\t\t\t\tvar $element = $tr.find(\">td[aria-describedby=\" + $.jgrid.jqID($this_p.id) + \"_cb]>input[type=checkbox]\");\n\t\t\t\t\t\t\t\t//#2353 - Added timeout to allow checking of checked checkboxes\n\t\t\t\t\t\t\t\twindow.setTimeout(function () {\n\t\t\t\t\t\t\t\t\t$element.prop(\"checked\", true);\n\t\t\t\t\t\t\t\t}, 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tselectRowById = function (rowId) {\n\t\t\t\t\t\t\tselectRow.call(this, $self.jqGrid(\"getGridRowById\", rowId));\n\t\t\t\t\t\t},\n\t\t\t\t\t\tunselectRows = function (rowIdsToUnselect) {\n\t\t\t\t\t\t\tvar i, n = rowIdsToUnselect.length, tr, iSel, rowId;\n\n\t\t\t\t\t\t\tfor (i = 0; i < n; i++) {\n\t\t\t\t\t\t\t\trowId = rowIdsToUnselect[i];\n\t\t\t\t\t\t\t\ttr = $self.jqGrid(\"getGridRowById\", rowId);\n\t\t\t\t\t\t\t\t$(tr).removeClass(\"ui-state-highlight\").removeAttr(\"attribute aria-selected\");\n\t\t\t\t\t\t\t\tiSel = $.inArray(rowId, selectedRowIds);\n\t\t\t\t\t\t\t\tif (iSel >= 0) {\n\t\t\t\t\t\t\t\t\tselectedRowIds.splice(iSel, 1); // remove from array\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t$(tr).find(\">td[aria-describedby=\" + $.jgrid.jqID(this.p.id) + \"_cb]>input[type=checkbox]\")\n\t\t\t\t\t\t\t\t\t.prop(\"checked\", false);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t$self.jqGrid(\"setGridParam\", {\n\t\t\t\t\t\t\t\tselrow: (selectedRowIds.length === 0 ? null : selectedRowIds[selectedRowIds.length - 1]) // or selectedRowIds[0]\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t\tshiftSelect = function (rowId) {\n\t\t\t\t\t\t\tvar i, rowIndexMin, rowIndexMax, iSel,\n\t\t\t\t\t\t\t\ttr = $self.jqGrid(\"getGridRowById\", rowId),\n\t\t\t\t\t\t\t\trowidsToUnselect = selectedRowIds.slice(0); // copy array\n\t\t\t\t\t\t\t// we want simulate the same selection like in Windows\n\t\t\t\t\t\t\t// the rows between previously selected line and the current selected line\n\t\t\t\t\t\t\t// need be selected. Other rows from selectedRowIds array need be unselected.\n\t\t\t\t\t\t\t// special case: if the row will be selected with shift key pressed\n\t\t\t\t\t\t\t// and NO other rows was previously selected then all rows between\n\t\t\t\t\t\t\t// the first one and the currently selected line will be selected\n\n\t\t\t\t\t\t\t// one need to find id in selectedRowIds with max and min rowIndex property\n\t\t\t\t\t\t\trowIndexMin = tr.rowIndex;\n\t\t\t\t\t\t\tif ( selectedRowIds.length > 0 ) {\n\t\t\t\t\t\t\t\ttr = $self.jqGrid( \"getGridRowById\", selectedRowIds[0] );\n\t\t\t\t\t\t\t\trowIndexMax = selectedRowIds.length === 0 ? 1 : (tr != null ? tr.rowIndex : 1);\n\n\t\t\t\t\t\t\t\tif (rowIndexMin > rowIndexMax) {\n\t\t\t\t\t\t\t\t\t// swap rowIndexMin and rowIndexMax\n\t\t\t\t\t\t\t\t\ti = rowIndexMax;\n\t\t\t\t\t\t\t\t\trowIndexMax = rowIndexMin;\n\t\t\t\t\t\t\t\t\trowIndexMin = i;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttr = $self.jqGrid( \"getGridRowById\", rowId );\n\t\t\t\t\t\t\t\trowIndexMax = rowIndexMin;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// all rows between rowIndexMin and rowIndexMax need be selected\n\t\t\t\t\t\t\tfor (i = rowIndexMin; i <= rowIndexMax; i++) {\n\t\t\t\t\t\t\t\ttr = this.rows[i];\n\t\t\t\t\t\t\t\tiSel = $.inArray(tr.id, rowidsToUnselect);\n\t\t\t\t\t\t\t\tif (iSel >= 0) {\n\t\t\t\t\t\t\t\t\t// row is already selected\n\t\t\t\t\t\t\t\t\trowidsToUnselect.splice(iSel, 1); // remove from array\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tselectRow.call(this, tr);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tunselectRows.call(this, rowidsToUnselect);\n\t\t\t\t\t\t};\n\n\t\t\t\t\tif (e.ctrlKey) {\n\t\t\t\t\t\t// select the row if it's not in selectedRowIds array\n\t\t\t\t\t\t// und unselect if it's in the array\n\t\t\t\t\t\tif ($.inArray(rowid, selectedRowIds) >= 0) {\n\t\t\t\t\t\t\tunselectRows.call(this, [rowid]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tselectRowById.call(this, rowid);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (e.shiftKey) {\n\t\t\t\t\t\tshiftSelect.call(this, rowid);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tunselectRows.call(this, selectedRowIds.slice(0)); // copy array selectedRowIds\n\t\t\t\t\t\tselectRowById.call(this, rowid);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn false; // don't make standard selection process\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t});\n}(jQuery));","/**\n * @author: joshr@timetrex.com\n * @description wrapper class for jqgrid in timetrex.\n * Requires free-jqgrid 4.15.4+ and jquery 3.3.1+\n *\n * @param setup\n * @constructor\n */\n\nimport '@/framework/widgets/jqgrid/jquery.jqgrid.min';\n//jqGrid(window,$);\nimport '@/framework/widgets/jqgrid/jquery.jqgrid.winmultiselect';\n\nwindow.TTGrid = function( table_id, setup, column_info_array ) {\n\tthis.getGridId = function() {\n\t\treturn this.ui_id;\n\t};\n\n\tthis.setTableIDElement = function() {\n\t\tthis.table_id_element = $( '#' + this.ui_id );\n\t\treturn true;\n\t};\n\n\tthis.getTableIDElement = function() {\n\t\treturn this.table_id_element;\n\t};\n\n\tif ( !table_id || !setup || !column_info_array ) {\n\t\tDebug.Text( 'ERROR: constructor requires all 3 arguments', 'TTGrid.js', 'TTGrid', 'constructor', 10 );\n\t\treturn;\n\t}\n\n\tthis.ui_id = table_id;\n\n\t// Issue #2891 - Forcing GridUnload can cause grids inside a AComboBox to disappear after repeated opening. Check for container_selector is to mitigate that.\n\tif ( !setup.container_selector ) {\n\t\t// We are unloading grids with the same ID if they exist to help prevent: Uncaught TypeError: Failed to execute 'replaceChild' on 'Node': parameter 2 is not of type 'Node'.\n\t\t// Looping through array in reverse to make sure no index issues after splicing.\n\t\tfor ( var i = LocalCacheData.resizeable_grids.length - 1; i >= 0; i-- ) {\n\t\t\tif ( LocalCacheData.resizeable_grids[i] != null && LocalCacheData.resizeable_grids[i].grid != null && LocalCacheData.resizeable_grids[i].ui_id == this.ui_id ) {\n\t\t\t\tLocalCacheData.resizeable_grids[i].grid.jqGrid( 'GridUnload' );\n\t\t\t\tLocalCacheData.resizeable_grids.splice( i, 1 );\n\t\t\t} else if ( LocalCacheData.resizeable_grids[i] == null || LocalCacheData.resizeable_grids[i].grid == null ) {\n\t\t\t\t// LocalCacheData.resizeable_grids array gets full of null values from resize event and we are making sure to clear it out.\n\t\t\t\tLocalCacheData.resizeable_grids.splice( i, 1 );\n\t\t\t}\n\t\t}\n\t}\n\n\tvar max_height = null;\n\n\tthis.setTableIDElement();\n\tvar table_div = this.getTableIDElement();\n\n\tthis.grid = null;\n\n\tif ( table_div[0] == false ) {\n\t\tDebug.Text( 'ERROR: table_id not found in DOM', 'TTGrid.js', 'TTGrid', 'constructor', 10 );\n\t\treturn;\n\t}\n\n\t//Default grid settings.\n\tvar default_setup = {\n\t\tcontainer_selector: 'body',\n\t\tsub_grid_mode: false,\n\t\taltRows: true,\n\t\tdata: [],\n\t\tdatatype: 'local',\n\t\t//quickEmpty: 'true', //Default is 'quickest', might fix JS Exception: Uncaught TypeError: Failed to execute 'replaceChild' on 'Node': parameter 2 is not of type 'Node', but causes this instead: TTGrid.js?v=11.6.1-20191108:99 Uncaught TypeError: Cannot read property 'cells' of undefined\n\t\tsortable: false,\n\t\theight: table_div.parents( '.view' ).height(),\n\t\twidth: table_div.parent().width(),\n\t\trowNum: 10000,\n\t\tcolNames: [],\n\t\tcolModel: column_info_array,\n\t\tmultiselect: true,\n\t\tmultiselectWidth: 22,\n\t\tmultiboxonly: true,\n\t\tviewrecords: true,\n\t\tautoencode: true,\n\t\tscrollOffset: 0,\n\t\tverticalResize: true, //when the grid resizes do we reisize it vertically? needed for timesheet and subgrid views.\n\t\tresizeGrid: true,\n\t\twinMultiSelect: true\n\t\t// resizeStop: function(width, index){\n\t\t// \t//$this.setGridColumnsWidth(width, index);\n\t\t// }\n\t};\n\n\tif ( setup.max_height === true ) {\n\t\tsetup.max_height = max_height;\n\t}\n\n\tif ( setup ) {\n\t\tsetup = $.extend( {}, default_setup, setup );\n\t} else {\n\t\tsetup = default_setup;\n\t}\n\n\tthis.setup = setup;\n\n\ttable_div.empty(); //should unbind all events bound to the grid.\n\tthis.grid = table_div.jqGrid( setup );\n\n\tLocalCacheData.resizeable_grids.push( this );\n\n\tif ( setup.winMultiSelect === true ) {\n\t\tthis.grid.winMultiSelect();\n\t}\n\n\t//turn off grid resize event (for schedule grids that need to be rebuilt on every resize)\n\tthis.noResize = function() {\n\t\tthis.setup.onResizeGrid = false;\n\t};\n\n\t/**\n\t *\n\t * @param data\n\t */\n\tthis.setData = function( data, clear_grid ) {\n\t\tif ( this.grid ) {\n\t\t\t//Clear grid by default.\n\t\t\tclear_grid = ( clear_grid == null ) ? true : clear_grid;\n\t\t\tif ( clear_grid == true ) {\n\t\t\t\tthis.grid.clearGridData();\n\t\t\t}\n\n\t\t\t//ACombo might send data as \"true\" when the unselected grid is blank and \"Show All\" is clicked. Prevent anything but an array from being passed into setGridParam( 'data' ).\n\t\t\tif ( Array.isArray( data ) == false ) {\n\t\t\t\tdata = [];\n\t\t\t}\n\n\t\t\tthis.grid.setGridParam( { 'data': data } ).trigger( 'reloadGrid' );\n\t\t\t//this.setGridColumnsWidth();\n\t\t} else {\n\t\t\tthrow( 'ERROR: Grid is not ready yet.' );\n\t\t}\n\t};\n\tthis.getData = function() {\n\t\treturn this.getGridParam( 'data' );\n\t};\n\n\tthis.getSetup = function() {\n\t\treturn this.getGridParam( 'data' );\n\t};\n\n\tthis.getHeight = function() {\n\t\treturn $( this.grid ).height();\n\t};\n\tthis.getWidth = function() {\n\t\treturn $( this.grid ).width();\n\t};\n\n\t/**\n\t *\n\t * @param value\n\t */\n\tthis.deleteRow = function( value ) {\n\t\tthis.grid.jqGrid( 'delRowData', value );\n\t};\n\n\tthis.resetSelection = function() {\n\t\tthis.grid.resetSelection();\n\t};\n\n\tthis.setSelection = function( x1, y1, x2, y2, noScale ) {\n\t\tthis.grid.setSelection( x1, y1, x2, y2, noScale );\n\t};\n\n\tthis.getGridParam = function( parameter_name ) {\n\t\treturn this.grid.getGridParam( parameter_name );\n\t};\n\n\tthis.setGridParam = function( parameter_name, value ) {\n\t\treturn this.grid.setGridParam( parameter_name, value );\n\t};\n\n\tthis.unload = function() {\n\t\tif ( this.grid ) {\n\t\t\tthis.grid.jqGrid( 'GridUnload' );\n\t\t\tthis.grid = null;\n\t\t}\n\t\treturn true;\n\t};\n\n\tthis.clearGridData = function() {\n\t\tthis.grid.jqGrid( 'clearGridData', true );\n\t};\n\n\tthis.reloadGrid = function() {\n\t\tthis.grid.trigger( 'reloadGrid' );\n\t};\n\n\tthis.getRecordFromGridById = function( id ) {\n\t\tvar data = this.grid.getGridParam( 'data' );\n\t\tvar result = null;\n\t\t/* jshint ignore:start */\n\t\t//id could be string or number.\n\t\t$.each( data, function( index, value ) {\n\n\t\t\tif ( value['_id_'] == id ) {\n\t\t\t\tresult = Global.clone( value );\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t} );\n\t\t/* jshint ignore:end */\n\n\t\tif ( result ) {\n\t\t\tresult.id = result['_id_'];\n\t\t}\n\t\treturn result;\n\n\t};\n\n\tthis.getGridWidth = function() {\n\t\tif ( this.grid ) {\n\t\t\treturn this.grid.width();\n\t\t}\n\t\treturn 0;\n\t};\n\n\tthis.setGridWidth = function( w, inner_width ) {\n\t\tif ( this.grid ) {\n\t\t\tif ( inner_width > w ) {\n\t\t\t\tw = inner_width;\n\t\t\t}\n\t\t\tthis.grid.setGridWidth( w, false ); //Send false to prevent the grid from shrinking and changing the size of the columns we likely just set.\n\t\t}\n\t};\n\n\tthis.getGridHeight = function() {\n\t\tif ( this.grid ) {\n\t\t\treturn this.grid.height();\n\t\t}\n\t\treturn 0;\n\t};\n\tthis.setGridHeight = function( h ) {\n\t\tif ( this.setup.static_height ) {\n\t\t\th = this.setup.static_height;\n\t\t}\n\n\t\tif ( this.grid ) {\n\t\t\tthis.grid.setGridHeight( h );\n\t\t}\n\t};\n\n\tthis.setRowData = function( id, new_record ) {\n\t\tthis.grid.setRowData( id, new_record );\n\t};\n\n\tthis.getRowData = function( row_id ) {\n\t\tvar row = false;\n\n\t\tvar row_data = this.getData();\n\n\t\tfor ( var i in row_data ) {\n\t\t\tif ( row_data[i].id == row_id ) {\n\t\t\t\trow = row_data[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn row;\n\t};\n\n\tthis.getColumnModel = function() {\n\t\treturn this.getGridParam( 'colModel' );\n\t};\n\n\tthis.setColumnModel = function( val ) {\n\t\tthis.getGridParam( 'colModel', val );\n\t};\n\n\tthis.grid2csv = function( filename ) {\n\t\t// TODO: Add in more robust quote escaping to handle data strings that have quotes. Currently we are just wrapping everything in double quotes.\n\n\t\tlet csv_data = [];\n\n\t\t// Get grid data for csv.\n\t\t// Column headers are in a different table. Seems to be a jqGrid thing?\n\t\t// Parsing column headers using aria-describedby on the first none blank <tr> (2nd) which links to the id of the header and from there gets the textContent.\n\t\tlet i = 1;\n\t\tlet headers = [];\n\t\tfor ( let tr of document.querySelectorAll( '#' + this.getGridId() + ' tr' ) ) {\n\t\t\tlet row = [];\n\t\t\tfor ( let td of tr.querySelectorAll( 'td' ) ) {\n\t\t\t\trow.push( '\"' + td.textContent.trim() + '\"' );\n\t\t\t\tif ( i === 2 ) {\n\t\t\t\t\t// Column headers sometimes contain HTML such as Claim<br>Dependents.\n\t\t\t\t\t// Using a temporary element to replace <br> with a space and then grabbing the textContent to strip the HTML.\n\t\t\t\t\tlet temp_element = document.createElement( 'div' );\n\t\t\t\t\ttemp_element.innerHTML = document.getElementById( td.getAttribute( 'aria-describedby' ) ).innerHTML.replace( '<br>', ' ' );\n\t\t\t\t\theaders.push( '\"' + temp_element.textContent.trim() + '\"' );\n\t\t\t\t}\n\t\t\t}\n\t\t\tcsv_data.push( row.join( ',' ) );\n\t\t\ti++;\n\t\t}\n\n\t\t// Replace blank row with table headers\n\t\tcsv_data[0] = headers.join( ',' );\n\n\t\tlet csv_content = csv_data.join( '\\r\\n' );\n\n\t\tGlobal.JSFileDownload( filename + '.csv', csv_content, 'text/csv;encoding:utf-8' );\n\n\t}\n\n\tthis.getRecordCount = function() {\n\t\tif ( !this.grid ) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn this.grid.getGridParam( 'reccount' );\n\t};\n\n\t//Gets a single row\n\tthis.getSelectedRow = function() {\n\t\tif ( !this.grid ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar result = this.grid.getGridParam( 'selrow' );\n\n\t\tif ( !result ) {\n\t\t\tresult = false;\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t//Gets an array of rows if multiple are selected.\n\tthis.getSelectedRows = function() {\n\t\tif ( !this.grid ) {\n\t\t\treturn []; //Return empty array so .length on the result doesn't fail with Cannot read property 'length' of undefined\n\t\t}\n\n\t\tvar result = this.grid.getGridParam( 'selarrrow' );\n\n\t\tif ( !result ) {\n\t\t\tresult = [];\n\t\t}\n\n\t\treturn result;\n\t};\n\n\tthis.getSelection = function() {\n\t\tvar tds = this.grid.find( 'td.ui-state-highlight' );\n\n\t\tvar selection = [];\n\t\tfor ( var x = 0; x < tds.length; x++ ) {\n\t\t\tselection.push( {\n\t\t\t\ttr: $( tds[x] ).parent( 'tr' ).index(),\n\t\t\t\ttd: $( tds[x] ).index()\n\t\t\t} );\n\t\t}\n\t\treturn selection;\n\t},\n\n\t\tthis.setTimesheetSelection = function( selection_obj ) {\n\t\t\t//This is currently broken, it highlights the cells, but they aren't actually considered \"selected\".\n\t\t\t// So if you go to Attendance -> TimeSheet, select two cells, Mass Edit them, click Save, the \"Mass Edit\" is no longer available to be clicked again.\n\t\t\t// As well if you hold in SHIFT to try and expand the selection (select more cells), that doesn't work either.\n\t\t\tvar trs = this.grid.find( 'tr' );\n\t\t\tfor ( var i = 0; i < selection_obj.length; i++ ) {\n\t\t\t\tfor ( var x = 0; x < trs.length; x++ ) {\n\t\t\t\t\tif ( $( trs[x] ).index() == selection_obj[i].tr ) {\n\t\t\t\t\t\tvar tds = $( trs[x] ).find( 'td' );\n\t\t\t\t\t\tfor ( var w = 0; w < tds.length; w++ ) {\n\t\t\t\t\t\t\tif ( $( tds[w] ).index() == selection_obj[i].td ) {\n\t\t\t\t\t\t\t\t$( tds[w] ).addClass( 'ui-state-highlight' );\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\tthis.setGridColumnsWidth = function( column_model, options ) {\n\t\t// this.grid.autoResizeAllColumns();\n\t\t// return;\n\n\t\tif ( this.setup.treeGrid || this.setup.tree_mode ) {\n\t\t\tthis.setGridWidth( $( this.setup.container_selector ).width() - 10 );\n\t\t\treturn;\n\t\t}\n\n\t\tif ( typeof options === 'undefined' ) {\n\t\t\toptions = {};\n\t\t}\n\n\t\tif ( this.setup.container_selector && ( !options.min_grid_width || options.min_grid_width == 0 ) ) {\n\t\t\tvar parent_container = this.grid.parents( this.setup.container_selector ).find( '.sub-grid-view-div' ); //Use .sub-grid-view-div instead of .edit-view-tab as it has margins that cause the width to be too wide and force a horizontal scrollbar everytime.\n\t\t\tif ( parent_container.length > 0 ) {\n\t\t\t\t//Sub-View grid, check if parent div is visible, and if not don't bother resizing grid.\n\t\t\t\tif ( parent_container.is( ':visible' ) === true ) {\n\t\t\t\t\toptions.min_grid_width = parent_container.innerWidth();\n\t\t\t\t} else {\n\t\t\t\t\tDebug.Text( '  Parent container of grid is not visible, skip setting column widths...', 'TTGrid.js', 'TTGrid', 'setGridColumnsWidth', 10 );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t//Main grid\n\t\t\t\tlet grid_parent = $( '#gbox_' + this.ui_id );\n\t\t\t\tif ( grid_parent.length !== 0 ) {\n\t\t\t\t\toptions.min_grid_width = grid_parent.parent().width();\n\t\t\t\t} else {\n\t\t\t\t\toptions.min_grid_width = this.grid.parents( this.setup.container_selector ).innerWidth();\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t\tif ( options.min_grid_width == 0 || options.min_grid_width == 'undefined' ) { //fallback width so it's never sized to zero when render timing collides\n\t\t\toptions.min_grid_width = $( 'body' ).innerWidth();\n\t\t}\n\n\t\t//Adjust for the vertical scrollbar offset that can occur when the items per page always exceeds the screen height.\n\t\tif ( Global.isVerticalScrollBarRequired( this.grid.parents( '.ui-jqgrid-bdiv' )[0] ) ) {\n\t\t\toptions.min_grid_width -= Global.getScrollbarWidth();\n\t\t}\n\n\t\tif ( !options.max_grid_width ) {\n\t\t\toptions.max_grid_width = null; //No maximum.\n\t\t}\n\n\t\tif ( options.max_grid_width && options.max_grid_width < options.min_grid_width ) {\n\t\t\toptions.min_grid_width = options.max_grid_width;\n\t\t}\n\n\t\tDebug.Text( 'Target Grid: ' + this.setup.container_selector + ' Width: Min: ' + options.min_grid_width + ' Max: ' + options.max_grid_width + ' Scrollbar Offset: ' + Global.getScrollbarWidth() + ' Parent Width: ' + $( this.grid.parents( '.edit-view-tab, body' )[0] ).width(), 'TTGrid.js', 'TTGrid', 'setGridColumnsWidth', 10 );\n\n\t\tif ( column_model ) {\n\t\t\tvar total_column_width = 0;\n\t\t\tfor ( var i = 0; i < column_model.length; i++ ) {\n\t\t\t\tvar field = column_model[i].name;\n\t\t\t\tvar width = column_model[i].width ? column_model[i].width : column_model.widthOrg;\n\t\t\t\ttotal_column_width += width;\n\n\t\t\t\t//Don't change the width of columns if they are already the same size. This may help avoid minor changes in the table caused by simple redraws.\n\t\t\t\tif ( this.grid.getColProp( field ).width != width ) {\n\t\t\t\t\tthis.grid.setColWidth( field, width );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn total_column_width;\n\t\t}\n\n\t\tvar column_model = this.getColumnModel();\n\n\t\t//Possible exception\n\t\t//Error: Uncaught TypeError: Cannot read property 'length' of undefined in /interface/html5/#!m=TimeSheet&date=20141102&user_id=53130 line 4288\n\t\tif ( !column_model ) {\n\t\t\tDebug.Text( 'ERROR: column_model is null or undefined', 'TTGrid.js', 'TTGrid', 'setGridColumnsWidth', 10 );\n\t\t\treturn;\n\t\t}\n\n\t\tfunction longer( champ, contender ) {\n\t\t\treturn ( contender.length > champ.length ) ? contender : champ;\n\t\t}\n\n\t\tfunction longestWord( str ) {\n\t\t\tif ( str && typeof str === 'string' ) {\n\t\t\t\tvar words = str.split( ' ' );\n\t\t\t\treturn words.reduce( longer );\n\t\t\t} else {\n\t\t\t\treturn '';\n\t\t\t}\n\t\t}\n\n\t\tvar grid_data = this.getData();\n\t\tthis.grid_total_width = 0;\n\n\t\tvar cb_column_width = 0; //checkbox column width, usually 22, but only set once we know there is a checkbox column.\n\t\tvar cb_column_count_adjustment = 0; //If the checkbox column exists or not.\n\n\t\tvar longest_field_width = 0;\n\t\tvar last_column = null;\n\t\tvar column_widths = {};\n\n\t\tfor ( var i = 0; i < column_model.length; i++ ) {\n\t\t\tvar col = column_model[i];\n\t\t\tlast_column = col;\n\t\t\tvar field = col.name;\n\t\t\tvar longest_cell_content = longestWord( col.label ); // allow extra space for sort order UI hint\n\t\t\tvar header_is_longest = true;\n\n\t\t\tif ( field == 'cb' ) { //hard coded override on CB column, so we don't try to check the data in each row for it.\n\t\t\t\tcb_column_count_adjustment = 1;\n\t\t\t\tcb_column_width = 22;\n\t\t\t\twidth = cb_column_width;\n\t\t\t} else {\n\t\t\t\tif ( options.column_width_override && options.column_width_override[field] ) {\n\t\t\t\t\twidth = options.column_width_override[field];\n\t\t\t\t} else {\n\t\t\t\t\tfor ( var j = 0; j < grid_data.length; j++ ) {\n\t\t\t\t\t\tvar row_data = grid_data[j];\n\t\t\t\t\t\tif ( !row_data.hasOwnProperty( field ) ) {\n\t\t\t\t\t\t\tcontinue; //First row might not have any data for this field, but other rows could. Common in Employee grids with \"-- ANY --\" or \"-- NONE --\" in the first row.\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar current_cell_content = row_data[field];\n\t\t\t\t\t\tif ( !current_cell_content ) {\n\t\t\t\t\t\t\tcurrent_cell_content = '';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( !longest_cell_content ) {\n\t\t\t\t\t\t\tlongest_cell_content = current_cell_content.toString();\n\t\t\t\t\t\t\theader_is_longest = false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif ( current_cell_content && current_cell_content.toString().length > longest_cell_content.length ) {\n\t\t\t\t\t\t\t\tlongest_cell_content = current_cell_content.toString();\n\t\t\t\t\t\t\t\theader_is_longest = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tvar calculate_text_width_options;\n\t\t\t\t\tif ( longest_cell_content == field ) {\n\t\t\t\t\t\tcalculate_text_width_options = { fontSize: '11px', fontWeight: 'bolder' };\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcalculate_text_width_options = { fontSize: '11px', fontWeight: 'normal' };\n\t\t\t\t\t}\n\n\t\t\t\t\tvar width = Global.calculateTextWidth( longest_cell_content, calculate_text_width_options ); // + 40; // 8 is drag handle width +2 for borders +20 for sort order ui hint (17 for actual hint,13 for header padding on Firefox under windows\n\n\t\t\t\t\tif ( header_is_longest === true ) {\n\t\t\t\t\t\twidth += 40; //Needs to be wide enough that \"click to search\" text isn't cutoff too badly. As well so it can fit the sort asc/desc icon.\n\t\t\t\t\t} else {\n\t\t\t\t\t\twidth += 12;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( width > longest_field_width ) {\n\t\t\t\tlongest_field_width = width;\n\t\t\t}\n\n\t\t\t//Debug.Text( '    Column: '+ field +' Width: '+ width +' Content: \\''+ longest_cell_content +'\\' Longest Column Width: '+ longest_field_width +' Header is Longest: '+ header_is_longest, 'TTGrid.js', 'TTGrid', 'setGridColumnsWidth', 10 );\n\n\t\t\tcolumn_widths[field] = width;\n\t\t\tthis.grid_total_width += width;\n\t\t}\n\n\t\t//If the longest column width can be used for all columns, size them all equally so they don't change sizes between pages.\n\t\tif ( ( longest_field_width * column_model.length ) <= options.min_grid_width ) {\n\t\t\tvar equal_column_width = Math.floor( ( options.min_grid_width - cb_column_width ) / ( column_model.length - cb_column_count_adjustment ) );\n\t\t\tvar equal_column_width_remainder = ( ( options.min_grid_width - cb_column_width ) % ( column_model.length - cb_column_count_adjustment ) ); //Eliminate partial pixel adjustments.\n\t\t\tDebug.Text( ' Grid columns CAN fit with equal sizes... Grid Width: ' + options.min_grid_width + ' Optimal Grid Width: ' + this.grid_total_width + ' Equal Size Width: ' + equal_column_width + ' Remainder: ' + equal_column_width_remainder, 'TTGrid.js', 'TTGrid', 'setGridColumnsWidth', 10 );\n\n\t\t\tvar adjusted_grid_width = 0;\n\n\t\t\tvar x = 0;\n\t\t\tfor ( var tmp_column_name in column_widths ) {\n\t\t\t\tif ( tmp_column_name == 'cb' ) {\n\t\t\t\t\tthis.grid.setColWidth( 'cb', cb_column_width );\n\t\t\t\t\tadjusted_grid_width += cb_column_width;\n\t\t\t\t} else {\n\t\t\t\t\tvar tmp_column_width = equal_column_width;\n\n\t\t\t\t\tif ( x == 1 ) {\n\t\t\t\t\t\ttmp_column_width += equal_column_width_remainder;\n\t\t\t\t\t}\n\n\t\t\t\t\t//Debug.Text( '    Adjusted Column: '+ tmp_column_name +' Width: Old: '+ column_widths[tmp_column_name] +' New: '+ tmp_column_width, 'TTGrid.js', 'TTGrid', 'setGridColumnsWidth', 10 );\n\t\t\t\t\tif ( this.grid.getColProp( tmp_column_name ).width != tmp_column_width ) {\n\t\t\t\t\t\tthis.grid.setColWidth( tmp_column_name, tmp_column_width );\n\t\t\t\t\t}\n\t\t\t\t\tadjusted_grid_width += tmp_column_width;\n\t\t\t\t}\n\n\t\t\t\tthis.grid.setColProp( tmp_column_name, { fixed: true } );\n\n\t\t\t\tx++;\n\t\t\t}\n\t\t\tDebug.Text( ' Adjusted Grid Width: ' + adjusted_grid_width + ' Adjusted Column Remainder: ' + equal_column_width_remainder, 'TTGrid.js', 'TTGrid', 'setGridColumnsWidth', 10 );\n\n\t\t\tthis.grid_total_width = options.min_grid_width;\n\t\t} else {\n\t\t\tDebug.Text( ' Optimal Grid Width: ' + this.grid_total_width + ' Equal Size Width: ' + ( longest_field_width * column_model.length ), 'TTGrid.js', 'TTGrid', 'setGridColumnsWidth', 10 );\n\n\t\t\tvar body_width_difference = 0;\n\t\t\tvar column_width_adjustment = 0;\n\t\t\tvar columns_to_adjust_width = 0;\n\t\t\tvar column_width_adjustment_remainder = 0;\n\n\t\t\t//If the optimal column widths are wider than the max grid width, shrink them to fit.\n\t\t\tif ( ( options.max_grid_width > 0 && this.grid_total_width > options.max_grid_width ) || ( options.min_grid_width > 0 && this.grid_total_width < options.min_grid_width ) ) {\n\t\t\t\t//When columns are too small to fit on the screen and need to be stretched, ignore the overridden column.\n\t\t\t\tif ( ( options.max_grid_width > 0 && this.grid_total_width > options.max_grid_width ) ) {\n\t\t\t\t\t// We shouldn't shrink the column sizes to fit, but instead just expand the grid and trigger a horizontal scrollbar.\n\t\t\t\t\t//body_width_difference = this.grid_total_width - options.max_grid_width; //Should be a negative difference to shrink columns to fit max width.\n\t\t\t\t\tbody_width_difference = 0; //Force to zero otherwise it makes the columns wider.\n\t\t\t\t\tthis.grid_total_width = options.max_grid_width;\n\t\t\t\t} else {\n\t\t\t\t\tbody_width_difference = options.min_grid_width - this.grid_total_width; //Should be a positive difference to grow columns to fit min width.\n\t\t\t\t\tthis.grid_total_width = options.min_grid_width;\n\t\t\t\t}\n\n\t\t\t\tif ( body_width_difference != 0 ) {\n\t\t\t\t\tif ( options.column_width_override ) {\n\t\t\t\t\t\tcolumns_to_adjust_width = ( column_model.length - options.column_width_override.length() );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcolumns_to_adjust_width = ( column_model.length - cb_column_count_adjustment );\n\t\t\t\t\t}\n\t\t\t\t\tcolumn_width_adjustment = Math.floor( body_width_difference / columns_to_adjust_width );\n\t\t\t\t\tcolumn_width_adjustment_remainder = ( body_width_difference % columns_to_adjust_width ); //Eliminate partial pixel adjustments.\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar adjusted_grid_width = 0;\n\n\t\t\tvar x = 0;\n\t\t\tfor ( var tmp_column_name in column_widths ) {\n\t\t\t\tif ( tmp_column_name == 'cb' ) {\n\t\t\t\t\tthis.grid.setColWidth( 'cb', cb_column_width );\n\t\t\t\t\tadjusted_grid_width += cb_column_width;\n\t\t\t\t} else {\n\t\t\t\t\tvar tmp_column_width;\n\t\t\t\t\tif ( options.column_width_override && options.column_width_override[n] ) {\n\t\t\t\t\t\ttmp_column_width = column_widths[tmp_column_name];\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttmp_column_width = ( column_widths[tmp_column_name] + column_width_adjustment );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( x == 1 ) { //First column after the CB.\n\t\t\t\t\t\ttmp_column_width += column_width_adjustment_remainder;\n\t\t\t\t\t}\n\n\t\t\t\t\ttmp_column_width = Math.floor( tmp_column_width ); //Eliminate partial pixel adjustments.\n\n\t\t\t\t\tDebug.Text( '    Adjusted Column: ' + tmp_column_name + ' Width: Old: ' + column_widths[tmp_column_name] + ' New: ' + tmp_column_width + ' Adjustment: ' + column_width_adjustment + ' Body Difference: ' + body_width_difference + ' Columns Adjusted: ' + columns_to_adjust_width, 'TTGrid.js', 'TTGrid', 'setGridColumnsWidth', 10 );\n\t\t\t\t\tif ( this.grid.getColProp( tmp_column_name ).width != tmp_column_width ) {\n\t\t\t\t\t\tthis.grid.setColWidth( tmp_column_name, tmp_column_width );\n\t\t\t\t\t}\n\t\t\t\t\tadjusted_grid_width += tmp_column_width;\n\t\t\t\t}\n\n\t\t\t\tthis.grid.setColProp( tmp_column_name, { fixed: true } );\n\n\t\t\t\tx++;\n\t\t\t}\n\t\t\tDebug.Text( ' Adjusted Grid Width: '+ adjusted_grid_width +' Adjusted Column Remainder: '+ column_width_adjustment_remainder, 'TTGrid.js', 'TTGrid', 'setGridColumnsWidth', 10 );\n\t\t}\n\n\t\tDebug.Text( ' FINAL Grid width: ' + this.grid_total_width + ' Body Width: ' + Global.bodyWidth() + ' Total Rows: ' + grid_data.length, 'TTGrid.js', 'TTGrid', 'setGridColumnsWidth', 10 );\n\t\treturn adjusted_grid_width;\n\t};\n\n\t//resize event.\n\t$( window ).off( 'resize.grids' ).on( 'resize.grids', Global.debounce( ( e ) => this.TTGridResizeEvent( e ), 500 ) );\n\n\tthis.TTGridResizeEvent = function( e ) {\n\t\te.stopPropagation();\n\t\tDebug.Text( ' Window resize event hit by TTGrid. Target: ' + e.target, 'TTGrid.js', 'TTGrid', 'setGridColumnsWidth', 10 );\n\n\t\tif ( LocalCacheData.resizeable_grids.length > 0 ) {\n\n\t\t\t//remove the nulls\n\t\t\tvar grids = LocalCacheData.resizeable_grids.filter( function( t ) {\n\t\t\t\treturn t != null;\n\t\t\t} );\n\t\t\tLocalCacheData.resizeable_grids = grids;\n\n\t\t\tfor ( var i in LocalCacheData.resizeable_grids ) {\n\t\t\t\tvar ttgrid = LocalCacheData.resizeable_grids[i];\n\n\t\t\t\tif ( !ttgrid || ( typeof ttgrid.getTableIDElement === 'function' && ttgrid.getTableIDElement().length === 0 ) || !ttgrid.grid || ttgrid.setup.onResizeGrid === false ) {\n\t\t\t\t\tDebug.Arr( LocalCacheData.resizeable_grids, ' Grid ignored ' + i, 'TTGrid.js', 'TTGrid', 'setGridColumnsWidth', 10 );\n\t\t\t\t\tLocalCacheData.resizeable_grids[i] = null;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t//Try to only resize visible grids. ie: Switch from Audit tab to primary tab, wait until resize event is triggered, then switch back, triggering \"flashing\" of scroll bars appearing/disappearing\n\t\t\t\t// Only happens on edit views with double row fields (ie: Note fields), like Edit Punch or Edit Schedule.\n\t\t\t\tif ( ttgrid.getTableIDElement().is( ':visible' ) ) {\n\t\t\t\t\tDebug.Text( ' Processing: ' + ttgrid.ui_id, 'TTGrid.js', 'TTGrid', 'setGridColumnsWidth', 10 );\n\t\t\t\t\tif ( ttgrid.setup.onResizeGrid && typeof ttgrid.setup.onResizeGrid == 'function' ) {\n\t\t\t\t\t\tDebug.Text( ' TTGrid invoked setup defined onResizeGrid() for ' + ttgrid.ui_id, 'TTGrid.js', 'TTGrid', 'setGridColumnsWidth', 10 );\n\t\t\t\t\t\tttgrid.setup.onResizeGrid();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif ( ttgrid.grid.length == 1 ) {\n\t\t\t\t\t\t\tDebug.Text( ' TTGrid invoked TTgrid::setGridColumnsWidth() for ' + ttgrid.ui_id, 'TTGrid.js', 'TTGrid', 'setGridColumnsWidth', 10 );\n\t\t\t\t\t\t\tttgrid.setGridColumnsWidth();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tDebug.Text( ' Skipping grid that is not visible: ' + ttgrid.ui_id, 'TTGrid.js', 'TTGrid', 'setGridColumnsWidth', 10 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//Usually we will want to make double sure that visible search grids resize.\n\t\t\t//Have to check for grid though because dashboard has no \"search grid\"\n\t\t\tif ( LocalCacheData.current_open_primary_controller && LocalCacheData.current_open_primary_controller.grid ) {\n\t\t\t\tLocalCacheData.current_open_primary_controller.setGridColumnsWidth(); //Be sure to call the setGridColumnsWidth() from current_open_primary_controller in case its overridden.\n\t\t\t\tLocalCacheData.current_open_primary_controller.setGridSize();\n\t\t\t}\n\n\t\t\t//Also resize grids inside Edit Views.\n\t\t\tif ( LocalCacheData.current_open_sub_controller && LocalCacheData.current_open_sub_controller.grid ) {\n\t\t\t\tLocalCacheData.current_open_sub_controller.setGridColumnsWidth(); //Be sure to call the setGridColumnsWidth() from current_open_sub_controller in case its overridden.\n\t\t\t\tLocalCacheData.current_open_sub_controller.setGridSize();\n\t\t\t}\n\t\t}\n\t}\n};"],"names":["global","factory","this","j","ending","value","ar","format","args","m","al","i","nmarr","k","rv","match","height","elem","relativeTo","relativeToOuterHeight","gbox","rectRelativeTo","rectGbox","cell","c","v","pref","id","obj","basePath","path","pathParts","n","date","newformat","opts","token","dM","hl","timestamp","offset","timezone","timezoneClip","msMatch","pad","length","ts","h12To24","ampm","h","getDefOptions","p","options","props","root1","root2","root3","iProp","nProps","result","prop","ty","hours","o","s","u","w","year","dayOfWeek","z","weekNumberOfYear","flags","$0","datetime","sid","componentName","self","$p","grid","bDiv","fixhBox","hDiv","$hDivhBox","map","cssClass","classes","$elem","arClasses","rowid","tr","iCol","frozenRows","$td","$dataElement","mode","callback","rows","colModel","nCol","cm","nm","pos","item","isEditable","iRow","td","dataWidth","frozen","trFrozen","$dataFiled","valueText","editable","checkBoxValues","$field","values","texts","formatoptions","editoptions","customValue","nameSelector","$t","$self","e","errorText","infoDialog","getRes","prefix","expr","ret","prm","returnObj","$testDiv","testCell","className","isHidden","phrase","val","f","func","results","a","b","dir","data","iSort","by","type","dfmt","sfunc","sorted","sortData","_sortData","newDir","ab","findSortKey","$cell","key","index","nrec","group","last","x","how","t","fld","swst","datefmt","stype","ruleOp","field","eventName","postData","eventResult","callbackResult","eventPrefix","callbackSuffix","callbackName","disabledStateClasses","getClasses","ascOrDesc","sortIconFunc","sortIconName","text","icon","iconOnLeftOrRight","conner","getDialogGuiStyles","name","nData","oData","lnData","cbv","len","ids","items","cellsToDisplay","rcnt","adjust","readAllInputData","altr","cn1","selr","idr","rd","cells","iStartTrTag","selected","rowData","grpdata","cn","grp","hiderow","rn","cmName","$j","rowIndex","formatCol","addCell","rowId","irow","srvr","rdata","addMulti","checked","checkboxHtml","hasCbox","callbackParams","addRowNum","pG","rN","sep","delim","isMultiple","valuesToSelect","so","sv","ov","optionInfo","optionInfos","isSelected","ovm","isNoFilterValueExist","mapFunc","ii","methods","pin","fn","localData","localDataStr","$self0","isFunction","isArray","extend","inArray","trim","each","setSelection","getGridRes","fatalErrorFunction","locale","direction","iconSet","guiStyle","getIcon","getGuiStyles","jqClasses","stdLoadError","jqXHR","textStatus","errorThrown","contentType","message","processHtmlError","msg","div","scripts","bodyMatch","processJsonError","errorInfo","errorMessages","errorProp","getDef","gridParam","fixScrollOffsetAndhBoxPadding","buildColNameMap","buildEmptyIndexedColumnMap","buildAddPropMap","additionalProperties","addPropInfo","rebuildRowIndexes","rowIndexes","row","buildArrayReader","cmNamesInputOrder","arrayReaderInfos","order","myResizerClickHandler","pageX","intNum","defval","y","$th","$bDiv","gridOffset","startX","resizing","diff","headers","newWidth","hn","nWn","minResizingWidth","idx","skipCallbacks","skipGridAdjustments","footers","nw","$bTable","$hTable","hCols","gridSelf","dh","firstDataRow","rh","scrollTop","ttop","tbot","page","npage","empty","sr","sra","left","restoreSelection","gv","isMSIE","eg","sortkeys","normalizeRemapColumns","remapColumns","cmNames","remappedCmNames","stripGridPrefix","rowInd","tv","rawObject","cellAttrFunc","rPrefix","unwrappedCellValue","cellValue","styleValue","attrStr","matches","tilteValue","encodeAttr","rest","cellVal","normalizeTreeGridProperties","ldat","treeReader","loaded","isLeaf","expanded","getBool","lft","rgt","formatter","cellval","colpos","rwdat","act","curLevel","levelOffset","rootLevel","lftpos","isExpanded","iconClass","icons","emptyRows","scroll","locdata","frozenTable","removeRows","table","tableRows","firstrow","addItemDataToColumnIndex","removeItemDataFromColumnIndex","columnIndex","normalizeData","dataLength","cur","idName","idIndex","localReader","cellName","isArrayCells","addProp","info","refreshIndex","datalen","idname","constructTr","hide","altClass","tabindex","restAttr","attrName","style","rowAttrObj","pn","expan","finalizationFormatters","formatName","fmatter","fillOrClearCellBuilder","clear","opt","autoencodeCellBuilder","simpleCellBuilder","readInput","more","startReq","datatype","isXML","locid","dataReader","fieldReader","drows","iChild","children","nChildren","child","preloadedNodes","attrReader","nodeName","attrValue","nodeReader","childNodes","colReader","setSimpleColReaderIfPossible","propName","nameReaderOrAddProp","colReaderFilling","colOrAddProp","colOrAddPropName","nameReader","fpos","$tbody","expandOrCollapseGroup","groupHeaderId","$tr","addLocalData","st","sto","fndsort","cmtypes","grtypes","grindexes","defSrcFormat","defNewFormat","getSortNames","grpview","lengrp","gin","processColModel","iCol1","isAddProp","srcformat","grindex","sorttype","compareFnMap","queryObj","op","query","tojLinq","gor","ror","opr","rule","r","cmi1","g","srules","cmtypes1","recordsperpage","total","totalpages","retresult","udc","setWidthOfPagerTdWithPager","$pgTable","width","fontSize","updatepager","dnd","cp","base1","from","to","tot","fmt","pgboxes","sppg","tspg","numberFormat","tspgTop","hoverClasses","disabledClasses","top","$pagerInputs","numberOfDigitsInPageNumber","size","beginReq","endReq","populate","pvis","dt","dstr","pN","lcf","lc","gi","gs","iColumn","cmValue","fixDisplayingHorizontalScrollbar","resort","iRes","finalReportSteps","finalReportVirtual","readLocal","req","settings","gotoreq","setHeadCheckBox","cancelOrSaveEditing","iEditing","savedRowInfo","setPager","pgid","tp","pginp","blockAlign","pgl","str","pgcnt","cent","twd","clearVals","onpaging","newPage","newRowNum","pgrecs","strnm","po","poIcons","buttonClasses","buildPagerButton","buttonName","iconName","titleText","$pagerIn","selclick","fp","pp","np","lp","$focused","sortNames","sortDirs","sortName","splas","multiSort","sort1","$selTh","$iconsSpan","$iconAsc","$iconDesc","$iconsActive","$iconsInictive","removeSorting","sortNameToRemove","indexInSortNames","thDivIdSelector","$thDiv","sortIndex","idxcol","reload","sor","mygrid","fhDiv","$previousSelectedTh","$newSelectedTh","sscroll","setInitialColWidth","initialWidth","borderAndPaddingWidth","numberOfVariableColumns","iLastVariableColumn","scrollbarWidth","columnWidth","hasScrollbar","totalVariableWidth","fixedColumnsWidth","correctur","isCellClassHidden","ind","nextVisible","getColumnHeaderIndex","th","colTemplate","jgridCmTemplate","cmi","insertMethod","idn","res","sort","tooltip","labelStyle","ptr","sortarr","sortord","sotmp","thead","headerText","tbody","hoverStateClasses","hoverThStateClasses","hTable","highlightClass","toCheck","emp","iColCb","selectUnselectRow","toSelect","skipClasses","iSel","selArr","pw","iColIndex","arPageX","pageX1","pageX2","tfoot","firstr","$sortableDiv","showOneSortIcon","hdcol","notLso","notSortOrder","isFrozen","getOffset","d","iColByName","hg","hb","topClasses","bottomClasses","$pager","pagerId","getTdFromTarget","target","$table","ri","ci","checkboxClicked","selectionAllowed","alreadySelected","editingInfo","locked","frz","trid","oldSelRow","visibleGridIcon","hiddenGridIcon","showhide","arf","toolbarUpperClasses","tdt","elems","counter","$resizer","resizerOffset","delta","separator","delimiter","uniqueTexts","defaultPropName","resDef","guiClasses","baseGuiStyle","$errorDiv","$errorSpan","alternativeRoot","root","part","testClass","commonClasses","uniqueValues","aLowCase","bLowCase","$dataList","pName","newParams","overwrite","selection","onsr","stat","pt","ner","ia","tpsr","csr","getGridRowById","tr1","method","attributes","selectUnselectRowInTable","scrGrid","ch","rpos","cellEditCellHighlightClasses","cellEditRowHighlightClasses","multiselectChechboxes","deselectRow","frozenRow","trDom","resall","getall","success","nextRow","$row","cssp","lcdata","newData","vl","title","oldRowId","newRowId","newCboxId","oldId","newId","fixRowid","lengthDiff","src","sind","aradd","cnm","grouping","action","isEmpty","ftable","fcells","headerHeight","columnNameOrIndexes","thHeight","columnNameOrIndex","$inconsDiv","$textWrapper","$sortOrder","widthIcon","widthText","thPaddingLeft","thPaddingRight","thPaddingTop","thPaddingBottom","nColFrozen","removeInconsDiv","appendInconsDiv","colname","show","fndh","brd","cw","sw","groupHeader","gh","setDisplayCssOnRows","nRow","newGridWidth","gHead","permutation","updateCells","keepHeader","makeArray","isFrozenColumns","$toResort","nFrozenColumns","permutationNormalized","normalizePermutation","nonFrozen","l","resortArray","ac","resortRows","$parent","selector","$rows","oldElem","permutationByName","shrink","thInfo","sDiv","cols","colsExist","shrinkFactor","setWidthOfAllDivs","whichHeigthToRecalculate","nh","newcap","cDiv","attrp","$div","$ico","colName","forceUpdate","$tdi","rawdat","mathopr","sum","min","max","ln","dlen","clearfooter","rc","event","moveVertical","siblingProperty","feedbackKey","moveHorizontal","stringLeftOrRight","sh","gridIdEscaped","$loading","adjustGridWidth","$cellFirstChild","$incosDiv","$wrapper","wrapperOuterWidth","wrapperCssWidth","widthOuter","colWidth","compact","wrapperClassName","widthOrg","resetWidthOrg","shrinkToFit","fixWidthOnShrink","autoResizeColumn","newHeight","ed","tmp","edittype","iColOld","iRowOld","$trOld","savedRow","highlightClasses","tmp2","elc","editingColumnWithTreeGridIcon","jqID","errors","errcap","edit","bClose","fr","vv","cv","addpost","postdata","opers","oper","relativeRect","kdir","scrollGrid","iR","iC","nRot","pRot","sl","pCol","findNextVisible","mthd","htmlDecode","thisgrid","$selector","oncret","aIDs","content","insertSelector","posSelector","appendsel","css","mw","themodalSelector","rtlsup","resizeAlso","mdoc","msubdoc","mh","ahr","mc","coord","oncm","gboxclose","parentZ","cone","caption","closeButtonText","modalopt","mopt","jm","buttstr","$dlg","cnt","el","eltype","autowidth","ajaxso","editMsg","setAttributes","elm","atr","exl","exclude","cbval","vl1","msl","ajaxContext","ovm1","elem1","cm1","options1","rowid1","mode1","isSelected1","iOpt","role","celm","daysInFebruary","tsp","yln","dln","mln","dv","strDate","daysInMonth","time","re","regs","customobject","nam","edtrul","dft","getPropertyValue","propertyName","propValue","dateMasks","rqfield","filter","sobj","propOrMethod","clearArray","hasOwnProperty","propOrMethods","state","$uDiv","$ubDiv","getMinimizeIcon","oMuligrid","htmlEncode","dataFieldClass","currentFilters","getId","getIdSel","getOnOffValue","soptions","checkboxValue","parseFilter","fillAll","filters","rules","setThreeStateCheckbox","$checkbox","triggerToolbar","sdata","sopt","searchoptions","getFormaterOption","optionName","cutThousandsSeparator","onOffValue","suffix","sd","ruleGroup","saveurl","bsr","clearToolbar","trigger","isSindleSelect","bcv","toggleToolbar","trow","trow2","odata","customSortOperations","buildRuleMenu","selclass","ina","aoprs","fs","odataItem","itemOper","itemOperand","itemText","inpelm","timeoutHnd","bindings","surl","sot","$thd","$stable","$tds","$tdOper","$tdInput","$tdClear","customOp","csv","soptions1","ov1","$select","oSv","dataListId","$datalist","key1","ex","$tdSearchOper","$oper","soper","operText","coli","sval","dval","newFilters","$input","$searchOper","oldValue","nullHeader","$resizing","hc","skip","$colHeader","thStyle","cghi","numberOfColumns","cVisibleColumns","cml","ths","$theadInTable","thClasses","$htable","$trLabels","$trLastWithLabels","$thead","$firstHeaderRow","inColumnHeader","columnHeaders","maxfrozen","frozenIds","$colHeaderRow","tid","hth","htbl","tHeadRows","swapfroz","fdel","cs","rs","hbd","ftbl","safeHeightSet","safeWidthSet","fixDiv","$hDiv","hDivBase","iRowStart","iRowEnd","$frozenRows","$frozenRow","posFrozenTop","newHeightFrozen","posTop","frozenTableTop","tableTop","resizeAll","fullResize","$frozenBTable","hoverRows","additionalRows","myResize","resizeOptions","frozenWidth","arg","cl","isIE","getGrid","property","getCmInfo","errorClass","dialogContentClass","checkData","colModelItem","parentgroup","that","align","groupOpSelect","inputAddSubgroup","inputAddRule","searchable","hidden","ignoreHiding","inputDeleteGroup","trHolderForSubgroup","tdFirstHolderForSubgroup","tdMainHolderForSubgroup","ruleFieldTd","ruleFieldSelect","trpar","columns","odataItem1","itemOper1","column","ruleOperatorTd","ruleDataInput","ruleOperatorSelect","ruleDataTd","ruleDeleteTd","ruleDeleteInput","operand","opC","numtypes","getStringRule","getStringForGroup","param","pfilter","xml","tab","nws","json","toXml","sXml","hasChild","xml1","funcTest","textChild","cdataChild","hasElementChild","wellform","newline","arr","node","asXml","txt","nxt","$fmButton","iconInfos","commonIcon","iconspan","$tb","vissible","htmlStr","fid","commonIconClass","gboxSelector","gviewSelector","defaultFilters","searchFeedback","hideModel","showFilter","$filter","fil","bQ","tmpl","colnm","found","bt","bS","bC","cmop","filterOptions","filterDiv","curtempl","$target","fl","$inputs","fl1","gridId","frmgr","frmgrId","frmtborg","frmtb","frmtb2","maxCols","maxRows","editOrAdd","hideModal","editFeedback","disabledClass","activeClass","closeovrl","getFormData","$celm","selectedText","createData","tb","maxcols","retpos","labelsWidth","tdtmpl","trdata","disabled","readonly","frmopt","rp","newdata","$label","$data","$dataCell","idrow","fillData","fmid","vlc","tre","selOpt","$selOpt","optVal","iVal","optText","setNullsOrUnformat","url","postIt","successResult","onClickSubmitResult","itm","retvals","parentIdField","ajaxOptions","reloadGridOptions","copydata","dpret","compareData","nObj","oObj","checkUpdates","restoreInline","updateNav","cr","posarr","totr","getCurrPos","rowsInGrid","selrow","dw","frm","tbl","fmto","flr","rtlb","bp","bn","bP","bN","cle","tms","wTagName","idFocused","zI","npos","ppos","posInit","frmtbId","viewFeedback","focusaref","$trdata","viewDataClasses","viewLabelClasses","fmtnum","max1","max2","maxw","setme","viewfld","labelText","trv","frmDiv","rowids","dtblId","dtbl","postd","deleteFeedback","pk","$delData","formRowIds","pEdit","pAdd","pDel","pSearch","pView","tdw","alertIDs","createModalAlert","documentElement","offsetGbox","$close","viewModalAlert","navtbl","clickOnEnter","focusedId","actionName","gialogId","visibleDailogIds","navButtonClass","clone","tbd","elemids","iPart","pagerTable","$pagerPart","pagerParts","navButtonDisabledClass","onHoverIn","onHoverOut","onAdd","editOrViewOfSelectedRow","methodName","onEdit","onView","onDel","dr","onSearch","onRefresh","stdButtonActivation","onClick","$button","iconText","findnav","$nav","formid","iField","$fieldi","rowdata","position","fields","griddata","summary","emptyFormatter","record","groups","counters","lastvalues","isInTheSameGroup","groupLength","keys","newGroup","fieldName","displayName","displayValue","changed","groupingCalculationsHandler","buildSummary","iSummary","normilizeValue","cmOrPropName","defaultValue","hid","clickedElem","groupLevel","hPrefix","minusClasses","plusClasses","getGroupHeaderIcon","$trElem","itemGroupingLevel","showDataRowsOnExpending","$groupIcon","collapsed","rowsToHideOrShow","addToHideOrShow","num","grdata","toEnd","sumreverse","cmLength","eventNames","getGridRowStyles","jqgroupClass","jqfootClass","buildSummaryTd","iEndGroup","foffset","iconHtml","fdata","groupCount","strTd","tmpdata","colSpan","madeHidden","nMakeHidden","summaryType","summaryTpl","isColumnForIconNotFound","iGroup","clid","groupCollapse","jj","kk","ik","colspan","sgr","gg","end","grpTextStr","leaf","parentGroupCollapse","iColNew","current","round","roundType","funcs","mul","xmlConvert","cnfg","xmldata","jstr","jstr1","svdatatype","jsonConvert","jsonstr","gprm","jdata","xmld","pdata","oneditfunc","successfunc","extraparam","aftersavefunc","errorfunc","afterrestorefunc","beforeEditRow","focus","svr","editableValues","focusField","getTdByColIndex","getFocusable","getFirstFocusable","$fe","$ind","ta","beforeSaveRow","resp","isRemoteSave","isError","displayErrorMessage","relativeElem","validationOptions","sucret","err","rT","ares","gID","gid","defaults","ap","tmpParams","cancelPrm","editingRowId","isEditing","idSel","saveCancel","addEdit","iColItem","iGrp","ghItem","selectedList","inGroup","optionLink","indexOfAddedItem","enumSelected","startIndex","reverse","updateNewColOrder","enumPreviousAndInsertAfter","enumNextAndInsertBefore","updateStartColumn","iColNotInTheGroup","elt","tblrow","start","sortableOpts","ui","tid1","$e","dataObj","select","dopts","mopts","$dialogContent","multiselectData","listHeight","colNames","getMultiselectWidgetData","call","perm","buttons","widgetData","$thisDialogContent","showHideColOptions","calldone","colHeader","headerItem","ev","subgid","updateDnD","datadnd","appender","opts1","$srcGrid","getdata","iSrc","iDest","srcName","destName","srcColModel","destColModel","datatoinsert","bdivSelector","onlyHorizontal","sel","gridHeight","aggregator","context","pivotOptions","forceSaving","trimByCollect","caseSensitive","skipSort","dimension","dimensionLength","dimensionItem","stringCompare","a1","b1","numberCompare","integerCompare","vector1","vector2","fieldLength","compareResult","compareRestlts","sortDirection","nRows","fieldNames","indexesOfSourceData","iMin","iMax","summaries","groupingView","groupOptions","iXData","itemXData","pivotInfos","xDimension","yDimension","aggregates","aggrContext","isRowTotal","aggrTotal","xlen","ylen","aggrlen","headerLevels","colHeaders","hasGroupTotal","outputItems","aggrContextTotalRows","aggrContextGroupTotalRows","xIndexLength","indexesOfDataWithTheSameXValues","iYData","itemYData","indexesOfDataWithTheSameYValues","iRows","agr","outputItem","previousY","groupHeaders","iRowsY","xIndex","yIndex","yIndexLength","indexDataBy","compareVectors","buildColModelItem","colType","agr1","iAggr","level","iyData","label","cmItem","addColumnToColModel","aggregate","addGroupTotalHeaders","previousY1","iLevel","totalHeader","headerOnTop","createTotalAggregation","aggrGroup","initializeGroupTotals","finalizeGroupTotals","itemYData1","calculateGroupTotals","row1","iRow1","groupInfo","pivotOpt","gridOpt","ajaxOpt","pivot","pivotGrid","assocArraySize","footerrow","data1","subGridOptions","hasSubgrid","getSubgridStyle","calsses","thSubgridClasses","rowSubTableClasses","rowClasses","tdWithIconClasses","tdDataClasses","subGridCell","pos1","fillXmlBody","sgmap","fillJsonBody","subGridXmlOrJson","sjxml","sbid","fullBody","subgridTableClasses","populatesubgrid","dp","loadError","subgridDivId","atd","nhc","$td1","iColSubgrid","inputCheckbox","inputRadio","selectMultiple","selectSingle","selectable","rowIds","rowChecked","rowPos","input","treeIcons","iconCollapsed","iconExpanded","beforeSelectRow","eOrg","expendOrCollaps","collapseOrExpand","tkey","dupcols","boolProp","childern","parentId","parentIdName","lftc","rgtc","levelc","iParent","dtid","ancestors","getNodeParent","parent","rc1","sortname","rec","records","rt","roots","skipSelf","myright","rid","right","nodeid","parentid","expandData","getInd","parentindex","parentdata","parentlevel","rowind","maxright","prow","childs","iChildRow","childId","orgEvent","touches","$mainDialog","dnrMainDialog","$alsoResize","dnrAlsoResize","xy","$this","handle","alsoResize","$inputDatePicker","getCssProp","getMainCssProp","getAlsoResizeCssProp","eventData","activeModal","modal","targetOffset","eX","eY","isEventInsideOfModal","isInside","bindOrUnbind","jqm","$overlay","parentOffset","cc","option","unchecked","getOption","checkedClasses","uncheckedClasses","yes","no","buildCheckbox","checkedIcon","checkedIconClasses","uncheckedIcon","newValue","checkboxOptions","lowerCaseNewData","isNumber","bNegative","sOutput","sDecimalSeparator","nDotIndex","nDecimalPlaces","sThousandsSeparator","sNewOutput","nCount","formatType","rwd","cellBuilder","idUrl","idParam","addParam","getOptionValue","parseDate","oSelect","scell","$fnDefaultFormat","defaultValueDefined","nOpts","selOptions","splitedCell","$id","$grid","customAction","actop","relativeTop","displayMask","cssIconClass","buttonInfos","actionButton","idPrefix","hoverClass","fbRows","showHideEditDelete","$actionsDiv","showEditDelete","hideEditDelete","onMouseOver","onMouseOut","bindEvents","autoResizable","bindRowEvents","iColToBind","unformatFunc","formatterName","$","selectedRowIds","selectRow","$this_p","$element","selectRowById","unselectRows","rowIdsToUnselect","shiftSelect","rowIndexMin","rowIndexMax","rowidsToUnselect","table_id","setup","column_info_array","max_height","table_div","default_setup","clear_grid","x1","y1","x2","y2","noScale","parameter_name","inner_width","new_record","row_id","row_data","filename","csv_data","temp_element","csv_content","tds","selection_obj","trs","column_model","parent_container","grid_parent","total_column_width","longer","champ","contender","longestWord","words","grid_data","cb_column_width","cb_column_count_adjustment","longest_field_width","column_widths","col","longest_cell_content","header_is_longest","current_cell_content","calculate_text_width_options","equal_column_width","equal_column_width_remainder","adjusted_grid_width","tmp_column_name","tmp_column_width","body_width_difference","column_width_adjustment","columns_to_adjust_width","column_width_adjustment_remainder","grids","ttgrid"],"mappings":"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"}