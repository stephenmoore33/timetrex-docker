import{_ as n,j as s}from"./vendor-tTApdY0Y.bundle.js";class u extends BaseWizardController{constructor(e={}){n.defaults(e,{el:".wizard-bg"}),super(e)}init(e){this.title=s.i18n._("Share Report Wizard"),this.steps=2,this.current_step=1,this.render()}render(){super.render(),this.initCurrentStep()}buildCurrentStepUI(){switch(this.content_div.empty(),this.stepsWidgetDic[this.current_step]={},this.current_step){case 1:var e=this.getLabel();e.text(s.i18n._("Select one or more saved report you wish to share"));var r=this.getAComboBox(TTAPI.APIUserReportData,!0,"global_job","user_report_data_ids",!1),t=s("<div class='wizard-acombobox-div'></div>");t.append(r),this.content_div.append(e),this.content_div.append(t),this.stepsWidgetDic[this.current_step][r.getField()]=r;break;case 2:e=this.getLabel(),e.text(s.i18n._("Select one or more employees to share report with")),r=this.getAComboBox(TTAPI.APIUser,!0,"global_user","destination_user_ids",!1),t=s("<div class='wizard-acombobox-div'></div>"),t.append(r),this.stepsWidgetDic[this.current_step]={},this.stepsWidgetDic[this.current_step][r.getField()]=r,this.content_div.append(e),this.content_div.append(t);break}}buildCurrentStepData(){var e=this.stepsDataDic[this.current_step],r=this.stepsWidgetDic[this.current_step];switch(this.current_step){case 1:if(e)for(var t in e)e.hasOwnProperty(t)&&r[t].setValue(e[t]);else for(var t in r)r.hasOwnProperty(t)&&this.default_data&&r[t].setValue(this.default_data);break;default:for(var t in e)e.hasOwnProperty(t)&&r[t].setValue(e[t]);break}}onDoneClick(){var e=this;super.onDoneClick(),this.saveCurrentStep();var r=this.stepsDataDic[1].user_report_data_ids,t=this.stepsDataDic[2].destination_user_ids,a=TTAPI.APIUserReportData;a.shareUserReportData(r,t,{onResult:function(i){i.isValid()?(TAlertManager.showAlert(s.i18n._("Report shared successfully")),s(e.el).remove()):TAlertManager.showErrorAlert(i)}})}saveCurrentStep(){this.stepsDataDic[this.current_step]={};var e=this.stepsDataDic[this.current_step],r=this.stepsWidgetDic[this.current_step];switch(this.current_step){default:for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t].getValue());break}}setDefaultDataToSteps(){if(!this.default_data)return null}}export{u as ShareReportWizardController};
//# sourceMappingURL=ShareReportWizardController-D7TG_yYv.bundle.js.map
