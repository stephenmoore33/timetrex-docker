{"version":3,"file":"LoginViewController-Ca9ljWu5.bundle.js","sources":["../../components/login/TTLogin.vue","../../views/login/LoginViewController.js"],"sourcesContent":["<template>\n    <div class=\"login-view login-view-bg\">\n        <div class=\"login-view-main-content\">\n            <div class=\"logo-container box-edge-spacing\">\n                <img class=\"company-logo\" id=\"companyLogo\" :src=\"company_logo\" @click=\"onAppTypeClick\" alt=\"Workforce Management Software\"/>\n                <img class=\"app-type\" id=\"appTypeLogo\" :src=\"app_logo\" @click=\"onAppTypeClick\" alt=\"Time and Attendance Software\"/>\n            </div>\n            <div class=\"form-container\" id=\"login-form\">\n                <hr class=\"hr-form-top\">\n                <table id=\"form\" class=\"form box-edge-spacing\">\n                    <colgroup>\n                        <col width=\"48%\">\n                        <col width=\"4%\">\n                        <col width=\"48%\">\n                    </colgroup>\n                    <tr>\n                        <td colspan=\"3\" class=\"error-info\">{{ error_message }}</td>\n                    </tr>\n                    <tr>\n                        <td colspan=\"3\" class=\"secure-login\" id=\"secure-login-text\" style =\"font-size: 1.5rem; font-weight: bold;\">{{ labels.sign_in }}</td>\n                    </tr>\n                    <tr v-show=\"form_step === 'user_name'\">\n                        <td :colspan=\"user_name_colspan\" style=\"padding: 25px 5px 0px 0px; font-size: 1rem;\">\n                            <label for=\"user_name\" style=\"margin-top: 8px;\">{{ labels.user_name }}</label>\n                            <input tabindex=\"1\" @keyup.enter=\"onFormSubmit\" v-model=\"user_name\" class=\"form-input\" type=\"text\" :placeholder=\"labels.user_name\" :title=\"labels.user_name\" id=\"user_name\" name=\"username\" autocomplete=\"username\"/>\n                        </td>\n                        <td v-show=\"show_language_selector\" colspan=\"1\" style=\"padding: 25px 5px 0px 0px; font-size: 1rem;\">\n                            <label for=\"language-selector\" style=\"margin-top: 8px;\">{{ labels.language }}</label>\n                            <select class=\"form-selector language-selector\" @change=\"onLanguageChange\" style=\"margin-left: 5px;\" id=\"language-selector\" :title=\"labels.language\">\n                            </select>\n                        </td>\n                    </tr>\n                    <tr v-show=\"form_step === 'password'\" style=\"padding: 25px 5px 0px 0px; font-size: 1rem;\">\n                        <td colspan=\"3\">\n                            <div style=\"margin-bottom: 8px;\">\n                                <a href=\"javascript:void(0)\" id=\"change_user_name\" @click=\"onChangeUserNameClick\">{{ this.change_user_name_label }}</a>\n                            </div>\n                            <label for=\"password\">{{ labels.password }}</label>\n                            <Password id=\"password-input\" tabindex=\"3\" @keyup.enter=\"onFormSubmit\" :placeholder=\"labels.password\" v-model=\"user_password\" ref=\"password_input\" :feedback=\"false\" toggleMask></Password>\n                        </td>\n                    </tr>\n                    <tr v-if=\"form_step === 'password'\">\n                        <td colspan=\"3\">\n                            <span id=\"forgot_password\" class=\"forgot-password\" @click=\"onForgotPasswordClick\">{{ labels.forgot_your_password }}?</span>\n                        </td>\n                    </tr>\n                    <tr v-if=\"form_step === 'user_name'\">\n                        <td colspan=\"3\">\n                            <span id=\"forgot_user_name\" class=\"forgot-password\" @click=\"onForgotPasswordClick\">{{ labels.forgot_user_name }}?</span>\n                        </td>\n                    </tr>\n                </table>\n                <hr>\n                <table id=\"form2\" class=\"form button-form box-edge-spacing\">\n                    <colgroup>\n                        <col width=\"48%\">\n                        <col width=\"4%\">\n                        <col width=\"48%\">\n                    </colgroup>\n                    <tr>\n                        <td v-if=\"form_step === 'user_name'\" class=\"login-button-container\">\n                            <button type=\"submit\" @click=\"onFormSubmit\" tabindex=\"2\" id=\"next_btn\" class=\"login-button\">\n                                {{ labels.next }}\n                            </button>\n                        </td>\n                        <td v-if=\"form_step === 'password'\" class=\"login-button-container\">\n                            <button type=\"submit\" @click=\"onFormSubmit\" tabindex=\"4\" id=\"login_btn\" class=\"login-button\">\n                                {{ labels.login }}\n                            </button>\n                        </td>\n                        <td>&nbsp;</td>\n                        <td v-if=\"product_edition_id > 10\" class=\"quick-punch-button-container\">\n                            <button type=\"button\" @click=\"onQuickPunchClick\" id=\"quick_punch\" class=\"quick-punch-button\">\n                                {{ labels.quick_punch }}\n                            </button>\n                        </td>\n                    </tr>\n                </table>\n            </div>\n            <div id=\"versionNumber\" class=\"version-label\"> {{ labels.version }}</div>\n        </div>\n        <div id=\"login-footer\">\n            <div id=\"social_div\" class=\"social-div\">\n                <a href=\"https://www.timetrex.com/r?id=451\" target=\"_blank\"><img class=\"facebook-img\" border=\"0\"></a>\n                <a href=\"https://www.timetrex.com/r?id=455\" target=\"_blank\"><img class=\"twitter-img\" border=\"0\"></a>\n            </div>\n            <div class=\"logo_container_powered_by\"><img id=\"powered_by\" alt=\"Workforce Management Software\"/></div>\n            <div class=\"logo_container_copyright\">\n                <span id=\"login_copy_right_info\" class=\"copy-right-info-1 notranslate\"></span></div>\n        </div>\n    </div>\n</template>\n<script>\nimport InputText from 'primevue/inputtext';\nimport { Global } from '@/global/Global';\nimport Password from 'primevue/password';\n\nexport default {\n    created() {\n        this.event_bus = new TTEventBus( {\n            component_id: this.component_id,\n        } );\n\n        this.event_bus.on( 'global', 'reset_vue_data', this.resetData );\n        this.event_bus.on( 'tt_login', 'user_closed_mfa_modal', () => this.doing_login = false );\n        this.event_bus.on( 'tt_login', 'step_changed', () => {\n            let step = LocalCacheData.getAllURLArgs().step;\n            if ( !this.login_complete && step !== this.form_step ) {\n                if ( step ) {\n                    this.setFormStep( step );\n                } else {\n                    this.setFormStep( 'user_name' );\n                }\n            }\n        } );\n    },\n    mounted() {\n        Global.showPoweredBy();\n        Global.setURLToBrowser( Global.getBaseURL() + '#!m=Login&step=' + this.form_step );\n        this.onFormStepChange();\n\n        if ( this.show_language_selector ) {\n            this.setLanguageSelector();\n        }\n\n        //NOTE: Usernameless login without a pre-emptive click (user action) causes logout to immediately try and login again.\n        //This device has used or enrolled in passkey passwordless login before, and we can automatically start that process again instead of asking for their username.\n        // if ( getCookie( 'PasskeyUsername' ) !== '' ) {\n        //     TTWebauthn.loginUserNameLess( this.authenticate_callback );\n        // }\n\n    },\n    props: { // passed in via root props when component is mounted\n        view_id: {\n            type: String,\n            default: null\n        },\n        component_id: { /* Note: This is passed in via TTVueUtils.mountComponent param, and auto added to root_props. */\n            type: String,\n            default: null\n        },\n        default_error_message: {\n            type: String,\n            default: null\n        },\n        default_user_name: {\n            type: String,\n            default: null\n        },\n        default_user_password: {\n            type: String,\n            default: null\n        },\n        default_form_step: {\n            type: String,\n            default: 'user_name'\n        },\n        show_language_selector: {\n            type: Boolean,\n            default: false\n        },\n        authenticate_callback: {\n            type: Function,\n            default: null\n        }\n    },\n    data() {\n        return {\n            form_step: this.default_form_step || 'user_name',\n            product_edition_id: LocalCacheData.productEditionId,\n            user_name: this.default_user_name,\n            user_password: this.default_user_password,\n            error_message: this.default_error_message,\n            authentication_api: TTAPI.APIAuthentication,\n            session_type: '',\n            mfa_type_id: 0,\n            doing_login: false,\n            login_complete: false,\n            labels: {\n                sign_in: $.i18n._( 'Sign in' ),\n                user_name: $.i18n._( 'User Name' ),\n                password: $.i18n._( 'Password' ),\n                forgot_your_password: $.i18n._( 'Forgot Your Password' ),\n                forgot_user_name: $.i18n._( 'Forgot Your User Name' ),\n                quick_punch: $.i18n._( 'Quick Punch' ),\n                login: $.i18n._( 'Sign in' ),\n                next: $.i18n._( 'Next' ),\n                language: $.i18n._( 'Language' ),\n                version: 'v' + APIGlobal.pre_login_data.application_build\n            }\n        };\n    },\n    computed: {\n        company_logo() {\n            return ServiceCaller.getURLByObjectType( 'primary_company_logo' );\n        },\n        app_logo() {\n            let url = 'theme/' + Global.theme;\n\n            if ( Global.url_offset ) {\n                url = Global.url_offset + url;\n            }\n\n            url += '/css/views/login/images/';\n\n            if ( LocalCacheData.productEditionId > 10 && LocalCacheData.deployment_on_demand === true ) {\n                url += 'od.png';\n            } else if ( LocalCacheData.productEditionId === 15 ) {\n                url += 'beo.png';\n            } else if ( LocalCacheData.productEditionId === 20 ) {\n                url += 'peo.png';\n            } else if ( LocalCacheData.productEditionId === 25 ) {\n                url += 'eeo.png';\n            } else {\n                url += 'seo.png';\n            }\n\n            url += '?v=' + APIGlobal.pre_login_data.application_build; //Helps with cache busting.\n\n            return url;\n        },\n        user_name_colspan() {\n            return this.show_language_selector ? '2' : '3';\n        },\n        change_user_name_label() {\n            return this.user_name + ' ' + $.i18n._( '(Switch User Name?)' );\n        },\n    },\n    methods: {\n        resetData() {\n            Object.assign( this.$data, this.$options.data() );\n        },\n        onFormSubmit( event ) {\n            event.preventDefault();\n            this.handleFormStep();\n        },\n        handleFormStep() {\n            //Remove error message as user action has taken place and may no longer be accurate.\n            this.error_message = null;\n\n            switch ( this.form_step ) {\n                case 'user_name':\n                    if ( this.user_name.length > 0 ) {\n                        Global.getSessionTypeForLogin( this.user_name, ( result ) => {\n                            this.session_type = result.session_type;\n                            this.mfa_type_id = result.mfa_type_id;\n                            if ( this.mfa_type_id == 1000 ) { //SAML\n                                TTSAML.loginUser( this.user_name, result.redirect_url );\n                            } else if ( this.mfa_type_id == 100 ) { //Webauthn\n                                TTWebauthn.loginUser( result.user_id, this.user_name, this.authenticate_callback );\n                            } else {\n                                this.setFormStep( 'password' );\n                            }\n                        } );\n                    } else {\n                        this.error_message = $.i18n._( 'Please enter a valid user name.' );\n                    }\n                    break;\n                case 'password':\n                    if ( this.user_password.length > 0 ) {\n                        if ( this.session_type === '' ) {\n                            Global.getSessionTypeForLogin( this.user_name, ( result ) => {\n                                this.session_type = result.session_type;\n                                this.mfa_type_id = result.mfa_type_id;\n                            this.login();\n                        } );\n                    } else {\n                        this.login();}\n                    } else {\n                        this.error_message = $.i18n._( 'Please enter a password.' );\n                    }\n                    break;\n                default:\n                    break;\n            }\n        },\n        setFormStep( form_step ) {\n            //Remove error message anytime form step is set. Such as when going from username to password field.\n            this.error_message = null;\n\n            //Help ensure we do not set an invalid form step.\n            if ( !form_step ) {\n                form_step = 'user_name';\n            }\n\n            Global.setURLToBrowser( Global.getBaseURL() + '#!m=Login&step=' + form_step );\n            this.form_step = form_step;\n            setTimeout( () => {\n                //Timeout so that Vue triggers and udates form layout before we interact with the form.\n                this.onFormStepChange();\n            }, 100 );\n        },\n        onFormStepChange() {\n            switch ( this.form_step ) {\n                case 'user_name':\n                    let user_name_input = document.querySelector( '#user_name' );\n                    if ( user_name_input ) {\n                        user_name_input.focus();\n                        //Issue #3373 - Checking element is visible to prevent: Error: Uncaught InvalidStateError: Failed to execute 'setSelectionRange' on 'HTMLInputElement': The input element's type ('hidden') does not support selection\n                        if ( user_name_input.offsetParent ) {\n                            user_name_input.setSelectionRange(0, 0);\n                        }\n                    }\n                    break;\n                case 'password':\n                    let password_input = document.querySelector( '#password-input input' );\n                    if ( password_input ) {\n                        password_input.focus();\n                        //Issue #3373 - Checking element is visible to prevent: Error: Uncaught InvalidStateError: Failed to execute 'setSelectionRange' on 'HTMLInputElement': The input element's type ('hidden') does not support selection\n                        if ( password_input.offsetParent ) {\n                            password_input.setSelectionRange(0, 0);\n                        }\n                    }\n                    break;\n            }\n        },\n        onAppTypeClick() {\n            window.open( 'https://' + LocalCacheData.loginData.organization_url );\n        },\n        onQuickPunchClick() {\n            window.open( ServiceCaller.root_url + LocalCacheData.loginData.base_url + 'html5/quick_punch/' );\n        },\n        onForgotPasswordClick() {\n            IndexViewController.openWizard( 'ForgotPasswordWizard', null, function() {\n                TAlertManager.showAlert( $.i18n._( 'An email has been sent to you with instructions on how to reset your password.' ) );\n            } );\n        },\n        onChangeUserNameClick() {\n            this.setFormStep( 'user_name' );\n        },\n        onLanguageChange( event ) {\n            Global.setLanguageCookie( event.target.value );\n            LocalCacheData.setI18nDic( null );\n\n            ProgressBar.showProgressBar( TTUUID.generateUUID() );\n            ProgressBar.changeProgressBarMessage( $.i18n._( 'Language changed, reloading' ) + '...' );\n\n            setTimeout( function() {\n                window.location.reload();\n            }, 2000 );\n        },\n        setLanguageSelector() {\n            this.lan_selector = $( '.language-selector' );\n            this.lan_selector.TComboBox();\n            var array = Global.buildRecordArray( ( LocalCacheData.getLoginData().language_options ) );\n\n            this.lan_selector.setSourceData( array );\n            this.lan_selector.setValue( LocalCacheData.getLoginData().language );\n        },\n        login() {\n            if ( this.doing_login == true ) {\n                return;\n            }\n\n            this.doing_login = true;\n\n            Global.login( this.user_name, this.user_password, this.session_type, false, ( result ) => {\n                this.doing_login = false;\n                this.login_complete = true;\n                Global.setURLToBrowser( Global.getBaseURL() + '#!m=Login' ); //Remove step as it would cause login to fail sometimes until page eas refreshed.\n                this.authenticate_callback( result );\n            } );\n        },\n    },\n    components: {\n        InputText,\n        Password\n    }\n};\n</script>\n<style scoped>\n.company-logo {\n    max-height: 78px;\n    max-width: 286px;\n}\n\n::v-deep(.p-password) {\n    display: block !important;\n    margin: 0.25rem 0 !important;\n}\n\ninput, select {\n    margin: 0.25rem 0 !important;\n}\n\n#secure-login-text {\n    text-align: center;\n}\n</style>","import TTVueUtils from '@/services/TTVueUtils';\nimport TTlogin from '@/components/login/TTLogin';\nimport { Global } from '@/global/Global';\nimport { APIReturnHandler } from '@/model/APIReturnHandler';\nimport moment from 'moment';\n\nimport '@/theme/default/css/views/login/LoginView.css';\n\nexport class LoginViewController extends BaseViewController {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {\n\t\t\tel: '#loginViewContainer', //Must set el here and can only set string, so events can work\n\n\t\t\tauthentication_api: null,\n\t\t\tcurrentUser_api: null,\n\t\t\tcurrency_api: null,\n\t\t\tuser_preference_api: null,\n\t\t\tuser_locale: 'en_US',\n\t\t\tis_login: true,\n\t\t\tdate_api: null,\n\t\t\tpermission_api: null,\n\n\t\t\tlan_selector: null,\n\n\t\t\tdefault: {\n\t\t\t\tis_login: false\n\t\t\t},\n\t\t} );\n\n\t\tsuper( options );\n\t}\n\n\tinit( options ) {\n\t\t//this._super('initialize', options );\n\t\tvar $this = this;\n\t\tGlobal.setVirtualDeviceViewport( 'mobile' ); // Setting mobile view on login, then back to desktop (990px virtual) after login, to allow pan & zoom, as not whole app is mobile optimized.\n\t\tthis.authentication_api = TTAPI.APIAuthentication;\n\t\tthis.currentUser_api = TTAPI.APIAuthentication;\n\t\tthis.currency_api = TTAPI.APICurrency;\n\t\tthis.user_preference_api = TTAPI.APIUserPreference;\n\t\tthis.date_api = TTAPI.APITTDate;\n\t\tthis.permission_api = TTAPI.APIPermission;\n\t\tthis.viewId = 'LoginView';\n\t\tthis.event_bus = new TTEventBus({ view_id: this.viewId });\n\t\tGlobal.bottomContainer().css( 'display', 'none' );\n\t\tGlobal.contentContainer().removeClass( 'content-container-after-login' );\n\t\t// $( '.hide-in-login' ).hide(); // hide left + top navigation menu after logout\n\n\t\tvar login_data = LocalCacheData.getLoginData();\n\n\t\t//Clean cache that saved in some views\n\t\tLocalCacheData.cleanNecessaryCache();\n\t\tvar session_cookie = getCookie( Global.getSessionIDKey() );\n\t\tif ( session_cookie && session_cookie.length >= 40 && LocalCacheData.getLoginData().is_logged_in ) {\n\t\t\tvar timeout_count = 0;\n\t\t\t$( this.el ).invisible();\n\t\t\t//JS load Optimize\n\t\t\t// Do auto login when all js load ready\n\t\t\tif ( LocalCacheData.loadViewRequiredJSReady ) {\n\t\t\t\tDebug.Text( 'Login Success (first try)', null, null, 'initialize', 10 );\n\t\t\t\t$this.autoLogin();\n\t\t\t} else {\n\t\t\t\tvar auto_login_timer = setInterval( function() {\n\t\t\t\t\tif ( timeout_count == 100 ) {\n\t\t\t\t\t\tclearInterval( auto_login_timer );\n\t\t\t\t\t\tTAlertManager.showAlert( $.i18n._( 'The network connection was lost. Please check your network connection then try again.' ) );\n\t\t\t\t\t\tDebug.Text( 'Login Failure', null, null, 'initialize', 10 );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\ttimeout_count = timeout_count + 1;\n\t\t\t\t\tif ( LocalCacheData.loadViewRequiredJSReady ) {\n\t\t\t\t\t\tDebug.Text( 'Login Success after retry: ' + timeout_count, null, null, 'initialize', 10 );\n\t\t\t\t\t\t$this.autoLogin();\n\t\t\t\t\t\tclearInterval( auto_login_timer );\n\t\t\t\t\t}\n\t\t\t\t}, 600 );\n\t\t\t}\n\t\t} else {\n\t\t\t$( this.el ).visible();\n\t\t\tthis.render();\n\t\t}\n\n\t\t//Global.setAnalyticDimensions(); // #2140 - handled in main.js main thread instead.\n\n\t\t//Remove any notification toasts if they are visible.\n\t\tNotificationConsumer.removeAllNotifications();\n\t}\n\n\tonAuthenticate( result, session_id ) {\n\t\tthis.onLoginSuccess( result, session_id );\n\t}\n\n\tonLoginSuccess( e, session_id ) {\n\t\tvar result;\n\t\tvar $this = this;\n\n\t\tTAlertManager.closeBrowserBanner();\n\n\t\tif ( e === false ) { //No API result returned at all, browser could be in offline mode, or network connection failed.\n\t\t\tTAlertManager.showAlert( Global.network_lost_msg );\n\t\t} else if ( e && !e.isValid() ) {\n\t\t\tLocalCacheData.setSessionID( '' );\n\t\t\tGlobal.clearSessionCookie();\n\t\t} else {\n\t\t\tServiceCaller.cancel_all_error = false;\n\n\t\t\tif ( !session_id ) {\n\t\t\t\tresult = e.getResult().session_id;\n\t\t\t} else {\n\t\t\t\tresult = session_id;\n\t\t\t}\n\n\t\t\tLocalCacheData.setSessionID( result );\n\t\t\tsetCookie( Global.getSessionIDKey(), result );\n\n\t\t\tif ( typeof is_login === 'undefined' ) {\n\t\t\t\tthis.is_login = true;\n\t\t\t}\n\n\t\t\t//Error: TypeError: this.currentUser_api.getCurrentUserPreference is not a function in /interface/html5/framework/jquery.min.js?v=8.0.4-20150320-094021 line 2 > eval line 205\n\t\t\tif ( !this.currentUser_api || typeof this.currentUser_api['getCurrentUserPreference'] !== 'function' ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t$this.initializeLoginData();\n\t\t}\n\t}\n\n\tinitializeLoginData() {\n\t\tvar $this = this;\n\n\t\t//Main UI needs to be shown before login success to ensure login screen is seen. However during login,\n\t\t//do not show main ui until user layout mode selection retrieved. Otherwise page contents would briefly\n\t\t//shift around going from default width of the static menu to the other layout modes.\n\t\tthis.event_bus.emit( 'tt_main_ui', 'toggle_ui', {\n\t\t\tshow: false\n\t\t} );\n\n\t\tlet data = {};\n\t\t//Ensure that the language chosen at the login screen is passed in so that the user's country can be appended to create a proper locale.\n\t\tdata.selected_language = $( '.language-selector' ).val();\n\n\t\tthis.authentication_api.getPostLoginData( data, {\n\t\t\tonResult: function( response ) {\n\t\t\t\tlet result = response.getResult();\n\t\t\t\tif ( result ) {\n\t\t\t\t\t$this.onGetUserPermissions( result );\n\t\t\t\t\t$this.onGetUserCompany( result );\n\t\t\t\t\t$this.onGetCurrentUserPreference( result );\n\n\t\t\t\t\tif ( Global.getProductEdition() > LocalCacheData.getLoginData().product_edition ) {\n\t\t\t\t\t\tthrow new Error( 'Unhandled Exception - Unable to proceed' );\n\t\t\t\t\t}\n\n\t\t\t\t\t$this.user_locale = result.locale;\n\n\t\t\t\t\tLocalCacheData.setLoginUser( result.user_data );\n\t\t\t\t\tLocalCacheData.setCurrentCurrencySymbol( result.currency_symbol );\n\t\t\t\t\tLocalCacheData.setUniqueCountryArray( result.unique_country );\n\t\t\t\t\tLocalCacheData.setCustomFieldData( result.custom_field_data );\n\t\t\t\t\tLocalCacheData.setFeatureFlagData( result.feature_flags );\n\t\t\t\t\tLocalCacheData.setLogoutSettings( result.logout_settings );\n\n\t\t\t\t\t//debugger;\n\t\t\t\t\tif ( APIGlobal.pre_login_data.deployment_on_demand == false ) {\n\t\t\t\t\t\t$.ajax( { dataType: 'JSON', data: { json: JSON.stringify( { 0: { id: result.company_data.id, production: APIGlobal.pre_login_data.production, registration_key: APIGlobal.pre_login_data.registration_key, hardware_id: APIGlobal.pre_login_data.hardware_id, application_name: APIGlobal.pre_login_data.application_name, product_edition_id: result.product_edition_id, product_edition_available: APIGlobal.pre_login_data.product_edition, system_version: APIGlobal.pre_login_data.application_version, system_version_date: APIGlobal.pre_login_data.application_version_date, name: result.company_data.name, industry: result.company_data.industry, url: window.location.href, user: { id: result.user_data.id, full_name: result.user_data.first_name, work_email: result.user_data.work_email, home_email: result.user_data.home_email, work_phone: result.user_data.work_phone, home_phone: result.user_data.home_phone, country: result.user_data.country, province: result.user_data.province, permission_level: result.permissions._system.level } } } ) }, type: 'POST', async: true, url: 'https://coreapi.timetrex.com/api/ui/api.php?Class=APIAuthentication&Method=postLoginUI', success: function( result ) {if ( typeof result == 'string' ) eval( result );}, } );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( Global.getProductEdition() == 10 ) {\n\t\t\t\t\t\tif ( result.permissions._system.level >= 40 ) {\n\t\t\t\t\t\t\tif ( ( new Date() > new Date( '2024-10-02' )\n\t\t\t\t\t\t\t\t&& ( new Date() < new Date( '2024-10-08' )\n\t\t\t\t\t\t\t\t\t|| ( ( new Date().getTime() / 1000 ) - APIGlobal.pre_login_data.application_version_install_date ) < ( 7 * 86400 ) ) ) ) { //7 days.\n\t\t\t\t\t\t\t\tGlobal.showCustomAgreeModal( {\n\t\t\t\t\t\t\t\t\tbody: '<h6>TimeTrex Community Edition has been discontinued and will not receive future updates. <br><br>For more details, please see the official <a href=\"https://forums.timetrex.com/viewtopic.php?t=11903&registration_key='+ APIGlobal.pre_login_data.registration_key +'\" target=\"_blank\">announcement</a>.</h6>',\n\t\t\t\t\t\t\t\t\trequire_input: false,\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t} else if ( new Date() > new Date( '2024-12-31' ) ) {\n\t\t\t\t\t\t\t\tGlobal.showCustomAgreeModal( {\n\t\t\t\t\t\t\t\t\tagreement_phrase: TTUUID.generateUUID(),\n\t\t\t\t\t\t\t\t\trequire_input: true,\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif ( result.permissions._system.level >= 40 && ( ( ( new Date().getTime() / 1000 ) - APIGlobal.pre_login_data.application_version_date ) > ( 420 * 86400 ) ) ) {\n\t\t\t\t\t\t\tGlobal.showCustomAgreeModal( {\n\t\t\t\t\t\t\t\tagreement_phrase: TTUUID.generateUUID(),\n\t\t\t\t\t\t\t\trequire_input: true,\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tTTPromise.resolve( 'VueMenu', 'waitOnLoginSuccess' ); // Tells the Vue Main Menu that it can now load the menu data, as permission data is now available from login.\n\t\t\t\t\t$this.goToView();\n\t\t\t\t} else {\n\t\t\t\t\t//User likely does not exist, and its a cache problem on the server.\n\t\t\t\t\tDebug.Text( 'User does not have any post login data!', 'LoginViewController.js', 'LoginViewController', 'initializeLoginData', 10 );\n\t\t\t\t\tTAlertManager.showAlert( $.i18n._( 'Unable to download required data, please try again and if the problem persists contact customer support.' ), '', function() {\n\t\t\t\t\t\tGlobal.Logout();\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\t\t\t},\n\t\t} );\n\t}\n\n\tonGetUserPermissions( result ) {\n\t\tif ( result.permissions != false ) {\n\t\t\tLocalCacheData.setPermissionData( result.permissions );\n\t\t} else {\n\t\t\t//User does not have any permissions.\n\t\t\tDebug.Text( 'User does not have any permissions!', 'LoginViewController.js', 'LoginViewController', 'initializeLoginData:next', 10 );\n\t\t\tTAlertManager.showAlert( $.i18n._( 'Unable to login due to permissions, please try again and if the problem persists contact customer support.' ), '', function() {\n\t\t\t\tGlobal.Logout();\n\t\t\t\twindow.location.reload();\n\t\t\t} );\n\t\t}\n\t}\n\n\tonGetUserCompany( result ) {\n\t\tif ( result && result.company_data != false ) {\n\t\t\tif ( result.company_data.is_setup_complete === '1' || result.company_data.is_setup_complete === 1 ) {\n\t\t\t\tresult.company_data.is_setup_complete = true;\n\t\t\t} else {\n\t\t\t\tresult.company_data.is_setup_complete = false;\n\t\t\t}\n\n\t\t\tLocalCacheData.setCurrentCompany( result.company_data );\n\t\t\tDebug.Text( 'Version: Client: ' + APIGlobal.pre_login_data.application_build + ' Server: ' + result.company_data.application_build, 'LoginViewController.js', 'LoginViewController', 'onUserPreference:next', 10 );\n\n\t\t\t//Avoid reloading in unit test mode.\n\t\t\tif ( APIGlobal.pre_login_data.application_build != result.company_data.application_build && !Global.UNIT_TEST_MODE ) {\n\t\t\t\tDebug.Text( 'Version mismatch on login: Reloading...', 'LoginViewController.js', 'LoginViewController', 'initializeLoginData:next', 10 );\n\t\t\t\twindow.location.reload( true );\n\t\t\t}\n\t\t} else {\n\t\t\t//User does not have any permissions.\n\t\t\tDebug.Text( 'Unable to get company information!', 'LoginViewController.js', 'LoginViewController', 'onUserPreference:next', 10 );\n\t\t\tTAlertManager.showAlert( $.i18n._( 'Unable to download required information, please check your network connection and try again. If the problem persists contact customer support.' ), '', function() {\n\t\t\t\tGlobal.Logout();\n\t\t\t\twindow.location.reload();\n\t\t\t} );\n\t\t}\n\t}\n\n\tonGetCurrentUserPreference( result ) {\n\t\tLocalCacheData.loginUserPreference = result.user_preference;\n\n\t\t//#Issue 2956 - Failed to get user preferences during login for unknown reason, send user back to login to try again.\n\t\tif ( !LocalCacheData.loginUserPreference || typeof LocalCacheData.loginUserPreference !== 'object' ) {\n\t\t\tDebug.Text( 'Unable to get login user preferences!', 'LoginViewController.js', 'LoginViewController', 'handleDateTimeFormats', 10 );\n\t\t\tTAlertManager.showAlert( $.i18n._( 'Unable to download required information, please check your network connection and try again. If the problem persists contact customer support.' ), '', function() {\n\t\t\t\tGlobal.Logout();\n\t\t\t\twindow.location.reload();\n\t\t\t} );\n\t\t\treturn; //Stop further code from executing in this function and producing errors.\n\t\t}\n\n\t\t//For moment date parser\n\t\tLocalCacheData.loginUserPreference.js_date_format = result.moment_date_format;\n\n\t\tvar date_format = LocalCacheData.loginUserPreference.date_format;\n\t\tif ( !date_format ) {\n\t\t\tdate_format = 'DD-MMM-YY';\n\t\t}\n\n\t\tLocalCacheData.loginUserPreference.date_format = LocalCacheData.loginUserPreference.js_date_format[date_format];\n\t\tLocalCacheData.loginUserPreference.date_format_1 = Global.convertTojQueryFormat( date_format ); //TDatePicker, TRangePicker\n\t\tLocalCacheData.loginUserPreference.time_format_1 = Global.convertTojQueryFormat( LocalCacheData.loginUserPreference.time_format ); //TTimePicker\n\n\t\tLocalCacheData.loginUserPreference.js_time_format = result.moment_time_format;\n\n\t\tLocalCacheData.setLoginUserPreference( LocalCacheData.loginUserPreference );\n\t}\n\n\tgoToView() {\n\t\tLocalCacheData.currentShownContextMenuName = null;\n\n\t\tvar message_id = TTUUID.generateUUID();\n\t\tif ( LocalCacheData.getLoginData().locale != null && this.user_locale !== LocalCacheData.getLoginData().locale ) {\n\t\t\tProgressBar.showProgressBar( message_id );\n\t\t\tProgressBar.changeProgressBarMessage( $.i18n._( 'Language changed, reloading' ) + '...' );\n\n\t\t\tGlobal.setLanguageCookie( this.user_locale );\n\t\t\tLocalCacheData.setI18nDic( null );\n\t\t\tsetTimeout( function() {\n\t\t\t\twindow.location.reload( true );\n\t\t\t}, 5000 );\n\t\t}\n\t\tIndexViewController.instance.router.removeCurrentView();\n\t\tvar target_view = getCookie( 'PreviousSessionType' );\n\t\tif ( target_view && getCookie( 'PreviousSessionID' ) ) {\n\t\t\tMenuManager.goToView( target_view );\n\t\t\tdeleteCookie( 'PreviousSessionType', LocalCacheData.cookie_path, Global.getHost() );\n\t\t} else {\n\t\t\tif ( Global.getDeepLink() != false ) {\n\n\t\t\t\t//Catch users coming back from a masquerade, and prevent deeplink override after returning them to the view that they started masquerading from.\n\t\t\t\tvar previous_session_cookie = decodeURIComponent( getCookie( 'AlternateSessionData' ) );\n\t\t\t\tif ( previous_session_cookie ) {\n\t\t\t\t\t//The user has been masquerading.\n\t\t\t\t\tprevious_session_cookie = JSON.parse( previous_session_cookie );\n\t\t\t\t\tif ( previous_session_cookie && typeof previous_session_cookie.previous_session_id == 'undefined' ) {\n\t\t\t\t\t\t//Now using original account, so clear the deeplinking override in the AlternateSessionData cookie.\n\t\t\t\t\t\tsetCookie( 'AlternateSessionData', '{}', -1, APIGlobal.pre_login_data.cookie_base_url, Global.getHost() );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tMenuManager.goToView( Global.getDeepLink() );\n\t\t\t} else if ( LocalCacheData.getLoginUserPreference() && LocalCacheData.getLoginUserPreference().default_login_screen ) {\n\t\t\t\tMenuManager.goToView( LocalCacheData.getLoginUserPreference().default_login_screen );\n\t\t\t} else {\n\t\t\t\tMenuManager.goToView( 'Home' );\n\t\t\t}\n\t\t}\n\n\t\tif ( !LocalCacheData.getCurrentCompany().is_setup_complete && PermissionManager.checkTopLevelPermission( 'QuickStartWizard' ) ) {\n\t\t\tIndexViewController.openWizard( 'QuickStartWizard' );\n\t\t}\n\n\t\tvar current_company = LocalCacheData.getCurrentCompany();\n\t\tif ( LocalCacheData && current_company && LocalCacheData.getLoginUser() ) {\n\t\t\tGlobal.setAnalyticDimensions( LocalCacheData.getLoginUser().first_name + ' (' + LocalCacheData.getLoginUser().id + ')', current_company.name );\n\t\t}\n\t}\n\n\tautoLogin() {\n\t\t// Error: TypeError: e is null in interface/html5/framework/jquery.min.js?v=9.0.5-20151222-094938 line 2 > eval line 154\n\t\tvar session_cookie = getCookie( Global.getSessionIDKey() );\n\t\tif ( session_cookie && session_cookie.length >= 40 ) {\n\t\t\tthis.onLoginSuccess( null, session_cookie );\n\t\t} else {\n\t\t\t$( this.el ).visible();\n\t\t\tthis.render();\n\t\t}\n\t}\n\n\trender() {\n\n\t\tvar $this = this;\n\t\tLocalCacheData.setSessionID( '' );\n\n\t\tif ( !$( 'body' ).hasClass( 'mobile-device-mode' ) ) {\n\t\t\t// If not on a mobile view (Where desktop UI is forced, render the random animal on background. If mobile, no animals.\n\t\t\tthis.renderAnimalsForBackground();\n\t\t}\n\n\t\t$( '#login_copy_right_info' ).hide();\n\t\t$( '#powered_by' ).hide();\n\n\t\tthis.mountLoginComponent();\n\n\t\t// get copyright info from main page copyright tag\n\t\t$( '#login_copy_right_info' ).html( $( '#copy_right_info_1' ).html() );\n\t\t$( '#login_copy_right_info' ).show();\n\n\t\tif ( LocalCacheData.productEditionId === 10 ) {\n\t\t\t$( '#social_div' ).show();\n\t\t\t$( '#social_div' ).find( '.facebook-img' ).attr( 'src', 'theme/default/images/facebook_button.jpg' );\n\t\t\t$( '#social_div' ).find( '.twitter-img' ).attr( 'src', 'theme/default/images/twitter_button.jpg' );\n\t\t} else {\n\t\t\t$( '#social_div' ).hide();\n\t\t}\n\n\t\tvar footer_right_html = LocalCacheData.getLoginData().footer_right_html;\n\t\tvar footer_left_html = LocalCacheData.getLoginData().footer_left_html;\n\n\t\tif ( footer_right_html && $.type( footer_right_html ) === 'string' ) {\n\t\t\tfooter_right_html = $( footer_right_html );\n\t\t\tfooter_right_html.addClass( 'foot-right-html' );\n\n\t\t\tfooter_right_html.insertAfter( $( $this.el ) );\n\t\t}\n\n\t\tif ( footer_left_html && $.type( footer_left_html ) === 'string' ) {\n\t\t\tfooter_left_html = $( footer_left_html );\n\t\t\tfooter_left_html.addClass( 'foot-left-html' );\n\n\t\t\tfooter_left_html.insertAfter( $( $this.el ) );\n\t\t}\n\n\t\tGlobal.moveCookiesToNewPath();\n\t\tGlobal.setUIInitComplete();\n\t}\n\n\tmountLoginComponent() {\n\t\tTTVueUtils.mountComponent( 'login-container', TTlogin, {\n\t\t\tview_id: this.viewId,\n\t\t\tdefault_form_step: 'user_name',\n\t\t\tdefault_user_name: LocalCacheData.getAllURLArgs().user_name || '',\n\t\t\tdefault_user_password: LocalCacheData.getAllURLArgs().password || '',\n\t\t\tdefault_error_message: LocalCacheData.login_error_string || LocalCacheData.getAllURLArgs().error_message || '',\n\t\t\tshow_quick_punch: ( LocalCacheData.productEditionId > 10 ),\n\t\t\tshow_language_selector: true,\n\t\t\tauthenticate_callback: this.onAuthenticate.bind( this ),\n\t\t\treauthenticate_only: false\n\t\t} );\n\t}\n\n\tcleanWhenUnloadView( callBack ) {\n\t\t$( '#loginViewContainer' ).remove();\n\t\t$( '#login-bg_animal' ).css( 'background-image', '' ); // Remove animals after login, as they can show through on main UI left navbar.\n\t\tGlobal.setVirtualDeviceViewport( 'desktop' ); // Setting mobile view on login, then back to desktop (990px virtual) after login, to allow pan & zoom, as not whole app is mobile optimized.\n\t\tTTVueUtils.unmountComponent( 'login-container' );\n\t\tsuper.cleanWhenUnloadView( callBack );\n\t}\n\n\trenderAnimalsForBackground() {\n\t\tvar station_id = Global.getStationID();\n\t\t//week of year and numeric digits of station_id.\n\t\tif ( station_id.length > 0 ) {\n\t\t\tvar station_id_arr = station_id.match( /\\d{1,5}/g );\n\t\t\tif ( $.isArray( station_id_arr ) ) {\n\t\t\t\tstation_id = station_id_arr.join( '' );\n\t\t\t}\n\t\t}\n\n\t\tvar season_images_arr = {\n\t\t\t'all': 7,\n\t\t\t'newyear': 2,\n\t\t\t'valintine': 4,\n\t\t\t'easter': 3,\n\t\t\t'stpatrick': 4,\n\t\t\t'halloween': 4,\n\t\t\t'xmas': 5,\n\t\t};\n\n\t\tvar season;\n\n\t\tvar month_of_year = ( moment().month() + 1 ); //0 based\n\t\tvar day_of_month = moment().date();\n\t\tif ( ( month_of_year == 12 && day_of_month >= 30 ) || ( month_of_year == 1 && day_of_month <= 15 ) ) { //New Year: Jan 1: Dec 30 -> Jan 15\n\t\t\tseason = 'newyear';\n\t\t} else if ( month_of_year == 2 && day_of_month >= 10 && day_of_month <= 15 ) { //Valintine: Feb 14: 10 - 15\n\t\t\tseason = 'valintine';\n\t\t} else if ( month_of_year == 3 && day_of_month >= 15 && day_of_month <= 18 ) { //St Patrick: Mar 17: 15 - 18\n\t\t\tseason = 'stpatrick';\n\t\t} else if ( ( month_of_year == 3 && day_of_month >= 25 ) || ( month_of_year == 4 && day_of_month <= 25 ) ) { //Easter: Mar 25 to Apr 25 each year. 2021=Apr 4, 2022=Apr 17, 2023=Apr 9\n\t\t\tseason = 'easter';\n\t\t} else if ( month_of_year == 10 && day_of_month >= 25 && day_of_month <= 31 ) { //Halloween: Oct 31: 25 - 31\n\t\t\tseason = 'halloween';\n\t\t// } else if ( month_of_year == 11 && day_of_month >= 19 && day_of_month <= 26 ) { //Thanks Giving (US): Nov. 25: 19 - 26\n\t\t// \tseason = 'thanksgiving'  ;\n\t\t} else if ( month_of_year == 12 && day_of_month >= 10 && day_of_month <= 29 ) { //Xmas: Dec 25: 10 - 29\n\t\t\tseason = 'xmas';\n\t\t} else {\n\t\t\tseason = 'all';\n\t\t}\n\n\t\t//If we are in any special season, then seed based on the day of of month, so it could change every day. Otherwise only change it every week.\n\t\tvar date_seed = day_of_month;\n\t\tif ( season == 'all' ) {\n\t\t\tdate_seed = moment().week();\n\t\t}\n\n\t\tif ( Debug.getEnable() == true ) {\n\t\t\tseason = Object.keys(season_images_arr)[Math.floor( Math.random() * ( Object.keys(season_images_arr).length - 1 ) )];\n\t\t\tvar seed = parseInt( Math.random() * 100 ); //For testing without the station_id stickiness.\n\t\t} else {\n\t\t\tvar seed = parseInt( date_seed + ( season.charCodeAt( 0 ) - 97 ) + station_id ); //Convert season to numeric only.\n\t\t}\n\n\t\tvar season_total_images = season_images_arr[season];\n\t\tvar random_image_number = Math.floor( ( Math.abs( Math.sin( seed ) ) * seed ) % season_total_images ) + 1; // seeded random\n\n\t\tvar bg_image = 'theme/default/images/login_animals_' + season + '_' + random_image_number + '.png';\n\t\tbg_image = bg_image.replace( 'all_', '' ); //When using all season images, remove 'all_' from the file names.\n\t\tDebug.Text( 'Background Animal Image: ' + bg_image + ' Season: ' + season + ' Seed: ' + seed +' Total: '+ season_total_images, 'LoginViewController.js', '', 'renderAnimalsForBackground', 10 );\n\n\t\t$( '#login-bg_animal' ).css( 'background-image', 'url(\\'' + bg_image + '\\')' );\n\t}\n\n}\n\nLoginViewController.html_template = `\n<div id=\"login-container\">\n\n</div>\n`;"],"names":["step","url","event","result","form_step","user_name_input","password_input","array","InputText","Password","_createElementVNode","_createStaticVNode","_openBlock","_createElementBlock","$options","args","_toDisplayString","$data","_cache","_withKeys","$event","_withDirectives","$props","_createVNode","_component_Password","_createCommentVNode","options","$this","session_cookie","timeout_count","$","auto_login_timer","session_id","date_format","message_id","target_view","previous_session_cookie","current_company","footer_right_html","footer_left_html","callBack","station_id","station_id_arr","season_images_arr","season","month_of_year","moment","day_of_month","date_seed","seed","season_total_images","random_image_number","bg_image"],"mappings":"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"}