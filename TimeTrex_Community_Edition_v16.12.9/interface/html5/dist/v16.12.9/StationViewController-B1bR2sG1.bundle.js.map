{"version":3,"file":"StationViewController-B1bR2sG1.bundle.js","sources":["../../views/company/station/StationViewController.js"],"sourcesContent":["export class StationViewController extends BaseViewController {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {\n\t\t\tel: '#station_view_container',\n\n\t\t\tuser_group_api: null,\n\t\t\tstatus_array: null,\n\t\t\ttype_array: null,\n\n\t\t\ttime_zone_array: null,\n\t\t\ttime_clock_command_array: null,\n\t\t\tmode_flag_array: null,\n\t\t\tdefault_mode_flag_array: null,\n\t\t\tface_recognition_match_threshold_array: null,\n\t\t\tface_recognition_required_matches_array: null,\n\t\t\tpoll_frequency_array: null,\n\t\t\tpush_frequency_array: null,\n\t\t\tpartial_push_frequency_array: null,\n\t\t\tgroup_selection_type_array: null,\n\t\t\tbranch_selection_type_array: null,\n\t\t\tdepartment_selection_type_array: null,\n\t\t\tuser_group_array: null,\n\n\t\t\tpunch_tag_api: null,\n\t\t\tdefault_punch_tag: [],\n\t\t\tprevious_punch_tag_selection: [],\n\n\t\t\tuser_preference_api: null\n\t\t} );\n\n\t\tsuper( options );\n\t}\n\n\tinit( options ) {\n\t\t//this._super('initialize', options );\n\t\tthis.edit_view_tpl = 'StationEditView.html';\n\t\tthis.permission_id = 'station';\n\t\tthis.viewId = 'Station';\n\t\tthis.script_name = 'StationView';\n\t\tthis.table_name_key = 'station';\n\t\tthis.context_menu_name = $.i18n._( 'Station' );\n\t\tthis.navigation_label = $.i18n._( 'Station' );\n\t\tthis.api = TTAPI.APIStation;\n\t\tthis.user_group_api = TTAPI.APIUserGroup;\n\t\tthis.user_preference_api = TTAPI.APIUserPreference;\n\n\t\tif ( ( Global.getProductEdition() >= 20 ) ) {\n\t\t\tthis.job_api = TTAPI.APIJob;\n\t\t\tthis.job_item_api = TTAPI.APIJobItem;\n\t\t\tthis.punch_tag_api = TTAPI.APIPunchTag;\n\t\t}\n\n\t\tthis.render();\n\t\tthis.buildContextMenu();\n\n\t\tthis.initData();\n\t}\n\n\tgetCustomContextMenuModel() {\n\t\tvar context_menu_model = {\n\t\t\texclude: ['copy'],\n\t\t\tinclude: []\n\t\t};\n\n\t\treturn context_menu_model;\n\t}\n\n\tinitOptions( callBack ) {\n\n\t\tvar $this = this;\n\n\t\tvar options = [\n\t\t\t{ option_name: 'status', field_name: null, api: null },\n\t\t\t{ option_name: 'type', field_name: null, api: null },\n\t\t\t{ option_name: 'time_zone', field_name: 'time_zone', api: $this.user_preference_api },\n\t\t\t{ option_name: 'time_clock_command', field_name: null, api: null },\n\t\t\t{ option_name: 'poll_frequency', field_name: null, api: null },\n\t\t\t{ option_name: 'push_frequency', field_name: null, api: null },\n\t\t\t{ option_name: 'partial_push_frequency', field_name: null, api: null },\n\t\t\t{ option_name: 'group_selection_type', field_name: null, api: null },\n\t\t\t{ option_name: 'branch_selection_type', field_name: null, api: null },\n\t\t\t{ option_name: 'department_selection_type', field_name: null, api: null }\n\n\t\t];\n\n\t\tthis.initDropDownOptions( options, function( result ) {\n\n\t\t\t$this.user_group_api.getUserGroup( '', false, false, {\n\t\t\t\tonResult: function( res ) {\n\n\t\t\t\t\tres = res.getResult();\n\t\t\t\t\tres = Global.buildTreeRecord( res );\n\t\t\t\t\t$this.user_group_array = res;\n\n\t\t\t\t\tif ( callBack ) {\n\t\t\t\t\t\tcallBack( result ); // First to initialize drop down options, and then to initialize edit view UI.\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t} );\n\n\t\t} );\n\t}\n\n\tsetCurrentEditRecordData() {\n\t\tvar $this = this;\n\t\t// When mass editing, these fields may not be the common data, so their value will be undefined, so this will cause their change event cannot work properly.\n\t\tthis.setDefaultData( {\n\t\t\t'type_id': 10,\n\t\t\t'user_group_selection_type_id': 10,\n\t\t\t'branch_selection_type_id': 10,\n\t\t\t'department_selection_type_id': 10\n\t\t} );\n\n\t\tfor ( var key in this.current_edit_record ) {\n\n\t\t\tif ( !this.current_edit_record.hasOwnProperty( key ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar widget = this.edit_view_ui_dic[key];\n\t\t\tif ( Global.isSet( widget ) ) {\n\t\t\t\tswitch ( key ) {\n\t\t\t\t\tcase 'job_id':\n\t\t\t\t\t\tif ( ( Global.getProductEdition() >= 20 ) ) {\n\t\t\t\t\t\t\twidget.setValue( this.current_edit_record[key] );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'job_item_id':\n\t\t\t\t\t\tif ( ( Global.getProductEdition() >= 20 ) ) {\n\t\t\t\t\t\t\tvar args = {};\n\t\t\t\t\t\t\targs.filter_data = { job_id: this.current_edit_record.job_id };\n\t\t\t\t\t\t\twidget.setDefaultArgs( args );\n\t\t\t\t\t\t\twidget.setValue( this.current_edit_record[key] );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'punch_tag_id':\n\t\t\t\t\t\tif ( ( Global.getProductEdition() >= 20 ) ) {\n\t\t\t\t\t\t\twidget.setValue( this.current_edit_record[key] );\n\t\t\t\t\t\t\tthis.previous_punch_tag_selection = this.current_edit_record[key];\n\n\t\t\t\t\t\t\tvar punch_tag_widget = widget;\n\t\t\t\t\t\t\tTTPromise.wait( null, null, function() {\n\t\t\t\t\t\t\t\t//Update default args for punch tags AComboBox last as they rely on data from job, job item and related fields.\n\t\t\t\t\t\t\t\tvar args = {};\n\t\t\t\t\t\t\t\targs.filter_data = $this.getPunchTagFilterData();\n\t\t\t\t\t\t\t\tpunch_tag_widget.setDefaultArgs( args );\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'punch_tag_quick_search':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'job_quick_search':\n//\t\t\t\t\t\twidget.setValue( this.current_edit_record['job_id'] ? this.current_edit_record['job_id'] : 0 );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'job_item_quick_search':\n//\t\t\t\t\t\twidget.setValue( this.current_edit_record['job_item_id'] ? this.current_edit_record['job_item_id'] : 0 );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\twidget.setValue( this.current_edit_record[key] );\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.collectUIDataToCurrentEditRecord();\n\t\tthis.setEditViewDataDone();\n\t}\n\n\t/* jshint ignore:start */\n\tonFormItemChange( target, doNotValidate ) {\n\t\tvar $this = this;\n\t\tthis.setIsChanged( target );\n\t\tthis.setMassEditingFieldsWhenFormChange( target );\n\t\tvar key = target.getField();\n\t\tvar c_value = target.getValue();\n\n\t\tthis.current_edit_record[key] = c_value;\n\n\t\tswitch ( key ) {\n\t\t\tcase 'type_id':\n\t\t\t\tthis.onTypeChange();\n\t\t\t\tbreak;\n\t\t\tcase 'job_id':\n\t\t\t\tif ( ( Global.getProductEdition() >= 20 ) ) {\n\t\t\t\t\tthis.edit_view_ui_dic['job_quick_search'].setValue( target.getValue( true ) ? ( target.getValue( true ).manual_id ? target.getValue( true ).manual_id : '' ) : '' );\n\t\t\t\t\tthis.setJobItemValueWhenJobChanged( target.getValue( true ), 'job_item_id', { job_id: this.current_edit_record.job_id } );\n\t\t\t\t\tthis.edit_view_ui_dic['job_quick_search'].setCheckBox( true );\n\t\t\t\t\tthis.setPunchTagValuesWhenCriteriaChanged( this.getPunchTagFilterData(), 'punch_tag_id' );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'job_item_id':\n\t\t\t\tif ( ( Global.getProductEdition() >= 20 ) ) {\n\t\t\t\t\tthis.edit_view_ui_dic['job_item_quick_search'].setValue( target.getValue( true ) ? ( target.getValue( true ).manual_id ? target.getValue( true ).manual_id : '' ) : '' );\n\t\t\t\t\tthis.edit_view_ui_dic['job_item_quick_search'].setCheckBox( true );\n\t\t\t\t\tthis.setPunchTagValuesWhenCriteriaChanged( this.getPunchTagFilterData(), 'punch_tag_id' );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'punch_tag_id':\n\t\t\t\tif ( ( Global.getProductEdition() >= 20 ) ) {\n\t\t\t\t\tif ( c_value !== TTUUID.zero_id && c_value !== false && c_value.length > 0 ) {\n\t\t\t\t\t\tthis.setPunchTagQuickSearchManualIds( target.getSelectItems() );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.edit_view_ui_dic['punch_tag_quick_search'].setValue( '' );\n\t\t\t\t\t}\n\t\t\t\t\t$this.previous_punch_tag_selection = c_value;\n\t\t\t\t\t//Reset source data to make sure correct punch tags are always shown.\n\t\t\t\t\tthis.edit_view_ui_dic['punch_tag_id'].setSourceData( null );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'user_id':\n\t\t\tcase 'branch_id':\n\t\t\tcase 'department_id':\n\t\t\t\tif ( ( Global.getProductEdition() >= 20 ) ) {\n\t\t\t\t\tthis.setPunchTagValuesWhenCriteriaChanged( this.getPunchTagFilterData(), 'punch_tag_id' );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'job_quick_search':\n\t\t\tcase 'job_item_quick_search':\n\t\t\t\tif ( ( Global.getProductEdition() >= 20 ) ) {\n\t\t\t\t\tthis.onJobQuickSearch( key, c_value );\n\t\t\t\t\tthis.setPunchTagValuesWhenCriteriaChanged( $this.getPunchTagFilterData(), 'punch_tag_id' );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'punch_tag_quick_search':\n\t\t\t\tif ( ( Global.getProductEdition() >= 20 ) ) {\n\t\t\t\t\tthis.onPunchTagQuickSearch( c_value, this.getPunchTagFilterData(), 'punch_tag_id' );\n\n\t\t\t\t\t//Don't validate immediately as onPunchTagQuickSearch is doing async API calls, and it would cause a guaranteed validation failure.\n\t\t\t\t\tdoNotValidate = true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'user_group_selection_type_id':\n\t\t\t\tthis.onEmployeeGroupSelectionTypeChange();\n\t\t\t\tbreak;\n\t\t\tcase 'branch_selection_type_id':\n\t\t\t\tthis.onBranchSelectionTypeChange();\n\t\t\t\tbreak;\n\t\t\tcase 'department_selection_type_id':\n\t\t\t\tthis.onDepartmentSelectionTypeChange();\n\t\t\t\tbreak;\n\n\t\t}\n\t\tthis.isDisableIncludeEmployees();\n\t\tif ( !doNotValidate ) {\n\t\t\tthis.validate();\n\t\t}\n\t}\n\n\t/* jshint ignore:end */\n\tisDisableIncludeEmployees() {\n\t\tif ( this.edit_view_ui_dic['group'].getEnabled() || this.edit_view_ui_dic['branch'].getEnabled() || this.edit_view_ui_dic['department'].getEnabled() ) {\n\t\t\tthis.edit_view_ui_dic['include_user'].setEnabled( true );\n\t\t} else {\n\t\t\tthis.edit_view_ui_dic['include_user'].setEnabled( false );\n\t\t}\n\t}\n\n\tonEmployeeGroupSelectionTypeChange() {\n\n\t\tif ( parseInt( this.current_edit_record['user_group_selection_type_id'] ) == 10 ) {\n\t\t\tthis.edit_view_ui_dic['group'].setEnabled( false );\n\t\t} else {\n\t\t\tthis.edit_view_ui_dic['user_group_selection_type_id'].setValue( this.current_edit_record['user_group_selection_type_id'] );\n\t\t\tthis.edit_view_ui_dic['group'].setEnabled( true );\n\t\t}\n\t}\n\n\tonBranchSelectionTypeChange() {\n\t\tif ( parseInt( this.current_edit_record['branch_selection_type_id'] ) == 10 ) {\n\n\t\t\tthis.edit_view_ui_dic['branch'].setEnabled( false );\n\t\t} else {\n\t\t\tthis.edit_view_ui_dic['branch_selection_type_id'].setValue( this.current_edit_record['branch_selection_type_id'] );\n\t\t\tthis.edit_view_ui_dic['branch'].setEnabled( true );\n\t\t}\n\t}\n\n\tonDepartmentSelectionTypeChange() {\n\t\tif ( parseInt( this.current_edit_record['department_selection_type_id'] ) == 10 ) {\n\t\t\tthis.edit_view_ui_dic['department'].setEnabled( false );\n\t\t} else {\n\t\t\tthis.edit_view_ui_dic['department_selection_type_id'].setValue( this.current_edit_record['department_selection_type_id'] );\n\t\t\tthis.edit_view_ui_dic['department'].setEnabled( true );\n\t\t}\n\t}\n\n\tonTypeChange() {\n\t\tif ( parseInt( this.current_edit_record['type_id'] ) == 100 ||\n\t\t\tparseInt( this.current_edit_record['type_id'] ) == 150 ||\n\t\t\tparseInt( this.current_edit_record['type_id'] ) == 28 ||\n\t\t\tparseInt( this.current_edit_record['type_id'] ) == 65 ) {\n\n\t\t\t$( this.edit_view_tab.find( 'ul li' )[2] ).show();\n\t\t\tvar tab_2_label = this.edit_view.find( 'a[ref=tab_time_clock]' );\n\n\t\t\tif ( parseInt( this.current_edit_record['type_id'] ) == 100 ||\n\t\t\t\tparseInt( this.current_edit_record['type_id'] ) == 150 ) {\n\t\t\t\ttab_2_label.text( $.i18n._( 'TimeClock' ) );\n\n\t\t\t\tif ( parseInt( this.current_edit_record['type_id'] ) != 150 ) {\n\t\t\t\t\tthis.attachElement( 'manual_command' );\n\t\t\t\t\tthis.attachElement( 'push_frequency' );\n\t\t\t\t\tthis.attachElement( 'partial_push_frequency' );\n\t\t\t\t} else {\n\t\t\t\t\tthis.detachElement( 'manual_command' );\n\t\t\t\t\tthis.detachElement( 'push_frequency' );\n\t\t\t\t\tthis.detachElement( 'partial_push_frequency' );\n\t\t\t\t}\n\n\t\t\t\tthis.attachElement( 'password' );\n\t\t\t\tthis.attachElement( 'port' );\n\t\t\t} else {\n\t\t\t\ttab_2_label.text( $.i18n._( 'Mobile App' ) );\n\t\t\t\tthis.detachElement( 'password' );\n\t\t\t\tthis.detachElement( 'port' );\n\t\t\t\tthis.detachElement( 'manual_command' );\n\t\t\t\tthis.detachElement( 'push_frequency' );\n\t\t\t\tthis.detachElement( 'partial_push_frequency' );\n\t\t\t\tthis.detachElement( 'enable_auto_punch_status' );\n\t\t\t}\n\n\t\t\tthis.initModeFlag();\n\n\t\t\t//#2590 - ensure field is only visible in valid types.\n\t\t\tif ( parseInt( this.current_edit_record['type_id'] ) == 65 ) {\n\t\t\t\tthis.initDefaultModeFlag();\n\t\t\t\tthis.initFacialRecognitionThesholdFields();\n\t\t\t} else {\n\t\t\t\tthis.edit_view_ui_dic['default_mode_flag'].parents( '.edit-view-form-item-div' ).hide();\n\t\t\t\tthis.edit_view_ui_dic['user_value_1'].parents( '.edit-view-form-item-div' ).hide();\n\t\t\t\tthis.edit_view_ui_dic['user_value_2'].parents( '.edit-view-form-item-div' ).hide();\n\t\t\t}\n\t\t} else {\n\t\t\t$( this.edit_view_tab.find( 'ul li' )[2] ).hide();\n\t\t\tthis.edit_view_tab.tabs( 'option', 'active', 0 );\n\n\t\t}\n\n\t\tthis.editFieldResize();\n\t}\n\n\tinitModeFlag() {\n\t\tvar $this = this;\n\t\tthis.api.getOptions( 'mode_flag', this.current_edit_record.type_id, true, {\n\t\t\tonResult: function( result ) {\n\t\t\t\tvar result_data = Global.buildRecordArray( result.getResult() );\n\n\t\t\t\t$this.edit_view_ui_dic['mode_flag'].setSourceData( result_data );\n\t\t\t\t$this.edit_view_ui_dic['mode_flag'].setValue( $this.current_edit_record.mode_flag );\n\n\t\t\t}\n\t\t} );\n\t}\n\n\tinitDefaultModeFlag() {\n\t\tvar $this = this;\n\t\tthis.api.getOptions( 'default_mode_flag', this.current_edit_record.type_id, true, {\n\t\t\tonResult: function( result ) {\n\t\t\t\tvar result_data = Global.buildRecordArray( result.getResult() );\n\n\t\t\t\t$this.edit_view_ui_dic['default_mode_flag'].setSourceData( result_data );\n\t\t\t\tvar value = ( $this.current_edit_record.default_mode_flag != 0 ) ? $this.current_edit_record.default_mode_flag : TTUUID.zero_id;\n\t\t\t\t$this.edit_view_ui_dic['default_mode_flag'].setValue( value );\n\t\t\t\t$this.edit_view_ui_dic['default_mode_flag'].parents( '.edit-view-form-item-div' ).show();\n\n\t\t\t}\n\t\t} );\n\t}\n\n\tinitFacialRecognitionThesholdFields() {\n\t\tvar $this = this;\n\t\tthis.api.getOptions( 'face_recognition_match_threshold', {\n\t\t\tonResult: function( result ) {\n\t\t\t\tvar result_data = Global.buildRecordArray( result.getResult() );\n\n\t\t\t\t$this.edit_view_ui_dic['user_value_1'].setSourceData( result_data );\n\t\t\t\tvar value = ( $this.current_edit_record.user_value_1 != 0 ) ? $this.current_edit_record.user_value_1 : 0;\n\t\t\t\t$this.edit_view_ui_dic['user_value_1'].setValue( value );\n\t\t\t\t$this.edit_view_ui_dic['user_value_1'].parents( '.edit-view-form-item-div' ).show();\n\t\t\t}\n\t\t} );\n\n\t\tthis.api.getOptions( 'face_recognition_required_matches', {\n\t\t\tonResult: function( result ) {\n\t\t\t\tvar result_data = Global.buildRecordArray( result.getResult() );\n\n\t\t\t\t$this.edit_view_ui_dic['user_value_2'].setSourceData( result_data );\n\t\t\t\tvar value = ( $this.current_edit_record.user_value_2 != 0 ) ? $this.current_edit_record.user_value_2 : 0;\n\t\t\t\t$this.edit_view_ui_dic['user_value_2'].setValue( value );\n\t\t\t\t$this.edit_view_ui_dic['user_value_2'].parents( '.edit-view-form-item-div' ).show();\n\t\t\t}\n\t\t} );\n\n\t}\n\n\tsetEditViewDataDone() {\n\t\tvar $this = this;\n\t\tsuper.setEditViewDataDone();\n\n\t\tthis.onTypeChange();\n\t\tthis.onEmployeeGroupSelectionTypeChange();\n\t\tthis.onBranchSelectionTypeChange();\n\t\tthis.onDepartmentSelectionTypeChange();\n\t\tthis.isDisableIncludeEmployees();\n\n\t\tvar runButton = this.edit_view_form_item_dic['manual_command'].find( 'button[type=\\'button\\']' );\n\t\tif ( $this.is_mass_editing || $this.is_viewing ) {\n\t\t\tthis.edit_view_ui_dic['manual_command'].setEnabled( false );\n\t\t\trunButton.attr( 'disabled', true );\n\t\t} else {\n\t\t\trunButton.off( 'click' ).on( 'click', function() {\n\t\t\t\t$this.onSaveAndContinue( true );\n\t\t\t} );\n\t\t}\n\t}\n\n\tonSaveAndContinue( isRun ) {\n\t\tthis.is_add = false;\n\t\tLocalCacheData.current_doing_context_action = 'save_and_continue';\n\t\tvar $this = this;\n\t\tthis.is_changed = false;\n\t\tvar commandData = this.edit_view_ui_dic['manual_command'].getValue();\n\t\tvar commandId = this.current_edit_record.id;\n\t\tthis.api['set' + this.api.key_name]( this.current_edit_record, {\n\t\t\tonResult: function( result ) {\n\t\t\t\tif ( isRun ) {\n\t\t\t\t\t$this.api['runManualCommand']( commandData, commandId, {\n\t\t\t\t\t\tonResult: function( result_1 ) {\n\t\t\t\t\t\t\tif ( result_1 && result_1.isValid() ) {\n\t\t\t\t\t\t\t\tvar result_data = result_1.getResult();\n\t\t\t\t\t\t\t\tTAlertManager.showAlert( result_data, $.i18n._( 'Manual Command Result' ) );\n\t\t\t\t\t\t\t\t$this.onSaveAndContinueResult( result );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tTAlertManager.showErrorAlert( result );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t} else {\n\t\t\t\t\t$this.onSaveAndContinueResult( result );\n\t\t\t\t}\n\n\t\t\t}\n\t\t} );\n\t}\n\n\tonSaveDone( result ) {\n\t\tif ( this.edit_only_mode && this.parent_view_controller ) {\n\t\t\tthis.parent_view_controller.onEditStationDone( result );\n\t\t}\n\t}\n\n\tonBuildBasicUIFinished() {\n\t\tvar station_input = this.basic_search_field_ui_dic['station_id'];\n\n\t\tvar icon = $( '<img class=\"station-location\" src=\"' + Global.getRealImagePath( 'images/location.png' ) + '\">' );\n\n\t\ticon.insertAfter( station_input );\n\t\ticon.unbind( 'click' ).bind( 'click', function() {\n\t\t\tvar station_id = Global.getStationID();\n\t\t\tif ( station_id ) {\n\t\t\t\tstation_input.setValue( station_id );\n\t\t\t} else {\n\t\t\t\tTAlertManager.showAlert( $.i18n._( 'Current Station is not currently set.' ) );\n\t\t\t}\n\t\t} );\n\t}\n\n\tsetEditMenuEditIcon( context_btn, pId ) {\n\n\t\tif ( !this.editPermissionValidate( pId ) ) {\n\t\t\tContextMenuManager.hideMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, false )\n\t\t}\n\n\t\tif ( !this.is_viewing || !this.editOwnerOrChildPermissionValidate( pId ) ) {\n\t\t\tContextMenuManager.disableMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, false );\n\t\t}\n\t}\n\n\topenEditView( id ) {\n\t\tvar $this = this;\n\n\t\tif ( $this.edit_only_mode ) {\n\n\t\t\t$this.initOptions( function( result ) {\n\t\t\t\tif ( !$this.edit_view ) {\n\t\t\t\t\t$this.is_viewing = true;\n\t\t\t\t\t$this.initEditViewUI( $this.viewId, $this.edit_view_tpl );\n\t\t\t\t}\n\t\t\t\t$this.getStationData( id, function( result ) {\n\t\t\t\t\t// Waiting for the TTAPI.API returns data to set the current edit record.\n\t\t\t\t\t$this.current_edit_record = result;\n\t\t\t\t\t//if ( !$this.editPermissionValidate() || !$this.editOwnerOrChildPermissionValidate()) {\n\t\t\t\t\t//\t$this.is_viewing = true;\n\t\t\t\t\t//}\n\n\t\t\t\t\t$this.initEditView();\n\n\t\t\t\t} );\n\n\t\t\t} );\n\n\t\t} else {\n\t\t\tif ( !this.edit_view ) {\n\t\t\t\tthis.initEditViewUI( $this.viewId, $this.edit_view_tpl );\n\t\t\t}\n\n\t\t}\n\t}\n\n\tgetStationData( id, callBack ) {\n\t\tvar filter = {};\n\t\tfilter.filter_data = {};\n\t\tfilter.filter_data.id = [id];\n\n\t\tthis.api['get' + this.api.key_name]( filter, {\n\t\t\tonResult: function( result ) {\n\t\t\t\tvar result_data = result.getResult();\n\n\t\t\t\tif ( !result_data ) {\n\t\t\t\t\tresult_data = [];\n\t\t\t\t}\n\t\t\t\tresult_data = result_data[0];\n\n\t\t\t\tcallBack( result_data );\n\n\t\t\t}\n\t\t} );\n\t}\n\n\tbuildEditViewUI() {\n\t\tsuper.buildEditViewUI();\n\n\t\tvar $this = this;\n\n\t\tvar tab_model = {\n\t\t\t'tab_station': { 'label': $.i18n._( 'Station' ) },\n\t\t\t'tab_employee_criteria': { 'label': $.i18n._( 'Employee Criteria' ) },\n\t\t\t'tab_time_clock': { 'label': $.i18n._( 'TimeClock' ), 'is_multi_column': true },\n\t\t\t'tab_audit': true,\n\t\t};\n\t\tthis.setTabModel( tab_model );\n\n\t\tif ( !this.edit_only_mode ) {\n\t\t\tthis.navigation.AComboBox( {\n\t\t\t\tapi_class: TTAPI.APIStation,\n\t\t\t\tid: this.script_name + '_navigation',\n\t\t\t\tallow_multiple_selection: false,\n\t\t\t\tlayout_name: 'global_station',\n\t\t\t\tnavigation_mode: true,\n\t\t\t\tshow_search_inputs: true\n\t\t\t} );\n\n\t\t\tthis.setNavigation();\n\t\t}\n\n\t\t//Tab 0 start\n\n\t\tvar tab_station = this.edit_view_tab.find( '#tab_station' );\n\n\t\tvar tab_station_column1 = tab_station.find( '.first-column' );\n\n\t\tthis.edit_view_tabs[0] = [];\n\n\t\tthis.edit_view_tabs[0].push( tab_station_column1 );\n\n\t\tvar form_item_input;\n\t\tvar widgetContainer;\n\t\tvar label;\n\n\t\t//Status\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'status_id' } );\n\t\tform_item_input.setSourceData( $this.status_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Status' ), form_item_input, tab_station_column1, '' );\n\n\t\t//Type\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'type_id' } );\n\t\tform_item_input.setSourceData( $this.type_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Type' ), form_item_input, tab_station_column1 );\n\n\t\t//Station\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'station_id', width: 254 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Station' ), form_item_input, tab_station_column1 );\n\n\t\t//Source\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'source', width: 289 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Source' ), form_item_input, tab_station_column1 );\n\n\t\t//Description\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'description', width: '100%' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Description' ), form_item_input, tab_station_column1 );\n\n\t\tform_item_input.parent().width( '45%' );\n\n\t\t//Default Branch\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIBranch,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_branch',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'branch_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Default Branch' ), form_item_input, tab_station_column1 );\n\n\t\t//Default Department\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIDepartment,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_department',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'department_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Default Department' ), form_item_input, tab_station_column1, '' );\n\n\t\tif ( ( Global.getProductEdition() >= 20 ) ) {\n\t\t\t//Job\n\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\t\tform_item_input.AComboBox( {\n\t\t\t\tapi_class: TTAPI.APIJob,\n\t\t\t\tallow_multiple_selection: false,\n\t\t\t\tlayout_name: 'global_job',\n\t\t\t\tshow_search_inputs: true,\n\t\t\t\tset_empty: true,\n\t\t\t\tsetRealValueCallBack: ( function( val ) {\n\n\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\tjob_coder.setValue( val.manual_id );\n\t\t\t\t\t}\n\t\t\t\t} ),\n\t\t\t\tfield: 'job_id'\n\t\t\t} );\n\n\t\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\n\t\t\tvar job_coder = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\tjob_coder.TTextInput( { field: 'job_quick_search', disable_keyup_event: true } );\n\t\t\tjob_coder.addClass( 'job-coder' );\n\n\t\t\twidgetContainer.append( job_coder );\n\t\t\twidgetContainer.append( form_item_input );\n\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Default Job' ), [form_item_input, job_coder], tab_station_column1, '', widgetContainer );\n\n\t\t\t// Task\n\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\t\tform_item_input.AComboBox( {\n\t\t\t\tapi_class: TTAPI.APIJobItem,\n\t\t\t\tallow_multiple_selection: false,\n\t\t\t\tlayout_name: 'global_job_item',\n\t\t\t\tshow_search_inputs: true,\n\t\t\t\tset_empty: true,\n\t\t\t\tsetRealValueCallBack: ( function( val ) {\n\n\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\tjob_item_coder.setValue( val.manual_id );\n\t\t\t\t\t}\n\t\t\t\t} ),\n\t\t\t\tfield: 'job_item_id'\n\t\t\t} );\n\n\t\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\n\t\t\tvar job_item_coder = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\tjob_item_coder.TTextInput( { field: 'job_item_quick_search', disable_keyup_event: true } );\n\t\t\tjob_item_coder.addClass( 'job-coder' );\n\n\t\t\twidgetContainer.append( job_item_coder );\n\t\t\twidgetContainer.append( form_item_input );\n\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Default Task' ), [form_item_input, job_item_coder], tab_station_column1, 'last', widgetContainer );\n\n\t\t\t//Punch Tag\n\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\t\tform_item_input.AComboBox( {\n\t\t\t\tapi_class: TTAPI.APIPunchTag,\n\t\t\t\tallow_multiple_selection: true,\n\t\t\t\tlayout_name: 'global_punch_tag',\n\t\t\t\tshow_search_inputs: true,\n\t\t\t\tset_empty: true,\n\t\t\t\tget_real_data_on_multi: true,\n\t\t\t\tsetRealValueCallBack: ( ( punch_tags, get_real_data ) => {\n\t\t\t\t\tif ( punch_tags ) {\n\t\t\t\t\t\tthis.setPunchTagQuickSearchManualIds( punch_tags, get_real_data );\n\t\t\t\t\t}\n\t\t\t\t} ),\n\t\t\t\tfield: 'punch_tag_id'\n\t\t\t} );\n\n\t\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\n\t\t\tvar punch_tag_coder = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\tpunch_tag_coder.TTextInput( { field: 'punch_tag_quick_search', disable_keyup_event: true } );\n\t\t\tpunch_tag_coder.addClass( 'job-coder' );\n\n\t\t\twidgetContainer.append( punch_tag_coder );\n\t\t\twidgetContainer.append( form_item_input );\n\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Default Punch Tags' ), [form_item_input, punch_tag_coder], tab_station_column1, '', widgetContainer, true );\n\n\n\t\t}\n\n\t\t//Tab 1 start\n\n\t\tvar tab_employee_criteria = this.edit_view_tab.find( '#tab_employee_criteria' );\n\t\tvar tab_employee_criteria_column1 = tab_employee_criteria.find( '.first-column' );\n\n\t\tthis.edit_view_tabs[1] = [];\n\t\tthis.edit_view_tabs[1].push( tab_employee_criteria_column1 );\n\n\t\t//Employee group\n\t\tvar v_box = $( '<div class=\\'v-box\\'></div>' );\n\n\t\t//Selection Type\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'user_group_selection_type_id' } );\n\t\tform_item_input.setSourceData( $this.group_selection_type_array );\n\n\t\tvar form_item = this.putInputToInsideFormItem( form_item_input, $.i18n._( 'Selection Type' ) );\n\n\t\tv_box.append( form_item );\n\t\tv_box.append( '<div class=\\'clear-both-div\\'></div>' );\n\n\t\t//Selection\n\t\tform_item_input_1 = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\tform_item_input_1.AComboBox( {\n\t\t\ttree_mode: true,\n\t\t\tallow_multiple_selection: true,\n\t\t\tlayout_name: 'global_tree_column',\n\t\t\tset_empty: true,\n\t\t\tfield: 'group'\n\t\t} );\n\t\tform_item_input_1.setSourceData( $this.user_group_array );\n\n\t\tform_item = this.putInputToInsideFormItem( form_item_input_1, $.i18n._( 'Selection' ) );\n\n\t\tv_box.append( form_item );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Employee Groups' ), [form_item_input, form_item_input_1], tab_employee_criteria_column1, 'first', v_box, false, true );\n\n\t\t//Branches\n\t\tv_box = $( '<div class=\\'v-box\\'></div>' );\n\t\t//Selection Type\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'branch_selection_type_id' } );\n\t\tform_item_input.setSourceData( $this.branch_selection_type_array );\n\n\t\tform_item = this.putInputToInsideFormItem( form_item_input, $.i18n._( 'Selection Type' ) );\n\n\t\tv_box.append( form_item );\n\t\tv_box.append( '<div class=\\'clear-both-div\\'></div>' );\n\n\t\t//Selection\n\t\tvar form_item_input_1 = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\tform_item_input_1.AComboBox( {\n\t\t\tapi_class: TTAPI.APIBranch,\n\t\t\tallow_multiple_selection: true,\n\t\t\tlayout_name: 'global_branch',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'branch'\n\t\t} );\n\n\t\tform_item = this.putInputToInsideFormItem( form_item_input_1, $.i18n._( 'Selection' ) );\n\n\t\tv_box.append( form_item );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Branches' ), [form_item_input, form_item_input_1], tab_employee_criteria_column1, '', v_box, false, true );\n\n\t\t// Departments\n\t\tv_box = $( '<div class=\\'v-box\\'></div>' );\n\t\t// Selection Type\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'department_selection_type_id' } );\n\t\tform_item_input.setSourceData( $this.department_selection_type_array );\n\n\t\tform_item = this.putInputToInsideFormItem( form_item_input, $.i18n._( 'Selection Type' ) );\n\t\tv_box.append( form_item );\n\t\tv_box.append( '<div class=\\'clear-both-div\\'></div>' );\n\n\t\t//Selection\n\t\tform_item_input_1 = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\tform_item_input_1.AComboBox( {\n\t\t\tapi_class: TTAPI.APIDepartment,\n\t\t\tallow_multiple_selection: true,\n\t\t\tlayout_name: 'global_department',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'department'\n\t\t} );\n\n\t\tform_item = this.putInputToInsideFormItem( form_item_input_1, $.i18n._( 'Selection' ) );\n\n\t\tv_box.append( form_item );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Departments' ), [form_item_input, form_item_input_1], tab_employee_criteria_column1, '', v_box, false, true );\n\n\t\t// Include Employees\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIUser,\n\t\t\tallow_multiple_selection: true,\n\t\t\tlayout_name: 'global_user',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'include_user'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Include Employees' ), form_item_input, tab_employee_criteria_column1 );\n\n\t\t// Exclude Employees\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIUser,\n\t\t\tallow_multiple_selection: true,\n\t\t\tlayout_name: 'global_user',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'exclude_user'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Exclude Employees' ), form_item_input, tab_employee_criteria_column1, '' );\n\n\t\t// Tab2 start\n\t\tvar tab_time_clock = this.edit_view_tab.find( '#tab_time_clock' );\n\t\tvar tab_time_clock_column1 = tab_time_clock.find( '.first-column' );\n\n\t\tthis.edit_view_tabs[2] = [];\n\t\tthis.edit_view_tabs[2].push( tab_time_clock_column1 );\n\n\t\t// Password/COMM Key\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'password', width: 254 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Password/COMM Key' ), form_item_input, tab_time_clock_column1, '', null, true );\n\n\t\t// Port\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'port', width: 254 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Port' ), form_item_input, tab_time_clock_column1, '', null, true );\n\n\t\t// Force Time Zone\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'time_zone', set_empty: true } );\n\t\tform_item_input.setSourceData( $this.time_zone_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Force Time Zone' ), form_item_input, tab_time_clock_column1 );\n\n\t\t// Enable Automatic Punch Status\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.CHECKBOX );\n\t\tform_item_input.TCheckbox( { field: 'enable_auto_punch_status' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Enable Automatic Punch Status' ), form_item_input, tab_time_clock_column1, '', null, true );\n\n\t\t// Manual Command\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'manual_command' } );\n\t\tform_item_input.setSourceData( $this.time_clock_command_array );\n\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<button type=\\'button\\' class=\\' t-button widget-right-label\\'>' + $.i18n._( 'Run' ) + '</button>' );\n\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Manual Command' ), form_item_input, tab_time_clock_column1, '', widgetContainer, true );\n\n\t\t// Download Frequency\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'poll_frequency' } );\n\t\tform_item_input.setSourceData( $this.poll_frequency_array );\n\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<span class=\\'widget-right-label\\'> ' + $.i18n._( 'Last Download' ) + ': ' + ' </span>' );\n\n\t\tvar widget_text = Global.loadWidgetByName( FormItemType.TEXT );\n\t\twidget_text.TText( { field: 'last_push_date' } );\n\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\t\twidgetContainer.append( widget_text );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Download Frequency' ), [form_item_input, widget_text], tab_time_clock_column1, '', widgetContainer );\n\n\t\t// Full Upload Frequency\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'push_frequency' } );\n\t\tform_item_input.setSourceData( $this.push_frequency_array );\n\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<span class=\\'widget-right-label\\'> ' + $.i18n._( 'Last Upload' ) + ': ' + ' </span>' );\n\n\t\twidget_text = Global.loadWidgetByName( FormItemType.TEXT );\n\t\twidget_text.TText( { field: 'last_poll_date' } );\n\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\t\twidgetContainer.append( widget_text );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Full Upload Frequency' ), [form_item_input, widget_text], tab_time_clock_column1, '', widgetContainer, true );\n\n\t\t// Partial Upload Frequency\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'partial_push_frequency' } );\n\t\tform_item_input.setSourceData( $this.push_frequency_array );\n\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<span class=\\'widget-right-label\\'> ' + $.i18n._( 'Last Upload' ) + ': </span>' );\n\t\twidget_text = Global.loadWidgetByName( FormItemType.TEXT );\n\t\twidget_text.TText( { field: 'last_partial_push_date' } );\n\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\t\twidgetContainer.append( widget_text );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Partial Upload Frequency' ), [form_item_input, widget_text], tab_time_clock_column1, '', widgetContainer, true );\n\n\t\t// Last Downloaded Punch\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\tform_item_input.TText( { field: 'last_punch_time_stamp' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Last Downloaded Punch' ), form_item_input, tab_time_clock_column1 );\n\n\t\t// Configuration Modes\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tallow_multiple_selection: true,\n\t\t\tlayout_name: 'global_option_column',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'mode_flag'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Configuration Modes' ), form_item_input, tab_time_clock_column1, '', null, null, true );\n\n\t\t// Default Punch Mode\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_option_column',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'default_mode_flag'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Default Punch Mode' ), form_item_input, tab_time_clock_column1 ); //, '', null, null, true );\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_option_column',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: false,\n\t\t\tfield: 'user_value_1'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Face Recognition Threshold' ), form_item_input, tab_time_clock_column1 ); //, '', null, null, true );\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_option_column',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: false,\n\t\t\tfield: 'user_value_2'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Face Recognition Matches' ), form_item_input, tab_time_clock_column1 ); //, '', null, null, true );\n\n\t}\n\n\tbuildSearchFields() {\n\n\t\tsuper.buildSearchFields();\n\t\tthis.search_fields = [\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Status' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'status_id',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tlayout_name: 'global_option_column',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Type' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'type_id',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tlayout_name: 'global_option_column',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Station' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'station_id',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tform_item_type: FormItemType.TEXT_INPUT\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Source' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'source',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tform_item_type: FormItemType.TEXT_INPUT\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Description' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'description',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tform_item_type: FormItemType.TEXT_INPUT\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Created By' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'created_by',\n\t\t\t\tlayout_name: 'global_user',\n\t\t\t\tapi_class: TTAPI.APIUser,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Updated By' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'updated_by',\n\t\t\t\tlayout_name: 'global_user',\n\t\t\t\tapi_class: TTAPI.APIUser,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: false,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} )\n\t\t];\n\t}\n\n\tgetPunchTagFilterData() {\n\t\tif ( !this.current_edit_record ) {\n\t\t\treturn {};\n\t\t}\n\n\t\tvar filter_data = {\n\t\t\tstatus_id: 10,\n\t\t\tuser_id: TTUUID.not_exist_id,\n\t\t\tbranch_id: this.current_edit_record.branch_id,\n\t\t\tdepartment_id: this.current_edit_record.department_id,\n\t\t\tjob_id: this.current_edit_record.job_id,\n\t\t\tjob_item_id: this.current_edit_record.job_item_id\n\t\t};\n\n\t\treturn filter_data;\n\t}\n\n}\n"],"names":["StationViewController","options","_","$","context_menu_model","callBack","$this","result","res","key","widget","args","punch_tag_widget","target","doNotValidate","c_value","tab_2_label","result_data","value","runButton","isRun","commandData","commandId","result_1","station_input","icon","station_id","context_btn","pId","id","filter","tab_model","tab_station","tab_station_column1","form_item_input","widgetContainer","label","val","job_coder","job_item_coder","punch_tags","get_real_data","punch_tag_coder","tab_employee_criteria","tab_employee_criteria_column1","v_box","form_item","form_item_input_1","tab_time_clock","tab_time_clock_column1","widget_text","filter_data"],"mappings":"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"}