import{_ as n,j as s}from"./vendor-tTApdY0Y.bundle.js";class d extends BaseViewController{constructor(t={}){n.defaults(t,{el:"#user_date_total_parent_view_container",sub_user_date_total_view_controller:null}),super(t)}init(t){this.edit_view_tpl="UserDateTotalParentEditView.html",this.permission_id="punch",this.script_name="UserDateTotalParentView",this.viewId="UserDateTotalParent",this.table_name_key="user_date_total_parent",this.context_menu_name=s.i18n._("Accumulated Time"),this.navigation_label=s.i18n._("Accumulated Time"),this.api=TTAPI.APIUserDateTotal,this.render(),this.sub_view_mode?this.buildContextMenu(!0):this.buildContextMenu(),this.sub_view_mode||this.initData()}removeEditView(){super.removeEditView(),this.parent_view_controller&&this.parent_view_controller.viewId==="TimeSheet"&&this.parent_view_controller.onSubViewRemoved()}getCustomContextMenuModel(){return{include:["cancel"],exclude:["default"]}}openEditView(t){var e=this;if(e.edit_only_mode){TTPromise.add("UserDateTotalParent","init"),e.edit_view||e.initEditViewUI(e.viewId,e.edit_view_tpl);var a=Global.strToDate(t,"YYYY-MM-DD").format();e.current_edit_record={date:t,user_id:LocalCacheData.getAllURLArgs().user_id,date_stamp:a},TTPromise.wait("UserDateTotalParent","init",function(){e.initEditView()})}else this.edit_view||this.initEditViewUI(e.viewId,e.edit_view_tpl)}buildSearchFields(){super.buildSearchFields(),this.search_fields=[]}buildEditViewUI(){super.buildEditViewUI();var t={tab_user_date_total_parent:{label:s.i18n._("Accumulated Time"),html_template:this.getUserDateTotalParentTabHTML()}};this.setTabModel(t),TTPromise.resolve("UserDateTotalParent","init")}setCurrentEditRecordData(){this.edit_view_tab.find("#tab_user_date_total_parent").find(".first-column-sub-view").css("display","block"),this.initSubUserDateTotalView("tab_user_date_total_parent"),this.setEditViewDataDone()}initSubUserDateTotalView(t){var e=this;if(this.sub_user_date_total_view_controller){this.sub_user_date_total_view_controller.buildContextMenu(!0),this.sub_user_date_total_view_controller.setDefaultMenu(),e.sub_user_date_total_view_controller.parent_edit_record=e.current_edit_record,e.sub_user_date_total_view_controller.getSubViewFilter=function(i){return o(i,this)},e.sub_user_date_total_view_controller.initData();return}Global.loadScript("views/attendance/timesheet/UserDateTotalViewController.js",function(){var i=e.edit_view_tab.find("#"+t),l=i.find(".first-column-sub-view");Global.trackView("SubUserDateTotalView"),UserDateTotalViewController.loadSubView(l,a,_)});function a(){}function _(i){e.sub_user_date_total_view_controller=i,e.sub_user_date_total_view_controller.parent_edit_record=e.current_edit_record,e.sub_user_date_total_view_controller.getSubViewFilter=function(l){return o(l,this)},e.sub_user_date_total_view_controller.parent_view_controller=e,e.sub_user_date_total_view_controller.initData()}function o(i,l){var u=Global.strToDate(l.parent_edit_record.date,"YYYY-MM-DD").format();return i.date_stamp=u,i.user_id=l.parent_edit_record.user_id,i.object_type_id=[20,25,30,40,100,110],i}}getUserDateTotalParentTabHTML(){return`
		<div id="tab_user_date_total_parent" class="edit-view-tab-outside-sub-view">
			<div class="edit-view-tab" id="tab_user_date_total_parent_content_div">
				<div class="first-column-sub-view"></div>
			</div>
		</div>`}}d.loadView=function(r){Global.loadViewSource("UserDateTotalParent","UserDateTotalParentView.html",function(t){var e={},a=n.template(t);Global.isSet(r)?r.html(a(e)):Global.contentContainer().html(a(e))})};d.loadSubView=function(r,t,e){Global.loadViewSource("UserDateTotalParent","SubUserDateTotalParentView.html",function(a){var _={},o=n.template(a);Global.isSet(t)&&t(),Global.isSet(r)&&(r.html(o(_)),Global.isSet(e)&&TTPromise.wait("BaseViewController","initialize",function(){e(sub_user_date_total_parent_view_controller)}))})};export{d as UserDateTotalParentViewController};
//# sourceMappingURL=UserDateTotalParentViewController-BqcWSIhp.bundle.js.map
