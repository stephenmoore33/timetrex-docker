{"version":3,"file":"LoginUserPreferenceViewController-CnPMhVg6.bundle.js","sources":["../../views/my_account/user_preference/LoginUserPreferenceViewController.js"],"sourcesContent":["import { Global } from '@/global/Global';\n\nexport class LoginUserPreferenceViewController extends BaseViewController {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {\n\n\t\t\tlanguage_array: null,\n\t\t\tdate_format_array: null,\n\n\t\t\ttime_format_array: null,\n\n\t\t\ttime_unit_format_array: null,\n\n\t\t\tdistance_format_array: null,\n\n\t\t\tnotification_status_array: null,\n\n\t\t\tnotification_type_array: null,\n\n\t\t\tpriority_array: null,\n\t\t\toriginal_user_preference_notification_data: [],\n\n\t\t\ttime_zone_array: null,\n\t\t\tstart_week_day_array: null,\n\n\t\t\tschedule_icalendar_type_array: null,\n\n\t\t\tsaved_schedules: null,\n\n\t\t\tselected_schedule_uri_fragment: null,\n\n\t\t\tdate_api: null,\n\t\t\tcurrentUser_api: null,\n\n\t\t\tuser_preference_api: null,\n\t\t\tuser_preference_notification_api: null\n\t\t} );\n\n\t\tsuper( options );\n\t}\n\n\tinit( options ) {\n\n\t\t//this._super('initialize', options );\n\n\t\tthis.permission_id = 'user_preference';\n\t\tthis.viewId = 'LoginUserPreference';\n\t\tthis.script_name = 'LoginUserPreferenceView';\n\t\tthis.table_name_key = 'user_preference';\n\t\tthis.context_menu_name = $.i18n._( 'Preferences' );\n\t\tthis.api = TTAPI.APIUserPreference;\n\t\tthis.date_api = TTAPI.APITTDate;\n\t\tthis.currentUser_api = TTAPI.APIAuthentication;\n\t\tthis.user_preference_api = TTAPI.APIUserPreference;\n\t\tthis.generic_user_data_api = TTAPI.APIUserGenericData;\n\t\tthis.saved_schedules = [];\n\t\tthis.selected_schedule_uri_fragment = '';\n\t\tthis.user_preference_notification_api = TTAPI.APIUserPreferenceNotification;\n\t\tthis.notification_api = TTAPI.APINotification;\n\t\tthis.event_bus = new TTEventBus({ view_id: this.viewId });\n\n\t\tthis.render();\n\n\t\tthis.initData();\n\t}\n\n\trender() {\n\t\tsuper.render();\n\t}\n\n\tinitOptions( callBack ) {\n\n\t\tvar options = [\n\t\t\t{ option_name: 'language', field_name: null, api: this.api },\n\t\t\t{ option_name: 'date_format', field_name: null, api: this.api },\n\t\t\t{ option_name: 'time_format', field_name: null, api: this.api },\n\t\t\t{ option_name: 'time_unit_format', field_name: null, api: this.api },\n\t\t\t{ option_name: 'distance_format', field_name: null, api: this.api },\n\t\t\t{ option_name: 'time_zone', field_name: null, api: this.api },\n\t\t\t{ option_name: 'start_week_day', field_name: null, api: this.api },\n\t\t\t{ option_name: 'schedule_icalendar_type', field_name: null, api: this.api },\n\t\t\t{ option_name: 'default_login_screen', field_name: null, api: this.api },\n\t\t\t{ option_name: 'notification_status', field_name: null, api: this.api },\n\t\t\t{ option_name: 'notification_type', field_name: null, api: this.user_preference_notification_api },\n\t\t\t{ option_name: 'priority', field_name: null, api: this.user_preference_notification_api }\n\t\t];\n\n\t\tthis.initDropDownOptions( options, function( result ) {\n\t\t\tif ( callBack ) {\n\t\t\t\tcallBack( result ); // First to initialize drop down options, and then to initialize edit view UI.\n\t\t\t}\n\t\t} );\n\t}\n\n\tdetectTimeZone() {\n\t\tif ( Intl ) {\n\t\t\tvar detected_tz = Intl.DateTimeFormat().resolvedOptions().timeZone;\n\n\t\t\tif ( detected_tz && detected_tz.length > 0 ) {\n\t\t\t\tDebug.Text( 'Detected TimeZone: ' + detected_tz, 'UserPreferenceViewController.js', 'UserPreferenceViewController', 'detectTimeZone', 10 );\n\t\t\t\tthis.current_edit_record['time_zone'] = detected_tz;\n\n\t\t\t\tvar widget = this.edit_view_ui_dic['time_zone'];\n\t\t\t\twidget.setValue( this.current_edit_record['time_zone'] );\n\t\t\t\twidget.trigger( 'formItemChange', [widget] );\n\t\t\t\tthis.is_changed = true;\n\t\t\t\tTAlertManager.showAlert( $.i18n._( 'Time Zone detected as' ) + ' ' + detected_tz );\n\t\t\t} else {\n\t\t\t\tTAlertManager.showAlert( $.i18n._( 'Unable to determine time zone' ) );\n\t\t\t}\n\t\t}\n\t}\n\n\tgetCustomContextMenuModel() {\n\t\tvar context_menu_model = {\n\t\t\texclude: ['default'],\n\t\t\tinclude: [\n\t\t\t\t'save',\n\t\t\t\t'cancel',\n\t\t\t\t{\n\t\t\t\t\tlabel: '', //Empty label. vue_icon is displayed instead of text.\n\t\t\t\t\tid: 'other_header',\n\t\t\t\t\tmenu_align: 'right',\n\t\t\t\t\taction_group: 'other',\n\t\t\t\t\taction_group_header: true,\n\t\t\t\t\tvue_icon: 'tticon tticon-more_vert_black_24dp',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'Enable Browser Notifications' ),\n\t\t\t\t\tid: 'enable_browser_notifications',\n\t\t\t\t\tmenu_align: 'right',\n\t\t\t\t\taction_group: 'other',\n\t\t\t\t\tpermission_result: true,\n\t\t\t\t\tpermission: null\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'Disable Browser Notifications' ),\n\t\t\t\t\tid: 'disable_browser_notifications',\n\t\t\t\t\tmenu_align: 'right',\n\t\t\t\t\taction_group: 'other',\n\t\t\t\t\tpermission_result: true,\n\t\t\t\t\tpermission: null\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'Disable All Device Notifications' ),\n\t\t\t\t\tid: 'disable_all_notifications',\n\t\t\t\t\tmenu_align: 'right',\n\t\t\t\t\taction_group: 'other',\n\t\t\t\t\tpermission_result: true,\n\t\t\t\t\tpermission: null\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'Send Test Notification' ),\n\t\t\t\t\tid: 'send_test_notification',\n\t\t\t\t\tmenu_align: 'right',\n\t\t\t\t\taction_group: 'other',\n\t\t\t\t\tpermission_result: true,\n\t\t\t\t\tpermission: null\n\t\t\t\t},\n\t\t\t]\n\t\t};\n\n\t\treturn context_menu_model;\n\t}\n\n\tonCustomContextClick( id, context_btn ) {\n\t\tswitch ( id ) {\n\t\t\tcase 'enable_browser_notifications':\n\t\t\t\tthis.enableBrowserNotifications();\n\t\t\t\tbreak;\n\t\t\tcase 'disable_browser_notifications':\n\t\t\t\tthis.disableBrowserNotifications();\n\t\t\t\tbreak;\n\t\t\tcase 'disable_all_notifications':\n\t\t\t\tthis.disableAllNotifications();\n\t\t\t\tbreak;\n\t\t\tcase 'send_test_notification':\n\t\t\t\tthis.sendTestNotification();\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tenableBrowserNotifications() {\n\t\t//If browser permissions are disabled, this will ask the user to enable permissions again. Otherwise it will refresh the service push notifications and send a new device token to the server.\n\t\tNotificationConsumer.setupUser( true, true );\n\t}\n\n\tdisableBrowserNotifications() {\n\t\t//Delete the FCM device token from the server.\n\t\tNotificationConsumer.deleteToken();\n\n\t\t//Unregister the FCM service worker.\n\t\tif ( window.navigator && navigator.serviceWorker ) {\n\t\t\tnavigator.serviceWorker.getRegistrations()\n\t\t\t\t.then( function( registrations ) {\n\t\t\t\t\tfor ( let registration of registrations ) {\n\t\t\t\t\t\tif ( registration.active && registration.active.scriptURL && registration.active.scriptURL.includes( 'firebase-messaging-sw.js' ) ) {\n\t\t\t\t\t\t\tregistration.unregister();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t}\n\n\t\t//Set a cookie so that FCM does not automatically create a new token and reregister a new service worker on the next page refresh.\n\t\t//This is because as soon as the browser accepted push notifications FCM will always set itself up unless we specifically opt out on our end.\n\t\tlet notification_denied_cookie = NotificationConsumer.getNotificationDeniedCookie();\n\t\tnotification_denied_cookie.asked_count = 2; //Set the cookie to max asked count so that notifications are disabled locally.\n\t\tNotificationConsumer.setNotificationDeniedCookie( notification_denied_cookie );\n\n\t\tTAlertManager.showAlert( $.i18n._( 'Push Notifications Disabled' ), $.i18n._( 'Push Notifications' ) );\n\t}\n\n\tsendTestNotification() {\n\t\tlet $this = this;\n\t\tlet data = {};\n\t\tdata.user_id = LocalCacheData.getLoginUser().id;\n\t\tdata.device_id = [4, 256, 512, 32768];\n\t\tdata.type_id = 'system';\n\t\tdata.title_short = $.i18n._( 'Test Notification' );\n\t\tdata.body_short = $.i18n._( 'Sent at: '+ (new Date()).toLocaleTimeString() );\n\t\tdata.priority = 2; //High priority.\n\n\t\tthis.notification_api.sendNotification( data, {\n\t\t\tonResult: function( result ) {\n\t\t\t\t//Force badge count to be updated just in case its a non-production instance and notifications aren't actually received.\n\t\t\t\t$this.event_bus.emit( 'tt_topbar', 'profile_pending_counts', {\n\t\t\t\t\tobject_types: []\n\t\t\t\t} );\n\n\t\t\t\tTAlertManager.showAlert( $.i18n._( 'Test Notification Sent To All Devices' ), $.i18n._( 'Push Notifications' ) );\n\t\t\t}\n\t\t} );\n\t}\n\n\tdisableAllNotifications() {\n\t\tNotificationConsumer.deleteAllTokens();\n\n\t\tTAlertManager.showAlert( $.i18n._( 'Push Notifications Disabled For All Devices' ), $.i18n._( 'Push Notifications' ) );\n\t}\n\n\tgetUserPreferenceData( callBack ) {\n\t\tvar $this = this;\n\t\tvar filter = {};\n\t\tfilter.filter_data = {};\n\t\tfilter.filter_data.user_id = LocalCacheData.loginUser.id;\n\n\t\t$this.api['get' + $this.api.key_name]( filter, {\n\t\t\tonResult: function( result ) {\n\n\t\t\t\tvar result_data = result.getResult();\n\n\t\t\t\tif ( Global.isArray( result_data ) && Global.isSet( result_data[0] ) ) {\n\t\t\t\t\tcallBack( result_data[0] );\n\t\t\t\t} else {\n\t\t\t\t\t$this.api['get' + $this.api.key_name + 'DefaultData']( {\n\t\t\t\t\t\tonResult: function( newResult ) {\n\t\t\t\t\t\t\tvar result_data = newResult.getResult();\n\t\t\t\t\t\t\tcallBack( result_data );\n\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t}\n\t\t} );\n\t}\n\n\tgetSavedScheduleSearchAndLayout( callBack ) {\n\t\tvar data = {};\n\t\tdata.filter_data = { script: 'ScheduleView', deleted: false };\n\n\t\tthis.generic_user_data_api.getUserGenericData( data, {\n\t\t\tonResult: function( result ) {\n\t\t\t\tvar result_data = result.getResult();\n\n\t\t\t\t// Remove -- Default -- (multiple languages) option from list as it can change everytime a user searches and is not relevant.\n\t\t\t\tfor ( var i = result_data.length - 1; i >= 0; i-- ) {\n\t\t\t\t\tif ( result_data[i].name === BaseViewController.default_layout_name ) {\n\t\t\t\t\t\tresult_data.splice( i, 1 );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcallBack( result_data );\n\t\t\t}\n\t\t} );\n\t}\n\n\tinitInsideEditorData() {\n\t\tvar $this = this;\n\n\t\tvar filter = {};\n\t\tfilter.filter_data = {};\n\t\tfilter.filter_data.user_id = LocalCacheData.loginUser.id;\n\n\t\t$this.user_preference_notification_api.getUserPreferenceNotification( filter, true, {\n\t\t\tonResult: function( res ) {\n\n\t\t\t\tvar data = res.getResult();\n\t\t\t\tvar array_data = [];\n\t\t\t\tfor ( var key in data ) {\n\n\t\t\t\t\tif ( !data.hasOwnProperty( key ) ) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tarray_data.push( data[key] );\n\t\t\t\t}\n\t\t\t\tarray_data = array_data.sort( ( a, b ) => {\n\t\t\t\t\treturn $this.notification_type_array.findIndex( p => p.id === a.type_id ) - $this.notification_type_array.findIndex( p => p.id === b.type_id );\n\t\t\t\t} );\n\n\t\t\t\t$this.original_user_preference_notification_data =  _.map(array_data, _.clone);\n\n\t\t\t\t$this.editor.setValue( array_data );\n\n\t\t\t}\n\t\t} );\n\t}\n\n\tsetCurrentEditRecordData() {\n\t\t//Set current edit record data to all widgets\n\t\tfor ( var key in this.current_edit_record ) {\n\t\t\tvar widget = this.edit_view_ui_dic[key];\n\t\t\tif ( Global.isSet( widget ) ) {\n\t\t\t\tswitch ( key ) {\n\t\t\t\t\tcase 'full_name':\n\t\t\t\t\t\twidget.setValue( this.current_edit_record['first_name'] + ' ' + this.current_edit_record['last_name'] );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\twidget.setValue( this.current_edit_record[key] );\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t\tthis.collectUIDataToCurrentEditRecord();\n\t\tthis.setEditViewDataDone();\n\t}\n\n\tsetEditViewDataDone() {\n\t\tsuper.setEditViewDataDone();\n\t\tthis.onStatusChange();\n\t\tthis.initInsideEditorData();\n\t}\n\n\topenEditView() {\n\t\tvar $this = this;\n\n\t\tif ( $this.edit_only_mode ) {\n\n\t\t\t$this.initOptions( function( result ) {\n\n\t\t\t\t$this.getSavedScheduleSearchAndLayout( function( result ) {\n\n\t\t\t\t\t$this.saved_schedules.push( { value: 0, label: $.i18n._( 'My Schedule (Default)' ) } );\n\t\t\t\t\tfor ( var i = 0; i < result.length; i++ ) {\n\t\t\t\t\t\t$this.saved_schedules.push( { value: result[i].id, label: result[i].name } );\n\t\t\t\t\t}\n\n\t\t\t\t\t$this.getUserPreferenceData( function( result ) {\n\n\t\t\t\t\t\t// $this.buildContextMenu(); // Commenting out as this will now be done later in the buildEditViewUI stage, to allow the edit_view_tabs to be available for context menu build.\n\n\t\t\t\t\t\tif ( !$this.edit_view ) {\n\t\t\t\t\t\t\t$this.initEditViewUI( 'LoginUserPreference', 'LoginUserPreferenceEditView.html' );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( !result.id ) {\n\t\t\t\t\t\t\tresult.first_name = LocalCacheData.loginUser.first_name;\n\t\t\t\t\t\t\tresult.last_name = LocalCacheData.loginUser.last_name;\n\t\t\t\t\t\t\tresult.user_id = LocalCacheData.loginUser.id;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Waiting for the API returns data to set the current edit record.\n\t\t\t\t\t\t$this.current_edit_record = result;\n\n\t\t\t\t\t\t$this.initEditView();\n\n\t\t\t\t\t} );\n\n\t\t\t\t} );\n\n\t\t\t} );\n\n\t\t}\n\t}\n\n\tonFormItemChange( target, doNotValidate ) {\n\t\tthis.setIsChanged( target );\n\t\tthis.setMassEditingFieldsWhenFormChange( target );\n\n\t\tvar key = target.getField();\n\t\tvar c_value = target.getValue();\n\t\tthis.current_edit_record[key] = c_value;\n\n\t\tif ( key === 'schedule_icalendar_type_id' ) {\n\t\t\tthis.onStatusChange();\n\t\t\tthis.setCalendarURL();\n\t\t} else if ( key === 'schedule_saved_search' ) {\n\t\t\tthis.onSavedScheduleChange( target.getValue(), target.getLabel() );\n\t\t\tthis.setCalendarURL();\n\t\t} else if ( key === 'notification_status_id' ) {\n\t\t\tthis.initSubNotificationView();\n\t\t}\n\n\t\tif ( !doNotValidate ) {\n\t\t\tthis.validate();\n\t\t}\n\t}\n\n\tonStatusChange() {\n\n\t\tif ( this.current_edit_record.schedule_icalendar_type_id == 0 ) {\n\t\t\tthis.detachElement( 'schedule_saved_search' );\n\t\t\tthis.detachElement( 'calendar_url' );\n\t\t\tthis.detachElement( 'schedule_icalendar_alarm1_working' );\n\t\t\tthis.detachElement( 'schedule_icalendar_alarm2_working' );\n\t\t\tthis.detachElement( 'schedule_icalendar_alarm1_absence' );\n\t\t\tthis.detachElement( 'schedule_icalendar_alarm2_absence' );\n\t\t\tthis.detachElement( 'schedule_icalendar_alarm1_modified' );\n\t\t\tthis.detachElement( 'schedule_icalendar_alarm2_modified' );\n\t\t\tthis.detachElement( 'shifts_scheduled_to_work' );\n\t\t\tthis.detachElement( 'shifts_scheduled_absent' );\n\t\t\tthis.detachElement( 'modified_shifts' );\n\n\t\t} else {\n\t\t\tthis.setCalendarURL();\n\t\t\tthis.attachElement( 'schedule_saved_search' );\n\t\t\tthis.attachElement( 'calendar_url' );\n\t\t\tthis.attachElement( 'schedule_icalendar_alarm1_working' );\n\t\t\tthis.attachElement( 'schedule_icalendar_alarm2_working' );\n\t\t\tthis.attachElement( 'schedule_icalendar_alarm1_absence' );\n\t\t\tthis.attachElement( 'schedule_icalendar_alarm2_absence' );\n\t\t\tthis.attachElement( 'schedule_icalendar_alarm1_modified' );\n\t\t\tthis.attachElement( 'schedule_icalendar_alarm2_modified' );\n\t\t\tthis.attachElement( 'shifts_scheduled_to_work' );\n\t\t\tthis.attachElement( 'shifts_scheduled_absent' );\n\t\t\tthis.attachElement( 'modified_shifts' );\n\t\t}\n\n\t\tthis.editFieldResize();\n\t}\n\n\tonSavedScheduleChange( value, label ) {\n\t\tif ( value === 0 ) {\n\t\t\tthis.selected_schedule_uri_fragment = '';\n\t\t} else {\n\t\t\tthis.selected_schedule_uri_fragment = label;\n\t\t}\n\t}\n\n\tsetCalendarURL( widget ) {\n\n\t\tif ( !Global.isSet( widget ) ) {\n\t\t\twidget = this.edit_view_ui_dic['calendar_url'];\n\t\t}\n\n\t\tthis.api['getScheduleIcalendarURL']( this.current_edit_record.user_name, this.current_edit_record.schedule_icalendar_type_id, this.selected_schedule_uri_fragment, {\n\t\t\tonResult: function( result ) {\n\t\t\t\tvar result_data = result.getResult();\n\t\t\t\twidget.setValue( ServiceCaller.root_url + result_data );\n\n\t\t\t\twidget.unbind( 'click' ); // First unbind all click events, otherwise, when we change the schedule icalendar type this will trigger several times click events.\n\n\t\t\t\twidget.click( function() {\n\t\t\t\t\twindow.open( widget.text() );\n\t\t\t\t} );\n\n\t\t\t}\n\t\t} );\n\t}\n\n\tinitSubScheduleSynchronizationView() {\n\t\tif ( Global.getProductEdition() >= 15 ) {\n\t\t\tthis.edit_view_tab.find( '#tab_schedule_synchronization' ).find( '.first-column' ).css( 'display', 'block' );\n\t\t\tthis.edit_view.find( '.permission-defined-div' ).css( 'display', 'none' );\n\t\t\tthis.buildContextMenu( true );\n\t\t\tthis.setEditMenu();\n\t\t} else {\n\t\t\tthis.edit_view_tab.find( '#tab_schedule_synchronization' ).find( '.first-column' ).css( 'display', 'none' );\n\t\t\tthis.edit_view.find( '.permission-defined-div' ).css( 'display', 'block' );\n\t\t\tthis.edit_view.find( '.permission-message' ).html( Global.getUpgradeMessage() );\n\t\t}\n\t}\n\n\tinitSubNotificationView() {\n\t\tif ( this.current_edit_record.notification_status_id == 0 ) {\n\t\t\tthis.edit_view_tab.find( '#tab_preferences_notification' ).find( '.inside-editor-div' ).css( 'display', 'none' );\n\t\t\tthis.edit_view_ui_dic['notification_duration'].parent().parent().parent().css( 'display', 'none' );\n\n\t\t\tthis.edit_view.find( '#tab_preferences_notification' ).find( '.permission-defined-div' ).css( 'display', 'block' );\n\t\t\tthis.edit_view.find( '#tab_preferences_notification' ).find( '.permission-message' ).text( $.i18n._( 'Enable notifications to edit these settings.' ) );\n\t\t} else {\n\t\t\tthis.edit_view_tab.find( '#tab_preferences_notification' ).find( '.inside-editor-div' ).css( 'display', 'block' );\n\t\t\tthis.edit_view_ui_dic['notification_duration'].parent().parent().parent().css( 'display', 'block' );\n\n\t\t\tthis.edit_view.find( '#tab_preferences_notification' ).find( '.permission-defined-div' ).css( 'display', 'none' );\n\t\t\tthis.edit_view.find( '#tab_preferences_notification' ).find( '.permission-message' ).text( $.i18n._( 'Enable notifications to edit these settings.' ) );\n\t\t}\n\t}\n\n\tinsideEditorSetValue( val ) {\n\t\tvar len = val.length;\n\n\t\tif ( len === 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.removeAllRows();\n\t\tfor ( var i = 0; i < val.length; i++ ) {\n\t\t\tif ( Global.isSet( val[i] ) ) {\n\t\t\t\tvar row = val[i];\n\t\t\t\t//converting status_id and device_id into boolean values to be used for checkboxes\n\t\t\t\trow.enabled = row.status_id == 10;\n\t\t\t\trow.web_push_enabled = row.device_id.includes( 4 );\n\t\t\t\trow.email_work_enabled = row.device_id.includes( 256 );\n\t\t\t\trow.email_home_enabled = row.device_id.includes( 512 );\n\t\t\t\trow.app_push_enabled = row.device_id.includes( 32768 );\n\t\t\t\tif ( row.type_id.startsWith( 'reminder_' ) ) {\n\t\t\t\t\trow.reminder_delay = row.reminder_delay;\n\t\t\t\t}\n\t\t\t\tthis.addRow( row );\n\t\t\t}\n\t\t}\n\t}\n\n\tinsideEditorAddRow( data, index ) {\n\t\tif ( !data ) {\n\t\t\tdata = {};\n\t\t}\n\n\t\tvar row = this.getRowRender(); //Get Row render\n\t\tvar render = this.getRender(); //get render, should be a table\n\t\tvar widgets = {}; //Save each row's widgets\n\n\t\t//Build row widgets\n\n\t\t//Enabled\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.CHECKBOX );\n\t\tform_item_input.TCheckbox( { field: 'enabled' } );\n\t\tform_item_input.setValue( data.enabled );\n\t\twidgets[form_item_input.getField()] = form_item_input;\n\t\trow.children().eq( 0 ).append( form_item_input );\n\t\tthis.setWidgetEnableBaseOnParentController( form_item_input );\n\n\t\t//Type\n\t\tvar form_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'type_id' } );\n\t\tform_item_input.setSourceData( this.parent_controller.notification_type_array );\n\t\tform_item_input.setValue( data.type_id );\n\t\tform_item_input.setEnabled( false );\n\t\tform_item_input.css( 'text-align-last', 'center' );\n\t\twidgets[form_item_input.getField()] = form_item_input;\n\t\trow.children().eq( 1 ).append( form_item_input );\n\n\t\t//Priority\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'priority_id', set_empty: false } );\n\t\tform_item_input.setSourceData( this.parent_controller.priority_array );\n\t\tform_item_input.setValue( data.priority_id );\n\t\twidgets[form_item_input.getField()] = form_item_input;\n\t\trow.children().eq( 2 ).append( form_item_input );\n\n\t\t//Web Push\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.CHECKBOX );\n\t\tform_item_input.TCheckbox( { field: 'web_push_enabled' } );\n\t\tform_item_input.setValue( data.web_push_enabled );\n\t\twidgets[form_item_input.getField()] = form_item_input;\n\t\trow.children().eq( 3 ).append( form_item_input );\n\n\t\t//Work Email\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.CHECKBOX );\n\t\tform_item_input.TCheckbox( { field: 'email_work_enabled' } );\n\t\tform_item_input.setValue( data.email_work_enabled );\n\t\twidgets[form_item_input.getField()] = form_item_input;\n\t\trow.children().eq( 4 ).append( form_item_input );\n\n\t\t//Home Email\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.CHECKBOX );\n\t\tform_item_input.TCheckbox( { field: 'email_home_enabled' } );\n\t\tform_item_input.setValue( data.email_home_enabled );\n\t\twidgets[form_item_input.getField()] = form_item_input;\n\t\trow.children().eq( 5 ).append( form_item_input );\n\n\t\t//App Push\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.CHECKBOX );\n\t\tform_item_input.TCheckbox( { field: 'app_push_enabled' } );\n\t\tform_item_input.setValue( data.app_push_enabled );\n\t\twidgets[form_item_input.getField()] = form_item_input;\n\t\trow.children().eq( 6 ).append( form_item_input );\n\n\t\t//Settings\n\t\tif ( data.type_id.startsWith( 'reminder_' ) ) {\n\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\tform_item_input.TTextInput( { field: 'reminder_delay', need_parser_sec: true, mode: 'time_unit' } );\n\t\t\tform_item_input.setValue( data.reminder_delay );\n\t\t\twidgets[form_item_input.getField()] = form_item_input;\n\n\t\t\tvar widgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\t\tvar label = $( '<span class=\\'widget-left-label\\'> ' + $.i18n._( 'Delay' ) + ': </span>' );\n\n\t\t\twidgetContainer.append( label );\n\t\t\twidgetContainer.append( form_item_input );\n\n\t\t\trow.children().eq( 7 ).append( widgetContainer );\n\t\t}\n\n\t\t//Save current set item\n\t\twidgets.current_edit_item = data;\n\n\t\tif ( typeof index != 'undefined' ) {\n\n\t\t\trow.insertAfter( $( render ).find( 'tr' ).eq( index ) );\n\t\t\tthis.rows_widgets_array.splice( ( index ), 0, widgets );\n\n\t\t} else {\n\t\t\t$( render ).append( row );\n\t\t\tthis.rows_widgets_array.push( widgets );\n\t\t}\n\n\t\tif ( this.parent_controller.is_viewing ) {\n\t\t\trow.find( '.control-icon' ).hide();\n\t\t}\n\n\t\tthis.removeLastRowLine();\n\t}\n\n\tinsideEditorGetValue( current_edit_item_id ) {\n\n\t\tvar len = this.rows_widgets_array.length;\n\n\t\tvar result = [];\n\n\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\tvar row = this.rows_widgets_array[i];\n\t\t\tvar data = row.current_edit_item;\n\t\t\tdata.priority_id = row.priority_id.getValue();\n\t\t\tdata.status_id = row.enabled.getValue() === true ? 10 : 20;\n\t\t\tdata.device_id = [];\n\t\t\tif ( row.web_push_enabled.getValue() === true )\n\t\t\t\tdata.device_id.push( 4 );\n\t\t\tif ( row.email_work_enabled.getValue() === true )\n\t\t\t\tdata.device_id.push( 256 );\n\t\t\tif ( row.email_home_enabled.getValue() === true )\n\t\t\t\tdata.device_id.push( 512 );\n\t\t\tif ( row.app_push_enabled.getValue() === true )\n\t\t\t\tdata.device_id.push( 32768 );\n\n\t\t\tif ( data.type_id.startsWith( 'reminder_' ) && row.reminder_delay ) {\n\t\t\t\tdata.reminder_delay = row.reminder_delay.getValue();\n\t\t\t}\n\n\t\t\tresult.push( data );\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tonSaveResult( result ) {\n\t\tvar $this = this;\n\t\tif ( result && result.isValid() ) {\n\t\t\tvar result_data = result.getResult();\n\t\t\tif ( result_data === true ) {\n\t\t\t\t$this.refresh_id = $this.current_edit_record.id;\n\n\t\t\t} else if ( TTUUID.isUUID( result_data ) && result_data != TTUUID.zero_id && result_data != TTUUID.not_exist_id ) {\n\t\t\t\t$this.refresh_id = result_data;\n\t\t\t}\n\n\t\t\t$this.saveInsideEditorData( function() {\n\t\t\t\t$this.onSaveDone( result );\n\t\t\t} );\n\n\t\t} else {\n\t\t\t$this.setErrorMenu();\n\t\t\t$this.setErrorTips( result );\n\n\t\t}\n\t}\n\n\tsaveInsideEditorData( callBack ) {\n\n\t\tvar data = this.editor.getValue( this.refresh_id );\n\n\t\tlet changed_data = this.getChangedRecords( data, this.original_user_preference_notification_data, ['enabled', 'web_push_enabled', 'email_work_enabled', 'email_home_enabled', 'app_push_enabled'] );\n\n\t\tif ( Array.isArray( changed_data ) && changed_data.length > 0 ) {\n\t\t\tthis.user_preference_notification_api.setUserPreferenceNotification( changed_data, {\n\t\t\t\tonResult: function( res ) {\n\t\t\t\t\tif ( Global.isSet( callBack ) ) {\n\t\t\t\t\t\tcallBack();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t} else {\n\t\t\tif ( Global.isSet( callBack ) ) {\n\t\t\t\tcallBack();\n\t\t\t}\n\t\t}\n\t}\n\n\tonSaveDone( result ) {\n\t\tvar $this = this;\n\t\tif ( result && result.isValid() ) {\n\t\t\tGlobal.setLanguageCookie( this.current_edit_record.language );\n\t\t\tLocalCacheData.setI18nDic( null );\n\n\t\t\tGlobal.updateUserPreference( function() {\n\t\t\t\tvar current_edit_record_diff = Global.ArrayDiffAssoc( $this.old_current_edit_record, $this.current_edit_record ); //Must go before removeEditView() below.\n\n\t\t\t\t$this.removeEditView();\n\n\t\t\t\t//Only reload the entire page if certain fields changed that require it.\n\t\t\t\tif ( current_edit_record_diff['language'] || current_edit_record_diff['time_zone'] || current_edit_record_diff['date_format'] || current_edit_record_diff['time_format'] || current_edit_record_diff['time_unit_format'] | current_edit_record_diff['start_week_day']  ) {\n\t\t\t\t\twindow.location.reload( true );\n\t\t\t\t}\n\t\t\t}, $.i18n._( 'Updating preferences, reloading' ) + '...' );\n\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tsetEditMenuSaveIcon( context_btn, pId ) {\n\t}\n\n\tsetErrorMenu() {\n\n\t\tvar context_menu_array = ContextMenuManager.getMenuModelByMenuId( this.determineContextMenuMountAttributes().id );\n\t\tvar len = context_menu_array.length;\n\n\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\tlet context_btn = context_menu_array[i];\n\t\t\tlet id = context_menu_array[i].id;\n\t\t\tContextMenuManager.disableMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, true );\n\n\t\t\tswitch ( id ) {\n\t\t\t\tcase 'cancel':\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tContextMenuManager.disableMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, false );\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t}\n\t}\n\n\tbuildEditViewUI() {\n\t\tvar $this = this;\n\t\tsuper.buildEditViewUI();\n\n\t\tvar tab_model = {\n\t\t\t'tab_preferences': { 'label': $.i18n._( 'Preferences' ) },\n\t\t\t'tab_preferences_notification': {\n\t\t\t\t'label': $.i18n._( 'Notifications' ),\n\t\t\t\t'init_callback': 'initSubNotificationView',\n\t\t\t\t'html_template': this.getPreferencesNotificationTabHtml()\n\t\t\t},\n\t\t\t'tab_schedule_synchronization': {\n\t\t\t\t'label': $.i18n._( 'Schedule Synchronization' ),\n\t\t\t\t'init_callback': 'initSubScheduleSynchronizationView',\n\t\t\t\t'html_template': this.getScheduleSyncronizationTabHtml()\n\t\t\t},\n\t\t};\n\t\tthis.setTabModel( tab_model );\n\n\t\tvar form_item_input;\n\t\tvar widgetContainer;\n\n\t\t//Tab 0 start\n\n\t\tvar tab_preferences = this.edit_view_tab.find( '#tab_preferences' );\n\n\t\tvar tab_preferences_column1 = tab_preferences.find( '.first-column' );\n\n\t\tthis.edit_view_tabs[0] = [];\n\n\t\tthis.edit_view_tabs[0].push( tab_preferences_column1 );\n\n\t\tvar form_item_input;\n\t\tvar widgetContainer;\n\t\tvar label;\n\n\t\t// Employee\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\tform_item_input.TText( { field: 'full_name' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Employee' ), form_item_input, tab_preferences_column1, '' );\n\n\t\t// Language\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'language' } );\n\t\tform_item_input.setSourceData( $this.language_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Language' ), form_item_input, tab_preferences_column1 );\n\n\t\t// Date Format\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'date_format' } );\n\t\tform_item_input.setSourceData( $this.date_format_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Date Format' ), form_item_input, tab_preferences_column1 );\n\n\t\t// Time Format\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'time_format' } );\n\t\tform_item_input.setSourceData( $this.time_format_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Time Format' ), form_item_input, tab_preferences_column1 );\n\n\t\t// Time Units\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'time_unit_format' } );\n\t\tform_item_input.setSourceData( $this.time_unit_format_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Time Units' ), form_item_input, tab_preferences_column1 );\n\n\t\t// Distance Units\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'distance_format' } );\n\t\tform_item_input.setSourceData( $this.distance_format_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Distance Units' ), form_item_input, tab_preferences_column1 );\n\n\t\t// Time Zone\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'time_zone', set_empty: true } );\n\t\tform_item_input.setSourceData( $this.time_zone_array );\n\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tvar autodetect_tz_btn = $( '<input class=\\'t-button\\' style=\\'margin-left: 5px; height: 25px;\\' type=\\'button\\' value=\\'' + $.i18n._( 'Auto-Detect' ) + '\\'></input>' );\n\t\tautodetect_tz_btn.click( function() {\n\t\t\t$this.detectTimeZone();\n\t\t} );\n\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( autodetect_tz_btn );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Time Zone' ), form_item_input, tab_preferences_column1, '', widgetContainer );\n\n\t\t// Start Weeks on\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'start_week_day' } );\n\t\tform_item_input.setSourceData( $this.start_week_day_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Calendar Starts On' ), form_item_input, tab_preferences_column1 );\n\n\t\t// Rows per page\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'items_per_page', width: 50 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Rows per page' ), form_item_input, tab_preferences_column1 );\n\n\t\t// Default Login Screen\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'default_login_screen' } );\n\t\tform_item_input.setSourceData( $this.default_login_screen_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Default Screen' ), form_item_input, tab_preferences_column1 );\n\n\t\t// Save TimeSheet State\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.CHECKBOX );\n\t\tform_item_input.TCheckbox( { field: 'enable_save_timesheet_state' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Save TimeSheet State' ), form_item_input, tab_preferences_column1 );\n\n\n\t\t//Tab 1 start\n\t\tvar tab_preferences_notification = this.edit_view_tab.find( '#tab_preferences_notification' );\n\n\t\tvar tab_preferences_notification_column1 = tab_preferences_notification.find( '.first-column' );\n\n\t\tthis.edit_view_tabs[1] = [];\n\n\t\tthis.edit_view_tabs[1].push( tab_preferences_notification_column1 );\n\n\t\t// Push Notifications Enabled\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'notification_status_id' } );\n\t\tform_item_input.setSourceData( Global.addFirstItemToArray( $this.notification_status_array ) );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Notification Status' ), form_item_input, tab_preferences_notification_column1 );\n\n\t\t// Notification duration\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'notification_duration', width: 50 } );\n\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<span class=\\'widget-right-label\\'> ' + $.i18n._( 'Seconds (Use 0 for infinite)' ) + '</span>' );\n\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Display Notifications For' ), form_item_input, tab_preferences_notification_column1, '', widgetContainer );\n\n\t\tvar inside_editor_div = tab_preferences_notification.find( '.inside-editor-div' );\n\t\tvar args = {\n\t\t\tenabled: $.i18n._( 'Enabled' ),\n\t\t\tname: $.i18n._( 'Type' ),\n\t\t\tpriority: $.i18n._( 'Priority' ),\n\t\t\tweb: $.i18n._( 'Browser' ),\n\t\t\temail_work: $.i18n._( 'Work Email' ),\n\t\t\temail_home: $.i18n._( 'Home Email' ),\n\t\t\tapp: $.i18n._( 'Mobile App' ),\n\t\t\tsettings: $.i18n._( 'Settings' )\n\t\t};\n\n\t\tthis.editor = Global.loadWidgetByName( FormItemType.INSIDE_EDITOR );\n\n\t\tthis.editor.InsideEditor( {\n\t\t\ttitle: '',\n\t\t\taddRow: this.insideEditorAddRow,\n\t\t\tgetValue: this.insideEditorGetValue,\n\t\t\tsetValue: this.insideEditorSetValue,\n\t\t\tparent_controller: this,\n\t\t\trender: getRender(),\n\t\t\trender_args: args,\n\t\t\trender_inline_html: true,\n\t\t\trow_render: getRowRender()\n\t\t} );\n\n\t\tfunction getRender() {\n\t\t\treturn `\n\t\t\t<table class=\"inside-editor-render\">\n\t\t\t\t<tr class=\"title\">\n\t\t\t\t\t<td style=\"width: 50px\"><%= enabled %></td>\n\t\t\t\t\t<td style=\"width: 400px\"><%= name %></td>\n\t\t\t\t\t<td style=\"width: 150px\"><%= priority %></td>\n\t\t\t\t\t<td style=\"width: 110px\"><%= web %></td>\n\t\t\t\t\t<td style=\"width: 110px\"><%= email_work %></td>\n\t\t\t\t\t<td style=\"width: 110px\"><%= email_home %></td>\n\t\t\t\t\t<td style=\"width: 110px\"><%= app %></td>\n\t\t\t\t\t<td style=\"width: 200px\"><%= settings %></td>\n\t\t\t\t</tr>\n\t\t\t</table>`;\n\t\t}\n\n\t\tfunction getRowRender() {\n\t\t\treturn `\n\t\t\t<tr class=\"inside-editor-row data-row\">\n\t\t\t\t<td class=\"cell\"></td>\n\t\t\t\t<td class=\"cell\"></td>\n\t\t\t\t<td class=\"cell\"></td>\n\t\t\t\t<td class=\"cell\"></td>\n\t\t\t\t<td class=\"cell\"></td>\n\t\t\t\t<td class=\"cell\"></td>\n\t\t\t\t<td class=\"cell\"></td>\n\t\t\t\t<td class=\"cell\"></td>\n\t\t\t</tr>`;\n\t\t}\n\n\t\tinside_editor_div.append( this.editor );\n\n\t\t//Tab 2 start\n\n\t\tvar tab_schedule_synchronization = this.edit_view_tab.find( '#tab_schedule_synchronization' );\n\n\t\tvar tab_schedule_synchronization_column1 = tab_schedule_synchronization.find( '.first-column' );\n\n\t\tthis.edit_view_tabs[2] = [];\n\n\t\tthis.edit_view_tabs[2].push( tab_schedule_synchronization_column1 );\n\n\t\t// Status\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'schedule_icalendar_type_id' } );\n\t\tform_item_input.setSourceData( $this.schedule_icalendar_type_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Status' ), form_item_input, tab_schedule_synchronization_column1, '' );\n\n\t\t// Saved Schedule View\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'schedule_saved_search' } );\n\t\tform_item_input.setSourceData( $this.saved_schedules );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Schedule Saved Search' ), form_item_input, tab_schedule_synchronization_column1, '', null, true, false, 'schedule_saved_search' );\n\n\t\t// Calendar URL\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\tform_item_input.TText( { field: 'calendar_url' } );\n\t\tform_item_input.addClass( 'link' );\n\n\t\tvar widgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tvar copy_icon = $( ' <img style=\"margin-left: 5px; cursor: pointer; width: 20px; height: 20px;\" src=\"' + Global.getRealImagePath( 'css/global/widgets/ribbon/icons/' + 'copy-35x35.png' ) + '\">' );\n\t\tcopy_icon.click( function() {\n\t\t\t$this.copyCalendarUrl();\n\t\t} );\n\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( copy_icon );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Calendar URL' ), form_item_input, tab_schedule_synchronization_column1, '', widgetContainer, true );\n\n\t\t// Shifts Scheduled to Work\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.SEPARATED_BOX );\n\t\tform_item_input.SeparatedBox( { label: $.i18n._( 'Shifts Scheduled to Work' ) } );\n\t\tthis.addEditFieldToColumn( null, form_item_input, tab_schedule_synchronization_column1, '', null, true, false, 'shifts_scheduled_to_work' );\n\n\t\t// Alarm 1\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'schedule_icalendar_alarm1_working', width: 90, need_parser_sec: true } );\n\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<span class=\\'widget-right-label\\'>( ' + $.i18n._( 'before schedule start time' ) + ' )</span>' );\n\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Alarm 1' ), form_item_input, tab_schedule_synchronization_column1, '', widgetContainer, true );\n\n\t\t// Alarm 2\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'schedule_icalendar_alarm2_working', width: 90, need_parser_sec: true } );\n\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<span class=\\'widget-right-label\\'>( ' + $.i18n._( 'before schedule start time' ) + ' )</span>' );\n\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Alarm 2' ), form_item_input, tab_schedule_synchronization_column1, '', widgetContainer, true );\n\n\t\t// Shifts Scheduled Absent\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.SEPARATED_BOX );\n\t\tform_item_input.SeparatedBox( { label: $.i18n._( 'Shifts Scheduled Absent' ) } );\n\t\tthis.addEditFieldToColumn( null, form_item_input, tab_schedule_synchronization_column1, '', null, true, false, 'shifts_scheduled_absent' );\n\n\t\t// Alarm 1\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'schedule_icalendar_alarm1_absence', width: 90, need_parser_sec: true } );\n\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<span class=\\'widget-right-label\\'>( ' + $.i18n._( 'before schedule start time' ) + ' )</span>' );\n\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Alarm 1' ), form_item_input, tab_schedule_synchronization_column1, '', widgetContainer, true );\n\n\t\t// Alarm 2\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'schedule_icalendar_alarm2_absence', width: 90, need_parser_sec: true } );\n\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<span class=\\'widget-right-label\\'>( ' + $.i18n._( 'before schedule start time' ) + ' )</span>' );\n\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Alarm 2' ), form_item_input, tab_schedule_synchronization_column1, '', widgetContainer, true );\n\n\t\t// Modified Shifts\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.SEPARATED_BOX );\n\t\tform_item_input.SeparatedBox( { label: $.i18n._( 'Modified Shifts' ) } );\n\t\tthis.addEditFieldToColumn( null, form_item_input, tab_schedule_synchronization_column1, '', null, true, false, 'modified_shifts' );\n\n\t\t// Alarm 1\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'schedule_icalendar_alarm1_modified', width: 90, need_parser_sec: true } );\n\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<span class=\\'widget-right-label\\'>( ' + $.i18n._( 'before schedule start time' ) + ' )</span>' );\n\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Alarm 1' ), form_item_input, tab_schedule_synchronization_column1, '', widgetContainer, true );\n\n\t\t// Alarm 2\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'schedule_icalendar_alarm2_modified', width: 90, need_parser_sec: true } );\n\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<span class=\\'widget-right-label\\'>( ' + $.i18n._( 'before schedule start time' ) + ' )</span>' );\n\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Alarm 2' ), form_item_input, tab_schedule_synchronization_column1, '', widgetContainer, true );\n\t}\n\n\tgetPreferencesNotificationTabHtml() {\n\t\t//Style top: 200px; required so user can still use dropdown to enable/disable notifications. Otherwise divs overlap.\n\t\tvar html_template = `<div id=\"tab_preferences_notification\" class=\"edit-view-tab-outside\">\n\t\t\t\t\t\t\t\t<div class=\"edit-view-tab\" id=\"tab_preferences_notification_content_div\">\n\t\t\t\t\t\t\t\t\t<div class=\"first-column full-width-column\"></div>\n\t\t\t\t\t\t\t\t\t<div class=\"inside-editor-div full-width-column\"></div>\n\t\t\t\t\t\t\t\t\t<div class=\"save-and-continue-div permission-defined-div\" style=\"top: 200px\">\n\t\t\t\t\t\t\t\t\t\t<span class=\"message permission-message\"></span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>`;\n\n\t\treturn html_template;\n\t}\n\n\tgetScheduleSyncronizationTabHtml() {\n\t\tvar html_template = `<div id=\"tab_schedule_synchronization\" class=\"edit-view-tab-outside\">\n\t\t\t\t\t\t\t\t<div class=\"edit-view-tab\" id=\"tab_schedule_synchronization_content_div\">\n\t\t\t\t\t\t\t\t\t<div class=\"first-column full-width-column\"></div>\n\t\t\t\t\t\t\t\t\t<div class=\"save-and-continue-div permission-defined-div\">\n\t\t\t\t\t\t\t\t\t\t<span class=\"message permission-message\"></span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>`;\n\n\t\treturn html_template;\n\t}\n\n\tcopyCalendarUrl() {\n\t\tvar calendar_url = this.edit_view_ui_dic['calendar_url'][0];\n\n\t\t// Create a temporary textarea to copy text from as cannot use select() on a span.\n\t\tvar text_area = document.createElement( 'textarea' );\n\t\ttext_area.value = calendar_url.textContent;\n\t\tdocument.body.appendChild( text_area );\n\t\ttext_area.select();\n\t\tdocument.execCommand( 'Copy' );\n\t\ttext_area.remove();\n\n\t\tTAlertManager.showAlert( $.i18n._( 'Calendar URL copied to clipboard.' ) );\n\t}\n\n}\n"],"names":["LoginUserPreferenceViewController","options","_","$","callBack","result","detected_tz","widget","context_menu_model","id","context_btn","registrations","registration","notification_denied_cookie","$this","data","filter","result_data","Global","newResult","i","res","array_data","key","a","b","p","target","doNotValidate","c_value","value","label","val","len","row","index","render","widgets","form_item_input","widgetContainer","current_edit_item_id","changed_data","current_edit_record_diff","pId","context_menu_array","tab_model","tab_preferences","tab_preferences_column1","autodetect_tz_btn","tab_preferences_notification","tab_preferences_notification_column1","inside_editor_div","args","getRender","getRowRender","tab_schedule_synchronization","tab_schedule_synchronization_column1","copy_icon","html_template","calendar_url","text_area"],"mappings":"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"}