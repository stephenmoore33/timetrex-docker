import{j as K}from"./vendor-tTApdY0Y.bundle.js";const Z=function(b,c){var S={rgb:{r:[0,255],g:[0,255],b:[0,255]},hsv:{h:[0,360],s:[0,100],v:[0,100]},hsl:{h:[0,360],s:[0,100],l:[0,100]},alpha:{alpha:[0,1]},HEX:{HEX:[0,16777215]}},_=b.Math,E=_.round,C={},a={},M={r:.298954,g:.586434,b:.114612},u={r:.2126,g:.7152,b:.0722},g=function(r){this.colors={RND:{}},this.options={color:"rgba(0,0,0,0)",grey:M,luminance:u,valueRanges:S},p(this,r||{})},p=function(r,o){var t=r.options,i;f(r);for(var e in o)o[e]!==c&&(t[e]=o[e]);i=t.customBG,t.customBG=typeof i=="string"?v.txt2color(i).rgb:i,a=m(r.colors,t.color,c,!0)},f=function(r){C!==r&&(C=r,a=r.colors)};g.prototype.setColor=function(r,o,t){return f(this),r?m(this.colors,r,o,c,t):(t!==c&&(this.colors.alpha=V(t,0,1)),A(o))},g.prototype.setCustomBackground=function(r){return f(this),this.options.customBG=typeof r=="string"?v.txt2color(r).rgb:r,m(this.colors,c,"rgb")},g.prototype.saveAsBackground=function(){return f(this),m(this.colors,c,"rgb",!0)},g.prototype.toString=function(r,o){return v.color2text((r||"rgb").toLowerCase(),this.colors,o)};function m(r,o,t,i,e){if(typeof o=="string"){var o=v.txt2color(o);t=o.type,a[t]=o[t],e=e!==c?e:o.alpha}else if(o)for(var n in o)r[t][n]=V(o[n]/S[t][n][1],0,1);return e!==c&&(r.alpha=V(+e,0,1)),A(t,i?r:c)}function T(r,o,t){var i=C.options.grey,e={};return e.RGB={r:r.r,g:r.g,b:r.b},e.rgb={r:o.r,g:o.g,b:o.b},e.alpha=t,e.equivalentGrey=E(i.r*r.r+i.g*r.g+i.b*r.b),e.rgbaMixBlack=U(o,{r:0,g:0,b:0},t,1),e.rgbaMixWhite=U(o,{r:1,g:1,b:1},t,1),e.rgbaMixBlack.luminance=P(e.rgbaMixBlack,!0),e.rgbaMixWhite.luminance=P(e.rgbaMixWhite,!0),C.options.customBG&&(e.rgbaMixCustom=U(o,C.options.customBG,t,1),e.rgbaMixCustom.luminance=P(e.rgbaMixCustom,!0),C.options.customBG.luminance=P(C.options.customBG,!0)),e}function A(r,o){var t=o||a,i=v,e=C.options,n=S,h=t.RND,x,w="",R="",D={hsl:"hsv",rgb:r},y=h.rgb,G,q;if(r!=="alpha"){for(var s in n)if(!n[s][s]){r!==s&&(R=D[s]||"rgb",t[s]=i[R+"2"+s](t[R])),h[s]||(h[s]={}),x=t[s];for(w in x)h[s][w]=E(x[w]*n[s][w][1])}y=h.rgb,t.HEX=i.RGB2HEX(y),t.equivalentGrey=e.grey.r*t.rgb.r+e.grey.g*t.rgb.g+e.grey.b*t.rgb.b,t.webSave=G=N(y,51),t.webSmart=q=N(y,17),t.saveColor=y.r===G.r&&y.g===G.g&&y.b===G.b?"web save":y.r===q.r&&y.g===q.g&&y.b===q.b?"web smart":"",t.hueRGB=v.hue2RGB(t.hsv.h),o&&(t.background=T(y,t.rgb,t.alpha))}var l=t.rgb,k=t.alpha,d="luminance",B=t.background,z,L,F;return z=U(l,{r:0,g:0,b:0},k,1),z[d]=P(z,!0),t.rgbaMixBlack=z,L=U(l,{r:1,g:1,b:1},k,1),L[d]=P(L,!0),t.rgbaMixWhite=L,e.customBG&&(F=U(l,B.rgbaMixCustom,k,1),F[d]=P(F,!0),F.WCAG2Ratio=W(F[d],B.rgbaMixCustom[d]),t.rgbaMixBGMixCustom=F,F.luminanceDelta=_.abs(F[d]-B.rgbaMixCustom[d]),F.hueDelta=H(B.rgbaMixCustom,F)),t.RGBLuminance=P(y),t.HUELuminance=P(t.hueRGB),e.convertCallback&&e.convertCallback(t,r),t}var v={txt2color:function(r){var o={},t=r.replace(/(?:#|\)|%)/g,"").split("("),i=(t[1]||"").split(/,\s*/),e=t[1]?t[0].substr(0,3):"rgb",n="";if(o.type=e,o[e]={},t[1])for(var h=3;h--;)n=e[h]||e.charAt(h),o[e][n]=+i[h]/S[e][n][1];else o.rgb=v.HEX2rgb(t[0]);return o.alpha=i[3]?+i[3]:1,o},color2text:function(r,o,t){var i=t!==!1&&E(o.alpha*100)/100,e=typeof i=="number"&&t!==!1&&(t||i!==1),n=o.RND.rgb,h=o.RND.hsl,x=r==="hex"&&e,w=r==="hex"&&!x,R=r==="rgb"||x,D=R?n.r+", "+n.g+", "+n.b:w?"#"+o.HEX:h.h+", "+h.s+"%, "+h.l+"%";return w?D:(x?"rgb":r)+(e?"a":"")+"("+D+(e?", "+i:"")+")"},RGB2HEX:function(r){return((r.r<16?"0":"")+r.r.toString(16)+(r.g<16?"0":"")+r.g.toString(16)+(r.b<16?"0":"")+r.b.toString(16)).toUpperCase()},HEX2rgb:function(r){return r=r.split(""),{r:+("0x"+r[0]+r[r[3]?1:0])/255,g:+("0x"+r[r[3]?2:1]+(r[3]||r[1]))/255,b:+("0x"+(r[4]||r[2])+(r[5]||r[2]))/255}},hue2RGB:function(r){var o=r*6,t=~~o%6,i=o===6?0:o-t;return{r:E([1,1-i,0,0,i,1][t]*255),g:E([i,1,1,1-i,0,0][t]*255),b:E([0,0,i,1,1,1-i][t]*255)}},rgb2hsv:function(r){var o=r.r,t=r.g,i=r.b,e=0,n,h,x;return t<i&&(t=i+(i=t,0),e=-1),h=i,o<t&&(o=t+(t=o,0),e=-2/6-e,h=_.min(t,i)),n=o-h,x=o?n/o:0,{h:x<1e-15?a&&a.hsl&&a.hsl.h||0:n?_.abs(e+(t-i)/(6*n)):0,s:o?n/o:a&&a.hsv&&a.hsv.s||0,v:o}},hsv2rgb:function(r){var o=r.h*6,t=r.s,i=r.v,e=~~o,n=o-e,h=i*(1-t),x=i*(1-n*t),w=i*(1-(1-n)*t),R=e%6;return{r:[i,x,h,h,w,i][R],g:[w,i,i,x,h,h][R],b:[h,h,w,i,i,x][R]}},hsv2hsl:function(r){var o=(2-r.s)*r.v,t=r.s*r.v;return t=r.s?o<1?o?t/o:0:t/(2-o):0,{h:r.h,s:!r.v&&!t?a&&a.hsl&&a.hsl.s||0:t,l:o/2}},rgb2hsl:function(r,o){var t=v.rgb2hsv(r);return v.hsv2hsl(o?t:a.hsv=t)},hsl2rgb:function(r){var o=r.h*6,t=r.s,i=r.l,e=i<.5?i*(1+t):i+t-t*i,n=i+i-e,h=e?(e-n)/e:0,x=~~o,w=o-x,R=e*h*w,D=n+R,y=e-R,G=x%6;return{r:[e,y,n,n,D,e][G],g:[D,e,e,y,n,n][G],b:[n,n,D,e,e,y][G]}}};function N(r,o){var t={},i=0,e=o/2;for(var n in r)i=r[n]%o,t[n]=r[n]+(i>e?o-i:-i);return t}function H(r,o,t){return(_.max(r.r-o.r,o.r-r.r)+_.max(r.g-o.g,o.g-r.g)+_.max(r.b-o.b,o.b-r.b))*255/765}function P(r,o){for(var t=o?1:255,i=[r.r/t,r.g/t,r.b/t],e=C.options.luminance,n=i.length;n--;)i[n]=i[n]<=.03928?i[n]/12.92:_.pow((i[n]+.055)/1.055,2.4);return e.r*i[0]+e.g*i[1]+e.b*i[2]}function U(r,o,t,i){var e={},n=t!==c?t:1,h=i,x=n+h*(1-n);for(var w in r)e[w]=(r[w]*n+o[w]*h*(1-n))/x;return e.a=x,e}function W(r,o){var t=1;return r>=o?t=(r+.05)/(o+.05):t=(o+.05)/(r+.05),E(t*100)/100}function V(r,o,t){return r>t?t:r<o?o:r}return g}(window,void 0);(function(b,c,S,_){var E=c(document),C=c(),a,M,u,g,p,f,m,T,A,v,N,H="touchmove.tcp mousemove.tcp pointermove.tcp",P="touchstart.tcp mousedown.tcp pointerdown.tcp",U="touchend.tcp mouseup.tcp pointerup.tcp",W=!1,V=b.requestAnimationFrame||b.webkitRequestAnimationFrame||function(s){s()},r='<div class="cp-color-picker"><div class="cp-z-slider"><div class="cp-z-cursor"></div></div><div class="cp-xy-slider"><div class="cp-white"></div><div class="cp-xy-cursor"></div></div><div class="cp-alpha"><div class="cp-alpha-cursor"></div></div></div>',o=".cp-color-picker{position:absolute;overflow:hidden;padding:6px 6px 0;background-color:#444;color:#bbb;font-family:Arial,Helvetica,sans-serif;font-size:12px;font-weight:400;cursor:default;border-radius:5px}.cp-color-picker>div{position:relative;overflow:hidden}.cp-xy-slider{float:left;height:128px;width:128px;margin-bottom:6px;background:linear-gradient(to right,#FFF,rgba(255,255,255,0))}.cp-white{height:100%;width:100%;background:linear-gradient(rgba(0,0,0,0),#000)}.cp-xy-cursor{position:absolute;top:0;width:10px;height:10px;margin:-5px;border:1px solid #fff;border-radius:100%;box-sizing:border-box}.cp-z-slider{float:right;margin-left:6px;height:128px;width:20px;background:linear-gradient(red 0,#f0f 17%,#00f 33%,#0ff 50%,#0f0 67%,#ff0 83%,red 100%)}.cp-z-cursor{position:absolute;margin-top:-4px;width:100%;border:4px solid #fff;border-color:transparent #fff;box-sizing:border-box}.cp-alpha{clear:both;width:100%;height:16px;margin:6px 0;background:linear-gradient(to right,#444,rgba(0,0,0,0))}.cp-alpha-cursor{position:absolute;margin-left:-4px;height:100%;border:4px solid #fff;border-color:#fff transparent;box-sizing:border-box}",t=function(s){M=this.color=new S(s),u=M.options,a=this};t.prototype={render:G,toggle:h};function i(s){return s.value||s.getAttribute("value")||c(s).css("background-color")||"#FFF"}function e(s){return s=s.originalEvent&&s.originalEvent.touches?s.originalEvent.touches[0]:s,s.originalEvent?s.originalEvent:s}function n(s){return c(s.find(u.doRender)[0]||s[0])}function h(s){var l=c(this),k=l.offset(),d=c(b),B=u.gap;s?(g=n(l),g._colorMode=g.data("colorMode"),a.$trigger=l,(p||x()).css(u.positionCallback.call(a,l)||{left:(p._left=k.left)-((p._left+=p._width-(d.scrollLeft()+d.width()))+B>0?p._left+B:0),top:(p._top=k.top+l.outerHeight())-((p._top+=p._height-(d.scrollTop()+d.height()))+B>0?p._top+B:0)}).show(u.animationSpeed,function(){s!==!0&&(v.toggle(!!u.opacity)._width=v.width(),m._width=m.width(),m._height=m.height(),f._height=f.height(),M.setColor(i(g[0])),G(!0))}).off(".tcp").on(P,".cp-xy-slider,.cp-z-slider,.cp-alpha",w)):a.$trigger&&c(p).hide(u.animationSpeed,function(){G(!1),a.$trigger=null}).off(".tcp")}function x(){return c("head")[u.cssPrepend?"prepend":"append"]('<style type="text/css" id="tinyColorPickerStyles">'+(u.css||o)+(u.cssAddon||"")+"</style>"),c(r).css({margin:u.margin}).appendTo("body").show(0,function(){a.$UI=p=c(this),W=u.GPU&&p.css("perspective")!==_,f=c(".cp-z-slider",this),m=c(".cp-xy-slider",this),T=c(".cp-xy-cursor",this),A=c(".cp-z-cursor",this),v=c(".cp-alpha",this),N=c(".cp-alpha-cursor",this),u.buildCallback.call(a,p),p.prepend("<div>").children().eq(0).css("width",p.children().eq(0).width()),p._width=this.offsetWidth,p._height=this.offsetHeight}).hide()}function w(s){var l=this.className.replace(/cp-(.*?)(?:\s*|$)/,"$1").replace("-","_");(s.button||s.which)>1||(s.preventDefault&&s.preventDefault(),s.returnValue=!1,g._offset=c(this).offset(),(l=l==="xy_slider"?R:l==="z_slider"?D:y)(s),G(),E.on(U,function(k){E.off(".tcp")}).on(H,function(k){l(k),G()}))}function R(s){var l=e(s),k=l.pageX-g._offset.left,d=l.pageY-g._offset.top;M.setColor({s:k/m._width*100,v:100-d/m._height*100},"hsv")}function D(s){var l=e(s).pageY-g._offset.top;M.setColor({h:360-l/f._height*360},"hsv")}function y(s){var l=e(s).pageX-g._offset.left,k=l/v._width;M.setColor({},"rgb",k)}function G(s){var l=M.colors,k=l.hueRGB;l.RND.rgb,l.RND.hsl;var d=u.dark,B=u.light,z=M.toString(g._colorMode,u.forceAlpha),L=l.HUELuminance>.22?d:B,F=l.rgbaMixBlack.luminance>.22?d:B,O=(1-l.hsv.h)*f._height,Y=l.hsv.s*m._width,j=(1-l.hsv.v)*m._height,Q=l.alpha*v._width,I=W?"translate3d":"",J=g[0].value,X=g[0].hasAttribute("value")&&J===""&&s!==_;m._css={backgroundColor:"rgb("+k.r+","+k.g+","+k.b+")"},T._css={transform:I+"("+Y+"px, "+j+"px, 0)",left:W?"":Y,top:W?"":j,borderColor:l.RGBLuminance>.22?d:B},A._css={transform:I+"(0, "+O+"px, 0)",top:W?"":O,borderColor:"transparent "+L},v._css={backgroundColor:"#"+l.HEX},N._css={transform:I+"("+Q+"px, 0, 0)",left:W?"":Q,borderColor:F+" transparent"},g._css={backgroundColor:X?"":z,color:X?"":l.rgbaMixBGMixCustom.luminance>.22?d:B},g.text=X?"":J!==z?z:"",s!==_?q(s):V(q)}function q(s){m.css(m._css),T.css(T._css),A.css(A._css),v.css(v._css),N.css(N._css),u.doRender&&g.css(g._css),g.text&&g.val(g.text),u.renderCallback.call(a,g,typeof s=="boolean"?s:_)}c.fn.colorPicker=function(s){var l=this,k=function(){};return s=c.extend({animationSpeed:150,GPU:!0,doRender:!0,customBG:"#FFF",opacity:!0,renderCallback:k,buildCallback:k,positionCallback:k,body:document.body,scrollResize:!0,gap:4,dark:"#222",light:"#DDD"},s),!a&&s.scrollResize&&c(b).on("resize.tcp scroll.tcp",function(){a.$trigger&&a.toggle.call(a.$trigger[0],!0)}),C=C.add(this),this.colorPicker=a||new t(s),this.options=s,c(s.body).off(".tcp").on(P,function(d){C.add(p).add(c(p).find(d.target)).index(d.target)===-1&&h()}),this.on("focusin.tcp click.tcp",function(d){a.color.options=c.extend(a.color.options,u=l.options),h.call(this,d)}).on("change.tcp",function(){M.setColor(this.value||"#FFF"),l.colorPicker.render(!0)}).each(function(){var d=i(this),B=d.split("("),z=n(c(this));z.data("colorMode",B[1]?B[0].substr(0,3):"HEX").attr("readonly",u.preventFocus),s.doRender&&z.css({"background-color":d,color:function(){return M.setColor(d).rgbaMixBGMixCustom.luminance>.22?s.dark:s.light}})})},c.fn.colorPicker.destroy=function(){c("*").off(".tcp"),a.toggle(!1),C=c()}})(window,K,Z,void 0);(function(b){b.fn.TColorPicker=function(c){var S=b.extend({},b.fn.TColorPicker.defaults,c),_=this,E,C="",a,M=!1,u=null,g=!0,p;return this.clearErrorStyle=function(){},this.getEnabled=function(){return g},this.setEnabled=function(f){g=f,f===!1||f===""?_.attr("disabled","true"):_.removeAttr("disabled")},this.setCheckBox=function(f){u&&(u.children().eq(0)[0].checked=f)},this.isChecked=function(){return!!(u&&u.children().eq(0)[0].checked===!0)},this.setMassEditMode=function(f){M=f,M?(u=b(' <div class="mass-edit-checkbox-wrapper checkbox-mass-edit-checkbox-wrapper"><input type="checkbox" class="mass-edit-checkbox"></input><label for="checkbox-input-1" class="input-helper input-helper--checkbox"></label></div>'),u.insertBefore(b(this)),u.change(function(){_.trigger("formItemChange",[_])})):u&&(u.remove(),u=null)},this.setErrorStyle=function(f,m,T){T?b(this).addClass("warning-tip"):b(this).addClass("error-tip"),C=f,m&&this.showErrorTip()},this.showErrorTip=function(f){Global.isSet(f)||(f=2),a||(a=Global.loadWidgetByName(WidgetNamesDic.ERROR_TOOLTIP),a=a.ErrorTipBox()),a.cancelRemove(),b(this).hasClass("warning-tip")?a.show(this,C,f,!0):a.show(this,C,f)},this.hideErrorTip=function(){Global.isSet(a)&&a.remove()},this.clearErrorStyle=function(){b(this).removeClass("error-tip"),b(this).removeClass("warning-tip"),this.hideErrorTip(),C=""},this.getField=function(){return E},this.getValue=function(){return p.val().substring(1)},this.setValue=function(f){f&&p.val("#"+f.toUpperCase())&&p.css("background","#"+f),!f&&p.val("#0F820F")&&p.css("background","#0F820F")},this.each(function(){var f=b.meta?b.extend({},S,b(this).data()):S;E=f.field,b(".cp-color-picker").length>0&&b().colorPicker("destroy"),b(this).unbind("colorPickerClose").bind("colorPickerClose",function(){_.trigger("formItemChange",[_])}),p=b(this).colorPicker({doRender:"div div",renderCallback:function(m,T){var A=this,v=this.color.colors.RND,N={r:v.rgb.r,g:v.rgb.g,b:v.rgb.b,h:v.hsv.h,s:v.hsv.s,v:v.hsv.v,HEX:this.color.colors.HEX};m.each(function(){this.value="#"+N[this.className.substr(3)]}),m.unbind("focusout").bind("focusout",function(H){A.$UI.toggle(!1),u&&_.setCheckBox(!0),b(this).trigger("colorPickerClose")})}})}),this},b.fn.TColorPicker.defaults={},b.fn.TColorPicker.html_template='<input class="cp-HEX">'})(K);
//# sourceMappingURL=TColorPicker-CsBr6yL-.bundle.js.map
