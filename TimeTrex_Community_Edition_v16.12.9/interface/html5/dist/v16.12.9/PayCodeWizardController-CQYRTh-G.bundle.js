import{_ as c,j as i}from"./vendor-tTApdY0Y.bundle.js";class o extends BaseWizardController{constructor(e={}){c.defaults(e,{el:".wizard-bg"}),super(e)}init(e){this.title=i.i18n._("Migrate Pay Codes"),this.steps=2,this.current_step=1,i(this.el).width(1010),this.render()}render(){super.render(),this.initCurrentStep()}buildCurrentStepUI(){switch(this.content_div.empty(),this.current_step){case 1:var e=this.getLabel();e.html(i.i18n._("This wizard will migrate data associated with one pay code to another pay code without recalculating timesheets or otherwise affecting employees time or wages.")+'<br><br><span style="color: #ff0000; font-weight: bold;">'+i.i18n._("WARNING")+": </span>"+i.i18n._("This operation can not be reversed once complete.")),this.content_div.append(e);break;case 2:var s=i(i(this.el).find(".wizard-content")),a=s.clone();this.stepsWidgetDic[this.current_step]={};var r=a.find(".first-hr");r.find(".wizard-item-label > span").text(i.i18n._("Select Source Pay Codes"));var t=this.getAComboBox(TTAPI.APIPayCode,!0,"global_pay_code","source_pay_code_ids");r.find(".wizard-item-widget").append(t),this.stepsWidgetDic[this.current_step][t.getField()]=t;var d=a.find(".second-hr");d.find(".wizard-item-label > span").text(i.i18n._("Select Destination Pay Code")),t=this.getAComboBox(TTAPI.APIPayCode,!1,"global_pay_code","dest_pay_code_id"),d.find(".wizard-item-widget").append(t),this.stepsWidgetDic[this.current_step][t.getField()]=t,a.appendTo(this.content_div);break}}buildCurrentStepData(){}onDoneClick(){var e=this;super.onDoneClick(),this.saveCurrentStep();var s=this.stepsDataDic[2].source_pay_code_ids,a=this.stepsDataDic[2].dest_pay_code_id,r=TTAPI.APIPayCode;r.migratePayCode(s,a,{onResult:function(t){var d=t.getResult();d?(e.onCloseClick(),e.call_back&&e.call_back()):TAlertManager.showErrorAlert(t)}})}setCurrentStepValues(){if(this.stepsDataDic[this.current_step])var e=this.stepsDataDic[this.current_step],s=this.stepsWidgetDic[this.current_step];else return;switch(this.current_step){case 1:break;case 2:e.source_pay_code_ids&&s.source_pay_code_ids.setValue(e.source_pay_code_ids),e.dest_pay_code_id&&s.dest_pay_code_id.setValue(e.dest_pay_code_id);break}}saveCurrentStep(){this.stepsDataDic[this.current_step]={};var e=this.stepsDataDic[this.current_step],s=this.stepsWidgetDic[this.current_step];switch(this.current_step){case 1:break;case 2:e.source_pay_code_ids=s.source_pay_code_ids.getValue(),e.dest_pay_code_id=s.dest_pay_code_id.getValue();break}}setDefaultDataToSteps(){if(!this.default_data)return null;this.stepsDataDic[2]={},this.getDefaultData("source_pay_code_ids")&&(this.stepsDataDic[2].source_pay_code_ids=this.getDefaultData("source_pay_code_ids")),this.getDefaultData("dest_pay_code_id")&&(this.stepsDataDic[2].dest_pay_code_id=this.getDefaultData("dest_pay_code_id"))}}export{o as PayCodeWizardController};
//# sourceMappingURL=PayCodeWizardController-CQYRTh-G.bundle.js.map
