import{j as g}from"./vendor-tTApdY0Y.bundle.js";(function(t){t.fn.TImageAdvBrowser=function(u){Global.addCss("global/widgets/filebrowser/TImageBrowser.css");var d=t.extend({},t.fn.TImageAdvBrowser.defaults,u),l=this,h,f="",s=177,r=42,o=null,a,c;return this.setEnable=function(e){var i=this.children().eq(1);e?i.show():i.hide()},this.clearErrorStyle=function(){},this.getField=function(){return h},this.getValue=function(){return c},this.setImage=function(e){if(!e){a.attr("src",""),a.hide();return}e.indexOf("X-CSRF-Token=")===-1&&(e=e+"&X-CSRF-Token="+getCookie("CSRF-Token")),a.hide(),a.attr("src",e),a.css("height","auto"),a.css("width","auto")},this.onImageLoad=function(e){var i=t(e).height()>0?t(e).height():e.naturalHeight,n=t(e).width()>0?t(e).width():e.naturalWidth;i>r&&t(e).css("height",r),n>s&&(t(e).css("width",s),t(e).css("height","auto")),i<5?t(e).hide():t(e).show()},this.setValue=function(e){},this.setEnableDelete=function(e){var i=l.find(".image");if(e)i.attr("enable-delete",1);else{i.removeAttr("enable-delete");return}},this.each(function(){var e=t.meta?t.extend({},d,t(this).data()):d;h=e.field,t(this).find("#upload_image").text(t.i18n._("Upload Image")),e.callBack&&(o=e.callBack),e.show_browser===!1&&t(this).children().eq(1).hide(),e.default_width>0&&(s=e.default_width),e.default_height>0&&(r=e.default_height),Global.isSet(e.name)&&e.name,Global.isSet(f)&&(f=e.accept_filter),Global.isSet(e.deleteImageHandler)&&l.find(".file-browser").on("deleteClick",function(){e.deleteImageHandler()});var i=t(this).children().eq(1);i.bind("click",function(){IndexViewController.openWizard("UserPhotoWizard",null,function(n){o&&o(n),c=n})}),a=t(this).children().eq(0),a.on("load",function(){l.onImageLoad(this)}),a.hide()}),this},t.fn.TImageAdvBrowser.defaults={},t.fn.TImageAdvBrowser.html_template=`
	<div class="file-browser">
		<img class="image">
		<button id="upload_image" class="t-button file-browser-btn" style="display: block"></button>
	</div>
	`})(g);
//# sourceMappingURL=TImageAdvBrowser-CQSTdPda.bundle.js.map
