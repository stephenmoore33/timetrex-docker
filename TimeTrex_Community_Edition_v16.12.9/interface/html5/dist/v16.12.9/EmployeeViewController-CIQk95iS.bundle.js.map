{"version":3,"mappings":";uMAIO,MAAMA,UAA+B,kBAAmB,CAC9D,YAAaC,EAAU,GAAK,CAC3BC,EAAE,SAAUD,EAAS,CACpB,GAAI,2BAOJ,SAAU,KACV,eAAgB,KAChB,cAAe,KACf,YAAa,KACb,oBAAqB,KACrB,+BAAgC,KAChC,aAAc,KACd,eAAgB,KAChB,UAAW,KACX,iBAAkB,KAClB,cAAe,KACf,eAAgB,KAChB,iBAAkB,KAElB,kBAAmB,CAAE,EACrB,6BAA8B,CAAE,EAEhC,yBAA0B,KAC1B,iCAAkC,KAClC,iDAAkD,KAClD,wBAAyB,KACzB,gCAAiC,KACjC,oCAAqC,KACrC,+BAAgC,KAChC,mCAAoC,KACpC,oCAAqC,KACrC,iCAAkC,KAClC,kCAAmC,KACnC,wCAAyC,KAEzC,oCAAqC,KAErC,sBAAuB,KACvB,mBAAoB,KACpB,eAAgB,GAChB,kBAAmB,KAEnB,uBAAwB,GACxB,OAAQ,CAAE,CACb,GAEE,MAAOA,CAAO,CACd,CAED,KAAMA,EAAU,CAGf,KAAK,cAAgB,wBACrB,KAAK,cAAgB,OACrB,KAAK,OAAS,WACd,KAAK,YAAc,eACnB,KAAK,eAAiB,QACtB,KAAK,wBAA0B,IAC/B,KAAK,kBAAoBE,EAAE,KAAK,EAAG,WAAW,EAC9C,KAAK,iBAAmBA,EAAE,KAAK,EAAG,UAAU,EAC5C,KAAK,IAAM,MAAM,QACjB,KAAK,iBAAmB,MAAM,eAC9B,KAAK,kBAAoB,eAAe,kBAAiB,EAAG,GAErD,OAAO,kBAAmB,GAAI,KACpC,KAAK,QAAU,MAAM,OACrB,KAAK,aAAe,MAAM,WAC1B,KAAK,cAAgB,MAAM,aAE5B,KAAK,eAAiB,MAAM,aAC5B,KAAK,YAAc,MAAM,WACzB,KAAK,oBAAsB,MAAM,oBACjC,KAAK,+BAAiC,MAAM,4BAC5C,KAAK,UAAY,IAAIC,EAAW,CAAE,QAAS,KAAK,MAAM,CAAE,EAExD,KAAK,OAAM,EAEX,KAAK,iBAAgB,EACrB,KAAK,SAAQ,CACb,CAED,eAAgB,CACf,MAAK,qBAAkB,SAAU,MAAO,SAAW,IAChD,kBAAkB,SAAU,MAAO,MAAQ,GAC5C,kBAAkB,SAAU,MAAO,YAAc,GACjD,kBAAkB,SAAU,MAAO,UAAY,GAIjD,CAED,mBAAoB,CAEnB,MAAK,qBAAkB,SAAU,WAAY,SAAW,IACrD,kBAAkB,SAAU,WAAY,MAAQ,GACjD,kBAAkB,SAAU,WAAY,YAAc,GACtD,kBAAkB,SAAU,WAAY,UAAY,GAItD,CAED,oBAAqB,CAEpB,MAAK,qBAAkB,SAAU,YAAa,SAAW,IACtD,kBAAkB,SAAU,YAAa,MAAQ,GAClD,kBAAkB,SAAU,YAAa,YAAc,GACvD,kBAAkB,SAAU,YAAa,UAAY,GAIvD,CAGD,gBAAiB,CAChB,MAAM,eAAc,EAEf,KAAK,gBACT,KAAK,YAAc,GAEnB,KAAK,YAAc,GAGf,KAAK,oBACT,KAAK,iBAAmB,GAExB,KAAK,iBAAmB,GAGpB,KAAK,qBACT,KAAK,kBAAoB,GAEzB,KAAK,kBAAoB,EAE1B,CAiBD,2BAA4B,CAC3B,IAAIC,EAAqB,CACxB,QAAW,CAAC,MAAM,EAClB,QAAW,CACV,CACC,MAAOF,EAAE,KAAK,EAAG,KAAO,EACxB,GAAI,MACJ,WAAY,QACZ,SAAU,+BACV,WAAY,GACZ,EACD,CACC,MAAOA,EAAE,KAAK,EAAG,QAAU,EAC3B,GAAI,cACJ,WAAY,QACZ,aAAc,gBACd,MAAO,QACP,SAAU,yCACV,WAAY,IACZ,EACD,CACC,MAAOA,EAAE,KAAK,EAAG,SAAW,EAC5B,GAAI,iBACJ,WAAY,QACZ,aAAc,UACd,oBAAqB,GACrB,kBAAmB,GACnB,WAAY,GACZ,EACD,CACC,MAAOA,EAAE,KAAK,EAAG,WAAa,EAC9B,GAAI,YACJ,WAAY,QACZ,aAAc,UACd,MAAO,aACP,WAAY,IACZ,EACD,CACC,MAAOA,EAAE,KAAK,EAAG,UAAY,EAC7B,GAAI,WACJ,WAAY,QACZ,aAAc,UACd,MAAO,aACP,WAAY,IACZ,EACD,CACC,MAAOA,EAAE,KAAK,EAAG,WAAa,EAC9B,GAAI,WACJ,WAAY,QACZ,aAAc,UACd,MAAO,aACP,WAAY,IACZ,EACD,CACC,MAAOA,EAAE,KAAK,EAAG,qBAAuB,EACxC,GAAI,qBACJ,WAAY,QACZ,aAAc,UACd,MAAO,aACP,WAAY,IACZ,CACD,CACJ,EAEE,OAAK,KAAK,gBACTE,EAAmB,QAAQ,KAC1B,YACA,WACA,WACA,qBACA,MACA,cACA,cACJ,EAGSA,CACP,CAED,aAAcC,EAAK,CAClB,GAAK,KAAK,eAAiB,CAErB,KAAK,uBAAuB,SAAW,kBAAoBA,IAAO,SACtEA,EAAK,KAAK,YAEX,IAAIC,EAAY,KAChB,KAAK,YAAa,SAAUC,EAAS,CAC9BD,EAAU,WACfA,EAAU,eAAgBA,EAAU,OAAQA,EAAU,aAAa,EAEnEE,GAKL,EAEA,MACS,KAAK,WACV,KAAK,eAAgB,KAAK,OAAQ,KAAK,aAAa,EAItD,SAASA,GAAS,CACjBF,EAAU,gBAAiBD,EAAI,SAAUE,EAAS,CAE3CA,GAKLD,EAAU,oBAAsBC,EAChCD,EAAU,aAAY,IALtB,cAAc,UAAWJ,EAAE,KAAK,EAAG,wBAAwB,GAC3DI,EAAU,cAAa,GAOnBA,EAAU,gBACdJ,EAAG,oBAAsB,EAAC,IAAK,UAAW,CAAC,CAEhD,EACG,CACD,CAED,qBAAsB,CACrB,MAAM,oBAAmB,CACzB,CAED,gBAAiBG,EAAII,EAAW,CAC/B,GAAK,OAAOJ,GAAO,SAElBA,EAAG,GAAK,GACRA,EAAG,QAAU,eAAe,gBAAgB,KAE5CI,EAAUJ,CAAE,MACN,CACN,IAAIK,EAAS,GACbA,EAAO,YAAc,GACrBA,EAAO,YAAY,GAAK,CAACL,CAAE,EAE3B,KAAK,IAAI,MAAQ,KAAK,IAAI,QAAQ,EAAGK,EAAQ,CAC5C,SAAU,SAAUH,EAAS,CAC5B,IAAII,EAAcJ,EAAO,YAEnBI,IACLA,EAAc,IAEfA,EAAcA,EAAY,CAAC,EAE3BF,EAAUE,CAAW,CAErB,CACL,EACG,CACD,CAED,YAAaF,EAAW,CAEvB,IAAIT,EAAU,CACb,CAAE,YAAa,QAAU,EACzB,CAAE,YAAa,KAAO,EACtB,CAAE,YAAa,UAAY,EAC3B,CAAE,YAAa,UAAW,WAAY,UAAW,IAAK,KAAK,WAAa,CAC3E,EAEE,KAAK,oBAAqBA,EAAS,SAAUO,EAAS,CAEhDE,GACJA,EAAUF,CAAM,CAGpB,EACE,CAED,oBAAqBP,EAASS,EAAW,CACxC,IAAIG,EAAQ,KACRC,EAAMb,EAAQ,OAAS,EACvBc,EAAiB,EACjBC,EAAgB,GAEf,KAAK,8BACTH,EAAM,oBAAoB,WAAY,cAAe,CACpD,SAAU,SAAUI,EAAQ,CAC3B,IAAIC,EAASD,EAAM,YACnB,GAAKC,EAAS,CACb,IAAIC,EAAQ,GAEZ,QAAUC,KAAOF,EAChBC,EAAM,KAAM,CAAE,GAAI,OAAO,iBAAkBC,CAAK,EAAE,MAAOF,EAAOE,CAAG,CAAG,GAGvEP,EAAM,mBAAqBM,CAC3B,CAEDJ,EAAiBA,EAAiB,EAC7BA,IAAmBD,GACvBJ,EAAUM,CAAa,CAExB,CACL,IAEG,KAAK,eAAiB,GACtBD,EAAiBA,EAAiB,GAGnC,KAAK,eAAe,aAAc,GAAI,GAAO,GAAO,CACnD,SAAU,SAAUM,EAAM,CACzBA,EAAMA,EAAI,YACVA,EAAM,OAAO,gBAAiBA,GAExBR,EAAM,gBACN,CAACA,EAAM,eAAiBA,EAAM,0BAA0B,WAC5DA,EAAM,0BAA0B,SAAY,cAAeQ,CAAG,EAC9DR,EAAM,wBAAwB,SAAY,cAAeQ,CAAG,GAI9DR,EAAM,iBAAmBQ,EAEzBN,EAAiBA,EAAiB,EAC7BA,IAAmBD,GACvBJ,EAAUM,CAAa,CAExB,CACJ,GAEE,QAAUM,EAAI,EAAGA,EAAIR,EAAM,EAAGQ,IAAM,CACnC,IAAIC,EAActB,EAAQqB,CAAC,EAE3B,KAAK,mBAAoBC,EAAY,YAAaA,EAAY,WAAYA,EAAY,IAAKC,EAC3F,CAED,SAASA,EAAmBhB,EAAS,CACpCQ,EAAc,KAAMR,GAEpBO,EAAiBA,EAAiB,EAC7BA,IAAmBD,GACvBJ,EAAUM,CAAa,CAExB,CACD,CAED,yBAA0BV,EAAImB,EAAaC,EAAuB,CACjE,OAASpB,EAAE,CACV,IAAK,YACJ,KAAK,uBAAwBmB,EAAaC,EAAsB,OAAO,EACvE,MACD,IAAK,WACJ,KAAK,uBAAwBD,EAAaC,EAAsB,UAAU,EAC1E,MACD,IAAK,qBACJ,KAAK,uBAAwBD,EAAaC,EAAsB,oBAAoB,EACpF,MACD,IAAK,WACJ,KAAK,0BAA2BD,EAAaC,EAAsB,UAAU,EAC7E,KACD,CACD,CAED,0BAA2BD,EAAaC,EAAsBC,EAAM,CAE7D,kBAAkB,wBAAyB,YAChD,mBAAmB,aAAc,KAAK,oCAAmC,EAAG,GAAIF,EAAY,GAAI,EAAO,EAGnGC,IAAyB,EAC7B,mBAAmB,gBAAiB,KAAK,oCAAmC,EAAG,GAAID,EAAY,GAAI,IAEnG,mBAAmB,gBAAiB,KAAK,oCAAmC,EAAG,GAAIA,EAAY,GAAI,GAEpG,CAED,yBAA0BA,EAAaC,EAAsBC,EAAM,CAC7D,kBAAkB,wBAAyB,mBAAmB,IAAO,GACzE,mBAAmB,aAAc,KAAK,oCAAmC,EAAG,GAAIF,EAAY,GAAI,IAEhG,mBAAmB,aAAc,KAAK,oCAAmC,EAAG,GAAIA,EAAY,GAAI,GAEjG,CAED,0BAA2B,CAC1B,IAAIZ,EAAQ,KAEZ,GAAK,CAAC,KAAK,oBAAoB,GAAK,CACnC,UAAU,QAAS,qBAAsB,aACzC,MACA,CAEDV,EAAG,4CAA8C,EAAC,IAAK,UAAW,GAAG,EACrE,UAAU,IAAK,8BAA+B,4BAE9C,YAAY,gBAAe,EAC3B,UAAU,IAAK,8BAA+B,2BAC9C,OAAO,WAAY,oDAAqD,UAAW,CAClF,IAAIyB,EAAqBf,EAAM,cAAc,KAAM,qBAAqB,EACpEgB,EAAcD,EAAmB,KAAM,wBAAwB,EAAG,KAAM,mBAC5E,OAAO,UAAW,kBAA4B,EAC9C,wBAAwB,YAAaC,EAAaC,EAAgBC,CAAsB,CAE3F,GAEE,YAAY,gBAAe,EAC3B,UAAU,IAAK,8BAA+B,+BAC9C,OAAO,WAAY,wDAAyD,UAAW,CACtF,IAAIH,EAAqBf,EAAM,cAAc,KAAM,qBAAqB,EACpEgB,EAAcD,EAAmB,KAAM,wBAAwB,EAAG,KAAM,oBAC5E,OAAO,UAAW,sBAAgC,EAClD,4BAA4B,YAAaC,EAAaC,EAAgBE,CAA0B,CAEnG,GAEE,YAAY,gBAAe,EAC3B,UAAU,IAAK,8BAA+B,gCAC9C,OAAO,WAAY,yDAA0D,UAAW,CACvF,IAAIJ,EAAqBf,EAAM,cAAc,KAAM,qBAAqB,EACpEgB,EAAcD,EAAmB,KAAM,wBAAwB,EAAG,KAAM,mBAC5E,OAAO,UAAW,uBAAiC,EACnD,6BAA6B,YAAaC,EAAaC,EAAgBG,CAA2B,CAErG,GAEE,YAAY,gBAAe,EAC3B,UAAU,IAAK,8BAA+B,6BAC9C,OAAO,WAAY,sDAAuD,UAAW,CACpF,IAAIL,EAAqBf,EAAM,cAAc,KAAM,qBAAqB,EACpEgB,EAAcD,EAAmB,KAAM,wBAAwB,EAAG,KAAM,mBAC5E,OAAO,UAAW,oBAA8B,EAChD,0BAA0B,YAAaC,EAAaC,EAAgBI,CAAwB,CAE/F,GAEE,YAAY,gBAAe,EAC3B,UAAU,IAAK,8BAA+B,8BAC9C,OAAO,WAAY,uDAAwD,UAAW,CACrF,IAAIN,EAAqBf,EAAM,cAAc,KAAM,qBAAqB,EACpEgB,EAAcD,EAAmB,KAAM,wBAAwB,EAAG,KAAM,mBAC5E,OAAO,UAAW,qBAA+B,EACjD,2BAA2B,YAAaC,EAAaC,EAAgBK,CAAyB,CAEjG,GAEE,SAASL,GAAiB,CAEzB,CAED,SAASC,EAAwBK,EAAoB,CACpDjC,EAAGiC,EAAkB,EAAI,EAAC,KAAM,iBAAiB,EAAG,KAAMjC,EAAE,KAAK,EAAG,QAAU,GAC9EU,EAAM,+BAAiCuB,EACvCvB,EAAM,+BAA+B,WAAa,UAClDA,EAAM,+BAA+B,aAAeA,EAAM,oBAAoB,GAC9EA,EAAM,+BAA+B,mBAAqBA,EAAM,oBAChEA,EAAM,+BAA+B,uBAAyBA,EAC9DA,EAAM,+BAA+B,SAAW,UAAW,CAC1D,KAAK,iBAAgB,EACrB,KAAK,SAAQ,EACb,YAAY,kBAAiB,CACjC,CACG,CAED,SAASqB,EAA0BE,EAAoB,CACtDjC,EAAGiC,EAAkB,EAAI,EAAC,KAAM,iBAAiB,EAAG,KAAMjC,EAAE,KAAK,EAAG,UAAY,GAChFU,EAAM,iCAAmCuB,EACzCvB,EAAM,iCAAiC,WAAa,UACpDA,EAAM,iCAAiC,aAAeA,EAAM,oBAAoB,GAChFA,EAAM,iCAAiC,mBAAqBA,EAAM,oBAClEA,EAAM,iCAAiC,uBAAyBA,EAChEA,EAAM,iCAAiC,SAAW,UAAW,CAC5D,KAAK,iBAAgB,EACrB,KAAK,SAAQ,EACb,YAAY,kBAAiB,CACjC,CACG,CAED,SAASsB,EAA2BC,EAAoB,CACvDjC,EAAGiC,EAAkB,EAAI,EAAC,KAAM,iBAAiB,EAAG,KAAMjC,EAAE,KAAK,EAAG,WAAa,GACjFU,EAAM,kCAAoCuB,EAC1CvB,EAAM,kCAAkC,WAAa,UACrDA,EAAM,kCAAkC,aAAeA,EAAM,oBAAoB,GACjFA,EAAM,kCAAkC,mBAAqBA,EAAM,oBACnEA,EAAM,kCAAkC,uBAAyBA,EACjEA,EAAM,kCAAkC,SAAW,UAAW,CAC7D,KAAK,iBAAgB,EACrB,KAAK,SAAQ,EACb,YAAY,kBAAiB,CACjC,CACG,CAED,SAASmB,EAA4BI,EAAoB,CACxDjC,EAAGiC,EAAkB,EAAI,EAAC,KAAM,iBAAiB,EAAG,KAAMjC,EAAE,KAAK,EAAG,WAAa,GACjFU,EAAM,mCAAqCuB,EAC3CvB,EAAM,mCAAmC,WAAa,UACtDA,EAAM,mCAAmC,aAAeA,EAAM,oBAAoB,GAClFA,EAAM,mCAAmC,mBAAqBA,EAAM,oBACpEA,EAAM,mCAAmC,uBAAyBA,EAClEA,EAAM,mCAAmC,SAAW,UAAW,CAC9D,KAAK,iBAAgB,EACrB,KAAK,SAAQ,EACb,YAAY,kBAAiB,CACjC,CACG,CAED,SAASoB,EAA6BG,EAAoB,CACzDjC,EAAGiC,EAAkB,EAAI,EAAC,KAAM,iBAAiB,EAAG,KAAMjC,EAAE,KAAK,EAAG,aAAe,GACnFU,EAAM,oCAAsCuB,EAC5CvB,EAAM,oCAAoC,WAAa,UACvDA,EAAM,oCAAoC,aAAeA,EAAM,oBAAoB,GACnFA,EAAM,oCAAoC,mBAAqBA,EAAM,oBACrEA,EAAM,oCAAoC,uBAAyBA,EACnEA,EAAM,oCAAoC,SAAW,UAAW,CAC/D,KAAK,iBAAgB,EACrB,KAAK,SAAQ,EACb,YAAY,kBAAiB,CACjC,CACG,CAED,UAAU,KAAM,8BAA+B,KAAM,UAAW,CAC/DV,EAAG,mBAAmB,EAAG,QAAS,QAAQ,EAC1CA,EAAG,4CAA8C,EAAC,IAAK,UAAW,GAAG,CACxE,GAEE,UAAU,QAAS,8BAA+B,2BAClD,CAED,uBAAwB,CACvB,IAAIU,EAAQ,KAEZ,GAAK,CAAC,KAAK,oBAAoB,GAAK,CACnC,UAAU,QAAS,qBAAsB,aACzC,MACA,CAID,GAFA,UAAU,IAAK,UAAW,QAErB,KAAK,gCAAkC,CAC3C,KAAK,gCAAgC,iBAAkB,IACvD,KAAK,gCAAgC,iBACrCA,EAAM,gCAAgC,aAAeA,EAAM,oBAAoB,GAC/EA,EAAM,gCAAgC,mBAAqBA,EAAM,oBACjEA,EAAM,gCAAgC,WACtC,MACA,CAED,OAAO,eAAgB,sBAAuB,uCAAwC,UAAW,CAChG,GAAMA,EAAM,cAGZ,KAAIwB,EAAexB,EAAM,cAAc,KAAM,UAAU,EACnDgB,EAAcQ,EAAa,KAAM,wBAAwB,EAC7D,OAAO,UAAW,oBAA8B,EAChD,kCAAkC,YAAaR,EAAaC,EAAgBQ,CAAa,EAC5F,GAEE,SAASR,GAAiB,CAEzB,CAED,SAASQ,EAAeF,EAAoB,CAC3CvB,EAAM,gCAAkCuB,EACxCvB,EAAM,gCAAgC,WAAa,kBACnDA,EAAM,gCAAgC,aAAeA,EAAM,oBAAoB,GAC/EA,EAAM,gCAAgC,mBAAqBA,EAAM,oBACjEA,EAAM,gCAAgC,uBAAyBA,EAC/D,UAAU,KAAM,qBAAsB,aAAc,UAAW,CAC9DA,EAAM,gCAAgC,UAC1C,EACG,CACD,CAED,8BAA+B,CAE9B,IAAIA,EAAQ,KAEZ,GAAK,CAAC,KAAK,oBAAoB,GAAK,CACnC,UAAU,QAAS,qBAAsB,aACzC,MACA,CAID,GAFA,UAAU,IAAK,aAAc,QAExB,KAAK,wCAA0C,CACnD,KAAK,wCAAwC,iBAAkB,IAC/D,KAAK,wCAAwC,iBAC7CA,EAAM,wCAAwC,WAAa,UAC3DA,EAAM,wCAAwC,aAAeA,EAAM,oBAAoB,GACvFA,EAAM,wCAAwC,mBAAqBA,EAAM,oBACzEA,EAAM,wCAAwC,WAC9C,MACA,CAED,OAAO,WAAY,kDAAmD,UAAW,CAChF,GAAMA,EAAM,cAGZ,KAAIwB,EAAexB,EAAM,cAAc,KAAM,cAAc,EACvDgB,EAAcQ,EAAa,KAAM,wBAAwB,EAE7D,OAAO,UAAW,0BAAoC,EACtD,gCAAgC,YAAaR,EAAaC,EAAgBQ,CAAa,EAE1F,GAEE,SAASR,GAAiB,CAEzB,CAED,SAASQ,EAAeF,EAAoB,CAC3CvB,EAAM,wCAA0CuB,EAChDvB,EAAM,wCAAwC,WAAa,UAC3DA,EAAM,wCAAwC,aAAeA,EAAM,oBAAoB,GACvFA,EAAM,wCAAwC,mBAAqBA,EAAM,oBACzEA,EAAM,wCAAwC,uBAAyBA,EACvEA,EAAM,wCAAwC,UAC9C,CACD,CAED,2BAA4B,CAC3B,IAAIA,EAAQ,KAEZ,GAAK,CAAC,KAAK,oBAAoB,GAAK,CACnC,UAAU,QAAS,qBAAsB,aACzC,MACA,CAID,GAFA,UAAU,IAAK,qBAAsB,QAEhC,KAAK,oCAAsC,CAC/C,KAAK,oCAAoC,iBAAkB,IAC3D,KAAK,oCAAoC,iBACzCA,EAAM,oCAAoC,WAAa,UACvDA,EAAM,oCAAoC,aAAeA,EAAM,oBAAoB,GACnFA,EAAM,oCAAoC,mBAAqBA,EAAM,oBACrEA,EAAM,oCAAoC,WAC1C,MACA,CAED,OAAO,WAAY,+FAAgG,UAAW,CAC7H,GAAMA,EAAM,cAGZ,KAAI0B,EAAsB1B,EAAM,cAAc,KAAM,sBAAsB,EACtEgB,EAAcU,EAAoB,KAAM,wBAAwB,EAEpE,OAAO,UAAW,qCAA+C,EACjE,2CAA2C,YAAaV,EAAaC,EAAgBQ,CAAa,EAErG,GAEE,SAASR,GAAiB,CAEzB,CAED,SAASQ,EAAeF,EAAoB,CAC3CvB,EAAM,oCAAsCuB,EAC5CvB,EAAM,oCAAoC,WAAa,GACvDA,EAAM,oCAAoC,WAAa,UACvDA,EAAM,oCAAoC,aAAeA,EAAM,oBAAoB,GACnFA,EAAM,oCAAoC,mBAAqBA,EAAM,oBACrEA,EAAM,oCAAoC,uBAAyBA,EACnE,UAAU,KAAM,qBAAsB,aAAc,UAAW,CAC9DA,EAAM,oCAAoC,UAC9C,EACG,CACD,CAED,2BAA4B,CAC3B,IAAIA,EAAQ,KAEZ,GAAK,CAAC,KAAK,oBAAoB,GAAK,CACnC,UAAU,QAAS,qBAAsB,aACzC,MACA,CAID,GAFA,UAAU,IAAK,aAAc,QAExB,KAAK,oCAAsC,CAC/C,KAAK,oCAAoC,iBAAkB,IAC3D,KAAK,oCAAoC,iBACzCA,EAAM,oCAAoC,WAAa,sBACvDA,EAAM,oCAAoC,aAAeA,EAAM,oBAAoB,GACnFA,EAAM,oCAAoC,mBAAqBA,EAAM,oBACrEA,EAAM,oCAAoC,WAC1C,MACA,CAED,OAAO,WAAY,uDAAwD,UAAW,CACrF,GAAMA,EAAM,cAGZ,KAAI2B,EAAmB3B,EAAM,cAAc,KAAM,mBAAmB,EAChEgB,EAAcW,EAAiB,KAAM,wBAAwB,EACjE,OAAO,UAAW,uBAAiC,EACnD,6BAA6B,YAAaX,EAAaC,EAAgBQ,CAAa,EAEvF,GAEE,SAASR,GAAiB,CAEzB,CAED,SAASQ,EAAeF,EAAoB,CAC3CvB,EAAM,oCAAsCuB,EAC5CvB,EAAM,oCAAoC,WAAa,sBACvDA,EAAM,oCAAoC,aAAeA,EAAM,oBAAoB,GACnFA,EAAM,oCAAoC,mBAAqBA,EAAM,oBACrEA,EAAM,oCAAoC,uBAAyBA,EACnE,UAAU,KAAM,qBAAsB,aAAc,UAAW,CAC9DA,EAAM,oCAAoC,UAC9C,EACG,CACD,CAED,wBAAyB,CACxB,IAAIA,EAAQ,KAEZ,GAAK,CAAC,KAAK,oBAAoB,GAAK,CACnC,UAAU,QAAS,qBAAsB,aACzC,MACA,CAID,GAFA,UAAU,IAAK,cAAe,QAEzB,KAAK,iCAAmC,CAC5C,KAAK,iCAAiC,iBAAkB,IACxD,KAAK,iCAAiC,iBACtCA,EAAM,iCAAiC,aAAeA,EAAM,oBAAoB,GAChFA,EAAM,iCAAiC,mBAAqBA,EAAM,oBAClEA,EAAM,iCAAiC,WACvC,MACA,CAED,OAAO,WAAY,4DAA6D,UAAW,CAC1F,GAAMA,EAAM,cAGZ,KAAIwB,EAAexB,EAAM,cAAc,KAAM,eAAe,EACxDgB,EAAcQ,EAAa,KAAM,wBAAwB,EAE7D,OAAO,UAAW,oBAA8B,EAChD,0BAA0B,YAAaR,EAAaC,EAAgBQ,CAAa,EAEpF,GAEE,SAASR,GAAiB,CAEzB,CAED,SAASQ,EAAeF,EAAoB,CAC3CvB,EAAM,iCAAmCuB,EACzCvB,EAAM,iCAAiC,WAAa,UACpDA,EAAM,iCAAiC,aAAeA,EAAM,oBAAoB,GAChFA,EAAM,iCAAiC,mBAAqBA,EAAM,oBAClEA,EAAM,iCAAiC,uBAAyBA,EAChE,UAAU,KAAM,qBAAsB,aAAc,UAAW,CAC9DA,EAAM,iCAAiC,UAC3C,EACG,CACD,CAED,iBAAkB,CACjB,IAAIA,EAAQ,KAEZ,GAAK,CAAC,KAAK,oBAAoB,GAAK,CACnC,UAAU,QAAS,qBAAsB,aACzC,MACA,CAID,GAFA,UAAU,IAAK,WAAY,QAEtB,KAAK,yBAA2B,CACpC,KAAK,yBAAyB,iBAAkB,IAChD,KAAK,yBAAyB,iBAC9BA,EAAM,yBAAyB,aAAeA,EAAM,oBAAoB,GACxEA,EAAM,yBAAyB,mBAAqBA,EAAM,oBAC1DA,EAAM,yBAAyB,WAC/B,UAAU,QAAS,WAAY,QAC/B,MACA,CAED,OAAO,WAAY,2CAA4C,UAAW,CACzE,GAAMA,EAAM,cAGZ,KAAIwB,EAAexB,EAAM,cAAc,KAAM,WAAW,EACpDgB,EAAcQ,EAAa,KAAM,wBAAwB,EAC7D,OAAO,UAAW,aAAuB,EACzC,mBAAmB,YAAaR,EAAaC,EAAgBQ,CAAa,EAE7E,GAEE,SAASR,GAAiB,CAEzB,CAED,SAASQ,EAAeF,EAAmBP,EAAc,CAExDhB,EAAM,yBAA2BuB,EACjCvB,EAAM,yBAAyB,WAAa,UAC5CA,EAAM,yBAAyB,aAAeA,EAAM,oBAAoB,GACxEA,EAAM,yBAAyB,mBAAqBA,EAAM,oBAC1DA,EAAM,yBAAyB,uBAAyBA,EACxD,UAAU,KAAM,qBAAsB,aAAc,UAAW,CAEzDA,EAAM,0BACVA,EAAM,yBAAyB,UAEpC,EACG,CACD,CAED,kCAAmC,CAClC,IAAIA,EAAQ,KAEZ,GAAK,CAAC,KAAK,oBAAoB,GAAK,CACnC,UAAU,QAAS,qBAAsB,aACzC,KAAK,UAAU,KAAM,yBAA2B,EAAC,IAAK,UAAW,QACjE,MACA,CAID,GAFA,UAAU,IAAK,cAAe,QAEzB,KAAK,iDAAmD,CAC5D,KAAK,iDAAiD,iBAAkB,IACxE,KAAK,iDAAiD,iBACtDA,EAAM,iDAAiD,WAAa,UACpEA,EAAM,iDAAiD,aAAeA,EAAM,oBAAoB,GAChGA,EAAM,iDAAiD,mBAAqBA,EAAM,oBAClFA,EAAM,iDAAiD,WACvD,MACA,CAEI,OAAO,kBAAmB,GAAI,IAClC,KAAK,UAAU,KAAM,yBAA2B,EAAC,IAAK,UAAW,QAEjE,OAAO,WAAY,yEAA0E,UAAW,CACvG,GAAMA,EAAM,cAGZ,KAAIwB,EAAexB,EAAM,cAAc,KAAM,eAAe,EAExDgB,EAAcQ,EAAa,KAAM,wBAAwB,EAE7D,OAAO,UAAW,kCAA4C,EAC9D,wCAAwC,YAAaR,EAAaC,EAAgBQ,CAAa,EAEnG,KAEG,KAAK,cAAc,KAAM,iBAAkB,KAAM,wBAAwB,EAAG,IAAK,UAAW,QAC5F,KAAK,UAAU,KAAM,yBAA2B,EAAC,IAAK,UAAW,SACjE,KAAK,UAAU,KAAM,qBAAqB,EAAG,KAAM,OAAO,kBAAiB,IAG5E,SAASR,EAAgBW,EAAM,CAC9B,IAAIC,EAAO,CAAE,YAAa,YAE1B,MAAO,CAAE,SAAUxC,EAAE,SAAUuC,GAAO,KAAMC,EAC5C,CAED,SAASJ,EAAeF,EAAoB,CAC3CvB,EAAM,iDAAmDuB,EACzDvB,EAAM,iDAAiD,WAAa,UACpEA,EAAM,iDAAiD,aAAeA,EAAM,oBAAoB,GAChGA,EAAM,iDAAiD,mBAAqBA,EAAM,oBAClFA,EAAM,iDAAiD,uBAAyBA,EAChFA,EAAM,iDAAiD,cAAgB,GACvE,UAAU,KAAM,qBAAsB,aAAc,UAAW,CAC9DA,EAAM,iDAAiD,UAC3D,EACG,CACD,CAED,oBAAqB,CACpB,GAAK,KAAK,QAAU,GAAO,CAC1B,IAAI8B,EAAoB,KAAK,iBAAiB,WAC1CC,EAAmB,KAAK,iBAAiB,UAEzCC,EAAmB,KAAK,iBAAiB,UAE7CA,EAAiB,SAAUF,EAAkB,SAAQ,EAAG,cAAc,QAAS,eAAgB,EAAE,EAAK,IAAMC,EAAiB,SAAQ,EAAG,YAAW,EAAG,QAAS,eAAgB,EAAE,GACjL,KAAK,oBAAoB,UAAYC,EAAiB,SAAQ,CAC9D,CACD,CAiBD,iBAAkBC,EAAQC,EAAgB,CACzC,IAAIlC,EAAQ,KAEZ,KAAK,aAAciC,GACnB,KAAK,mCAAoCA,GACzC,IAAI1B,EAAM0B,EAAO,WAEjB,GAAM,KAAK,oBAeX,QAXK,SAAU1B,CAAK,EAAG,GAEhB,KAAK,oBAAoB,oBAC9B,KAAK,oBAAoB,kBAAoB,IAG9C,KAAK,oBAAoB,kBAAkBA,CAAG,EAAI0B,EAAO,YAEzD,KAAK,oBAAoB1B,CAAG,EAAI0B,EAAO,SAAQ,EAGvC1B,EAAG,CACX,IAAK,aACJ,IAAI4B,EAAS,KAAK,iBAAiB,aACnCA,EAAO,SAAUF,EAAO,SAAU,GAClC,KAAK,oBAAoB,aAAeA,EAAO,SAAQ,EACvD,KAAK,mBAAkB,EACvB,MACD,IAAK,YACJE,EAAS,KAAK,iBAAiB,YAC/BA,EAAO,SAAUF,EAAO,SAAU,GAClC,KAAK,oBAAoB,YAAcA,EAAO,SAAQ,EACtD,KAAK,mBAAkB,EACvB,MACD,IAAK,eACJE,EAAS,KAAK,iBAAiB,WAC/BA,EAAO,SAAUF,EAAO,SAAU,GAClC,KAAK,oBAAoB,WAAaA,EAAO,SAAQ,EACrD,KAAK,mBAAkB,EACvB,MACD,IAAK,cACJE,EAAS,KAAK,iBAAiB,UAC/BA,EAAO,SAAUF,EAAO,SAAU,GAClC,KAAK,oBAAoB,UAAYA,EAAO,SAAQ,EACpD,KAAK,mBAAkB,EACvB,MAID,IAAK,UACJE,EAAS,KAAK,iBAAiB,SAC/BA,EAAO,SAAU,MACjB,MACD,IAAK,iBACG,OAAO,kBAAmB,GAAI,KACpC,KAAK,iBAAiB,iBAAoB,SAAUF,EAAO,SAAU,EAAM,GAAKA,EAAO,SAAU,IAAO,UAAYA,EAAO,SAAU,EAAI,EAAG,UAAmB,IAC/J,KAAK,8BAA+BA,EAAO,SAAU,EAAI,EAAI,sBAAuB,CACnF,UAAW,GACX,OAAQ,KAAK,oBAAoB,eACjC,WAAY,KAAK,iBACvB,GACK,KAAK,iBAAiB,iBAAoB,YAAa,EAAI,EAC3D,KAAK,qCAAsC,KAAK,sBAAuB,EAAE,sBAAsB,GAEhG,MACD,IAAK,sBACG,OAAO,kBAAmB,GAAI,KACpC,KAAK,iBAAiB,sBAAyB,SAAUA,EAAO,SAAU,EAAM,GAAKA,EAAO,SAAU,IAAO,UAAYA,EAAO,SAAU,EAAI,EAAG,UAAmB,IACpK,KAAK,iBAAiB,sBAAyB,YAAa,EAAI,EAChE,KAAK,qCAAsC,KAAK,sBAAuB,EAAE,sBAAsB,GAEhG,MACD,IAAK,uBACG,OAAO,kBAAmB,GAAI,KAC/BA,EAAO,SAAQ,IAAO,OAAO,SAAWA,EAAO,SAAU,IAAK,IAASA,EAAO,SAAQ,EAAG,OAAS,EACtG,KAAK,gCAAiCA,EAAO,eAAgB,GAE7D,KAAK,iBAAiB,uBAA0B,SAAU,EAAE,EAG7D,KAAK,iBAAiB,qBAAwB,cAAe,IAAI,GAElE,MACD,IAAK,KACL,IAAK,oBACL,IAAK,wBACL,IAAK,WACG,OAAO,kBAAmB,GAAI,IACpC,KAAK,qCAAsC,KAAK,sBAAuB,EAAE,sBAAsB,EAEhG,MACD,IAAK,mBACL,IAAK,wBACG,OAAO,kBAAmB,GAAI,KACpC,KAAK,iBAAkB1B,EAAK0B,EAAO,SAAU,EAAE,iBAAkB,sBAAuB,CACvF,UAAW,GACX,WAAYjC,EAAM,iBACxB,GACK,UAAU,KAAM,qBAAsB,mBAAoB,UAAW,CACpEA,EAAM,qCAAsCA,EAAM,sBAAuB,EAAE,sBAAsB,CACvG,GAEKkC,EAAgB,IAEjB,MACD,IAAK,yBACG,OAAO,kBAAmB,GAAI,KACpC,KAAK,sBAAuBD,EAAO,SAAQ,EAAI,KAAK,sBAAqB,EAAI,wBAG7EC,EAAgB,IAEjB,KACD,CAED,GAAK3B,IAAQ,UAAY,CACxB,KAAK,gBAAe,EACpB,MACA,CAEK2B,GACL,KAAK,SAAQ,EAEd,CAED,4BAA6BE,EAAMC,EAAgB,CAElD,MAAK,qBAAkB,SAAU,YAAa,MAAQ,GACrD,kBAAkB,SAAU,OAAQ,kBAMrC,CAED,oBAAqBC,EAAM,CAC1B,IAAIC,EAAS,GAEb,OAASD,EAAG,CACX,IAAK,gBACC,KAAK,oBAAsB,eAAe,kBAAiB,EAAG,KAClEC,EAAS,IAEV,MACD,IAAK,WACC,kBAAkB,wBAAyB,SAAY,KAAK,oBAAsB,eAAe,kBAAmB,EAAC,KACzHA,EAAS,IAEV,MACD,IAAK,UACC,kBAAkB,wBAAyB,kBAAoB,GACnE,KAAK,oBAAsB,eAAe,kBAAiB,EAAG,KAC9DA,EAAS,IAEV,MACD,IAAK,sBACC,kBAAkB,wBAAyB,8BAAgC,GAC/E,KAAK,oBAAsB,eAAe,kBAAiB,EAAG,KAC9DA,EAAS,IAEV,MACD,IAAK,eACC,kBAAkB,wBAAyB,gBAAmB,KAAK,oBAAsB,eAAe,kBAAmB,EAAC,KAChIA,EAAS,IAEV,MACD,IAAK,mBACC,kBAAkB,0BAA2B,mBAAsB,KAAK,oBAAsB,eAAe,kBAAmB,EAAC,KACrIA,EAAS,IAEV,MACD,IAAK,eACC,kBAAkB,wBAAyB,kBAAqB,KAAK,oBAAsB,eAAe,kBAAmB,EAAC,KAClIA,EAAS,IAEV,MACD,IAAK,qBACC,kBAAkB,wBAAyB,kBAAqB,KAAK,oBAAsB,eAAe,kBAAmB,EAAC,KAClIA,EAAS,IAEV,MACD,IAAK,cACC,kBAAkB,wBAAyB,sBAAyB,KAAK,oBAAsB,eAAe,kBAAmB,EAAC,KACtIA,EAAS,IAEV,MACD,QACCA,EAAS,MAAM,oBAAqBD,GACpC,KACD,CAED,OAAOC,CACP,CAGD,0BAA2B,CAC1B,IAAIvC,EAAQ,KACRwC,EAAe,GAEnB,QAAUjC,KAAO,KAAK,oBAAsB,CAC3C,IAAI4B,EAAS,KAAK,iBAAiB5B,CAAG,EACtC,GAAK,OAAO,MAAO4B,CAAM,GAAM5B,IAAQ,oBACtC,OAASA,EAAG,CACX,IAAK,aACL,IAAK,YACJiC,EAAajC,EAAM,IAAI,EAAI,GAC3B,IAAIkC,EAAU,KAAK,iBAAiBlC,EAAM,IAAI,EAC9CkC,EAAQ,SAAU,KAAK,oBAAoBlC,CAAG,CAAC,EAC/C4B,EAAO,SAAU,KAAK,oBAAoB5B,CAAG,CAAC,EAC9C,MACD,IAAK,UACJ,KAAK,gBAAiB4B,EAAQ5B,GAC9B,MACD,IAAK,oBACJ,GAAK,KAAK,eACT,QAAUmC,KAAS,KAAK,oBAAoB,kBAAoB,CAC/D,IAAIC,EAAQ,KAAK,oBAAoB,kBAAkBD,CAAK,EACvD,KAAK,iBAAiBA,CAAK,IAC/BP,EAAS,KAAK,iBAAiBO,CAAK,EACpCF,EAAaE,CAAK,EAAI,GACtBP,EAAO,SAAUQ,GAElB,CAEF,MACD,IAAK,iBAKJR,EAAO,SAAU,KAAK,oBAAoB5B,CAAG,CAAC,EAC9C,MACD,IAAK,sBACJ,IAAIsB,EAAO,GACXA,EAAK,YAAc,CAAE,UAAW,GAAI,OAAQ,KAAK,oBAAoB,gBACrEM,EAAO,eAAgBN,GACvBM,EAAO,SAAU,KAAK,oBAAoB5B,CAAG,CAAC,EAC9C,MACD,IAAK,uBACJ,GAAO,OAAO,kBAAmB,GAAI,GAAO,CAC3C4B,EAAO,SAAU,KAAK,oBAAoB5B,CAAG,CAAC,EAC9C,KAAK,6BAA+B,KAAK,oBAAoBA,CAAG,EAEhE,IAAIqC,EAAmBT,EACvB,UAAU,KAAM,KAAM,KAAM,UAAW,CAEtC,IAAIN,EAAO,GACXA,EAAK,YAAc7B,EAAM,wBACzB4C,EAAiB,eAAgBf,EACzC,EACO,CACD,MACD,IAAK,mBAEJ,MACD,IAAK,wBAEJ,MACD,IAAK,yBACJ,MACD,QACC,GAAK,CAACW,EAAajC,CAAG,EAAI,CACzB4B,EAAO,SAAU,KAAK,oBAAoB5B,CAAG,CAAC,EAC9C,KACA,CACD,KACD,CAGF,CAED,GAAK,KAAK,oBAAoB,GACxB,KAAK,eACT,KAAK,aAAa,OAClB,KAAK,aAAa,SAAU,cAAc,mBAAoB,YAAc,EAAG,cAAgB,KAAK,oBAAoB,EAAE,EACrH,KAAK,WACT,KAAK,aAAa,UAAW,IAE7B,KAAK,aAAa,UAAW,IAE9BjB,EAAG,uBAAwB,kBAGvB,KAAK,aAAe,CACxB,KAAK,aAAa,OAClB,IAAIuD,EAAOvD,EAAG,qCACduD,EAAK,KAAMvD,EAAE,KAAK,EAAG,kDAAkD,GACvE,KAAK,aAAa,OAAQ,EAAC,OAAQuD,CAAI,CACvC,CAIG,KAAK,iBAAiB,YAC1B,KAAK,iBAAiB,WAAc,WAAY,EAAK,EAEjD,KAAK,iBAAiB,cAC1B,KAAK,iBAAiB,YAAe,WAAY,EAAK,EAEjD,KAAK,oBAAoB,aAAe,KAC5C,KAAK,cAAe,gBAItB,KAAK,iCAAgC,EACrC,KAAK,aAAY,EAEjB,KAAK,oBAAmB,CACxB,CAID,cAAe,CACd,IAAI7C,EAAQ,KACZV,EAAG,wBAAyB,SAC5B,IAAIwD,EAAaxD,EAAG,eAAiBA,EAAE,KAAK,EAAG,4BAA+B,uFAC1EyD,EAAazD,EAAG,eAAiBA,EAAE,KAAK,EAAG,4BAA+B,uFACzE,KAAK,oBAAoB,eAAgB,qBAAuB,GAAI,CAAC,KAAK,oBAAoB,sBAClG,KAAK,wBAAwB,WAAW,SAAU,EAAC,GAAI,CAAG,EAAC,OAAQwD,GACnEA,EAAW,GAAI,QAAS,UAAW,CAClCE,EAAyB,CAC7B,IAKO,KAAK,oBAAoB,eAAgB,qBAAuB,GAAI,CAAC,KAAK,oBAAoB,sBAClG,KAAK,wBAAwB,WAAW,SAAU,EAAC,GAAI,CAAG,EAAC,OAAQD,GACnEA,EAAW,GAAI,QAAS,UAAW,CAClCC,EAAyB,CAC7B,IAGE,SAASA,GAAa,CACrBhD,EAAM,IAAI,oBAAqBA,EAAM,oBAAoB,GAAI,CAC5D,SAAU,SAAUL,EAAS,CACvBA,GAAUA,EAAO,UACrB,cAAc,UAAWL,EAAE,KAAK,EAAG,0BAA0B,GAE7D,cAAc,UAAWA,EAAE,KAAK,EAAG,6BAA6B,EAEjE,CACL,EACG,CACD,CAED,aAAcK,EAAS,CAEtB,GADA,MAAM,aAAcA,GACfA,GAAUA,EAAO,UAAY,CACjC,IAAIsD,EAAmBtD,EAAO,yBAA0B,kBAAkB,EACrEsD,GACJ,KAAK,UAAU,KAAM,YAAa,2BAA4B,CAC7D,KAAM,GACN,aAAc,EACnB,EAEG,CACD,CAED,WAAYtD,EAAS,CACf,KAAK,gBAAkB,eAAe,gCAAgC,SAAW,aACrF,eAAe,gCAAgC,2BAA4B,KAAK,mBAAmB,CAEpG,CAED,mBAAoBG,EAAS,CAE5B,OAAAA,EAAO,YAAY,WAAa,KAAK,kBAC9BA,CACP,CAED,YAAa,CACZ,IAAIE,EAAQ,KAEZ,GAAK,OAAO,kBAAmB,GAAI,GAClCA,EAAM,0BAA2B,UAC3B,CACN,IAAIkD,EAAO,GACXA,EAAK,eAAiB,CAAE,GAAI,GAAM,KAAM,IAErClD,EAAM,gBAETA,EAAM,cAAc,KAAM,SAAU,SAAU,CAAC,EAC/CV,EAAE,iCAAiC,EAAE,WAAY,CAAC,GAGnDU,EAAM,iBAAiB,eAAgBkD,EAAM,CAC5C,SAAU,SAAUvD,EAAS,CAC5B,IAAII,EAAcJ,EAAO,YAEnBI,EAAY,OAAS,EACzBC,EAAM,2BAA4BD,GACvBA,EAAY,SAAW,EAClCC,EAAM,0BAA2BD,EAAY,CAAC,EAAE,EAAE,EAElDC,EAAM,0BAA2B,KAElC,CACL,EACG,CACD,CAED,2BAA4BmD,EAAU,CACrC,QAAU1C,EAAI,EAAGA,EAAI0C,EAAQ,OAAQ1C,IACpC0C,EAAQ1C,CAAC,EAAE,MAAQ0C,EAAQ1C,CAAC,EAAE,GAC9B0C,EAAQ1C,CAAC,EAAE,MAAQ0C,EAAQ1C,CAAC,EAAE,KAG/B,cAAc,cAAenB,EAAE,KAAK,EAAG,kBAAkB,EAAIA,EAAE,KAAK,EAAG,8DAAgE,EAAE,WAAY6D,EAAWC,GAAe,CACzKA,IAAc,IAClB,KAAK,0BAA2BA,EAEpC,EAEE,CAED,0BAA2BC,EAAa,CACvC,IAAIrD,EAAQ,KACZ,KAAK,wBAAyB,OAC9BA,EAAM,aAAY,EAElBA,EAAM,IAAI,MAAQA,EAAM,IAAI,SAAW,aAAa,EAAG,KAAK,kBAAmBqD,EAAY,CAC1F,SAAU,SAAU1D,EAAS,CAC5BK,EAAM,YAAaL,EAEnB,CACJ,EACE,CAED,iBAAkB,CAEjB,IAAIK,EAAQ,KACZA,EAAM,OAAS,GACfA,EAAM,WAAa,GACnBA,EAAM,gBAAkB,GACxB,eAAe,6BAA+B,YAC9CA,EAAM,aAAY,EAClB,IAAIF,EAAS,GACTwD,EAAyB,KAAK,uBACPA,EAAuB,OAClD,KAAK,qBAAuB,GAE5BhE,EAAE,KAAMgE,EAAwB,SAAUC,EAAOZ,EAAQ,CACxD3C,EAAM,qBAAqB,KAAM2C,EACpC,GAEE7C,EAAO,YAAc,GACrBA,EAAO,YAAY,GAAK,KAAK,qBAC7BA,EAAO,YAAY,WAAa,KAAK,kBAErC,KAAK,IAAI,YAAc,KAAK,IAAI,SAAW,MAAM,EAAGA,EAAQ,CAC3D,SAAU,SAAUH,EAAS,CAC5B,IAAII,EAAcJ,EAAO,YAEnBI,IACLA,EAAc,IAGfC,EAAM,IAAI,WAAe,iBAAkB,CAC1C,SAAU,SAAUL,EAAS,CAC5BK,EAAM,eAAiBL,EAAO,YAC9BK,EAAM,IAAI,WAAe,iBAAkB,CAC1C,SAAU,SAAUwD,EAAU,CAC7BxD,EAAM,eAAiBwD,EAAQ,YAE1BxD,EAAM,eAAiBA,EAAM,aACjCD,EAAYC,EAAM,UAAU,EAAIA,EAAM,cAGvCA,EAAM,oBAAsBD,EAC5BC,EAAM,aAAY,CAElB,CACR,EAEM,CACN,EAEI,CACJ,EACE,CAED,eAAgB,CACf,IAAIF,EAAS,MAAM,gBACnB,OAAAA,EAAO,YAAY,WAAa,KAAK,kBAE9BA,CACP,CAED,OAAQ2D,EAAkBC,EAAaC,EAAa9D,EAAW,CACxD,OAAO,MAAO4D,KACnBA,EAAmB,IAGpB,IAAIzD,EAAQ,KACRF,EAAS,GAMb,GALAA,EAAO,YAAc,GACrBA,EAAO,YAAc,GACrBA,EAAO,eAAiB,KAAK,qCAC7BA,EAAO,sBAAwB,EAE1B,KAAK,WAET,GAAK,eAAe,cAAgB,EAC9B4D,IAAgB,OACpB5D,EAAO,YAAc,KAAK,WAAW,UAErCA,EAAO,YAAc,MAItB,QAAS4D,EAAW,CACnB,IAAK,OACJ5D,EAAO,YAAc,KAAK,WAAW,UACrC,MACD,IAAK,OACJA,EAAO,YAAc,KAAK,WAAW,cACrC,MACD,IAAK,QACJA,EAAO,YAAc,EACrB,MACD,IAAK,MACJA,EAAO,YAAc,KAAK,WAAW,iBACrC,MACD,IAAK,QACJA,EAAO,YAAc6D,EACrB,MACD,QACC7D,EAAO,YAAc,KAAK,WAAW,aACrC,KACD,MAKFA,EAAO,YAAc,EAkBtB,GAfK,KAAK,eAAiB,KAAK,aAC/B,KAAK,cAAc,KAAK,YAAY,KAAK,UAAU,EAAI,KAAK,cAIxD,OAAO,MAAO,KAAK,gBAAgB,IACvC,KAAK,cAAc,KAAK,YAAc,KAAK,iBAAkB,KAAK,cAAc,KAAK,cAItFA,EAAO,YAAc,OAAO,+BAAgC,KAAK,aAAa,EACzE,KAAK,eAAiB,KAAK,cAAc,OAC7CA,EAAO,YAAc,KAAK,cAAc,KAAK,aAGzC,OAAO,OAAQ,KAAK,UAAU,EAClCA,EAAO,YAAc,GACrBA,EAAO,YAAY,GAAK,CAAC,KAAK,UAAU,EAExC,KAAK,gBAAkBA,EAAO,YAAY,OAEpC,CACN,KAAK,gBAAkB,GAGvB,QAFI8D,EAAM,KAAK,uBAELnD,EAAI,EAAGA,EAAImD,EAAI,OAAQnD,IAChC,KAAK,gBAAgB,KAAMmD,EAAInD,CAAC,CAAC,CAElC,CAED,KAAK,IAAI,MAAQ,KAAK,IAAI,QAAQ,EAAGX,EAAQ,CAC5C,SAAU,SAAUH,EAAS,CAE5B,IAAII,EAAcJ,EAAO,YAWzB,GAVM,OAAO,QAASI,IAGrBC,EAAM,oBAAmB,EACpB,OAAO,MAAOA,EAAM,aAAa,IACrCD,EAAcC,EAAM,cAAeD,IAGpCA,EAAc,OAAO,eAAgBA,EAAaC,EAAM,IAAI,WAP5DA,EAAM,kBAAiB,EASnB,OAAO,OAAQA,EAAM,UAAU,GAEnC,GADAA,EAAM,WAAa,KACdA,EAAM,KAAO,CACjB,IAAI6D,EAAmB7D,EAAM,KAAK,QAAO,EACrCC,EAAM4D,EAAiB,OAEtBvE,EAAE,KAAMuE,CAAgB,IAAO,UACnCA,EAAmB,IAGpB,IAAIC,EAAQ,GACRC,EAAahE,EAAY,CAAC,EAG9B,GAAKgE,EAAa,CACjB,QAAUtD,EAAI,EAAGA,EAAIR,EAAKQ,IAAM,CAC/B,IAAIuD,EAASH,EAAiBpD,CAAC,EAO/B,GAAKuD,EAAO,IAAMD,EAAW,GAAK,CACjC/D,EAAM,KAAK,KAAK,WAAY+D,EAAW,GAAIA,GAC3CD,EAAQ,GACR,KACA,CACD,CAEKA,IAEL9D,EAAM,KAAK,QAAS6D,EAAiB,OAAQE,CAAU,GACvD/D,EAAM,qBAAsB+D,EAAW,IAExC,CACD,MACK,CAUN,GARA/D,EAAM,WAAaL,EAAO,eAGrB,eAAe,cAAgB,IACnCK,EAAM,cAAc,aAAcA,EAAM,UAAU,EAClDA,EAAM,gBAAgB,aAAcA,EAAM,UAAU,GAGhD,eAAe,cAAgB,GAAK0D,IAAgB,OAAS,CACjE,IAAIO,EAAejE,EAAM,KAAK,QAAO,EACrCD,EAAckE,EAAa,OAAQlE,EACnC,CAEIC,EAAM,OACVA,EAAM,KAAK,QAASD,GAEpBC,EAAM,wBAAuB,EAE9B,CAEDA,EAAM,sBAAqB,EAE3B,YAAY,aAAY,EAEnByD,GACJzD,EAAM,eAAgB,IAGlB,eAAe,cAAgB,IAC9B,CAACA,EAAM,YAAcA,EAAM,WAAW,aAC1CA,EAAM,cAAc,IAAK,UAAW,MAAM,EAE1CA,EAAM,cAAc,IAAK,UAAW,OAAO,GAIxCH,GACJA,EAAUF,CAAM,EAIZ8D,GACJzD,EAAM,4BAA2B,EAGlCA,EAAM,WAAU,CAEhB,CACJ,GAGOF,GAAUA,EAAO,aAAeA,EAAO,YAAY,YACvD,KAAK,kBAAoBA,EAAO,YAAY,WAE5C,KAAK,eAAe,aAAc,CAAE,YAAa,CAAE,WAAY,KAAK,iBAAiB,GAAM,GAAO,GAAO,CACxG,SAAU,SAAUU,EAAM,CAEzBA,EAAMA,EAAI,YACVA,EAAM,OAAO,gBAAiBA,GAExBR,EAAM,gBACN,CAACA,EAAM,eAAiBA,EAAM,0BAA0B,WAC5DA,EAAM,0BAA0B,SAAY,cAAeQ,CAAG,EAC9DR,EAAM,wBAAwB,SAAY,cAAeQ,CAAG,GAK9DR,EAAM,iBAAmBQ,CAEzB,CACL,IAGG,KAAK,kBAAoB,eAAe,kBAAiB,EAAG,EAE7D,CAED,qBAAsBf,EAAK,CAC1B,OAASA,EAAE,CACV,IAAK,cACJ,KAAK,cAAa,EAClB,MACD,IAAK,YACL,IAAK,WACL,IAAK,WACL,IAAK,qBACJ,KAAK,kBAAmBA,GACxB,KACD,CACD,CAED,YAAa,CAEZ,GAAO,OAAO,kBAAmB,GAAI,GAAO,CAC3C,KAAK,WAAa,GAClB,YAAY,gBAAe,EAC3B,IAAIyD,EAAO,CACV,eAAgB,CACf,GAAI,GACJ,WAAY,GACZ,UAAW,GACX,SAAU,GACV,SAAU,GACV,KAAM,GACN,SAAU,GACV,QAAS,GACT,YAAa,GACb,SAAU,GACV,UAAW,EACX,CACL,EAEOgB,EAAQ,GACZ,GAAK,KAAK,QAITA,EAAM,KAAM,KAAK,yBACX,CACN,IAAIN,EAAM,KAAK,uBACfV,EAAK,YAAc,OAAO,+BAAgC,KAAK,aAAa,EACvEU,EAAI,OAAS,IACjBV,EAAK,YAAY,GAAKU,GAEvBM,EAAQ,KAAK,IAAI,QAAShB,EAAM,CAAE,MAAO,EAAK,GAAK,WACnD,CAEK,KAAK,iBACViB,EAAA,WAAmD,yCAAuC,wCAAE,KAAOC,GAAU,CAC5G,IAAIC,EAAyBD,EAAO,iBAAiB,sCAAuCF,CAAK,EACjG,oBAAoB,aAAc,KAAM,MAAOG,CAAsB,CACrE,GAAE,MAAO,OAAO,mBAElB,CACD,CAED,eAAgB,CAEf,IAAIrE,EAAQ,KACZ,oBAAoB,WAAY,kBAAmB,OAAQ,UAAW,CACrEA,EAAM,OAAM,CACf,EACE,CAED,kBAAmBsE,EAAW,CAE7B,IAAItE,EAAQ,KAERsD,EAEAxD,EAAS,GAETyE,EAAW,GAEXC,EAAY,IAAI,KAAM,EAAC,OAAM,EAYjC,OAVKxE,EAAM,WAAaA,EAAM,oBAAoB,GACjDuE,EAAS,KAAMvE,EAAM,oBAAoB,EAAE,GAE3CsD,EAAyB,KAAK,uBAC9BhE,EAAE,KAAMgE,EAAwB,SAAUC,EAAOZ,EAAQ,CACxD,IAAI8B,EAAoBzE,EAAM,sBAAuB2C,CAAK,EAC1D4B,EAAS,KAAME,EAAkB,GACrC,IAGWH,EAAQ,CAChB,IAAK,YACCC,EAAS,OAAS,IACtBzE,EAAO,QAAUyE,EAAS,CAAC,EAC3BzE,EAAO,UAAY0E,EACnB,OAAO,WAAYxE,EAAM,OAAQV,EAAE,KAAK,EAAG,WAAW,EAAI,OAAO,SAAS,IAAI,EAC9E,oBAAoB,SAAU,YAAaQ,IAE5C,MACD,IAAK,WACJA,EAAO,YAAc,GACrB,IAAI4E,EAAgB,CAAE,MAAOH,GAC7BzE,EAAO,YAAY,iBAAmB4E,EACtC5E,EAAO,YAAc0E,EACrB,OAAO,WAAY,KAAK,OAAQlF,EAAE,KAAK,EAAG,WAAW,EAAI,OAAO,SAAS,IAAI,EAC7E,oBAAoB,SAAU,WAAYQ,GAC1C,MACD,IAAK,WACCyE,EAAS,OAAS,IACtBzE,EAAO,YAAc,GACrBA,EAAO,YAAY,QAAUyE,EAAS,CAAC,EACvC,OAAO,WAAYvE,EAAM,OAAQV,EAAE,KAAK,EAAG,WAAW,EAAI,OAAO,SAAS,IAAI,EAC9E,oBAAoB,SAAU,UAAWQ,IAE1C,MACD,IAAK,qBACCyE,EAAS,OAAS,IACtBzE,EAAO,YAAc,GACrBA,EAAO,YAAY,QAAUyE,EAAS,CAAC,EACvC,OAAO,WAAY,KAAK,OAAQjF,EAAE,KAAK,EAAG,WAAW,EAAI,OAAO,SAAS,IAAI,EAC7E,oBAAoB,SAAU,mBAAoBQ,IAEnD,KACD,CACD,CAED,gBAAiB,CAEhB,MAAM,eAAc,EACpB,KAAK,iCAAmC,KACxC,KAAK,yBAA2B,KAChC,KAAK,gCAAkC,KACvC,KAAK,iDAAmD,KACxD,KAAK,wCAA0C,KAC/C,KAAK,oCAAsC,KAC3C,KAAK,+BAAiC,KACtC,KAAK,mCAAqC,KAE1C,KAAK,oCAAsC,KAE3C,KAAK,iCAAmC,KAExC,KAAK,kCAAoC,KAEzC,KAAK,oCAAsC,IAC3C,CAED,iBAAkB,CACjB,MAAM,gBAAe,EAErB,IAAIE,EAAQ,KAER2E,EAAY,CACf,aAAgB,CAAE,MAASrF,EAAE,KAAK,EAAG,UAAU,EAAI,gBAAmB,EAAM,EAC5E,iBAAoB,CAAE,MAASA,EAAE,KAAK,EAAG,cAAc,EAAI,gBAAmB,EAAM,EACpF,cAAiB,CAChB,MAASA,EAAE,KAAK,EAAG,WAAa,EAChC,qBAAwB,GACxB,cAAiB,KAAK,oBAAqB,CAC3C,EACD,UAAa,CAAE,MAASA,EAAE,KAAK,EAAG,SAAS,EAAI,gBAAmB,EAAM,EACxE,SAAY,CACX,MAASA,EAAE,KAAK,EAAG,MAAQ,EAC3B,YAAe,GACf,cAAiB,kBACjB,qBAAwB,EACxB,EACD,QAAW,CACV,MAASA,EAAE,KAAK,EAAG,KAAO,EAC1B,YAAe,GACf,cAAiB,wBACjB,qBAAwB,EACxB,EACD,oBAAuB,CACtB,MAASA,EAAE,KAAK,EAAG,aAAe,EAClC,cAAiB,4BACjB,qBAAwB,EACxB,EACD,aAAgB,CACf,MAASA,EAAE,KAAK,EAAG,UAAY,EAC/B,cAAiB,yBACjB,qBAAwB,EACxB,EACD,iBAAoB,CACnB,MAASA,EAAE,KAAK,EAAG,cAAgB,EACnC,cAAiB,4BACjB,qBAAwB,EACxB,EACD,aAAgB,CACf,MAASA,EAAE,KAAK,EAAG,UAAY,EAC/B,cAAiB,mCACjB,qBAAwB,GACxB,oBAAuB,EACvB,EACD,mBAAsB,CACrB,MAASA,EAAE,KAAK,EAAG,gBAAkB,EACrC,cAAiB,2BACjB,qBAAwB,GACxB,cAAiB,KAAK,yBAA0B,CAChD,EACD,YAAe,CACd,MAASA,EAAE,KAAK,EAAG,SAAW,EAC9B,cAAiB,+BACjB,qBAAwB,EACxB,EACD,eAAkB,GAClB,UAAa,EAChB,EACE,KAAK,YAAaqF,GAEZ,KAAK,iBACV,KAAK,WAAW,UAAW,CAC1B,GAAI,KAAK,YAAc,cACvB,UAAW,MAAM,QACjB,yBAA0B,GAC1B,YAAa,cACb,gBAAiB,GACjB,mBAAoB,EACxB,GAEG,KAAK,cAAa,GAInB,IAAInD,EAAe,KAAK,cAAc,KAAM,eAAe,EACvDoD,EAAuBpD,EAAa,KAAM,eAAe,EACzDqD,EAAuBrD,EAAa,KAAM,gBAAgB,EAE9D,KAAK,eAAe,CAAC,EAAI,GACzB,KAAK,eAAe,CAAC,EAAE,KAAMoD,CAAoB,EACjD,KAAK,eAAe,CAAC,EAAE,KAAMC,CAAoB,EAGjD,IAAIC,EAAkB,OAAO,iBAAkB,aAAa,WAAW,EAyKvE,GAxKAA,EAAgB,UAAW,CAC1B,UAAW,MAAM,WACjB,yBAA0B,GAC1B,YAAa,iBACb,mBAAoB,GACpB,UAAW,GACX,MAAO,YACV,GACE,KAAK,qBAAsBxF,EAAE,KAAK,EAAG,SAAW,EAAEwF,EAAiBF,GACnEE,EAAgB,WAAY,IAG5BA,EAAkB,OAAO,iBAAkB,aAAa,WAAW,EACnEA,EAAgB,UAAW,CAC1B,UAAW,MAAM,eACjB,yBAA0B,GAC1B,YAAa,sBACb,mBAAoB,GACpB,MAAO,kBACP,mBAAsB,SAAUjD,EAAO,CACtC,OAAO7B,EAAM,mBAAoB6B,EACrC,EACG,UAAW,EACd,GACE,KAAK,qBAAsBvC,EAAE,KAAK,EAAG,cAAgB,EAAEwF,EAAiBF,GAGxEE,EAAkB,OAAO,iBAAkB,aAAa,SAAS,EACjEA,EAAgB,UAAW,CAAE,MAAO,WAAa,GACjDA,EAAgB,cAAe9E,EAAM,cACrC,KAAK,qBAAsBV,EAAE,KAAK,EAAG,QAAU,EAAEwF,EAAiBF,GAGlEE,EAAkB,OAAO,iBAAkB,aAAa,UAAU,EAClEA,EAAgB,WAAY,CAAE,MAAO,aAAc,MAAO,GAAG,GAC7D,KAAK,qBAAsBxF,EAAE,KAAK,EAAG,YAAY,EAAIwF,EAAiBF,EAAsB,IAG5FE,EAAkB,OAAO,iBAAkB,aAAa,UAAU,EAClEA,EAAgB,WAAY,CAAE,MAAO,YAAa,MAAO,GAAG,GAC5D,KAAK,qBAAsBxF,EAAE,KAAK,EAAG,WAAa,EAAEwF,EAAiBF,GAGrEE,EAAkB,OAAO,iBAAkB,aAAa,UAAU,EAClEA,EAAgB,WAAY,CAAE,MAAO,kBAAmB,MAAO,EAAE,GACjE,KAAK,qBAAsBxF,EAAE,KAAK,EAAG,iBAAmB,EAAEwF,EAAiBF,GAG3EE,EAAkB,OAAO,iBAAkB,aAAa,WAAW,EACnEA,EAAgB,UAAW,CAC1B,UAAW,MAAM,qBACjB,yBAA0B,GAC1B,YAAa,4BACb,mBAAoB,GACpB,MAAO,wBACP,mBAAsB,SAAUjD,EAAO,CACtC,OAAO7B,EAAM,mBAAoB6B,EACrC,EACG,UAAW,EACd,GACE,KAAK,qBAAsBvC,EAAE,KAAK,EAAG,kBAAoB,EAAEwF,EAAiBF,GAG5EE,EAAkB,OAAO,iBAAkB,aAAa,WAAW,EACnEA,EAAgB,UAAW,CAC1B,UAAW,MAAM,qBACjB,yBAA0B,GAC1B,YAAa,6BACb,mBAAoB,GACpB,mBAAsB,SAAUjD,EAAO,CACtC,OAAO7B,EAAM,mBAAoB6B,EACrC,EACG,UAAW,GACX,MAAO,wBACV,GACE,KAAK,qBAAsBvC,EAAE,KAAK,EAAG,qBAAuB,EAAEwF,EAAiBF,GAG/EE,EAAkB,OAAO,iBAAkB,aAAa,WAAW,EACnEA,EAAgB,UAAW,CAC1B,UAAW,MAAM,eACjB,yBAA0B,GAC1B,YAAa,sBACb,mBAAsB,SAAUjD,EAAO,CACtC,OAAO7B,EAAM,mBAAoB6B,EACrC,EACG,mBAAoB,GACpB,UAAW,GACX,MAAO,iBACV,GACE,KAAK,qBAAsBvC,EAAE,KAAK,EAAG,cAAgB,EAAEwF,EAAiBF,GAEnE,KAAK,SACTE,EAAkB,OAAO,iBAAkB,aAAa,WAAW,EACnEA,EAAgB,UAAW,CAC1B,MAAO,wBACP,UAAW,MAAM,oCACjB,yBAA0B,GAC1B,YAAa,oCACb,mBAAoB,GACpB,UAAW,EACf,GACG,KAAK,qBAAsBxF,EAAE,KAAK,EAAG,oBAAoB,EAAIwF,EAAiBF,EAAsB,eAIrGE,EAAkB,OAAO,iBAAkB,aAAa,WAAW,EACnEA,EAAgB,UAAW,CAC1B,UAAW,MAAM,aACjB,yBAA0B,GAC1B,YAAa,mBACb,mBAAsB,SAAUjD,EAAO,CACtC,OAAO7B,EAAM,mBAAoB6B,EACrC,EACG,mBAAoB,GACpB,UAAW,GACX,MAAO,UACV,GACE,KAAK,qBAAsBvC,EAAE,KAAK,EAAG,OAAO,EAAIwF,EAAiBF,EAAsB,IAKvFE,EAAkB,OAAO,iBAAkB,aAAa,WAAW,EACnEA,EAAgB,UAAW,CAC1B,UAAW,MAAM,YACjB,yBAA0B,GAC1B,YAAa,kBACb,mBAAsB,SAAUjD,EAAO,CACtC,OAAO7B,EAAM,mBAAoB6B,EACrC,EACG,mBAAoB,GACpB,MAAO,cACP,UAAW,EACd,GACE,KAAK,qBAAsBvC,EAAE,KAAK,EAAG,UAAY,EAAEwF,EAAiBD,GAGpEC,EAAkB,OAAO,iBAAkB,aAAa,WAAW,EACnEA,EAAgB,UAAW,CAC1B,UAAW,MAAM,UACjB,yBAA0B,GAC1B,mBAAsB,SAAUjD,EAAO,CACtC,OAAO7B,EAAM,mBAAoB6B,EACrC,EACG,YAAa,gBACb,mBAAoB,GACpB,UAAW,GACX,MAAO,mBACV,GACE,KAAK,qBAAsBvC,EAAE,KAAK,EAAG,gBAAkB,EAAEwF,EAAiBD,GAG1EC,EAAkB,OAAO,iBAAkB,aAAa,WAAW,EACnEA,EAAgB,UAAW,CAC1B,UAAW,MAAM,cACjB,yBAA0B,GAC1B,YAAa,oBACb,mBAAsB,SAAUjD,EAAO,CACtC,OAAO7B,EAAM,mBAAoB6B,EACrC,EACG,mBAAoB,GACpB,UAAW,GACX,MAAO,uBACV,GACE,KAAK,qBAAsBvC,EAAE,KAAK,EAAG,oBAAsB,EAAEwF,EAAiBD,GAE9E,KAAK,eAAc,EACZ,OAAO,kBAAmB,GAAI,GAAO,CAE3CC,EAAkB,OAAO,iBAAkB,aAAa,WAAW,EAEnEA,EAAgB,UAAW,CAC1B,UAAW,MAAM,OACjB,yBAA0B,GAC1B,YAAa,aACb,mBAAsB,SAAUjD,EAAO,CACtC,OAAO7B,EAAM,mBAAoB6B,EACtC,EACI,mBAAoB,GACpB,UAAW,GACX,uBAAwB,CAAC,UAAU,EACnC,qBAAwB,SAAUkD,EAAM,CAElCA,GACJC,EAAU,SAAUD,EAAI,UAE9B,EACI,MAAO,gBACX,GAEG,IAAIE,EAA0B3F,EAAG,oCAE7B0F,EAAY,OAAO,iBAAkB,aAAa,UAAU,EAChEA,EAAU,WAAY,CAAE,MAAO,mBAAoB,oBAAqB,EAAI,GAC5EA,EAAU,SAAU,aAEpBC,EAAwB,OAAQD,GAChCC,EAAwB,OAAQH,GAChC,KAAK,qBAAsBxF,EAAE,KAAK,EAAG,aAAe,EAAE,CAACwF,EAAiBE,CAAS,EAAGH,EAAsB,GAAII,EAAyB,EAAI,EAErI,KAAK,aACV,KAAK,cAAe,kBAIrBH,EAAkB,OAAO,iBAAkB,aAAa,WAAW,EAEnEA,EAAgB,UAAW,CAC1B,UAAW,MAAM,WACjB,yBAA0B,GAC1B,YAAa,kBACb,mBAAsB,SAAUjD,EAAO,CACtC,OAAO7B,EAAM,mBAAoB6B,EACtC,EACI,mBAAoB,GACpB,UAAW,GACX,uBAAwB,CAAC,UAAU,EACnC,qBAAwB,SAAUkD,EAAM,CAClCA,GACJG,EAAe,SAAUH,EAAI,UAEnC,EACI,MAAO,qBACX,GAEG,IAAII,EAA2B7F,EAAG,oCAE9B4F,EAAiB,OAAO,iBAAkB,aAAa,UAAU,EACrEA,EAAe,WAAY,CAAE,MAAO,wBAAyB,oBAAqB,EAAI,GACtFA,EAAe,SAAU,aAEzBC,EAAyB,OAAQD,GACjCC,EAAyB,OAAQL,GACjC,KAAK,qBAAsBxF,EAAE,KAAK,EAAG,cAAgB,EAAE,CAACwF,EAAiBI,CAAc,EAAGL,EAAsB,GAAIM,EAA0B,EAAI,EAE5I,KAAK,kBACV,KAAK,cAAe,uBAIrBL,EAAkB,OAAO,iBAAkB,aAAa,WAAW,EAEnEA,EAAgB,UAAW,CAC1B,UAAW,MAAM,YACjB,yBAA0B,GAC1B,YAAa,mBACb,mBAAsB,SAAUjD,EAAO,CACtC,OAAO7B,EAAM,mBAAoB6B,EACtC,EACI,mBAAoB,GACpB,UAAW,GACX,uBAAwB,GACxB,qBAAwB,CAAEuD,EAAYC,IAAmB,CACnDD,GACJ,KAAK,gCAAiCA,EAAYC,EAExD,EACI,MAAO,sBACX,GAEG,IAAIC,EAAgChG,EAAG,oCAEnCiG,EAAkB,OAAO,iBAAkB,aAAa,UAAU,EACtEA,EAAgB,WAAY,CAAE,MAAO,yBAA0B,oBAAqB,EAAI,GACxFA,EAAgB,SAAU,aAE1BD,EAA8B,OAAQC,GACtCD,EAA8B,OAAQR,GACtC,KAAK,qBAAsBxF,EAAE,KAAK,EAAG,mBAAqB,EAAE,CAACwF,EAAiBS,CAAe,EAAGV,EAAsB,GAAIS,EAA+B,EAAI,EAEvJ,KAAK,mBACV,KAAK,cAAe,uBAErB,CAGDR,EAAkB,OAAO,iBAAkB,aAAa,WAAW,EACnEA,EAAgB,UAAW,CAC1B,UAAW,GACX,yBAA0B,GAC1B,YAAa,qBACb,UAAW,GACX,MAAO,UACV,GACEA,EAAgB,cAAe9E,EAAM,kBACrC,KAAK,qBAAsBV,EAAE,KAAK,EAAG,OAAS,EAAEwF,EAAiBD,GAGjEC,EAAkB,OAAO,iBAAkB,aAAa,WAAW,EACnEA,EAAgB,UAAW,CAC1B,UAAW,MAAM,eACjB,yBAA0B,GAC1B,YAAa,sBACb,mBAAsB,SAAUjD,EAAO,CACtC,OAAO7B,EAAM,mBAAoB6B,EACrC,EACG,mBAAoB,GACpB,MAAO,kBACP,UAAW,EACd,GACE,KAAK,qBAAsBvC,EAAE,KAAK,EAAG,WAAa,EAAEwF,EAAiBD,GAGrEC,EAAkB,OAAO,iBAAkB,aAAa,UAAU,EAClEA,EAAgB,WAAY,CAAE,MAAO,MAAO,MAAO,EAAE,GACrD,KAAK,qBAAsBxF,EAAE,KAAK,EAAG,WAAa,EAAEwF,EAAiBD,GAGrEC,EAAkB,OAAO,iBAAkB,aAAa,WAAW,EACnEA,EAAgB,YAAa,CAAE,MAAO,YAAc,GACpD,KAAK,qBAAsBxF,EAAE,KAAK,EAAG,YAAc,EAAEwF,EAAiBD,GAGtEC,EAAkB,OAAO,iBAAkB,aAAa,WAAW,EACnEA,EAAgB,YAAa,CAAE,MAAO,WAAa,GACnD,KAAK,qBAAsBxF,EAAE,KAAK,EAAG,WAAa,EAAEwF,EAAiBD,GAGrEC,EAAkB,OAAO,iBAAkB,aAAa,WAAW,EACnEA,EAAgB,YAAa,CAAE,MAAO,kBAAoB,GAC1D,KAAK,qBAAsBxF,EAAE,KAAK,EAAG,kBAAoB,EAAEwF,EAAiBD,GAG5EC,EAAkB,OAAO,iBAAkB,aAAa,SAAS,EACjEA,EAAgB,UAAW,CAAE,MAAO,MAAO,eAAgB,GAAG,GAC9D,KAAK,qBAAsBxF,EAAE,KAAK,EAAG,MAAM,EAAIwF,EAAiBD,EAAsB,GAAI,KAAM,KAAM,EAAI,EAG1G,IAAIW,EAAmB,KAAK,cAAc,KAAM,mBAAmB,EAC/DC,EAA2BD,EAAiB,KAAM,eAAe,EACjEE,EAA2BF,EAAiB,KAAM,gBAAgB,EAEtE,KAAK,eAAe,CAAC,EAAI,GACzB,KAAK,eAAe,CAAC,EAAE,KAAMC,CAAwB,EACrD,KAAK,eAAe,CAAC,EAAE,KAAMC,CAAwB,EAGhD,OAAO,SAAY,KACvBZ,EAAkB,OAAO,iBAAkB,aAAa,aAAa,EACrE,KAAK,aAAeA,EAAgB,cAAe,CAClD,MAAO,GACP,cAAe,IACf,eAAgB,IAChB,cAAe,EACnB,GAEG,KAAK,aAAa,KAAM,cAAe,SAAUa,EAAG1D,EAAS,CAC5D,IAAI,cAAa,EAAG,WAAYA,EAAO,SAAU,EAAE,oCAAsCjC,EAAM,oBAAoB,GAAI,CACtH,SAAU,SAAUL,EAAS,CAEvBA,EAAO,YAAa,IAAK,OAC7BK,EAAM,oBAAqBA,EAAM,cAEjC,cAAc,UAAWL,EAAQ,QAElC,CACN,EAEA,KAGGmF,EAAkB,OAAO,iBAAkB,aAAa,iBAAiB,EACzE,KAAK,aAAeA,EAAgB,iBAAkB,CACrD,MAAO,GACP,cAAe,IACf,eAAgB,IAChB,cAAe,GACf,SAAU,SAAUc,EAAY,CAC/B,IAAI,cAAe,EAAC,WAAYA,EAAW,oCAAsC5F,EAAM,oBAAoB,GAAI,CAC9G,SAAU,SAAUL,EAAS,CAEvBA,EAAO,YAAa,IAAK,OAC7BK,EAAM,oBAAqBA,EAAM,cAEjC,cAAc,UAAWL,EAAQ,QAElC,CACP,EAEK,EACD,mBAAoB,SAAUgG,EAAI,CACjC3F,EAAM,cAAe,IAAM,CAC1BA,EAAM,oBAAqBA,EAAM,aACvC,EACK,CACL,IAIO,KAAK,UACT,KAAK,aAAa,gBAAiB,IACnC,KAAK,aAAa,KAAM,cAAe,SAAU2F,EAAG1D,EAAS,CAC5DjC,EAAM,IAAI,YAAaA,EAAM,oBAAoB,GAAI,CACpD,SAAU,SAAUL,EAAS,CAC5BK,EAAM,cAAe,IAAM,CAC1BA,EAAM,oBAAqBA,EAAM,aACxC,EACM,CACN,EACA,IAGE,KAAK,qBAAsBV,EAAE,KAAK,EAAG,OAAS,EAAE,KAAK,aAAcmG,EAA0B,GAAI,KAAM,GAAO,EAAI,EAGlHX,EAAkB,OAAO,iBAAkB,aAAa,UAAU,EAClEA,EAAgB,WAAY,CAAE,MAAO,eAAgB,MAAO,GAAG,GAC/D,KAAK,qBAAsBxF,EAAE,KAAK,EAAG,YAAc,EAAEwF,EAAiBW,GAGtEX,EAAkB,OAAO,iBAAkB,aAAa,UAAU,EAClEA,EAAgB,WAAY,CAAE,MAAO,cAAe,MAAO,GAAG,GAC9D,KAAK,qBAAsBxF,EAAE,KAAK,EAAG,aAAe,EAAEwF,EAAiBW,GAGvEX,EAAkB,OAAO,iBAAkB,aAAa,UAAU,EAClEA,EAAgB,WAAY,CAAE,MAAO,cAAe,MAAO,GAAG,GAC9D,KAAK,qBAAsBxF,EAAE,KAAK,EAAG,WAAa,EAAEwF,EAAiBW,GAGrEX,EAAkB,OAAO,iBAAkB,aAAa,UAAU,EAClEA,EAAgB,WAAY,CAAE,MAAO,WAAY,MAAO,MAAM,GAC9D,KAAK,qBAAsBxF,EAAE,KAAK,EAAG,uBAAyB,EAAEwF,EAAiBW,GACjFX,EAAgB,OAAM,EAAG,MAAO,KAAK,EAGrCA,EAAkB,OAAO,iBAAkB,aAAa,UAAU,EAClEA,EAAgB,WAAY,CAAE,MAAO,WAAY,MAAO,MAAM,GAC9D,KAAK,qBAAsBxF,EAAE,KAAK,EAAG,uBAAyB,EAAEwF,EAAiBW,GACjFX,EAAgB,OAAM,EAAG,MAAO,KAAK,EAGrCA,EAAkB,OAAO,iBAAkB,aAAa,UAAU,EAClEA,EAAgB,WAAY,CAAE,MAAO,OAAQ,MAAO,GAAG,GACvD,KAAK,qBAAsBxF,EAAE,KAAK,EAAG,MAAQ,EAAEwF,EAAiBW,GAGhEX,EAAkB,OAAO,iBAAkB,aAAa,SAAS,EACjEA,EAAgB,UAAW,CAAE,MAAO,UAAW,UAAW,EAAI,GAC9DA,EAAgB,cAAe9E,EAAM,eACrC,KAAK,qBAAsBV,EAAE,KAAK,EAAG,SAAW,EAAEwF,EAAiBW,GAGnEX,EAAkB,OAAO,iBAAkB,aAAa,SAAS,EACjEA,EAAgB,UAAW,CAAE,MAAO,UAAY,GAChDA,EAAgB,cAAe,IAC/B,KAAK,qBAAsBxF,EAAE,KAAK,EAAG,gBAAkB,EAAEwF,EAAiBW,GAG1EX,EAAkB,OAAO,iBAAkB,aAAa,UAAU,EAClEA,EAAgB,WAAY,CAAE,MAAO,cAAe,MAAO,GAAG,GAC9D,KAAK,qBAAsBxF,EAAE,KAAK,EAAG,iBAAiB,EAAIwF,EAAiBW,EAA0B,IAKrGX,EAAkB,OAAO,iBAAkB,aAAa,SAAS,EACjEA,EAAgB,UAAW,CAAE,MAAO,QAAU,GAC9CA,EAAgB,cAAe9E,EAAM,WACrC,KAAK,qBAAsBV,EAAE,KAAK,EAAG,QAAU,EAAEwF,EAAiBY,GAGlEZ,EAAkB,OAAO,iBAAkB,aAAa,UAAU,EAClEA,EAAgB,WAAY,CAAE,MAAO,aAAc,MAAO,GAAG,GAC7D,KAAK,qBAAsBxF,EAAE,KAAK,EAAG,YAAY,EAAIwF,EAAiBY,EAA0B,IAGhGZ,EAAkB,OAAO,iBAAkB,aAAa,UAAU,EAClEA,EAAgB,WAAY,CAAE,MAAO,gBAAkB,GACvDA,EAAgB,IAAK,QAAS,MAC9B,KAAK,qBAAsBxF,EAAE,KAAK,EAAG,gBAAkB,EAAEwF,EAAiBY,GAG1EZ,EAAkB,OAAO,iBAAkB,aAAa,UAAU,EAClEA,EAAgB,WAAY,CAAE,MAAO,aAAc,MAAO,GAAG,GAC7D,KAAK,qBAAsBxF,EAAE,KAAK,EAAG,YAAc,EAAEwF,EAAiBY,GAGtEZ,EAAkB,OAAO,iBAAkB,aAAa,UAAU,EAClEA,EAAgB,WAAY,CAAE,MAAO,eAAgB,MAAO,GAAG,GAC/D,KAAK,qBAAsBxF,EAAE,KAAK,EAAG,cAAgB,EAAEwF,EAAiBY,GAGxEZ,EAAkB,OAAO,iBAAkB,aAAa,UAAU,EAClEA,EAAgB,WAAY,CAAE,MAAO,YAAa,MAAO,GAAG,GAC5D,KAAK,qBAAsBxF,EAAE,KAAK,EAAG,KAAO,EAAEwF,EAAiBY,GAG/DZ,EAAkB,OAAO,iBAAkB,aAAa,UAAU,EAClEA,EAAgB,WAAY,CAAE,MAAO,aAAc,MAAO,GAAG,GAC7D,KAAK,qBAAsBxF,EAAE,KAAK,EAAG,cAAgBwF,EAAiBY,EAA0B,GAAI,KAAM,EAAI,EAG9GZ,EAAkB,OAAO,iBAAkB,aAAa,UAAU,EAClEA,EAAgB,WAAY,CAAE,MAAO,aAAc,MAAO,GAAG,GAC7D,KAAK,qBAAsBxF,EAAE,KAAK,EAAG,cAAgBwF,EAAiBY,EAA0B,GAAI,KAAM,EAAI,EAG9GZ,EAAkB,OAAO,iBAAkB,aAAa,SAAS,EACjEA,EAAgB,UAAW,CAAE,MAAO,OAAQ,MAAO,OAAQ,KAAM,CAAC,GAClE,KAAK,qBAAsBxF,EAAE,KAAK,EAAG,MAAM,EAAIwF,EAAiBY,EAA0B,GAAI,KAAM,KAAM,EAAI,EAC9GZ,EAAgB,OAAM,EAAG,MAAO,KAAK,EAGrC,IAAIe,EAAgB,KAAK,cAAc,KAAM,gBAAgB,EACzDC,EAAwBD,EAAc,KAAM,eAAe,EAK/D,GAHA,KAAK,eAAe,CAAC,EAAI,GACzB,KAAK,eAAe,CAAC,EAAE,KAAMC,CAAqB,EAE7C,KAAK,8BAAgC,CACzC,IAAInG,EAAS,KAAK,oBAAoB,2BAA4B,CAAE,MAAO,EAAK,GAGhF,GAFAK,EAAM,sBAAwB,GAEzBL,EAAS,CACb,IAAIuD,EAAOvD,EAAO,YAClB,QAAUY,KAAO2C,EACX,SAAU3C,KAAU,KAAO,OAAO,kBAAmB,GAAI,KAG9DP,EAAM,sBAAsBO,CAAG,EAAI,OAAO,iBAAkB2C,EAAK3C,CAAG,GAErE,CAEIlB,EAAE,KAAMW,EAAM,qBAAqB,EAAK,EAC5CA,EAAM,eAAiB,GAEvBA,EAAM,eAAiB,EAExB,CAED,GAAK,KAAK,gBAAkB,KAAK,mBAAqB,CACrD,KAAK,cAAc,KAAM,kBAAmB,KAAM,eAAe,EAAG,IAAK,UAAW,SACpF,KAAK,cAAc,KAAM,kBAAmB,KAAM,gBAAgB,EAAG,IAAK,UAAW,QAErF,QADIC,EAAM,KAAK,mBAAmB,OACxBQ,EAAI,EAAGA,EAAIR,EAAKQ,IAAM,CAC/B,IAAIsF,EAAW,KAAK,mBAAmBtF,CAAC,EACpCrB,EAAU,KAAK,sBAAsB2G,EAAS,EAAE,EAC/C3G,IACJ0F,EAAkB,OAAO,iBAAkB,aAAa,SAAS,EACjEA,EAAgB,UAAW,CAAE,MAAOiB,EAAS,EAAI,GACjDjB,EAAgB,cAAe1F,GAC/B,KAAK,qBAAsB2G,EAAS,MAAOjB,EAAiBgB,CAAqB,EAElF,CACJ,MACG,KAAK,cAAc,KAAM,kBAAmB,KAAM,eAAe,EAAG,IAAK,UAAW,QACpF,KAAK,cAAc,KAAM,gBAAkB,EAAC,KAAM,gBAAkB,EAAC,eAAgB,CAAE,wBAAyB,IAAM,GACtH,KAAK,cAAc,KAAM,kBAAmB,KAAM,gBAAgB,EAAG,IAAK,UAAW,SAItF,IAAIE,EAAY,KAAK,cAAc,KAAM,YAAY,EACjDC,EAAoBD,EAAU,KAAM,eAAe,EACnDE,EAAoBF,EAAU,KAAM,gBAAgB,EAExD,KAAK,eAAe,CAAC,EAAI,GACzB,KAAK,eAAe,CAAC,EAAE,KAAMC,CAAiB,EAC9C,KAAK,eAAe,CAAC,EAAE,KAAMC,CAAiB,EAG9CpB,EAAkB,OAAO,iBAAkB,aAAa,QAAQ,EAChEA,EAAgB,UAAW,CAAE,MAAO,cAAgB,GACpD,KAAK,qBAAsBxF,EAAE,KAAK,EAAG,iBAAmB,EAAEwF,EAAiBmB,GAE3E,IAAInB,EAAkB,OAAO,iBAAkB,aAAa,SAAS,EAoBrE,GAnBAA,EAAgB,UAAW,CAAE,MAAO,aAAe,GACnDA,EAAgB,cAAe9E,EAAM,gBACrC,KAAK,qBAAsBV,EAAE,KAAK,EAAG,8BAAgCwF,EAAiBmB,EAAmB,KAAM,KAAM,EAAI,EAGzHnB,EAAkB,OAAO,iBAAkB,aAAa,UAAU,EAClEA,EAAgB,WAAY,CAAE,MAAO,YAAa,MAAO,GAAG,GAC5D,KAAK,qBAAsBxF,EAAE,KAAK,EAAG,WAAa,EAAEwF,EAAiBmB,GAGrEnB,EAAkB,OAAO,iBAAkB,aAAa,cAAc,EACtEA,EAAgB,WAAY,CAAE,MAAO,WAAY,MAAO,GAAG,GAC3D,KAAK,qBAAsBxF,EAAE,KAAK,EAAG,iBAAmB,EAAEwF,EAAiBmB,GAG3EnB,EAAkB,OAAO,iBAAkB,aAAa,cAAc,EACtEA,EAAgB,WAAY,CAAE,MAAO,mBAAoB,MAAO,GAAG,GACnE,KAAK,qBAAsBxF,EAAE,KAAK,EAAG,kBAAoB,EAAEwF,EAAiBmB,GAEvE,OAAO,kBAAmB,EAAG,GAAK,CAEtCnB,EAAkB,OAAO,iBAAkB,aAAa,UAAU,EAClEA,EAAgB,WAAY,CAAE,MAAO,WAAY,MAAO,EAAE,GAC1D,IAAIqB,EAA6B7G,EAAG,oCACpC6G,EAA2B,OAAQrB,GACnCqB,EAA2B,OAAQ7G,EAAG,sCAA0CA,EAAE,KAAK,EAAG,UAAU,EAAK,WAAW,GACpH,KAAK,qBAAsBA,EAAE,KAAK,EAAG,gBAAkB,EAAEwF,EAAiBoB,EAAmB,GAAIC,CAA0B,EAG3HrB,EAAkB,OAAO,iBAAkB,aAAa,UAAU,EAClEA,EAAgB,WAAY,CAAE,MAAO,iBAAkB,MAAO,EAAE,GAChE,KAAK,qBAAsBxF,EAAE,KAAK,EAAG,sBAAwB,EAAEwF,EAAiBoB,EAChF,CAGDpB,EAAkB,OAAO,iBAAkB,aAAa,WAAW,EACnEA,EAAgB,YAAa,CAAE,MAAO,mBAAqB,GAC3D,IAAIsB,EAAgC9G,EAAG,oCACvC8G,EAA8B,OAAQtB,GACtCsB,EAA8B,OAAQ9G,EAAG,sCAA0CA,EAAE,KAAK,EAAG,6BAA6B,EAAK,WAAW,GAC1I,KAAK,qBAAsBA,EAAE,KAAK,EAAG,qBAAuB,EAAEwF,EAAiBoB,EAAmB,GAAIE,CAA6B,EAGnItB,EAAkB,OAAO,iBAAkB,aAAa,WAAW,EACnEA,EAAgB,UAAW,CAC1B,UAAW,MAAM,qBACjB,yBAA0B,GAC1B,YAAa,4BACb,mBAAoB,GACpB,MAAO,mCACP,mBAAsB,SAAUjD,EAAO,CACtC,OAAO7B,EAAM,mBAAoB6B,EACrC,EACG,UAAW,EACd,GACE,KAAK,qBAAsBvC,EAAE,KAAK,EAAG,6BAA+B,EAAEwF,EAAiBoB,GAEvF,UAAU,QAAS,mBAAoB,eACvC,CAED,0BAA2B,CAC1B,IAAIG,EAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAqBpB,OAAOA,CACP,CAED,YAAatB,EAAKuB,EAAI,CACrB,IAAItG,EAAQ,KAEP,CAAC+E,GAAOA,IAAQ,MAAQA,IAAQ,KACpC/E,EAAM,eAAiB,GACvB,KAAK,wBAAwB,SAAY,cAAe,CAAE,IAG1D,KAAK,YAAY,WAAY,WAAY+E,EAAK,CAC7C,SAAU,SAAUvE,EAAM,CACzBA,EAAMA,EAAI,YACJA,IACLA,EAAM,IAGPR,EAAM,eAAiB,OAAO,iBAAkBQ,CAAG,EACnDR,EAAM,wBAAwB,SAAY,cAAeA,EAAM,eAE/D,CACL,EAEE,CAED,aAAc+E,EAAKwB,EAAU,CAC5B,IAAIvG,EAAQ,KACRwG,EAAkBxG,EAAM,iBAAiB,SAExC,CAAC+E,GAAOA,IAAQ,MAAQA,IAAQ,KACpC/E,EAAM,iBAAmB,GACzBwG,EAAgB,cAAe,KAG/B,KAAK,YAAY,WAAY,WAAYzB,EAAK,CAC7C,SAAU,SAAUvE,EAAM,CACzBA,EAAMA,EAAI,YACJA,IACLA,EAAM,IAEPR,EAAM,iBAAmB,OAAO,iBAAkBQ,CAAG,EAEhD+F,GAAWvG,EAAM,iBAAiB,OAAS,IAC/CA,EAAM,oBAAoB,SAAWA,EAAM,iBAAiB,CAAC,EAAE,MAC/DwG,EAAgB,SAAUxG,EAAM,oBAAoB,QAAQ,GAG7DwG,EAAgB,cAAexG,EAAM,iBAErC,CACL,EAEE,CAED,2BAA4B,CAE3B,GAAK,KAAK,aAAa,kBAAiB,IAAO,EAAI,CAClD,IAAIyG,EAAQ,KAAK,wBAAwB,QACrCC,EAAeD,EAAM,WACzB,KAAK,YAAaC,EAClB,CACD,CAED,wBAAyB,CACE,KAAK,aAAa,KAAM,mBAAsB,CACxE,CAED,sBAAuB,CAEtB,KAAK,wBAAwB,QAAW,OAAQpH,EAAE,MAAO,UAAW,CACnE,IAAImH,EAAQ,KAAK,wBAAwB,QACrCE,EAAYF,EAAM,WAEtB,KAAK,YAAaE,GAElB,KAAK,wBAAwB,SAAY,SAAU,IAAI,CAE1D,EAAK,IAAM,EACT,CAED,mBAAoB,CAEnB,MAAM,kBAAiB,EAEvB,IAAI3G,EAAQ,KACZ,KAAK,cAAgB,CACpB,IAAI,YAAa,CAChB,MAAOV,EAAE,KAAK,EAAG,SAAW,EAC5B,UAAW,EACX,MAAO,aACP,YAAa,iBACb,UAAW,MAAM,WACjB,SAAU,GACV,mBAAoB,OAAO,aAC3B,aAAc,oBAAkB,wBAAyB,WAAa,EACtE,WAAY,oBAAkB,wBAAyB,WAAa,EACpE,eAAgB,aAAa,WACjC,CAAM,EACH,IAAI,YAAa,CAChB,MAAOA,EAAE,KAAK,EAAG,cAAgB,EACjC,UAAW,EACX,MAAO,kBACP,YAAa,sBACb,UAAW,MAAM,eACjB,SAAU,GACV,mBAAoB,OAAO,SAC3B,aAAc,GACd,WAAY,GACZ,eAAgB,aAAa,WACjC,CAAM,EACH,IAAI,YAAa,CAChB,MAAOA,EAAE,KAAK,EAAG,QAAU,EAC3B,UAAW,EACX,MAAO,YACP,SAAU,GACV,aAAc,GACd,WAAY,GACZ,YAAa,uBACb,eAAgB,aAAa,WACjC,CAAM,EACH,IAAI,YAAa,CAChB,MAAOA,EAAE,KAAK,EAAG,YAAc,EAC/B,UAAW,EACX,MAAO,aACP,aAAc,GACd,WAAY,GACZ,eAAgB,aAAa,UACjC,CAAM,EACH,IAAI,YAAa,CAChB,MAAOA,EAAE,KAAK,EAAG,WAAa,EAC9B,MAAO,YACP,aAAc,GACd,WAAY,GACZ,UAAW,EACX,eAAgB,aAAa,UACjC,CAAM,EACH,IAAI,YAAa,CAChB,MAAOA,EAAE,KAAK,EAAG,iBAAmB,EACpC,MAAO,kBACP,aAAc,GACd,WAAY,GACZ,UAAW,EACX,eAAgB,aAAa,UACjC,CAAM,EACH,IAAI,YAAa,CAChB,MAAOA,EAAE,KAAK,EAAG,OAAS,EAC1B,MAAO,YACP,aAAc,GACd,WAAY,GACZ,UAAW,EACX,eAAgB,aAAa,UACjC,CAAM,EAEH,IAAI,YAAa,CAChB,MAAOA,EAAE,KAAK,EAAG,OAAS,EAC1B,MAAO,YACP,aAAc,GACd,WAAY,GACZ,UAAW,EACX,eAAgB,aAAa,UACjC,CAAM,EAEH,IAAI,YAAa,CAChB,MAAOA,EAAE,KAAK,EAAG,MAAQ,EACzB,MAAO,MACP,aAAc,GACd,WAAY,GACZ,UAAW,EACX,eAAgB,IAChB,eAAgB,aAAa,SACjC,CAAM,EACH,IAAI,YAAa,CAChB,MAAOA,EAAE,KAAK,EAAG,QAAU,EAC3B,UAAW,EACX,MAAO,SACP,SAAU,GACV,aAAc,GACd,WAAY,GACZ,YAAa,uBACb,eAAgB,aAAa,WACjC,CAAM,EACH,IAAI,YAAa,CAChB,MAAOA,EAAE,KAAK,EAAG,OAAS,EAC1B,UAAW,EACX,SAAU,GACV,MAAO,WACP,YAAa,qBACb,UAAW,GACX,aAAc,GACd,WAAY,GACZ,eAAgB,aAAa,WACjC,CAAM,EACH,IAAI,YAAa,CAChB,MAAOA,EAAE,KAAK,EAAG,gBAAkB,EACnC,UAAW,EACX,MAAO,oBACP,YAAa,gBACb,UAAW,MAAM,UACjB,SAAU,GACV,aAAc,GACd,WAAY,GACZ,mBAAsB,SAAUuC,EAAO,CACtC,OAAO7B,EAAM,mBAAoB6B,EACtC,EACI,eAAgB,aAAa,WACjC,CAAM,EACH,IAAI,YAAa,CAChB,MAAOvC,EAAE,KAAK,EAAG,oBAAsB,EACvC,MAAO,wBACP,UAAW,EACX,YAAa,oBACb,UAAW,MAAM,cACjB,SAAU,GACV,aAAc,GACd,WAAY,GACZ,mBAAsB,SAAUuC,EAAO,CACtC,OAAO7B,EAAM,mBAAoB6B,EACtC,EACI,eAAgB,aAAa,WACjC,CAAM,EACH,IAAI,YAAa,CAChB,MAAOvC,EAAE,KAAK,EAAG,cAAgB,EACjC,MAAO,kBACP,UAAW,EACX,YAAa,sBACb,UAAW,MAAM,eACjB,SAAU,GACV,aAAc,GACd,WAAY,GACZ,eAAgB,aAAa,WACjC,CAAM,EACH,IAAI,YAAa,CAChB,MAAOA,EAAE,KAAK,EAAG,OAAS,EAC1B,MAAO,WACP,UAAW,EACX,YAAa,mBACb,UAAW,MAAM,aACjB,SAAU,GACV,aAAc,GACd,WAAY,GACZ,mBAAsB,SAAUuC,EAAO,CACtC,OAAO7B,EAAM,mBAAoB6B,EACtC,EACI,eAAgB,aAAa,WACjC,CAAM,EACH,IAAI,YAAa,CAChB,MAAOvC,EAAE,KAAK,EAAG,SAAW,EAC5B,UAAW,EACX,MAAO,UACP,SAAU,GACV,aAAc,GACd,WAAY,GACZ,YAAa,uBACb,eAAgB,aAAa,SACjC,CAAM,EACH,IAAI,YAAa,CAChB,MAAOA,EAAE,KAAK,EAAG,gBAAkB,EACnC,UAAW,EACX,MAAO,WACP,SAAU,GACV,aAAc,GACd,WAAY,GACZ,YAAa,uBACb,eAAgB,aAAa,WACjC,CAAM,EACH,IAAI,YAAa,CAChB,MAAOA,EAAE,KAAK,EAAG,MAAQ,EACzB,MAAO,OACP,aAAc,GACd,WAAY,GACZ,UAAW,EACX,eAAgB,aAAa,UACjC,CAAM,EACH,IAAI,YAAa,CAChB,MAAOA,EAAE,KAAK,EAAG,SAAW,EAC5B,MAAO,MACP,aAAc,GACd,WAAY,GACZ,UAAW,EACX,eAAgB,aAAa,UACjC,CAAM,CACN,CACE,CAED,mBAAoBuC,EAAO,CAE1B,OAAMA,EAICA,EAAK,YAGVA,EAAK,YAAY,WAAa,KAAK,kBAFnCA,EAAK,YAAc,CAAE,WAAY,KAAK,iBAAiB,EAJxDA,EAAO,CAAE,YAAa,CAAE,WAAY,KAAK,iBAAiB,GAUpDA,CACP,CAED,oBAAqBhC,EAAW,CAE/BP,EAAG,4BAA6B,SAChC,MAAM,oBAAqBO,EAC3B,CAED,mCAAoC+G,EAAeC,EAAwB,CAC1E,OAAKD,GAAiB,OACrBA,EAAgB,IAEjBA,EAAc,WAAa,GAC3BA,EAAc,SAAW,GACzBA,EAAc,UAAY,GACnB,KAAK,oCAAqCA,EAAeC,CAAqB,CACrF,CAED,uBAAwB,CACvB,GAAK,CAAC,KAAK,qBAAuB,CAAC,KAAK,oBAAoB,QAC3D,MAAO,GAGR,IAAIC,EAAc,CACjB,UAAW,GACX,QAAS,KAAK,oBAAoB,GAClC,cAAe,KAAK,oBAAoB,SACxC,UAAW,KAAK,oBAAoB,kBACpC,cAAe,KAAK,oBAAoB,sBACxC,OAAQ,KAAK,oBAAoB,eACjC,YAAa,KAAK,oBAAoB,mBACzC,EAEE,OAAOA,CACP,CAED,oBAAqBC,EAAe,CACnC,IAAIC,EAAY,cAAc,mBAAoB,YAAc,EAAG,cAAgB,KAAK,oBAAoB,GAAK,eAAiB,OAAO,aAAY,EACrJD,EAAa,SAAUC,GACvB,KAAK,UAAU,KAAM,YAAa,wBAAyB,CAC1D,UAAWA,CACd,EACE,CAED,qBAAsB,CACrB,MAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAcP,CAEF","names":["EmployeeViewController","options","_","$","TTEventBus","context_menu_model","id","$this_obj","result","doNext","callBack","filter","result_data","$this","len","complete_count","option_result","res_1","data_1","array","key","res","i","option_info","onGetOptionResult","context_btn","grid_selected_length","pId","tab_qualifications","firstColumn","beforeLoadView","afterLoadUserSkillView","afterLoadUserEducationView","afterLoadUserMembershipView","afterLoadUserLicenseView","afterLoadUserLanguageView","subViewController","tab_employee","afterLoadView","tab_payment_methods","tab_applications","tpl","args","first_name_widget","last_name_widget","user_name_widget","target","doNotValidate","widget","p_id","selected_item","tab","retval","dont_set_dic","brother","h_key","value","punch_tag_widget","span","work_email","home_email","checkEmail","system_job_queue","data","choices","selection","default_id","grid_selected_id_array","index","result1","set_default_menu","page_action","page_number","ids","grid_source_data","found","new_record","record","current_data","cells","__vitePreload","module","processed_data_for_map","iconName","user_ids","base_date","grid_selected_row","include_users","tab_model","tab_employee_column1","tab_employee_column2","form_item_input","val","job_coder","default_job_description","job_item_coder","default_task_description","punch_tags","get_real_data","default_punch_tag_description","punch_tag_coder","tab_contact_info","tab_contact_info_column1","tab_contact_info_column2","e","form_data","tab_hierarchy","tab_hierarchy_column1","ui_model","tab_login","tab_login_column1","tab_login_column2","quick_punch_id_description","login_expire_date_description","html_template","m","refresh","province_widget","combo","select_value","selectVal","column_filter","enable_system_columns","filter_data","file_browser","image_url"],"ignoreList":[],"sources":["../../views/employees/employee/EmployeeViewController.js"],"sourcesContent":["import '@/global/widgets/filebrowser/TImage';\nimport '@/global/widgets/filebrowser/TImageAdvBrowser';\nimport TTEventBus from '@/services/TTEventBus';\n\nexport class EmployeeViewController extends BaseViewController {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {\n\t\t\tel: '#employee_view_container', //Must set el here and can only set string, so events can work\n\n\t\t\t// _required_files: {\n\t\t\t// \t10: ['TImage', 'TImageAdvBrowser'],\n\t\t\t// \t15: ['leaflet', 'leaflet-timetrex'],\n\t\t\t// },\n\n\t\t\tuser_api: null,\n\t\t\tuser_group_api: null,\n\t\t\tpunch_tag_api: null,\n\t\t\tcompany_api: null,\n\t\t\thierarchyControlAPI: null,\n\t\t\tredurring_schedule_control_api: null,\n\t\t\tstatus_array: null,\n\t\t\tmfa_type_array: null,\n\t\t\tsex_array: null,\n\t\t\tuser_group_array: null,\n\t\t\tcountry_array: null,\n\t\t\tprovince_array: null,\n\t\t\te_province_array: null,\n\n\t\t\tdefault_punch_tag: [],\n\t\t\tprevious_punch_tag_selection: [],\n\n\t\t\tsub_wage_view_controller: null,\n\t\t\tsub_user_contact_view_controller: null,\n\t\t\tsub_accrual_policy_user_modifier_view_controller: null,\n\t\t\tsub_log_view_controller: null,\n\t\t\tsub_company_tax_view_controller: null,\n\t\t\tsub_job_application_view_controller: null,\n\t\t\tsub_user_skill_view_controller: null,\n\t\t\tsub_user_education_view_controller: null,\n\t\t\tsub_user_membership_view_controller: null,\n\t\t\tsub_user_license_view_controller: null,\n\t\t\tsub_user_language_view_controller: null,\n\t\t\tsub_user_review_control_view_controller: null,\n\n\t\t\tsub_payment_methods_view_controller: null,\n\n\t\t\thierarchy_options_dic: null,\n\t\t\thierarchy_ui_model: null,\n\t\t\tshow_hierarchy: false,\n\t\t\tselect_company_id: null,\n\n\t\t\tsub_view_grid_autosize: true,\n\t\t\tevents: {}\n\t\t} );\n\n\t\tsuper( options );\n\t}\n\n\tinit( options ) {\n\t\t//super.initialize( options );\n\n\t\tthis.edit_view_tpl = 'EmployeeEditView.html';\n\t\tthis.permission_id = 'user';\n\t\tthis.viewId = 'Employee';\n\t\tthis.script_name = 'EmployeeView';\n\t\tthis.table_name_key = 'users';\n\t\tthis.document_object_type_id = 100;\n\t\tthis.context_menu_name = $.i18n._( 'Employees' );\n\t\tthis.navigation_label = $.i18n._( 'Employee' );\n\t\tthis.api = TTAPI.APIUser;\n\t\tthis.api_user_default = TTAPI.APIUserDefault;\n\t\tthis.select_company_id = LocalCacheData.getCurrentCompany().id;\n\n\t\tif ( ( Global.getProductEdition() >= 20 ) ) {\n\t\t\tthis.job_api = TTAPI.APIJob;\n\t\t\tthis.job_item_api = TTAPI.APIJobItem;\n\t\t\tthis.punch_tag_api = TTAPI.APIPunchTag;\n\t\t}\n\t\tthis.user_group_api = TTAPI.APIUserGroup;\n\t\tthis.company_api = TTAPI.APICompany;\n\t\tthis.hierarchyControlAPI = TTAPI.APIHierarchyControl;\n\t\tthis.redurring_schedule_control_api = TTAPI.APIRecurringScheduleControl;\n\t\tthis.event_bus = new TTEventBus({ view_id: this.viewId });\n\n\t\tthis.render();\n\n\t\tthis.buildContextMenu();\n\t\tthis.initData();\n\t}\n\n\tjobUIValidate() {\n\t\tif ( PermissionManager.validate( 'job', 'enabled' ) &&\n\t\t\t( PermissionManager.validate( 'job', 'view' ) ||\n\t\t\t\tPermissionManager.validate( 'job', 'view_child' ) ||\n\t\t\t\tPermissionManager.validate( 'job', 'view_own' ) ) ) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tjobItemUIValidate() {\n\n\t\tif ( PermissionManager.validate( 'job_item', 'enabled' ) &&\n\t\t\t( PermissionManager.validate( 'job_item', 'view' ) ||\n\t\t\t\tPermissionManager.validate( 'job_item', 'view_child' ) ||\n\t\t\t\tPermissionManager.validate( 'job_item', 'view_own' ) ) ) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tpunchTagUIValidate() {\n\n\t\tif ( PermissionManager.validate( 'punch_tag', 'enabled' ) &&\n\t\t\t( PermissionManager.validate( 'punch_tag', 'view' ) ||\n\t\t\t\tPermissionManager.validate( 'punch_tag', 'view_child' ) ||\n\t\t\t\tPermissionManager.validate( 'punch_tag', 'view_own' ) ) ) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\t//Speical permission check for views, need override\n\tinitPermission() {\n\t\tsuper.initPermission();\n\n\t\tif ( this.jobUIValidate() ) {\n\t\t\tthis.show_job_ui = true;\n\t\t} else {\n\t\t\tthis.show_job_ui = false;\n\t\t}\n\n\t\tif ( this.jobItemUIValidate() ) {\n\t\t\tthis.show_job_item_ui = true;\n\t\t} else {\n\t\t\tthis.show_job_item_ui = false;\n\t\t}\n\n\t\tif ( this.punchTagUIValidate() ) {\n\t\t\tthis.show_punch_tag_ui = true;\n\t\t} else {\n\t\t\tthis.show_punch_tag_ui = false;\n\t\t}\n\t}\n\n\t// parseContextMenuEditViewAttributes() {\n\t// // Overriding BaseView. This code is an example in case the tab context menu needs to be INSIDE the tab, without a context menu for the main employee records.\n\t// \t// e.g. tab_hierarchy_content_div\n\t// \tvar active_tab_name = this.getEditViewActiveTabName();\n\t// \tif( active_tab_name !== false ) {\n\t// \t\treturn {\n\t// \t\t\tparent_mount_point: $( '#'+ active_tab_name + '_content_div' ),\n\t// \t\t\t_parent_type: 'editview_tab_contextmenu',\n\t// \t\t\t_parent_id: this.ui_id + '_' + active_tab_name\n\t// \t\t}\n\t// \t} else {\n\t// \t\treturn super.parseContextMenuEditViewAttributes();\n\t// \t}\n\t// }\n\n\tgetCustomContextMenuModel() {\n\t\tvar context_menu_model = {\n\t\t\t'exclude': ['copy'],\n\t\t\t'include': [\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'Map' ),\n\t\t\t\t\tid: 'map',\n\t\t\t\t\tmenu_align: 'right',\n\t\t\t\t\tvue_icon: 'tticon tticon-map_black_24dp',\n\t\t\t\t\tsort_order: 2000\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'Import' ),\n\t\t\t\t\tid: 'import_icon',\n\t\t\t\t\tmenu_align: 'right',\n\t\t\t\t\taction_group: 'import_export',\n\t\t\t\t\tgroup: 'other',\n\t\t\t\t\tvue_icon: 'tticon tticon-file_download_black_24dp',\n\t\t\t\t\tsort_order: 9010\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'Jump To' ),\n\t\t\t\t\tid: 'jump_to_header',\n\t\t\t\t\tmenu_align: 'right',\n\t\t\t\t\taction_group: 'jump_to',\n\t\t\t\t\taction_group_header: true,\n\t\t\t\t\tpermission_result: false, // to hide it in legacy context menu and avoid errors in legacy parsers.\n\t\t\t\t\tsort_order: 3000\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'TimeSheet' ),\n\t\t\t\t\tid: 'timesheet',\n\t\t\t\t\tmenu_align: 'right',\n\t\t\t\t\taction_group: 'jump_to',\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\tsort_order: 3010\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'Schedule' ),\n\t\t\t\t\tid: 'schedule',\n\t\t\t\t\tmenu_align: 'right',\n\t\t\t\t\taction_group: 'jump_to',\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\tsort_order: 3020\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'Pay Stubs' ),\n\t\t\t\t\tid: 'pay_stub',\n\t\t\t\t\tmenu_align: 'right',\n\t\t\t\t\taction_group: 'jump_to',\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\tsort_order: 3030\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'Pay Stub Amendments' ),\n\t\t\t\t\tid: 'pay_stub_amendment',\n\t\t\t\t\tmenu_align: 'right',\n\t\t\t\t\taction_group: 'jump_to',\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\tsort_order: 3040\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\n\t\tif ( this.edit_only_mode ) {\n\t\t\tcontext_menu_model.exclude.push(\n\t\t\t\t'timesheet',\n\t\t\t\t'schedule',\n\t\t\t\t'pay_stub',\n\t\t\t\t'pay_stub_amendment',\n\t\t\t\t'map',\n\t\t\t\t'import_icon',\n\t\t\t\t'export_excel'\n\t\t\t);\n\t\t}\n\n\t\treturn context_menu_model;\n\t}\n\n\topenEditView( id ) {\n\t\tif ( this.edit_only_mode ) {\n\n\t\t\tif ( this.parent_view_controller.viewId === 'JobApplication' && id === undefined ) {\n\t\t\t\tid = this.refresh_id;\n\t\t\t}\n\t\t\tvar $this_obj = this;\n\t\t\tthis.initOptions( function( result ) {\n\t\t\t\tif ( !$this_obj.edit_view ) {\n\t\t\t\t\t$this_obj.initEditViewUI( $this_obj.viewId, $this_obj.edit_view_tpl );\n\t\t\t\t\tvar $this = this;\n\t\t\t\t\tdoNext();\n\t\t\t\t} else {\n\t\t\t\t\tdoNext();\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t} else {\n\t\t\tif ( !this.edit_view ) {\n\t\t\t\tthis.initEditViewUI( this.viewId, this.edit_view_tpl );\n\t\t\t}\n\t\t}\n\n\t\tfunction doNext() {\n\t\t\t$this_obj.getEmployeeData( id, function( result ) {\n\t\t\t\t//Error: Uncaught TypeError: Cannot read property 'user_id' of null in interface/html5/#!m=TimeSheet&date=20150915&user_id=42175&show_wage=0 line 79\n\t\t\t\tif ( !result ) {\n\t\t\t\t\tTAlertManager.showAlert( $.i18n._( 'Record does not exist.' ) );\n\t\t\t\t\t$this_obj.onCancelClick();\n\t\t\t\t} else {\n\t\t\t\t\t// Waiting for the TTAPI.API returns data to set the current edit record.\n\t\t\t\t\t$this_obj.current_edit_record = result;\n\t\t\t\t\t$this_obj.initEditView();\n\t\t\t\t}\n\n\t\t\t\tif ( $this_obj.edit_only_mode ) {\n\t\t\t\t\t$( '.edit-view-tab-bar' ).css( 'opacity', 1 );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}\n\n\tsetEditViewDataDone() {\n\t\tsuper.setEditViewDataDone();\n\t}\n\n\tgetEmployeeData( id, callBack ) {\n\t\tif ( typeof id === 'object' ) {\n\n\t\t\tid.id = '';\n\t\t\tid.company = LocalCacheData.current_company.name;\n\n\t\t\tcallBack( id );\n\t\t} else {\n\t\t\tvar filter = {};\n\t\t\tfilter.filter_data = {};\n\t\t\tfilter.filter_data.id = [id];\n\n\t\t\tthis.api['get' + this.api.key_name]( filter, {\n\t\t\t\tonResult: function( result ) {\n\t\t\t\t\tvar result_data = result.getResult();\n\n\t\t\t\t\tif ( !result_data ) {\n\t\t\t\t\t\tresult_data = [];\n\t\t\t\t\t}\n\t\t\t\t\tresult_data = result_data[0];\n\n\t\t\t\t\tcallBack( result_data );\n\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}\n\n\tinitOptions( callBack ) {\n\n\t\tvar options = [\n\t\t\t{ option_name: 'status' },\n\t\t\t{ option_name: 'sex' },\n\t\t\t{ option_name: 'mfa_type' },\n\t\t\t{ option_name: 'country', field_name: 'country', api: this.company_api }\n\t\t];\n\n\t\tthis.initDropDownOptions( options, function( result ) {\n\n\t\t\tif ( callBack ) {\n\t\t\t\tcallBack( result ); // First to initialize drop down options, and then to initialize edit view UI.\n\t\t\t}\n\n\t\t} );\n\t}\n\n\tinitDropDownOptions( options, callBack ) {\n\t\tvar $this = this;\n\t\tvar len = options.length + 2; //2=Number of additional API calls performed in this function over and above options.length.\n\t\tvar complete_count = 0;\n\t\tvar option_result = [];\n\n\t\tif ( this.hierarchyPermissionValidate() ) {\n\t\t\t$this.hierarchyControlAPI.getOptions( 'object_type', {\n\t\t\t\tonResult: function( res_1 ) {\n\t\t\t\t\tvar data_1 = res_1.getResult();\n\t\t\t\t\tif ( data_1 ) {\n\t\t\t\t\t\tvar array = [];\n\n\t\t\t\t\t\tfor ( var key in data_1 ) {\n\t\t\t\t\t\t\tarray.push( { id: Global.removeSortPrefix( key ), value: data_1[key] } );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$this.hierarchy_ui_model = array;\n\t\t\t\t\t}\n\n\t\t\t\t\tcomplete_count = complete_count + 1;\n\t\t\t\t\tif ( complete_count === len ) {\n\t\t\t\t\t\tcallBack( option_result );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t} else {\n\t\t\tthis.show_hierarchy = false;\n\t\t\tcomplete_count = complete_count + 1;\n\t\t}\n\n\t\tthis.user_group_api.getUserGroup( '', false, false, {\n\t\t\tonResult: function( res ) {\n\t\t\t\tres = res.getResult();\n\t\t\t\tres = Global.buildTreeRecord( res );\n\n\t\t\t\tif ( !$this.edit_only_mode ) {\n\t\t\t\t\tif ( !$this.sub_view_mode && $this.basic_search_field_ui_dic['group_id'] ) {\n\t\t\t\t\t\t$this.basic_search_field_ui_dic['group_id'].setSourceData( res );\n\t\t\t\t\t\t$this.adv_search_field_ui_dic['group_id'].setSourceData( res );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$this.user_group_array = res;\n\n\t\t\t\tcomplete_count = complete_count + 1;\n\t\t\t\tif ( complete_count === len ) {\n\t\t\t\t\tcallBack( option_result );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\n\t\tfor ( var i = 0; i < len - 2; i++ ) {\n\t\t\tvar option_info = options[i];\n\n\t\t\tthis.initDropDownOption( option_info.option_name, option_info.field_name, option_info.api, onGetOptionResult );\n\t\t}\n\n\t\tfunction onGetOptionResult( result ) {\n\t\t\toption_result.push( result );\n\n\t\t\tcomplete_count = complete_count + 1;\n\t\t\tif ( complete_count === len ) {\n\t\t\t\tcallBack( option_result );\n\t\t\t}\n\t\t}\n\t}\n\n\tsetCustomDefaultMenuIcon( id, context_btn, grid_selected_length ) {\n\t\tswitch ( id ) {\n\t\t\tcase 'timesheet':\n\t\t\t\tthis.setDefaultMenuViewIcon( context_btn, grid_selected_length, 'punch' );\n\t\t\t\tbreak;\n\t\t\tcase 'schedule':\n\t\t\t\tthis.setDefaultMenuViewIcon( context_btn, grid_selected_length, 'schedule' );\n\t\t\t\tbreak;\n\t\t\tcase 'pay_stub_amendment':\n\t\t\t\tthis.setDefaultMenuViewIcon( context_btn, grid_selected_length, 'pay_stub_amendment' );\n\t\t\t\tbreak;\n\t\t\tcase 'pay_stub':\n\t\t\t\tthis.setDefaultMenuPayStubIcon( context_btn, grid_selected_length, 'pay_stub' );\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tsetDefaultMenuPayStubIcon( context_btn, grid_selected_length, pId ) {\n\n\t\tif ( !PermissionManager.checkTopLevelPermission( 'PayStub' ) ) {\n\t\t\tContextMenuManager.hideMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, false )\n\t\t}\n\n\t\tif ( grid_selected_length === 1 ) {\n\t\t\tContextMenuManager.disableMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, true );\n\t\t} else {\n\t\t\tContextMenuManager.disableMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, false );\n\t\t}\n\t}\n\n\tsetDefaultMenuImportIcon( context_btn, grid_selected_length, pId ) {\n\t\tif ( PermissionManager.checkTopLevelPermission( 'ImportCSVEmployee' ) === true ) {\n\t\t\tContextMenuManager.hideMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, true );\n\t\t} else {\n\t\t\tContextMenuManager.hideMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, false );\n\t\t}\n\t}\n\n\tinitSubQualificationView() {\n\t\tvar $this = this;\n\n\t\tif ( !this.current_edit_record.id ) {\n\t\t\tTTPromise.resolve( 'BaseViewController', 'onTabShow' ); //Since search() isn't called in this case, and we just display the \"Please Save This Record ...\" message, resolve the promise.\n\t\t\treturn;\n\t\t}\n\n\t\t$( '#tab_qualifications .first-column-sub-view' ).css( 'opacity', '0' );\n\t\tTTPromise.add( 'Employee_Qualifications_Tab', 'initSubQualificationView' );\n\n\t\tProgressBar.showProgressBar(); // start skills\n\t\tTTPromise.add( 'Employee_Qualifications_Tab', 'UserSkillViewController' );\n\t\tGlobal.loadScript( 'views/hr/qualification/UserSkillViewController.js', function() {\n\t\t\tvar tab_qualifications = $this.edit_view_tab.find( '#tab_qualifications' );\n\t\t\tvar firstColumn = tab_qualifications.find( '.first-column-sub-view' ).find( '.first-sub-view' );\n\t\t\tGlobal.trackView( 'Sub' + 'UserSkill' + 'View' );\n\t\t\tUserSkillViewController.loadSubView( firstColumn, beforeLoadView, afterLoadUserSkillView );\n\n\t\t} );\n\n\t\tProgressBar.showProgressBar(); // start education\n\t\tTTPromise.add( 'Employee_Qualifications_Tab', 'UserEducationViewController' );\n\t\tGlobal.loadScript( 'views/hr/qualification/UserEducationViewController.js', function() {\n\t\t\tvar tab_qualifications = $this.edit_view_tab.find( '#tab_qualifications' );\n\t\t\tvar firstColumn = tab_qualifications.find( '.first-column-sub-view' ).find( '.second-sub-view' );\n\t\t\tGlobal.trackView( 'Sub' + 'UserEducation' + 'View' );\n\t\t\tUserEducationViewController.loadSubView( firstColumn, beforeLoadView, afterLoadUserEducationView );\n\n\t\t} );\n\n\t\tProgressBar.showProgressBar(); // start memberships\n\t\tTTPromise.add( 'Employee_Qualifications_Tab', 'UserMembershipViewController' );\n\t\tGlobal.loadScript( 'views/hr/qualification/UserMembershipViewController.js', function() {\n\t\t\tvar tab_qualifications = $this.edit_view_tab.find( '#tab_qualifications' );\n\t\t\tvar firstColumn = tab_qualifications.find( '.first-column-sub-view' ).find( '.third-sub-view' );\n\t\t\tGlobal.trackView( 'Sub' + 'UserMembership' + 'View' );\n\t\t\tUserMembershipViewController.loadSubView( firstColumn, beforeLoadView, afterLoadUserMembershipView );\n\n\t\t} );\n\n\t\tProgressBar.showProgressBar(); // start licences\n\t\tTTPromise.add( 'Employee_Qualifications_Tab', 'UserLicenseViewController' );\n\t\tGlobal.loadScript( 'views/hr/qualification/UserLicenseViewController.js', function() {\n\t\t\tvar tab_qualifications = $this.edit_view_tab.find( '#tab_qualifications' );\n\t\t\tvar firstColumn = tab_qualifications.find( '.first-column-sub-view' ).find( '.forth-sub-view' );\n\t\t\tGlobal.trackView( 'Sub' + 'UserLicense' + 'View' );\n\t\t\tUserLicenseViewController.loadSubView( firstColumn, beforeLoadView, afterLoadUserLicenseView );\n\n\t\t} );\n\n\t\tProgressBar.showProgressBar(); // start languages\n\t\tTTPromise.add( 'Employee_Qualifications_Tab', 'UserLanguageViewController' );\n\t\tGlobal.loadScript( 'views/hr/qualification/UserLanguageViewController.js', function() {\n\t\t\tvar tab_qualifications = $this.edit_view_tab.find( '#tab_qualifications' );\n\t\t\tvar firstColumn = tab_qualifications.find( '.first-column-sub-view' ).find( '.fifth-sub-view' );\n\t\t\tGlobal.trackView( 'Sub' + 'UserLanguage' + 'View' );\n\t\t\tUserLanguageViewController.loadSubView( firstColumn, beforeLoadView, afterLoadUserLanguageView );\n\n\t\t} );\n\n\t\tfunction beforeLoadView() {\n\n\t\t}\n\n\t\tfunction afterLoadUserSkillView( subViewController ) {\n\t\t\t$( subViewController.el ).find( '.sub-view-title' ).text( $.i18n._( 'Skills' ) );\n\t\t\t$this.sub_user_skill_view_controller = subViewController;\n\t\t\t$this.sub_user_skill_view_controller.parent_key = 'user_id';\n\t\t\t$this.sub_user_skill_view_controller.parent_value = $this.current_edit_record.id;\n\t\t\t$this.sub_user_skill_view_controller.parent_edit_record = $this.current_edit_record;\n\t\t\t$this.sub_user_skill_view_controller.parent_view_controller = $this;\n\t\t\t$this.sub_user_skill_view_controller.postInit = function() {\n\t\t\t\tthis.buildContextMenu(); // To load context menu\n\t\t\t\tthis.initData();\n\t\t\t\tProgressBar.removeProgressBar(); // end skills\n\t\t\t};\n\t\t}\n\n\t\tfunction afterLoadUserLicenseView( subViewController ) {\n\t\t\t$( subViewController.el ).find( '.sub-view-title' ).text( $.i18n._( 'Licenses' ) );\n\t\t\t$this.sub_user_license_view_controller = subViewController;\n\t\t\t$this.sub_user_license_view_controller.parent_key = 'user_id';\n\t\t\t$this.sub_user_license_view_controller.parent_value = $this.current_edit_record.id;\n\t\t\t$this.sub_user_license_view_controller.parent_edit_record = $this.current_edit_record;\n\t\t\t$this.sub_user_license_view_controller.parent_view_controller = $this;\n\t\t\t$this.sub_user_license_view_controller.postInit = function() {\n\t\t\t\tthis.buildContextMenu(); // To load context menu\n\t\t\t\tthis.initData();\n\t\t\t\tProgressBar.removeProgressBar(); // end licences\n\t\t\t};\n\t\t}\n\n\t\tfunction afterLoadUserLanguageView( subViewController ) {\n\t\t\t$( subViewController.el ).find( '.sub-view-title' ).text( $.i18n._( 'Languages' ) );\n\t\t\t$this.sub_user_language_view_controller = subViewController;\n\t\t\t$this.sub_user_language_view_controller.parent_key = 'user_id';\n\t\t\t$this.sub_user_language_view_controller.parent_value = $this.current_edit_record.id;\n\t\t\t$this.sub_user_language_view_controller.parent_edit_record = $this.current_edit_record;\n\t\t\t$this.sub_user_language_view_controller.parent_view_controller = $this;\n\t\t\t$this.sub_user_language_view_controller.postInit = function() {\n\t\t\t\tthis.buildContextMenu(); // To load context menu\n\t\t\t\tthis.initData();\n\t\t\t\tProgressBar.removeProgressBar(); // end languages\n\t\t\t};\n\t\t}\n\n\t\tfunction afterLoadUserEducationView( subViewController ) {\n\t\t\t$( subViewController.el ).find( '.sub-view-title' ).text( $.i18n._( 'Education' ) );\n\t\t\t$this.sub_user_education_view_controller = subViewController;\n\t\t\t$this.sub_user_education_view_controller.parent_key = 'user_id';\n\t\t\t$this.sub_user_education_view_controller.parent_value = $this.current_edit_record.id;\n\t\t\t$this.sub_user_education_view_controller.parent_edit_record = $this.current_edit_record;\n\t\t\t$this.sub_user_education_view_controller.parent_view_controller = $this;\n\t\t\t$this.sub_user_education_view_controller.postInit = function() {\n\t\t\t\tthis.buildContextMenu(); // To load context menu\n\t\t\t\tthis.initData();\n\t\t\t\tProgressBar.removeProgressBar(); // end education\n\t\t\t};\n\t\t}\n\n\t\tfunction afterLoadUserMembershipView( subViewController ) {\n\t\t\t$( subViewController.el ).find( '.sub-view-title' ).text( $.i18n._( 'Memberships' ) );\n\t\t\t$this.sub_user_membership_view_controller = subViewController;\n\t\t\t$this.sub_user_membership_view_controller.parent_key = 'user_id';\n\t\t\t$this.sub_user_membership_view_controller.parent_value = $this.current_edit_record.id;\n\t\t\t$this.sub_user_membership_view_controller.parent_edit_record = $this.current_edit_record;\n\t\t\t$this.sub_user_membership_view_controller.parent_view_controller = $this;\n\t\t\t$this.sub_user_membership_view_controller.postInit = function() {\n\t\t\t\tthis.buildContextMenu(); // To load context menu\n\t\t\t\tthis.initData();\n\t\t\t\tProgressBar.removeProgressBar(); // end memberships\n\t\t\t};\n\t\t}\n\n\t\tTTPromise.wait( 'Employee_Qualifications_Tab', null, function() {\n\t\t\t$( '#contentContainer' ).trigger( 'resize' );\n\t\t\t$( '#tab_qualifications .first-column-sub-view' ).css( 'opacity', '1' );\n\t\t} );\n\n\t\tTTPromise.resolve( 'Employee_Qualifications_Tab', 'initSubQualificationView' );\n\t}\n\n\tinitSubCompanyTaxView() {\n\t\tvar $this = this;\n\n\t\tif ( !this.current_edit_record.id ) {\n\t\t\tTTPromise.resolve( 'BaseViewController', 'onTabShow' ); //Since search() isn't called in this case, and we just display the \"Please Save This Record ...\" message, resolve the promise.\n\t\t\treturn;\n\t\t}\n\n\t\tTTPromise.add( 'TaxView', 'init' );\n\n\t\tif ( this.sub_company_tax_view_controller ) {\n\t\t\tthis.sub_company_tax_view_controller.buildContextMenu( true );\n\t\t\tthis.sub_company_tax_view_controller.setDefaultMenu();\n\t\t\t$this.sub_company_tax_view_controller.parent_value = $this.current_edit_record.id;\n\t\t\t$this.sub_company_tax_view_controller.parent_edit_record = $this.current_edit_record;\n\t\t\t$this.sub_company_tax_view_controller.initData();\n\t\t\treturn;\n\t\t}\n\n\t\tGlobal.loadViewSource( 'CompanyTaxDeduction', 'CompanyTaxDeductionViewController.js', function() {\n\t\t\tif ( !$this.edit_view_tab ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar tab_employee = $this.edit_view_tab.find( '#tab_tax' );\n\t\t\tvar firstColumn = tab_employee.find( '.first-column-sub-view' );\n\t\t\tGlobal.trackView( 'Sub' + 'UserContact' + 'View' );\n\t\t\tCompanyTaxDeductionViewController.loadSubView( firstColumn, beforeLoadView, afterLoadView );\n\t\t} );\n\n\t\tfunction beforeLoadView() {\n\n\t\t}\n\n\t\tfunction afterLoadView( subViewController ) {\n\t\t\t$this.sub_company_tax_view_controller = subViewController;\n\t\t\t$this.sub_company_tax_view_controller.parent_key = 'include_user_id';\n\t\t\t$this.sub_company_tax_view_controller.parent_value = $this.current_edit_record.id;\n\t\t\t$this.sub_company_tax_view_controller.parent_edit_record = $this.current_edit_record;\n\t\t\t$this.sub_company_tax_view_controller.parent_view_controller = $this;\n\t\t\tTTPromise.wait( 'BaseViewController', 'initialize', function() {\n\t\t\t\t$this.sub_company_tax_view_controller.initData();\n\t\t\t} );\n\t\t}\n\t}\n\n\tinitSubUserReviewControlView() {\n\t\t;\n\t\tvar $this = this;\n\n\t\tif ( !this.current_edit_record.id ) {\n\t\t\tTTPromise.resolve( 'BaseViewController', 'onTabShow' ); //Since search() isn't called in this case, and we just display the \"Please Save This Record ...\" message, resolve the promise.\n\t\t\treturn;\n\t\t}\n\n\t\tTTPromise.add( 'ReviewView', 'init' );\n\n\t\tif ( this.sub_user_review_control_view_controller ) {\n\t\t\tthis.sub_user_review_control_view_controller.buildContextMenu( true );\n\t\t\tthis.sub_user_review_control_view_controller.setDefaultMenu();\n\t\t\t$this.sub_user_review_control_view_controller.parent_key = 'user_id';\n\t\t\t$this.sub_user_review_control_view_controller.parent_value = $this.current_edit_record.id;\n\t\t\t$this.sub_user_review_control_view_controller.parent_edit_record = $this.current_edit_record;\n\t\t\t$this.sub_user_review_control_view_controller.initData();\n\t\t\treturn;\n\t\t}\n\n\t\tGlobal.loadScript( 'views/hr/kpi/UserReviewControlViewController.js', function() {\n\t\t\tif ( !$this.edit_view_tab ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar tab_employee = $this.edit_view_tab.find( '#tab_reviews' );\n\t\t\tvar firstColumn = tab_employee.find( '.first-column-sub-view' );\n\n\t\t\tGlobal.trackView( 'Sub' + 'UserReviewControl' + 'View' );\n\t\t\tUserReviewControlViewController.loadSubView( firstColumn, beforeLoadView, afterLoadView );\n\n\t\t} );\n\n\t\tfunction beforeLoadView() {\n\n\t\t}\n\n\t\tfunction afterLoadView( subViewController ) {\n\t\t\t$this.sub_user_review_control_view_controller = subViewController;\n\t\t\t$this.sub_user_review_control_view_controller.parent_key = 'user_id';\n\t\t\t$this.sub_user_review_control_view_controller.parent_value = $this.current_edit_record.id;\n\t\t\t$this.sub_user_review_control_view_controller.parent_edit_record = $this.current_edit_record;\n\t\t\t$this.sub_user_review_control_view_controller.parent_view_controller = $this;\n\t\t\t$this.sub_user_review_control_view_controller.initData();\n\t\t}\n\t}\n\n\tinitSubPaymentMethodsView() {\n\t\tvar $this = this;\n\n\t\tif ( !this.current_edit_record.id ) {\n\t\t\tTTPromise.resolve( 'BaseViewController', 'onTabShow' ); //Since search() isn't called in this case, and we just display the \"Please Save This Record ...\" message, resolve the promise.\n\t\t\treturn;\n\t\t}\n\n\t\tTTPromise.add( 'PaymentMethodsView', 'init' );\n\n\t\tif ( this.sub_payment_methods_view_controller ) {\n\t\t\tthis.sub_payment_methods_view_controller.buildContextMenu( true );\n\t\t\tthis.sub_payment_methods_view_controller.setDefaultMenu();\n\t\t\t$this.sub_payment_methods_view_controller.parent_key = 'user_id';\n\t\t\t$this.sub_payment_methods_view_controller.parent_value = $this.current_edit_record.id;\n\t\t\t$this.sub_payment_methods_view_controller.parent_edit_record = $this.current_edit_record;\n\t\t\t$this.sub_payment_methods_view_controller.initData();\n\t\t\treturn;\n\t\t}\n\n\t\tGlobal.loadScript( 'views/employees/remittance_destination_account/RemittanceDestinationAccountViewController.js', function() {\n\t\t\tif ( !$this.edit_view_tab ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar tab_payment_methods = $this.edit_view_tab.find( '#tab_payment_methods' );\n\t\t\tvar firstColumn = tab_payment_methods.find( '.first-column-sub-view' );\n\n\t\t\tGlobal.trackView( 'Sub' + 'RemittanceDestinationAccount' + 'View' );\n\t\t\tRemittanceDestinationAccountViewController.loadSubView( firstColumn, beforeLoadView, afterLoadView );\n\n\t\t} );\n\n\t\tfunction beforeLoadView() {\n\n\t\t}\n\n\t\tfunction afterLoadView( subViewController ) {\n\t\t\t$this.sub_payment_methods_view_controller = subViewController;\n\t\t\t$this.sub_payment_methods_view_controller.is_subview = true;\n\t\t\t$this.sub_payment_methods_view_controller.parent_key = 'user_id';\n\t\t\t$this.sub_payment_methods_view_controller.parent_value = $this.current_edit_record.id;\n\t\t\t$this.sub_payment_methods_view_controller.parent_edit_record = $this.current_edit_record;\n\t\t\t$this.sub_payment_methods_view_controller.parent_view_controller = $this;\n\t\t\tTTPromise.wait( 'BaseViewController', 'initialize', function() {\n\t\t\t\t$this.sub_payment_methods_view_controller.initData();\n\t\t\t} );\n\t\t}\n\t}\n\n\tinitSubJobApplicationView() {\n\t\tvar $this = this;\n\n\t\tif ( !this.current_edit_record.id ) {\n\t\t\tTTPromise.resolve( 'BaseViewController', 'onTabShow' ); //Since search() isn't called in this case, and we just display the \"Please Save This Record ...\" message, resolve the promise.\n\t\t\treturn;\n\t\t}\n\n\t\tTTPromise.add( 'JobAppView', 'init' );\n\n\t\tif ( this.sub_job_application_view_controller ) {\n\t\t\tthis.sub_job_application_view_controller.buildContextMenu( true );\n\t\t\tthis.sub_job_application_view_controller.setDefaultMenu();\n\t\t\t$this.sub_job_application_view_controller.parent_key = 'interviewer_user_id';\n\t\t\t$this.sub_job_application_view_controller.parent_value = $this.current_edit_record.id;\n\t\t\t$this.sub_job_application_view_controller.parent_edit_record = $this.current_edit_record;\n\t\t\t$this.sub_job_application_view_controller.initData();\n\t\t\treturn;\n\t\t}\n\n\t\tGlobal.loadScript( 'views/hr/recruitment/JobApplicationViewController.js', function() {\n\t\t\tif ( !$this.edit_view_tab ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar tab_applications = $this.edit_view_tab.find( '#tab_applications' );\n\t\t\tvar firstColumn = tab_applications.find( '.first-column-sub-view' );\n\t\t\tGlobal.trackView( 'Sub' + 'JobApplication' + 'View' );\n\t\t\tJobApplicationViewController.loadSubView( firstColumn, beforeLoadView, afterLoadView );\n\n\t\t} );\n\n\t\tfunction beforeLoadView() {\n\n\t\t}\n\n\t\tfunction afterLoadView( subViewController ) {\n\t\t\t$this.sub_job_application_view_controller = subViewController;\n\t\t\t$this.sub_job_application_view_controller.parent_key = 'interviewer_user_id';\n\t\t\t$this.sub_job_application_view_controller.parent_value = $this.current_edit_record.id;\n\t\t\t$this.sub_job_application_view_controller.parent_edit_record = $this.current_edit_record;\n\t\t\t$this.sub_job_application_view_controller.parent_view_controller = $this;\n\t\t\tTTPromise.wait( 'BaseViewController', 'initialize', function() {\n\t\t\t\t$this.sub_job_application_view_controller.initData();\n\t\t\t} );\n\t\t}\n\t}\n\n\tinitSubUserContactView() {\n\t\tvar $this = this;\n\n\t\tif ( !this.current_edit_record.id ) {\n\t\t\tTTPromise.resolve( 'BaseViewController', 'onTabShow' ); //Since search() isn't called in this case, and we just display the \"Please Save This Record ...\" message, resolve the promise.\n\t\t\treturn;\n\t\t}\n\n\t\tTTPromise.add( 'ContactView', 'init' );\n\n\t\tif ( this.sub_user_contact_view_controller ) {\n\t\t\tthis.sub_user_contact_view_controller.buildContextMenu( true );\n\t\t\tthis.sub_user_contact_view_controller.setDefaultMenu();\n\t\t\t$this.sub_user_contact_view_controller.parent_value = $this.current_edit_record.id;\n\t\t\t$this.sub_user_contact_view_controller.parent_edit_record = $this.current_edit_record;\n\t\t\t$this.sub_user_contact_view_controller.initData();\n\t\t\treturn;\n\t\t}\n\n\t\tGlobal.loadScript( 'views/employees/user_contact/UserContactViewController.js', function() {\n\t\t\tif ( !$this.edit_view_tab ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar tab_employee = $this.edit_view_tab.find( '#tab_contacts' );\n\t\t\tvar firstColumn = tab_employee.find( '.first-column-sub-view' );\n\n\t\t\tGlobal.trackView( 'Sub' + 'UserContact' + 'View' );\n\t\t\tUserContactViewController.loadSubView( firstColumn, beforeLoadView, afterLoadView );\n\n\t\t} );\n\n\t\tfunction beforeLoadView() {\n\n\t\t}\n\n\t\tfunction afterLoadView( subViewController ) {\n\t\t\t$this.sub_user_contact_view_controller = subViewController;\n\t\t\t$this.sub_user_contact_view_controller.parent_key = 'user_id';\n\t\t\t$this.sub_user_contact_view_controller.parent_value = $this.current_edit_record.id;\n\t\t\t$this.sub_user_contact_view_controller.parent_edit_record = $this.current_edit_record;\n\t\t\t$this.sub_user_contact_view_controller.parent_view_controller = $this;\n\t\t\tTTPromise.wait( 'BaseViewController', 'initialize', function() {\n\t\t\t\t$this.sub_user_contact_view_controller.initData();\n\t\t\t} );\n\t\t}\n\t}\n\n\tinitSubWageView() {\n\t\tvar $this = this;\n\n\t\tif ( !this.current_edit_record.id ) {\n\t\t\tTTPromise.resolve( 'BaseViewController', 'onTabShow' ); //Since search() isn't called in this case, and we just display the \"Please Save This Record ...\" message, resolve the promise.\n\t\t\treturn;\n\t\t}\n\n\t\tTTPromise.add( 'WageView', 'init' );\n\n\t\tif ( this.sub_wage_view_controller ) {\n\t\t\tthis.sub_wage_view_controller.buildContextMenu( true );\n\t\t\tthis.sub_wage_view_controller.setDefaultMenu();\n\t\t\t$this.sub_wage_view_controller.parent_value = $this.current_edit_record.id;\n\t\t\t$this.sub_wage_view_controller.parent_edit_record = $this.current_edit_record;\n\t\t\t$this.sub_wage_view_controller.initData(); //Init data in this parent view\n\t\t\tTTPromise.resolve( 'WageView', 'init' );\n\t\t\treturn;\n\t\t}\n\n\t\tGlobal.loadScript( 'views/company/wage/WageViewController.js', function() {\n\t\t\tif ( !$this.edit_view_tab ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar tab_employee = $this.edit_view_tab.find( '#tab_wage' );\n\t\t\tvar firstColumn = tab_employee.find( '.first-column-sub-view' );\n\t\t\tGlobal.trackView( 'Sub' + 'Wage' + 'View' );\n\t\t\tWageViewController.loadSubView( firstColumn, beforeLoadView, afterLoadView );\n\n\t\t} );\n\n\t\tfunction beforeLoadView() {\n\n\t\t}\n\n\t\tfunction afterLoadView( subViewController, firstColumn ) {\n\n\t\t\t$this.sub_wage_view_controller = subViewController;\n\t\t\t$this.sub_wage_view_controller.parent_key = 'user_id';\n\t\t\t$this.sub_wage_view_controller.parent_value = $this.current_edit_record.id;\n\t\t\t$this.sub_wage_view_controller.parent_edit_record = $this.current_edit_record;\n\t\t\t$this.sub_wage_view_controller.parent_view_controller = $this;\n\t\t\tTTPromise.wait( 'BaseViewController', 'initialize', function() {\n\t\t\t\t//#2581 - $this.sub_wage_view_controller is null\n\t\t\t\tif ( $this.sub_wage_view_controller ) {\n\t\t\t\t\t$this.sub_wage_view_controller.initData(); //Init data in this parent view\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}\n\n\tinitSubAccrualPolicyUserModifier() {\n\t\tvar $this = this;\n\n\t\tif ( !this.current_edit_record.id ) {\n\t\t\tTTPromise.resolve( 'BaseViewController', 'onTabShow' ); //Since search() isn't called in this case, and we just display the \"Please Save This Record ...\" message, resolve the promise.\n\t\t\tthis.edit_view.find( '.permission-defined-div' ).css( 'display', 'none' ); // Fixes issue with this div overlapping with save and continue. This div does not need to be shown until employee is saved.\n\t\t\treturn;\n\t\t}\n\n\t\tTTPromise.add( 'AccrualView', 'init' );\n\n\t\tif ( this.sub_accrual_policy_user_modifier_view_controller ) {\n\t\t\tthis.sub_accrual_policy_user_modifier_view_controller.buildContextMenu( true );\n\t\t\tthis.sub_accrual_policy_user_modifier_view_controller.setDefaultMenu();\n\t\t\t$this.sub_accrual_policy_user_modifier_view_controller.parent_key = 'user_id';\n\t\t\t$this.sub_accrual_policy_user_modifier_view_controller.parent_value = $this.current_edit_record.id;\n\t\t\t$this.sub_accrual_policy_user_modifier_view_controller.parent_edit_record = $this.current_edit_record;\n\t\t\t$this.sub_accrual_policy_user_modifier_view_controller.initData(); //Init data in this parent view\n\t\t\treturn;\n\t\t}\n\n\t\tif ( Global.getProductEdition() >= 15 ) {\n\t\t\tthis.edit_view.find( '.permission-defined-div' ).css( 'display', 'none' );\n\n\t\t\tGlobal.loadScript( 'views/policy/accrual_policy/AccrualPolicyUserModifierViewController.js', function() {\n\t\t\t\tif ( !$this.edit_view_tab ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar tab_employee = $this.edit_view_tab.find( '#tab_accruals' );\n\n\t\t\t\tvar firstColumn = tab_employee.find( '.first-column-sub-view' );\n\n\t\t\t\tGlobal.trackView( 'Sub' + 'AccrualPolicyUserModifier' + 'View' );\n\t\t\t\tAccrualPolicyUserModifierViewController.loadSubView( firstColumn, beforeLoadView, afterLoadView );\n\n\t\t\t} );\n\t\t} else {\n\t\t\tthis.edit_view_tab.find( '#tab_accruals' ).find( '.first-column-sub-view' ).css( 'display', 'none' );\n\t\t\tthis.edit_view.find( '.permission-defined-div' ).css( 'display', 'block' );\n\t\t\tthis.edit_view.find( '.permission-message' ).html( Global.getUpgradeMessage() );\n\t\t}\n\n\t\tfunction beforeLoadView( tpl ) {\n\t\t\tvar args = { parent_view: 'employee' };\n\n\t\t\treturn { template: _.template( tpl ), args: args };\n\t\t}\n\n\t\tfunction afterLoadView( subViewController ) {\n\t\t\t$this.sub_accrual_policy_user_modifier_view_controller = subViewController;\n\t\t\t$this.sub_accrual_policy_user_modifier_view_controller.parent_key = 'user_id';\n\t\t\t$this.sub_accrual_policy_user_modifier_view_controller.parent_value = $this.current_edit_record.id;\n\t\t\t$this.sub_accrual_policy_user_modifier_view_controller.parent_edit_record = $this.current_edit_record;\n\t\t\t$this.sub_accrual_policy_user_modifier_view_controller.parent_view_controller = $this;\n\t\t\t$this.sub_accrual_policy_user_modifier_view_controller.sub_view_mode = true;\n\t\t\tTTPromise.wait( 'BaseViewController', 'initialize', function() {\n\t\t\t\t$this.sub_accrual_policy_user_modifier_view_controller.initData(); //Init data in this parent view\n\t\t\t} );\n\t\t}\n\t}\n\n\tsetDefaultUserName() {\n\t\tif ( this.is_add == true ) {\n\t\t\tvar first_name_widget = this.edit_view_ui_dic['first_name'];\n\t\t\tvar last_name_widget = this.edit_view_ui_dic['last_name'];\n\n\t\t\tvar user_name_widget = this.edit_view_ui_dic['user_name'];\n\n\t\t\tuser_name_widget.setValue( first_name_widget.getValue().toLowerCase().replace( /[^a-zA-Z_]/gi, '' ) + '.' + last_name_widget.getValue().toLowerCase().replace( /[^a-zA-Z_]/gi, '' ) );\n\t\t\tthis.current_edit_record.user_name = user_name_widget.getValue();\n\t\t}\n\t}\n\n\t// setDefaultQuickPunch() {\n\t// \tif ( this.is_add == true ) {\n\t// \t\tvar home_phone_widget = this.edit_view_ui_dic['home_phone'];\n\t// \t\tclean_home_phone = home_phone_widget.getValue().replace(/\\D/g,'');\n\t//\n\t// \t\tvar quick_punch_id_widget = this.edit_view_ui_dic['phone_id'];\n\t// \t\tquick_punch_id_widget.setValue( clean_home_phone.substring( ( clean_home_phone.length - 7 ) ) );\n\t// \t\tthis.current_edit_record.phone_id = quick_punch_id_widget.getValue();\n\t//\n\t// \t\tvar quick_punch_password_widget = this.edit_view_ui_dic['phone_password'];\n\t// \t\tquick_punch_password_widget.setValue( quick_punch_id_widget.getValue().substring( ( quick_punch_id_widget.getValue().length - 4 ) ) );\n\t// \t\tthis.current_edit_record.phone_password = quick_punch_password_widget.getValue();\n\t// \t}\n\t// },\n\n\tonFormItemChange( target, doNotValidate ) {\n\t\tvar $this = this;\n\n\t\tthis.setIsChanged( target );\n\t\tthis.setMassEditingFieldsWhenFormChange( target );\n\t\tvar key = target.getField();\n\n\t\tif ( !this.current_edit_record ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( parseInt( key ) > 0 ) {\n\n\t\t\tif ( !this.current_edit_record.hierarchy_control ) {\n\t\t\t\tthis.current_edit_record.hierarchy_control = {};\n\t\t\t}\n\n\t\t\tthis.current_edit_record.hierarchy_control[key] = target.getValue();\n\t\t} else {\n\t\t\tthis.current_edit_record[key] = target.getValue();\n\t\t}\n\n\t\tswitch ( key ) {\n\t\t\tcase 'first_name':\n\t\t\t\tvar widget = this.edit_view_ui_dic['first_name_1'];\n\t\t\t\twidget.setValue( target.getValue() );\n\t\t\t\tthis.current_edit_record.first_name_1 = target.getValue();\n\t\t\t\tthis.setDefaultUserName();\n\t\t\t\tbreak;\n\t\t\tcase 'last_name':\n\t\t\t\twidget = this.edit_view_ui_dic['last_name_1'];\n\t\t\t\twidget.setValue( target.getValue() );\n\t\t\t\tthis.current_edit_record.last_name_1 = target.getValue();\n\t\t\t\tthis.setDefaultUserName();\n\t\t\t\tbreak;\n\t\t\tcase 'first_name_1':\n\t\t\t\twidget = this.edit_view_ui_dic['first_name'];\n\t\t\t\twidget.setValue( target.getValue() );\n\t\t\t\tthis.current_edit_record.first_name = target.getValue();\n\t\t\t\tthis.setDefaultUserName();\n\t\t\t\tbreak;\n\t\t\tcase 'last_name_1':\n\t\t\t\twidget = this.edit_view_ui_dic['last_name'];\n\t\t\t\twidget.setValue( target.getValue() );\n\t\t\t\tthis.current_edit_record.last_name = target.getValue();\n\t\t\t\tthis.setDefaultUserName();\n\t\t\t\tbreak;\n\t\t\t// case 'home_phone':\n\t\t\t// \tthis.setDefaultQuickPunch();\n\t\t\t// \tbreak;\n\t\t\tcase 'country':\n\t\t\t\twidget = this.edit_view_ui_dic['province'];\n\t\t\t\twidget.setValue( null );\n\t\t\t\tbreak;\n\t\t\tcase 'default_job_id':\n\t\t\t\tif ( ( Global.getProductEdition() >= 20 ) ) {\n\t\t\t\t\tthis.edit_view_ui_dic['job_quick_search'].setValue( target.getValue( true ) ? ( target.getValue( true ).manual_id ? target.getValue( true ).manual_id : '' ) : '' );\n\t\t\t\t\tthis.setJobItemValueWhenJobChanged( target.getValue( true ), 'default_job_item_id', {\n\t\t\t\t\t\tstatus_id: 10,\n\t\t\t\t\t\tjob_id: this.current_edit_record.default_job_id,\n\t\t\t\t\t\tcompany_id: this.select_company_id\n\t\t\t\t\t} );\n\t\t\t\t\tthis.edit_view_ui_dic['job_quick_search'].setCheckBox( true );\n\t\t\t\t\tthis.setPunchTagValuesWhenCriteriaChanged( this.getPunchTagFilterData(), 'default_punch_tag_id' );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'default_job_item_id':\n\t\t\t\tif ( ( Global.getProductEdition() >= 20 ) ) {\n\t\t\t\t\tthis.edit_view_ui_dic['job_item_quick_search'].setValue( target.getValue( true ) ? ( target.getValue( true ).manual_id ? target.getValue( true ).manual_id : '' ) : '' );\n\t\t\t\t\tthis.edit_view_ui_dic['job_item_quick_search'].setCheckBox( true );\n\t\t\t\t\tthis.setPunchTagValuesWhenCriteriaChanged( this.getPunchTagFilterData(), 'default_punch_tag_id' );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'default_punch_tag_id':\n\t\t\t\tif ( ( Global.getProductEdition() >= 20 ) ) {\n\t\t\t\t\tif ( target.getValue() !== TTUUID.zero_id && target.getValue() !== false && target.getValue().length > 0 ) {\n\t\t\t\t\t\tthis.setPunchTagQuickSearchManualIds( target.getSelectItems() );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.edit_view_ui_dic['punch_tag_quick_search'].setValue( '' );\n\t\t\t\t\t}\n\t\t\t\t\t//Reset source data to make sure correct punch tags are always shown.\n\t\t\t\t\tthis.edit_view_ui_dic['default_punch_tag_id'].setSourceData( null );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'id':\n\t\t\tcase 'default_branch_id':\n\t\t\tcase 'default_department_id':\n\t\t\tcase 'group_id':\n\t\t\t\tif ( ( Global.getProductEdition() >= 20 ) ) {\n\t\t\t\t\tthis.setPunchTagValuesWhenCriteriaChanged( this.getPunchTagFilterData(), 'default_punch_tag_id' );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'job_quick_search':\n\t\t\tcase 'job_item_quick_search':\n\t\t\t\tif ( ( Global.getProductEdition() >= 20 ) ) {\n\t\t\t\t\tthis.onJobQuickSearch( key, target.getValue(), 'default_job_id', 'default_job_item_id', {\n\t\t\t\t\t\tstatus_id: 10,\n\t\t\t\t\t\tcompany_id: $this.select_company_id\n\t\t\t\t\t} );\n\t\t\t\t\tTTPromise.wait( 'BaseViewController', 'onJobQuickSearch', function() {\n\t\t\t\t\t\t$this.setPunchTagValuesWhenCriteriaChanged( $this.getPunchTagFilterData(), 'default_punch_tag_id' );\n\t\t\t\t\t} );\n\t\t\t\t\t//Don't validate immediately as onJobQuickSearch is doing async API calls, and it would cause a guaranteed validation failure.\n\t\t\t\t\tdoNotValidate = true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'punch_tag_quick_search':\n\t\t\t\tif ( ( Global.getProductEdition() >= 20 ) ) {\n\t\t\t\t\tthis.onPunchTagQuickSearch( target.getValue(), this.getPunchTagFilterData(), 'default_punch_tag_id' );\n\n\t\t\t\t\t//Don't validate immediately as onJobQuickSearch is doing async API calls, and it would cause a guaranteed validation failure.\n\t\t\t\t\tdoNotValidate = true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif ( key === 'country' ) {\n\t\t\tthis.onCountryChange();\n\t\t\treturn;\n\t\t}\n\n\t\tif ( !doNotValidate ) {\n\t\t\tthis.validate();\n\t\t}\n\t}\n\n\thierarchyPermissionValidate( p_id, selected_item ) {\n\n\t\tif ( PermissionManager.validate( 'hierarchy', 'edit' ) ||\n\t\t\tPermissionManager.validate( 'user', 'edit_hierarchy' ) ) {\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tcheckTabPermissions( tab ) {\n\t\tvar retval = false;\n\n\t\tswitch ( tab ) {\n\t\t\tcase 'tab_hierarchy':\n\t\t\t\tif ( this.select_company_id === LocalCacheData.getCurrentCompany().id ) {\n\t\t\t\t\tretval = true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'tab_wage':\n\t\t\t\tif ( PermissionManager.checkTopLevelPermission( 'Wage' ) && this.select_company_id === LocalCacheData.getCurrentCompany().id ) {\n\t\t\t\t\tretval = true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'tab_tax':\n\t\t\t\tif ( PermissionManager.checkTopLevelPermission( 'UserTaxDeduction' ) &&\n\t\t\t\t\tthis.select_company_id === LocalCacheData.getCurrentCompany().id ) {\n\t\t\t\t\tretval = true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'tab_payment_methods':\n\t\t\t\tif ( PermissionManager.checkTopLevelPermission( 'RemittanceDestinationAccount' ) &&\n\t\t\t\t\tthis.select_company_id === LocalCacheData.getCurrentCompany().id ) {\n\t\t\t\t\tretval = true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'tab_contacts':\n\t\t\t\tif ( PermissionManager.checkTopLevelPermission( 'UserContact' ) && this.select_company_id === LocalCacheData.getCurrentCompany().id ) {\n\t\t\t\t\tretval = true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'tab_applications':\n\t\t\t\tif ( PermissionManager.subJobApplicationValidate( 'JobApplication' ) && this.select_company_id === LocalCacheData.getCurrentCompany().id ) {\n\t\t\t\t\tretval = true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'tab_accruals':\n\t\t\t\tif ( PermissionManager.checkTopLevelPermission( 'AccrualPolicy' ) && this.select_company_id === LocalCacheData.getCurrentCompany().id ) {\n\t\t\t\t\tretval = true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'tab_qualifications':\n\t\t\t\tif ( PermissionManager.checkTopLevelPermission( 'Qualification' ) && this.select_company_id === LocalCacheData.getCurrentCompany().id ) {\n\t\t\t\t\tretval = true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'tab_reviews':\n\t\t\t\tif ( PermissionManager.checkTopLevelPermission( 'UserReviewControl' ) && this.select_company_id === LocalCacheData.getCurrentCompany().id ) {\n\t\t\t\t\tretval = true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tretval = super.checkTabPermissions( tab );\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn retval;\n\t}\n\n\t/* jshint ignore:start */\n\tsetCurrentEditRecordData() {\n\t\tvar $this = this;\n\t\tvar dont_set_dic = {};\n\t\t//Set current edit record data to all widgets\n\t\tfor ( var key in this.current_edit_record ) {\n\t\t\tvar widget = this.edit_view_ui_dic[key];\n\t\t\tif ( Global.isSet( widget ) || key === 'hierarchy_control' ) {\n\t\t\t\tswitch ( key ) {\n\t\t\t\t\tcase 'first_name':\n\t\t\t\t\tcase 'last_name':\n\t\t\t\t\t\tdont_set_dic[key + '_1'] = true;\n\t\t\t\t\t\tvar brother = this.edit_view_ui_dic[key + '_1'];\n\t\t\t\t\t\tbrother.setValue( this.current_edit_record[key] );\n\t\t\t\t\t\twidget.setValue( this.current_edit_record[key] );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'country':\n\t\t\t\t\t\tthis.setCountryValue( widget, key );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'hierarchy_control':\n\t\t\t\t\t\tif ( this.show_hierarchy ) {\n\t\t\t\t\t\t\tfor ( var h_key in this.current_edit_record.hierarchy_control ) {\n\t\t\t\t\t\t\t\tvar value = this.current_edit_record.hierarchy_control[h_key];\n\t\t\t\t\t\t\t\tif ( this.edit_view_ui_dic[h_key] ) {\n\t\t\t\t\t\t\t\t\twidget = this.edit_view_ui_dic[h_key];\n\t\t\t\t\t\t\t\t\tdont_set_dic[h_key] = true;\n\t\t\t\t\t\t\t\t\twidget.setValue( value );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'default_job_id':\n\t\t\t\t\t\t// Employee view does not filter job based on employee criteria as this that controls many of the settings itself.\n\t\t\t\t\t\t// var args = {};\n\t\t\t\t\t\t// args.filter_data = { status_id: 10, user_id: this.current_edit_record.id };\n\t\t\t\t\t\t// widget.setDefaultArgs( args );\n\t\t\t\t\t\twidget.setValue( this.current_edit_record[key] );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'default_job_item_id':\n\t\t\t\t\t\tvar args = {};\n\t\t\t\t\t\targs.filter_data = { status_id: 10, job_id: this.current_edit_record.default_job_id };\n\t\t\t\t\t\twidget.setDefaultArgs( args );\n\t\t\t\t\t\twidget.setValue( this.current_edit_record[key] );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'default_punch_tag_id':\n\t\t\t\t\t\tif ( ( Global.getProductEdition() >= 20 ) ) {\n\t\t\t\t\t\t\twidget.setValue( this.current_edit_record[key] );\n\t\t\t\t\t\t\tthis.previous_punch_tag_selection = this.current_edit_record[key];\n\n\t\t\t\t\t\t\tvar punch_tag_widget = widget;\n\t\t\t\t\t\t\tTTPromise.wait( null, null, function() {\n\t\t\t\t\t\t\t\t//Update default args for punch tags AComboBox last as they rely on data from job, job item and related fields.\n\t\t\t\t\t\t\t\tvar args = {};\n\t\t\t\t\t\t\t\targs.filter_data = $this.getPunchTagFilterData();\n\t\t\t\t\t\t\t\tpunch_tag_widget.setDefaultArgs( args );\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'job_quick_search':\n//\t\t\t\t\t\twidget.setValue( this.current_edit_record['job_id'] ? this.current_edit_record['job_id'] : 0 );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'job_item_quick_search':\n//\t\t\t\t\t\twidget.setValue( this.current_edit_record['job_item_id'] ? this.current_edit_record['job_item_id'] : 0 );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'punch_tag_quick_search':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif ( !dont_set_dic[key] ) {\n\t\t\t\t\t\t\twidget.setValue( this.current_edit_record[key] );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t\tif ( this.current_edit_record.id ) {\n\t\t\tif ( this.file_browser ) {\n\t\t\t\tthis.file_browser.show();\n\t\t\t\tthis.file_browser.setImage( ServiceCaller.getURLByObjectType( 'user_photo' ) + '&object_id=' + this.current_edit_record.id );\n\t\t\t\tif ( this.is_viewing ) {\n\t\t\t\t\tthis.file_browser.setEnable( false );\n\t\t\t\t} else {\n\t\t\t\t\tthis.file_browser.setEnable( true );\n\t\t\t\t}\n\t\t\t\t$( '.upload-image-alert' ).remove();\n\t\t\t}\n\t\t} else {\n\t\t\tif ( this.file_browser ) {\n\t\t\t\tthis.file_browser.hide();\n\t\t\t\tvar span = $( '<span class=\"upload-image-alert\">' );\n\t\t\t\tspan.text( $.i18n._( 'Please save this record before uploading a photo' ) );\n\t\t\t\tthis.file_browser.parent().append( span );\n\t\t\t}\n\t\t}\n\n\t\t// Error: TypeError: this.edit_view_ui_dic.company_id is undefined in interface/html5/framework/jquery.min.js?v=9.0.5-20151222-162143 line 2 > eval line 1374\n\t\tif ( this.edit_view_ui_dic['company_id'] ) {\n\t\t\tthis.edit_view_ui_dic['company_id'].setEnabled( false );\n\t\t}\n\t\tif ( this.edit_view_ui_dic['mfa_type_id'] ) {\n\t\t\tthis.edit_view_ui_dic['mfa_type_id'].setEnabled( false );\n\n\t\t\tif ( this.current_edit_record.mfa_type_id == 1000 ) {\n\t\t\t\tthis.detachElement( 'mfa_type_id' );\n\t\t\t}\n\t\t}\n\n\t\tthis.collectUIDataToCurrentEditRecord();\n\t\tthis.setEmailIcon();\n\n\t\tthis.setEditViewDataDone();\n\t}\n\n\t/* jshint ignore:end */\n\n\tsetEmailIcon() {\n\t\tvar $this = this;\n\t\t$( '.employee-email-icon' ).remove();\n\t\tvar work_email = $( '<img title=\"' + $.i18n._( 'ReValidate Email Address' ) + '\" class=\"employee-email-icon work-email\" src=\"theme/default/images/email16x16.png\">' );\n\t\tvar home_email = $( '<img title=\"' + $.i18n._( 'ReValidate Email Address' ) + '\" class=\"employee-email-icon home-email\" src=\"theme/default/images/email16x16.png\">' );\n\t\tif ( this.current_edit_record.hasOwnProperty( 'work_email_is_valid' ) && !this.current_edit_record.work_email_is_valid ) {\n\t\t\tthis.edit_view_form_item_dic.work_email.children().eq( 1 ).append( work_email );\n\t\t\twork_email.on( 'click', function() {\n\t\t\t\tcheckEmail( 'work_email' );\n\t\t\t} );\n\t\t} else {\n\n\t\t}\n\n\t\tif ( this.current_edit_record.hasOwnProperty( 'home_email_is_valid' ) && !this.current_edit_record.home_email_is_valid ) {\n\t\t\tthis.edit_view_form_item_dic.home_email.children().eq( 1 ).append( home_email );\n\t\t\thome_email.on( 'click', function() {\n\t\t\t\tcheckEmail( 'home_email' );\n\t\t\t} );\n\t\t}\n\n\t\tfunction checkEmail() {\n\t\t\t$this.api.sendValidationEmail( $this.current_edit_record.id, {\n\t\t\t\tonResult: function( result ) {\n\t\t\t\t\tif ( result && result.isValid() ) {\n\t\t\t\t\t\tTAlertManager.showAlert( $.i18n._( 'Validation email sent...' ) );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tTAlertManager.showAlert( $.i18n._( 'No validation email sent...' ) );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}\n\n\tonSaveResult( result ) {\n\t\tsuper.onSaveResult( result );\n\t\tif ( result && result.isValid() ) {\n\t\t\tvar system_job_queue = result.getAttributeInAPIDetails( 'system_job_queue' );\n\t\t\tif ( system_job_queue ) {\n\t\t\t\tthis.event_bus.emit( 'tt_topbar', 'toggle_job_queue_spinner', {\n\t\t\t\t\tshow: true,\n\t\t\t\t\tget_job_data: true\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t}\n\n\tonSaveDone( result ) {\n\t\tif ( this.edit_only_mode && LocalCacheData.current_open_primary_controller.viewId === 'TimeSheet' ) {\n\t\t\tLocalCacheData.current_open_primary_controller.updateSelectUserAndRefresh( this.current_edit_record );\n\t\t}\n\t}\n\n\tgetCopyAsNewFilter( filter ) {\n\t\t// overriding BaseViewController for _continueDoCopyAsNew()\n\t\tfilter.filter_data.company_id = this.select_company_id;\n\t\treturn filter;\n\t}\n\n\tonAddClick() {\n\t\tvar $this = this;\n\n\t\tif ( Global.getProductEdition() == 10 ) {\n\t\t\t$this.selectUserDefaultSettings( null );\n\t\t} else {\n\t\t\tvar data = {};\n\t\t\tdata.filter_columns = { id: true, name: true };\n\n\t\tif( $this.edit_view_tab ) {\n\t\t\t// Switch to Employee tab if New is triggered, to reinforce that this data needs filling in, as well as signalling to the user the difference for example between New Employee and New in sub grid in Qualifactions.\n\t\t\t$this.edit_view_tab.tabs( 'option', 'active', 0 ); // Switch active tab.\n\t\t\t$('.employee-edit-view .label-wrap').scrollLeft( 0 ); // Scroll through tab label wrap to ensure first tab is visible.\n\t\t}\n\n\t\t$this.api_user_default.getUserDefault( data, {\n\t\t\tonResult: function( result ) {\n\t\t\t\tvar result_data = result.getResult();\n\n\t\t\t\t\tif ( result_data.length > 1 ) {\n\t\t\t\t\t\t$this.showUserDefaultChoiceModal( result_data );\n\t\t\t\t\t} else if ( result_data.length === 1 ) {\n\t\t\t\t\t\t$this.selectUserDefaultSettings( result_data[0].id );\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$this.selectUserDefaultSettings( null );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}\n\n\tshowUserDefaultChoiceModal( choices ) {\n\t\tfor ( var i = 0; i < choices.length; i++ ) {\n\t\t\tchoices[i].value = choices[i].id;\n\t\t\tchoices[i].label = choices[i].name;\n\t\t}\n\n\t\tTAlertManager.showFlexAlert( $.i18n._( 'New Hire Default' ), $.i18n._( 'Select a new hire default template to use for this employee.' ), 'dropdown', choices, ( selection ) => {\n\t\t\tif ( selection !== false ) {\n\t\t\t\tthis.selectUserDefaultSettings( selection );\n\t\t\t}\n\t\t} );\n\n\t}\n\n\tselectUserDefaultSettings( default_id ) {\n\t\tvar $this = this;\n\t\tthis.setCurrentEditViewState( 'new' );\n\t\t$this.openEditView();\n\n\t\t$this.api['get' + $this.api.key_name + 'DefaultData']( this.select_company_id, default_id, {\n\t\t\tonResult: function( result ) {\n\t\t\t\t$this.onAddResult( result );\n\n\t\t\t}\n\t\t} );\n\t}\n\n\tonMassEditClick() {\n\n\t\tvar $this = this;\n\t\t$this.is_add = false;\n\t\t$this.is_viewing = false;\n\t\t$this.is_mass_editing = true;\n\t\tLocalCacheData.current_doing_context_action = 'mass_edit';\n\t\t$this.openEditView();\n\t\tvar filter = {};\n\t\tvar grid_selected_id_array = this.getGridSelectIdArray();\n\t\tvar grid_selected_length = grid_selected_id_array.length;\n\t\tthis.mass_edit_record_ids = [];\n\n\t\t$.each( grid_selected_id_array, function( index, value ) {\n\t\t\t$this.mass_edit_record_ids.push( value );\n\t\t} );\n\n\t\tfilter.filter_data = {};\n\t\tfilter.filter_data.id = this.mass_edit_record_ids;\n\t\tfilter.filter_data.company_id = this.select_company_id;\n\n\t\tthis.api['getCommon' + this.api.key_name + 'Data']( filter, {\n\t\t\tonResult: function( result ) {\n\t\t\t\tvar result_data = result.getResult();\n\n\t\t\t\tif ( !result_data ) {\n\t\t\t\t\tresult_data = [];\n\t\t\t\t}\n\n\t\t\t\t$this.api['getOptions']( 'unique_columns', {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\t$this.unique_columns = result.getResult();\n\t\t\t\t\t\t$this.api['getOptions']( 'linked_columns', {\n\t\t\t\t\t\t\tonResult: function( result1 ) {\n\t\t\t\t\t\t\t\t$this.linked_columns = result1.getResult();\n\n\t\t\t\t\t\t\t\tif ( $this.sub_view_mode && $this.parent_key ) {\n\t\t\t\t\t\t\t\t\tresult_data[$this.parent_key] = $this.parent_value;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t$this.current_edit_record = result_data;\n\t\t\t\t\t\t\t\t$this.initEditView();\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t}\n\t\t} );\n\t}\n\n\tgetAPIFilters() {\n\t\tvar filter = super.getAPIFilters();\n\t\tfilter.filter_data.company_id = this.select_company_id;\n\n\t\treturn filter;\n\t}\n\n\tsearch( set_default_menu, page_action, page_number, callBack ) {\n\t\tif ( !Global.isSet( set_default_menu ) ) {\n\t\t\tset_default_menu = true;\n\t\t}\n\n\t\tvar $this = this;\n\t\tvar filter = {};\n\t\tfilter.filter_data = {};\n\t\tfilter.filter_sort = {};\n\t\tfilter.filter_columns = this.getFilterColumnsFromDisplayColumns();\n\t\tfilter.filter_items_per_page = 0; // Default to 0 to load user preference defined\n\n\t\tif ( this.pager_data ) {\n\n\t\t\tif ( LocalCacheData.paging_type === 0 ) {\n\t\t\t\tif ( page_action === 'next' ) {\n\t\t\t\t\tfilter.filter_page = this.pager_data.next_page;\n\t\t\t\t} else {\n\t\t\t\t\tfilter.filter_page = 1;\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\tswitch ( page_action ) {\n\t\t\t\t\tcase 'next':\n\t\t\t\t\t\tfilter.filter_page = this.pager_data.next_page;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'last':\n\t\t\t\t\t\tfilter.filter_page = this.pager_data.previous_page;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'start':\n\t\t\t\t\t\tfilter.filter_page = 1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'end':\n\t\t\t\t\t\tfilter.filter_page = this.pager_data.last_page_number;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'go_to':\n\t\t\t\t\t\tfilter.filter_page = page_number;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tfilter.filter_page = this.pager_data.current_page;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\t\t\tfilter.filter_page = 1;\n\t\t}\n\n\t\tif ( this.sub_view_mode && this.parent_key ) {\n\t\t\tthis.select_layout.data.filter_data[this.parent_key] = this.parent_value;\n\t\t}\n\n\t\t//If sub view controller set custom filters, get it\n\t\tif ( Global.isSet( this.getSubViewFilter ) ) {\n\t\t\tthis.select_layout.data.filter_data = this.getSubViewFilter( this.select_layout.data.filter_data );\n\t\t}\n\n\t\t//select_layout will not be null, it's set in setSelectLayout function\n\t\tfilter.filter_data = Global.convertLayoutFilterToAPIFilter( this.select_layout );\n\t\tif ( this.select_layout && this.select_layout.data ) { //Fix: Uncaught TypeError: Cannot read property 'data' of null\n\t\t\tfilter.filter_sort = this.select_layout.data.filter_sort;\n\t\t}\n\n\t\tif ( TTUUID.isUUID( this.refresh_id ) ) {\n\t\t\tfilter.filter_data = {};\n\t\t\tfilter.filter_data.id = [this.refresh_id];\n\n\t\t\tthis.last_select_ids = filter.filter_data.id;\n\n\t\t} else {\n\t\t\tthis.last_select_ids = [];\n\t\t\tvar ids = this.getGridSelectIdArray();\n\t\t\t//ensure detached reference to value source or lose this.last_select_ids when grid is cleared.\n\t\t\tfor ( var i = 0; i < ids.length; i++ ) {\n\t\t\t\tthis.last_select_ids.push( ids[i] );\n\t\t\t}\n\t\t}\n\n\t\tthis.api['get' + this.api.key_name]( filter, {\n\t\t\tonResult: function( result ) {\n\n\t\t\t\tvar result_data = result.getResult();\n\t\t\t\tif ( !Global.isArray( result_data ) ) {\n\t\t\t\t\t$this.showNoResultCover();\n\t\t\t\t} else {\n\t\t\t\t\t$this.removeNoResultCover();\n\t\t\t\t\tif ( Global.isSet( $this.__createRowId ) ) {\n\t\t\t\t\t\tresult_data = $this.__createRowId( result_data );\n\t\t\t\t\t}\n\n\t\t\t\t\tresult_data = Global.formatGridData( result_data, $this.api.key_name );\n\t\t\t\t}\n\t\t\t\tif ( TTUUID.isUUID( $this.refresh_id ) ) {\n\t\t\t\t\t$this.refresh_id = null;\n\t\t\t\t\tif ( $this.grid ) { //When viwwing from JobApplication view, employee grid will not exist.\n\t\t\t\t\t\tvar grid_source_data = $this.grid.getData();\n\t\t\t\t\t\tvar len = grid_source_data.length;\n\n\t\t\t\t\t\tif ( $.type( grid_source_data ) !== 'array' ) {\n\t\t\t\t\t\t\tgrid_source_data = [];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar found = false;\n\t\t\t\t\t\tvar new_record = result_data[0];\n\n\t\t\t\t\t\t//Error: Uncaught TypeError: Cannot read property 'id' of undefined in /interface/html5/views/BaseViewController.js?v=7.4.3-20140924-084605 line 4851\n\t\t\t\t\t\tif ( new_record ) {\n\t\t\t\t\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\t\t\t\t\tvar record = grid_source_data[i];\n\n\t\t\t\t\t\t\t\t//Fixed === issue. The id set by jQGrid is string type.\n\t\t\t\t\t\t\t\t// if ( !isNaN( parseInt( record.id ) ) ) {\n\t\t\t\t\t\t\t\t// \trecord.id = parseInt( record.id );\n\t\t\t\t\t\t\t\t// }\n\n\t\t\t\t\t\t\t\tif ( record.id == new_record.id ) {\n\t\t\t\t\t\t\t\t\t$this.grid.grid.setRowData( new_record.id, new_record );\n\t\t\t\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( !found ) {\n//\t\t\t\t\t\t\t$this.grid.addRowData( new_record.id, new_record, 0 );\n\t\t\t\t\t\t\t\t$this.grid.setData( grid_source_data.concat( new_record ) );\n\t\t\t\t\t\t\t\t$this.highLightGridRowById( new_record.id );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t//Set Page data to widget, next show display info when setDefault Menu\n\t\t\t\t\t$this.pager_data = result.getPagerData();\n\n\t\t\t\t\t//CLick to show more mode no need this step\n\t\t\t\t\tif ( LocalCacheData.paging_type !== 0 ) {\n\t\t\t\t\t\t$this.paging_widget.setPagerData( $this.pager_data );\n\t\t\t\t\t\t$this.paging_widget_2.setPagerData( $this.pager_data );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( LocalCacheData.paging_type === 0 && page_action === 'next' ) {\n\t\t\t\t\t\tvar current_data = $this.grid.getData();\n\t\t\t\t\t\tresult_data = current_data.concat( result_data );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( $this.grid ) {\n\t\t\t\t\t\t$this.grid.setData( result_data );\n\n\t\t\t\t\t\t$this.reSelectLastSelectItems();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$this.setGridCellBackGround(); //Set cell background for some views\n\n\t\t\t\tProgressBar.closeOverlay(); //Add this in initData\n\n\t\t\t\tif ( set_default_menu ) {\n\t\t\t\t\t$this.setDefaultMenu( true );\n\t\t\t\t}\n\n\t\t\t\tif ( LocalCacheData.paging_type === 0 ) {\n\t\t\t\t\tif ( !$this.pager_data || $this.pager_data.is_last_page ) {\n\t\t\t\t\t\t$this.paging_widget.css( 'display', 'none' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$this.paging_widget.css( 'display', 'block' );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ( callBack ) {\n\t\t\t\t\tcallBack( result );\n\t\t\t\t}\n\n\t\t\t\t// when call this from save and new result, we don't call auto open, because this will call onAddClick twice\n\t\t\t\tif ( set_default_menu ) {\n\t\t\t\t\t$this.autoOpenEditViewIfNecessary();\n\t\t\t\t}\n\n\t\t\t\t$this.searchDone();\n\n\t\t\t}\n\t\t} );\n\n\t\t//This seems to be the only difference from BaseViewController search() function.\n\t\tif ( filter && filter.filter_data && filter.filter_data.company_id ) {\n\t\t\tthis.select_company_id = filter.filter_data.company_id;\n\n\t\t\tthis.user_group_api.getUserGroup( { filter_data: { company_id: this.select_company_id } }, false, false, {\n\t\t\t\tonResult: function( res ) {\n\n\t\t\t\t\tres = res.getResult();\n\t\t\t\t\tres = Global.buildTreeRecord( res );\n\n\t\t\t\t\tif ( !$this.edit_only_mode ) {\n\t\t\t\t\t\tif ( !$this.sub_view_mode && $this.basic_search_field_ui_dic['group_id'] ) {\n\t\t\t\t\t\t\t$this.basic_search_field_ui_dic['group_id'].setSourceData( res );\n\t\t\t\t\t\t\t$this.adv_search_field_ui_dic['group_id'].setSourceData( res );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t$this.user_group_array = res;\n\n\t\t\t\t}\n\t\t\t} );\n\n\t\t} else {\n\t\t\tthis.select_company_id = LocalCacheData.getCurrentCompany().id;\n\t\t}\n\t}\n\n\tonCustomContextClick( id ) {\n\t\tswitch ( id ) {\n\t\t\tcase 'import_icon':\n\t\t\t\tthis.onImportClick();\n\t\t\t\tbreak;\n\t\t\tcase 'timesheet':\n\t\t\tcase 'schedule':\n\t\t\tcase 'pay_stub':\n\t\t\tcase 'pay_stub_amendment':\n\t\t\t\tthis.onNavigationClick( id );\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tonMapClick() {\n\t\t// only trigger map load in specific product editions.\n\t\tif ( ( Global.getProductEdition() >= 15 ) ) {\n\t\t\tthis.is_viewing = false;\n\t\t\tProgressBar.showProgressBar();\n\t\t\tvar data = {\n\t\t\t\tfilter_columns: {\n\t\t\t\t\tid: true,\n\t\t\t\t\tfirst_name: true,\n\t\t\t\t\tlast_name: true,\n\t\t\t\t\taddress1: true,\n\t\t\t\t\taddress2: true,\n\t\t\t\t\tcity: true,\n\t\t\t\t\tprovince: true,\n\t\t\t\t\tcountry: true,\n\t\t\t\t\tpostal_code: true,\n\t\t\t\t\tlatitude: true,\n\t\t\t\t\tlongitude: true\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar cells = [];\n\t\t\tif ( this.is_edit ) {\n\t\t\t\t//when editing, if the user reloads, the grid's selected id array become the whole grid.\n\t\t\t\t//to avoid mapping every punch in that scenario we need to grab the current_edit_record, rather than pull data from getGridSelectIdArray()\n\t\t\t\t//check for mass edit as well. <-- not sure what this refers to, assuming the same happens in mass edit, but maps are disabled on mass edit atm.\n\t\t\t\tcells.push( this.current_edit_record );\n\t\t\t} else {\n\t\t\t\tvar ids = this.getGridSelectIdArray();\n\t\t\t\tdata.filter_data = Global.convertLayoutFilterToAPIFilter( this.select_layout );\n\t\t\t\tif ( ids.length > 0 ) {\n\t\t\t\t\tdata.filter_data.id = ids;\n\t\t\t\t}\n\t\t\t\tcells = this.api.getUser( data, { async: false } ).getResult();\n\t\t\t}\n\n\t\t\tif ( !this.is_mass_editing ) {\n\t\t\t\timport( /* webpackChunkName: \"leaflet-timetrex\" */ '@/framework/leaflet/leaflet-timetrex' ).then(( module )=>{\n\t\t\t\t\tvar processed_data_for_map = module.TTConvertMapData.processBasicFromGenericViewController( cells );\n\t\t\t\t\tIndexViewController.openEditView( this, 'Map', processed_data_for_map );\n\t\t\t\t}).catch( Global.importErrorHandler );\n\t\t\t}\n\t\t}\n\t}\n\n\tonImportClick() {\n\n\t\tvar $this = this;\n\t\tIndexViewController.openWizard( 'ImportCSVWizard', 'User', function() {\n\t\t\t$this.search();\n\t\t} );\n\t}\n\n\tonNavigationClick( iconName ) {\n\n\t\tvar $this = this;\n\n\t\tvar grid_selected_id_array;\n\n\t\tvar filter = {};\n\n\t\tvar user_ids = [];\n\n\t\tvar base_date = new Date().format();\n\n\t\tif ( $this.edit_view && $this.current_edit_record.id ) {\n\t\t\tuser_ids.push( $this.current_edit_record.id );\n\t\t} else {\n\t\t\tgrid_selected_id_array = this.getGridSelectIdArray();\n\t\t\t$.each( grid_selected_id_array, function( index, value ) {\n\t\t\t\tvar grid_selected_row = $this.getRecordFromGridById( value );\n\t\t\t\tuser_ids.push( grid_selected_row.id );\n\t\t\t} );\n\t\t}\n\n\t\tswitch ( iconName ) {\n\t\t\tcase 'timesheet':\n\t\t\t\tif ( user_ids.length > 0 ) {\n\t\t\t\t\tfilter.user_id = user_ids[0];\n\t\t\t\t\tfilter.base_date = base_date;\n\t\t\t\t\tGlobal.addViewTab( $this.viewId, $.i18n._( 'Employees' ), window.location.href );\n\t\t\t\t\tIndexViewController.goToView( 'TimeSheet', filter );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'schedule':\n\t\t\t\tfilter.filter_data = {};\n\t\t\t\tvar include_users = { value: user_ids };\n\t\t\t\tfilter.filter_data.include_user_ids = include_users;\n\t\t\t\tfilter.select_date = base_date;\n\t\t\t\tGlobal.addViewTab( this.viewId, $.i18n._( 'Employees' ), window.location.href );\n\t\t\t\tIndexViewController.goToView( 'Schedule', filter );\n\t\t\t\tbreak;\n\t\t\tcase 'pay_stub':\n\t\t\t\tif ( user_ids.length > 0 ) {\n\t\t\t\t\tfilter.filter_data = {};\n\t\t\t\t\tfilter.filter_data.user_id = user_ids[0];\n\t\t\t\t\tGlobal.addViewTab( $this.viewId, $.i18n._( 'Employees' ), window.location.href );\n\t\t\t\t\tIndexViewController.goToView( 'PayStub', filter );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'pay_stub_amendment':\n\t\t\t\tif ( user_ids.length > 0 ) {\n\t\t\t\t\tfilter.filter_data = {};\n\t\t\t\t\tfilter.filter_data.user_id = user_ids[0];\n\t\t\t\t\tGlobal.addViewTab( this.viewId, $.i18n._( 'Employees' ), window.location.href );\n\t\t\t\t\tIndexViewController.goToView( 'PayStubAmendment', filter );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tremoveEditView() {\n\n\t\tsuper.removeEditView();\n\t\tthis.sub_user_contact_view_controller = null;\n\t\tthis.sub_wage_view_controller = null;\n\t\tthis.sub_company_tax_view_controller = null;\n\t\tthis.sub_accrual_policy_user_modifier_view_controller = null;\n\t\tthis.sub_user_review_control_view_controller = null;\n\t\tthis.sub_job_application_view_controller = null;\n\t\tthis.sub_user_skill_view_controller = null;\n\t\tthis.sub_user_education_view_controller = null;\n\n\t\tthis.sub_user_membership_view_controller = null;\n\n\t\tthis.sub_user_license_view_controller = null;\n\n\t\tthis.sub_user_language_view_controller = null;\n\n\t\tthis.sub_payment_methods_view_controller = null;\n\t}\n\n\tbuildEditViewUI() {\n\t\tsuper.buildEditViewUI();\n\n\t\tvar $this = this;\n\n\t\tvar tab_model = {\n\t\t\t'tab_employee': { 'label': $.i18n._( 'Employee' ), 'is_multi_column': true },\n\t\t\t'tab_contact_info': { 'label': $.i18n._( 'Contact Info' ), 'is_multi_column': true },\n\t\t\t'tab_hierarchy': {\n\t\t\t\t'label': $.i18n._( 'Hierarchy' ),\n\t\t\t\t'display_on_mass_edit': false,\n\t\t\t\t'html_template': this.getHierarchyTabHtml(),\n\t\t\t},\n\t\t\t'tab_login': { 'label': $.i18n._( 'Sign In' ), 'is_multi_column': true },\n\t\t\t'tab_wage': {\n\t\t\t\t'label': $.i18n._( 'Wage' ),\n\t\t\t\t'is_sub_view': true,\n\t\t\t\t'init_callback': 'initSubWageView',\n\t\t\t\t'display_on_mass_edit': false\n\t\t\t},\n\t\t\t'tab_tax': {\n\t\t\t\t'label': $.i18n._( 'Tax' ),\n\t\t\t\t'is_sub_view': true,\n\t\t\t\t'init_callback': 'initSubCompanyTaxView',\n\t\t\t\t'display_on_mass_edit': false\n\t\t\t},\n\t\t\t'tab_payment_methods': {\n\t\t\t\t'label': $.i18n._( 'Pay Methods' ),\n\t\t\t\t'init_callback': 'initSubPaymentMethodsView',\n\t\t\t\t'display_on_mass_edit': false\n\t\t\t},\n\t\t\t'tab_contacts': {\n\t\t\t\t'label': $.i18n._( 'Contacts' ),\n\t\t\t\t'init_callback': 'initSubUserContactView',\n\t\t\t\t'display_on_mass_edit': false\n\t\t\t},\n\t\t\t'tab_applications': {\n\t\t\t\t'label': $.i18n._( 'Applications' ),\n\t\t\t\t'init_callback': 'initSubJobApplicationView',\n\t\t\t\t'display_on_mass_edit': false\n\t\t\t},\n\t\t\t'tab_accruals': {\n\t\t\t\t'label': $.i18n._( 'Accruals' ),\n\t\t\t\t'init_callback': 'initSubAccrualPolicyUserModifier',\n\t\t\t\t'display_on_mass_edit': false,\n\t\t\t\t'show_permission_div': true\n\t\t\t},\n\t\t\t'tab_qualifications': {\n\t\t\t\t'label': $.i18n._( 'Qualifications' ),\n\t\t\t\t'init_callback': 'initSubQualificationView',\n\t\t\t\t'display_on_mass_edit': false,\n\t\t\t\t'html_template': this.getQualificationsTabHtml(),\n\t\t\t},\n\t\t\t'tab_reviews': {\n\t\t\t\t'label': $.i18n._( 'Reviews' ),\n\t\t\t\t'init_callback': 'initSubUserReviewControlView',\n\t\t\t\t'display_on_mass_edit': false\n\t\t\t},\n\t\t\t'tab_attachment': true,\n\t\t\t'tab_audit': true,\n\t\t};\n\t\tthis.setTabModel( tab_model );\n\n\t\tif ( !this.edit_only_mode ) {\n\t\t\tthis.navigation.AComboBox( {\n\t\t\t\tid: this.script_name + '_navigation',\n\t\t\t\tapi_class: TTAPI.APIUser,\n\t\t\t\tallow_multiple_selection: false,\n\t\t\t\tlayout_name: 'global_user',\n\t\t\t\tnavigation_mode: true,\n\t\t\t\tshow_search_inputs: true\n\t\t\t} );\n\n\t\t\tthis.setNavigation();\n\t\t}\n\n\t\t//Employee Tab start\n\t\tvar tab_employee = this.edit_view_tab.find( '#tab_employee' );\n\t\tvar tab_employee_column1 = tab_employee.find( '.first-column' );\n\t\tvar tab_employee_column2 = tab_employee.find( '.second-column' );\n\n\t\tthis.edit_view_tabs[0] = [];\n\t\tthis.edit_view_tabs[0].push( tab_employee_column1 );\n\t\tthis.edit_view_tabs[0].push( tab_employee_column2 );\n\n\t\t//Company\n\t\tvar form_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APICompany,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_company',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'company_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Company' ), form_item_input, tab_employee_column1 );\n\t\tform_item_input.setEnabled( false );\n\n\t\t//Legal Entity\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APILegalEntity,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_legal_entity',\n\t\t\tshow_search_inputs: true,\n\t\t\tfield: 'legal_entity_id',\n\t\t\tcustomSearchFilter: ( function( args ) {\n\t\t\t\treturn $this.setCompanyIdFilter( args );\n\t\t\t} ),\n\t\t\tset_empty: true,\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Legal Entity' ), form_item_input, tab_employee_column1 );\n\n\t\t//Status\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'status_id' } );\n\t\tform_item_input.setSourceData( $this.status_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Status' ), form_item_input, tab_employee_column1 );\n\n\t\t//First Name\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'first_name', width: 200 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'First Name' ), form_item_input, tab_employee_column1, '' );\n\n\t\t//Last Name\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'last_name', width: 200 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Last Name' ), form_item_input, tab_employee_column1 );\n\n\t\t//Employee Number\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'employee_number', width: 90 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Employee Number' ), form_item_input, tab_employee_column1 );\n\n\t\t//Permission Group\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIPermissionControl,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_permission_control',\n\t\t\tshow_search_inputs: true,\n\t\t\tfield: 'permission_control_id',\n\t\t\tcustomSearchFilter: ( function( args ) {\n\t\t\t\treturn $this.setCompanyIdFilter( args );\n\t\t\t} ),\n\t\t\tset_empty: true\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Permission Group' ), form_item_input, tab_employee_column1 );\n\n\t\t//Pay Period Schedule\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIPayPeriodSchedule,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_pay_period_schedule',\n\t\t\tshow_search_inputs: true,\n\t\t\tcustomSearchFilter: ( function( args ) {\n\t\t\t\treturn $this.setCompanyIdFilter( args );\n\t\t\t} ),\n\t\t\tset_empty: true,\n\t\t\tfield: 'pay_period_schedule_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Pay Period Schedule' ), form_item_input, tab_employee_column1 );\n\n\t\t//Policy Group\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIPolicyGroup,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_policy_group',\n\t\t\tcustomSearchFilter: ( function( args ) {\n\t\t\t\treturn $this.setCompanyIdFilter( args );\n\t\t\t} ),\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'policy_group_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Policy Group' ), form_item_input, tab_employee_column1 );\n\n\t\tif ( this.is_add ) {\n\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\t\tform_item_input.AComboBox( {\n\t\t\t\tfield: 'recurring_schedule_id',\n\t\t\t\tapi_class: TTAPI.APIRecurringScheduleTemplateControl,\n\t\t\t\tallow_multiple_selection: true,\n\t\t\t\tlayout_name: 'global_recurring_template_control',\n\t\t\t\tshow_search_inputs: true,\n\t\t\t\tset_empty: true\n\t\t\t} );\n\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Recurring Schedule' ), form_item_input, tab_employee_column1, 'first_last' );\n\t\t}\n\n\t\t//Title\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIUserTitle,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_job_title',\n\t\t\tcustomSearchFilter: ( function( args ) {\n\t\t\t\treturn $this.setCompanyIdFilter( args );\n\t\t\t} ),\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'title_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Title' ), form_item_input, tab_employee_column1, '' );\n\n\t\t//Second Column Start\n\n\t\t//Currency\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APICurrency,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_currency',\n\t\t\tcustomSearchFilter: ( function( args ) {\n\t\t\t\treturn $this.setCompanyIdFilter( args );\n\t\t\t} ),\n\t\t\tshow_search_inputs: true,\n\t\t\tfield: 'currency_id',\n\t\t\tset_empty: true\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Currency' ), form_item_input, tab_employee_column2 );\n\n\t\t//Default Branch\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIBranch,\n\t\t\tallow_multiple_selection: false,\n\t\t\tcustomSearchFilter: ( function( args ) {\n\t\t\t\treturn $this.setCompanyIdFilter( args );\n\t\t\t} ),\n\t\t\tlayout_name: 'global_branch',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'default_branch_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Default Branch' ), form_item_input, tab_employee_column2 );\n\n\t\t//Department\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIDepartment,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_department',\n\t\t\tcustomSearchFilter: ( function( args ) {\n\t\t\t\treturn $this.setCompanyIdFilter( args );\n\t\t\t} ),\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'default_department_id'\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Default Department' ), form_item_input, tab_employee_column2 );\n\n\t\tthis.initPermission(); //#2398 - job/task permissions were getting broken on multiple opens of same employee.\n\t\tif ( ( Global.getProductEdition() >= 20 ) ) {\n\n\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\t\tform_item_input.AComboBox( {\n\t\t\t\tapi_class: TTAPI.APIJob,\n\t\t\t\tallow_multiple_selection: false,\n\t\t\t\tlayout_name: 'global_job',\n\t\t\t\tcustomSearchFilter: ( function( args ) {\n\t\t\t\t\treturn $this.setCompanyIdFilter( args );\n\t\t\t\t} ),\n\t\t\t\tshow_search_inputs: true,\n\t\t\t\tset_empty: true,\n\t\t\t\talways_include_columns: ['group_id'],\n\t\t\t\tsetRealValueCallBack: ( function( val ) {\n\n\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\tjob_coder.setValue( val.manual_id );\n\t\t\t\t\t}\n\t\t\t\t} ),\n\t\t\t\tfield: 'default_job_id'\n\t\t\t} );\n\n\t\t\tvar default_job_description = $( '<div class=\\'widget-h-box\\'></div>' );\n\n\t\t\tvar job_coder = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\tjob_coder.TTextInput( { field: 'job_quick_search', disable_keyup_event: true } );\n\t\t\tjob_coder.addClass( 'job-coder' );\n\n\t\t\tdefault_job_description.append( job_coder );\n\t\t\tdefault_job_description.append( form_item_input );\n\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Default Job' ), [form_item_input, job_coder], tab_employee_column2, '', default_job_description, true );\n\n\t\t\tif ( !this.show_job_ui ) {\n\t\t\t\tthis.detachElement( 'default_job_id' );\n\t\t\t}\n\n\t\t\t//Job Item\n\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\t\tform_item_input.AComboBox( {\n\t\t\t\tapi_class: TTAPI.APIJobItem,\n\t\t\t\tallow_multiple_selection: false,\n\t\t\t\tlayout_name: 'global_job_item',\n\t\t\t\tcustomSearchFilter: ( function( args ) {\n\t\t\t\t\treturn $this.setCompanyIdFilter( args );\n\t\t\t\t} ),\n\t\t\t\tshow_search_inputs: true,\n\t\t\t\tset_empty: true,\n\t\t\t\talways_include_columns: ['group_id'],\n\t\t\t\tsetRealValueCallBack: ( function( val ) {\n\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\tjob_item_coder.setValue( val.manual_id );\n\t\t\t\t\t}\n\t\t\t\t} ),\n\t\t\t\tfield: 'default_job_item_id'\n\t\t\t} );\n\n\t\t\tvar default_task_description = $( '<div class=\\'widget-h-box\\'></div>' );\n\n\t\t\tvar job_item_coder = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\tjob_item_coder.TTextInput( { field: 'job_item_quick_search', disable_keyup_event: true } );\n\t\t\tjob_item_coder.addClass( 'job-coder' );\n\n\t\t\tdefault_task_description.append( job_item_coder );\n\t\t\tdefault_task_description.append( form_item_input );\n\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Default Task' ), [form_item_input, job_item_coder], tab_employee_column2, '', default_task_description, true );\n\n\t\t\tif ( !this.show_job_item_ui ) {\n\t\t\t\tthis.detachElement( 'default_job_item_id' );\n\t\t\t}\n\n\t\t\t//Punch Tag\n\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\t\tform_item_input.AComboBox( {\n\t\t\t\tapi_class: TTAPI.APIPunchTag,\n\t\t\t\tallow_multiple_selection: true,\n\t\t\t\tlayout_name: 'global_punch_tag',\n\t\t\t\tcustomSearchFilter: ( function( args ) {\n\t\t\t\t\treturn $this.setCompanyIdFilter( args );\n\t\t\t\t} ),\n\t\t\t\tshow_search_inputs: true,\n\t\t\t\tset_empty: true,\n\t\t\t\tget_real_data_on_multi: true,\n\t\t\t\tsetRealValueCallBack: ( ( punch_tags, get_real_data ) => {\n\t\t\t\t\tif ( punch_tags ) {\n\t\t\t\t\t\tthis.setPunchTagQuickSearchManualIds( punch_tags, get_real_data );\n\t\t\t\t\t}\n\t\t\t\t} ),\n\t\t\t\tfield: 'default_punch_tag_id'\n\t\t\t} );\n\n\t\t\tvar default_punch_tag_description = $( '<div class=\\'widget-h-box\\'></div>' );\n\n\t\t\tvar punch_tag_coder = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\tpunch_tag_coder.TTextInput( { field: 'punch_tag_quick_search', disable_keyup_event: true } );\n\t\t\tpunch_tag_coder.addClass( 'job-coder' );\n\n\t\t\tdefault_punch_tag_description.append( punch_tag_coder );\n\t\t\tdefault_punch_tag_description.append( form_item_input );\n\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Default Punch Tag' ), [form_item_input, punch_tag_coder], tab_employee_column2, '', default_punch_tag_description, true );\n\n\t\t\tif ( !this.show_punch_tag_ui ) {\n\t\t\t\tthis.detachElement( 'default_punch_tag_id' );\n\t\t\t}\n\t\t}\n\n\t\t//Group\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\ttree_mode: true,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_tree_column',\n\t\t\tset_empty: true,\n\t\t\tfield: 'group_id'\n\t\t} );\n\t\tform_item_input.setSourceData( $this.user_group_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Group' ), form_item_input, tab_employee_column2 );\n\n\t\t// Ethnicity\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIEthnicGroup,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_ethnic_group',\n\t\t\tcustomSearchFilter: ( function( args ) {\n\t\t\t\treturn $this.setCompanyIdFilter( args );\n\t\t\t} ),\n\t\t\tshow_search_inputs: true,\n\t\t\tfield: 'ethnic_group_id',\n\t\t\tset_empty: true\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Ethnicity' ), form_item_input, tab_employee_column2 );\n\n\t\t//SIN\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'sin', width: 90 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'SIN / SSN' ), form_item_input, tab_employee_column2 );\n\n\t\t//Birth Date\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.DATE_PICKER );\n\t\tform_item_input.TDatePicker( { field: 'birth_date' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Birth Date' ), form_item_input, tab_employee_column2 );\n\n\t\t//Hire Date\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.DATE_PICKER );\n\t\tform_item_input.TDatePicker( { field: 'hire_date' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Hire Date' ), form_item_input, tab_employee_column2 );\n\n\t\t//Termination Date\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.DATE_PICKER );\n\t\tform_item_input.TDatePicker( { field: 'termination_date' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Termination Date' ), form_item_input, tab_employee_column2 );\n\n\t\t//Tags\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TAG_INPUT );\n\t\tform_item_input.TTagInput( { field: 'tag', object_type_id: 200 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Tags' ), form_item_input, tab_employee_column2, '', null, null, true );\n\n\t\t//Contact Tab start\n\t\tvar tab_contact_info = this.edit_view_tab.find( '#tab_contact_info' );\n\t\tvar tab_contact_info_column1 = tab_contact_info.find( '.first-column' );\n\t\tvar tab_contact_info_column2 = tab_contact_info.find( '.second-column' );\n\n\t\tthis.edit_view_tabs[1] = [];\n\t\tthis.edit_view_tabs[1].push( tab_contact_info_column1 );\n\t\tthis.edit_view_tabs[1].push( tab_contact_info_column2 );\n\n\t\t// Photo\n\t\tif ( typeof FormData == 'undefined' ) {\n\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.IMAGE_BROWSER );\n\t\t\tthis.file_browser = form_item_input.TImageBrowser( {\n\t\t\t\tfield: '',\n\t\t\t\tdefault_width: 128,\n\t\t\t\tdefault_height: 128,\n\t\t\t\tenable_delete: true\n\t\t\t} );\n\n\t\t\tthis.file_browser.bind( 'imageChange', function( e, target ) {\n\t\t\t\tnew ServiceCaller().uploadFile( target.getValue(), 'object_type=user_photo&object_id=' + $this.current_edit_record.id, {\n\t\t\t\t\tonResult: function( result ) {\n\n\t\t\t\t\t\tif ( result.toLowerCase() === 'true' ) {\n\t\t\t\t\t\t\t$this.refreshProfileImage( $this.file_browser );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tTAlertManager.showAlert( result, 'Error' );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t} );\n\n\t\t} else {\n\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.IMAGE_AVD_BROWSER );\n\t\t\tthis.file_browser = form_item_input.TImageAdvBrowser( {\n\t\t\t\tfield: '',\n\t\t\t\tdefault_width: 128,\n\t\t\t\tdefault_height: 128,\n\t\t\t\tenable_delete: true,\n\t\t\t\tcallBack: function( form_data ) {\n\t\t\t\t\tnew ServiceCaller().uploadFile( form_data, 'object_type=user_photo&object_id=' + $this.current_edit_record.id, {\n\t\t\t\t\t\tonResult: function( result ) {\n\n\t\t\t\t\t\t\tif ( result.toLowerCase() === 'true' ) {\n\t\t\t\t\t\t\t\t$this.refreshProfileImage( $this.file_browser );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tTAlertManager.showAlert( result, 'Error' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t\t},\n\t\t\t\tdeleteImageHandler: function( e ) {\n\t\t\t\t\t$this.onDeleteImage( () => {\n\t\t\t\t\t\t$this.refreshProfileImage( $this.file_browser );\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t}\n\n\t\tif ( this.is_edit ) {\n\t\t\tthis.file_browser.setEnableDelete( true );\n\t\t\tthis.file_browser.bind( 'deleteClick', function( e, target ) {\n\t\t\t\t$this.api.deleteImage( $this.current_edit_record.id, {\n\t\t\t\t\tonResult: function( result ) {\n\t\t\t\t\t\t$this.onDeleteImage( () => {\n\t\t\t\t\t\t\t$this.refreshProfileImage( $this.file_browser );\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t} );\n\t\t}\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Photo' ), this.file_browser, tab_contact_info_column1, '', null, false, true );\n\n\t\t//First Name\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'first_name_1', width: 200 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'First Name' ), form_item_input, tab_contact_info_column1 );\n\n\t\t//Middle Name\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'middle_name', width: 200 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Middle Name' ), form_item_input, tab_contact_info_column1 );\n\n\t\t//Last Name\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'last_name_1', width: 200 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Last Name' ), form_item_input, tab_contact_info_column1 );\n\n\t\t//Home Address(Line 1)\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'address1', width: '100%' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Home Address (Line 1)' ), form_item_input, tab_contact_info_column1 );\n\t\tform_item_input.parent().width( '45%' );\n\n\t\t//Home Address(Line 2)\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'address2', width: '100%' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Home Address (Line 2)' ), form_item_input, tab_contact_info_column1 );\n\t\tform_item_input.parent().width( '45%' );\n\n\t\t//City\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'city', width: 200 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'City' ), form_item_input, tab_contact_info_column1 );\n\n\t\t//Country\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'country', set_empty: true } );\n\t\tform_item_input.setSourceData( $this.country_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Country' ), form_item_input, tab_contact_info_column1 );\n\n\t\t//Province / State\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'province' } );\n\t\tform_item_input.setSourceData( [] );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Province/State' ), form_item_input, tab_contact_info_column1 );\n\n\t\t//City\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'postal_code', width: 200 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Postal/ZIP Code' ), form_item_input, tab_contact_info_column1, '' );\n\n\t\t//Column 2\n\n\t\t//Gender\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'sex_id' } );\n\t\tform_item_input.setSourceData( $this.sex_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Gender' ), form_item_input, tab_contact_info_column2 );\n\n\t\t//Work Phone\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'work_phone', width: 200 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Work Phone' ), form_item_input, tab_contact_info_column2, '' );\n\n\t\t//Work Phone Ext\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'work_phone_ext' } );\n\t\tform_item_input.css( 'width', '50' );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Work Phone Ext' ), form_item_input, tab_contact_info_column2 );\n\n\t\t//Home Phone\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'home_phone', width: 200 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Home Phone' ), form_item_input, tab_contact_info_column2 );\n\n\t\t//Mobile Phone\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'mobile_phone', width: 200 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Mobile Phone' ), form_item_input, tab_contact_info_column2 );\n\n\t\t//Fax\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'fax_phone', width: 200 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Fax' ), form_item_input, tab_contact_info_column2 );\n\n\t\t//Work Email\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'work_email', width: 200 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Work Email' ), form_item_input, tab_contact_info_column2, '', null, true );\n\n\t\t//Home Email\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'home_email', width: 200 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Home Email' ), form_item_input, tab_contact_info_column2, '', null, true );\n\n\t\t//Note\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_AREA );\n\t\tform_item_input.TTextArea( { field: 'note', width: '100%', rows: 4 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Note' ), form_item_input, tab_contact_info_column2, '', null, null, true );\n\t\tform_item_input.parent().width( '45%' );\n\n\t\t//Hierarchy Tab start\n\t\tvar tab_hierarchy = this.edit_view_tab.find( '#tab_hierarchy' );\n\t\tvar tab_hierarchy_column1 = tab_hierarchy.find( '.first-column' );\n\n\t\tthis.edit_view_tabs[2] = [];\n\t\tthis.edit_view_tabs[2].push( tab_hierarchy_column1 );\n\n\t\tif ( this.hierarchyPermissionValidate() ) {\n\t\t\tvar result = this.hierarchyControlAPI.getHierarchyControlOptions( { async: false } );\n\t\t\t$this.hierarchy_options_dic = {};\n\n\t\t\tif ( result ) {\n\t\t\t\tvar data = result.getResult();\n\t\t\t\tfor ( var key in data ) {\n\t\t\t\t\tif ( parseInt( key ) === 200 && Global.getProductEdition() != 25 ) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\t$this.hierarchy_options_dic[key] = Global.buildRecordArray( data[key] );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( _.size( $this.hierarchy_options_dic ) > 0 ) {\n\t\t\t\t$this.show_hierarchy = true;\n\t\t\t} else {\n\t\t\t\t$this.show_hierarchy = false;\n\t\t\t}\n\t\t}\n\n\t\tif ( this.show_hierarchy && this.hierarchy_ui_model ) {\n\t\t\tthis.edit_view_tab.find( '#tab_hierarchy' ).find( '.first-column' ).css( 'display', 'block' );\n\t\t\tthis.edit_view_tab.find( '#tab_hierarchy' ).find( '.hierarchy-div' ).css( 'display', 'none' );\n\t\t\tvar len = this.hierarchy_ui_model.length;\n\t\t\tfor ( var i = 0; i < len; i++ ) {\n\t\t\t\tvar ui_model = this.hierarchy_ui_model[i];\n\t\t\t\tvar options = this.hierarchy_options_dic[ui_model.id];\n\t\t\t\tif ( options ) {\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\t\t\tform_item_input.TComboBox( { field: ui_model.id } );\n\t\t\t\t\tform_item_input.setSourceData( options );\n\t\t\t\t\tthis.addEditFieldToColumn( ui_model.value, form_item_input, tab_hierarchy_column1 );\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthis.edit_view_tab.find( '#tab_hierarchy' ).find( '.first-column' ).css( 'display', 'none' );\n\t\t\tthis.edit_view_tab.find( '#tab_hierarchy' ).find( '.hierarchy-div' ).NoHierarchyBox( { related_view_controller: this } );\n\t\t\tthis.edit_view_tab.find( '#tab_hierarchy' ).find( '.hierarchy-div' ).css( 'display', 'block' );\n\t\t}\n\n\t\t//Login Tab start\n\t\tvar tab_login = this.edit_view_tab.find( '#tab_login' );\n\t\tvar tab_login_column1 = tab_login.find( '.first-column' );\n\t\tvar tab_login_column2 = tab_login.find( '.second-column' );\n\n\t\tthis.edit_view_tabs[3] = [];\n\t\tthis.edit_view_tabs[3].push( tab_login_column1 );\n\t\tthis.edit_view_tabs[3].push( tab_login_column2 );\n\n\t\t//Login Enabled\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.CHECKBOX );\n\t\tform_item_input.TCheckbox( { field: 'enable_login' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Sign In Enabled' ), form_item_input, tab_login_column1 );\n\n\t\tvar form_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'mfa_type_id' } );\n\t\tform_item_input.setSourceData( $this.mfa_type_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Multifactor Authentication' ), form_item_input, tab_login_column1, null, null, true );\n\n\t\t//User Name\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'user_name', width: 200 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'User Name' ), form_item_input, tab_login_column1 );\n\n\t\t//Password\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.PASSWORD_INPUT );\n\t\tform_item_input.TTextInput( { field: 'password', width: 200 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Change Password' ), form_item_input, tab_login_column1 );\n\n\t\t//Password Confirm\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.PASSWORD_INPUT );\n\t\tform_item_input.TTextInput( { field: 'password_confirm', width: 200 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Confirm Password' ), form_item_input, tab_login_column1 );\n\n\t\tif ( Global.getProductEdition() > 10 ) {\n\t\t\t//Quick Punch ID\n\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\tform_item_input.TTextInput( { field: 'phone_id', width: 90 } );\n\t\t\tvar quick_punch_id_description = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\t\tquick_punch_id_description.append( form_item_input );\n\t\t\tquick_punch_id_description.append( $( '<span class=\\'widget-right-label\\'>( ' + $.i18n._( 'Optional' ) + ' )</span>' ) );\n\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Quick Punch ID' ), form_item_input, tab_login_column2, '', quick_punch_id_description );\n\n\t\t\t//Quick Punch Password\n\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\tform_item_input.TTextInput( { field: 'phone_password', width: 90 } );\n\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Quick Punch Password' ), form_item_input, tab_login_column2 );\n\t\t}\n\n\t\t//Login Expire Date\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.DATE_PICKER );\n\t\tform_item_input.TDatePicker( { field: 'login_expire_date' } );\n\t\tvar login_expire_date_description = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlogin_expire_date_description.append( form_item_input );\n\t\tlogin_expire_date_description.append( $( '<span class=\\'widget-right-label\\'>( ' + $.i18n._( 'Leave blank to never expire' ) + ' )</span>' ) );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Sign In Expire Date' ), form_item_input, tab_login_column2, '', login_expire_date_description );\n\n\t\t//Terminated Permission Group\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIPermissionControl,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_permission_control',\n\t\t\tshow_search_inputs: true,\n\t\t\tfield: 'terminated_permission_control_id',\n\t\t\tcustomSearchFilter: ( function( args ) {\n\t\t\t\treturn $this.setCompanyIdFilter( args );\n\t\t\t} ),\n\t\t\tset_empty: true\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Terminated Permission Group' ), form_item_input, tab_login_column2 );\n\n\t\tTTPromise.resolve( 'employeeEditView', 'openEditView' );\n\t}\n\n\tgetQualificationsTabHtml() {\n\t\tvar html_template = `<div id=\"tab_qualifications\" class=\"edit-view-tab-outside-sub-view\">\n\t\t\t\t\t\t\t\t<div class=\"edit-view-tab\" id=\"tab_qualifications_content_div\">\n\t\t\t\t\t\t\t\t\t<div class=\"first-column-sub-view\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"first-sub-view\"></div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"second-sub-view\"></div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"third-sub-view\"></div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"forth-sub-view\"></div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"fifth-sub-view\"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"save-and-continue-div\">\n\t\t\t\t\t\t\t\t\t\t<span class=\"message\"></span>\n\t\t\t\t\t\t\t\t\t\t<div class=\"save-and-continue-button-div\">\n\t\t\t\t\t\t\t\t\t\t\t<button class=\"tt-button p-button p-component\" type=\"button\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"icon\"></span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"p-button-label\"></span>\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>`;\n\n\t\treturn html_template;\n\t}\n\n\tsetProvince( val, m ) {\n\t\tvar $this = this;\n\n\t\tif ( !val || val === '-1' || val === '0' ) {\n\t\t\t$this.province_array = [];\n\t\t\tthis.adv_search_field_ui_dic['province'].setSourceData( [] );\n\t\t} else {\n\n\t\t\tthis.company_api.getOptions( 'province', val, {\n\t\t\t\tonResult: function( res ) {\n\t\t\t\t\tres = res.getResult();\n\t\t\t\t\tif ( !res ) {\n\t\t\t\t\t\tres = [];\n\t\t\t\t\t}\n\n\t\t\t\t\t$this.province_array = Global.buildRecordArray( res );\n\t\t\t\t\t$this.adv_search_field_ui_dic['province'].setSourceData( $this.province_array );\n\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}\n\n\teSetProvince( val, refresh ) {\n\t\tvar $this = this;\n\t\tvar province_widget = $this.edit_view_ui_dic['province'];\n\n\t\tif ( !val || val === '-1' || val === '0' ) {\n\t\t\t$this.e_province_array = [];\n\t\t\tprovince_widget.setSourceData( [] );\n\n\t\t} else {\n\t\t\tthis.company_api.getOptions( 'province', val, {\n\t\t\t\tonResult: function( res ) {\n\t\t\t\t\tres = res.getResult();\n\t\t\t\t\tif ( !res ) {\n\t\t\t\t\t\tres = [];\n\t\t\t\t\t}\n\t\t\t\t\t$this.e_province_array = Global.buildRecordArray( res );\n\n\t\t\t\t\tif ( refresh && $this.e_province_array.length > 0 ) {\n\t\t\t\t\t\t$this.current_edit_record.province = $this.e_province_array[0].value;\n\t\t\t\t\t\tprovince_widget.setValue( $this.current_edit_record.province );\n\t\t\t\t\t}\n\n\t\t\t\t\tprovince_widget.setSourceData( $this.e_province_array );\n\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}\n\n\tonSetSearchFilterFinished() {\n\n\t\tif ( this.search_panel.getSelectTabIndex() === 1 ) {\n\t\t\tvar combo = this.adv_search_field_ui_dic['country'];\n\t\t\tvar select_value = combo.getValue();\n\t\t\tthis.setProvince( select_value );\n\t\t}\n\t}\n\n\tonBuildBasicUIFinished() {\n\t\tvar basicSearchTabPanel = this.search_panel.find( 'div #basic_search' );\n\t}\n\n\tonBuildAdvUIFinished() {\n\n\t\tthis.adv_search_field_ui_dic['country'].change( $.proxy( function() {\n\t\t\tvar combo = this.adv_search_field_ui_dic['country'];\n\t\t\tvar selectVal = combo.getValue();\n\n\t\t\tthis.setProvince( selectVal );\n\n\t\t\tthis.adv_search_field_ui_dic['province'].setValue( null );\n\n\t\t}, this ) );\n\t}\n\n\tbuildSearchFields() {\n\n\t\tsuper.buildSearchFields();\n\n\t\tvar $this = this;\n\t\tthis.search_fields = [\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Company' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'company_id',\n\t\t\t\tlayout_name: 'global_company',\n\t\t\t\tapi_class: TTAPI.APICompany,\n\t\t\t\tmultiple: false,\n\t\t\t\tcustom_first_label: Global.default_item,\n\t\t\t\tbasic_search: PermissionManager.checkTopLevelPermission( 'Companies' ) ? true : false,\n\t\t\t\tadv_search: PermissionManager.checkTopLevelPermission( 'Companies' ) ? true : false,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Legal Entity' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'legal_entity_id',\n\t\t\t\tlayout_name: 'global_legal_entity',\n\t\t\t\tapi_class: TTAPI.APILegalEntity,\n\t\t\t\tmultiple: true,\n\t\t\t\tcustom_first_label: Global.any_item,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: true,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Status' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'status_id',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: true,\n\t\t\t\tlayout_name: 'global_option_column',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'First Name' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'first_name',\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: true,\n\t\t\t\tform_item_type: FormItemType.TEXT_INPUT\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Last Name' ),\n\t\t\t\tfield: 'last_name',\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: true,\n\t\t\t\tin_column: 1,\n\t\t\t\tform_item_type: FormItemType.TEXT_INPUT\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Employee Number' ),\n\t\t\t\tfield: 'employee_number',\n\t\t\t\tbasic_search: false,\n\t\t\t\tadv_search: true,\n\t\t\t\tin_column: 1,\n\t\t\t\tform_item_type: FormItemType.TEXT_INPUT\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Phone' ),\n\t\t\t\tfield: 'any_phone',\n\t\t\t\tbasic_search: false,\n\t\t\t\tadv_search: true,\n\t\t\t\tin_column: 1,\n\t\t\t\tform_item_type: FormItemType.TEXT_INPUT\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Email' ),\n\t\t\t\tfield: 'any_email',\n\t\t\t\tbasic_search: false,\n\t\t\t\tadv_search: true,\n\t\t\t\tin_column: 2,\n\t\t\t\tform_item_type: FormItemType.TEXT_INPUT\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Tags' ),\n\t\t\t\tfield: 'tag',\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: true,\n\t\t\t\tin_column: 2,\n\t\t\t\tobject_type_id: 200,\n\t\t\t\tform_item_type: FormItemType.TAG_INPUT\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Gender' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'sex_id',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: false,\n\t\t\t\tadv_search: true,\n\t\t\t\tlayout_name: 'global_option_column',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Group' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tmultiple: true,\n\t\t\t\tfield: 'group_id',\n\t\t\t\tlayout_name: 'global_tree_column',\n\t\t\t\ttree_mode: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: true,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Default Branch' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'default_branch_id',\n\t\t\t\tlayout_name: 'global_branch',\n\t\t\t\tapi_class: TTAPI.APIBranch,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: true,\n\t\t\t\tcustomSearchFilter: ( function( args ) {\n\t\t\t\t\treturn $this.setCompanyIdFilter( args );\n\t\t\t\t} ),\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Default Department' ),\n\t\t\t\tfield: 'default_department_id',\n\t\t\t\tin_column: 2,\n\t\t\t\tlayout_name: 'global_department',\n\t\t\t\tapi_class: TTAPI.APIDepartment,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: true,\n\t\t\t\tcustomSearchFilter: ( function( args ) {\n\t\t\t\t\treturn $this.setCompanyIdFilter( args );\n\t\t\t\t} ),\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Policy Group' ),\n\t\t\t\tfield: 'policy_group_id',\n\t\t\t\tin_column: 3,\n\t\t\t\tlayout_name: 'global_policy_group',\n\t\t\t\tapi_class: TTAPI.APIPolicyGroup,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: true,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Title' ),\n\t\t\t\tfield: 'title_id',\n\t\t\t\tin_column: 3,\n\t\t\t\tlayout_name: 'global_job_title',\n\t\t\t\tapi_class: TTAPI.APIUserTitle,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: false,\n\t\t\t\tadv_search: true,\n\t\t\t\tcustomSearchFilter: ( function( args ) {\n\t\t\t\t\treturn $this.setCompanyIdFilter( args );\n\t\t\t\t} ),\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Country' ),\n\t\t\t\tin_column: 3,\n\t\t\t\tfield: 'country',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: false,\n\t\t\t\tadv_search: true,\n\t\t\t\tlayout_name: 'global_option_column',\n\t\t\t\tform_item_type: FormItemType.COMBO_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Province/State' ),\n\t\t\t\tin_column: 3,\n\t\t\t\tfield: 'province',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: false,\n\t\t\t\tadv_search: true,\n\t\t\t\tlayout_name: 'global_option_column',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'City' ),\n\t\t\t\tfield: 'city',\n\t\t\t\tbasic_search: false,\n\t\t\t\tadv_search: true,\n\t\t\t\tin_column: 3,\n\t\t\t\tform_item_type: FormItemType.TEXT_INPUT\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'SIN/SSN' ),\n\t\t\t\tfield: 'sin',\n\t\t\t\tbasic_search: false,\n\t\t\t\tadv_search: true,\n\t\t\t\tin_column: 3,\n\t\t\t\tform_item_type: FormItemType.TEXT_INPUT\n\t\t\t} )\n\t\t];\n\t}\n\n\tsetCompanyIdFilter( args ) {\n\n\t\tif ( !args ) {\n\t\t\targs = { filter_data: { company_id: this.select_company_id } };\n\n\t\t} else {\n\t\t\tif ( !args.filter_data ) {\n\t\t\t\targs.filter_data = { company_id: this.select_company_id };\n\t\t\t} else {\n\t\t\t\targs.filter_data.company_id = this.select_company_id;\n\t\t\t}\n\t\t}\n\n\t\treturn args;\n\t}\n\n\tcleanWhenUnloadView( callBack ) {\n\n\t\t$( '#employee_view_container' ).remove();\n\t\tsuper.cleanWhenUnloadView( callBack );\n\t}\n\n\tgetFilterColumnsFromDisplayColumns( column_filter, enable_system_columns ) {\n\t\tif ( column_filter == undefined ) {\n\t\t\tcolumn_filter = {};\n\t\t}\n\t\tcolumn_filter.company_id = true;\n\t\tcolumn_filter.latitude = true;\n\t\tcolumn_filter.longitude = true;\n\t\treturn this._getFilterColumnsFromDisplayColumns( column_filter, enable_system_columns );\n\t}\n\n\tgetPunchTagFilterData() {\n\t\tif ( !this.current_edit_record || !this.current_edit_record.user_id ) {\n\t\t\treturn {};\n\t\t}\n\n\t\tvar filter_data = {\n\t\t\tstatus_id: 10,\n\t\t\tuser_id: this.current_edit_record.id,\n\t\t\tuser_group_id: this.current_edit_record.group_id,\n\t\t\tbranch_id: this.current_edit_record.default_branch_id,\n\t\t\tdepartment_id: this.current_edit_record.default_department_id,\n\t\t\tjob_id: this.current_edit_record.default_job_id,\n\t\t\tjob_item_id: this.current_edit_record.default_job_item_id,\n\t\t};\n\n\t\treturn filter_data;\n\t}\n\n\trefreshProfileImage( file_browser ) {\n\t\tlet image_url = ServiceCaller.getURLByObjectType( 'user_photo' ) + '&object_id=' + this.current_edit_record.id + '&refresh_id=' + TTUUID.generateUUID();\n\t\tfile_browser.setImage( image_url );\n\t\tthis.event_bus.emit( 'tt_topbar', 'refresh_profile_image', {\n\t\t\timage_url: image_url\n\t\t} );\n\t}\n\n\tgetHierarchyTabHtml() {\n\t\treturn `<div id=\"tab_hierarchy\" class=\"edit-view-tab-outside\">\n\t\t\t\t\t<div class=\"edit-view-tab\" id=\"tab_hierarchy_content_div\">\n\t\t\t\t\t\t<div class=\"first-column full-width-column\"></div>\n\t\t\t\t\t\t<div class=\"hierarchy-div\">\n\t\t\t\t\t\t\t<span class=\"message\"></span>\n\t\t\t\t\t\t\t<div class=\"save-and-continue-button-div\">\n\t\t\t\t\t\t\t\t<button class=\"tt-button p-button p-component\" type=\"button\">\n\t\t\t\t\t\t\t\t\t<span class=\"icon\"></span>\n\t\t\t\t\t\t\t\t\t<span class=\"p-button-label\"></span>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>`;\n\t}\n\n}\n"],"file":"v16.12.9/EmployeeViewController-CIQk95iS.bundle.js"}