import{j as k}from"./vendor-tTApdY0Y.bundle.js";(function(t){t.fn.TDatePicker=function(b){var m=t.extend({},t.fn.TDatePicker.defaults,b),i=this,p,g,a,c,o="",l,h="date",w,v=!1,r=null,d=!0,u=!1,_=!1;return this.getEnabled=function(){return d},this.setEnabled=function(e){d=e,e===!1||e===""?(a.addClass("t-date-picker-readonly"),c.css("display","none"),a.attr("readonly","readonly"),r&&r.hide()):(a.removeClass("t-date-picker-readonly"),c.css("display","inline"),a.removeAttr("readonly"),r&&r.show())},this.setCheckBox=function(e){r&&(r.children().eq(0)[0].checked=e)},this.isChecked=function(){return!!(r&&r.children().eq(0)[0].checked===!0)},this.setMassEditMode=function(e){v=e,v?(r=t(' <div class="mass-edit-checkbox-wrapper"><input type="checkbox" class="mass-edit-checkbox"></input><label for="checkbox-input-1" class="input-helper input-helper--checkbox"></label></div>'),r.insertBefore(t(this)),r.change(function(){i.trigger("formItemChange",[i])})):r&&(r.remove(),r=null)},this.setErrorStyle=function(e,s,n){n?a.addClass("warning-tip"):a.addClass("error-tip"),o=e,s&&this.showErrorTip()},this.showErrorTip=function(e){Global.isSet(e)||(e=2),l||(l=Global.loadWidgetByName(WidgetNamesDic.ERROR_TOOLTIP),l=l.ErrorTipBox()),a.hasClass("warning-tip")?l.show(this,o,e,!0):l.show(this,o,e)},this.hideErrorTip=function(){Global.isSet(l)&&l.remove()},this.clearErrorStyle=function(){a&&(a.removeClass("error-tip"),a.removeClass("warning-tip"),this.hideErrorTip(),o="")},this.getField=function(){return p},this.getValidationField=function(){return g},this.getDefaultFormatValue=function(){var e=a?a.val():null;return e=Global.strToDate(e)&&Global.strToDate(e).format("YYYY-MM-DD"),e},this.setPlaceHolder=function(e){a.attr("placeholder",e)},this.getValue=function(){try{return w?[a.val()]:a.val()}catch(e){Debug.Text(e.message,"TDatePicker.js","getValue","TDatePicker",10)}},this.setValue=function(e){a&&(e||(e=""),a.val(e),this.autoResize())},this.setDefaultWidgetValue=function(){t(this).attr("widget-value")&&this.setValue(t(this).attr("widget-value"))},this.autoResize=function(){var e,s,n;LocalCacheData.getLoginUserPreference()?n=LocalCacheData.getLoginUserPreference().date_format_display:n="dd-mmm-yy",_||(h==="date"?s=Global.calculateTextWidth(n):h==="date_time"&&(s=Global.calculateTextWidth(n+" "+LocalCacheData.getLoginUserPreference().time_format_display)),e=Global.calculateTextWidth(a.val(),{min_width:s,max_width:s+100,padding:28}),i.width(e+"px"))},this.each(function(){var e=t.meta?t.extend({},m,t(this).data()):m;p=e.field,e.validation_field&&(g=e.validation_field),w=e.multiple,Global.isSet(e.mode)&&(h=e.mode),c=t(this).find(".t-date-picker-icon"),a=t(this).find(".t-date-picker"),c.attr("src",Global.getRealImagePath("images/cal.png")),c.bind("mousedown",function(f){f.stopPropagation()}),c.bind("mouseup",function(){d&&(u?(a.datepicker("hide"),u=!1):(a.datepicker("show"),u=!0))});var s="h:mm TT",n="dd-M-y";LocalCacheData.getLoginUserPreference()&&(n=LocalCacheData.getLoginUserPreference().date_format_1,s=LocalCacheData.getLoginUserPreference().time_format_1);var y=[t.i18n._("Sun"),t.i18n._("Mon"),t.i18n._("Tue"),t.i18n._("Wed"),t.i18n._("Thu"),t.i18n._("Fri"),t.i18n._("Sat")],C=[t.i18n._("Jan"),t.i18n._("Feb"),t.i18n._("Mar"),t.i18n._("Apr"),t.i18n._("May"),t.i18n._("Jun"),t.i18n._("Jul"),t.i18n._("Aug"),t.i18n._("Sep"),t.i18n._("Oct"),t.i18n._("Nov"),t.i18n._("Dec")],D=t.i18n._("Today"),T=t.i18n._("Close");t.datepicker._gotoToday=function(f){t(f).datepicker("setDate",new Date).datepicker("hide").change()},h==="date"?(a=a.datepicker({showOtherMonths:!0,selectOtherMonths:!0,showTime:!1,dateFormat:n,showHour:!1,showMinute:!1,changeMonth:!0,changeYear:!0,showButtonPanel:!0,duration:"",showAnim:"",yearRange:"-100:+10",showOn:"",dayNamesMin:y,currentText:D,monthNamesShort:C,closeText:T,beforeShow:function(){e.beforeShow&&e.beforeShow()},onClose:function(){u=!1,i.autoResize(),e.onClose&&e.onClose()}}),LocalCacheData.getLoginUserPreference()?i.setPlaceHolder(LocalCacheData.getLoginUserPreference().date_format_display):i.setPlaceHolder("dd-mmm-yy")):h==="date_time"&&(a=a.datetimepicker({showOtherMonths:!0,selectOtherMonths:!0,dateFormat:n,timeFormat:s,showTime:!0,showHour:!0,showMinute:!0,changeMonth:!0,changeYear:!0,showButtonPanel:!0,duration:"",showAnim:"",showOn:"",yearRange:"-100:+10",closeText:T,dayNamesMin:y,monthNamesShort:C,currentText:D,onClose:function(){u=!1,i.autoResize(),e.onClose&&e.onClose()}}),i.setPlaceHolder(LocalCacheData.loginUserPreference.date_format_display+" "+LocalCacheData.loginUserPreference.time_format_display)),a.change(function(){r&&i.setCheckBox(!0),i.trigger("formItemChange",[i]),i.autoResize()}),a.mouseover(function(){d&&o&&o.length>0&&i.showErrorTip(20)}),a.mouseout(function(){t(i).is(":focus")||i.hideErrorTip()}),a.focusin(function(f){d?o&&o.length>0&&i.showErrorTip(20):r||(LocalCacheData.current_open_sub_controller&&LocalCacheData.current_open_sub_controller.edit_view&&LocalCacheData.current_open_sub_controller.is_viewing?(o=LocalCacheData.current_open_sub_controller.getViewModeErrorMessage(),i.showErrorTip(10)):LocalCacheData.current_open_primary_controller&&LocalCacheData.current_open_primary_controller.edit_view&&LocalCacheData.current_open_primary_controller.is_viewing&&(o=LocalCacheData.current_open_primary_controller.getViewModeErrorMessage(),i.showErrorTip(10)))}),a.focusout(function(){i.hideErrorTip()}),e.width>0?(i.width(e.width),_=!0):(i.autoResize(),_=!1),i.setDefaultWidgetValue()}),this},t.fn.TDatePicker.defaults={},t.fn.TDatePicker.html_template=`
	<div class="t-date-picker-div">
		<input class="t-date-picker" type="text"/>
		<img id="tDatePickerIcon" class="t-date-picker-icon"/>
	</div>
	`})(k);
//# sourceMappingURL=TDatePicker-B7JK-8NJ.bundle.js.map
