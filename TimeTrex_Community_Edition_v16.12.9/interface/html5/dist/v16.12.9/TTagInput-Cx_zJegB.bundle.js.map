{"version":3,"file":"TTagInput-Cx_zJegB.bundle.js","sources":["../../global/widgets/tag_input/TTagInput.js"],"sourcesContent":["( function( $ ) {\n\n\t$.fn.TTagInput = function( options ) {\n\t\tvar opts = $.extend( {}, $.fn.TTagInput.defaults, options );\n\t\tvar $this = this;\n\t\tvar field;\n\n\t\tvar add_tag_input = null;\n\n\t\tvar tag_span_dic = [];\n\n\t\tvar close_btn = null;\n\n\t\tvar mass_edit_mode = false;\n\n\t\tvar check_box = null;\n\n\t\tvar enabled = true;\n\n\t\tvar error_string = '';\n\n\t\tvar error_tip_box;\n\n\t\tvar api_tag;\n\n\t\tvar object_type_id = -1;\n\n\t\tthis.showErrorTip = function( sec ) {\n\n\t\t\tif ( !Global.isSet( sec ) ) {\n\t\t\t\tsec = 2;\n\t\t\t}\n\n\t\t\tif ( !error_tip_box ) {\n\t\t\t\terror_tip_box = Global.loadWidgetByName( WidgetNamesDic.ERROR_TOOLTIP );\n\t\t\t\terror_tip_box = error_tip_box.ErrorTipBox();\n\t\t\t}\n\t\t\tif ( $( this ).hasClass( 'warning-tip' ) ) {\n\t\t\t\terror_tip_box.show( this, error_string, sec, true );\n\t\t\t} else {\n\t\t\t\terror_tip_box.show( this, error_string, sec );\n\t\t\t}\n\t\t};\n\n\t\tthis.hideErrorTip = function() {\n\n\t\t\tif ( Global.isSet( error_tip_box ) ) {\n\t\t\t\terror_tip_box.remove();\n\t\t\t}\n\n\t\t};\n\n\t\tthis.getEnabled = function() {\n\t\t\treturn enabled;\n\t\t};\n\n\t\tthis.setEnabled = function( val ) {\n\t\t\tenabled = val;\n\t\t\tif ( val === false || val === '' ) {\n\t\t\t\t$this.addClass( 't-tag-input-readonly' );\n\t\t\t\tadd_tag_input.addClass( 'add-tag-input-readonly' );\n\t\t\t\tadd_tag_input.attr( 'disabled', true );\n\t\t\t} else {\n\t\t\t\t$this.removeClass( 't-tag-input-readonly' );\n\t\t\t\tadd_tag_input.removeClass( 'add-tag-input-readonly' );\n\t\t\t\tadd_tag_input.removeAttr( 'disabled' );\n\t\t\t}\n//\t\t\t  $this.children().attr( 'disabled', 'true' );\n\n\t\t};\n\n\t\tthis.setCheckBox = function( val ) {\n\t\t\tif ( check_box ) {\n\t\t\t\tcheck_box.children().eq( 0 )[0].checked = val;\n\t\t\t}\n\t\t};\n\n\t\tthis.isChecked = function() {\n\t\t\tif ( check_box ) {\n\t\t\t\tif ( check_box.children().eq( 0 )[0].checked === true ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\n\t\tthis.setMassEditMode = function( val ) {\n\t\t\tmass_edit_mode = val;\n\n\t\t\tif ( mass_edit_mode ) {\n\t\t\t\tcheck_box = $( ' <div class=\"mass-edit-checkbox-wrapper tag-mass-edit-checkbox-wrapper\"><input type=\"checkbox\" class=\"mass-edit-checkbox\"></input>' +\n\t\t\t\t\t'<label for=\"checkbox-input-1\" class=\"input-helper input-helper--checkbox\"></label></div>' );\n\t\t\t\tcheck_box.insertBefore( $( this ) );\n\n\t\t\t\tcheck_box.change( function() {\n\t\t\t\t\t$this.trigger( 'formItemChange', [$this] );\n\t\t\t\t} );\n\n\t\t\t} else {\n\t\t\t\tif ( check_box ) {\n\t\t\t\t\tcheck_box.remove();\n\t\t\t\t\tcheck_box = null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t\tthis.clearErrorStyle = function() {\n\n\t\t};\n\n\t\tthis.getField = function() {\n\t\t\treturn field;\n\t\t};\n\n\t\tGlobal.addCss( 'global/widgets/tag_input/TTagInput.css' );\n\n\t\tthis.getValue = function() {\n\n\t\t\tvar value = '';\n\n\t\t\tfor ( var key in tag_span_dic ) {\n\t\t\t\t// Error: Unable to get property 'find' of undefined or null reference in /interface/html5/global/widgets/tag_input/TTagInput.js?v=8.0.6-20150417-143734 line 116\n\t\t\t\tif ( tag_span_dic[key] ) {\n\t\t\t\t\tvalue = value + tag_span_dic[key].find( '.tag-span' ).text() + ',';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvalue = value.substring( 0, value.length - 1 );\n\n\t\t\treturn value;\n\t\t};\n\n\t\tthis.setValue = function( val ) {\n\n\t\t\t$this.buildTagSpan( val );\n\t\t};\n\n\t\tthis.buildTagSpan = function( val ) {\n\n\t\t\tif ( !val ) {\n\t\t\t\tval = '';\n\t\t\t}\n\n\t\t\tfor ( var key in tag_span_dic ) {\n\t\t\t\t// Error: Unable to get property 'remove' of undefined or null reference in /interface/html5/global/widgets/tag_input/TTagInput.js?v=8.0.6-20150417-143734 line 136\n\t\t\t\tif ( tag_span_dic[key] && tag_span_dic[key].remove ) {\n\t\t\t\t\ttag_span_dic[key].remove();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttag_span_dic = {};\n\n\t\t\tvar tagArray = val.split( ',' );\n\n\t\t\tif ( tagArray && tagArray.length === 1 && tagArray[0] === '' ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t$.each( tagArray, function( index, content ) {\n\n\t\t\t\tvar delete_mode = false;\n\t\t\t\tif ( content.indexOf( '[search-deleted]' ) > 0 || content.indexOf( '-' ) === 0 ) {\n\t\t\t\t\tcontent = content.split( '[search-deleted]' )[0];\n\t\t\t\t\tdelete_mode = true;\n\t\t\t\t}\n\n\t\t\t\tvar tagSpanDiv = $( '<div class=\\'tag-span-div\\'></div>' );\n\t\t\t\tvar close_btn = $( '<span  class=\\'close-btn\\'>X</span>' );\n\t\t\t\tvar tagSpan = $( '<span class=\\'tag-span\\'></span>' );\n\n\t\t\t\tif ( delete_mode ) {\n\t\t\t\t\ttagSpanDiv.addClass( 'removed' );\n\t\t\t\t}\n\n\t\t\t\tclose_btn.attr( 'data-value', content );\n\t\t\t\ttagSpan.text( content );\n\n\t\t\t\tvar doing_dblclick = false;\n\t\t\t\tclose_btn.dblclick( function( e ) {\n\t\t\t\t\tdoing_dblclick = true;\n\t\t\t\t\tif ( !enabled ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar value = $( this ).attr( 'data-value' );\n\n\t\t\t\t\tif ( Global.isSet( tag_span_dic[value] ) ) {\n\t\t\t\t\t\ttag_span_dic[value].remove();\n\n\t\t\t\t\t}\n\n\t\t\t\t\tdelete tag_span_dic[value];\n\n\t\t\t\t\tif ( check_box ) {\n\t\t\t\t\t\t$this.setCheckBox( true );\n\t\t\t\t\t}\n\n\t\t\t\t\t$this.trigger( 'formItemChange', [$this] );\n\n\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\tdoing_dblclick = false;\n\t\t\t\t\t}, 200 );\n\n\t\t\t\t} );\n\n\t\t\t\tclose_btn.click( function( e ) {\n\n\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\tif ( !doing_dblclick ) {\n\t\t\t\t\t\t\tdoNext();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 200 );\n\n\t\t\t\t\tvar $$this = this;\n\n\t\t\t\t\tfunction doNext() {\n\t\t\t\t\t\tif ( !enabled ) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar value = $( $$this ).attr( 'data-value' );\n\t\t\t\t\t\tvar current_div = tag_span_dic[value];\n\t\t\t\t\t\tvar new_value = '';\n\n\t\t\t\t\t\t//Error: Unable to get property 'removeClass' of undefined or null reference in /interface/html5/global/widgets/tag_input/TTagInput.js?v=8.0.0-20150126-192326 line 214\n\t\t\t\t\t\tif ( !current_div ) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( value.indexOf( '-' ) === 0 ) {\n\t\t\t\t\t\t\tnew_value = value.substr( 1 );\n\t\t\t\t\t\t\tcurrent_div.removeClass( 'removed' );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnew_value = '-' + value;\n\t\t\t\t\t\t\tcurrent_div.addClass( 'removed' );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttag_span_dic[value].find( '.tag-span' ).text( new_value );\n\n\t\t\t\t\t\tdelete tag_span_dic[value];\n\t\t\t\t\t\t$( $$this ).attr( 'data-value', new_value );\n\n\t\t\t\t\t\ttag_span_dic[new_value] = current_div;\n\n\t\t\t\t\t\tif ( check_box ) {\n\t\t\t\t\t\t\t$this.setCheckBox( true );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$this.trigger( 'formItemChange', [$this] );\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\ttagSpanDiv.append( tagSpan );\n\t\t\t\ttagSpanDiv.append( close_btn );\n\t\t\t\t$( $this ).prepend( tagSpanDiv );\n\n\t\t\t\ttag_span_dic[content] = tagSpanDiv;\n\n\t\t\t} );\n\t\t};\n\n\t\tthis.createTag = function( val ) {\n\n\t\t\tvar tagSpanDiv = $( '<div class=\\'tag-span-div new\\'></div>' );\n\t\t\tvar close_btn = $( '<span class=\\'close-btn\\'>X</span>' );\n\t\t\tvar tagSpan = $( '<span class=\\'tag-span\\'></span>' );\n\n\t\t\tclose_btn.attr( 'data-value', val );\n\t\t\ttagSpan.text( val );\n\n\t\t\tvar doing_dblclick = false;\n\n\t\t\tclose_btn.dblclick( function( e ) {\n\t\t\t\tdoing_dblclick = true;\n\t\t\t\tif ( !enabled ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar value = $( this ).attr( 'data-value' );\n\n\t\t\t\tif ( Global.isSet( tag_span_dic[value] ) ) {\n\t\t\t\t\ttag_span_dic[value].remove();\n\n\t\t\t\t}\n\n\t\t\t\tdelete tag_span_dic[value];\n\n\t\t\t\tif ( check_box ) {\n\t\t\t\t\t$this.setCheckBox( true );\n\t\t\t\t}\n\n\t\t\t\t$this.trigger( 'formItemChange', [$this] );\n\n\t\t\t\tsetTimeout( function() {\n\t\t\t\t\tdoing_dblclick = false;\n\t\t\t\t}, 200 );\n\n\t\t\t} );\n\n\t\t\tclose_btn.click( function( e ) {\n\n\t\t\t\tsetTimeout( function() {\n\t\t\t\t\tif ( !doing_dblclick ) {\n\t\t\t\t\t\tdoNext();\n\t\t\t\t\t}\n\t\t\t\t}, 200 );\n\n\t\t\t\tvar $$this = this;\n\n\t\t\t\tfunction doNext() {\n\t\t\t\t\tif ( !enabled ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar value = $( $$this ).attr( 'data-value' );\n\t\t\t\t\tvar current_div = tag_span_dic[value];\n\t\t\t\t\tvar new_value = '';\n\n\t\t\t\t\tif ( value.indexOf( '-' ) === 0 ) {\n\t\t\t\t\t\tnew_value = value.substr( 1 );\n\t\t\t\t\t\tcurrent_div?.removeClass( 'removed' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnew_value = '-' + value;\n\t\t\t\t\t\tcurrent_div?.addClass( 'removed' );\n\t\t\t\t\t}\n\n\t\t\t\t\ttag_span_dic[value].find( '.tag-span' ).text( new_value );\n\n\t\t\t\t\tdelete tag_span_dic[value];\n\t\t\t\t\t$( $$this ).attr( 'data-value', new_value );\n\n\t\t\t\t\ttag_span_dic[new_value] = current_div;\n\n\t\t\t\t\t$this.trigger( 'formItemChange', [$this] );\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\tif ( Global.isSet( tag_span_dic[close_btn.attr( 'data-value' )] ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttagSpanDiv.append( tagSpan );\n\t\t\ttagSpanDiv.append( close_btn );\n\t\t\ttagSpanDiv.insertBefore( add_tag_input );\n\t\t\ttag_span_dic[val] = tagSpanDiv;\n\t\t};\n\n\t\tthis.each( function() {\n\n\t\t\tvar o = $.meta ? $.extend( {}, opts, $( this ).data() ) : opts;\n\n\t\t\tfield = o.field;\n\n\t\t\tif ( o.object_type_id ) {\n\t\t\t\tobject_type_id = o.object_type_id;\n\t\t\t}\n\n\t\t\tadd_tag_input = $( '<input class=\\'add-tag-input\\' autocomplete=\\'On\\'></input>' );\n\n\t\t\tapi_tag = TTAPI.APICompanyGenericTag;\n\n\t\t\tadd_tag_input.autocomplete( {\n\t\t\t\tsource: [],\n\t\t\t\tselect: function( e, ui ) {\n\t\t\t\t\t$this.createTag( ui.item.value );\n\t\t\t\t\tif ( check_box ) {\n\t\t\t\t\t\t$this.setCheckBox( true );\n\t\t\t\t\t}\n\t\t\t\t\tadd_tag_input.autocomplete( 'option', { source: [] } );\n\t\t\t\t\t$this.trigger( 'formItemChange', [$this] );\n\t\t\t\t\t$this.isSelectedItem = true;\n\t\t\t\t},\n\t\t\t\tclose: function( event, ui ) {\n\t\t\t\t\tif ( $this.isSelectedItem ) {\n\t\t\t\t\t\tadd_tag_input.val( '' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t$( this ).append( add_tag_input );\n\n\t\t\t$( this ).click( function() {\n\t\t\t\tadd_tag_input.focus();\n\t\t\t\tif ( !enabled ) {\n\t\t\t\t\tif ( !check_box ) {\n\t\t\t\t\t\tif ( LocalCacheData.current_open_sub_controller &&\n\t\t\t\t\t\t\tLocalCacheData.current_open_sub_controller.edit_view &&\n\t\t\t\t\t\t\tLocalCacheData.current_open_sub_controller.is_viewing ) {\n\t\t\t\t\t\t\terror_string = LocalCacheData.current_open_sub_controller.getViewModeErrorMessage();\n\t\t\t\t\t\t\t$this.showErrorTip( 10 );\n\t\t\t\t\t\t} else if ( LocalCacheData.current_open_primary_controller &&\n\t\t\t\t\t\t\tLocalCacheData.current_open_primary_controller.edit_view &&\n\t\t\t\t\t\t\tLocalCacheData.current_open_primary_controller.is_viewing ) {\n\t\t\t\t\t\t\terror_string = LocalCacheData.current_open_primary_controller.getViewModeErrorMessage();\n\t\t\t\t\t\t\t$this.showErrorTip( 10 );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t$( this ).contextmenu( function( e ) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopImmediatePropagation();\n\n\t\t\t} );\n\n\t\t\t$( this ).mouseout( function() {\n\t\t\t\t$this.hideErrorTip();\n\t\t\t} );\n\n\t\t\tadd_tag_input.bind( 'focusout', function( e ) {\n\t\t\t\tif ( $( e.relatedTarget ).attr( 'id' ) === 'ui-active-menuitem' ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif ( add_tag_input.val().length > 0 ) {\n\n\t\t\t\t\tif ( !enabled ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t$this.createTag( add_tag_input.val() );\n\t\t\t\t\tadd_tag_input.val( '' );\n\n\t\t\t\t\tif ( check_box ) {\n\t\t\t\t\t\t$this.setCheckBox( true );\n\t\t\t\t\t}\n\n\t\t\t\t\t$this.trigger( 'formItemChange', [$this] );\n\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tadd_tag_input.bind( 'keyup', function( e ) {\n\t\t\t\tif ( e.which === 40 || e.which === 38 ) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\te.preventDefault();\n\t\t\t\tvar args = {};\n\t\t\t\targs.filter_data = {};\n\t\t\t\targs.filter_data.object_type_id = [object_type_id];\n\t\t\t\targs.filter_data.name = add_tag_input.val();\n\t\t\t\tapi_tag.getCompanyGenericTag( args, {\n\t\t\t\t\tonResult: function( result ) {\n\n\t\t\t\t\t\tvar result_data = result.getResult();\n\t\t\t\t\t\tvar final_result = [];\n\n\t\t\t\t\t\tfor ( var i = 0; i < result_data.length; i++ ) {\n\t\t\t\t\t\t\t//https://stackoverflow.com/questions/13144025/jquery-autocomplete-update-source-with-object-formatting-the-array\n\t\t\t\t\t\t\t//final_result.push({title: result_data[i].name, label: result_data[i].name,});\n\t\t\t\t\t\t\t//http://api.jqueryui.com/autocomplete/#option-source\n\t\t\t\t\t\t\tfinal_result.push( result_data[i].name );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//add_tag_input.autocomplete( \"option\", \"source\", final_result )\n\n\t\t\t\t\t\tadd_tag_input.autocomplete( 'option', { source: final_result } );\n\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\treturn false;\n\n\t\t\t} );\n\n\t\t\tadd_tag_input.bind( 'keydown', function( e ) {\n\n\t\t\t\tif ( e.which === 40 || e.which === 38 ) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif ( ( e.which === 13 || e.which === 44 || e.which === 32 || e.which === 9 || e.which === 188 ) &&\n\t\t\t\t\tadd_tag_input.val().length > 0 ) {\n\n\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\tif ( !enabled ) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\t$this.createTag( add_tag_input.val() );\n\t\t\t\t\tadd_tag_input.val( '' );\n\n\t\t\t\t\tif ( check_box ) {\n\t\t\t\t\t\t$this.setCheckBox( true );\n\t\t\t\t\t}\n\t\t\t\t\t//add_tag_input.autocomplete( \"option\", { source: [] } );\n\t\t\t\t\t$this.trigger( 'formItemChange', [$this] );\n\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\t//add_tag_input.autocomplete( \"option\", { source: [] } );\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t} );\n\n\t\treturn this;\n\n\t};\n\n\t$.fn.TTagInput.defaults = {};\n\t$.fn.TTagInput.html_template = `<div class=\"t-tag-input\"></div>`;\n\n} )( jQuery );"],"names":["$","options","opts","$this","field","add_tag_input","tag_span_dic","mass_edit_mode","check_box","enabled","error_string","error_tip_box","api_tag","object_type_id","sec","val","value","key","tagArray","index","content","delete_mode","tagSpanDiv","close_btn","tagSpan","doing_dblclick","e","doNext","$$this","current_div","new_value","o","ui","event","args","result","result_data","final_result","i","jQuery"],"mappings":"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"}