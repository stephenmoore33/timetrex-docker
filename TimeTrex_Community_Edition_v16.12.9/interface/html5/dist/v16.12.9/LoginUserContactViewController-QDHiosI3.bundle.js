import{_ as l,j as i}from"./vendor-tTApdY0Y.bundle.js";class m extends BaseViewController{constructor(t={}){l.defaults(t,{sex_array:null,company_api:null}),super(t)}init(t){this.permission_id="user",this.viewId="LoginUserContact",this.script_name="LoginUserContactView",this.table_name_key="bank_account",this.context_menu_name=i.i18n._("Contact Information"),this.api=TTAPI.APIUser,this.company_api=TTAPI.APICompany,this.render(),this.buildContextMenu(),this.initData()}render(){super.render()}initOptions(t){var o=[{option_name:"sex",field_name:"sex_id",api:this.api}];this.initDropDownOptions(o,function(d){t&&t(d)})}getCustomContextMenuModel(){var t={exclude:["default"],include:["save","cancel"]};return t}getUserContactData(t){var o=this,d={};d.filter_data={},d.filter_data.id=LocalCacheData.loginUser.id,o.api["get"+o.api.key_name](d,{onResult:function(a){var e=a.getResult();Global.isSet(e[0])&&t(e[0])}})}openEditView(){var t=this;t.edit_only_mode&&t.initOptions(function(o){t.edit_view||t.initEditViewUI("LoginUserContact","LoginUserContactEditView.html"),t.getUserContactData(function(d){t.current_edit_record=d,t.initEditView()})})}setCurrentEditRecordData(){for(var t in this.current_edit_record)if(this.current_edit_record.hasOwnProperty(t)){var o=this.edit_view_ui_dic[t];if(Global.isSet(o))switch(t){case"country":o.setValue(this.current_edit_record[t]);break;case"sin":this.current_edit_record[t]?o.setValue(this.current_edit_record[t]):o.setValue("N/A");break;default:o.setValue(this.current_edit_record[t]);break}}this.collectUIDataToCurrentEditRecord(),this.setEditViewDataDone()}onSaveClick(t){t=!0,super.onSaveClick(t)}setErrorMenu(){for(var t=ContextMenuManager.getMenuModelByMenuId(this.determineContextMenuMountAttributes().id),o=t.length,d=0;d<o;d++){let a=t[d],e=t[d].id;switch(ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,a.id,!0),e){case"cancel":break;default:ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,a.id,!1);break}}}buildEditViewUI(){var t=this;super.buildEditViewUI();var o={tab_contact_information:{label:i.i18n._("Contact Information"),is_multi_column:!0}};this.setTabModel(o);var d=this.edit_view_tab.find("#tab_contact_information"),a=d.find(".first-column");this.edit_view_tabs[0]=[],this.edit_view_tabs[0].push(a);var e=Global.loadWidgetByName(FormItemType.TEXT);e.TText({field:"first_name"}),this.addEditFieldToColumn(i.i18n._("First Name"),e,a,""),e=Global.loadWidgetByName(FormItemType.TEXT),e.TText({field:"middle_name"}),this.addEditFieldToColumn(i.i18n._("Middle Name"),e,a),e=Global.loadWidgetByName(FormItemType.TEXT),e.TText({field:"last_name"}),this.addEditFieldToColumn(i.i18n._("Last Name"),e,a),e=Global.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"address1",width:"100%"}),this.addEditFieldToColumn(i.i18n._("Home Address(Line 1)"),e,a),e.parent().width("45%"),e=Global.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"address2",width:"100%"}),this.addEditFieldToColumn(i.i18n._("Home Address(Line 2)"),e,a),e.parent().width("45%"),e=Global.loadWidgetByName(FormItemType.TEXT),e.TText({field:"city"}),this.addEditFieldToColumn(i.i18n._("City"),e,a),e=Global.loadWidgetByName(FormItemType.TEXT),e.TText({field:"country",set_empty:!0}),this.addEditFieldToColumn(i.i18n._("Country"),e,a),e=Global.loadWidgetByName(FormItemType.TEXT),e.TText({field:"province",set_empty:!0}),this.addEditFieldToColumn(i.i18n._("Province/State"),e,a),e=Global.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"postal_code",width:200}),this.addEditFieldToColumn(i.i18n._("Postal/ZIP Code"),e,a,"");var n=d.find(".second-column");this.edit_view_tabs[0].push(n),e=Global.loadWidgetByName(FormItemType.COMBO_BOX),e.TComboBox({field:"sex_id"}),e.setSourceData(t.sex_array),this.addEditFieldToColumn(i.i18n._("Gender"),e,n),e=Global.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"work_phone",width:200}),this.addEditFieldToColumn(i.i18n._("Work Phone"),e,n,""),e=Global.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"work_phone_ext",width:100}),this.addEditFieldToColumn(i.i18n._("Work Phone Ext"),e,n),e=Global.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"home_phone",width:200}),this.addEditFieldToColumn(i.i18n._("Home Phone"),e,n),e=Global.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"mobile_phone",width:200}),this.addEditFieldToColumn(i.i18n._("Mobile Phone"),e,n),e=Global.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"fax_phone",width:200}),this.addEditFieldToColumn(i.i18n._("Fax"),e,n),e=Global.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"work_email",width:200}),this.addEditFieldToColumn(i.i18n._("Work Email"),e,n),e=Global.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"home_email",width:200}),this.addEditFieldToColumn(i.i18n._("Home Email"),e,n),e=Global.loadWidgetByName(FormItemType.TEXT),e.TText({field:"birth_date"}),this.addEditFieldToColumn(i.i18n._("Birth Date"),e,n),e=Global.loadWidgetByName(FormItemType.TEXT),e.TText({field:"sin"}),this.addEditFieldToColumn(i.i18n._("SIN/SSN"),e,n,"")}}export{m as LoginUserContactViewController};
//# sourceMappingURL=LoginUserContactViewController-QDHiosI3.bundle.js.map
