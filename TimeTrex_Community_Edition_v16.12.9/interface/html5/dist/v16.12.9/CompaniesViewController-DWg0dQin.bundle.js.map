{"version":3,"file":"CompaniesViewController-DWg0dQin.bundle.js","sources":["../../views/company/companies/CompaniesViewController.js"],"sourcesContent":["export class CompaniesViewController extends BaseViewController {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {\n\t\t\tel: '#companies_view_container',\n\t\t\tstatus_array: null,\n\t\t\tcountry_array: null,\n\t\t\tprovince_array: null,\n\n\t\t\te_province_array: null,\n\t\t\tsaml_authentication_type_array: null,\n\t\t\tsaml_authentication_field_array: null,\n\t\t} );\n\n\t\tsuper( options );\n\t}\n\n\tinit( options ) {\n\t\t//this._super('initialize', options );\n\t\tthis.edit_view_tpl = 'CompaniesEditView.html';\n\t\tthis.permission_id = 'company';\n\t\tthis.viewId = 'Companies';\n\t\tthis.script_name = 'CompanyView';\n\t\tthis.table_name_key = 'company';\n\t\tthis.context_menu_name = $.i18n._( 'Companies' );\n\t\tthis.navigation_label = $.i18n._( 'Companies' );\n\t\tthis.api = TTAPI.APICompany;\n\n\t\tthis.render();\n\n\t\tthis.buildContextMenu();\n\n\t\tthis.initData();\n\t}\n\n\tinitOptions( callBack ) {\n\t\tvar $this = this;\n\n\t\tvar options = [\n\t\t\t{ option_name: 'status' },\n\t\t\t{ option_name: 'product_edition' },\n\t\t\t{ option_name: 'industry' },\n\t\t\t{ option_name: 'country', field_name: 'country' },\n\t\t\t{ option_name: 'password_policy_type' },\n\t\t\t{ option_name: 'password_minimum_permission_level', field_name: 'password_minimum_permission_level' },\n\t\t\t{ option_name: 'password_minimum_strength', field_name: 'password_minimum_strength' },\n\t\t\t{ option_name: 'ldap_authentication_type' },\n\t\t\t{ option_name: 'saml_authentication_type' },\n\t\t\t{ option_name: 'saml_authentication_field' }\n\t\t];\n\n\t\tthis.initDropDownOptions( options, function( result ) {\n\n\t\t\tif ( callBack ) {\n\t\t\t\tcallBack( result ); // First to initialize drop down options, and then to initialize edit view UI.\n\t\t\t}\n\n\t\t} );\n\t}\n\n\tonSetSearchFilterFinished() {\n\t\tvar combo;\n\t\tvar select_value;\n\t\tif ( this.search_panel.getSelectTabIndex() === 0 ) {\n\t\t\tcombo = this.basic_search_field_ui_dic['country'];\n\t\t\tselect_value = combo.getValue();\n\t\t\tthis.setProvince( select_value );\n\t\t} else if ( this.search_panel.getSelectTabIndex() === 1 ) {\n\t\t\tcombo = this.adv_search_field_ui_dic['country'];\n\t\t\tselect_value = combo.getValue();\n\t\t\tthis.setProvince( select_value );\n\t\t}\n\t}\n\n\tonBuildAdvUIFinished() {\n\n\t\tthis.adv_search_field_ui_dic['country'].change( $.proxy( function() {\n\t\t\tvar combo = this.adv_search_field_ui_dic['country'];\n\t\t\tvar selectVal = combo.getValue();\n\n\t\t\tthis.setProvince( selectVal );\n\n\t\t\tthis.adv_search_field_ui_dic['province'].setValue( null );\n\n\t\t}, this ) );\n\t}\n\n\tonBuildBasicUIFinished() {\n\t\tthis.basic_search_field_ui_dic['country'].change( $.proxy( function() {\n\t\t\tvar combo = this.basic_search_field_ui_dic['country'];\n\t\t\tvar selectVal = combo.getValue();\n\n\t\t\tthis.setProvince( selectVal );\n\n\t\t\tthis.basic_search_field_ui_dic['province'].setValue( null );\n\n\t\t}, this ) );\n\t}\n\n\tonFormItemChange( target, doNotValidate ) {\n\n\t\tthis.setIsChanged( target );\n\t\tthis.setMassEditingFieldsWhenFormChange( target );\n\t\tvar key = target.getField();\n\t\tvar c_value = target.getValue();\n\t\tthis.current_edit_record[key] = c_value;\n\n\t\tswitch ( key ) {\n\n\t\t\tcase 'country':\n\t\t\t\tvar widget = this.edit_view_ui_dic['province'];\n\t\t\t\twidget.setValue( null );\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif ( key === 'ldap_authentication_type_id' || key === 'saml_authentication_type_id' ) {\n\n\t\t\tthis.onTypeChange();\n\t\t}\n\n\t\tif ( key === 'country' ) {\n\t\t\tthis.onCountryChange();\n\t\t\treturn;\n\t\t}\n\n\t\tif ( !doNotValidate ) {\n\t\t\tthis.validate();\n\t\t}\n\t}\n\n\tgetCustomContextMenuModel() {\n\t\tvar context_menu_model = {\n\t\t\texclude: ['mass_edit', 'copy'],\n\t\t\tinclude: [\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'Sign In' ),\n\t\t\t\t\tid: 'login',\n\t\t\t\t\tmenu_align: 'right',\n\t\t\t\t\t//action_group: 'jump_to',\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\tvue_icon: 'tticon tticon-login_black_24dp',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'Jump To' ),\n\t\t\t\t\tid: 'jump_to_header',\n\t\t\t\t\tmenu_align: 'right',\n\t\t\t\t\taction_group: 'jump_to',\n\t\t\t\t\taction_group_header: true,\n\t\t\t\t\tpermission_result: false, // to hide it in legacy context menu and avoid errors in legacy parsers.\n\t\t\t\t\tsort_order: 9050,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: $.i18n._( 'Employees' ),\n\t\t\t\t\tid: 'employee',\n\t\t\t\t\tmenu_align: 'right',\n\t\t\t\t\taction_group: 'jump_to',\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\tsort_order: 9050,\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\n\t\treturn context_menu_model;\n\t}\n\n\tsetCustomDefaultMenuIcon( id, context_btn, grid_selected_length ) {\n\t\tswitch ( id ) {\n\t\t\tcase 'employee':\n\t\t\t\tthis.setDefaultMenuEmployeeIcon( context_btn, grid_selected_length );\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tsetCustomEditMenuIcon( id, context_btn ) {\n\t\tswitch ( id ) {\n\t\t\tcase 'employee':\n\t\t\t\tthis.setEditMenuEmployeeIcon( context_btn );\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tsetEditMenuEmployeeIcon( context_btn ) {\n\t\tif ( !this.viewPermissionValidate( 'user' ) ) {\n\t\t\tContextMenuManager.hideMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, false )\n\t\t}\n\n\t\tContextMenuManager.disableMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, false );\n\t}\n\n\t/* jshint ignore:end */\n\tsetDefaultMenuEmployeeIcon( context_btn, grid_selected_length ) {\n\t\tif ( !this.viewPermissionValidate( 'user' ) ) {\n\t\t\tContextMenuManager.hideMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, false )\n\t\t}\n\n\t\tif ( grid_selected_length === 1 ) {\n\t\t\tContextMenuManager.disableMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, true );\n\t\t} else {\n\t\t\tContextMenuManager.disableMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, false );\n\t\t}\n\t}\n\n\t/* jshint ignore:start */\n\n\tonCustomContextClick( id ) {\n\t\tswitch ( id ) {\n\t\t\tcase 'login':\n\t\t\t\tthis.onLoginClick();\n\t\t\t\tbreak;\n\t\t\tcase 'employee':\n\t\t\t\tthis.onEmployeeClick();\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tonEmployeeClick() {\n\n\t\tvar grid_selected_id_array = this.getGridSelectIdArray();\n\n\t\tvar filter = { filter_data: {} };\n\t\tvar company_id = { value: grid_selected_id_array[0] };\n\t\tfilter.filter_data.company_id = company_id;\n\t\tGlobal.addViewTab( this.viewId, $.i18n._( 'Companies' ), window.location.href );\n\t\tIndexViewController.goToView( 'Employee', filter );\n\t}\n\n\tonLoginClick() {\n\n\t\tvar $this = this;\n\t\tvar args = {};\n\n\t\targs.company_id = this.getGridSelectIdArray()[0];\n\n\t\tLocalCacheData.extra_filter_for_next_open_view = {};\n\t\tLocalCacheData.extra_filter_for_next_open_view.filter_data = args;\n\n\t\tIndexViewController.openWizard( 'LoginUserWizard', null, function( user_id ) {\n\t\t\tGlobal.NewSession( user_id );\n\t\t} );\n\t}\n\n\tbuildEditViewUI() {\n\t\tvar $this = this;\n\t\tsuper.buildEditViewUI();\n\n\t\tvar tab_model = {\n\t\t\t'tab_company': { 'label': $.i18n._( 'Company' ), 'is_multi_column': true },\n\t\t\t'tab_password_policy': { 'label': $.i18n._( 'Password Policy' ) },\n\t\t\t'tab_ldap': { 'label': $.i18n._( 'LDAP Authentication' ) },\n\t\t\t'tab_saml': { 'label': $.i18n._( 'SAML Authentication' ) },\n\t\t\t'tab_audit': true,\n\t\t};\n\t\tthis.setTabModel( tab_model );\n\n\t\t//Tab 0 start\n\n\t\tvar tab_company = this.edit_view_tab.find( '#tab_company' );\n\n\t\tvar tab_company_column1 = tab_company.find( '.first-column' );\n\t\tvar tab_company_column2 = tab_company.find( '.second-column' );\n\n\t\tthis.navigation.AComboBox( {\n\t\t\tapi_class: TTAPI.APICompany,\n\t\t\tid: this.script_name + '_navigation',\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_company',\n\t\t\tnavigation_mode: true,\n\t\t\tshow_search_inputs: true\n\t\t} );\n\n\t\tthis.setNavigation();\n\n\t\tvar form_item_input;\n\t\tvar widgetContainer;\n\t\tvar label;\n\n\t\tthis.edit_view_tabs[0] = [];\n\n\t\tthis.edit_view_tabs[0].push( tab_company_column1 );\n\t\tthis.edit_view_tabs[0].push( tab_company_column2 );\n\n\t\t// Status\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\n\t\tform_item_input.TComboBox( { field: 'status_id' } );\n\t\tform_item_input.setSourceData( $this.status_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Status' ), form_item_input, tab_company_column1, '' );\n\n\t\t// Product Edition\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\n\t\tform_item_input.TComboBox( { field: 'product_edition_id' } );\n\t\tform_item_input.setSourceData( $this.product_edition_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Product Edition' ), form_item_input, tab_company_column1 );\n\n\t\t// Full Name\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'name', width: '100%' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Full Name' ), form_item_input, tab_company_column1 );\n\n\t\tform_item_input.parent().width( '45%' );\n\n\t\t// Short Name\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'short_name', width: 128 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Short Name' ), form_item_input, tab_company_column1 );\n\n\t\t// Industry\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\n\t\tform_item_input.TComboBox( { field: 'industry_id' } );\n\t\tform_item_input.setSourceData( $this.industry_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Industry' ), form_item_input, tab_company_column1 );\n\n\t\t// Address (Line 1)\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'address1', width: '100%' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Address (Line 1)' ), form_item_input, tab_company_column1 );\n\n\t\tform_item_input.parent().width( '45%' );\n\n\t\t// Address (Line 2)\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'address2', width: '100%' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Address (Line 2)' ), form_item_input, tab_company_column1 );\n\n\t\tform_item_input.parent().width( '45%' );\n\n\t\t//City\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'city', width: 149 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'City' ), form_item_input, tab_company_column1 );\n\n\t\t//Country\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\n\t\tform_item_input.TComboBox( { field: 'country', set_empty: true } );\n\t\tform_item_input.setSourceData( $this.country_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Country' ), form_item_input, tab_company_column1 );\n\n\t\t//Province / State\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\n\t\tform_item_input.TComboBox( { field: 'province' } );\n\t\tform_item_input.setSourceData( [] );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Province/State' ), form_item_input, tab_company_column1 );\n\n\t\t//City\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'postal_code', width: 149 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Postal/ZIP Code' ), form_item_input, tab_company_column1, '' );\n\n\t\t// Phone\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'work_phone', width: 149 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Phone' ), form_item_input, tab_company_column2, '' );\n\n\t\t// Fax\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'fax_phone', width: 149 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Fax' ), form_item_input, tab_company_column2 );\n\n\t\t// Administrative Contact\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIUser,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_user',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'admin_contact',\n\t\t\tcustomSearchFilter: ( function( args ) {\n\t\t\t\treturn $this.setCompanyIdFilter( args );\n\t\t\t} )\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Administrative Contact' ), form_item_input, tab_company_column2 );\n\n\t\t// billing contact\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIUser,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_user',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'billing_contact',\n\t\t\tcustomSearchFilter: ( function( args ) {\n\t\t\t\treturn $this.setCompanyIdFilter( args );\n\t\t\t} )\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Billing Contact' ), form_item_input, tab_company_column2 );\n\t\t// Primary Support contact\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIUser,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_user',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_empty: true,\n\t\t\tfield: 'support_contact',\n\t\t\tcustomSearchFilter: ( function( args ) {\n\t\t\t\treturn $this.setCompanyIdFilter( args );\n\t\t\t} )\n\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Primary Support Contact' ), form_item_input, tab_company_column2 );\n\n\t\t// Company Settings\n\t\t// form_item_input = Global.loadWidgetByName( FormItemType.SEPARATED_BOX );\n\t\t// form_item_input.SeparatedBox( {label: $.i18n._( 'Company Settings' )} );\n\t\t// this.addEditFieldToColumn( null, form_item_input, tab_company_column2 );\n\n\t\t// // Enable Second Surname\n\t\t// form_item_input = Global.loadWidgetByName( FormItemType.CHECKBOX );\n\t\t// form_item_input.TCheckbox( {field: 'enable_second_last_name'} );\n\t\t// this.addEditFieldToColumn( $.i18n._( 'Enable Second Surname' ), form_item_input, tab_company_column2, '' );\n\n\t\t//Tab 1 start\n\n\t\tvar tab_password_policy = this.edit_view_tab.find( '#tab_password_policy' );\n\n\t\tvar tab_password_policy_column1 = tab_password_policy.find( '.first-column' );\n\n\t\tthis.edit_view_tabs[1] = [];\n\n\t\tthis.edit_view_tabs[1].push( tab_password_policy_column1 );\n\n\t\t// Password Policy\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\n\t\tform_item_input.TComboBox( { field: 'password_policy_type_id' } );\n\t\tform_item_input.setSourceData( $this.password_policy_type_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Password Policy' ), form_item_input, tab_password_policy_column1, '' );\n\n\t\t// Minimum Permission Level\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\n\t\tform_item_input.TComboBox( { field: 'password_minimum_permission_level' } );\n\t\tform_item_input.setSourceData( $this.password_minimum_permission_level_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Minimum Permission Level' ), form_item_input, tab_password_policy_column1 );\n\n\t\t// Minimum Strength\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\n\t\tform_item_input.TComboBox( { field: 'password_minimum_strength' } );\n\t\tform_item_input.setSourceData( $this.password_minimum_strength_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Minimum Strength' ), form_item_input, tab_password_policy_column1 );\n\n\t\t// Minimum Length\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'password_minimum_length', width: 30 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Minimum Length' ), form_item_input, tab_password_policy_column1 );\n\n\t\t// Minimum Age\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'password_minimum_age', width: 30 } );\n\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<span class=\\'widget-right-label\\'> ' + $.i18n._( 'in Days' ) + '</span>' );\n\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Minimum Age' ), form_item_input, tab_password_policy_column1, '', widgetContainer );\n\n\t\t// Maximum Age\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'password_maximum_age', width: 30 } );\n\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<span class=\\'widget-right-label\\'> ' + $.i18n._( 'in Days' ) + '</span>' );\n\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Maximum Age' ), form_item_input, tab_password_policy_column1, '', widgetContainer );\n\n\t\t//Tab 1 start\n\n\t\tvar tab_ldap = this.edit_view_tab.find( '#tab_ldap' );\n\n\t\tvar tab_ldap_column1 = tab_ldap.find( '.first-column' );\n\n\t\tthis.edit_view_tabs[2] = [];\n\n\t\tthis.edit_view_tabs[2].push( tab_ldap_column1 );\n\n\t\t//\n\t\t// LDAP Authentication\n\t\t//\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\n\t\tform_item_input.TComboBox( { field: 'ldap_authentication_type_id' } );\n\t\tform_item_input.setSourceData( $this.ldap_authentication_type_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'LDAP Authentication' ), form_item_input, tab_ldap_column1 );\n\n\t\t// Server\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'ldap_host', width: 240 } );\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<span class=\\'widget-right-label\\'> ' + $.i18n._( '(ie: ldaps://ldap.mycompany.com)' ) + '</span>' );\n\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Server' ), form_item_input, tab_ldap_column1, '', widgetContainer, true );\n\n\t\t// Port\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'ldap_port', width: 50 } );\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<span class=\\'widget-right-label\\'> ' + $.i18n._( '(ie: 389 or 636 for SSL)' ) + '</span>' );\n\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Port' ), form_item_input, tab_ldap_column1, '', widgetContainer, true );\n\n\t\t// Bind User Name\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'ldap_bind_user_name' } );\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<span class=\\'widget-right-label\\'> ' + $.i18n._( 'Used to search for the user, for anonymous binding enter: anonymous' ) + '</span>' );\n\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Bind User Name' ), form_item_input, tab_ldap_column1, '', widgetContainer, true );\n\n\t\t// Bind Password\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'ldap_bind_password' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Bind Password' ), form_item_input, tab_ldap_column1, '', null, true );\n\n\t\t// Base DN\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'ldap_base_dn', width: 300 } );\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<span class=\\'widget-right-label\\'> ' + $.i18n._( '(ie: DC=companyname,DC=com)' ) + '</span>' );\n\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Base DN' ), form_item_input, tab_ldap_column1, '', widgetContainer, true );\n\n\t\t// Bind Attribute\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'ldap_bind_attribute', width: 150 } );\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<span class=\\'widget-right-label\\'> ' + $.i18n._( 'For binding the LDAP user. (ie: userPrincipalName)' ) + '</span>' );\n\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Bind Attribute' ), form_item_input, tab_ldap_column1, '', widgetContainer, true );\n\n\t\t// User Filter\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'ldap_user_filter', width: 150 } );\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<span class=\\'widget-right-label\\'> ' + $.i18n._( 'Additional filter parameters. (ie: is_timetrex_user=1)' ) + '</span>' );\n\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'User Filter' ), form_item_input, tab_ldap_column1, '', widgetContainer, true );\n\n\t\t// Login Attribute\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'ldap_login_attribute', width: 150 } );\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<span class=\\'widget-right-label\\'> ' + $.i18n._( 'For searching the LDAP user. (ie: sAMAccountName or userPrincipalName)' ) + '</span>' );\n\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Login Attribute' ), form_item_input, tab_ldap_column1, '', widgetContainer, true );\n\n\t\t//Tab 4 start\n\n\t\tvar tab_saml = this.edit_view_tab.find( '#tab_saml' );\n\t\tvar tab_saml_column1 = tab_saml.find( '.first-column' );\n\t\tthis.edit_view_tabs[3] = [];\n\t\tthis.edit_view_tabs[3].push( tab_saml_column1 );\n\n\t\t//\n\t\t// SAML Authentication\n\t\t//\n\n\t\t// Authentication Type\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\tform_item_input.TComboBox( { field: 'saml_authentication_type_id' } );\n\t\tform_item_input.setSourceData( $this.saml_authentication_type_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'SAML Authentication' ), form_item_input, tab_saml_column1, '', null, true );\n\n\t\t// TimeTrex ACS/Entity ID URL\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'saml_acs_url', width: '100%' } );\n\n\t\tvar widgetContainer = $( '<div class=\\'widget-h-box\\' style=\\'width: 100%;\\'></div>' );\n\t\tvar copy_icon = $( ' <img style=\"margin-left: 5px; position: absolute; cursor: pointer; width: 20px; height: 20px;\" src=\"' + Global.getRealImagePath( 'css/global/widgets/ribbon/icons/' + 'copy-35x35.png' ) + '\">' );\n\t\tcopy_icon.click( function() {\n\t\t\t$this.copyURL( 'saml_acs_url' );\n\t\t} );\n\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( copy_icon );\n\n\t\tthis.addEditFieldToColumn( LocalCacheData.getLoginData().application_name +' '+ $.i18n._( 'Reply (ACS) URL' ), form_item_input, tab_saml_column1, '', widgetContainer, true, true );\n\t\tform_item_input.parent().parent().width( '45%' );\n\n\t\t// TimeTrex Logout URL Redirect\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'saml_logout_redirect', width: '100%' } );\n\n\t\tvar widgetContainer = $( '<div class=\\'widget-h-box\\' style=\\'width: 100%;\\'></div>' );\n\t\tvar copy_icon = $( ' <img style=\"margin-left: 5px; position: absolute; cursor: pointer; width: 20px; height: 20px;\" src=\"' + Global.getRealImagePath( 'css/global/widgets/ribbon/icons/' + 'copy-35x35.png' ) + '\">' );\n\t\tcopy_icon.click( function() {\n\t\t\t$this.copyURL( 'saml_logout_redirect' );\n\t\t} );\n\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( copy_icon );\n\n\t\tthis.addEditFieldToColumn( LocalCacheData.getLoginData().application_name +' '+ $.i18n._( 'Logout Redirect URL' ), form_item_input, tab_saml_column1, '', widgetContainer, true, true );\n\t\tform_item_input.parent().parent().width( '45%' );\n\n\t\t// Entity ID\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'saml_idp_entity_id', width: '100%' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Issuer (Entity ID) URL' ), form_item_input, tab_saml_column1, '', null, true, true );\n\t\tform_item_input.parent().width( '45%' );\n\n\t\t// SSO URL\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'saml_idp_sso_url', width: '100%' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Login (SSO) URL' ), form_item_input, tab_saml_column1, '', null, true, true );\n\t\tform_item_input.parent().width( '45%' );\n\n\t\t// SLO URL\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'saml_idp_slo_url', width: '100%' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Logout (SLO) URL' ), form_item_input, tab_saml_column1, '', null, true, true );\n\t\tform_item_input.parent().width( '45%' );\n\n\t\t// x509cert\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_AREA );\n\t\tform_item_input.TTextArea( { field: 'saml_idp_x509_certificate', width: '100%', height: 350 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'X.509 Certificate' ), form_item_input, tab_saml_column1, '', null, true, true );\n\t\tform_item_input.parent().width( '45%' );\n\t}\n\n\tsetCompanyIdFilter( args ) {\n\n\t\tvar company_id = this.current_edit_record.id;\n\n\t\tif ( !company_id ) {\n\t\t\tcompany_id = -1;\n\t\t}\n\t\tif ( !args ) {\n\t\t\targs = { filter_data: { company_id: company_id } };\n\n\t\t} else {\n\t\t\tif ( !args.filter_data ) {\n\t\t\t\targs.filter_data = { company_id: company_id };\n\t\t\t} else {\n\t\t\t\targs.filter_data.company_id = company_id;\n\t\t\t}\n\t\t}\n\n\t\treturn args;\n\t}\n\n\tsetCurrentEditRecordData() {\n\n\t\tfor ( var key in this.current_edit_record ) {\n\t\t\tvar widget = this.edit_view_ui_dic[key];\n\t\t\tif ( Global.isSet( widget ) ) {\n\t\t\t\tswitch ( key ) {\n\t\t\t\t\tcase 'country':\n\t\t\t\t\t\tthis.setCountryValue( widget, key );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\twidget.setValue( this.current_edit_record[key] );\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t\tthis.collectUIDataToCurrentEditRecord();\n\n\t\tif ( this.current_edit_record['saml_sp_json'] ) {\n\t\t\tthis.setSAMLSpValue( this.current_edit_record['saml_sp_json'] );\n\t\t} else {\n\t\t\tthis.setSAMLSpValue( {} );\n\t\t}\n\n\t\tthis.setEditViewDataDone();\n\t}\n\n\tsetEditViewDataDone() {\n\t\tsuper.setEditViewDataDone();\n\t\tthis.onTypeChange();\n\t}\n\n\tonTypeChange() {\n\t\tif ( this.current_edit_record.ldap_authentication_type_id == 1 || this.current_edit_record.ldap_authentication_type_id == 2 ) {\n\t\t\tthis.attachElement( 'ldap_host' );\n\t\t\tthis.attachElement( 'ldap_port' );\n\t\t\tthis.attachElement( 'ldap_bind_user_name' );\n\t\t\tthis.attachElement( 'ldap_bind_password' );\n\t\t\tthis.attachElement( 'ldap_base_dn' );\n\t\t\tthis.attachElement( 'ldap_bind_attribute' );\n\t\t\tthis.attachElement( 'ldap_user_filter' );\n\t\t\tthis.attachElement( 'ldap_login_attribute' );\n\t\t} else {\n\t\t\tthis.detachElement( 'ldap_host' );\n\t\t\tthis.detachElement( 'ldap_port' );\n\t\t\tthis.detachElement( 'ldap_bind_user_name' );\n\t\t\tthis.detachElement( 'ldap_bind_password' );\n\t\t\tthis.detachElement( 'ldap_base_dn' );\n\t\t\tthis.detachElement( 'ldap_bind_attribute' );\n\t\t\tthis.detachElement( 'ldap_user_filter' );\n\t\t\tthis.detachElement( 'ldap_login_attribute' );\n\t\t}\n\n\t\tif ( this.current_edit_record.saml_authentication_type_id == 20 ) {\n\t\t\tthis.attachElement( 'saml_idp_entity_id' );\n\t\t\tthis.attachElement( 'saml_idp_sso_url' );\n\t\t\tthis.attachElement( 'saml_idp_slo_url' );\n\t\t\tthis.attachElement( 'saml_idp_x509_certificate' );\n\t\t\tthis.attachElement( 'saml_acs_url' );\n\t\t\tthis.attachElement( 'saml_logout_redirect' );\n\t\t} else {\n\t\t\tthis.detachElement( 'saml_idp_entity_id' );\n\t\t\tthis.detachElement( 'saml_idp_sso_url' );\n\t\t\tthis.detachElement( 'saml_idp_slo_url' );\n\t\t\tthis.detachElement( 'saml_idp_x509_certificate' );\n\t\t\tthis.detachElement( 'saml_acs_url' );\n\t\t\tthis.detachElement( 'saml_logout_redirect' );\n\t\t}\n\n\t\tthis.editFieldResize();\n\t}\n\n\tsetSAMLSpValue( values ) {\n\t\tfor ( let saml_field of this.saml_authentication_field_array ) {\n\t\t\tlet value = values[saml_field.id] ? values[saml_field.id] : null;\n\t\t\tthis.edit_view_ui_dic[saml_field.id].setValue( value );\n\t\t\tthis.current_edit_record[saml_field.id] = value;\n\t\t}\n\n\t\t//Set ACS for user to give to their IDP\n\t\tthis.edit_view_ui_dic.saml_acs_url.setValue( Global.getBaseURL( '../../', false ) + 'api/saml/api.php?action=acs' );\n\t\tthis.edit_view_ui_dic.saml_acs_url.setEnabled( false );\n\n\t\t//Set Logout Redirect for user to give to their IDP\n\t\tthis.edit_view_ui_dic.saml_logout_redirect.setValue( Global.getBaseURL( '../../', false ) + 'api/saml/api.php?action=slo_redirect' );\n\t\tthis.edit_view_ui_dic.saml_logout_redirect.setEnabled( false );\n\n\t\tthis.onTypeChange();\n\t}\n\n\tuniformVariable( records ) {\n\t\tif ( !records['saml_sp_json'] ) {\n\t\t\trecords['saml_sp_json'] = {};\n\t\t}\n\n\t\tfor ( let saml_field of this.saml_authentication_field_array ) {\n\t\t\trecords.saml_sp_json[saml_field.id] = this.edit_view_ui_dic[saml_field.id] ? this.edit_view_ui_dic[saml_field.id].getValue() : null;\n\t\t}\n\n\t\treturn records;\n\t}\n\n\tsetProvince( val, m ) {\n\t\tvar $this = this;\n\n\t\tif ( !val || val === '-1' || val === '0' ) {\n\t\t\t$this.province_array = [];\n\t\t\tthis.adv_search_field_ui_dic['province'].setSourceData( [] );\n\t\t\tthis.basic_search_field_ui_dic['province'].setSourceData( [] );\n\n\t\t} else {\n\n\t\t\tthis.api.getOptions( 'province', val, {\n\t\t\t\tonResult: function( res ) {\n\t\t\t\t\tres = res.getResult();\n\t\t\t\t\tif ( !res ) {\n\t\t\t\t\t\tres = [];\n\t\t\t\t\t}\n\n\t\t\t\t\t$this.province_array = Global.buildRecordArray( res );\n\t\t\t\t\t$this.adv_search_field_ui_dic['province'].setSourceData( $this.province_array );\n\t\t\t\t\t$this.basic_search_field_ui_dic['province'].setSourceData( $this.province_array );\n\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}\n\n\teSetProvince( val, refresh ) {\n\t\tvar $this = this;\n\t\tvar province_widget = $this.edit_view_ui_dic['province'];\n\n\t\tif ( !val || val === '-1' || val === '0' ) {\n\t\t\t$this.e_province_array = [];\n\t\t\tprovince_widget.setSourceData( [] );\n\t\t} else {\n\t\t\tthis.api.getOptions( 'province', val, {\n\t\t\t\tonResult: function( res ) {\n\t\t\t\t\tres = res.getResult();\n\t\t\t\t\tif ( !res ) {\n\t\t\t\t\t\tres = [];\n\t\t\t\t\t}\n\n\t\t\t\t\t$this.e_province_array = Global.buildRecordArray( res );\n\t\t\t\t\tif ( refresh && $this.e_province_array.length > 0 ) {\n\t\t\t\t\t\t$this.current_edit_record.province = $this.e_province_array[0].value;\n\t\t\t\t\t\tprovince_widget.setValue( $this.current_edit_record.province );\n\t\t\t\t\t}\n\t\t\t\t\tprovince_widget.setSourceData( $this.e_province_array );\n\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}\n\n\tbuildSearchFields() {\n\n\t\tsuper.buildSearchFields();\n\t\tthis.search_fields = [\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Name' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'name',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: true,\n\t\t\t\tform_item_type: FormItemType.TEXT_INPUT\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Short Name' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'short_name',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: true,\n\t\t\t\tform_item_type: FormItemType.TEXT_INPUT\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Status' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'status_id',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: true,\n\t\t\t\tlayout_name: 'global_option_column',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Product Edition' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'product_edition_id',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: false,\n\t\t\t\tadv_search: true,\n\t\t\t\tlayout_name: 'global_option_column',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Country' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'country',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: true,\n\t\t\t\tlayout_name: 'global_option_column',\n\t\t\t\tform_item_type: FormItemType.COMBO_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Province/State' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'province',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: true,\n\t\t\t\tlayout_name: 'global_option_column',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'City' ),\n\t\t\t\tfield: 'city',\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: true,\n\t\t\t\tin_column: 2,\n\t\t\t\tform_item_type: FormItemType.TEXT_INPUT\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Created By' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'created_by',\n\t\t\t\tlayout_name: 'global_user',\n\t\t\t\tapi_class: TTAPI.APIUser,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: false,\n\t\t\t\tadv_search: true,\n\t\t\t\tscript_name: 'EmployeeView',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Updated By' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'updated_by',\n\t\t\t\tlayout_name: 'global_user',\n\t\t\t\tapi_class: TTAPI.APIUser,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: false,\n\t\t\t\tadv_search: true,\n\t\t\t\tscript_name: 'EmployeeView',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} )\n\n\t\t];\n\t}\n\n\tcopyURL( field ) {\n\t\tvar url_field = this.edit_view_ui_dic[field][0];\n\n\t\t// Create a temporary textarea to copy text from as cannot use select() on a span.\n\t\tvar text_area = document.createElement( 'textarea' );\n\t\ttext_area.value = url_field.value;\n\t\tdocument.body.appendChild( text_area );\n\t\ttext_area.select();\n\t\tdocument.execCommand( 'Copy' );\n\t\ttext_area.remove();\n\n\t\tTAlertManager.showAlert( $.i18n._( 'TimeTrex SAML URL copied to clipboard.' ) );\n\t}\n\n}"],"names":["CompaniesViewController","options","_","$","callBack","result","combo","select_value","selectVal","target","doNotValidate","key","c_value","widget","context_menu_model","id","context_btn","grid_selected_length","grid_selected_id_array","filter","company_id","args","user_id","$this","tab_model","tab_company","tab_company_column1","tab_company_column2","form_item_input","widgetContainer","label","tab_password_policy","tab_password_policy_column1","tab_ldap","tab_ldap_column1","tab_saml","tab_saml_column1","copy_icon","values","saml_field","value","records","val","m","res","refresh","province_widget","field","url_field","text_area"],"mappings":"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"}