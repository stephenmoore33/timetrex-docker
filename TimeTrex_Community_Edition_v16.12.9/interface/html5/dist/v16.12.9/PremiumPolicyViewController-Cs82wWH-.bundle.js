import{_ as V,j as e}from"./vendor-tTApdY0Y.bundle.js";class H extends BaseViewController{constructor(t={}){V.defaults(t,{el:"#premium_policy_view_container",type_array:null,min_max_time_type_array:null,include_holiday_type_array:null,branch_selection_type_array:null,department_selection_type_array:null,job_group_selection_type_array:null,job_selection_type_array:null,job_group_array:null,job_item_group_array:null,punch_tag_group_array:null,job_item_group_selection_type_array:null,job_item_selection_type_array:null,punch_tag_group_selection_type_array:null,punch_tag_selection_type_array:null,job_group_api:null,job_item_group_api:null,punch_tag_group_api:null,date_api:null}),super(t)}init(t){this.edit_view_tpl="PremiumPolicyEditView.html",this.permission_id="premium_policy",this.viewId="PremiumPolicy",this.script_name="PremiumPolicyView",this.table_name_key="premium_policy",this.context_menu_name=e.i18n._("Premium Policy"),this.navigation_label=e.i18n._("Premium Policy"),this.api=TTAPI.APIPremiumPolicy,Global.getProductEdition()>=20&&(this.job_group_api=TTAPI.APIJobGroup,this.job_item_group_api=TTAPI.APIJobItemGroup,this.punch_tag_group_api=TTAPI.APIPunchTagGroup),this.date_api=TTAPI.APITTDate,this.render(),this.buildContextMenu(),this.initData()}initOptions(){var t=this,n=[{option_name:"type",api:this.api},{option_name:"min_max_time_type",api:this.api},{option_name:"include_holiday_type",api:this.api},{option_name:"branch_selection_type",api:this.api},{option_name:"department_selection_type",api:this.api},{option_name:"job_group_selection_type",api:this.api},{option_name:"job_selection_type",api:this.api},{option_name:"job_item_group_selection_type",api:this.api},{option_name:"job_item_selection_type",api:this.api},{option_name:"punch_tag_group_selection_type",api:this.api},{option_name:"punch_tag_selection_type",api:this.api}];this.initDropDownOptions(n),Global.getProductEdition()>=20&&(this.job_group_api.getJobGroup("",!1,!1,{onResult:function(o){o=o.getResult(),o=Global.buildTreeRecord(o),t.job_group_array=o}}),this.job_item_group_api.getJobItemGroup("",!1,!1,{onResult:function(o){o=o.getResult(),o=Global.buildTreeRecord(o),t.job_item_group_array=o}}),this.punch_tag_group_api.getPunchTagGroup("",!1,!1,{onResult:function(o){o=o.getResult(),o=Global.buildTreeRecord(o),t.punch_tag_group_array=o}}))}buildEditViewUI(){super.buildEditViewUI();var t=this,n={tab_premium_policy:{label:e.i18n._("Premium Policy")},tab_date_criteria:{label:e.i18n._("Date/Time Criteria")},tab_differential_criteria:{label:e.i18n._("Differential Criteria")},tab_meal_criteria:{label:e.i18n._("Meal/Break Criteria")},tab_callback_criteria:{label:e.i18n._("CallBack Criteria")},tab_minimum_shift_time_criteria:{label:e.i18n._("Minimum Shift Time Criteria")},tab_audit:!0};this.setTabModel(n),this.navigation.AComboBox({api_class:TTAPI.APIPremiumPolicy,id:this.script_name+"_navigation",allow_multiple_selection:!1,layout_name:"global_premium",navigation_mode:!0,show_search_inputs:!0}),this.setNavigation();var o=this.edit_view_tab.find("#tab_premium_policy"),s=o.find(".first-column");this.edit_view_tabs[0]=[],this.edit_view_tabs[0].push(s);var i,d,u;i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"name",width:"100%"}),this.addEditFieldToColumn(e.i18n._("Name"),i,s,""),i.parent().width("45%"),i=Global.loadWidgetByName(FormItemType.TEXT_AREA),i.TTextArea({field:"description",width:"100%"}),this.addEditFieldToColumn(e.i18n._("Description"),i,s,"",null,null,!0),i.parent().width("45%"),i=Global.loadWidgetByName(FormItemType.COMBO_BOX),i.TComboBox({field:"type_id",set_empty:!1}),i.setSourceData(t.type_array),this.addEditFieldToColumn(e.i18n._("Type"),i,s),i=Global.loadWidgetByName(FormItemType.SEPARATED_BOX),i.SeparatedBox({label:e.i18n._("Hours/Pay Criteria")}),this.addEditFieldToColumn(null,i,s),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"minimum_time",mode:"time_unit",need_parser_sec:!0}),d=e("<div class='widget-h-box'></div>"),u=e("<span class='widget-right-label'> "+e.i18n._("(Use 0 for no minimum)")+"</span>"),d.append(i),d.append(u),this.addEditFieldToColumn(e.i18n._("Minimum Time"),i,s,"",d),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"maximum_time",mode:"time_unit",need_parser_sec:!0}),d=e("<div class='widget-h-box'></div>"),u=e("<span class='widget-right-label'> "+e.i18n._("(Use 0 for no maximum)")+"</span>"),d.append(i),d.append(u),this.addEditFieldToColumn(e.i18n._("Maximum Time"),i,s,"",d),i=Global.loadWidgetByName(FormItemType.COMBO_BOX),i.TComboBox({field:"min_max_time_type_id",set_empty:!1}),i.setSourceData(t.min_max_time_type_array),this.addEditFieldToColumn(e.i18n._("Min/Max Time Resets"),i,s),i=Global.loadWidgetByName(FormItemType.CHECKBOX),i.TCheckbox({field:"include_partial_punch"}),this.addEditFieldToColumn(e.i18n._("Include Partial Punches"),i,s,"",null,!0),i=Global.loadWidgetByName(FormItemType.AWESOME_BOX),i.AComboBox({api_class:TTAPI.APIContributingShiftPolicy,allow_multiple_selection:!1,layout_name:"global_contributing_shift_policy",show_search_inputs:!0,set_empty:!0,set_default:!0,field:"contributing_shift_policy_id"}),this.addEditFieldToColumn(e.i18n._("Contributing Shift Policy"),i,s),i=Global.loadWidgetByName(FormItemType.AWESOME_BOX),i.AComboBox({api_class:TTAPI.APIPayCode,allow_multiple_selection:!1,layout_name:"global_pay_code",show_search_inputs:!0,set_default:!0,set_empty:!0,field:"pay_code_id"}),this.addEditFieldToColumn(e.i18n._("Pay Code"),i,s),i=Global.loadWidgetByName(FormItemType.AWESOME_BOX),i.AComboBox({api_class:TTAPI.APIPayFormulaPolicy,allow_multiple_selection:!1,layout_name:"global_pay_formula_policy",show_search_inputs:!0,set_empty:!0,field:"pay_formula_policy_id",custom_first_label:e.i18n._("-- Defined by Pay Code --"),added_items:[{value:TTUUID.zero_id,label:e.i18n._("-- Defined by Pay Code --")}]}),this.addEditFieldToColumn(e.i18n._("Pay Formula Policy"),i,s);var X=this.edit_view_tab.find("#tab_date_criteria"),p=X.find(".first-column");this.edit_view_tabs[1]=[],this.edit_view_tabs[1].push(p),i=Global.loadWidgetByName(FormItemType.DATE_PICKER),i.TDatePicker({field:"start_date"}),this.addEditFieldToColumn(e.i18n._("Start Date"),i,p,"",null),i=Global.loadWidgetByName(FormItemType.DATE_PICKER),i.TDatePicker({field:"end_date"}),this.addEditFieldToColumn(e.i18n._("End Date"),i,p,"",null),i=Global.loadWidgetByName(FormItemType.TIME_PICKER),i.TTimePicker({field:"start_time"}),this.addEditFieldToColumn(e.i18n._("Start Time"),i,p,"",null),i=Global.loadWidgetByName(FormItemType.TIME_PICKER),i.TTimePicker({field:"end_time"}),this.addEditFieldToColumn(e.i18n._("End Time"),i,p,"",null);var h=Global.loadWidgetByName(FormItemType.TEXT_INPUT);h.TTextInput({field:"daily_trigger_time1",mode:"time_unit",need_parser_sec:!0});var b=Global.loadWidgetByName(FormItemType.TEXT_INPUT);b.TTextInput({field:"maximum_daily_trigger_time",mode:"time_unit",need_parser_sec:!0}),d=e("<div class='widget-h-box'></div>");var y=e("<span class='widget-right-label'> "+e.i18n._("Active After")+" </span>"),T=e("<span class='widget-right-label'> "+e.i18n._("Active Before")+" </span>");d.append(y),d.append(h),d.append(T),d.append(b),this.addEditFieldToColumn(e.i18n._("Daily Time"),[h,b],p,"",d);var f=Global.loadWidgetByName(FormItemType.TEXT_INPUT);f.TTextInput({field:"weekly_trigger_time",mode:"time_unit",need_parser_sec:!0});var g=Global.loadWidgetByName(FormItemType.TEXT_INPUT);g.TTextInput({field:"maximum_weekly_trigger_time",mode:"time_unit",need_parser_sec:!0}),d=e("<div class='widget-h-box'></div>"),y=e("<span class='widget-right-label'> "+e.i18n._("Active After")+" </span>"),T=e("<span class='widget-right-label'> "+e.i18n._("Active Before")+" </span>"),d.append(y),d.append(f),d.append(T),d.append(g),this.addEditFieldToColumn(e.i18n._("Weekly Time"),[f,g],p,"",d);var v=Global.loadWidgetByName(FormItemType.CHECKBOX);v.TCheckbox({field:"sun"});var I=Global.loadWidgetByName(FormItemType.CHECKBOX);I.TCheckbox({field:"mon"});var w=Global.loadWidgetByName(FormItemType.CHECKBOX);w.TCheckbox({field:"tue"});var C=Global.loadWidgetByName(FormItemType.CHECKBOX);C.TCheckbox({field:"wed"});var E=Global.loadWidgetByName(FormItemType.CHECKBOX);E.TCheckbox({field:"thu"});var B=Global.loadWidgetByName(FormItemType.CHECKBOX);B.TCheckbox({field:"fri"});var F=Global.loadWidgetByName(FormItemType.CHECKBOX);F.TCheckbox({field:"sat"}),d=e("<div class=''></div>");var S=e("<span class='widget-top-label'> "+e.i18n._("Sun")+" <br>  </span>"),G=e("<span class='widget-top-label'> "+e.i18n._("Mon")+" <br>  </span>"),A=e("<span class='widget-top-label'> "+e.i18n._("Tue")+" <br>  </span>"),O=e("<span class='widget-top-label'> "+e.i18n._("Wed")+" <br>  </span>"),W=e("<span class='widget-top-label'> "+e.i18n._("Thu")+" <br>  </span>"),N=e("<span class='widget-top-label'> "+e.i18n._("Fri")+" <br>  </span>"),j=e("<span class='widget-top-label'> "+e.i18n._("Sat")+" <br>  </span>");S.append(v),G.append(I),A.append(w),O.append(C),W.append(E),N.append(B),j.append(F),d.append(S),d.append(G),d.append(A),d.append(O),d.append(W),d.append(N),d.append(j),this.addEditFieldToColumn(e.i18n._("Effective Days"),[v,I,w,C,E,B,F],p,"",d,!1,!0),i=Global.loadWidgetByName(FormItemType.COMBO_BOX),i.TComboBox({field:"include_holiday_type_id",set_empty:!1}),i.setSourceData(t.include_holiday_type_array),this.addEditFieldToColumn(e.i18n._("Holidays"),i,p,"");var D=this.edit_view_tab.find("#tab_differential_criteria"),m=D.find(".first-column");this.edit_view_tabs[2]=[],this.edit_view_tabs[2].push(m);var _=e("<div class='v-box'></div>");i=Global.loadWidgetByName(FormItemType.COMBO_BOX),i.TComboBox({field:"branch_selection_type_id",set_empty:!1}),i.setSourceData(t.branch_selection_type_array),a=this.putInputToInsideFormItem(i,e.i18n._("Selection Type")),_.append(a),_.append("<div class='clear-both-div'></div>");var l=Global.loadWidgetByName(FormItemType.AWESOME_BOX);l.AComboBox({api_class:TTAPI.APIBranch,allow_multiple_selection:!0,layout_name:"global_branch",show_search_inputs:!0,set_empty:!0,field:"branch"});var a=this.putInputToInsideFormItem(l,e.i18n._("Selection"));_.append(a);var r=Global.loadWidgetByName(FormItemType.CHECKBOX);r.TCheckbox({field:"exclude_default_branch"}),a=this.putInputToInsideFormItem(r,e.i18n._("Exclude Default")),_.append(a),this.addEditFieldToColumn(e.i18n._("Branches"),[i,l,r],m,"",_,!1,!0),_=e("<div class='v-box'></div>"),i=Global.loadWidgetByName(FormItemType.COMBO_BOX),i.TComboBox({field:"department_selection_type_id",set_empty:!1}),i.setSourceData(t.department_selection_type_array),a=this.putInputToInsideFormItem(i,e.i18n._("Selection Type")),_.append(a),_.append("<div class='clear-both-div'></div>"),l=Global.loadWidgetByName(FormItemType.AWESOME_BOX),l.AComboBox({api_class:TTAPI.APIDepartment,allow_multiple_selection:!0,layout_name:"global_department",show_search_inputs:!0,set_empty:!0,field:"department"}),a=this.putInputToInsideFormItem(l,e.i18n._("Selection")),_.append(a),r=Global.loadWidgetByName(FormItemType.CHECKBOX),r.TCheckbox({field:"exclude_default_department"}),a=this.putInputToInsideFormItem(r,e.i18n._("Exclude Default")),_.append(a),this.addEditFieldToColumn(e.i18n._("Departments"),[i,l,r],m,"",_,!1,!0),Global.getProductEdition()>=20&&(_=e("<div class='v-box'></div>"),i=Global.loadWidgetByName(FormItemType.COMBO_BOX),i.TComboBox({field:"job_group_selection_type_id",set_empty:!1}),i.setSourceData(t.job_group_selection_type_array),a=this.putInputToInsideFormItem(i,e.i18n._("Selection Type")),_.append(a),_.append("<div class='clear-both-div'></div>"),l=Global.loadWidgetByName(FormItemType.AWESOME_BOX),l.AComboBox({tree_mode:!0,allow_multiple_selection:!0,layout_name:"global_tree_column",set_empty:!0,field:"job_group"}),l.setSourceData(t.job_group_array),a=this.putInputToInsideFormItem(l,e.i18n._("Selection")),_.append(a),this.addEditFieldToColumn(e.i18n._("Job Groups"),[i,l],m,"",_,!1,!0),_=e("<div class='v-box'></div>"),i=Global.loadWidgetByName(FormItemType.COMBO_BOX),i.TComboBox({field:"job_selection_type_id",set_empty:!1}),i.setSourceData(t.job_selection_type_array),a=this.putInputToInsideFormItem(i,e.i18n._("Selection Type")),_.append(a),_.append("<div class='clear-both-div'></div>"),l=Global.loadWidgetByName(FormItemType.AWESOME_BOX),l.AComboBox({api_class:TTAPI.APIJob,allow_multiple_selection:!0,layout_name:"global_job",show_search_inputs:!0,set_empty:!0,field:"job"}),a=this.putInputToInsideFormItem(l,e.i18n._("Selection")),_.append(a),r=Global.loadWidgetByName(FormItemType.CHECKBOX),r.TCheckbox({field:"exclude_default_job"}),a=this.putInputToInsideFormItem(r,e.i18n._("Exclude Default")),_.append(a),this.addEditFieldToColumn(e.i18n._("Jobs"),[i,l,r],m,"",_,!1,!0),_=e("<div class='v-box'></div>"),i=Global.loadWidgetByName(FormItemType.COMBO_BOX),i.TComboBox({field:"job_item_group_selection_type_id",set_empty:!1}),i.setSourceData(t.job_item_group_selection_type_array),a=this.putInputToInsideFormItem(i,e.i18n._("Selection Type")),_.append(a),_.append("<div class='clear-both-div'></div>"),l=Global.loadWidgetByName(FormItemType.AWESOME_BOX),l.AComboBox({tree_mode:!0,allow_multiple_selection:!0,layout_name:"global_tree_column",set_empty:!0,field:"job_item_group"}),l.setSourceData(t.job_item_group_array),a=this.putInputToInsideFormItem(l,e.i18n._("Selection")),_.append(a),this.addEditFieldToColumn(e.i18n._("Task Groups"),[i,l],m,"",_,!1,!0),_=e("<div class='v-box'></div>"),i=Global.loadWidgetByName(FormItemType.COMBO_BOX),i.TComboBox({field:"job_item_selection_type_id",set_empty:!1}),i.setSourceData(t.job_item_selection_type_array),a=this.putInputToInsideFormItem(i,e.i18n._("Selection Type")),_.append(a),_.append("<div class='clear-both-div'></div>"),l=Global.loadWidgetByName(FormItemType.AWESOME_BOX),l.AComboBox({api_class:TTAPI.APIJobItem,allow_multiple_selection:!0,layout_name:"global_job_item",show_search_inputs:!0,set_empty:!0,field:"job_item"}),a=this.putInputToInsideFormItem(l,e.i18n._("Selection")),_.append(a),r=Global.loadWidgetByName(FormItemType.CHECKBOX),r.TCheckbox({field:"exclude_default_job_item"}),a=this.putInputToInsideFormItem(r,e.i18n._("Exclude Default")),_.append(a),this.addEditFieldToColumn(e.i18n._("Tasks"),[i,l,r],m,"",_,!1,!0),_=e("<div class='v-box'></div>"),i=Global.loadWidgetByName(FormItemType.COMBO_BOX),i.TComboBox({field:"punch_tag_group_selection_type_id",set_empty:!1}),i.setSourceData(t.punch_tag_group_selection_type_array),a=this.putInputToInsideFormItem(i,e.i18n._("Selection Type")),_.append(a),_.append("<div class='clear-both-div'></div>"),l=Global.loadWidgetByName(FormItemType.AWESOME_BOX),l.AComboBox({tree_mode:!0,allow_multiple_selection:!0,layout_name:"global_tree_column",set_empty:!0,field:"punch_tag_group"}),l.setSourceData(t.punch_tag_group_array),a=this.putInputToInsideFormItem(l,e.i18n._("Selection")),_.append(a),this.addEditFieldToColumn(e.i18n._("Punch Tag Groups"),[i,l],m,"",_,!1,!0),_=e("<div class='v-box'></div>"),i=Global.loadWidgetByName(FormItemType.COMBO_BOX),i.TComboBox({field:"punch_tag_selection_type_id",set_empty:!1}),i.setSourceData(t.punch_tag_selection_type_array),a=this.putInputToInsideFormItem(i,e.i18n._("Selection Type")),_.append(a),_.append("<div class='clear-both-div'></div>"),l=Global.loadWidgetByName(FormItemType.AWESOME_BOX),l.AComboBox({api_class:TTAPI.APIPunchTag,allow_multiple_selection:!0,layout_name:"global_job_item",show_search_inputs:!0,set_empty:!0,field:"punch_tag"}),a=this.putInputToInsideFormItem(l,e.i18n._("Selection")),_.append(a),r=Global.loadWidgetByName(FormItemType.CHECKBOX),r.TCheckbox({field:"exclude_default_punch_tag"}),a=this.putInputToInsideFormItem(r,e.i18n._("Exclude Default")),_.append(a),this.addEditFieldToColumn(e.i18n._("Punch Tags"),[i,l,r],m,"",_,!1,!0),i=Global.loadWidgetByName(FormItemType.AWESOME_BOX),i.AComboBox({api_class:TTAPI.APIContributingPayCodePolicy,allow_multiple_selection:!1,layout_name:"global_contributing_pay_code_policy",show_search_inputs:!0,set_any:!0,field:"contributing_pay_code_policy_id"}),this.addEditFieldToColumn(e.i18n._("Pay Code Policy"),i,m));var M=this.edit_view_tab.find("#tab_meal_criteria"),c=M.find(".first-column");this.edit_view_tabs[3]=[],this.edit_view_tabs[3].push(c),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"daily_trigger_time2",mode:"time_unit",need_parser_sec:!0}),this.addEditFieldToColumn(e.i18n._("Active After Daily Hours"),i,c,"",null),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"maximum_no_break_time",mode:"time_unit",need_parser_sec:!0}),this.addEditFieldToColumn(e.i18n._("Maximum Time Without A Break"),i,c,"",null),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"minimum_break_time",mode:"time_unit",need_parser_sec:!0}),this.addEditFieldToColumn(e.i18n._("Minimum Time Recognized As Break"),i,c,"",null);var k=this.edit_view_tab.find("#tab_callback_criteria"),P=k.find(".first-column");this.edit_view_tabs[4]=[],this.edit_view_tabs[4].push(P),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"minimum_time_between_shift1",mode:"time_unit",need_parser_sec:!0}),this.addEditFieldToColumn(e.i18n._("Minimum Time Between Shifts"),i,P,"",null),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"minimum_first_shift_time",mode:"time_unit",need_parser_sec:!0}),this.addEditFieldToColumn(e.i18n._("First Shift Must Be At Least"),i,P,"",null);var U=this.edit_view_tab.find("#tab_minimum_shift_time_criteria"),x=U.find(".first-column");this.edit_view_tabs[5]=[],this.edit_view_tabs[5].push(x),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"minimum_shift_time",mode:"time_unit",need_parser_sec:!0}),this.addEditFieldToColumn(e.i18n._("Minimum Shift Time"),i,x,"",null),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"minimum_time_between_shift2",mode:"time_unit",need_parser_sec:!0}),this.addEditFieldToColumn(e.i18n._("Minimum Time-Off Between Shifts"),i,x,"",null)}setCurrentEditRecordData(){this.setDefaultData({branch_selection_type_id:10,department_selection_type_id:10,job_group_selection_type_id:10,job_selection_type_id:10,job_item_group_selection_type_id:10,job_item_selection_type_id:10,punch_tag_group_selection_type_id:10,punch_tag_selection_type_id:10,type_id:10});for(var t in this.current_edit_record){var n=this.edit_view_ui_dic[t];if(Global.isSet(n))switch(t){case"minimum_time_between_shift1":case"minimum_time_between_shift2":Global.isSet(this.current_edit_record.minimum_time_between_shift)?n.setValue(this.current_edit_record.minimum_time_between_shift):n.setValue(this.current_edit_record[t]);break;case"daily_trigger_time1":case"daily_trigger_time2":Global.isSet(this.current_edit_record.daily_trigger_time)?n.setValue(this.current_edit_record.daily_trigger_time):n.setValue(this.current_edit_record[t]);break;case"pay_type_id":n.setValue(this.current_edit_record[t]),this.onPayTypeChange();break;case"branch_selection_type_id":n.setValue(this.current_edit_record[t]),this.onBranchSelectionTypeChange();break;case"department_selection_type_id":n.setValue(this.current_edit_record[t]),this.onDepartmentSelectionTypeChange();break;case"job_group_selection_type_id":n.setValue(this.current_edit_record[t]),this.onJobGroupSelectionTypeChange();break;case"job_selection_type_id":n.setValue(this.current_edit_record[t]),this.onJobSelectionTypeChange();break;case"job_item_group_selection_type_id":n.setValue(this.current_edit_record[t]),this.onJobItemGroupSelectionTypeChange();break;case"job_item_selection_type_id":n.setValue(this.current_edit_record[t]),this.onJobItemSelectionTypeChange();break;case"punch_tag_group_selection_type_id":n.setValue(this.current_edit_record[t]),this.onPunchTagGroupSelectionTypeChange();break;case"punch_tag_selection_type_id":n.setValue(this.current_edit_record[t]),this.onPunchTagSelectionTypeChange();break;case"type_id":n.setValue(this.current_edit_record[t]),this.onTypeChange();break;default:n.setValue(this.current_edit_record[t]);break}}this.collectUIDataToCurrentEditRecord(),this.setEditViewDataDone()}onBranchSelectionTypeChange(){this.current_edit_record.branch_selection_type_id==10||this.is_viewing?this.edit_view_ui_dic.branch.setEnabled(!1):this.edit_view_ui_dic.branch.setEnabled(!0)}onDepartmentSelectionTypeChange(){this.current_edit_record.department_selection_type_id==10||this.is_viewing?this.edit_view_ui_dic.department.setEnabled(!1):this.edit_view_ui_dic.department.setEnabled(!0)}onJobGroupSelectionTypeChange(){Global.getProductEdition()>=20&&(this.current_edit_record.job_group_selection_type_id==10||this.is_viewing?this.edit_view_ui_dic.job_group.setEnabled(!1):this.edit_view_ui_dic.job_group.setEnabled(!0))}onJobSelectionTypeChange(){Global.getProductEdition()>=20&&(this.current_edit_record.job_selection_type_id==10||this.is_viewing?this.edit_view_ui_dic.job.setEnabled(!1):this.edit_view_ui_dic.job.setEnabled(!0))}onJobItemGroupSelectionTypeChange(){Global.getProductEdition()>=20&&(this.current_edit_record.job_item_group_selection_type_id==10||this.is_viewing?this.edit_view_ui_dic.job_item_group.setEnabled(!1):this.edit_view_ui_dic.job_item_group.setEnabled(!0))}onJobItemSelectionTypeChange(){Global.getProductEdition()>=20&&(this.current_edit_record.job_item_selection_type_id==10||this.is_viewing?this.edit_view_ui_dic.job_item.setEnabled(!1):this.edit_view_ui_dic.job_item.setEnabled(!0))}onPunchTagGroupSelectionTypeChange(){Global.getProductEdition()>=20&&(this.current_edit_record.punch_tag_group_selection_type_id==10||this.is_viewing?this.edit_view_ui_dic.punch_tag_group.setEnabled(!1):this.edit_view_ui_dic.punch_tag_group.setEnabled(!0))}onPunchTagSelectionTypeChange(){Global.getProductEdition()>=20&&(this.current_edit_record.punch_tag_selection_type_id==10||this.is_viewing?this.edit_view_ui_dic.punch_tag.setEnabled(!1):this.edit_view_ui_dic.punch_tag.setEnabled(!0))}onPayTypeChange(){this.current_edit_record.pay_type_id==10||this.current_edit_record.pay_type_id==42?(this.edit_view_form_item_dic.rate.find(".edit-view-form-item-label").text(e.i18n._("Rate")),this.edit_view_form_item_dic.rate.find(".widget-right-label").text("("+e.i18n._("ie")+": "+e.i18n._("1.5 for time and a half")+")"),this.attachElement("wage_group_id")):this.current_edit_record.pay_type_id==20?(this.edit_view_form_item_dic.rate.find(".edit-view-form-item-label").text(e.i18n._("Premium")),this.edit_view_form_item_dic.rate.find(".widget-right-label").text("("+e.i18n._("ie")+": "+e.i18n._("0.75 for 75 cent/hr")+")"),this.detachElement("wage_group_id")):(this.current_edit_record.pay_type_id==30||this.current_edit_record.pay_type_id==32||this.current_edit_record.pay_type_id==40)&&(this.edit_view_form_item_dic.rate.find(".edit-view-form-item-label").text(e.i18n._("Hourly Rate")),this.edit_view_form_item_dic.rate.find(".widget-right-label").text("("+e.i18n._("ie")+": "+e.i18n._("10.00/hr")+")"),this.attachElement("wage_group_id")),this.editFieldResize()}onTypeChange(){e(this.edit_view_tab.find("ul li")[2]).hide(),e(this.edit_view_tab.find("ul li")[3]).hide(),e(this.edit_view_tab.find("ul li")[4]).hide(),e(this.edit_view_tab.find("ul li")[5]).hide(),this.attachElement("include_partial_punch"),this.current_edit_record.type_id==10?(e(this.edit_view_tab.find("ul li")[1]).show(),e(this.edit_view_tab.find("ul li")[2]).hide(),e(this.edit_view_tab.find("ul li")[3]).hide(),e(this.edit_view_tab.find("ul li")[4]).hide(),e(this.edit_view_tab.find("ul li")[5]).hide()):this.current_edit_record.type_id==20?(this.detachElement("include_partial_punch"),e(this.edit_view_tab.find("ul li")[1]).hide(),e(this.edit_view_tab.find("ul li")[2]).show(),e(this.edit_view_tab.find("ul li")[3]).hide(),e(this.edit_view_tab.find("ul li")[4]).hide(),e(this.edit_view_tab.find("ul li")[5]).hide()):this.current_edit_record.type_id==30?(this.detachElement("include_partial_punch"),e(this.edit_view_tab.find("ul li")[1]).hide(),e(this.edit_view_tab.find("ul li")[2]).hide(),e(this.edit_view_tab.find("ul li")[3]).show(),e(this.edit_view_tab.find("ul li")[4]).hide(),e(this.edit_view_tab.find("ul li")[5]).hide()):this.current_edit_record.type_id==40?(this.detachElement("include_partial_punch"),e(this.edit_view_tab.find("ul li")[1]).hide(),e(this.edit_view_tab.find("ul li")[2]).hide(),e(this.edit_view_tab.find("ul li")[3]).hide(),e(this.edit_view_tab.find("ul li")[4]).show(),e(this.edit_view_tab.find("ul li")[5]).hide()):this.current_edit_record.type_id==50?(this.detachElement("include_partial_punch"),e(this.edit_view_tab.find("ul li")[1]).hide(),e(this.edit_view_tab.find("ul li")[2]).show(),e(this.edit_view_tab.find("ul li")[3]).hide(),e(this.edit_view_tab.find("ul li")[4]).hide(),e(this.edit_view_tab.find("ul li")[5]).show()):this.current_edit_record.type_id==90?(e(this.edit_view_tab.find("ul li")[1]).hide(),e(this.edit_view_tab.find("ul li")[2]).hide(),e(this.edit_view_tab.find("ul li")[3]).hide(),e(this.edit_view_tab.find("ul li")[4]).hide(),e(this.edit_view_tab.find("ul li")[5]).hide()):this.current_edit_record.type_id==100&&(e(this.edit_view_tab.find("ul li")[1]).show(),e(this.edit_view_tab.find("ul li")[2]).show(),e(this.edit_view_tab.find("ul li")[3]).hide(),e(this.edit_view_tab.find("ul li")[4]).hide(),e(this.edit_view_tab.find("ul li")[5]).hide()),this.editFieldResize()}onFormItemChange(t,n){this.setIsChanged(t),this.setMassEditingFieldsWhenFormChange(t);var o=t.getField(),s=t.getValue();switch(this.current_edit_record[o]=s,o){case"minimum_time_between_shift1":case"minimum_time_between_shift2":this.current_edit_record.minimum_time_between_shift=s;break;case"daily_trigger_time1":case"daily_trigger_time2":this.current_edit_record.daily_trigger_time=s;break}(o==="type_id"||o==="accrual_policy_id")&&this.onTypeChange(),o==="pay_type_id"&&this.onPayTypeChange(),o==="branch_selection_type_id"&&this.onBranchSelectionTypeChange(),o==="department_selection_type_id"&&this.onDepartmentSelectionTypeChange(),o==="job_group_selection_type_id"&&this.onJobGroupSelectionTypeChange(),o==="job_selection_type_id"&&this.onJobSelectionTypeChange(),o==="job_item_group_selection_type_id"&&this.onJobItemGroupSelectionTypeChange(),o==="job_item_selection_type_id"&&this.onJobItemSelectionTypeChange(),o==="punch_tag_group_selection_type_id"&&this.onPunchTagGroupSelectionTypeChange(),o==="punch_tag_selection_type_id"&&this.onPunchTagSelectionTypeChange(),n||this.validate()}uniformVariable(t){return t}buildSearchFields(){super.buildSearchFields(),this.search_fields=[new SearchField({label:e.i18n._("Name"),in_column:1,field:"name",multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.TEXT_INPUT}),new SearchField({label:e.i18n._("Type"),in_column:1,field:"type_id",multiple:!0,basic_search:!0,adv_search:!1,layout_name:"global_option_column",form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:e.i18n._("Pay Code"),in_column:1,field:"pay_code_id",layout_name:"global_pay_code",api_class:TTAPI.APIPayCode,multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:e.i18n._("Pay Formula Policy"),in_column:1,field:"pay_formula_policy_id",layout_name:"global_pay_formula_policy",api_class:TTAPI.APIPayFormulaPolicy,multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:e.i18n._("Created By"),in_column:2,field:"created_by",layout_name:"global_user",api_class:TTAPI.APIUser,multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:e.i18n._("Updated By"),in_column:2,field:"updated_by",layout_name:"global_user",api_class:TTAPI.APIUser,multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.AWESOME_BOX})]}}export{H as PremiumPolicyViewController};
//# sourceMappingURL=PremiumPolicyViewController-Cs82wWH-.bundle.js.map
