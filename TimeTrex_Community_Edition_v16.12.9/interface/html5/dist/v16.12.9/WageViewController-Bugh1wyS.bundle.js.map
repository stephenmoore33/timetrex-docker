{"version":3,"file":"WageViewController-Bugh1wyS.bundle.js","sources":["../../views/company/wage/WageViewController.js"],"sourcesContent":["export class WageViewController extends BaseViewController {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {\n\t\t\tel: '#wage_view_container', //Must set el here and can only set string, so events can work\n\n\n\n\t\t\tuser_api: null,\n\t\t\tuser_group_api: null,\n\t\t\tcompany_api: null,\n\t\t\tcurrency_api: null,\n\n\t\t\ttype_array: null,\n\t\t\tstatus_array: null,\n\t\t\tsex_array: null,\n\t\t\tuser_group_array: null,\n\t\t\tcountry_array: null,\n\t\t\tprovince_array: null,\n\n\t\t\te_province_array: null,\n\n\t\t\tcurrency: '',\n\t\t\tcode: '',\n\n\t\t\tis_mass_adding: false,\n\t\t\tevents: {}\n\t\t} );\n\n\t\tsuper( options );\n\t}\n\n\tinit( options ) {\n\n\t\t//this._super('initialize', options );\n\t\tthis.edit_view_tpl = 'WageEditView.html';\n\t\tthis.permission_id = 'wage';\n\t\tthis.script_name = 'WageView';\n\t\tthis.viewId = 'Wage';\n\t\tthis.table_name_key = 'user_wage';\n\t\tthis.context_menu_name = $.i18n._( 'Wage' );\n\t\tthis.navigation_label = $.i18n._( 'Wage' );\n\t\tthis.document_object_type_id = 110;\n\t\tthis.api = TTAPI.APIUserWage;\n\t\tthis.user_group_api = TTAPI.APIUserGroup;\n\t\tthis.company_api = TTAPI.APICompany;\n\t\tthis.user_api = TTAPI.APIUser;\n\t\tthis.currency_api = TTAPI.APICurrency;\n\t\tthis.render();\n\n\t\tif ( this.sub_view_mode ) {\n\t\t\tthis.buildContextMenu( true );\n\t\t} else {\n\t\t\tthis.buildContextMenu();\n\t\t}\n\n\t\t//call init data in parent view\n\t\tif ( !this.sub_view_mode ) {\n\t\t\tthis.initData();\n\t\t}\n\t}\n\n\tinitOptions() {\n\t\tvar $this = this;\n\n\t\tvar options = [\n\t\t\t{ option_name: 'type', api: this.api },\n\t\t\t{ option_name: 'status', api: this.user_api },\n\t\t\t{ option_name: 'country', field_name: 'country', api: this.company_api },\n\t\t];\n\n\t\tthis.initDropDownOptions( options );\n\n\t\tthis.user_group_api.getUserGroup( '', false, false, {\n\t\t\tonResult: function( res ) {\n\t\t\t\tres = res.getResult();\n\n\t\t\t\tres = Global.buildTreeRecord( res );\n\t\t\t\t$this.user_group_array = res;\n\n\t\t\t\tif ( !$this.sub_view_mode ) {\n\t\t\t\t\t$this.adv_search_field_ui_dic['group_id'].setSourceData( res );\n\t\t\t\t}\n\n\t\t\t}\n\t\t} );\n\t}\n\n\tgetCustomContextMenuModel() {\n\t\tvar context_menu_model = {\n\t\t\texclude: ['copy'],\n\t\t\tinclude: [{\n\t\t\t\tlabel: $.i18n._( 'Import' ),\n\t\t\t\tid: 'import_icon',\n\t\t\t\tmenu_align: 'right',\n\t\t\t\taction_group: 'import_export',\n\t\t\t\tgroup: 'other',\n\t\t\t\tvue_icon: 'tticon tticon-file_download_black_24dp',\n\t\t\t\tpermission_result: PermissionManager.checkTopLevelPermission( 'ImportCSVWage' ),\n\t\t\t\tpermission: null,\n\t\t\t\tsort_order: 9010\n\t\t\t}]\n\t\t};\n\n\t\treturn context_menu_model;\n\t}\n\n\tonFormItemChange( target, doNotValidate ) {\n\t\tthis.setIsChanged( target );\n\t\tthis.setMassEditingFieldsWhenFormChange( target );\n\t\tvar key = target.getField();\n\t\tvar c_value = target.getValue();\n\t\tthis.current_edit_record[key] = c_value;\n\n\t\tswitch ( key ) {\n\t\t\tcase 'type_id':\n\t\t\t\tthis.onTypeChange( true );\n\t\t\t\tbreak;\n\t\t\tcase 'user_id':\n\t\t\t\tif ( $.isArray( this.current_edit_record.user_id ) && this.current_edit_record.user_id.length > 1 ) {\n\t\t\t\t\tthis.is_mass_adding = true;\n\t\t\t\t} else {\n\t\t\t\t\tthis.is_mass_adding = false;\n\t\t\t\t}\n\t\t\t\tthis.setCurrency();\n\t\t\t\tbreak;\n\t\t\tcase 'wage':\n\t\t\tcase 'weekly_time':\n\t\t\t\tthis.getHourlyRate();\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif ( !doNotValidate ) {\n\t\t\tthis.validate();\n\t\t}\n\t}\n\n\tsetCurrentEditRecordData() {\n\t\t//Always force enable_recalculate_timesheets to true at the UI level rather than the API level, so its easier to determine if they want it off or not.\n\t\tthis.setDefaultData( {\n\t\t\t'enable_recalculate_timesheets': true,\n\t\t}, true );\n\n\t\tsuper.setCurrentEditRecordData();\n\t}\n\n\t//Make sure this.current_edit_record is updated before validate\n\tvalidate() {\n\t\tvar $this = this;\n\t\tvar record = {};\n\t\tLocalCacheData.current_doing_context_action = 'validate';\n\t\tif ( this.is_mass_editing ) {\n\t\t\tfor ( var key in this.edit_view_ui_dic ) {\n\t\t\t\tvar widget = this.edit_view_ui_dic[key];\n\n\t\t\t\tif ( Global.isSet( widget.isChecked ) ) {\n\t\t\t\t\tif ( widget.isChecked() && widget.getEnabled() ) {\n\t\t\t\t\t\trecord[key] = widget.getValue();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif ( Global.isArray( this.current_edit_record.user_id ) && this.current_edit_record.user_id.length > 0 ) {\n\t\t\t\trecord = [];\n\t\t\t\t$.each( this.current_edit_record.user_id, function( index, value ) {\n\n\t\t\t\t\tvar commonRecord = Global.clone( $this.current_edit_record );\n\t\t\t\t\tcommonRecord.user_id = value;\n\t\t\t\t\trecord.push( commonRecord );\n\n\t\t\t\t} );\n\t\t\t} else {\n\t\t\t\trecord = this.current_edit_record;\n\t\t\t}\n\t\t}\n\t\tthis.api['validate' + this.api.key_name]( record, {\n\t\t\tonResult: function( result ) {\n\t\t\t\t$this.validateResult( result );\n\t\t\t}\n\t\t} );\n\t}\n\n\tsetDefaultMenuImportIcon( context_btn, grid_selected_length, pId ) {\n\t\tif ( PermissionManager.checkTopLevelPermission( 'ImportCSVWage' ) === true ) {\n\t\t\tContextMenuManager.hideMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, true );\n\t\t} else {\n\t\t\tContextMenuManager.hideMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, false );\n\t\t}\n\t}\n\n\tonCustomContextClick( id ) {\n\t\tswitch ( id ) {\n\t\t\tcase 'import_icon':\n\t\t\t\tthis.onImportClick();\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tonImportClick() {\n\t\tvar $this = this;\n\n\t\tIndexViewController.openWizard( 'ImportCSVWizard', 'UserWage', function() {\n\t\t\t$this.search();\n\t\t} );\n\t}\n\n\tdoSaveAPICall( record, ignoreWarning, callback ) {\n\t\t// #2644: We have to handle the record as though its a mass_add, as the awesomebox will always return an array of user_id's. See 733f709e287626070b84e39ca67f78e69a3fcee6.\n\t\t// Normal handling results in 'Invalid Employee' errors for single records. Cannot force is_mass_adding flag, as this affects the save&continue button disabling.\n\t\trecord = this.buildMassAddRecord( record );\n\t\tsuper.doSaveAPICall( record, ignoreWarning, callback );\n\t}\n\n\tsetEditMenuSaveAndContinueIcon( context_btn, pId ) {\n\t\tthis.saveAndContinueValidate( context_btn );\n\n\t\tif ( this.is_mass_adding || !this.current_edit_record ) {\n\t\t\tContextMenuManager.disableMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, false );\n\t\t}\n\t}\n\n\tsetEditMenuSaveAndAddIcon( context_btn, pId ) {\n\t\tthis.saveAndNewValidate( context_btn );\n\n\t\tif ( !this.current_edit_record || !this.current_edit_record.id ) {\n\t\t\tContextMenuManager.disableMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, false );\n\t\t}\n\t}\n\n\tsetEditMenuSaveAndCopyIcon( context_btn, pId ) {\n\t\tthis.saveAndContinueValidate( context_btn );\n\n\t\tif ( !this.current_edit_record || !this.current_edit_record.id ) {\n\t\t\tContextMenuManager.disableMenuItem( this.determineContextMenuMountAttributes().id, context_btn.id, false );\n\t\t}\n\t}\n\n\tsetEditViewData() {\n\t\tvar $this = this;\n\t\tsuper.setEditViewData(); //Set Navigation\n\n\t\tthis.setCurrency();\n\n\t\tif ( !this.sub_view_mode ) {\n\t\t\tvar widget = $this.edit_view_ui_dic['user_id'];\n\t\t\tif ( widget ) {\n\t\t\t\tif ( ( !this.current_edit_record || !this.current_edit_record.id ) && !this.is_mass_editing ) {\n\t\t\t\t\twidget.setAllowMultipleSelection( true );\n\t\t\t\t} else {\n\t\t\t\t\twidget.setAllowMultipleSelection( false );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t$this.onTypeChange( false );\n\t}\n\n\tsetCurrency() {\n\n\t\tvar $this = this;\n\t\tif ( Global.isSet( this.current_edit_record.user_id ) ) {\n\t\t\tvar filter = {};\n\t\t\tfilter.filter_data = { user_id: this.current_edit_record.user_id };\n\n\t\t\tthis.currency_api.getCurrency( filter, false, false, {\n\t\t\t\tonResult: function( res ) {\n\t\t\t\t\tres = res.getResult();\n\t\t\t\t\tif ( Global.isArray( res ) ) {\n\t\t\t\t\t\t$this.currency.text( res[0].symbol );\n\t\t\t\t\t\t$this.code.text( res[0].iso_code );\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$this.currency.text( '' );\n\t\t\t\t\t\t$this.code.text( '' );\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}\n\n\tgetHourlyRate() {\n\n\t\tvar $this = this;\n\t\tif ( this.current_edit_record.wage &&\n\t\t\tthis.current_edit_record.weekly_time &&\n\t\t\tthis.current_edit_record.type_id &&\n\t\t\tthis.current_edit_record.type_id != 10 ) {\n\n\t\t\t//wwkly_time need value before pasrse to seconds.\n\t\t\tthis.api.getHourlyRate( this.current_edit_record.wage, $this.edit_view_ui_dic['weekly_time'].getInputValue(), this.current_edit_record.type_id, {\n\t\t\t\tonResult: function( result ) {\n\t\t\t\t\tvar res = result.getResult();\n\n\t\t\t\t\tif ( result && result.isValid() && $this.current_edit_record ) {\n\t\t\t\t\t\t$this.current_edit_record.hourly_rate = res;\n\t\t\t\t\t\t$this.edit_view_ui_dic['hourly_rate'].val( res );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}\n\n\tonTypeChange( getRate ) {\n\n\t\tif ( parseInt( this.current_edit_record.type_id ) != 10 ) {\n\t\t\tthis.attachElement( 'weekly_time' );\n\t\t\tthis.attachElement( 'hourly_rate' );\n\n\t\t\tif ( getRate ) {\n\t\t\t\tthis.getHourlyRate();\n\t\t\t}\n\n\t\t} else {\n\t\t\tthis.detachElement( 'weekly_time' );\n\t\t\tthis.detachElement( 'hourly_rate' );\n\t\t}\n\t}\n\n\tbuildEditViewUI() {\n\n\t\tsuper.buildEditViewUI();\n\n\t\tvar $this = this;\n\n\t\tvar tab_model = {\n\t\t\t'tab_wage': { 'label': $.i18n._( 'Wage' ) },\n\t\t\t'tab_attachment': true,\n\t\t\t'tab_audit': true,\n\t\t};\n\t\tthis.setTabModel( tab_model );\n\n\t\tthis.navigation.AComboBox( {\n\t\t\tapi_class: TTAPI.APIUserWage,\n\t\t\tid: this.script_name + '_navigation',\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_wage',\n\t\t\tshow_search_inputs: true,\n\t\t\tnavigation_mode: true\n\t\t} );\n\n\t\tthis.setNavigation();\n\n\t\t//Tab 0 start\n\n\t\tvar tab_wage = this.edit_view_tab.find( '#tab_wage' );\n\n\t\tvar tab_wage_column1 = tab_wage.find( '.first-column' );\n\n\t\tvar form_item_input;\n\t\tvar widgetContainer;\n\t\tvar label;\n\n\t\tif ( !this.sub_view_mode ) {\n\t\t\t//Employee\n\n\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\t\tform_item_input.AComboBox( {\n\t\t\t\tapi_class: TTAPI.APIUser,\n\t\t\t\tallow_multiple_selection: false,\n\t\t\t\tlayout_name: 'global_user',\n\t\t\t\tshow_search_inputs: true,\n\t\t\t\tset_empty: true,\n\t\t\t\tfield: 'user_id'\n\n\t\t\t} );\n\n\t\t\tvar default_args = {};\n\t\t\tdefault_args.permission_section = 'wage';\n\t\t\tform_item_input.setDefaultArgs( default_args );\n\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Employee' ), form_item_input, tab_wage_column1, '' );\n\t\t}\n\n\t\t//Wage Group\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.AWESOME_BOX );\n\t\tform_item_input.AComboBox( {\n\t\t\tapi_class: TTAPI.APIWageGroup,\n\t\t\tallow_multiple_selection: false,\n\t\t\tlayout_name: 'global_wage_group',\n\t\t\tshow_search_inputs: true,\n\t\t\tset_default: true,\n\t\t\tfield: 'wage_group_id'\n\t\t} );\n\n\t\tif ( this.sub_view_mode ) {\n\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Wage Group' ), form_item_input, tab_wage_column1, '' );\n\t\t} else {\n\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Wage Group' ), form_item_input, tab_wage_column1 );\n\t\t}\n\n\t\t//Type\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\n\t\tform_item_input.TComboBox( { field: 'type_id' } );\n\t\tform_item_input.setSourceData( $this.type_array );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Type' ), form_item_input, tab_wage_column1 );\n\n\t\t//Wage\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\n\t\tform_item_input.TTextInput( { field: 'wage', width: 90 } );\n\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tthis.currency = $( '<span class=\\'widget-left-label\\'></span>' );\n\t\tthis.code = $( '<span class=\\'widget-right-label\\'></span>' );\n\n\t\twidgetContainer.append( this.currency );\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( this.code );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Wage' ), form_item_input, tab_wage_column1, '', widgetContainer );\n\n\t\t//Average Time / Week\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'weekly_time', need_parser_sec: true } );\n\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<span class=\\'widget-right-label\\'>( ' + $.i18n._( 'ie' ) + ': ' + $.i18n._( '40 hours / week' ) + ' )</span>' );\n\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Average Time / Week' ), form_item_input, tab_wage_column1, '', widgetContainer, true );\n\n\t\t//Annual Hourly Rate\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'hourly_rate' } );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Annual Hourly Rate' ), form_item_input, tab_wage_column1, '', null, true );\n\n\t\t//Labor Burden Percent\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'labor_burden_percent', width: 50 } );\n\n\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\tlabel = $( '<span class=\\'widget-right-label\\'>% ( ' + $.i18n._( 'ie' ) + ': ' + $.i18n._( '25&#37; burden' ) + ' )</span>' ); //Had issues with '%' and '%%', using the HTML Entity character code for % instead.\n\t\twidgetContainer.append( form_item_input );\n\t\twidgetContainer.append( label );\n\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Labor Burden Percent' ), form_item_input, tab_wage_column1, '', widgetContainer );\n\n\t\t//Effective Date\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.DATE_PICKER );\n\n\t\tform_item_input.TDatePicker( { field: 'effective_date', width: 120 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Effective Date' ), form_item_input, tab_wage_column1 );\n\n\t\tif ( this.is_viewing == false ) {\n\t\t\t//Auto re-calculate timesheets\n\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.CHECKBOX );\n\t\t\tform_item_input.TCheckbox( { field: 'enable_recalculate_timesheets' } );\n\t\t\twidgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\t\tlabel = $( '<span class=\\'widget-right-label\\'> ' + $.i18n._( '(Open pay periods only, from effective date.)' ) + '</span>' );\n\t\t\twidgetContainer.append( form_item_input );\n\t\t\twidgetContainer.append( label );\n\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Recalculate TimeSheets' ), form_item_input, tab_wage_column1, '', widgetContainer, true );\n\t\t}\n\n\t\t//Note\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_AREA );\n\t\tform_item_input.TTextArea( { field: 'note', width: 389, height: 117 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'Note' ), form_item_input, tab_wage_column1, '', null, null, true );\n\t}\n\n\t//Override for: Do not show first 2 columns in sub wage view\n\tsetSelectLayout() {\n\t\tif ( this.sub_view_mode ) {\n\t\t\tsuper.setSelectLayout( ['first_name', 'last_name'] );\n\t\t} else {\n\t\t\tsuper.setSelectLayout();\n\t\t}\n\t}\n\n\tsetProvince( val, m ) {\n\t\tvar $this = this;\n\n\t\tif ( !val || val === '-1' || val === '0' ) {\n\t\t\t$this.province_array = [];\n\t\t\tthis.adv_search_field_ui_dic['province'].setSourceData( [] );\n\t\t} else {\n\t\t\tthis.company_api.getOptions( 'province', val, {\n\t\t\t\tonResult: function( res ) {\n\t\t\t\t\tres = res.getResult();\n\t\t\t\t\tif ( !res ) {\n\t\t\t\t\t\tres = [];\n\t\t\t\t\t}\n\n\t\t\t\t\t$this.province_array = Global.buildRecordArray( res );\n\t\t\t\t\t$this.adv_search_field_ui_dic['province'].setSourceData( $this.province_array );\n\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}\n\n\teSetProvince( val ) {\n\t\tvar $this = this;\n\t\tvar province_widget = $this.edit_view_ui_dic['province'];\n\n\t\tif ( !val || val === '-1' || val === '0' ) {\n\t\t\t$this.e_province_array = [];\n\t\t\tprovince_widget.setSourceData( [] );\n\t\t} else {\n\t\t\tthis.company_api.getOptions( 'province', val, {\n\t\t\t\tonResult: function( res ) {\n\t\t\t\t\tres = res.getResult();\n\t\t\t\t\tif ( !res ) {\n\t\t\t\t\t\tres = [];\n\t\t\t\t\t}\n\n\t\t\t\t\t$this.e_province_array = Global.buildRecordArray( res );\n\t\t\t\t\tprovince_widget.setSourceData( $this.e_province_array );\n\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}\n\n\tonSetSearchFilterFinished() {\n\n\t\tif ( this.search_panel.getSelectTabIndex() === 1 ) {\n\t\t\tvar combo = this.adv_search_field_ui_dic['country'];\n\t\t\tvar select_value = combo.getValue();\n\t\t\tthis.setProvince( select_value );\n\t\t}\n\t}\n\n\tonBuildBasicUIFinished() {\n\t\tvar basicSearchTabPanel = this.search_panel.find( 'div #basic_search' );\n\t}\n\n\tonBuildAdvUIFinished() {\n\n\t\tthis.adv_search_field_ui_dic['country'].change( $.proxy( function() {\n\t\t\tvar combo = this.adv_search_field_ui_dic['country'];\n\t\t\tvar selectVal = combo.getValue();\n\n\t\t\tthis.setProvince( selectVal );\n\n\t\t\tthis.adv_search_field_ui_dic['province'].setValue( null );\n\n\t\t}, this ) );\n\t}\n\n\tbuildSearchFields() {\n\n\t\tsuper.buildSearchFields();\n\n\t\tvar default_args = { permission_section: 'wage' };\n\t\tthis.search_fields = [\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Employee' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'user_id',\n\t\t\t\tlayout_name: 'global_user',\n\t\t\t\tdefault_args: default_args,\n\t\t\t\tapi_class: TTAPI.APIUser,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: true,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Type' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'type_id',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: true,\n\t\t\t\tlayout_name: 'global_option_column',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Wage Group' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'wage_group_id',\n\t\t\t\tlayout_name: 'global_wage_group',\n\t\t\t\tapi_class: TTAPI.APIWageGroup,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: true,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX,\n\t\t\t\taddition_source_function: ( target, source_data ) => { //Issue #3183 - Allow filtering by default wage groups\n\t\t\t\t\tsource_data.unshift( { id: TTUUID.zero_id, name: $.i18n._( '-- Default --' ) } );\n\t\t\t\t\treturn source_data;\n\t\t\t\t},\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Status' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tfield: 'status_id',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: false,\n\t\t\t\tadv_search: true,\n\t\t\t\tlayout_name: 'global_option_column',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Group' ),\n\t\t\t\tin_column: 1,\n\t\t\t\tmultiple: true,\n\t\t\t\tfield: 'group_id',\n\t\t\t\tlayout_name: 'global_tree_column',\n\t\t\t\ttree_mode: true,\n\t\t\t\tbasic_search: false,\n\t\t\t\tadv_search: true,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Created By' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'created_by',\n\t\t\t\tlayout_name: 'global_user',\n\t\t\t\tapi_class: TTAPI.APIUser,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: true,\n\t\t\t\tscript_name: 'EmployeeView',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Updated By' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'updated_by',\n\t\t\t\tlayout_name: 'global_user',\n\t\t\t\tapi_class: TTAPI.APIUser,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: true,\n\t\t\t\tadv_search: true,\n\t\t\t\tscript_name: 'EmployeeView',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Default Branch' ),\n\t\t\t\tin_column: 2,\n\t\t\t\tfield: 'default_branch_id',\n\t\t\t\tlayout_name: 'global_branch',\n\t\t\t\tapi_class: TTAPI.APIBranch,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: false,\n\t\t\t\tadv_search: true,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Default Department' ),\n\t\t\t\tfield: 'default_department_id',\n\t\t\t\tin_column: 2,\n\t\t\t\tlayout_name: 'global_department',\n\t\t\t\tapi_class: TTAPI.APIDepartment,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: false,\n\t\t\t\tadv_search: true,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Title' ),\n\t\t\t\tfield: 'title_id',\n\t\t\t\tin_column: 2,\n\t\t\t\tlayout_name: 'global_job_title',\n\t\t\t\tapi_class: TTAPI.APIUserTitle,\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: false,\n\t\t\t\tadv_search: true,\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Country' ),\n\t\t\t\tin_column: 3,\n\t\t\t\tfield: 'country',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: false,\n\t\t\t\tadv_search: true,\n\t\t\t\tlayout_name: 'global_option_column',\n\t\t\t\tform_item_type: FormItemType.COMBO_BOX\n\t\t\t} ),\n\t\t\tnew SearchField( {\n\t\t\t\tlabel: $.i18n._( 'Province/State' ),\n\t\t\t\tin_column: 3,\n\t\t\t\tfield: 'province',\n\t\t\t\tmultiple: true,\n\t\t\t\tbasic_search: false,\n\t\t\t\tadv_search: true,\n\t\t\t\tlayout_name: 'global_option_column',\n\t\t\t\tform_item_type: FormItemType.AWESOME_BOX\n\t\t\t} )\n\n\t\t];\n\t}\n\n\tcleanWhenUnloadView( callBack ) {\n\n\t\t$( '#wage_view_container' ).remove();\n\t\tsuper.cleanWhenUnloadView( callBack );\n\t}\n\n\tsearchDone() {\n\t\tTTPromise.resolve( 'WageView', 'init' );\n\t\tsuper.searchDone();\n\t}\n\n}\n\nWageViewController.loadView = function( container ) {\n\tGlobal.loadViewSource( 'Wage', 'WageView.html', function( result ) {\n\t\tvar args = {};\n\t\tvar template = _.template( result );\n\t\tif ( Global.isSet( container ) ) {\n\t\t\tcontainer.html( template( args ) );\n\t\t} else {\n\t\t\tGlobal.contentContainer().html( template( args ) );\n\t\t}\n\t} );\n};\n\nWageViewController.loadSubView = function( container, beforeViewLoadedFun, afterViewLoadedFun ) {\n\tGlobal.loadViewSource( 'Wage', 'SubWageView.html', function( result ) {\n\t\tvar args = {};\n\t\tvar template = _.template( result );\n\t\tif ( Global.isSet( beforeViewLoadedFun ) ) {\n\t\t\tbeforeViewLoadedFun();\n\t\t}\n\n\t\tif ( Global.isSet( container ) ) {\n\t\t\tcontainer.html( template( args ) );\n\n\t\t\tif ( Global.isSet( afterViewLoadedFun ) ) {\n\t\t\t\tafterViewLoadedFun( sub_wage_view_controller );\n\t\t\t}\n\t\t}\n\t} );\n};\n"],"names":["WageViewController","options","$","$this","res","context_menu_model","target","doNotValidate","key","c_value","record","widget","index","value","commonRecord","result","context_btn","grid_selected_length","pId","id","ignoreWarning","callback","filter","getRate","tab_model","tab_wage","tab_wage_column1","form_item_input","widgetContainer","label","default_args","val","m","province_widget","combo","select_value","selectVal","source_data","callBack","container","args","template","beforeViewLoadedFun","afterViewLoadedFun"],"mappings":"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"}