const __vite__fileDeps=["./main_ui-CaF8IcSp.css","./leaflet-timetrex-DIHfnHxo.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{_ as v}from"./main_ui-z76rxVqJ.entry.bundle.js";import{_ as h,j as t}from"./vendor-tTApdY0Y.bundle.js";class T extends BaseViewController{constructor(e={}){h.defaults(e,{el:"#job_applicant_view_container",status_array:null,identification_type_array:null,sex_array:null,available_days_of_week_array:null,available_hours_of_day_array:null,minimum_wage_type_array:null,boolean_array:null,document_object_type_id:null,country_array:null,province_array:null,e_province_array:null,i_province_array:null,company_api:null,sub_application_view_controller:null,sub_job_applicant_employment_view_controller:null,sub_job_applicant_reference_view_controller:null,sub_job_applicant_location_view_controller:null,sub_job_applicant_skill_view_controller:null,sub_job_applicant_education_view_controller:null,sub_job_applicant_membership_view_controller:null,sub_job_applicant_license_view_controller:null,sub_job_applicant_language_view_controller:null,user_api:null}),super(e)}init(e){this.edit_view_tpl="JobApplicantEditView.html",this.permission_id="job_applicant",this.viewId="JobApplicant",this.script_name="JobApplicantView",this.table_name_key="job_applicant",this.context_menu_name=t.i18n._("Job Applicants"),this.navigation_label=t.i18n._("Job Applicant"),this.api=TTAPI.APIJobApplicant,this.company_api=TTAPI.APICompany,this.user_api=TTAPI.APIUser,this.document_object_type_id=160,this.boolean_array=[t.i18n._("No"),t.i18n._("Yes")],this.render(),this.buildContextMenu(),this.initData()}initOptions(e){var a=this,l=[{option_name:"status",field_name:null,api:null},{option_name:"identification_type",field_name:null,api:null},{option_name:"sex",field_name:null,api:null},{option_name:"available_days_of_week",field_name:null,api:null},{option_name:"available_hours_of_day",field_name:null,api:null},{option_name:"minimum_wage_type",field_name:null,api:null},{option_name:"country",field_name:"country",api:this.company_api}];this.initDropDownOptions(l,function(o){e&&e(o)}),this.edit_only_mode||(a.basic_search_field_ui_dic.currently_employed.setSourceData(Global.buildRecordArray(this.boolean_array)),a.adv_search_field_ui_dic.currently_employed.setSourceData(Global.buildRecordArray(this.boolean_array)),a.basic_search_field_ui_dic.criminal_record.setSourceData(Global.buildRecordArray(this.boolean_array)),a.adv_search_field_ui_dic.criminal_record.setSourceData(Global.buildRecordArray(this.boolean_array)),a.basic_search_field_ui_dic.immediate_drug_test.setSourceData(Global.buildRecordArray(this.boolean_array)),a.adv_search_field_ui_dic.immediate_drug_test.setSourceData(Global.buildRecordArray(this.boolean_array)))}buildEditViewUI(){super.buildEditViewUI();var e=this,a={tab_job_applicant:{label:t.i18n._("Job Applicant"),is_multi_column:!0},tab_background:{label:t.i18n._("Background"),is_multi_column:!0},tab_availability:{label:t.i18n._("Availability"),is_multi_column:!0},tab_history:{label:t.i18n._("History"),init_callback:"initSubHistoryView",display_on_mass_edit:!1,html_template:this.getHistoryTabHtml()},tab_qualifications:{label:t.i18n._("Qualifications"),init_callback:"initSubQualificationView",display_on_mass_edit:!1,html_template:this.getQualificationsTabHtml()},tab_portal:{label:t.i18n._("Portal")},tab_applications:{label:t.i18n._("Applications"),init_callback:"initSubApplicationView",display_on_mass_edit:!1},tab_attachment:!0,tab_audit:!0};this.setTabModel(a),this.edit_only_mode||(this.navigation.AComboBox({api_class:TTAPI.APIJobApplicant,id:this.script_name+"_navigation",allow_multiple_selection:!1,layout_name:"global_job_applicant",navigation_mode:!0,show_search_inputs:!0}),this.setNavigation());var l=this.edit_view_tab.find("#tab_job_applicant"),o=l.find(".first-column");this.edit_view_tabs[0]=[],this.edit_view_tabs[0].push(o);var i=Global.loadWidgetByName(FormItemType.COMBO_BOX);i.TComboBox({field:"status_id"}),i.setSourceData(e.status_array),this.addEditFieldToColumn(t.i18n._("Status"),i,o,""),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"first_name",width:200}),this.addEditFieldToColumn(t.i18n._("First Name"),i,o),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"middle_name",width:200}),this.addEditFieldToColumn(t.i18n._("Middle Name"),i,o),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"last_name",width:200}),this.addEditFieldToColumn(t.i18n._("Last Name"),i,o),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"maiden_name",width:200}),this.addEditFieldToColumn(t.i18n._("Maiden Name"),i,o),i=Global.loadWidgetByName(FormItemType.COMBO_BOX),i.TComboBox({field:"sex_id"}),i.setSourceData(e.sex_array),this.addEditFieldToColumn(t.i18n._("Gender"),i,o),i=Global.loadWidgetByName(FormItemType.AWESOME_BOX),i.AComboBox({api_class:TTAPI.APIEthnicGroup,allow_multiple_selection:!1,layout_name:"global_ethnic_group",field:"ethnic_group_id",set_empty:!0,show_search_inputs:!0}),this.addEditFieldToColumn(t.i18n._("Ethnicity"),i,o),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"home_phone",width:200}),this.addEditFieldToColumn(t.i18n._("Phone"),i,o),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"mobile_phone",width:200}),this.addEditFieldToColumn(t.i18n._("Mobile Phone"),i,o),i=Global.loadWidgetByName(FormItemType.CHECKBOX),i.TCheckbox({field:"currently_employed"}),this.addEditFieldToColumn(t.i18n._("Currently Employed"),i,o),i=Global.loadWidgetByName(FormItemType.COMBO_BOX),i.TComboBox({field:"minimum_wage_type_id"}),i.setSourceData(e.minimum_wage_type_array),this.addEditFieldToColumn(t.i18n._("Expected Wage Type"),i,o),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"minimum_wage",width:100}),this.addEditFieldToColumn(t.i18n._("Expected Wage"),i,o,"");var r=l.find(".second-column");this.edit_view_tabs[0].push(r),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"email",width:200}),this.addEditFieldToColumn(t.i18n._("Email"),i,r,""),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"address1",width:"100%"}),this.addEditFieldToColumn(t.i18n._("Address(Line 1)"),i,r),i.parent().width("45%"),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"address2",width:"100%"}),this.addEditFieldToColumn(t.i18n._("Address(Line 2)"),i,r),i.parent().width("45%"),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"city",width:200}),this.addEditFieldToColumn(t.i18n._("City"),i,r),i=Global.loadWidgetByName(FormItemType.COMBO_BOX),i.TComboBox({field:"country",set_empty:!0}),i.setSourceData(e.country_array),this.addEditFieldToColumn(t.i18n._("Country"),i,r),i=Global.loadWidgetByName(FormItemType.COMBO_BOX),i.TComboBox({field:"province"}),i.setSourceData([]),this.addEditFieldToColumn(t.i18n._("Province/State"),i,r),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"postal_code",width:90}),this.addEditFieldToColumn(t.i18n._("Postal/ZIP Code"),i,r),i=Global.loadWidgetByName(FormItemType.DATE_PICKER),i.TDatePicker({field:"birth_date"}),this.addEditFieldToColumn(t.i18n._("Birth Date"),i,r),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"sin",width:200}),this.addEditFieldToColumn(t.i18n._("SIN/SSN"),i,r),i=Global.loadWidgetByName(FormItemType.TAG_INPUT),i.TTagInput({field:"tag",object_type_id:360}),this.addEditFieldToColumn(t.i18n._("Tags"),i,r,"",null,null,!0);var d=this.edit_view_tab.find("#tab_background"),n=d.find(".first-column");this.edit_view_tabs[1]=[],this.edit_view_tabs[1].push(n),i=Global.loadWidgetByName(FormItemType.COMBO_BOX),i.TComboBox({field:"identification_type_id"}),i.setSourceData(e.identification_type_array),this.addEditFieldToColumn(t.i18n._("Identification Type"),i,n,""),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"identification_number",width:300}),this.addEditFieldToColumn(t.i18n._("Identification Number"),i,n),i=Global.loadWidgetByName(FormItemType.DATE_PICKER),i.TDatePicker({field:"identification_expire_date"}),this.addEditFieldToColumn(t.i18n._("Identification Expires"),i,n,"",null),i=Global.loadWidgetByName(FormItemType.COMBO_BOX),i.TComboBox({field:"identification_country"}),i.setSourceData(e.country_array),this.addEditFieldToColumn(t.i18n._("Identification Country"),i,n),i=Global.loadWidgetByName(FormItemType.COMBO_BOX),i.TComboBox({field:"identification_province"}),i.setSourceData([]),this.addEditFieldToColumn(t.i18n._("Identification Province/State"),i,n,"");var _=d.find(".second-column");this.edit_view_tabs[1].push(_),i=Global.loadWidgetByName(FormItemType.CHECKBOX),i.TCheckbox({field:"immediate_drug_test"}),this.addEditFieldToColumn(t.i18n._("Available for Immediate Drug Test"),i,_,""),i=Global.loadWidgetByName(FormItemType.CHECKBOX),i.TCheckbox({field:"criminal_record"}),this.addEditFieldToColumn(t.i18n._("Criminal Record"),i,_),i=Global.loadWidgetByName(FormItemType.TEXT_AREA),i.TTextArea({field:"criminal_record_description"}),this.addEditFieldToColumn(t.i18n._("Describe criminal convictions"),i,_,"",null,null,!0);var p=this.edit_view_tab.find("#tab_availability"),b=p.find(".first-column");this.edit_view_tabs[2]=[],this.edit_view_tabs[2].push(b),i=Global.loadWidgetByName(FormItemType.DATE_PICKER),i.TDatePicker({field:"available_start_date"}),this.addEditFieldToColumn(t.i18n._("Available Date"),i,b,"",null),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"available_minimum_hours_per_week",width:30}),this.addEditFieldToColumn(t.i18n._("Available Hours Per Week (Minimum)"),i,b),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"available_maximum_hours_per_week",width:30}),this.addEditFieldToColumn(t.i18n._("Available Hours Per Week (Maximum)"),i,b,"");var s=p.find(".second-column");this.edit_view_tabs[2].push(s),i=Global.loadWidgetByName(FormItemType.AWESOME_BOX),i=i.AComboBox({field:"available_days_of_week",set_empty:!0,allow_multiple_selection:!0,layout_name:"global_option_column"}),i.setSourceData(e.available_days_of_week_array),this.addEditFieldToColumn(t.i18n._("Available Days Of Week"),i,s,""),i=Global.loadWidgetByName(FormItemType.AWESOME_BOX),i=i.AComboBox({field:"available_hours_of_day",set_empty:!0,allow_multiple_selection:!0,layout_name:"global_option_column"}),i.setSourceData(e.available_hours_of_day_array),this.addEditFieldToColumn(t.i18n._("Available Hours"),i,s,"");var u=this.edit_view_tab.find("#tab_portal"),c=u.find(".first-column");this.edit_view_tabs[5]=[],this.edit_view_tabs[5].push(c),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"user_name",width:200}),this.addEditFieldToColumn(t.i18n._("User Name"),i,c,""),i=Global.loadWidgetByName(FormItemType.PASSWORD_INPUT),i.TPasswordInput({field:"password",width:200}),this.addEditFieldToColumn(t.i18n._("Password"),i,c),i=Global.loadWidgetByName(FormItemType.PASSWORD_INPUT),i.TPasswordInput({field:"password_confirm",width:200}),this.addEditFieldToColumn(t.i18n._("Password (Confirm)"),i,c,"")}getHistoryTabHtml(){var e=`
			<div id="tab_history" class="edit-view-tab-outside-sub-view">
				<div class="edit-view-tab" id="tab_history_content_div">
					<div class="first-column-sub-view">
						<div class="first-sub-view"></div>
						<div class="second-sub-view"></div>
						<div class="third-sub-view"></div>
					</div>
					<div class="save-and-continue-div">
						<span class="message"></span>
						<div class="save-and-continue-button-div">
							<button class="tt-button p-button p-component" type="button">
								<span class="icon"></span>
								<span class="p-button-label"></span>
							</button>
						</div>
					</div>
				</div>
			</div>`;return e}getQualificationsTabHtml(){var e=`
			<div id="tab_qualifications" class="edit-view-tab-outside-sub-view">
				<div class="edit-view-tab" id="tab_qualifications_content_div">
					<div class="first-column-sub-view">
						<div class="first-sub-view"></div>
						<div class="second-sub-view"></div>
						<div class="third-sub-view"></div>
						<div class="forth-sub-view"></div>
						<div class="fifth-sub-view"></div>
					</div>
					<div class="save-and-continue-div">
						<span class="message"></span>
						<div class="save-and-continue-button-div">
							<button class="tt-button p-button p-component" type="button">
								<span class="icon"></span>
								<span class="p-button-label"></span>
							</button>
						</div>
					</div>
				</div>
			</div>`;return e}buildSearchFields(){super.buildSearchFields();var e={};e.permission_section="ethnic_group",this.search_fields=[new SearchField({label:t.i18n._("Status"),in_column:1,field:"status_id",multiple:!0,basic_search:!0,adv_search:!0,layout_name:"global_option_column",form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:t.i18n._("First Name"),in_column:1,field:"first_name",multiple:!0,basic_search:!0,adv_search:!0,form_item_type:FormItemType.TEXT_INPUT}),new SearchField({label:t.i18n._("Last Name"),in_column:1,field:"last_name",multiple:!0,basic_search:!0,adv_search:!0,form_item_type:FormItemType.TEXT_INPUT}),new SearchField({label:t.i18n._("Phone"),field:"any_phone",basic_search:!0,adv_search:!0,in_column:2,form_item_type:FormItemType.TEXT_INPUT}),new SearchField({label:t.i18n._("Email"),field:"email",basic_search:!0,adv_search:!0,in_column:2,form_item_type:FormItemType.TEXT_INPUT}),new SearchField({label:t.i18n._("Country"),in_column:1,field:"country",multiple:!0,basic_search:!1,adv_search:!0,layout_name:"global_option_column",form_item_type:FormItemType.COMBO_BOX}),new SearchField({label:t.i18n._("Province/State"),in_column:1,field:"province",multiple:!0,basic_search:!1,adv_search:!0,layout_name:"global_option_column",form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:t.i18n._("City"),field:"city",basic_search:!1,adv_search:!0,in_column:1,form_item_type:FormItemType.TEXT_INPUT}),new SearchField({label:t.i18n._("Resume Keywords"),in_column:1,field:"resume_text",multiple:!1,basic_search:!0,adv_search:!0,form_item_type:FormItemType.TEXT_INPUT}),new SearchField({label:t.i18n._("Criminal Record"),in_column:2,field:"criminal_record",multiple:!0,basic_search:!0,adv_search:!0,layout_name:"global_option_column",form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:t.i18n._("Immediate Drug Test"),in_column:2,field:"immediate_drug_test",multiple:!0,basic_search:!0,adv_search:!0,layout_name:"global_option_column",form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:t.i18n._("Hours/Week (Min)"),field:"available_minimum_hours_per_week",basic_search:!1,adv_search:!0,in_column:2,form_item_type:FormItemType.TEXT_INPUT}),new SearchField({label:t.i18n._("Hours/Week (Max)"),field:"available_maximum_hours_per_week",basic_search:!1,adv_search:!0,in_column:2,form_item_type:FormItemType.TEXT_INPUT}),new SearchField({label:t.i18n._("Currently Employed"),in_column:2,field:"currently_employed",multiple:!0,basic_search:!0,adv_search:!0,layout_name:"global_option_column",form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:t.i18n._("Gender"),in_column:3,field:"sex_id",multiple:!0,basic_search:!0,adv_search:!0,layout_name:"global_option_column",form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:t.i18n._("Ethnicity"),in_column:3,field:"ethnic_group_id",default_args:e,layout_name:"global_ethnic_group",api_class:TTAPI.APIEthnicGroup,multiple:!0,basic_search:!1,adv_search:!0,form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:t.i18n._("Tags"),field:"tag",basic_search:!0,adv_search:!0,in_column:3,object_type_id:360,form_item_type:FormItemType.TAG_INPUT}),new SearchField({label:t.i18n._("Created By"),in_column:3,field:"created_by",layout_name:"global_user",api_class:TTAPI.APIUser,multiple:!0,basic_search:!1,adv_search:!0,form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:t.i18n._("Updated By"),in_column:3,field:"updated_by",layout_name:"global_user",api_class:TTAPI.APIUser,multiple:!0,basic_search:!1,adv_search:!0,form_item_type:FormItemType.AWESOME_BOX})]}onFormItemChange(e,a){this.setIsChanged(e),this.setMassEditingFieldsWhenFormChange(e);var l=e.getField();switch(this.current_edit_record[l]=e.getValue(),l){case"country":var o=this.edit_view_ui_dic.province;o.setValue(null);break;case"identification_country":o=this.edit_view_ui_dic.identification_province,o.setValue(null);break}if(l=="country"){this.eSetProvince(this.edit_view_ui_dic.country.getValue(),!0),this.clearErrorTips(),this.setEditMenu();return}if(l==="identification_country"){this.iSetProvince(this.edit_view_ui_dic.identification_country.getValue(),!0),this.clearErrorTips(),this.setEditMenu();return}a||this.validate()}setCurrentEditRecordData(){for(var e in this.current_edit_record){var a=this.edit_view_ui_dic[e];if(Global.isSet(a))switch(e){case"country":this.setCountryValue(a,e);break;case"identification_country":this.current_edit_record.identification_province?this.iSetProvince(this.current_edit_record[e]):this.iSetProvince(this.current_edit_record[e],!0),a.setValue(this.current_edit_record[e]);break;default:a.setValue(this.current_edit_record[e]);break}}this.collectUIDataToCurrentEditRecord(),this.setEditViewDataDone()}onSetSearchFilterFinished(){if(this.search_panel.getSelectTabIndex()===1){var e=this.adv_search_field_ui_dic.country,a=e.getValue();this.setProvince(a)}}onBuildAdvUIFinished(){this.adv_search_field_ui_dic.country.change(t.proxy(function(){var e=this.adv_search_field_ui_dic.country,a=e.getValue();this.setProvince(a),this.adv_search_field_ui_dic.province.setValue(null)},this))}setProvince(e,a){var l=this;!e||e==="-1"||e==="0"?(l.province_array=[],this.adv_search_field_ui_dic.province.setSourceData([])):this.company_api.getOptions("province",e,{onResult:function(o){o=o.getResult(),o||(o=[]),l.province_array=Global.buildRecordArray(o),l.adv_search_field_ui_dic.province.setSourceData(l.province_array)}})}eSetProvince(e,a){var l=this,o=l.edit_view_ui_dic.province;!e||e==="-1"||e==="0"?(l.e_province_array=[],o.setSourceData([])):this.company_api.getOptions("province",e,{onResult:function(i){i=i.getResult(),i||(i=[]),l.e_province_array=Global.buildRecordArray(i),a&&l.e_province_array.length>0&&(l.current_edit_record.province=l.e_province_array[0].value,o.setValue(l.current_edit_record.province)),o.setSourceData(l.e_province_array)}})}iSetProvince(e,a){var l=this,o=l.edit_view_ui_dic.identification_province;!e||e==="-1"||e==="0"?(l.i_province_array=[],o.setSourceData([])):this.company_api.getOptions("province",e,{onResult:function(i){i=i.getResult(),i||(i=[]),l.i_province_array=Global.buildRecordArray(i),a&&l.i_province_array.length>0&&(l.current_edit_record.identification_province=l.i_province_array[0].value,o.setValue(l.current_edit_record.identification_province)),o.setSourceData(l.i_province_array)}})}getCustomContextMenuModel(){var e={exclude:["copy"],include:[{label:t.i18n._("Hire Applicant"),id:"edit_employee",menu_align:"right",vue_icon:"tticon tticon-add_black_24dp",sort_order:7100},{label:t.i18n._("Map"),id:"map",menu_align:"right",vue_icon:"tticon tticon-map_black_24dp",sort_order:8e3},{label:t.i18n._("Jump To"),id:"jump_to_header",menu_align:"right",action_group:"jump_to",action_group_header:!0,permission_result:!1,sort_order:9050},{label:t.i18n._("Job Applications"),id:"job_application",menu_align:"right",action_group:"jump_to",group:"navigation",icon:"jobapplications-35x35.png",sort_order:9050}]};return e}onCustomContextClick(e){switch(e){case"map":this.onMapClick();break;case"export_excel":case"edit_employee":case"job_application":this.onNavigationClick(e);break}}onMapClick(){if(Global.getProductEdition()>=15){this.is_viewing=!1,ProgressBar.showProgressBar();var e={filter_columns:{id:!0,first_name:!0,last_name:!0,address1:!0,address2:!0,city:!0,province:!0,country:!0,postal_code:!0,latitude:!0,longitude:!0}},a=this.getGridSelectIdArray();e.filter_data=Global.convertLayoutFilterToAPIFilter(this.select_layout),a.length>0&&(e.filter_data.id=a);var l=this.api.getJobApplicant(e,{async:!1}).getResult();this.is_mass_editing||v(()=>import("./leaflet-timetrex-D9Z7_Af6.bundle.js"),__vite__mapDeps([0,1]),import.meta.url).then(o=>{var i=o.TTConvertMapData.processBasicFromGenericViewController(l);IndexViewController.openEditView(this,"Map",i)}).catch(Global.importErrorHandler)}}openEditView(e){if(typeof e>"u"&&this.edit_only_mode)this.onCancelClick(!0,!0);else if(this.edit_only_mode&&e){var a=this;this.initOptions(function(){a.edit_view||a.initEditViewUI(a.viewId,a.edit_view_tpl);var l={filter_data:{id:e}};a.api.getJobApplicant(l,{onResult:function(o){o=o.getResult()[0],o?(a.current_edit_record=o,a.initEditView()):(TAlertManager.showAlert(t.i18n._("Invalid job applicant")),a.onCancelClick())}})})}else this.edit_view||this.initEditViewUI(this.viewId,this.edit_view_tpl)}setCustomDefaultMenuIcon(e,a,l){switch(e){case"edit_employee":this.setDefaultMenuEditIcon(a,l,"user");break;case"job_application":this.setDefaultMenuEditIcon(a,l,"job_application");break}}setDefaultMenuEmployeeIcon(e,a,l){(!this.viewPermissionValidate(l)||this.edit_only_mode)&&ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1),a===1?ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!0):ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setCustomEditMenuIcon(e,a){switch(e){case"edit_employee":this.setEditMenuNavEditIcon(a,"user");break;case"job_application":this.setEditMenuNavEditIcon(a,"job_application");break}}setEditMenuMapIcon(e){ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}onNavigationClick(e){var a=this,l,o,i,r,d;switch(e){case"edit_employee":let p=function(s){a.user_api.getUserDefaultData({onResult:function(u){var c=u.getResult();s(c)}})};l={filter_data:{}},Global.isSet(this.current_edit_record)?p(function(s){for(var u in s)a.current_edit_record[u]||(a.current_edit_record[u]=s[u]);IndexViewController.openEditView(a,"Employee",a.current_edit_record)}):p(function(s){o={},i=a.getGridSelectIdArray(),r=i.length,r>0&&(d=i[0],o.filter_data={},o.filter_data.id=[d],a.api["get"+a.api.key_name](o,{onResult:function(u){var c=u.getResult();c||(c=[]),c=c[0];for(var m in s)c[m]||(c[m]=s[m]);IndexViewController.openEditView(a,"Employee",c)}}))});break;case"export_excel":this.onExportClick("export"+this.api.key_name);break;case"job_application":var l={filter_data:{}},n,_=this.getSelectedItem();_!=null&&(n=_.id),l.filter_data.job_applicant_id=n,Global.addViewTab(this.viewId,t.i18n._("Job Applicant"),window.location.href),IndexViewController.goToView("JobApplication",l);break}}initSubHistoryView(){var e=this;if(!this.current_edit_record.id){TTPromise.resolve("BaseViewController","onTabShow");return}t("#tab_history").css("opacity",0),TTPromise.add("JobApplicant_History_Tab","initSubHistoryView"),TTPromise.add("JobApplicant_History_Tab","JobApplicantEmploymentViewController"),Global.loadScript("views/hr/recruitment/JobApplicantEmploymentViewController.js",function(){var r=e.edit_view_tab.find("#tab_history"),d=r.find(".first-column-sub-view").find(".first-sub-view");Global.trackView("SubJobApplicantEmploymentView"),JobApplicantEmploymentViewController.loadSubView(d,a,l)}),TTPromise.add("JobApplicant_History_Tab","JobApplicantReferenceViewController"),Global.loadScript("views/hr/recruitment/JobApplicantReferenceViewController.js",function(){var r=e.edit_view_tab.find("#tab_history"),d=r.find(".first-column-sub-view").find(".second-sub-view");Global.trackView("SubJobApplicantReferenceView"),JobApplicantReferenceViewController.loadSubView(d,a,o)}),TTPromise.add("JobApplicant_History_Tab","JobApplicantLocationViewController"),Global.loadScript("views/hr/recruitment/JobApplicantLocationViewController.js",function(){var r=e.edit_view_tab.find("#tab_history"),d=r.find(".first-column-sub-view").find(".third-sub-view");Global.trackView("SubJobApplicantLocationView"),JobApplicantLocationViewController.loadSubView(d,a,i)}),TTPromise.wait(null,null,function(){t("#tab_history").css("opacity",1)}),TTPromise.resolve("JobApplicant_History_Tab","initSubHistoryView");function a(){}function l(r){t(r.el).find(".sub-view-title").text(t.i18n._("Employment")),e.sub_job_applicant_employment_view_controller=r,e.sub_job_applicant_employment_view_controller.parent_key="job_applicant_id",e.sub_job_applicant_employment_view_controller.parent_value=e.current_edit_record.id,e.sub_job_applicant_employment_view_controller.parent_edit_record=e.current_edit_record,e.sub_job_applicant_employment_view_controller.parent_view_controller=e,e.sub_job_applicant_employment_view_controller.postInit=function(){this.buildContextMenu(),this.initData()}}function o(r){t(r.el).find(".sub-view-title").text(t.i18n._("Reference")),e.sub_job_applicant_reference_view_controller=r,e.sub_job_applicant_reference_view_controller.parent_key="job_applicant_id",e.sub_job_applicant_reference_view_controller.parent_value=e.current_edit_record.id,e.sub_job_applicant_reference_view_controller.parent_edit_record=e.current_edit_record,e.sub_job_applicant_reference_view_controller.parent_view_controller=e,e.sub_job_applicant_reference_view_controller.postInit=function(){this.buildContextMenu(),this.initData()}}function i(r){t(r.el).find(".sub-view-title").text(t.i18n._("Location")),e.sub_job_applicant_location_view_controller=r,e.sub_job_applicant_location_view_controller.parent_key="job_applicant_id",e.sub_job_applicant_location_view_controller.parent_value=e.current_edit_record.id,e.sub_job_applicant_location_view_controller.parent_edit_record=e.current_edit_record,e.sub_job_applicant_location_view_controller.parent_view_controller=e,e.sub_job_applicant_location_view_controller.postInit=function(){this.buildContextMenu(),this.initData()}}}initSubQualificationView(){var e=this;if(!this.current_edit_record.id){TTPromise.resolve("BaseViewController","onTabShow");return}t("#tab_qualifications .first-column-sub-view").css("opacity","0"),TTPromise.add("JobApplicant_Qualifications_Tab","initSubQualificationView"),TTPromise.add("JobApplicant_Qualifications_Tab","JobApplicantSkillViewController"),Global.loadScript("views/hr/recruitment/JobApplicantSkillViewController.js",function(){var n=e.edit_view_tab.find("#tab_qualifications"),_=n.find(".first-column-sub-view").find(".first-sub-view");Global.trackView("SubJobApplicantSkillView"),JobApplicantSkillViewController.loadSubView(_,a,l)}),TTPromise.add("JobApplicant_Qualifications_Tab","JobApplicantEducationViewController"),Global.loadScript("views/hr/recruitment/JobApplicantEducationViewController.js",function(){var n=e.edit_view_tab.find("#tab_qualifications"),_=n.find(".first-column-sub-view").find(".second-sub-view");Global.trackView("SubJobApplicantEducationView"),JobApplicantEducationViewController.loadSubView(_,a,r)}),TTPromise.add("JobApplicant_Qualifications_Tab","JobApplicantMembershipViewController"),Global.loadScript("views/hr/recruitment/JobApplicantMembershipViewController.js",function(){var n=e.edit_view_tab.find("#tab_qualifications"),_=n.find(".first-column-sub-view").find(".third-sub-view");Global.trackView("SubJobApplicantMembershipView"),JobApplicantMembershipViewController.loadSubView(_,a,d)}),TTPromise.add("JobApplicant_Qualifications_Tab","JobApplicantLicenseViewController"),Global.loadScript("views/hr/recruitment/JobApplicantLicenseViewController.js",function(){var n=e.edit_view_tab.find("#tab_qualifications"),_=n.find(".first-column-sub-view").find(".forth-sub-view");Global.trackView("SubJobApplicantLicenseView"),JobApplicantLicenseViewController.loadSubView(_,a,o)}),TTPromise.add("JobApplicant_Qualifications_Tab","JobApplicantLanguageViewController"),Global.loadScript("views/hr/recruitment/JobApplicantLanguageViewController.js",function(){var n=e.edit_view_tab.find("#tab_qualifications"),_=n.find(".first-column-sub-view").find(".fifth-sub-view");Global.trackView("SubJobApplicantLanguageView"),JobApplicantLanguageViewController.loadSubView(_,a,i)});function a(){}function l(n){t(n.el).find(".sub-view-title").text(t.i18n._("Skills")),e.sub_job_applicant_skill_view_controller=n,e.sub_job_applicant_skill_view_controller.parent_key="job_applicant_id",e.sub_job_applicant_skill_view_controller.parent_value=e.current_edit_record.id,e.sub_job_applicant_skill_view_controller.parent_edit_record=e.current_edit_record,e.sub_job_applicant_skill_view_controller.parent_view_controller=e,e.sub_job_applicant_skill_view_controller.postInit=function(){this.buildContextMenu(),this.initData()}}function o(n){t(n.el).find(".sub-view-title").text(t.i18n._("Licenses")),e.sub_job_applicant_license_view_controller=n,e.sub_job_applicant_license_view_controller.parent_key="job_applicant_id",e.sub_job_applicant_license_view_controller.parent_value=e.current_edit_record.id,e.sub_job_applicant_license_view_controller.parent_edit_record=e.current_edit_record,e.sub_job_applicant_license_view_controller.parent_view_controller=e,e.sub_job_applicant_license_view_controller.postInit=function(){this.buildContextMenu(),this.initData()}}function i(n){t(n.el).find(".sub-view-title").text(t.i18n._("Languages")),e.sub_job_applicant_language_view_controller=n,e.sub_job_applicant_language_view_controller.parent_key="job_applicant_id",e.sub_job_applicant_language_view_controller.parent_value=e.current_edit_record.id,e.sub_job_applicant_language_view_controller.parent_edit_record=e.current_edit_record,e.sub_job_applicant_language_view_controller.parent_view_controller=e,e.sub_job_applicant_language_view_controller.postInit=function(){this.buildContextMenu(),this.initData()}}function r(n){t(n.el).find(".sub-view-title").text(t.i18n._("Education")),e.sub_job_applicant_education_view_controller=n,e.sub_job_applicant_education_view_controller.parent_key="job_applicant_id",e.sub_job_applicant_education_view_controller.parent_value=e.current_edit_record.id,e.sub_job_applicant_education_view_controller.parent_edit_record=e.current_edit_record,e.sub_job_applicant_education_view_controller.parent_view_controller=e,e.sub_job_applicant_education_view_controller.postInit=function(){this.buildContextMenu(),this.initData()}}function d(n){t(n.el).find(".sub-view-title").text(t.i18n._("Memberships")),e.sub_job_applicant_membership_view_controller=n,e.sub_job_applicant_membership_view_controller.parent_key="job_applicant_id",e.sub_job_applicant_membership_view_controller.parent_value=e.current_edit_record.id,e.sub_job_applicant_membership_view_controller.parent_edit_record=e.current_edit_record,e.sub_job_applicant_membership_view_controller.parent_view_controller=e,e.sub_job_applicant_membership_view_controller.postInit=function(){this.buildContextMenu(),this.initData()}}TTPromise.wait(null,null,function(){t("#contentContainer").trigger("resize"),t("#tab_qualifications .first-column-sub-view").css("opacity","1")}),TTPromise.resolve("JobApplicant_Qualifications_Tab","initSubQualificationView")}initSubApplicationView(){var e=this;if(!this.current_edit_record.id){TTPromise.resolve("BaseViewController","onTabShow");return}if(this.sub_application_view_controller){this.sub_application_view_controller.buildContextMenu(!0),this.sub_application_view_controller.setDefaultMenu(),e.sub_application_view_controller.parent_value=e.current_edit_record.id,e.sub_application_view_controller.parent_edit_record=e.current_edit_record,e.sub_application_view_controller.initData();return}TTPromise.add("initSubApplicationView","loadscript"),Global.loadScript("views/hr/recruitment/JobApplicationViewController.js",function(){var o=e.edit_view_tab.find("#tab_applications"),i=o.find(".first-column-sub-view");Global.trackView("SubJobApplicationView"),JobApplicationViewController.loadSubView(i,a,l)});function a(){}function l(o){e.sub_application_view_controller=o,e.sub_application_view_controller.parent_key="job_applicant_id",e.sub_application_view_controller.parent_value=e.current_edit_record.id,e.sub_application_view_controller.parent_edit_record=e.current_edit_record,e.sub_application_view_controller.parent_view_controller=e,e.sub_application_view_controller.postInit=function(){this.initData(),TTPromise.resolve("initSubApplicationView","loadscript")}}}removeEditView(){super.removeEditView(),this.sub_application_view_controller=null,this.sub_job_applicant_employment_view_controller=null,this.sub_job_applicant_reference_view_controller=null,this.sub_job_applicant_location_view_controller=null,this.sub_job_applicant_skill_view_controller=null,this.sub_job_applicant_license_view_controller=null,this.sub_job_applicant_language_view_controller=null,this.sub_job_applicant_education_view_controller=null,this.sub_job_applicant_membership_view_controller=null}getFilterColumnsFromDisplayColumns(e,a){return e==null&&(e={}),e.latitude=!0,e.longitude=!0,this._getFilterColumnsFromDisplayColumns(e,a)}}export{T as JobApplicantViewController};
//# sourceMappingURL=JobApplicantViewController-D3Nsnnyi.bundle.js.map
