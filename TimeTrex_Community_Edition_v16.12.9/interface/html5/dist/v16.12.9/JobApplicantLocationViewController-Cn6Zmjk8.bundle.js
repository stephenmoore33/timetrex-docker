import{_ as r,j as n}from"./vendor-tTApdY0Y.bundle.js";class s extends BaseViewController{constructor(t={}){r.defaults(t,{el:"#job_applicant_location_view_container",country_array:null,province_array:null,e_province_array:null,company_api:null,sub_view_grid_autosize:!0}),super(t)}init(t){this.edit_view_tpl="JobApplicantLocationEditView.html",this.permission_id="job_applicant",this.viewId="JobApplicantLocation",this.script_name="JobApplicantLocationView",this.table_name_key="job_applicant_location",this.context_menu_name=n.i18n._("Job Applicant Location"),this.navigation_label=n.i18n._("Job Applicant Location"),this.api=TTAPI.APIJobApplicantLocation,this.company_api=TTAPI.APICompany,this.render(),this.sub_view_mode||this.initData()}showNoResultCover(t){super.showNoResultCover(!!this.sub_view_mode)}onAddClick(){this.sub_view_mode&&this.buildContextMenu(!0),super.onAddClick()}initOptions(){this.initDropDownOption("country","country",this.company_api)}buildEditViewUI(){super.buildEditViewUI();var t=this,a={tab_job_applicant_location:{label:n.i18n._("Job Applicant Location")},tab_audit:!0};this.setTabModel(a),this.navigation.AComboBox({api_class:TTAPI.APIJobApplicantLocation,id:this.script_name+"_navigation",allow_multiple_selection:!1,layout_name:"global_job_applicant_location",navigation_mode:!0,show_search_inputs:!0}),this.setNavigation();var o=this.edit_view_tab.find("#tab_job_applicant_location"),e=o.find(".first-column");this.edit_view_tabs[0]=[],this.edit_view_tabs[0].push(e);var i=Global.loadWidgetByName(FormItemType.TEXT_INPUT);i.TTextInput({field:"address1",width:200}),this.addEditFieldToColumn(n.i18n._("Address (Line 1)"),i,e,""),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"address2",width:200}),this.addEditFieldToColumn(n.i18n._("Address (Line 2)"),i,e),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"city",width:200}),this.addEditFieldToColumn(n.i18n._("City"),i,e),i=Global.loadWidgetByName(FormItemType.COMBO_BOX),i.TComboBox({field:"country",set_empty:!0}),i.setSourceData(t.country_array),this.addEditFieldToColumn(n.i18n._("Country"),i,e),i=Global.loadWidgetByName(FormItemType.COMBO_BOX),i.TComboBox({field:"province"}),i.setSourceData([]),this.addEditFieldToColumn(n.i18n._("Province/State"),i,e),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"postal_code",width:90}),this.addEditFieldToColumn(n.i18n._("Postal/ZIP Code"),i,e),i=Global.loadWidgetByName(FormItemType.DATE_PICKER),i.TDatePicker({field:"start_date"}),this.addEditFieldToColumn(n.i18n._("Start Date"),i,e,"",null),i=Global.loadWidgetByName(FormItemType.DATE_PICKER),i.TDatePicker({field:"end_date"}),this.addEditFieldToColumn(n.i18n._("End Date"),i,e,"",null),i=Global.loadWidgetByName(FormItemType.TAG_INPUT),i.TTagInput({field:"tag",object_type_id:370}),this.addEditFieldToColumn(n.i18n._("Tags"),i,e,"",null,null,!0)}onFormItemChange(t,a){this.setIsChanged(t),this.setMassEditingFieldsWhenFormChange(t);var o=t.getField();switch(this.current_edit_record[o]=t.getValue(),o){case"country":var e=this.edit_view_ui_dic.province;e.setValue(null);break}if(o==="country"){this.onCountryChange();return}a||this.validate()}setCurrentEditRecordData(){for(var t in this.current_edit_record){var a=this.edit_view_ui_dic[t];if(Global.isSet(a))switch(t){case"country":this.setCountryValue(a,t);break;default:a.setValue(this.current_edit_record[t]);break}}this.collectUIDataToCurrentEditRecord(),this.setEditViewDataDone()}setProvince(t,a){var o=this;!t||t==="-1"||t==="0"?(o.province_array=[],this.adv_search_field_ui_dic.province.setSourceData([])):this.company_api.getOptions("province",t,{onResult:function(e){e=e.getResult(),e||(e=[]),o.province_array=Global.buildRecordArray(e),o.adv_search_field_ui_dic.province.setSourceData(o.province_array)}})}eSetProvince(t,a){var o=this,e=o.edit_view_ui_dic.province;!t||t==="-1"||t==="0"?(o.e_province_array=[],e.setSourceData([])):this.company_api.getOptions("province",t,{onResult:function(i){i=i.getResult(),i||(i=[]),o.e_province_array=Global.buildRecordArray(i),a&&o.e_province_array.length>0&&(o.current_edit_record.province=o.e_province_array[0].value,e.setValue(o.current_edit_record.province)),e.setSourceData(o.e_province_array)}})}onGridSelectRow(){this.sub_view_mode?this.buildContextMenu(!0):this.buildContextMenu(),this.setDefaultMenu()}searchDone(){super.searchDone(),TTPromise.resolve("JobApplicant_History_Tab","JobApplicantLocationViewController")}}s.loadSubView=function(l,t,a){Global.loadViewSource("JobApplicantLocation","SubJobApplicantLocationView.html",function(o){var e={},i=r.template(o);Global.isSet(t)&&t(),Global.isSet(l)&&(l.html(i(e)),Global.isSet(a)&&a(sub_job_applicant_location_view_controller))})};export{s as JobApplicantLocationViewController};
//# sourceMappingURL=JobApplicantLocationViewController-Cn6Zmjk8.bundle.js.map
