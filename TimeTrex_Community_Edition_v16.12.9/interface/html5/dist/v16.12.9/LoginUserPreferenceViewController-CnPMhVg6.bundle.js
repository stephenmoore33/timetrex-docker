import{_ as h,j as t}from"./vendor-tTApdY0Y.bundle.js";import{G as s}from"./main_ui-z76rxVqJ.entry.bundle.js";class C extends BaseViewController{constructor(i={}){h.defaults(i,{language_array:null,date_format_array:null,time_format_array:null,time_unit_format_array:null,distance_format_array:null,notification_status_array:null,notification_type_array:null,priority_array:null,original_user_preference_notification_data:[],time_zone_array:null,start_week_day_array:null,schedule_icalendar_type_array:null,saved_schedules:null,selected_schedule_uri_fragment:null,date_api:null,currentUser_api:null,user_preference_api:null,user_preference_notification_api:null}),super(i)}init(i){this.permission_id="user_preference",this.viewId="LoginUserPreference",this.script_name="LoginUserPreferenceView",this.table_name_key="user_preference",this.context_menu_name=t.i18n._("Preferences"),this.api=TTAPI.APIUserPreference,this.date_api=TTAPI.APITTDate,this.currentUser_api=TTAPI.APIAuthentication,this.user_preference_api=TTAPI.APIUserPreference,this.generic_user_data_api=TTAPI.APIUserGenericData,this.saved_schedules=[],this.selected_schedule_uri_fragment="",this.user_preference_notification_api=TTAPI.APIUserPreferenceNotification,this.notification_api=TTAPI.APINotification,this.event_bus=new TTEventBus({view_id:this.viewId}),this.render(),this.initData()}render(){super.render()}initOptions(i){var n=[{option_name:"language",field_name:null,api:this.api},{option_name:"date_format",field_name:null,api:this.api},{option_name:"time_format",field_name:null,api:this.api},{option_name:"time_unit_format",field_name:null,api:this.api},{option_name:"distance_format",field_name:null,api:this.api},{option_name:"time_zone",field_name:null,api:this.api},{option_name:"start_week_day",field_name:null,api:this.api},{option_name:"schedule_icalendar_type",field_name:null,api:this.api},{option_name:"default_login_screen",field_name:null,api:this.api},{option_name:"notification_status",field_name:null,api:this.api},{option_name:"notification_type",field_name:null,api:this.user_preference_notification_api},{option_name:"priority",field_name:null,api:this.user_preference_notification_api}];this.initDropDownOptions(n,function(d){i&&i(d)})}detectTimeZone(){if(Intl){var i=Intl.DateTimeFormat().resolvedOptions().timeZone;if(i&&i.length>0){Debug.Text("Detected TimeZone: "+i,"UserPreferenceViewController.js","UserPreferenceViewController","detectTimeZone",10),this.current_edit_record.time_zone=i;var n=this.edit_view_ui_dic.time_zone;n.setValue(this.current_edit_record.time_zone),n.trigger("formItemChange",[n]),this.is_changed=!0,TAlertManager.showAlert(t.i18n._("Time Zone detected as")+" "+i)}else TAlertManager.showAlert(t.i18n._("Unable to determine time zone"))}}getCustomContextMenuModel(){var i={exclude:["default"],include:["save","cancel",{label:"",id:"other_header",menu_align:"right",action_group:"other",action_group_header:!0,vue_icon:"tticon tticon-more_vert_black_24dp"},{label:t.i18n._("Enable Browser Notifications"),id:"enable_browser_notifications",menu_align:"right",action_group:"other",permission_result:!0,permission:null},{label:t.i18n._("Disable Browser Notifications"),id:"disable_browser_notifications",menu_align:"right",action_group:"other",permission_result:!0,permission:null},{label:t.i18n._("Disable All Device Notifications"),id:"disable_all_notifications",menu_align:"right",action_group:"other",permission_result:!0,permission:null},{label:t.i18n._("Send Test Notification"),id:"send_test_notification",menu_align:"right",action_group:"other",permission_result:!0,permission:null}]};return i}onCustomContextClick(i,n){switch(i){case"enable_browser_notifications":this.enableBrowserNotifications();break;case"disable_browser_notifications":this.disableBrowserNotifications();break;case"disable_all_notifications":this.disableAllNotifications();break;case"send_test_notification":this.sendTestNotification();break}}enableBrowserNotifications(){NotificationConsumer.setupUser(!0,!0)}disableBrowserNotifications(){NotificationConsumer.deleteToken(),window.navigator&&navigator.serviceWorker&&navigator.serviceWorker.getRegistrations().then(function(n){for(let d of n)d.active&&d.active.scriptURL&&d.active.scriptURL.includes("firebase-messaging-sw.js")&&d.unregister()});let i=NotificationConsumer.getNotificationDeniedCookie();i.asked_count=2,NotificationConsumer.setNotificationDeniedCookie(i),TAlertManager.showAlert(t.i18n._("Push Notifications Disabled"),t.i18n._("Push Notifications"))}sendTestNotification(){let i=this,n={};n.user_id=LocalCacheData.getLoginUser().id,n.device_id=[4,256,512,32768],n.type_id="system",n.title_short=t.i18n._("Test Notification"),n.body_short=t.i18n._("Sent at: "+new Date().toLocaleTimeString()),n.priority=2,this.notification_api.sendNotification(n,{onResult:function(d){i.event_bus.emit("tt_topbar","profile_pending_counts",{object_types:[]}),TAlertManager.showAlert(t.i18n._("Test Notification Sent To All Devices"),t.i18n._("Push Notifications"))}})}disableAllNotifications(){NotificationConsumer.deleteAllTokens(),TAlertManager.showAlert(t.i18n._("Push Notifications Disabled For All Devices"),t.i18n._("Push Notifications"))}getUserPreferenceData(i){var n=this,d={};d.filter_data={},d.filter_data.user_id=LocalCacheData.loginUser.id,n.api["get"+n.api.key_name](d,{onResult:function(r){var e=r.getResult();s.isArray(e)&&s.isSet(e[0])?i(e[0]):n.api["get"+n.api.key_name+"DefaultData"]({onResult:function(a){var _=a.getResult();i(_)}})}})}getSavedScheduleSearchAndLayout(i){var n={};n.filter_data={script:"ScheduleView",deleted:!1},this.generic_user_data_api.getUserGenericData(n,{onResult:function(d){for(var r=d.getResult(),e=r.length-1;e>=0;e--)r[e].name===BaseViewController.default_layout_name&&r.splice(e,1);i(r)}})}initInsideEditorData(){var i=this,n={};n.filter_data={},n.filter_data.user_id=LocalCacheData.loginUser.id,i.user_preference_notification_api.getUserPreferenceNotification(n,!0,{onResult:function(d){var r=d.getResult(),e=[];for(var a in r)r.hasOwnProperty(a)&&e.push(r[a]);e=e.sort((_,u)=>i.notification_type_array.findIndex(c=>c.id===_.type_id)-i.notification_type_array.findIndex(c=>c.id===u.type_id)),i.original_user_preference_notification_data=h.map(e,h.clone),i.editor.setValue(e)}})}setCurrentEditRecordData(){for(var i in this.current_edit_record){var n=this.edit_view_ui_dic[i];if(s.isSet(n))switch(i){case"full_name":n.setValue(this.current_edit_record.first_name+" "+this.current_edit_record.last_name);break;default:n.setValue(this.current_edit_record[i]);break}}this.collectUIDataToCurrentEditRecord(),this.setEditViewDataDone()}setEditViewDataDone(){super.setEditViewDataDone(),this.onStatusChange(),this.initInsideEditorData()}openEditView(){var i=this;i.edit_only_mode&&i.initOptions(function(n){i.getSavedScheduleSearchAndLayout(function(d){i.saved_schedules.push({value:0,label:t.i18n._("My Schedule (Default)")});for(var r=0;r<d.length;r++)i.saved_schedules.push({value:d[r].id,label:d[r].name});i.getUserPreferenceData(function(e){i.edit_view||i.initEditViewUI("LoginUserPreference","LoginUserPreferenceEditView.html"),e.id||(e.first_name=LocalCacheData.loginUser.first_name,e.last_name=LocalCacheData.loginUser.last_name,e.user_id=LocalCacheData.loginUser.id),i.current_edit_record=e,i.initEditView()})})})}onFormItemChange(i,n){this.setIsChanged(i),this.setMassEditingFieldsWhenFormChange(i);var d=i.getField(),r=i.getValue();this.current_edit_record[d]=r,d==="schedule_icalendar_type_id"?(this.onStatusChange(),this.setCalendarURL()):d==="schedule_saved_search"?(this.onSavedScheduleChange(i.getValue(),i.getLabel()),this.setCalendarURL()):d==="notification_status_id"&&this.initSubNotificationView(),n||this.validate()}onStatusChange(){this.current_edit_record.schedule_icalendar_type_id==0?(this.detachElement("schedule_saved_search"),this.detachElement("calendar_url"),this.detachElement("schedule_icalendar_alarm1_working"),this.detachElement("schedule_icalendar_alarm2_working"),this.detachElement("schedule_icalendar_alarm1_absence"),this.detachElement("schedule_icalendar_alarm2_absence"),this.detachElement("schedule_icalendar_alarm1_modified"),this.detachElement("schedule_icalendar_alarm2_modified"),this.detachElement("shifts_scheduled_to_work"),this.detachElement("shifts_scheduled_absent"),this.detachElement("modified_shifts")):(this.setCalendarURL(),this.attachElement("schedule_saved_search"),this.attachElement("calendar_url"),this.attachElement("schedule_icalendar_alarm1_working"),this.attachElement("schedule_icalendar_alarm2_working"),this.attachElement("schedule_icalendar_alarm1_absence"),this.attachElement("schedule_icalendar_alarm2_absence"),this.attachElement("schedule_icalendar_alarm1_modified"),this.attachElement("schedule_icalendar_alarm2_modified"),this.attachElement("shifts_scheduled_to_work"),this.attachElement("shifts_scheduled_absent"),this.attachElement("modified_shifts")),this.editFieldResize()}onSavedScheduleChange(i,n){i===0?this.selected_schedule_uri_fragment="":this.selected_schedule_uri_fragment=n}setCalendarURL(i){s.isSet(i)||(i=this.edit_view_ui_dic.calendar_url),this.api.getScheduleIcalendarURL(this.current_edit_record.user_name,this.current_edit_record.schedule_icalendar_type_id,this.selected_schedule_uri_fragment,{onResult:function(n){var d=n.getResult();i.setValue(ServiceCaller.root_url+d),i.unbind("click"),i.click(function(){window.open(i.text())})}})}initSubScheduleSynchronizationView(){s.getProductEdition()>=15?(this.edit_view_tab.find("#tab_schedule_synchronization").find(".first-column").css("display","block"),this.edit_view.find(".permission-defined-div").css("display","none"),this.buildContextMenu(!0),this.setEditMenu()):(this.edit_view_tab.find("#tab_schedule_synchronization").find(".first-column").css("display","none"),this.edit_view.find(".permission-defined-div").css("display","block"),this.edit_view.find(".permission-message").html(s.getUpgradeMessage()))}initSubNotificationView(){this.current_edit_record.notification_status_id==0?(this.edit_view_tab.find("#tab_preferences_notification").find(".inside-editor-div").css("display","none"),this.edit_view_ui_dic.notification_duration.parent().parent().parent().css("display","none"),this.edit_view.find("#tab_preferences_notification").find(".permission-defined-div").css("display","block"),this.edit_view.find("#tab_preferences_notification").find(".permission-message").text(t.i18n._("Enable notifications to edit these settings."))):(this.edit_view_tab.find("#tab_preferences_notification").find(".inside-editor-div").css("display","block"),this.edit_view_ui_dic.notification_duration.parent().parent().parent().css("display","block"),this.edit_view.find("#tab_preferences_notification").find(".permission-defined-div").css("display","none"),this.edit_view.find("#tab_preferences_notification").find(".permission-message").text(t.i18n._("Enable notifications to edit these settings.")))}insideEditorSetValue(i){var n=i.length;if(n!==0){this.removeAllRows();for(var d=0;d<i.length;d++)if(s.isSet(i[d])){var r=i[d];r.enabled=r.status_id==10,r.web_push_enabled=r.device_id.includes(4),r.email_work_enabled=r.device_id.includes(256),r.email_home_enabled=r.device_id.includes(512),r.app_push_enabled=r.device_id.includes(32768),r.type_id.startsWith("reminder_")&&(r.reminder_delay=r.reminder_delay),this.addRow(r)}}}insideEditorAddRow(i,n){i||(i={});var d=this.getRowRender(),r=this.getRender(),e={};a=s.loadWidgetByName(FormItemType.CHECKBOX),a.TCheckbox({field:"enabled"}),a.setValue(i.enabled),e[a.getField()]=a,d.children().eq(0).append(a),this.setWidgetEnableBaseOnParentController(a);var a=s.loadWidgetByName(FormItemType.COMBO_BOX);if(a.TComboBox({field:"type_id"}),a.setSourceData(this.parent_controller.notification_type_array),a.setValue(i.type_id),a.setEnabled(!1),a.css("text-align-last","center"),e[a.getField()]=a,d.children().eq(1).append(a),a=s.loadWidgetByName(FormItemType.COMBO_BOX),a.TComboBox({field:"priority_id",set_empty:!1}),a.setSourceData(this.parent_controller.priority_array),a.setValue(i.priority_id),e[a.getField()]=a,d.children().eq(2).append(a),a=s.loadWidgetByName(FormItemType.CHECKBOX),a.TCheckbox({field:"web_push_enabled"}),a.setValue(i.web_push_enabled),e[a.getField()]=a,d.children().eq(3).append(a),a=s.loadWidgetByName(FormItemType.CHECKBOX),a.TCheckbox({field:"email_work_enabled"}),a.setValue(i.email_work_enabled),e[a.getField()]=a,d.children().eq(4).append(a),a=s.loadWidgetByName(FormItemType.CHECKBOX),a.TCheckbox({field:"email_home_enabled"}),a.setValue(i.email_home_enabled),e[a.getField()]=a,d.children().eq(5).append(a),a=s.loadWidgetByName(FormItemType.CHECKBOX),a.TCheckbox({field:"app_push_enabled"}),a.setValue(i.app_push_enabled),e[a.getField()]=a,d.children().eq(6).append(a),i.type_id.startsWith("reminder_")){a=s.loadWidgetByName(FormItemType.TEXT_INPUT),a.TTextInput({field:"reminder_delay",need_parser_sec:!0,mode:"time_unit"}),a.setValue(i.reminder_delay),e[a.getField()]=a;var _=t("<div class='widget-h-box'></div>"),u=t("<span class='widget-left-label'> "+t.i18n._("Delay")+": </span>");_.append(u),_.append(a),d.children().eq(7).append(_)}e.current_edit_item=i,typeof n<"u"?(d.insertAfter(t(r).find("tr").eq(n)),this.rows_widgets_array.splice(n,0,e)):(t(r).append(d),this.rows_widgets_array.push(e)),this.parent_controller.is_viewing&&d.find(".control-icon").hide(),this.removeLastRowLine()}insideEditorGetValue(i){for(var n=this.rows_widgets_array.length,d=[],r=0;r<n;r++){var e=this.rows_widgets_array[r],a=e.current_edit_item;a.priority_id=e.priority_id.getValue(),a.status_id=e.enabled.getValue()===!0?10:20,a.device_id=[],e.web_push_enabled.getValue()===!0&&a.device_id.push(4),e.email_work_enabled.getValue()===!0&&a.device_id.push(256),e.email_home_enabled.getValue()===!0&&a.device_id.push(512),e.app_push_enabled.getValue()===!0&&a.device_id.push(32768),a.type_id.startsWith("reminder_")&&e.reminder_delay&&(a.reminder_delay=e.reminder_delay.getValue()),d.push(a)}return d}onSaveResult(i){var n=this;if(i&&i.isValid()){var d=i.getResult();d===!0?n.refresh_id=n.current_edit_record.id:TTUUID.isUUID(d)&&d!=TTUUID.zero_id&&d!=TTUUID.not_exist_id&&(n.refresh_id=d),n.saveInsideEditorData(function(){n.onSaveDone(i)})}else n.setErrorMenu(),n.setErrorTips(i)}saveInsideEditorData(i){var n=this.editor.getValue(this.refresh_id);let d=this.getChangedRecords(n,this.original_user_preference_notification_data,["enabled","web_push_enabled","email_work_enabled","email_home_enabled","app_push_enabled"]);Array.isArray(d)&&d.length>0?this.user_preference_notification_api.setUserPreferenceNotification(d,{onResult:function(r){s.isSet(i)&&i()}}):s.isSet(i)&&i()}onSaveDone(i){var n=this;return i&&i.isValid()?(s.setLanguageCookie(this.current_edit_record.language),LocalCacheData.setI18nDic(null),s.updateUserPreference(function(){var d=s.ArrayDiffAssoc(n.old_current_edit_record,n.current_edit_record);n.removeEditView(),(d.language||d.time_zone||d.date_format||d.time_format||d.time_unit_format|d.start_week_day)&&window.location.reload(!0)},t.i18n._("Updating preferences, reloading")+"..."),!0):!1}setEditMenuSaveIcon(i,n){}setErrorMenu(){for(var i=ContextMenuManager.getMenuModelByMenuId(this.determineContextMenuMountAttributes().id),n=i.length,d=0;d<n;d++){let r=i[d],e=i[d].id;switch(ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,r.id,!0),e){case"cancel":break;default:ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,r.id,!1);break}}}buildEditViewUI(){var i=this;super.buildEditViewUI();var n={tab_preferences:{label:t.i18n._("Preferences")},tab_preferences_notification:{label:t.i18n._("Notifications"),init_callback:"initSubNotificationView",html_template:this.getPreferencesNotificationTabHtml()},tab_schedule_synchronization:{label:t.i18n._("Schedule Synchronization"),init_callback:"initSubScheduleSynchronizationView",html_template:this.getScheduleSyncronizationTabHtml()}};this.setTabModel(n);var e,l,d=this.edit_view_tab.find("#tab_preferences"),r=d.find(".first-column");this.edit_view_tabs[0]=[],this.edit_view_tabs[0].push(r);var e,l,a;e=s.loadWidgetByName(FormItemType.TEXT),e.TText({field:"full_name"}),this.addEditFieldToColumn(t.i18n._("Employee"),e,r,""),e=s.loadWidgetByName(FormItemType.COMBO_BOX),e.TComboBox({field:"language"}),e.setSourceData(i.language_array),this.addEditFieldToColumn(t.i18n._("Language"),e,r),e=s.loadWidgetByName(FormItemType.COMBO_BOX),e.TComboBox({field:"date_format"}),e.setSourceData(i.date_format_array),this.addEditFieldToColumn(t.i18n._("Date Format"),e,r),e=s.loadWidgetByName(FormItemType.COMBO_BOX),e.TComboBox({field:"time_format"}),e.setSourceData(i.time_format_array),this.addEditFieldToColumn(t.i18n._("Time Format"),e,r),e=s.loadWidgetByName(FormItemType.COMBO_BOX),e.TComboBox({field:"time_unit_format"}),e.setSourceData(i.time_unit_format_array),this.addEditFieldToColumn(t.i18n._("Time Units"),e,r),e=s.loadWidgetByName(FormItemType.COMBO_BOX),e.TComboBox({field:"distance_format"}),e.setSourceData(i.distance_format_array),this.addEditFieldToColumn(t.i18n._("Distance Units"),e,r),e=s.loadWidgetByName(FormItemType.COMBO_BOX),e.TComboBox({field:"time_zone",set_empty:!0}),e.setSourceData(i.time_zone_array),l=t("<div class='widget-h-box'></div>");var _=t("<input class='t-button' style='margin-left: 5px; height: 25px;' type='button' value='"+t.i18n._("Auto-Detect")+"'></input>");_.click(function(){i.detectTimeZone()}),l.append(e),l.append(_),this.addEditFieldToColumn(t.i18n._("Time Zone"),e,r,"",l),e=s.loadWidgetByName(FormItemType.COMBO_BOX),e.TComboBox({field:"start_week_day"}),e.setSourceData(i.start_week_day_array),this.addEditFieldToColumn(t.i18n._("Calendar Starts On"),e,r),e=s.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"items_per_page",width:50}),this.addEditFieldToColumn(t.i18n._("Rows per page"),e,r),e=s.loadWidgetByName(FormItemType.COMBO_BOX),e.TComboBox({field:"default_login_screen"}),e.setSourceData(i.default_login_screen_array),this.addEditFieldToColumn(t.i18n._("Default Screen"),e,r),e=s.loadWidgetByName(FormItemType.CHECKBOX),e.TCheckbox({field:"enable_save_timesheet_state"}),this.addEditFieldToColumn(t.i18n._("Save TimeSheet State"),e,r);var u=this.edit_view_tab.find("#tab_preferences_notification"),c=u.find(".first-column");this.edit_view_tabs[1]=[],this.edit_view_tabs[1].push(c),e=s.loadWidgetByName(FormItemType.COMBO_BOX),e.TComboBox({field:"notification_status_id"}),e.setSourceData(s.addFirstItemToArray(i.notification_status_array)),this.addEditFieldToColumn(t.i18n._("Notification Status"),e,c),e=s.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"notification_duration",width:50}),l=t("<div class='widget-h-box'></div>"),a=t("<span class='widget-right-label'> "+t.i18n._("Seconds (Use 0 for infinite)")+"</span>"),l.append(e),l.append(a),this.addEditFieldToColumn(t.i18n._("Display Notifications For"),e,c,"",l);var p=u.find(".inside-editor-div"),f={enabled:t.i18n._("Enabled"),name:t.i18n._("Type"),priority:t.i18n._("Priority"),web:t.i18n._("Browser"),email_work:t.i18n._("Work Email"),email_home:t.i18n._("Home Email"),app:t.i18n._("Mobile App"),settings:t.i18n._("Settings")};this.editor=s.loadWidgetByName(FormItemType.INSIDE_EDITOR),this.editor.InsideEditor({title:"",addRow:this.insideEditorAddRow,getValue:this.insideEditorGetValue,setValue:this.insideEditorSetValue,parent_controller:this,render:g(),render_args:f,render_inline_html:!0,row_render:b()});function g(){return`
			<table class="inside-editor-render">
				<tr class="title">
					<td style="width: 50px"><%= enabled %></td>
					<td style="width: 400px"><%= name %></td>
					<td style="width: 150px"><%= priority %></td>
					<td style="width: 110px"><%= web %></td>
					<td style="width: 110px"><%= email_work %></td>
					<td style="width: 110px"><%= email_home %></td>
					<td style="width: 110px"><%= app %></td>
					<td style="width: 200px"><%= settings %></td>
				</tr>
			</table>`}function b(){return`
			<tr class="inside-editor-row data-row">
				<td class="cell"></td>
				<td class="cell"></td>
				<td class="cell"></td>
				<td class="cell"></td>
				<td class="cell"></td>
				<td class="cell"></td>
				<td class="cell"></td>
				<td class="cell"></td>
			</tr>`}p.append(this.editor);var v=this.edit_view_tab.find("#tab_schedule_synchronization"),o=v.find(".first-column");this.edit_view_tabs[2]=[],this.edit_view_tabs[2].push(o),e=s.loadWidgetByName(FormItemType.COMBO_BOX),e.TComboBox({field:"schedule_icalendar_type_id"}),e.setSourceData(i.schedule_icalendar_type_array),this.addEditFieldToColumn(t.i18n._("Status"),e,o,""),e=s.loadWidgetByName(FormItemType.COMBO_BOX),e.TComboBox({field:"schedule_saved_search"}),e.setSourceData(i.saved_schedules),this.addEditFieldToColumn(t.i18n._("Schedule Saved Search"),e,o,"",null,!0,!1,"schedule_saved_search"),e=s.loadWidgetByName(FormItemType.TEXT),e.TText({field:"calendar_url"}),e.addClass("link");var l=t("<div class='widget-h-box'></div>"),m=t(' <img style="margin-left: 5px; cursor: pointer; width: 20px; height: 20px;" src="'+s.getRealImagePath("css/global/widgets/ribbon/icons/copy-35x35.png")+'">');m.click(function(){i.copyCalendarUrl()}),l.append(e),l.append(m),this.addEditFieldToColumn(t.i18n._("Calendar URL"),e,o,"",l,!0),e=s.loadWidgetByName(FormItemType.SEPARATED_BOX),e.SeparatedBox({label:t.i18n._("Shifts Scheduled to Work")}),this.addEditFieldToColumn(null,e,o,"",null,!0,!1,"shifts_scheduled_to_work"),e=s.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"schedule_icalendar_alarm1_working",width:90,need_parser_sec:!0}),l=t("<div class='widget-h-box'></div>"),a=t("<span class='widget-right-label'>( "+t.i18n._("before schedule start time")+" )</span>"),l.append(e),l.append(a),this.addEditFieldToColumn(t.i18n._("Alarm 1"),e,o,"",l,!0),e=s.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"schedule_icalendar_alarm2_working",width:90,need_parser_sec:!0}),l=t("<div class='widget-h-box'></div>"),a=t("<span class='widget-right-label'>( "+t.i18n._("before schedule start time")+" )</span>"),l.append(e),l.append(a),this.addEditFieldToColumn(t.i18n._("Alarm 2"),e,o,"",l,!0),e=s.loadWidgetByName(FormItemType.SEPARATED_BOX),e.SeparatedBox({label:t.i18n._("Shifts Scheduled Absent")}),this.addEditFieldToColumn(null,e,o,"",null,!0,!1,"shifts_scheduled_absent"),e=s.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"schedule_icalendar_alarm1_absence",width:90,need_parser_sec:!0}),l=t("<div class='widget-h-box'></div>"),a=t("<span class='widget-right-label'>( "+t.i18n._("before schedule start time")+" )</span>"),l.append(e),l.append(a),this.addEditFieldToColumn(t.i18n._("Alarm 1"),e,o,"",l,!0),e=s.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"schedule_icalendar_alarm2_absence",width:90,need_parser_sec:!0}),l=t("<div class='widget-h-box'></div>"),a=t("<span class='widget-right-label'>( "+t.i18n._("before schedule start time")+" )</span>"),l.append(e),l.append(a),this.addEditFieldToColumn(t.i18n._("Alarm 2"),e,o,"",l,!0),e=s.loadWidgetByName(FormItemType.SEPARATED_BOX),e.SeparatedBox({label:t.i18n._("Modified Shifts")}),this.addEditFieldToColumn(null,e,o,"",null,!0,!1,"modified_shifts"),e=s.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"schedule_icalendar_alarm1_modified",width:90,need_parser_sec:!0}),l=t("<div class='widget-h-box'></div>"),a=t("<span class='widget-right-label'>( "+t.i18n._("before schedule start time")+" )</span>"),l.append(e),l.append(a),this.addEditFieldToColumn(t.i18n._("Alarm 1"),e,o,"",l,!0),e=s.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"schedule_icalendar_alarm2_modified",width:90,need_parser_sec:!0}),l=t("<div class='widget-h-box'></div>"),a=t("<span class='widget-right-label'>( "+t.i18n._("before schedule start time")+" )</span>"),l.append(e),l.append(a),this.addEditFieldToColumn(t.i18n._("Alarm 2"),e,o,"",l,!0)}getPreferencesNotificationTabHtml(){var i=`<div id="tab_preferences_notification" class="edit-view-tab-outside">
								<div class="edit-view-tab" id="tab_preferences_notification_content_div">
									<div class="first-column full-width-column"></div>
									<div class="inside-editor-div full-width-column"></div>
									<div class="save-and-continue-div permission-defined-div" style="top: 200px">
										<span class="message permission-message"></span>
									</div>
								</div>
							</div>`;return i}getScheduleSyncronizationTabHtml(){var i=`<div id="tab_schedule_synchronization" class="edit-view-tab-outside">
								<div class="edit-view-tab" id="tab_schedule_synchronization_content_div">
									<div class="first-column full-width-column"></div>
									<div class="save-and-continue-div permission-defined-div">
										<span class="message permission-message"></span>
									</div>
								</div>
							</div>`;return i}copyCalendarUrl(){var i=this.edit_view_ui_dic.calendar_url[0],n=document.createElement("textarea");n.value=i.textContent,document.body.appendChild(n),n.select(),document.execCommand("Copy"),n.remove(),TAlertManager.showAlert(t.i18n._("Calendar URL copied to clipboard."))}}export{C as LoginUserPreferenceViewController};
//# sourceMappingURL=LoginUserPreferenceViewController-CnPMhVg6.bundle.js.map
