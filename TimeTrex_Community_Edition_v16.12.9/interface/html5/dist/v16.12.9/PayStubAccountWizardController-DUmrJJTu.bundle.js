import{_ as d,j as a}from"./vendor-tTApdY0Y.bundle.js";class l extends BaseWizardController{constructor(e={}){d.defaults(e,{el:".wizard-bg"}),super(e)}init(e){this.title=a.i18n._("Migrate PS Accounts"),this.steps=2,this.current_step=1,a(this.el).width(1010),this.render()}render(){super.render(),this.initCurrentStep()}buildCurrentStepUI(){switch(this.content_div.empty(),this.stepsWidgetDic[this.current_step]={},this.current_step){case 1:var e=this.getLabel();e.html(a.i18n._("This wizard will automatically create Pay Stub Amendments to migrate Year-To-Date amounts from one Pay Stub Account to another as of a specific effective date.")+"<br><br>"),this.content_div.append(e);break;case 2:var t=a(Global.loadWidget("global/widgets/wizard_form_item/WizardFormItem.html"));t.css("margin-top","15px");var s=t.find(".form-item-label"),r=t.find(".form-item-input-div"),i=this.getAComboBox(TTAPI.APIPayStubEntryAccount,!0,"global_PayStubAccount","src_ids");s.text(a.i18n._("Source Pay Stub Account(s)")),r.append(i),this.content_div.append(t),this.stepsWidgetDic[this.current_step][i.getField()]=i,t=a(Global.loadWidget("global/widgets/wizard_form_item/WizardFormItem.html")),s=t.find(".form-item-label"),r=t.find(".form-item-input-div"),i=this.getAComboBox(TTAPI.APIPayStubEntryAccount,!1,"global_PayStubAccount","dst_id"),s.text(a.i18n._("Destination Pay Stub Account")),r.append(i),this.content_div.append(t),this.stepsWidgetDic[this.current_step][i.getField()]=i,t=a(Global.loadWidget("global/widgets/wizard_form_item/WizardFormItem.html")),s=t.find(".form-item-label"),r=t.find(".form-item-input-div");var c=this.getDatePicker("effective_date");s.text(a.i18n._("Effective Date")),r.append(c),this.content_div.append(t),this.stepsWidgetDic[this.current_step][c.getField()]=c;break}}buildCurrentStepData(){var e=this.stepsDataDic[this.current_step],t=this.stepsWidgetDic[this.current_step];switch(this.current_step){case 2:if(!e){var s=new Date;t.effective_date.setValue(s.format())}break}}onDoneClick(){var e=this;super.onDoneClick(),this.saveCurrentStep();var t=this.stepsDataDic[2].src_ids,s=this.stepsDataDic[2].dst_id,r=this.stepsDataDic[2].effective_date,i=TTAPI.APIPayStubEntryAccount;i.migratePayStubEntryAccount(t,s,r,{onResult:function(c){var n=c.getResult();n?(e.onCloseClick(),e.call_back&&e.call_back()):TAlertManager.showErrorAlert(c)}})}setCurrentStepValues(){if(this.stepsDataDic[this.current_step])var e=this.stepsDataDic[this.current_step],t=this.stepsWidgetDic[this.current_step];else return;switch(this.current_step){case 1:break;case 2:e.src_ids&&t.src_ids.setValue(e.src_ids),e.dst_id&&t.dst_id.setValue(e.dst_id),e.effective_date&&t.effective_date.setValue(e.effective_date);break}}saveCurrentStep(){this.stepsDataDic[this.current_step]={};var e=this.stepsDataDic[this.current_step],t=this.stepsWidgetDic[this.current_step];switch(this.current_step){case 1:break;case 2:e.src_ids=t.src_ids.getValue(),e.dst_id=t.dst_id.getValue(),e.effective_date=t.effective_date.getValue();break}}}export{l as PayStubAccountWizardController};
//# sourceMappingURL=PayStubAccountWizardController-DUmrJJTu.bundle.js.map
