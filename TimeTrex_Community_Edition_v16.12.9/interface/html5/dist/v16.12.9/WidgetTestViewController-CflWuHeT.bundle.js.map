{"version":3,"file":"WidgetTestViewController-CflWuHeT.bundle.js","sources":["../../views/developer_tools/WidgetTestViewController.js"],"sourcesContent":["import '@/global/widgets/filebrowser/TImage';\nimport '@/global/widgets/filebrowser/TImageAdvBrowser';\nimport '@/global/widgets/color-picker/TColorPicker';\nimport { SwitchButtonIcon } from '@/global/widgets/switch_button/SwitchButton';\n\nexport class WidgetTestViewController extends BaseViewController {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {\n\t\t\tel: '#awesomebox_test_view_container',\n\n\t\t\t// _required_files: [\n\t\t\t// \t'TColorPicker',\n\t\t\t// \t'TImage',\n\t\t\t// \t'TImageAdvBrowser'\n\t\t\t// ],\n\n\t\t\tuser_api: null,\n\t\t\tuser_group_api: null,\n\t\t\tcompany_api: null,\n\t\t\tuser_id_array: null\n\t\t} );\n\n\t\tsuper( options );\n\t}\n\n\tinit( options ) {\n\t\tthis.edit_view_tpl = 'WidgetTestEditView.html';\n\t\tthis.permission_id = 'user';\n\t\tthis.viewId = 'WidgetTest';\n\t\tthis.script_name = 'WidgetTest';\n\t\tthis.table_name_key = 'awesomebox_test';\n\t\tthis.context_menu_name = $.i18n._( 'Widget Test' );\n\t\tthis.navigation_label = $.i18n._( 'Widget Test' );\n\t\tthis.api = TTAPI.APIUser;\n\t\tthis.select_company_id = LocalCacheData.getCurrentCompany().id;\n\t\tthis.user_group_api = TTAPI.APIUserGroup;\n\t\tthis.company_api = TTAPI.APICompany;\n\t\tthis.user_id_array = [];\n\n\t\tthis.render();\n\t\tthis.buildContextMenu();\n\t\tthis.initData();\n\t}\n\n\tsetCurrentEditRecordData() {\n\t\tthis.collectUIDataToCurrentEditRecord();\n\t\tthis.setEditViewDataDone();\n\t}\n\n\tclearEditViewData() {\n\t\treturn false;\n\t}\n\n\tbuildEditViewUI() {\n\t\tvar $this = this;\n\n\t\tif( ContextMenuManager.getMenu( this.determineContextMenuMountAttributes().id ) === undefined ) {\n\t\t\tthis.buildContextMenu();\n\t\t} else {\n\t\t\tDebug.Warn( 'Context Menu ('+ this.determineContextMenuMountAttributes().id +') already exists for: '+ this.viewId, 'AwesomeBoxTestView.js', 'AwesomeBoxTestView', 'buildEditViewUI', 10 );\n\t\t}\n\n\t\tvar tab_model = {\n\t\t\t'tab_employee': { 'label': $.i18n._( 'Employee' ) },\n\t\t};\n\t\tthis.setTabModel( tab_model );\n\n\t\t//Tab 0 start\n\n\t\tvar tab_employee = this.edit_view_tab.find( '#tab_employee' );\n\n\t\tvar tab_employee_column1 = tab_employee.find( '.first-column' );\n\t\tvar tab_employee_column2 = tab_employee.find( '.second-column' );\n\n\t\tthis.edit_view_tabs[0] = [];\n\t\tthis.edit_view_tabs[0].push( tab_employee_column1 );\n\n\t\tvar form_item_input = Global.loadWidgetByName( FormItemType.SEPARATED_BOX );\n\t\tform_item_input.SeparatedBox( { label: $.i18n._( 'Separated_box: if you see this, the test is passing.' ) } );\n\t\tthis.addEditFieldToColumn( null, form_item_input, tab_employee_column1 );\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.CHECKBOX );\n\t\tform_item_input.TCheckbox( { field: 'checkbox' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'TCheckbox' ), form_item_input, tab_employee_column1, '' );\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.COLOR_PICKER );\n\t\tform_item_input.TColorPicker( { field: 'color_picker' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'TColorPicker' ), form_item_input, tab_employee_column1 );\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.DATE_PICKER );\n\t\tform_item_input.TDatePicker( { field: 'datepicker' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'TDatePicker' ), form_item_input, tab_employee_column1, '', null );\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.DATE_PICKER );\n\t\tform_item_input.TRangePicker( { field: 'daterange', validation_field: 'date_stamp' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'TDateRange' ), form_item_input, tab_employee_column1, '', null, true );\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TIME_PICKER );\n\t\tform_item_input.TTimePicker( { field: 'timepicker' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'TTimePicker' ), form_item_input, tab_employee_column1 );\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.IMAGE_AVD_BROWSER );\n\t\tthis.file_browser = form_item_input.TImageAdvBrowser( {\n\t\t\tfield: 'imagebrowser',\n\t\t\tdefault_width: 128,\n\t\t\tdefault_height: 128,\n\t\t\tenable_delete: true,\n\t\t\tcallBack: function( form_data ) {\n\t\t\t\tnew ServiceCaller().uploadFile( form_data, 'object_type=user_photo&object_id=' + $this.current_edit_record.id, {\n\t\t\t\t\tonResult: function( result ) {\n\n\t\t\t\t\t\tif ( result.toLowerCase() === 'true' ) {\n\t\t\t\t\t\t\t$this.file_browser.setImage( ServiceCaller.getURLByObjectType( 'user_photo' ) + '&object_id=' + $this.current_edit_record.id );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tTAlertManager.showAlert( result, 'Error' );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t},\n\t\t\tdeleteImageHandler: function( e ) {\n\t\t\t\t$this.onDeleteImage();\n\t\t\t}\n\t\t} );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'TImageAdvBrowser' ), this.file_browser, tab_employee_column1, '', null, false, true );\n\n\t\tGlobal.loadScript( 'global/widgets/formula_builder/FormulaBuilder.js', function() {\n\t\t\t// Dynamic Field 11\n\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.FORMULA_BUILDER );\n\t\t\tform_item_input.FormulaBuilder( {\n\t\t\t\tfield: 'formula', width: '100%', onFormulaBtnClick: function() {\n\n\t\t\t\t\tvar custom_column_api = TTAPI.APIReportCustomColumn;\n\n\t\t\t\t\tcustom_column_api.getOptions( 'formula_functions', {\n\t\t\t\t\t\tonResult: function( fun_result ) {\n\t\t\t\t\t\t\tvar fun_res_data = fun_result.getResult();\n\n\t\t\t\t\t\t\t$this.api.getOptions( 'formula_variables', { onResult: onColumnsResult } );\n\n\t\t\t\t\t\t\tfunction onColumnsResult( col_result ) {\n\t\t\t\t\t\t\t\tvar col_res_data = col_result.getResult();\n\n\t\t\t\t\t\t\t\tvar default_args = {};\n\t\t\t\t\t\t\t\tdefault_args.functions = Global.buildRecordArray( fun_res_data );\n\t\t\t\t\t\t\t\tdefault_args.variables = Global.buildRecordArray( col_res_data );\n\t\t\t\t\t\t\t\tdefault_args.formula = $this.current_edit_record.company_value1;\n\t\t\t\t\t\t\t\tdefault_args.current_edit_record = Global.clone( $this.current_edit_record );\n\t\t\t\t\t\t\t\tdefault_args.api = $this.api;\n\n\t\t\t\t\t\t\t\tIndexViewController.openWizard( 'FormulaBuilderWizard', default_args, function( val ) {\n\t\t\t\t\t\t\t\t\t$this.current_edit_record.company_value1 = val;\n\t\t\t\t\t\t\t\t\t$this.edit_view_ui_dic.df_11.setValue( val );\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\t\t\t$this.detachElement( 'df_11' );\n\t\t\t$this.addEditFieldToColumn( 'FormulaBuilder', form_item_input, tab_employee_column1, '', null, true );\n\t\t\tform_item_input.parent().width( '45%' );\n\t\t} );\n\n\t\t//NO INSTANCES OF TList\n\n\t\t//Create action switch buttons\n\t\tvar action_chooser_div = $( '.control-bar .action-chooser-div' );\n\t\tthis.all_employee_btn = action_chooser_div.find( '#all_employee' );\n\t\tthis.daily_totals_btn = action_chooser_div.find( '#daily_totals' );\n\t\tthis.weekly_totals_btn = action_chooser_div.find( '#weekly_totals' );\n\t\tthis.strict_range_btn = action_chooser_div.find( '#strict_range' );\n\t\tthis.all_employee_btn = this.all_employee_btn.SwitchButton( {\n\t\t\ticon: SwitchButtonIcon.all_employee,\n\t\t\ttooltip: $.i18n._( 'Show Unscheduled Employees' )\n\t\t} );\n\t\tthis.daily_totals_btn = this.daily_totals_btn.SwitchButton( {\n\t\t\ticon: SwitchButtonIcon.daily_total,\n\t\t\ttooltip: $.i18n._( 'Daily Totals' )\n\t\t} );\n\t\tthis.weekly_totals_btn = this.weekly_totals_btn.SwitchButton( {\n\t\t\ticon: SwitchButtonIcon.weekly_total,\n\t\t\ttooltip: $.i18n._( 'Weekly Totals' )\n\t\t} );\n\t\tthis.strict_range_btn = this.strict_range_btn.SwitchButton( {\n\t\t\ticon: SwitchButtonIcon.strict_range,\n\t\t\ttooltip: $.i18n._( 'Strict Range' )\n\t\t} );\n\t\tthis.all_employee_btn.click( function() {\n\t\t\t// $this.onShowEmployeeClick();\n\t\t} );\n\t\tthis.daily_totals_btn.click( function() {\n\t\t\t// $this.onDailyTotalsClick();\n\t\t} );\n\t\tthis.weekly_totals_btn.click( function() {\n\t\t\t// $this.onWeeklyTotalClick();\n\t\t} );\n\t\tthis.strict_range_btn.setValue( true );\n\t\tthis.strict_range_btn.click( function() {\n\t\t\t// $this.onStrictRangeClick();\n\t\t} );\n\t\tthis.toggle_button = $( this.el ).find( '.toggle-button-div' );\n\t\tvar data_provider = [\n\t\t\t{ label: $.i18n._( 'Day' ), value: 'day' },\n\t\t\t{ label: $.i18n._( 'Week' ), value: 'week' },\n\t\t\t{ label: $.i18n._( 'Month' ), value: 'month' },\n\t\t\t{ label: $.i18n._( 'Year' ), value: 'year' }\n\t\t];\n\n\t\tthis.toggle_button = this.toggle_button.TToggleButton( { data_provider: data_provider } );\n\t\tthis.toggle_button.bind( 'change', function( e, result ) {\n\t\t\t$this.scroll_position = 0;\n\t\t\t$this.select_all_shifts_array = [];\n\t\t\t$this.select_shifts_array = [];\n\t\t\t$this.select_recurring_shifts_array = [];\n\t\t} );\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TAG_INPUT );\n\t\tform_item_input.TTagInput( { field: 'tags', object_type_id: 930 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'TTagInput' ), form_item_input, tab_employee_column2, '', null, null, true );\n\n\t\t//requires width manipulation or intermittently won't show.\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\tform_item_input.TTextInput( { field: 'text', width: '100%' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'TText' ), form_item_input, tab_employee_column2 );\n\t\tform_item_input.parent().width( '45%' );\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.PASSWORD_INPUT );\n\t\tform_item_input.TPasswordInput( { field: 'password', width: 200 } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'TPasswordInput' ), form_item_input, tab_employee_column2 );\n\n\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_AREA );\n\t\tform_item_input.TTextArea( { field: 'textarea' } );\n\t\tthis.addEditFieldToColumn( $.i18n._( 'TTextArea' ), form_item_input, tab_employee_column2, '', null, null, true );\n\t}\n\n\tbuildSearchFields() {\n\t\tsuper.buildSearchFields();\n\t\tvar $this = this;\n\t\tthis.search_fields = [];\n\t}\n\n\tgetCustomContextMenuModel() {\n\t\tvar context_menu_model = {\n\t\t\texclude: ['default'],\n\t\t\tinclude: [\n\t\t\t\t'edit',\n\t\t\t\t'cancel'\n\t\t\t]\n\t\t};\n\n\t\treturn context_menu_model;\n\t}\n\n\t//override that forces same data to grid at all times.\n\tsearch() {\n\t\tvar $this = this;\n\t\tthis.api.getUser( {}, true, {\n\t\t\tonResult: function( r ) {\n\t\t\t\tvar result_data = r.getResult();\n\t\t\t\t$this.user_id_array = result_data;\n\t\t\t\tresult_data = $this.processResultData( result_data );\n\t\t\t\t$this.grid.setData( result_data );\n\t\t\t\t$this.grid.setGridColumnsWidth();\n\t\t\t\t$this.onEditClick( result_data[0].id );\n\t\t\t}\n\t\t} );\n\t}\n\n\tsetEditViewDataDone() {\n\t\tvar $this = this;\n\t\tsetTimeout( function() {\n\t\t\tTAlertManager.showConfirmAlert( $.i18n._( 'Run tests?' ), null, function( result ) {\n\t\t\t\tif ( result == true ) {\n\t\t\t\t\t$this.runTests();\n\t\t\t\t}\n\t\t\t} );\n\t\t\t$this.setTabOVisibility( true );\n\t\t\t$( '.edit-view-tab-bar' ).css( 'opacity', 1 );\n\t\t\tTTPromise.resolve( 'init', 'init' );\n\t\t}, 2500 );\n\n\t\tsuper.setEditViewDataDone();\n\t}\n\n\trunTests() {\n\t\tvar $this = this;\n\t\tif ( $( '#qunit_script' ).length == 0 ) {\n\t\t\t$( '<script id=\\'qunit_script\\' src=\\'framework/qunit/qunit.js\\'></script>' ).appendTo( 'head' );\n\t\t\t$( '<link rel=\\'stylesheet\\' type=\\'text/css\\' href=\\'framework/qunit/qunit.css\\'>' ).appendTo( 'head' );\n\t\t}\n\t\t;\n\n\t\tQUnit.config.autostart = false;\n\t\t$( '#qunit_container' ).css( 'width', '100%' );\n\t\t$( '#qunit_container' ).css( 'height', 'auto' );\n\t\t$( '#qunit_container' ).css( 'overflow-y', 'scroll' );\n\t\t$( '#qunit_container' ).css( 'top', '0px' );\n\t\t$( '#qunit_container' ).css( 'left', '0px' );\n\t\t$( '#qunit_container' ).css( 'z-index', '100' );\n\t\t$( '#qunit_container' ).css( 'background', '#fff' );\n\t\t$( '#qunit_container' ).show();\n\n\t\t$( '#tt_debug_console' ).remove();\n\t\tif ( !window.qunit_initiated ) {\n\t\t\twindow.qunit_initiated = true;\n\t\t\t//QUnit.start(); //This causes a JavaScript exception, but does not seem to be required. Test ran without it.\n\t\t}\n\n\t\t//select an item by clicking a td in the last row\n\t\tQUnit.module( 'Widgets' );\n\t\tthis.testCheckbox();\n\t\tthis.testColorPicker();\n\n\t\tTTPromise.add( 'datetests', 'picker' );\n\t\tTTPromise.add( 'datetests', 'range' );\n\t\tthis.testDatePicker();\n\t\tthis.testDateRange();\n\t\t//as timepicker is a date picker with alt options enabled, it must be triggered after the date tests are done or the selectors will collide and possibly provide false positives\n\t\tTTPromise.wait( 'datetests', null, function() {\n\t\t\t$this.testTimePicker();\n\t\t} );\n\n\t\tTTPromise.add( 'wizardtests', 'imagebrowser' );\n\t\tthis.testImageBrowser();\n\t\tTTPromise.wait( 'wizardtests', 'imagebrowser', function() {\n\t\t\t$this.testFormulaBuilder();\n\t\t} );\n\n\t\tTTPromise.wait( 'null', 'null', function() {\n\t\t\t$this.testTags();\n\t\t} );\n\n\t\tthis.testButtons();\n\t\tthis.testText();\n\t\tthis.testPassword();\n\t\tthis.testTextarea();\n\n\t\t//Extra tests that should be added to test non-form widgets\n\t\t//todo: TAlert\n\t\t//todo: inside_editor\n\t\t//todo: error tips\n\t\t//todo: test feedback widget\n\t\t//todo: live_chat\n\t\t//todo: paging\n\t\t//todo: search_panel\n\t\t//todo: top_notification\n\t\t//todo: view_min_tab\n\t}\n\n\ttestCheckbox() {\n\t\tvar $this = this;\n\t\tQUnit.test( 'Checkbox tests', function( assert ) {\n\t\t\tvar cb = $this.edit_view_ui_dic.checkbox;\n\t\t\tassert.ok( cb.getValue() == false, 'checkbox not checked' );\n\t\t\tcb.setValue( true );\n\t\t\tassert.ok( cb.getValue(), 'checkbox checked via code' );\n\t\t\tcb.setValue( false );\n\t\t\tassert.ok( cb.getValue() == false, 'checkbox unchecked via code' );\n\t\t\t$( cb ).click();\n\t\t\tassert.ok( cb.getValue(), 'checkbox checked via click' );\n\t\t\t$( cb ).click();\n\t\t\tassert.ok( cb.getValue() == false, 'checkbox unchecked via click' );\n\t\t} );\n\t}\n\n\ttestColorPicker() {\n\t\tvar $this = this;\n\t\tQUnit.test( 'ColorPicker tests', function( assert ) {\n\t\t\tvar done_testing = assert.async();\n\t\t\tvar widget = $this.edit_view_ui_dic.color_picker;\n\t\t\tassert.ok( widget.getValue() == '', 'widget empty' );\n\t\t\t$( widget ).click();\n\n\t\t\tsetTimeout( function() {\n\t\t\t\t$( '.cp-color-picker' ).hide();\n\t\t\t\tassert.ok( widget.getValue() == 'FFFFFF', 'widget white after no select: ' + widget.getValue() );\n\t\t\t\twidget.setValue( 'FF0000' );\n\t\t\t\tassert.ok( widget.getValue() == 'FF0000', 'widget red after set value programatically' + widget.getValue() );\n\n\t\t\t\t$( widget ).click();\n\t\t\t\t//there's no color selection by click because it's based on mouseup and mousedown events which can't be simulated at specific coordinates\n\n\t\t\t\t$( '.cp-color-picker' ).hide();\n\t\t\t\tdone_testing();\n\t\t\t}, 1000 );\n\t\t} );\n\t}\n\n\ttestDatePicker() {\n\t\tvar $this = this;\n\t\tQUnit.test( 'DatePicker tests', function( assert ) {\n\t\t\tvar done_testing = assert.async();\n\t\t\tvar widget = $this.edit_view_ui_dic.datepicker;\n\t\t\tassert.ok( widget.getValue() == '', 'widget empty' );\n\t\t\tsetTimeout( function() {\n\t\t\t\twidget.find( '#tDatePickerIcon' ).trigger( 'mouseup' );\n\t\t\t\tassert.ok( ( $( '#ui-datepicker-div:visible' ).length > 0 ), 'calendar visible after click' );\n\t\t\t\t$( $( '#ui-datepicker-div .ui-datepicker-calendar td' )[15] ).click();\n\t\t\t\tsetTimeout( function() {\n\t\t\t\t\tassert.ok( ( $( '#ui-datepicker-div:visible' ).length == 0 ), 'calendar invisible after date selection' );\n\t\t\t\t\tassert.ok( widget.getValue() != '', 'value is not blank' );\n\t\t\t\t\tTTPromise.resolve( 'datetests', 'picker' );\n\n\t\t\t\t\tdone_testing();\n\t\t\t\t}, 1000 );\n\t\t\t}, 1000 );\n\t\t} );\n\t}\n\n\ttestDateRange() {\n\t\tvar $this = this;\n\t\tQUnit.test( 'DateRange tests', function( assert ) {\n\t\t\tvar done_testing = assert.async();\n\t\t\tvar widget = $this.edit_view_ui_dic.daterange;\n\t\t\tassert.ok( typeof widget.getValue() == 'undefined', 'widget empty ' + widget.getValue() );\n\t\t\twidget.find( '#tDatePickerIcon' ).trigger( 'mouseup' );\n\t\t\tsetTimeout( function() {\n\t\t\t\tassert.ok( ( $( '.t-range-picker-div:visible' ).length > 0 ), 'calendar visible after click' );\n\t\t\t\t$( $( '.t-range-picker-div .end-picker td' )[15] ).click();\n\t\t\t\t$( '.t-range-picker-div .close-icon' ).click();\n\t\t\t\tsetTimeout( function() {\n\t\t\t\t\tassert.ok( ( $( '.t-range-picker-div:visible' ).length == 0 ), 'calendar invisible after closing' );\n\t\t\t\t\tassert.ok( widget.getValue() != '', 'value is not blank' );\n\t\t\t\t\tdone_testing();\n\t\t\t\t\tTTPromise.resolve( 'datetests', 'range' );\n\t\t\t\t}, 1000 );\n\t\t\t}, 1000 );\n\t\t} );\n\t}\n\n\ttestTimePicker() {\n\t\tvar $this = this;\n\t\tQUnit.test( 'TimePicker tests', function( assert ) {\n\t\t\tvar widget = $this.edit_view_ui_dic.timepicker;\n\t\t\tassert.ok( widget.getValue() == '', 'widget empty: ' + widget.getValue() );\n\t\t\twidget.find( '#tTimePickerIcon' ).trigger( 'mouseup' );\n\t\t\tassert.ok( ( $( '#ui-datepicker-div:visible' ).length > 0 ), 'timepicker widget visible after click' );\n\t\t\t$( '#ui-datepicker-div:visible button[data-handler=\"today\"]' ).click();\n\t\t\tassert.ok( ( $( '#ui-datepicker-div:visible' ).length > 0 ), 'timepicker widget visible after now click' );\n\t\t\t$( '#ui-datepicker-div:visible button[data-handler=\"hide\"]' ).click();\n\t\t\tassert.ok( ( $( '#ui-datepicker-div:visible' ).length == 0 ), 'timepicker widget gone clicking close button' );\n\t\t\tassert.ok( widget.getValue() != '', 'value is not blank' );\n\t\t} );\n\t}\n\n\ttestImageBrowser() {\n\t\tvar $this = this;\n\t\tTTPromise.add( '' );\n\t\tQUnit.test( 'ImageBrowser tests', function( assert ) {\n\t\t\tvar done_testing = assert.async();\n\t\t\tvar widget = $this.edit_view_ui_dic.imagebrowser;\n\t\t\tassert.ok( typeof widget.getValue() == 'undefined', 'widget empty: ' + widget.getValue() );\n\t\t\twidget.find( '#upload_image' ).click();\n\t\t\tsetTimeout( function() {\n\t\t\t\tassert.ok( $( '.wizard:visible' ).length > 0, 'wizard visible' );\n\t\t\t\t$( '.wizard:visible .close-btn' ).click();\n\t\t\t\tassert.ok( $( '.wizard:visible' ).length == 0, 'wizard invisible' );\n\t\t\t\tdone_testing();\n\t\t\t\tTTPromise.resolve( 'wizardtests', 'imagebrowser' );\n\t\t\t}, 1000 );\n\t\t} );\n\t}\n\n\ttestFormulaBuilder() {\n\t\tvar $this = this;\n\t\tQUnit.test( 'FormulaBuilder tests', function( assert ) {\n\t\t\tvar done_testing = assert.async();\n\t\t\tvar widget = $this.edit_view_ui_dic.formula;\n\t\t\tassert.ok( widget.getValue() == '', 'widget empty: ' + widget.getValue() );\n\t\t\twidget.find( '.t-button.formula-btn' ).click();\n\t\t\tsetTimeout( function() {\n\t\t\t\tassert.ok( $( '.wizard:visible' ).length > 0, 'wizard visible' );\n\t\t\t\t$( '.wizard:visible .close-btn' ).click();\n\t\t\t\tassert.ok( $( '.wizard:visible' ).length == 0, 'wizard invisible' );\n\t\t\t\tdone_testing();\n\t\t\t}, 1000 );\n\t\t} );\n\t}\n\n\ttestButtons() {\n\t\tvar $this = this;\n\t\tQUnit.test( 'TotalButtons tests', function( assert ) {\n\t\t\tvar done_testing = assert.async();\n\n\t\t\tvar all_employee_btn = $( '.control-bar .action-chooser-div #all_employee .all-employee' );\n\t\t\tvar daily_totals_btn = $( '.control-bar .action-chooser-div #daily_totals .daily' );\n\t\t\tvar weekly_totals_btn = $( '.control-bar .action-chooser-div #weekly_totals .weekly' );\n\t\t\tvar strict_range_btn = $( '.control-bar .action-chooser-div #strict_range .strict-range' );\n\n\t\t\tassert.ok( strict_range_btn.hasClass( 'selected' ), 'strict range starts selected' );\n\t\t\tassert.ok( daily_totals_btn.hasClass( 'selected' ) == false, 'daily totals starts unselected' );\n\t\t\tassert.ok( weekly_totals_btn.hasClass( 'selected' ) == false, 'week total starts unselected' );\n\t\t\tassert.ok( all_employee_btn.hasClass( 'selected' ) == false, 'all employees starts unselected' );\n\n\t\t\tstrict_range_btn.click();\n\t\t\tsetTimeout( function() {\n\t\t\t\tassert.ok( strict_range_btn.hasClass( 'selected' ) == false, 'strict range unselects on click' );\n\t\t\t\tdaily_totals_btn.click();\n\t\t\t\tsetTimeout( function() {\n\t\t\t\t\tassert.ok( daily_totals_btn.hasClass( 'selected' ), 'daily_totals_btn selects on click' );\n\t\t\t\t\tweekly_totals_btn.click();\n\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\tassert.ok( weekly_totals_btn.hasClass( 'selected' ), 'weekly_totals_btn selects on click' );\n\t\t\t\t\t\tall_employee_btn.click();\n\t\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\t\tassert.ok( all_employee_btn.hasClass( 'selected' ), 'all_employee_btn selects on click' );\n\t\t\t\t\t\t\tstrict_range_btn.click();\n\t\t\t\t\t\t\tdaily_totals_btn.click();\n\t\t\t\t\t\t\tweekly_totals_btn.click();\n\t\t\t\t\t\t\tall_employee_btn.click();\n\t\t\t\t\t\t\tsetTimeout( function() {\n\n\t\t\t\t\t\t\t\t//back to initial state\n\t\t\t\t\t\t\t\tassert.ok( strict_range_btn.hasClass( 'selected' ), 'strict range starts selected' );\n\t\t\t\t\t\t\t\tassert.ok( daily_totals_btn.hasClass( 'selected' ) == false, 'daily totals starts unselected' );\n\t\t\t\t\t\t\t\tassert.ok( weekly_totals_btn.hasClass( 'selected' ) == false, 'week total starts unselected' );\n\t\t\t\t\t\t\t\tassert.ok( all_employee_btn.hasClass( 'selected' ) == false, 'all employees starts unselected' );\n\t\t\t\t\t\t\t\tdone_testing();\n\t\t\t\t\t\t\t}, 1500 );\n\t\t\t\t\t\t}, 1500 );\n\t\t\t\t\t}, 1500 );\n\t\t\t\t}, 1500 );\n\t\t\t}, 1500 );\n\t\t} );\n\t}\n\n\ttestTags() {\n\t\tvar $this = this;\n\t\tQUnit.test( 'Tags tests', function( assert ) {\n\t\t\tvar done_testing = assert.async();\n\t\t\tvar el = $this.edit_view_ui_dic.tags.find( 'input.add-tag-input' );\n\t\t\tvar val = $this.edit_view_ui_dic.tags.getValue();\n\t\t\tassert.ok( val == '', 'starts empty ' + val );\n\n\t\t\tel.focus();\n\t\t\t$( el ).val( 'test1' );\n\t\t\t$( el ).trigger( { type: 'keydown', which: 32, keyCode: 32 } );\n\t\t\t$( el ).val( 'test2' );\n\t\t\t$( el ).trigger( { type: 'keydown', which: 32, keyCode: 32 } );\n\n\t\t\tsetTimeout( function() {\n\t\t\t\tvar val = $this.edit_view_ui_dic.tags.getValue();\n\t\t\t\tassert.ok( val == 'test1,test2', '2 tags entered and return in value: ' + val );\n\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t//click the x's to remove them\n\t\t\t\t\t$( '.tag-span-div .close-btn' ).click();\n\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\tvar val = $this.edit_view_ui_dic.tags.getValue();\n\t\t\t\t\t\tassert.ok( val == '-test1,-test2', '2 tags entered and return (subtracted) in value: ' + val );\n\t\t\t\t\t\tdone_testing();\n\t\t\t\t\t}, 1000 );\n\t\t\t\t}, 1000 );\n\t\t\t}, 1000 );\n\t\t} );\n\t}\n\n\ttestText() {\n\t\tvar $this = this;\n\t\tQUnit.test( 'Text test', function( assert ) {\n\t\t\t//var done_testing = assert.async();\n\t\t\tvar textbox = $this.edit_view_ui_dic.text;\n\t\t\ttextbox.setValue( 'testing textbox' );\n\t\t\tassert.ok( textbox.getValue() == 'testing textbox', 'accepts text and returns value' );\n\t\t\ttextbox.setValue( '' );\n\t\t\tassert.ok( textbox.getValue() == '', 'returned value updates when text is updated' );\n\t\t} );\n\t}\n\n\ttestPassword() {\n\t\tvar $this = this;\n\t\tQUnit.test( 'Password box test', function( assert ) {\n\t\t\t//var done_testing = assert.async();\n\t\t\tvar textbox = $this.edit_view_ui_dic.password;\n\t\t\ttextbox.setValue( 'testing textbox' );\n\t\t\tassert.ok( textbox.getValue() == 'testing textbox', 'accepts text and returns value' );\n\t\t\ttextbox.setValue( '' );\n\t\t\tassert.ok( textbox.getValue() == '', 'returned value updates when text is updated' );\n\t\t} );\n\t}\n\n\ttestTextarea() {\n\t\tvar $this = this;\n\t\tQUnit.test( 'Password box test', function( assert ) {\n\t\t\t//var done_testing = assert.async();\n\t\t\tvar textbox = $this.edit_view_ui_dic.textarea;\n\t\t\ttextbox.setValue( 'testing textbox' );\n\t\t\tassert.ok( textbox.getValue() == 'testing textbox', 'accepts text and returns value' );\n\t\t\ttextbox.setValue( '' );\n\t\t\tassert.ok( textbox.getValue() == '', 'returned value updates when text is updated' );\n\t\t} );\n\t}\n\n}"],"names":["WidgetTestViewController","options","_","$","$this","tab_model","tab_employee","tab_employee_column1","tab_employee_column2","form_item_input","form_data","result","e","custom_column_api","fun_result","fun_res_data","onColumnsResult","col_result","col_res_data","default_args","val","action_chooser_div","SwitchButtonIcon","data_provider","context_menu_model","r","result_data","assert","cb","done_testing","widget","all_employee_btn","daily_totals_btn","weekly_totals_btn","strict_range_btn","el","textbox"],"mappings":"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"}