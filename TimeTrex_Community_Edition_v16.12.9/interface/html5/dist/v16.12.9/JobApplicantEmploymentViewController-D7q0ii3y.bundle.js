import{_ as r,j as o}from"./vendor-tTApdY0Y.bundle.js";class _ extends BaseViewController{constructor(t={}){r.defaults(t,{el:"#job_applicant_employment_view_container",country_array:null,province_array:null,e_province_array:null,i_province_array:null,employment_status_array:null,wage_type_array:null,company_api:null,sub_view_grid_autosize:!0,sub_view_mode:!0}),super(t)}initOptions(){var t=[{option_name:"employment_status",api:this.api},{option_name:"wage_type",api:this.api},{option_name:"country",field_name:"country",api:this.company_api}];this.initDropDownOptions(t)}showNoResultCover(t){super.showNoResultCover(!!this.sub_view_mode)}onAddClick(){this.sub_view_mode&&this.buildContextMenu(!0),super.onAddClick()}init(t){this.edit_view_tpl="JobApplicantEmploymentEditView.html",this.permission_id="job_applicant",this.viewId="JobApplicantEmployment",this.script_name="JobApplicantEmploymentView",this.table_name_key="job_applicant_employment",this.context_menu_name=o.i18n._("Employment"),this.navigation_label=o.i18n._("Job Applicant Employment"),this.api=TTAPI.APIJobApplicantEmployment,this.company_api=TTAPI.APICompany,this.render(),this.sub_view_mode||this.initData()}buildEditViewUI(){super.buildEditViewUI();var t=this,n={tab_job_applicant_employment:{label:o.i18n._("Job Applicant Employment"),is_multi_column:!0},tab_audit:!0};this.setTabModel(n),this.navigation.AComboBox({api_class:TTAPI.APIJobApplicantEmployment,id:this.script_name+"_navigation",allow_multiple_selection:!1,layout_name:"global_job_applicant_employment",navigation_mode:!0,show_search_inputs:!0}),this.setNavigation();var a=this.edit_view_tab.find("#tab_job_applicant_employment"),i=a.find(".first-column"),l=a.find(".second-column");this.edit_view_tabs[0]=[],this.edit_view_tabs[0].push(i),this.edit_view_tabs[0].push(l);var e;e=Global.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"company_name",width:"100%"}),this.addEditFieldToColumn(o.i18n._("Company Name"),e,i,""),e.parent().width("45%"),e=Global.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"title",width:200}),this.addEditFieldToColumn(o.i18n._("Title"),e,i),e=Global.loadWidgetByName(FormItemType.TEXT_AREA),e.TTextArea({field:"description"}),this.addEditFieldToColumn(o.i18n._("Description"),e,i,"",null,null,!0),e=Global.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"address1",width:"100%"}),this.addEditFieldToColumn(o.i18n._("Address (Line 1)"),e,i),e.parent().width("45%"),e=Global.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"address2",width:"100%"}),this.addEditFieldToColumn(o.i18n._("Address (Line 2)"),e,i),e.parent().width("45%"),e=Global.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"city",width:200}),this.addEditFieldToColumn(o.i18n._("City"),e,i),e=Global.loadWidgetByName(FormItemType.COMBO_BOX),e.TComboBox({field:"country",set_empty:!0}),e.setSourceData(t.country_array),this.addEditFieldToColumn(o.i18n._("Country"),e,i),e=Global.loadWidgetByName(FormItemType.COMBO_BOX),e.TComboBox({field:"province"}),e.setSourceData([]),this.addEditFieldToColumn(o.i18n._("Province/State"),e,i),e=Global.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"postal_code",width:90}),this.addEditFieldToColumn(o.i18n._("Postal/ZIP Code"),e,i),e=Global.loadWidgetByName(FormItemType.COMBO_BOX),e.TComboBox({field:"employment_status_id"}),e.setSourceData(t.employment_status_array),this.addEditFieldToColumn(o.i18n._("Employment Status"),e,i),e=Global.loadWidgetByName(FormItemType.COMBO_BOX),e.TComboBox({field:"wage_type_id"}),e.setSourceData(t.wage_type_array),this.addEditFieldToColumn(o.i18n._("Wage Type"),e,i),e=Global.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"wage",width:50}),this.addEditFieldToColumn(o.i18n._("Wage"),e,i),e=Global.loadWidgetByName(FormItemType.DATE_PICKER),e.TDatePicker({field:"start_date"}),this.addEditFieldToColumn(o.i18n._("Start Date"),e,i),e=Global.loadWidgetByName(FormItemType.DATE_PICKER),e.TDatePicker({field:"end_date"}),this.addEditFieldToColumn(o.i18n._("End Date"),e,i),e=Global.loadWidgetByName(FormItemType.CHECKBOX),e.TCheckbox({field:"is_current_employer"}),this.addEditFieldToColumn(o.i18n._("Current Employer"),e,l,""),e=Global.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"contact_first_name",width:200}),this.addEditFieldToColumn(o.i18n._("Contact First Name"),e,l),e=Global.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"contact_last_name",width:200}),this.addEditFieldToColumn(o.i18n._("Contact Last Name"),e,l),e=Global.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"contact_title",width:200}),this.addEditFieldToColumn(o.i18n._("Contact Title"),e,l),e=Global.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"contact_work_phone",width:200}),this.addEditFieldToColumn(o.i18n._("Contact Work Phone"),e,l),e=Global.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"contact_mobile_phone",width:200}),this.addEditFieldToColumn(o.i18n._("Contact Mobile Phone"),e,l),e=Global.loadWidgetByName(FormItemType.TEXT_INPUT),e.TTextInput({field:"contact_work_email",width:200}),this.addEditFieldToColumn(o.i18n._("Contact Work Email"),e,l),e=Global.loadWidgetByName(FormItemType.CHECKBOX),e.TCheckbox({field:"is_contact_available"}),this.addEditFieldToColumn(o.i18n._("May we contact this person/employer"),e,l),e=Global.loadWidgetByName(FormItemType.TEXT_AREA),e.TTextArea({field:"leave_reason"}),this.addEditFieldToColumn(o.i18n._("Reason for leaving"),e,l,"",null,null,!0),e=Global.loadWidgetByName(FormItemType.TAG_INPUT),e.TTagInput({field:"tag",object_type_id:380}),this.addEditFieldToColumn(o.i18n._("Tags"),e,l,"",null,null,!0)}onFormItemChange(t,n){this.setIsChanged(t),this.setMassEditingFieldsWhenFormChange(t);var a=t.getField();switch(this.current_edit_record[a]=t.getValue(),a){case"country":var i=this.edit_view_ui_dic.province;i.setValue(null);break}if(a==="country"){this.onCountryChange();return}n||this.validate()}setCurrentEditRecordData(){for(var t in this.current_edit_record){var n=this.edit_view_ui_dic[t];if(Global.isSet(n))switch(t){case"country":this.setCountryValue(n,t);break;default:n.setValue(this.current_edit_record[t]);break}}this.collectUIDataToCurrentEditRecord(),this.setEditViewDataDone()}setProvince(t,n){var a=this;!t||t==="-1"||t==="0"?(a.province_array=[],this.adv_search_field_ui_dic.province.setSourceData([])):this.company_api.getOptions("province",t,{onResult:function(i){i=i.getResult(),i||(i=[]),a.province_array=Global.buildRecordArray(i),a.adv_search_field_ui_dic.province.setSourceData(a.province_array)}})}eSetProvince(t,n){var a=this,i=a.edit_view_ui_dic.province;!t||t==="-1"||t==="0"?(a.e_province_array=[],i.setSourceData([])):this.company_api.getOptions("province",t,{onResult:function(l){l=l.getResult(),l||(l=[]),a.e_province_array=Global.buildRecordArray(l),n&&a.e_province_array.length>0&&(a.current_edit_record.province=a.e_province_array[0].value,i.setValue(a.current_edit_record.province)),i.setSourceData(a.e_province_array)}})}onGridSelectRow(){this.sub_view_mode?this.buildContextMenu(!0):this.buildContextMenu(),this.setDefaultMenu()}searchDone(){super.searchDone(),TTPromise.resolve("JobApplicant_History_Tab","JobApplicantEmploymentViewController")}}_.loadSubView=function(d,t,n){Global.loadViewSource("JobApplicantEmployment","SubJobApplicantEmploymentView.html",function(a){var i={},l=r.template(a);Global.isSet(t)&&t(),Global.isSet(d)&&(d.html(l(i)),Global.isSet(n)&&n(sub_job_applicant_employment_view_controller))})};export{_ as JobApplicantEmploymentViewController};
//# sourceMappingURL=JobApplicantEmploymentViewController-D7q0ii3y.bundle.js.map
