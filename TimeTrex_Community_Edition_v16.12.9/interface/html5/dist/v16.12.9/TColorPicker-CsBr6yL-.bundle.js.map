{"version":3,"file":"TColorPicker-CsBr6yL-.bundle.js","sources":["../../framework/widgets/color-picker/colors.js","../../framework/widgets/color-picker/color-picker.js","../../global/widgets/color-picker/TColorPicker.js"],"sourcesContent":["// Modified for use with Webpack 4, from https://github.com/PitPik/tinyColorPicker\n\n// (function (root, factory) {\n// \tif (typeof exports === 'object') {\n// \t\tmodule.exports = factory(root);\n// \t} else if (typeof define === 'function' && define.amd) {\n// \t\tdefine('colors', [], function () {\n// \t\t\treturn factory(root);\n// \t\t});\n// \t} else {\n// \t\troot.Colors = factory(root);\n// \t}\n// }(this, function(window, undefined) {\n\nexport default (function(window, undefined) {\n\t\"use strict\"\n\n\tvar _valueRanges = {\n\t\t\trgb:   {r: [0, 255], g: [0, 255], b: [0, 255]},\n\t\t\thsv:   {h: [0, 360], s: [0, 100], v: [0, 100]},\n\t\t\thsl:   {h: [0, 360], s: [0, 100], l: [0, 100]},\n\t\t\talpha: {alpha: [0, 1]},\n\t\t\tHEX:   {HEX: [0, 16777215]} // maybe we don't need this\n\t\t},\n\n\t\t_Math = window.Math,\n\t\t_round = _Math.round,\n\n\t\t_instance = {},\n\t\t_colors = {},\n\n\t\tgrey = {r: 0.298954, g: 0.586434, b: 0.114612}, // CIE-XYZ 1931\n\t\tluminance = {r: 0.2126, g: 0.7152, b: 0.0722}, // W3C 2.0\n\n\t\tColors = function(options) {\n\t\t\tthis.colors = {RND: {}};\n\t\t\tthis.options = {\n\t\t\t\tcolor: 'rgba(0,0,0,0)', // init value(s)...\n\t\t\t\tgrey: grey,\n\t\t\t\tluminance: luminance,\n\t\t\t\tvalueRanges: _valueRanges\n\t\t\t\t// customBG: '#808080'\n\t\t\t\t// convertCallback: undefined,\n\t\t\t\t// allMixDetails: false\n\t\t\t};\n\t\t\tinitInstance(this, options || {});\n\t\t},\n\t\tinitInstance = function(THIS, options) {\n\t\t\tvar importColor,\n\t\t\t\t_options = THIS.options,\n\t\t\t\tcustomBG;\n\n\t\t\tfocusInstance(THIS);\n\t\t\tfor (var option in options) {\n\t\t\t\tif (options[option] !== undefined) _options[option] = options[option];\n\t\t\t}\n\t\t\tcustomBG = _options.customBG;\n\t\t\t_options.customBG = (typeof customBG === 'string') ? ColorConverter.txt2color(customBG).rgb : customBG;\n\t\t\t_colors = setColor(THIS.colors, _options.color, undefined, true); // THIS.colors = _colors =\n\t\t},\n\t\tfocusInstance = function(THIS) {\n\t\t\tif (_instance !== THIS) {\n\t\t\t\t_instance = THIS;\n\t\t\t\t_colors = THIS.colors;\n\t\t\t}\n\t\t};\n\n\tColors.prototype.setColor = function(newCol, type, alpha) {\n\t\tfocusInstance(this);\n\t\tif (newCol) {\n\t\t\treturn setColor(this.colors, newCol, type, undefined, alpha);\n\t\t} else {\n\t\t\tif (alpha !== undefined) {\n\t\t\t\tthis.colors.alpha = limitValue(alpha, 0, 1);\n\t\t\t}\n\t\t\treturn convertColors(type);\n\t\t}\n\t};\n\n\tColors.prototype.setCustomBackground = function(col) { // wild gues,... check again...\n\t\tfocusInstance(this); // needed???\n\t\tthis.options.customBG = (typeof col === 'string') ? ColorConverter.txt2color(col).rgb : col;\n\t\t// return setColor(this.colors, this.options.customBG, 'rgb', true); // !!!!RGB\n\t\treturn setColor(this.colors, undefined, 'rgb'); // just recalculate existing\n\t};\n\n\tColors.prototype.saveAsBackground = function() { // alpha\n\t\tfocusInstance(this); // needed???\n\t\t// return setColor(this.colors, this.colors.RND.rgb, 'rgb', true);\n\t\treturn setColor(this.colors, undefined, 'rgb', true);\n\t};\n\n\tColors.prototype.toString = function(colorMode, forceAlpha) {\n\t\treturn ColorConverter.color2text((colorMode || 'rgb').toLowerCase(), this.colors, forceAlpha);\n\t};\n\n\t// ------------------------------------------------------ //\n\t// ---------- Color calculation related stuff  ---------- //\n\t// -------------------------------------------------------//\n\n\tfunction setColor(colors, color, type, save, alpha) { // color only full range\n\t\tif (typeof color === 'string') {\n\t\t\tvar color = ColorConverter.txt2color(color); // new object\n\t\t\ttype = color.type;\n\t\t\t_colors[type] = color[type];\n\t\t\talpha = alpha !== undefined ? alpha : color.alpha;\n\t\t} else if (color) {\n\t\t\tfor (var n in color) {\n\t\t\t\tcolors[type][n] = limitValue(color[n] / _valueRanges[type][n][1], 0 , 1);\n\t\t\t}\n\t\t}\n\t\tif (alpha !== undefined) {\n\t\t\tcolors.alpha = limitValue(+alpha, 0, 1);\n\t\t}\n\t\treturn convertColors(type, save ? colors : undefined);\n\t}\n\n\tfunction saveAsBackground(RGB, rgb, alpha) {\n\t\tvar grey = _instance.options.grey,\n\t\t\tcolor = {};\n\n\t\tcolor.RGB = {r: RGB.r, g: RGB.g, b: RGB.b};\n\t\tcolor.rgb = {r: rgb.r, g: rgb.g, b: rgb.b};\n\t\tcolor.alpha = alpha;\n\t\t// color.RGBLuminance = getLuminance(RGB);\n\t\tcolor.equivalentGrey = _round(grey.r * RGB.r + grey.g * RGB.g + grey.b * RGB.b);\n\n\t\tcolor.rgbaMixBlack = mixColors(rgb, {r: 0, g: 0, b: 0}, alpha, 1);\n\t\tcolor.rgbaMixWhite = mixColors(rgb, {r: 1, g: 1, b: 1}, alpha, 1);\n\t\tcolor.rgbaMixBlack.luminance = getLuminance(color.rgbaMixBlack, true);\n\t\tcolor.rgbaMixWhite.luminance = getLuminance(color.rgbaMixWhite, true);\n\n\t\tif (_instance.options.customBG) {\n\t\t\tcolor.rgbaMixCustom = mixColors(rgb, _instance.options.customBG, alpha, 1);\n\t\t\tcolor.rgbaMixCustom.luminance = getLuminance(color.rgbaMixCustom, true);\n\t\t\t_instance.options.customBG.luminance = getLuminance(_instance.options.customBG, true);\n\t\t}\n\n\t\treturn color;\n\t}\n\n\tfunction convertColors(type, colorObj) {\n\t\t// console.time('convertColors');\n\t\tvar colors = colorObj || _colors,\n\t\t\tconvert = ColorConverter,\n\t\t\toptions = _instance.options,\n\t\t\tranges = _valueRanges,\n\t\t\tRND = colors.RND,\n\t\t\t// type = colorType, // || _mode.type,\n\t\t\tmodes, mode = '', from = '', // value = '',\n\t\t\texceptions = {hsl: 'hsv', rgb: type},\n\t\t\tRGB = RND.rgb, SAVE, SMART;\n\n\t\tif (type !== 'alpha') {\n\t\t\tfor (var typ in ranges) {\n\t\t\t\tif (!ranges[typ][typ]) { // no alpha|HEX\n\t\t\t\t\tif (type !== typ) {\n\t\t\t\t\t\tfrom = exceptions[typ] || 'rgb';\n\t\t\t\t\t\tcolors[typ] = convert[from + '2' + typ](colors[from]);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!RND[typ]) RND[typ] = {};\n\t\t\t\t\tmodes = colors[typ];\n\t\t\t\t\tfor(mode in modes) {\n\t\t\t\t\t\tRND[typ][mode] = _round(modes[mode] * ranges[typ][mode][1]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tRGB = RND.rgb;\n\t\t\tcolors.HEX = convert.RGB2HEX(RGB);\n\t\t\tcolors.equivalentGrey =\n\t\t\t\toptions.grey.r * colors.rgb.r +\n\t\t\t\toptions.grey.g * colors.rgb.g +\n\t\t\t\toptions.grey.b * colors.rgb.b;\n\t\t\tcolors.webSave = SAVE = getClosestWebColor(RGB, 51);\n\t\t\t// colors.webSave.HEX = convert.RGB2HEX(colors.webSave);\n\t\t\tcolors.webSmart = SMART = getClosestWebColor(RGB, 17);\n\t\t\t// colors.webSmart.HEX = convert.RGB2HEX(colors.webSmart);\n\t\t\tcolors.saveColor =\n\t\t\t\tRGB.r === SAVE.r && RGB.g === SAVE.g && RGB.b === SAVE.b  ? 'web save' :\n\t\t\t\t\tRGB.r === SMART.r && RGB.g === SMART.g && RGB.b === SMART.b  ? 'web smart' : '';\n\t\t\tcolors.hueRGB = ColorConverter.hue2RGB(colors.hsv.h);\n\n\t\t\tif (colorObj) {\n\t\t\t\tcolors.background = saveAsBackground(RGB, colors.rgb, colors.alpha);\n\t\t\t}\n\t\t} // else RGB = RND.rgb;\n\n\t\tvar rgb = colors.rgb, // for better minification...\n\t\t\talpha = colors.alpha,\n\t\t\tluminance = 'luminance',\n\t\t\tbackground = colors.background,\n\t\t\trgbaMixBlack, rgbaMixWhite, rgbaMixCustom,\n\t\t\trgbaMixBG, rgbaMixBGMixBlack, rgbaMixBGMixWhite, rgbaMixBGMixCustom;\n\n\t\trgbaMixBlack = mixColors(rgb, {r: 0, g: 0, b: 0}, alpha, 1);\n\t\trgbaMixBlack[luminance] = getLuminance(rgbaMixBlack, true);\n\t\tcolors.rgbaMixBlack = rgbaMixBlack;\n\n\t\trgbaMixWhite = mixColors(rgb, {r: 1, g: 1, b: 1}, alpha, 1);\n\t\trgbaMixWhite[luminance] = getLuminance(rgbaMixWhite, true);\n\t\tcolors.rgbaMixWhite = rgbaMixWhite;\n\n\t\tif (options.customBG) {\n\t\t\trgbaMixBGMixCustom = mixColors(rgb, background.rgbaMixCustom, alpha, 1);\n\t\t\trgbaMixBGMixCustom[luminance] = getLuminance(rgbaMixBGMixCustom, true);\n\t\t\trgbaMixBGMixCustom.WCAG2Ratio = getWCAG2Ratio(rgbaMixBGMixCustom[luminance],\n\t\t\t\tbackground.rgbaMixCustom[luminance]);\n\t\t\tcolors.rgbaMixBGMixCustom = rgbaMixBGMixCustom;\n\t\t\t/* ------ */\n\t\t\trgbaMixBGMixCustom.luminanceDelta = _Math.abs(\n\t\t\t\trgbaMixBGMixCustom[luminance] - background.rgbaMixCustom[luminance]);\n\t\t\trgbaMixBGMixCustom.hueDelta = getHueDelta(background.rgbaMixCustom, rgbaMixBGMixCustom, true);\n\t\t\t/* ------ */\n\t\t}\n\n\t\tcolors.RGBLuminance = getLuminance(RGB);\n\t\tcolors.HUELuminance = getLuminance(colors.hueRGB);\n\n\t\t// renderVars.readyToRender = true;\n\t\tif (options.convertCallback) {\n\t\t\toptions.convertCallback(colors, type); //, convert); //, _mode);\n\t\t}\n\n\t\t// console.timeEnd('convertColors')\n\t\t// if (colorObj)\n\t\treturn colors;\n\t}\n\n\n\t// ------------------------------------------------------ //\n\t// ------------------ color conversion ------------------ //\n\t// -------------------------------------------------------//\n\n\tvar ColorConverter = {\n\t\ttxt2color: function(txt) {\n\t\t\tvar color = {},\n\t\t\t\tparts = txt.replace(/(?:#|\\)|%)/g, '').split('('),\n\t\t\t\tvalues = (parts[1] || '').split(/,\\s*/),\n\t\t\t\ttype = parts[1] ? parts[0].substr(0, 3) : 'rgb',\n\t\t\t\tm = '';\n\n\t\t\tcolor.type = type;\n\t\t\tcolor[type] = {};\n\t\t\tif (parts[1]) {\n\t\t\t\tfor (var n = 3; n--; ) {\n\t\t\t\t\tm = type[n] || type.charAt(n); // IE7\n\t\t\t\t\tcolor[type][m] = +values[n] / _valueRanges[type][m][1];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcolor.rgb = ColorConverter.HEX2rgb(parts[0]);\n\t\t\t}\n\t\t\t// color.color = color[type];\n\t\t\tcolor.alpha = values[3] ? +values[3] : 1;\n\n\t\t\treturn color;\n\t\t},\n\n\t\tcolor2text: function(colorMode, colors, forceAlpha) {\n\t\t\tvar alpha = forceAlpha !== false && _round(colors.alpha * 100) / 100,\n\t\t\t\thasAlpha = typeof alpha === 'number' &&\n\t\t\t\t\tforceAlpha !== false && (forceAlpha || alpha !== 1),\n\t\t\t\tRGB = colors.RND.rgb,\n\t\t\t\tHSL = colors.RND.hsl,\n\t\t\t\tshouldBeHex = colorMode === 'hex' && hasAlpha,\n\t\t\t\tisHex = colorMode === 'hex' && !shouldBeHex,\n\t\t\t\tisRgb = colorMode === 'rgb' || shouldBeHex,\n\t\t\t\tinnerText = isRgb ? RGB.r + ', ' + RGB.g + ', ' + RGB.b :\n\t\t\t\t\t!isHex ? HSL.h + ', ' + HSL.s + '%, ' + HSL.l + '%' :\n\t\t\t\t\t\t'#' + colors.HEX;\n\n\t\t\treturn isHex ? innerText : (shouldBeHex ? 'rgb' : colorMode) +\n\t\t\t\t(hasAlpha ? 'a' : '') + '(' + innerText +\n\t\t\t\t(hasAlpha ? ', ' + alpha : '') + ')';\n\t\t},\n\n\t\tRGB2HEX: function(RGB) {\n\t\t\treturn (\n\t\t\t\t(RGB.r < 16 ? '0' : '') + RGB.r.toString(16) +\n\t\t\t\t(RGB.g < 16 ? '0' : '') + RGB.g.toString(16) +\n\t\t\t\t(RGB.b < 16 ? '0' : '') + RGB.b.toString(16)\n\t\t\t).toUpperCase();\n\t\t},\n\n\t\tHEX2rgb: function(HEX) {\n\t\t\tHEX = HEX.split(''); // IE7\n\t\t\treturn {\n\t\t\t\tr: +('0x' + HEX[0] + HEX[HEX[3] ? 1 : 0]) / 255,\n\t\t\t\tg: +('0x' + HEX[HEX[3] ? 2 : 1] + (HEX[3] || HEX[1])) / 255,\n\t\t\t\tb: +('0x' + (HEX[4] || HEX[2]) + (HEX[5] || HEX[2])) / 255\n\t\t\t};\n\t\t},\n\n\t\thue2RGB: function(hue) {\n\t\t\tvar h = hue * 6,\n\t\t\t\tmod = ~~h % 6, // _Math.floor(h) -> faster in most browsers\n\t\t\t\ti = h === 6 ? 0 : (h - mod);\n\n\t\t\treturn {\n\t\t\t\tr: _round([1, 1 - i, 0, 0, i, 1][mod] * 255),\n\t\t\t\tg: _round([i, 1, 1, 1 - i, 0, 0][mod] * 255),\n\t\t\t\tb: _round([0, 0, i, 1, 1, 1 - i][mod] * 255)\n\t\t\t};\n\t\t},\n\n\t\t// ------------------------ HSV ------------------------ //\n\n\t\trgb2hsv: function(rgb) { // faster\n\t\t\tvar r = rgb.r,\n\t\t\t\tg = rgb.g,\n\t\t\t\tb = rgb.b,\n\t\t\t\tk = 0, chroma, min, s;\n\n\t\t\tif (g < b) {\n\t\t\t\tg = b + (b = g, 0);\n\t\t\t\tk = -1;\n\t\t\t}\n\t\t\tmin = b;\n\t\t\tif (r < g) {\n\t\t\t\tr = g + (g = r, 0);\n\t\t\t\tk = -2 / 6 - k;\n\t\t\t\tmin = _Math.min(g, b); // g < b ? g : b; ???\n\t\t\t}\n\t\t\tchroma = r - min;\n\t\t\ts = r ? (chroma / r) : 0;\n\t\t\treturn {\n\t\t\t\th: s < 1e-15 ? ((_colors && _colors.hsl && _colors.hsl.h) || 0) :\n\t\t\t\t\tchroma ? _Math.abs(k + (g - b) / (6 * chroma)) : 0,\n\t\t\t\ts: r ? (chroma / r) : ((_colors && _colors.hsv && _colors.hsv.s) || 0), // ??_colors.hsv.s || 0\n\t\t\t\tv: r\n\t\t\t};\n\t\t},\n\n\t\thsv2rgb: function(hsv) {\n\t\t\tvar h = hsv.h * 6,\n\t\t\t\ts = hsv.s,\n\t\t\t\tv = hsv.v,\n\t\t\t\ti = ~~h, // _Math.floor(h) -> faster in most browsers\n\t\t\t\tf = h - i,\n\t\t\t\tp = v * (1 - s),\n\t\t\t\tq = v * (1 - f * s),\n\t\t\t\tt = v * (1 - (1 - f) * s),\n\t\t\t\tmod = i % 6;\n\n\t\t\treturn {\n\t\t\t\tr: [v, q, p, p, t, v][mod],\n\t\t\t\tg: [t, v, v, q, p, p][mod],\n\t\t\t\tb: [p, p, t, v, v, q][mod]\n\t\t\t};\n\t\t},\n\n\t\t// ------------------------ HSL ------------------------ //\n\n\t\thsv2hsl: function(hsv) {\n\t\t\tvar l = (2 - hsv.s) * hsv.v,\n\t\t\t\ts = hsv.s * hsv.v;\n\n\t\t\ts = !hsv.s ? 0 : l < 1 ? (l ? s / l : 0) : s / (2 - l);\n\n\t\t\treturn {\n\t\t\t\th: hsv.h,\n\t\t\t\ts: !hsv.v && !s ? ((_colors && _colors.hsl && _colors.hsl.s) || 0) : s, // ???\n\t\t\t\tl: l / 2\n\t\t\t};\n\t\t},\n\n\t\trgb2hsl: function(rgb, dependent) { // not used in Color\n\t\t\tvar hsv = ColorConverter.rgb2hsv(rgb);\n\n\t\t\treturn ColorConverter.hsv2hsl(dependent ? hsv : (_colors.hsv = hsv));\n\t\t},\n\n\t\thsl2rgb: function(hsl) {\n\t\t\tvar h = hsl.h * 6,\n\t\t\t\ts = hsl.s,\n\t\t\t\tl = hsl.l,\n\t\t\t\tv = l < 0.5 ? l * (1 + s) : (l + s) - (s * l),\n\t\t\t\tm = l + l - v,\n\t\t\t\tsv = v ? ((v - m) / v) : 0,\n\t\t\t\tsextant = ~~h, // _Math.floor(h) -> faster in most browsers\n\t\t\t\tfract = h - sextant,\n\t\t\t\tvsf = v * sv * fract,\n\t\t\t\tt = m + vsf,\n\t\t\t\tq = v - vsf,\n\t\t\t\tmod = sextant % 6;\n\n\t\t\treturn {\n\t\t\t\tr: [v, q, m, m, t, v][mod],\n\t\t\t\tg: [t, v, v, q, m, m][mod],\n\t\t\t\tb: [m, m, t, v, v, q][mod]\n\t\t\t};\n\t\t}\n\t};\n\n\t// ------------------------------------------------------ //\n\t// ------------------ helper functions ------------------ //\n\t// -------------------------------------------------------//\n\n\tfunction getClosestWebColor(RGB, val) {\n\t\tvar out = {},\n\t\t\ttmp = 0,\n\t\t\thalf = val / 2;\n\n\t\tfor (var n in RGB) {\n\t\t\ttmp = RGB[n] % val; // 51 = 'web save', 17 = 'web smart'\n\t\t\tout[n] = RGB[n] + (tmp > half ? val - tmp : -tmp);\n\t\t}\n\t\treturn out;\n\t}\n\n\tfunction getHueDelta(rgb1, rgb2, nominal) {\n\t\treturn (_Math.max(rgb1.r - rgb2.r, rgb2.r - rgb1.r) +\n\t\t\t_Math.max(rgb1.g - rgb2.g, rgb2.g - rgb1.g) +\n\t\t\t_Math.max(rgb1.b - rgb2.b, rgb2.b - rgb1.b)) * (nominal ? 255 : 1) / 765;\n\t}\n\n\tfunction getLuminance(rgb, normalized) {\n\t\tvar div = normalized ? 1 : 255,\n\t\t\tRGB = [rgb.r / div, rgb.g / div, rgb.b / div],\n\t\t\tluminance = _instance.options.luminance;\n\n\t\tfor (var i = RGB.length; i--; ) {\n\t\t\tRGB[i] = RGB[i] <= 0.03928 ? RGB[i] / 12.92 : _Math.pow(((RGB[i] + 0.055) / 1.055), 2.4);\n\t\t}\n\t\treturn ((luminance.r * RGB[0]) + (luminance.g * RGB[1]) + (luminance.b * RGB[2]));\n\t}\n\n\tfunction mixColors(topColor, bottomColor, topAlpha, bottomAlpha) {\n\t\tvar newColor = {},\n\t\t\talphaTop = (topAlpha !== undefined ? topAlpha : 1),\n\t\t\talphaBottom = (bottomAlpha !== undefined ? bottomAlpha : 1),\n\t\t\talpha = alphaTop + alphaBottom * (1 - alphaTop); // 1 - (1 - alphaTop) * (1 - alphaBottom);\n\n\t\tfor(var n in topColor) {\n\t\t\tnewColor[n] = (topColor[n] * alphaTop + bottomColor[n] * alphaBottom * (1 - alphaTop)) / alpha;\n\t\t}\n\t\tnewColor.a = alpha;\n\t\treturn newColor;\n\t}\n\n\tfunction getWCAG2Ratio(lum1, lum2) {\n\t\tvar ratio = 1;\n\n\t\tif (lum1 >= lum2) {\n\t\t\tratio = (lum1 + 0.05) / (lum2 + 0.05);\n\t\t} else {\n\t\t\tratio = (lum2 + 0.05) / (lum1 + 0.05);\n\t\t}\n\t\treturn _round(ratio * 100) / 100;\n\t}\n\n\tfunction limitValue(value, min, max) {\n\t\t// return _Math.max(min, _Math.min(max, value)); // faster??\n\t\treturn (value > max ? max : value < min ? min : value);\n\t}\n\n\treturn Colors;\n})(window, undefined);","// Modified for use with Webpack 4, from https://github.com/PitPik/tinyColorPicker\n\n// import $ from 'jquery'; // dont pass this in, as we already pass in the existing jQuery at the end of the IIFE. If we use this, existing jQuery and plugins will be overwritten.\nimport Colors from './colors';\n\n// (function (root, factory) {\n// \tif (typeof exports === 'object') {\n// \t\tmodule.exports = factory(root, require('jquery'), require('colors'));\n// \t} else if (typeof define === 'function' && define.amd) {\n// \t\tdefine(['jquery', 'colors'], function (jQuery, Colors) {\n// \t\t\treturn factory(root, jQuery, Colors);\n// \t\t});\n// \t} else {\n// \t\tfactory(root, root.jQuery, root.Colors);\n// \t}\n// }(this, function(window, $, Colors, undefined){\n\n(function(window, $, Colors, undefined){\n\t'use strict';\n\n\tvar $document = $(document),\n\t\t_instance = $(),\n\t\t_colorPicker,\n\t\t_color,\n\t\t_options,\n\n\t\t_$trigger, _$UI,\n\t\t_$z_slider, _$xy_slider,\n\t\t_$xy_cursor, _$z_cursor , _$alpha , _$alpha_cursor,\n\n\t\t_pointermove = 'touchmove.tcp mousemove.tcp pointermove.tcp',\n\t\t_pointerdown = 'touchstart.tcp mousedown.tcp pointerdown.tcp',\n\t\t_pointerup = 'touchend.tcp mouseup.tcp pointerup.tcp',\n\t\t_GPU = false,\n\t\t_animate = window.requestAnimationFrame ||\n\t\t\twindow.webkitRequestAnimationFrame || function(cb){cb()},\n\t\t_html = '<div class=\"cp-color-picker\"><div class=\"cp-z-slider\"><div c' +\n\t\t\t'lass=\"cp-z-cursor\"></div></div><div class=\"cp-xy-slider\"><div cl' +\n\t\t\t'ass=\"cp-white\"></div><div class=\"cp-xy-cursor\"></div></div><div ' +\n\t\t\t'class=\"cp-alpha\"><div class=\"cp-alpha-cursor\"></div></div></div>',\n\t\t// 'grunt-contrib-uglify' puts all this back to one single string...\n\t\t_css = '.cp-color-picker{position:absolute;overflow:hidden;padding:6p' +\n\t\t\t'x 6px 0;background-color:#444;color:#bbb;font-family:Arial,Helve' +\n\t\t\t'tica,sans-serif;font-size:12px;font-weight:400;cursor:default;bo' +\n\t\t\t'rder-radius:5px}.cp-color-picker>div{position:relative;overflow:' +\n\t\t\t'hidden}.cp-xy-slider{float:left;height:128px;width:128px;margin-' +\n\t\t\t'bottom:6px;background:linear-gradient(to right,#FFF,rgba(255,255' +\n\t\t\t',255,0))}.cp-white{height:100%;width:100%;background:linear-grad' +\n\t\t\t'ient(rgba(0,0,0,0),#000)}.cp-xy-cursor{position:absolute;top:0;w' +\n\t\t\t'idth:10px;height:10px;margin:-5px;border:1px solid #fff;border-r' +\n\t\t\t'adius:100%;box-sizing:border-box}.cp-z-slider{float:right;margin' +\n\t\t\t'-left:6px;height:128px;width:20px;background:linear-gradient(red' +\n\t\t\t' 0,#f0f 17%,#00f 33%,#0ff 50%,#0f0 67%,#ff0 83%,red 100%)}.cp-z-' +\n\t\t\t'cursor{position:absolute;margin-top:-4px;width:100%;border:4px s' +\n\t\t\t'olid #fff;border-color:transparent #fff;box-sizing:border-box}.c' +\n\t\t\t'p-alpha{clear:both;width:100%;height:16px;margin:6px 0;backgroun' +\n\t\t\t'd:linear-gradient(to right,#444,rgba(0,0,0,0))}.cp-alpha-cursor{' +\n\t\t\t'position:absolute;margin-left:-4px;height:100%;border:4px solid ' +\n\t\t\t'#fff;border-color:#fff transparent;box-sizing:border-box}',\n\n\t\tColorPicker = function(options) {\n\t\t\t_color = this.color = new Colors(options);\n\t\t\t_options = _color.options;\n\t\t\t_colorPicker = this;\n\t\t};\n\n\tColorPicker.prototype = {\n\t\trender: preRender,\n\t\ttoggle: toggle\n\t};\n\n\tfunction extractValue(elm) {\n\t\treturn elm.value || elm.getAttribute('value') ||\n\t\t\t$(elm).css('background-color') || '#FFF';\n\t}\n\n\tfunction resolveEventType(event) {\n\t\tevent = event.originalEvent && event.originalEvent.touches ?\n\t\t\tevent.originalEvent.touches[0] : event;\n\n\t\treturn event.originalEvent ? event.originalEvent : event;\n\t}\n\n\tfunction findElement($elm) {\n\t\treturn $($elm.find(_options.doRender)[0] || $elm[0]);\n\t}\n\n\tfunction toggle(event) {\n\t\tvar $this = $(this),\n\t\t\tposition = $this.offset(),\n\t\t\t$window = $(window),\n\t\t\tgap = _options.gap;\n\n\t\tif (event) {\n\t\t\t_$trigger = findElement($this);\n\t\t\t_$trigger._colorMode = _$trigger.data('colorMode');\n\n\t\t\t_colorPicker.$trigger = $this;\n\n\t\t\t(_$UI || build()).css(\n\t\t\t\t_options.positionCallback.call(_colorPicker, $this) ||\n\t\t\t\t{'left': (_$UI._left = position.left) -\n\t\t\t\t\t\t((_$UI._left += _$UI._width -\n\t\t\t\t\t\t\t($window.scrollLeft() + $window.width())) + gap > 0 ?\n\t\t\t\t\t\t\t_$UI._left + gap : 0),\n\t\t\t\t\t'top': (_$UI._top = position.top + $this.outerHeight()) -\n\t\t\t\t\t\t((_$UI._top += _$UI._height -\n\t\t\t\t\t\t\t($window.scrollTop() + $window.height())) + gap > 0 ?\n\t\t\t\t\t\t\t_$UI._top + gap : 0)\n\t\t\t\t}).show(_options.animationSpeed, function() {\n\t\t\t\tif (event === true) { // resize, scroll\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t_$alpha.toggle(!!_options.opacity)._width = _$alpha.width();\n\t\t\t\t_$xy_slider._width = _$xy_slider.width();\n\t\t\t\t_$xy_slider._height = _$xy_slider.height();\n\t\t\t\t_$z_slider._height = _$z_slider.height();\n\t\t\t\t_color.setColor(extractValue(_$trigger[0]));\n\n\t\t\t\tpreRender(true);\n\t\t\t})\n\t\t\t\t.off('.tcp').on(_pointerdown,\n\t\t\t\t'.cp-xy-slider,.cp-z-slider,.cp-alpha', pointerdown);\n\t\t} else if (_colorPicker.$trigger) {\n\t\t\t$(_$UI).hide(_options.animationSpeed, function() {\n\t\t\t\tpreRender(false);\n\t\t\t\t_colorPicker.$trigger = null;\n\t\t\t}).off('.tcp');\n\t\t}\n\t}\n\n\tfunction build() {\n\t\t$('head')[_options.cssPrepend ? 'prepend' : 'append']\n\t\t('<style type=\"text/css\" id=\"tinyColorPickerStyles\">' +\n\t\t\t(_options.css || _css) + (_options.cssAddon || '') + '</style>');\n\n\t\treturn $(_html).css({'margin': _options.margin})\n\t\t\t.appendTo('body')\n\t\t\t.show(0, function() {\n\t\t\t\t_colorPicker.$UI = _$UI = $(this);\n\n\t\t\t\t_GPU = _options.GPU && _$UI.css('perspective') !== undefined;\n\t\t\t\t_$z_slider = $('.cp-z-slider', this);\n\t\t\t\t_$xy_slider = $('.cp-xy-slider', this);\n\t\t\t\t_$xy_cursor = $('.cp-xy-cursor', this);\n\t\t\t\t_$z_cursor = $('.cp-z-cursor', this);\n\t\t\t\t_$alpha = $('.cp-alpha', this);\n\t\t\t\t_$alpha_cursor = $('.cp-alpha-cursor', this);\n\t\t\t\t_options.buildCallback.call(_colorPicker, _$UI);\n\t\t\t\t_$UI.prepend('<div>').children().eq(0).css('width',\n\t\t\t\t\t_$UI.children().eq(0).width()); // stabilizer\n\t\t\t\t_$UI._width = this.offsetWidth;\n\t\t\t\t_$UI._height = this.offsetHeight;\n\t\t\t}).hide();\n\t}\n\n\tfunction pointerdown(e) {\n\t\tvar action = this.className\n\t\t\t.replace(/cp-(.*?)(?:\\s*|$)/, '$1').replace('-', '_');\n\n\t\tif ((e.button || e.which) > 1) return;\n\n\t\te.preventDefault && e.preventDefault();\n\t\te.returnValue = false;\n\n\t\t_$trigger._offset = $(this).offset();\n\n\t\t(action = action === 'xy_slider' ? xy_slider :\n\t\t\taction === 'z_slider' ? z_slider : alpha)(e);\n\t\tpreRender();\n\n\t\t$document.on(_pointerup, function(e) {\n\t\t\t$document.off('.tcp');\n\t\t}).on(_pointermove, function(e) {\n\t\t\taction(e);\n\t\t\tpreRender();\n\t\t});\n\t}\n\n\tfunction xy_slider(event) {\n\t\tvar e = resolveEventType(event),\n\t\t\tx = e.pageX - _$trigger._offset.left,\n\t\t\ty = e.pageY - _$trigger._offset.top;\n\n\t\t_color.setColor({\n\t\t\ts: x / _$xy_slider._width * 100,\n\t\t\tv: 100 - (y / _$xy_slider._height * 100)\n\t\t}, 'hsv');\n\t}\n\n\tfunction z_slider(event) {\n\t\tvar z = resolveEventType(event).pageY - _$trigger._offset.top;\n\n\t\t_color.setColor({h: 360 - (z / _$z_slider._height * 360)}, 'hsv');\n\t}\n\n\tfunction alpha(event) {\n\t\tvar x = resolveEventType(event).pageX - _$trigger._offset.left,\n\t\t\talpha = x / _$alpha._width;\n\n\t\t_color.setColor({}, 'rgb', alpha);\n\t}\n\n\tfunction preRender(toggled) {\n\t\tvar colors = _color.colors,\n\t\t\thueRGB = colors.hueRGB,\n\t\t\tRGB = colors.RND.rgb,\n\t\t\tHSL = colors.RND.hsl,\n\t\t\tdark = _options.dark,\n\t\t\tlight = _options.light,\n\t\t\tcolorText = _color.toString(_$trigger._colorMode, _options.forceAlpha),\n\t\t\tHUEContrast = colors.HUELuminance > 0.22 ? dark : light,\n\t\t\talphaContrast = colors.rgbaMixBlack.luminance > 0.22 ? dark : light,\n\t\t\th = (1 - colors.hsv.h) * _$z_slider._height,\n\t\t\ts = colors.hsv.s * _$xy_slider._width,\n\t\t\tv = (1 - colors.hsv.v) * _$xy_slider._height,\n\t\t\ta = colors.alpha * _$alpha._width,\n\t\t\ttranslate3d = _GPU ? 'translate3d' : '',\n\t\t\ttriggerValue = _$trigger[0].value,\n\t\t\thasNoValue = _$trigger[0].hasAttribute('value') && // question this\n\t\t\t\ttriggerValue === '' && toggled !== undefined;\n\n\t\t_$xy_slider._css = {\n\t\t\tbackgroundColor: 'rgb(' +\n\t\t\t\thueRGB.r + ',' + hueRGB.g + ',' + hueRGB.b + ')'};\n\t\t_$xy_cursor._css = {\n\t\t\ttransform: translate3d + '(' + s + 'px, ' + v + 'px, 0)',\n\t\t\tleft: !_GPU ? s : '',\n\t\t\ttop: !_GPU ? v : '',\n\t\t\tborderColor : colors.RGBLuminance > 0.22 ? dark : light\n\t\t};\n\t\t_$z_cursor._css = {\n\t\t\ttransform: translate3d + '(0, ' + h + 'px, 0)',\n\t\t\ttop: !_GPU ? h : '',\n\t\t\tborderColor : 'transparent ' + HUEContrast\n\t\t};\n\t\t_$alpha._css = {backgroundColor: '#' + colors.HEX};\n\t\t_$alpha_cursor._css = {\n\t\t\ttransform: translate3d + '(' + a + 'px, 0, 0)',\n\t\t\tleft: !_GPU ? a : '',\n\t\t\tborderColor : alphaContrast + ' transparent'\n\t\t};\n\t\t_$trigger._css = {\n\t\t\tbackgroundColor : hasNoValue ? '' : colorText,\n\t\t\tcolor: hasNoValue ? '' :\n\t\t\t\tcolors.rgbaMixBGMixCustom.luminance > 0.22 ? dark : light\n\t\t};\n\t\t_$trigger.text = hasNoValue ? '' : triggerValue !== colorText ? colorText : '';\n\n\t\ttoggled !== undefined ? render(toggled) : _animate(render);\n\t}\n\n\t// As _animate() is actually requestAnimationFrame(), render() gets called\n\t// decoupled from any pointer action (whenever the browser decides to do\n\t// so) as an event. preRender() is coupled to toggle() and all pointermove\n\t// actions; that's where all the calculations happen. render() can now be\n\t// called without extra calculations which results in faster rendering.\n\tfunction render(toggled) {\n\t\t_$xy_slider.css(_$xy_slider._css);\n\t\t_$xy_cursor.css(_$xy_cursor._css);\n\t\t_$z_cursor.css(_$z_cursor._css);\n\t\t_$alpha.css(_$alpha._css);\n\t\t_$alpha_cursor.css(_$alpha_cursor._css);\n\n\t\t_options.doRender && _$trigger.css(_$trigger._css);\n\t\t_$trigger.text && _$trigger.val(_$trigger.text);\n\n\t\t_options.renderCallback.call(\n\t\t\t_colorPicker,\n\t\t\t_$trigger,\n\t\t\ttypeof toggled === 'boolean' ? toggled : undefined\n\t\t);\n\t}\n\n\t$.fn.colorPicker = function(options) {\n\t\tvar _this = this,\n\t\t\tnoop = function(){};\n\n\t\toptions = $.extend({\n\t\t\tanimationSpeed: 150,\n\t\t\tGPU: true,\n\t\t\tdoRender: true,\n\t\t\tcustomBG: '#FFF',\n\t\t\topacity: true,\n\t\t\trenderCallback: noop,\n\t\t\tbuildCallback: noop,\n\t\t\tpositionCallback: noop,\n\t\t\tbody: document.body,\n\t\t\tscrollResize: true,\n\t\t\tgap: 4,\n\t\t\tdark: '#222',\n\t\t\tlight: '#DDD',\n\t\t\t// cssPrepend: true,\n\t\t\t// forceAlpha: undefined,\n\t\t\t// css: '',\n\t\t\t// cssAddon: '',\n\t\t\t// margin: '',\n\t\t\t// preventFocus: false\n\t\t}, options);\n\n\t\t!_colorPicker && options.scrollResize && $(window)\n\t\t\t.on('resize.tcp scroll.tcp', function() {\n\t\t\t\tif (_colorPicker.$trigger) {\n\t\t\t\t\t_colorPicker.toggle.call(_colorPicker.$trigger[0], true);\n\t\t\t\t}\n\t\t\t});\n\t\t_instance = _instance.add(this);\n\t\tthis.colorPicker = _colorPicker || new ColorPicker(options);\n\t\tthis.options = options;\n\n\t\t$(options.body).off('.tcp').on(_pointerdown, function(e) {\n\t\t\t_instance.add(_$UI).add($(_$UI).find(e.target)).\n\t\t\tindex(e.target) === -1 && toggle();\n\t\t});\n\n\t\treturn this.on('focusin.tcp click.tcp', function(event) {\n\t\t\t_colorPicker.color.options = // swap options to fake new instance\n\t\t\t\t$.extend(_colorPicker.color.options, _options = _this.options);\n\t\t\ttoggle.call(this, event);\n\t\t})\n\t\t\t.on('change.tcp', function() {\n\t\t\t\t_color.setColor(this.value || '#FFF');\n\t\t\t\t_this.colorPicker.render(true);\n\t\t\t})\n\t\t\t.each(function() {\n\t\t\t\tvar value = extractValue(this),\n\t\t\t\t\tmode = value.split('('),\n\t\t\t\t\t$elm = findElement($(this));\n\n\t\t\t\t$elm.data('colorMode', mode[1] ? mode[0].substr(0, 3) : 'HEX')\n\t\t\t\t\t.attr('readonly', _options.preventFocus);\n\t\t\t\toptions.doRender &&\n\t\t\t\t$elm.css({'background-color': value,\n\t\t\t\t\t'color': function() {\n\t\t\t\t\t\treturn _color.setColor(value)\n\t\t\t\t\t\t\t.rgbaMixBGMixCustom.luminance > 0.22 ?\n\t\t\t\t\t\t\toptions.dark : options.light\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t};\n\n\t$.fn.colorPicker.destroy = function() {\n\t\t$('*').off('.tcp'); // slower but saver\n\t\t_colorPicker.toggle(false);\n\t\t_instance = $();\n\t\t// destroy _colorPicker\n\t};\n\n})(window, $, Colors, undefined);","import '@/framework/widgets/color-picker/color-picker';\n\n( function( $ ) {\n\n\t$.fn.TColorPicker = function( options ) {\n\t\tvar opts = $.extend( {}, $.fn.TColorPicker.defaults, options );\n\t\tvar $this = this;\n\t\tvar field;\n\t\tvar error_string = '';\n\t\tvar error_tip_box;\n\t\tvar mass_edit_mode = false;\n\t\tvar check_box = null;\n\t\tvar enabled = true;\n\t\tvar color_picker_instance;\n\n\t\tthis.clearErrorStyle = function() {\n\n\t\t};\n\n\t\tthis.getEnabled = function() {\n\t\t\treturn enabled;\n\t\t};\n\n\t\tthis.setEnabled = function( val ) {\n\t\t\tenabled = val;\n\t\t\tif ( val === false || val === '' ) {\n\t\t\t\t$this.attr( 'disabled', 'true' );\n\t\t\t} else {\n\t\t\t\t$this.removeAttr( 'disabled' );\n\t\t\t}\n\n\t\t};\n\n\t\tthis.setCheckBox = function( val ) {\n\t\t\tif ( check_box ) {\n\t\t\t\tcheck_box.children().eq( 0 )[0].checked = val;\n\t\t\t}\n\t\t};\n\n\t\tthis.isChecked = function() {\n\t\t\tif ( check_box ) {\n\t\t\t\tif ( check_box.children().eq( 0 )[0].checked === true ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\n\t\tthis.setMassEditMode = function( val ) {\n\t\t\tmass_edit_mode = val;\n\n\t\t\tif ( mass_edit_mode ) {\n\t\t\t\tcheck_box = $( ' <div class=\"mass-edit-checkbox-wrapper checkbox-mass-edit-checkbox-wrapper\"><input type=\"checkbox\" class=\"mass-edit-checkbox\"></input>' +\n\t\t\t\t\t'<label for=\"checkbox-input-1\" class=\"input-helper input-helper--checkbox\"></label></div>' );\n\t\t\t\tcheck_box.insertBefore( $( this ) );\n\t\t\t\tcheck_box.change( function() {\n\t\t\t\t\t$this.trigger( 'formItemChange', [$this] );\n\t\t\t\t} );\n\n\t\t\t} else {\n\t\t\t\tif ( check_box ) {\n\t\t\t\t\tcheck_box.remove();\n\t\t\t\t\tcheck_box = null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t\tthis.setErrorStyle = function( errStr, show, isWarning ) {\n\t\t\tif ( isWarning ) {\n\t\t\t\t$( this ).addClass( 'warning-tip' );\n\t\t\t} else {\n\t\t\t\t$( this ).addClass( 'error-tip' );\n\t\t\t}\n\t\t\terror_string = errStr;\n\n\t\t\tif ( show ) {\n\t\t\t\tthis.showErrorTip();\n\t\t\t}\n\t\t};\n\n\t\tthis.showErrorTip = function( sec ) {\n\t\t\tif ( !Global.isSet( sec ) ) {\n\t\t\t\tsec = 2;\n\t\t\t}\n\n\t\t\tif ( !error_tip_box ) {\n\t\t\t\terror_tip_box = Global.loadWidgetByName( WidgetNamesDic.ERROR_TOOLTIP );\n\t\t\t\terror_tip_box = error_tip_box.ErrorTipBox();\n\t\t\t}\n\t\t\terror_tip_box.cancelRemove();\n\t\t\tif ( $( this ).hasClass( 'warning-tip' ) ) {\n\t\t\t\terror_tip_box.show( this, error_string, sec, true );\n\t\t\t} else {\n\t\t\t\terror_tip_box.show( this, error_string, sec );\n\t\t\t}\n\t\t};\n\n\t\tthis.hideErrorTip = function() {\n\t\t\tif ( Global.isSet( error_tip_box ) ) {\n\t\t\t\terror_tip_box.remove();\n\t\t\t}\n\t\t};\n\n\t\tthis.clearErrorStyle = function() {\n\t\t\t$( this ).removeClass( 'error-tip' );\n\t\t\t$( this ).removeClass( 'warning-tip' );\n\t\t\tthis.hideErrorTip();\n\t\t\terror_string = '';\n\t\t};\n\n\t\tthis.getField = function() {\n\t\t\treturn field;\n\t\t};\n\n\t\tthis.getValue = function() {\n\t\t\treturn color_picker_instance.val().substring( 1 );\n\t\t};\n\n\t\tthis.setValue = function( val ) {\n\t\t\tval && color_picker_instance.val( '#' + val.toUpperCase() ) && color_picker_instance.css( 'background', '#' + val );\n\t\t\t!val && color_picker_instance.val( '#0F820F' ) && color_picker_instance.css( 'background', '#0F820F' );\n\t\t};\n\n\t\tthis.each( function() {\n\t\t\tvar o = $.meta ? $.extend( {}, opts, $( this ).data() ) : opts;\n\t\t\tfield = o.field;\n\t\t\t//var is_open;\n\t\t\tif ( $( '.cp-color-picker' ).length > 0 ) {\n\t\t\t\t$().colorPicker( 'destroy' );\n\t\t\t}\n\t\t\t// A workaround that the $this in renderCallback is not correct.\n\t\t\t$( this ).unbind( 'colorPickerClose' ).bind( 'colorPickerClose', function() {\n\t\t\t\t$this.trigger( 'formItemChange', [$this] );\n\t\t\t} );\n\t\t\tcolor_picker_instance = $( this ).colorPicker( {\n\t\t\t\tdoRender: 'div div',\n\t\t\t\trenderCallback: function( $elm, toggled ) {\n\n\t\t\t\t\tvar self = this;\n\t\t\t\t\t//var colors = this.color.colors,\n\t\t\t\t\t//\trgb = colors.RND.rgb;\n\n\t\t\t\t\tvar colors = this.color.colors.RND,\n\t\t\t\t\t\tmodes = {\n\t\t\t\t\t\t\tr: colors.rgb.r, g: colors.rgb.g, b: colors.rgb.b,\n\t\t\t\t\t\t\th: colors.hsv.h, s: colors.hsv.s, v: colors.hsv.v,\n\t\t\t\t\t\t\tHEX: this.color.colors.HEX\n\t\t\t\t\t\t};\n\n\t\t\t\t\t$elm.each( function() {\n\t\t\t\t\t\tthis.value = '#' + modes[this.className.substr( 3 )];\n\t\t\t\t\t} );\n\n\t\t\t\t\t$elm.unbind( 'focusout' ).bind( 'focusout', function( e ) {\n\t\t\t\t\t\tself.$UI.toggle( false );\n\t\t\t\t\t\tif ( check_box ) {\n\t\t\t\t\t\t\t$this.setCheckBox( true );\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$( this ).trigger( 'colorPickerClose' );\n\n\t\t\t\t\t} );\n\n\t\t\t\t\t//if ( toggled === true ) {\n\t\t\t\t\t//\tis_open = true;\n\t\t\t\t\t//\treturn;\n\t\t\t\t\t//}\n\n\t\t\t\t\t//if ( is_open && toggled === false ) {\n\t\t\t\t\t//\tis_open = false;\n\t\t\t\t\t//\tif ( check_box ) {\n\t\t\t\t\t//\t\t$this.setCheckBox( true );\n\t\t\t\t\t//\t}\n\t\t\t\t\t//\t$elm.trigger( 'colorPickerClose' );\n\t\t\t\t\t//\n\t\t\t\t\t//}\n\n\t\t\t\t}\n\t\t\t} );\n\n\t\t} );\n\n\t\treturn this;\n\n\t};\n\n\t$.fn.TColorPicker.defaults = {};\n\t$.fn.TColorPicker.html_template = `<input class=\"cp-HEX\">`;\n\n} )( jQuery );"],"names":["Colors","window","undefined","_valueRanges","_Math","_round","_instance","_colors","grey","luminance","options","initInstance","THIS","_options","customBG","focusInstance","option","ColorConverter","setColor","newCol","type","alpha","limitValue","convertColors","col","colorMode","forceAlpha","colors","color","save","saveAsBackground","RGB","rgb","mixColors","getLuminance","colorObj","convert","ranges","RND","modes","mode","from","exceptions","SAVE","SMART","typ","getClosestWebColor","background","rgbaMixBlack","rgbaMixWhite","rgbaMixBGMixCustom","getWCAG2Ratio","getHueDelta","txt","parts","values","m","n","hasAlpha","HSL","shouldBeHex","isHex","isRgb","innerText","HEX","hue","h","mod","r","g","b","k","chroma","min","s","hsv","v","i","f","p","q","t","l","dependent","hsl","sv","sextant","fract","vsf","val","out","tmp","half","rgb1","rgb2","nominal","normalized","div","topColor","bottomColor","topAlpha","bottomAlpha","newColor","alphaTop","alphaBottom","lum1","lum2","ratio","value","max","$","$document","_colorPicker","_color","_$trigger","_$UI","_$z_slider","_$xy_slider","_$xy_cursor","_$z_cursor","_$alpha","_$alpha_cursor","_pointermove","_pointerdown","_pointerup","_GPU","_animate","cb","_html","_css","ColorPicker","preRender","toggle","extractValue","elm","resolveEventType","event","findElement","$elm","$this","position","$window","gap","build","pointerdown","e","action","xy_slider","z_slider","x","y","z","toggled","hueRGB","dark","light","colorText","HUEContrast","alphaContrast","a","translate3d","triggerValue","hasNoValue","render","_this","noop","opts","field","error_string","error_tip_box","mass_edit_mode","check_box","enabled","color_picker_instance","errStr","show","isWarning","sec","o","self","jQuery"],"mappings":"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"}