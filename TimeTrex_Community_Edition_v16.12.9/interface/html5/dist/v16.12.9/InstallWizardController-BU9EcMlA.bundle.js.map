{"version":3,"file":"InstallWizardController-BU9EcMlA.bundle.js","sources":["../../views/wizard/install/InstallWizardController.js"],"sourcesContent":["export class InstallWizardController extends BaseWizardController {\n\tconstructor( options = {} ) {\n\t\t_.defaults( options, {\n\t\t\tel: '.install-wizard',\n\n\t\t\ttype_array: null,\n\n\t\t\tcountry_array: null,\n\n\t\t\ttime_zone_array: null,\n\n\t\t\texternal_installer: null,\n\n\t\t\tcompany_id: null,\n\n\t\t\tuser_id: null,\n\n\t\t\tedit_view_error_ui_dic: {},\n\n\n\t\t} );\n\n\t\tsuper( options );\n\t}\n\n\tinit( options ) {\n\t\t//this._super('initialize', options );\n\t\tthis.title_1 = $( this.el ).find( '.title-1' );\n\t\tthis.steps = 5;\n\t\tthis.script_name = 'wizard_install';\n\t\tthis.wizard_id = 'InstallWizard';\n\t\tthis.api = TTAPI.APIInstall;\n\t\tServiceCaller.extra_url = '&disable_db=1';\n\t\tif ( _.size( LocalCacheData.getAllURLArgs() ) > 0 ) {\n\t\t\tvar url_args = LocalCacheData.getAllURLArgs();\n\t\t\tthis.current_step = url_args.a;\n\t\t\tthis.external_installer = url_args.external_installer;\n\t\t} else {\n\t\t\tthis.current_step = 'license';\n\t\t\tthis.external_installer = 0;\n\t\t}\n\n\t\tthis.render();\n\t}\n\n\trender() {\n\t\tvar $this = this;\n\t\tvar title = $( this.el ).find( '.title' );\n\n\t\tthis.next_btn = $( this.el ).find( '.forward-btn' );\n\t\tthis.back_btn = $( this.el ).find( '.back-btn' );\n\t\tthis.done_btn = $( this.el ).find( '.done-btn' );\n\n\t\ttitle.text( $.i18n._( 'Install Wizard' ) );\n\n\t\tthis.initCurrentStep();\n\t}\n\n\tinitCurrentStep( step ) {\n\t\tvar $this = this;\n\n\t\tif ( step ) {\n\t\t} else {\n\t\t\tstep = this.current_step;\n\t\t}\n\n\t\tProgressBar.showOverlay();\n\n\t\tswitch ( step ) {\n\t\t\tcase 'license':\n\t\t\t\tthis.api.getLicense( {\n\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\t$this.stepsDataDic[$this.current_step] = res.getResult();\n\t\t\t\t\t\t$this._initCurrentStep();\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 'requirements':\n\t\t\t\tthis.api.getRequirements( this.external_installer, {\n\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\tif ( res && res.isValid() ) {\n\t\t\t\t\t\t\tif ( res.getResult().action ) {\n\t\t\t\t\t\t\t\t$this.onNextClick();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$this.stepsDataDic[$this.current_step] = res.getResult();\n\t\t\t\t\t\t\t\t$this._initCurrentStep();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$this.current_step = 'license';\n\t\t\t\t\t\t\t$this.initCurrentStep();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 'databaseSchema':\n\t\t\t\tServiceCaller.extra_url = false;\n\t\t\t\tthis.api.getDatabaseSchema( {\n\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\tif ( res && res.isValid() ) {\n\t\t\t\t\t\t\t$this.stepsDataDic[$this.current_step] = res.getResult();\n\t\t\t\t\t\t\t$this._initCurrentStep();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$this.current_step = 'license';\n\t\t\t\t\t\t\t$this.initCurrentStep();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 'databaseConfig':\n\t\t\t\tthis.api.getDatabaseConfig( {\n\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\tif ( res && res.isValid() ) {\n\t\t\t\t\t\t\t$this.stepsDataDic[$this.current_step] = res.getResult();\n\t\t\t\t\t\t\t$this.type_array = res.getResult().type_options;\n\t\t\t\t\t\t\t$this._initCurrentStep();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$this.current_step = 'license';\n\t\t\t\t\t\t\t$this.initCurrentStep();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 'postUpgrade':\n\t\t\t\tthis.api.postUpgrade( {\n\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\tif ( res && res.isValid() ) {\n\t\t\t\t\t\t\t$this.stepsDataDic[$this.current_step] = res.getResult();\n\t\t\t\t\t\t\t$this._initCurrentStep();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$this.current_step = 'license';\n\t\t\t\t\t\t\t$this.initCurrentStep();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 'systemSettings':\n\t\t\t\tthis.api.getSystemSettings( {\n\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\tif ( res && res.isValid() ) {\n\t\t\t\t\t\t\t$this.stepsDataDic[$this.current_step] = res.getResult();\n\t\t\t\t\t\t\t$this.time_zone_array = res.getResult().time_zone_options;\n\t\t\t\t\t\t\t$this._initCurrentStep();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$this.current_step = 'license';\n\t\t\t\t\t\t\t$this.initCurrentStep();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 'company':\n\t\t\t\tthis.api.getCompany( this.company_id, {\n\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\tif ( res && res.isValid() ) {\n\t\t\t\t\t\t\t$this.stepsDataDic[$this.current_step] = res.getResult();\n\t\t\t\t\t\t\t$this._initCurrentStep();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$this.current_step = 'license';\n\t\t\t\t\t\t\t$this.initCurrentStep();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 'user':\n\t\t\t\tvar company_id = '';\n\t\t\t\tif ( Global.isSet( this.stepsDataDic[this.current_step] ) ) {\n\t\t\t\t\tcompany_id = this.stepsDataDic[this.current_step]['company_id'];\n\t\t\t\t}\n\t\t\t\tthis.api.getUser( company_id, this.user_id, {\n\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\tif ( res && res.isValid() ) {\n\t\t\t\t\t\t\t$this.stepsDataDic[$this.current_step] = res.getResult();\n\t\t\t\t\t\t\t$this._initCurrentStep();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$this.current_step = 'license';\n\t\t\t\t\t\t\t$this.initCurrentStep();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 'installDone':\n\t\t\t\tvar upgrade = '';\n\t\t\t\tif ( Global.isSet( $this.stepsDataDic[$this.current_step] ) ) {\n\t\t\t\t\tupgrade = $this.stepsDataDic[$this.current_step]['upgrade'];\n\t\t\t\t}\n\t\t\t\tthis.api.installDone( upgrade, {\n\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\tif ( res && res.isValid() ) {\n\t\t\t\t\t\t\t$this.stepsDataDic[$this.current_step] = res.getResult();\n\t\t\t\t\t\t\t$this._initCurrentStep();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$this.current_step = 'license';\n\t\t\t\t\t\t\t$this.initCurrentStep();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 'maintenanceJobs':\n\t\t\t\tthis.api.getMaintenanceJobs( {\n\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\tif ( res && res.isValid() ) {\n\t\t\t\t\t\t\tif ( res.getResult() === true ) {\n\t\t\t\t\t\t\t\t$this.current_step = 'installDone';\n\t\t\t\t\t\t\t\t$this.initCurrentStep();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$this.stepsDataDic[$this.current_step] = res.getResult();\n\t\t\t\t\t\t\t\t$this._initCurrentStep();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$this.current_step = 'license';\n\t\t\t\t\t\t\t$this.initCurrentStep();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t_initCurrentStep( step ) {\n\t\tvar $this = this;\n\t\t$this.setButtonsStatus(); // set button enabled or disabled\n\t\t$this.buildCurrentStepUI();\n\t\t$this.buildCurrentStepData();\n\t\t$this.setCurrentStepValues();\n\t}\n\n\tsetButtonsStatus() {\n\t\tif ( this.current_step === 'license' ) {\n\t\t\tGlobal.setWidgetEnabled( this.back_btn, false );\n\t\t\tGlobal.setWidgetEnabled( this.next_btn, false );\n\t\t} else {\n\t\t\tGlobal.setWidgetEnabled( this.back_btn, true );\n\t\t\tGlobal.setWidgetEnabled( this.next_btn, true );\n\t\t}\n\n\t\tif ( this.current_step !== 'installDone' ) {\n\t\t\tGlobal.setWidgetEnabled( this.done_btn, false );\n//\t\t\tGlobal.setWidgetEnabled( this.next_btn, true );\n\t\t} else {\n\t\t\tGlobal.setWidgetEnabled( this.done_btn, true );\n\t\t\tGlobal.setWidgetEnabled( this.next_btn, false );\n\t\t}\n\t}\n\n\t//Create each page UI\n\tbuildCurrentStepUI() {\n\n\t\tvar $this = this;\n\t\tvar step_title = this.content_div.find( '.step-title > .wizard-label' );\n\t\tvar license = this.content_div.find( '.license' );\n\t\tvar requirements = this.content_div.find( '.requirements' );\n\t\tvar databaseConfig = this.content_div.find( '.databaseConfig' );\n\t\tvar databaseSchema = this.content_div.find( '.databaseSchema' );\n\t\tvar postUpgrade = this.content_div.find( '.postUpgrade' );\n\t\tvar systemSettings = this.content_div.find( '.systemSettings' );\n\t\tvar company = this.content_div.find( '.company' );\n\t\tvar user = this.content_div.find( '.user' );\n\t\tvar installDone = this.content_div.find( '.installDone' );\n\t\tvar maintenanceJobs = this.content_div.find( '.maintenanceJobs' );\n\n\t\tvar form_item_input;\n\t\tvar stepData = this.stepsDataDic[this.current_step];\n\t\tthis.content_div.find( '.step' ).hide();\n\t\tthis.content_div.find( '.content-handle-btn' ).empty();\n\n\t\tif ( Global.isSet( this.stepsWidgetDic[this.current_step] ) ) {\n\n\t\t} else {\n\t\t\tthis.stepsWidgetDic[this.current_step] = {};\n\t\t}\n\n\t\tswitch ( this.current_step ) {\n\t\t\tcase 'license':\n\t\t\t\tlicense.empty();\n\t\t\t\tthis.title_1.text( $.i18n._( 'License Acceptance' ) );\n\t\t\t\tif ( stepData['install_mode'] ) {\n\t\t\t\t\tif ( stepData['license_text'] ) {\n\t\t\t\t\t\tstep_title.text( $.i18n._( 'Please read through the following license and if you agree and accept it, click the ' + '\"' + $.i18n._( 'I Accept' ) + '\"' + 'checkbox at the bottom.' ) );\n\n\t\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_AREA );\n\t\t\t\t\t\tform_item_input.TTextArea( { field: 'license_text', width: '65%', height: '80%' } );\n\t\t\t\t\t\tthis.stepsWidgetDic[this.current_step][form_item_input.getField()] = form_item_input;\n\n\t\t\t\t\t\tlicense.append( form_item_input );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlicense.append( stepData['error_message'] );\n\t\t\t\t\t}\n\n\t\t\t\t\tlicense.append( '<br>' );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.CHECKBOX );\n\t\t\t\t\tform_item_input.TCheckbox( { field: 'license_accept' } );\n\t\t\t\t\tform_item_input.unbind( 'formItemChange' ).bind( 'formItemChange', function( e, target ) {\n\t\t\t\t\t\tif ( target.getValue() ) {\n\t\t\t\t\t\t\tGlobal.setWidgetEnabled( $this.next_btn, true );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tGlobal.setWidgetEnabled( $this.next_btn, false );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t\t\tthis.stepsWidgetDic[this.current_step][form_item_input.getField()] = form_item_input;\n\n\t\t\t\t\tlicense.append( form_item_input );\n\n\t\t\t\t\tvar accept_label = '<span> ' + $.i18n._( 'I Accept' ) + '</span>';\n\n\t\t\t\t\tlicense.append( accept_label );\n\n\t\t\t\t} else {\n\t\t\t\t\tvar license_html = $.i18n._( 'The installer has already been run, as a safety measure it has been disabled from running again. If you are absolutely sure you want to run it again, or upgrade your system, please go to your timetrex.ini.php file and set \"installer_enabled\" to \"TRUE\". The line should look like' ) + ':';\n\t\t\t\t\tlicense_html = license_html + '<br>';\n\t\t\t\t\tlicense_html = license_html + '<br>';\n\t\t\t\t\tlicense_html = license_html + '\"' + '<b>installer_enabled = TRUE</b>' + '\"';\n\t\t\t\t\tlicense_html = license_html + '<br>';\n\t\t\t\t\tlicense_html = license_html + '<br>';\n\t\t\t\t\tlicense_html = license_html + $.i18n._( 'After this change has been made, you can click the \"Re-Check\" button below to begin your installation.' );\n\t\t\t\t\tlicense_html = license_html + '<br>';\n\t\t\t\t\tlicense_html = license_html + '<br>';\n\t\t\t\t\tlicense_html = license_html + $.i18n._( 'For help, please visit' ) + ' <a href=\"https://www.timetrex.com\">www.timetrex.com</a> ';\n\t\t\t\t\tlicense.append( license_html );\n\n\t\t\t\t\tvar ribbon_button_box = this.getRibbonButtonBox();\n\n\t\t\t\t\tvar ribbon_btn = $( '<li><button class=\"ribbon-sub-menu-icon\" id=\"re-check\">' + $.i18n._( 'Re-Check' ) + '</button></li>' );\n\t\t\t\t\tribbon_btn.unbind( 'click' ).bind( 'click', function() {\n\t\t\t\t\t\tProgressBar.showOverlay();\n\t\t\t\t\t\t$this.api.getLicense( {\n\t\t\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\t\t\t$this.stepsDataDic[$this.current_step] = res.getResult();\n\t\t\t\t\t\t\t\t$this._initCurrentStep();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t} );\n\n\t\t\t\t\tribbon_button_box.children().eq( 0 ).append( ribbon_btn );\n\n\t\t\t\t\tthis.content_div.find( '.content-handle-btn' ).html( ribbon_button_box );\n\n\t\t\t\t}\n\n\t\t\t\tlicense.show();\n\t\t\t\tbreak;\n\n\t\t\tcase 'requirements':\n\n\t\t\t\tvar step_title_htm = $.i18n._( 'In order for your' ) + ' '\n\t\t\t\t\t+ $.i18n._( stepData.application_name ) + ' '\n\t\t\t\t\t+ $.i18n._( 'installation to function properly, please ensure all of the system check items listed below are marked as' ) + ' '\n\t\t\t\t\t+ '<b>OK</b>' + '. '\n\t\t\t\t\t+ $.i18n._( 'If any are red, please take the necessary steps to fix them.' );\n\n\t\t\t\tif ( stepData.check_all_requirements != 0 ) {\n\n\t\t\t\t\tif ( stepData.tt_product_edition > 10 ) {\n\t\t\t\t\t\tstep_title_htm = step_title_htm\n\t\t\t\t\t\t\t+ '<p style=\"background-color: #FFFF00\">'\n\t\t\t\t\t\t\t+ $.i18n._( 'For installation assistance, please contact' ) + ' '\n\t\t\t\t\t\t\t+ '<a href=\"https://www.timetrex.com/contact-us\" target=\"_blank\">' + $.i18n._( 'TimeTrex support' ) + '</a>';\n\t\t\t\t\t} else if ( stepData.tt_product_edition == 10 ) {\n\n\t\t\t\t\t\tstep_title_htm = step_title_htm\n\t\t\t\t\t\t\t+ '<p style=\"background-color: #FFFF00\">'\n\t\t\t\t\t\t\t+ $.i18n._( 'For installation assistance, please join our community' ) + ' '\n\t\t\t\t\t\t\t+ '<a href=\"https://forums.timetrex.com\" target=\"_blank\">' + $.i18n._( 'forums' ) + '</a>'\n\t\t\t\t\t\t\t+ ' ' + $.i18n._( 'or contact a TimeTrex support expert for' ) + ' '\n\t\t\t\t\t\t\t+ '<a href=\"https://www.timetrex.com/setup-support\" target=\"_blank\">' + $.i18n._( 'Implementation Support Services' ) + '</a></p>';\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( stepData.check_all_requirements == 1 ) {\n\t\t\t\t\tGlobal.setWidgetEnabled( this.next_btn, false );\n\t\t\t\t}\n\n\t\t\t\tif ( _.size( stepData.extended_error_messages ) > 0 ) {\n\t\t\t\t\tGlobal.setWidgetEnabled( this.next_btn, false );\n\t\t\t\t}\n\n\t\t\t\tstep_title.html( step_title_htm );\n\n\t\t\t\tthis.title_1.text( $.i18n._( 'System Check Acceptance' ) );\n\n\t\t\t\t// timetrex version, php version.\n\t\t\t\tvar requirements_column1 = requirements.find( '.first-column' );\n\t\t\t\trequirements_column1.empty();\n\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\tform_item_input.TText( { field: 'timetrex_version' } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'TimeTrex Version' ), form_item_input, requirements_column1, '' );\n\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\tform_item_input.TText( { field: 'php_version' } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'PHP Version' ), form_item_input, requirements_column1, '' );\n\n\t\t\t\trequirements.find( '.first-label' ).empty();\n\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.SEPARATED_BOX );\n\t\t\t\tform_item_input.SeparatedBox( { label: $.i18n._( 'PHP Requirements' ) } );\n\t\t\t\tthis.addEditFieldToColumn( null, form_item_input, requirements.find( '.first-label' ) );\n\n\t\t\t\tvar requirements_column2 = requirements.find( '.second-column' );\n\t\t\t\trequirements_column2.empty();\n\t\t\t\tif ( stepData.check_all_requirements == 0 ) {\n\t\t\t\t\trequirements_column2.html( $.i18n._( 'All System Requirements have been met successfully' ) + '!' );\n\t\t\t\t\trequirements_column2.addClass( 'all-ok' );\n\t\t\t\t} else {\n\t\t\t\t\t// php requirements\n\t\t\t\t\trequirements_column2.removeClass( 'all-ok' );\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'database_engine' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'PostgreSQL Enabled' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'bcmath' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'BCMATH Enabled' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'mbstring' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'MBSTRING Enabled' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'gettext' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'GETTEXT Enabled' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'intl' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'INTL Enabled' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'soap' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'SOAP Enabled' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'gd' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'GD Enabled' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'json' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'JSON Enabled' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'simplexml' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'SimpleXML Enabled' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'curl' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'CURL Enabled' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'zip' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'ZIP Enabled' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'mail' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'MAIL Enabled' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'openssl' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'OpenSSL Enabled' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'pear' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'PEAR Enabled' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'safe_mode' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Safe Mode Turned Off' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'disabled_functions' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'PHP DISABLE_FUNCTIONS' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'allow_fopen_url' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'ALLOW_FOPEN_URL Turned Off' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'disk_space' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Disk Space' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\t// other requirements\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'memory_limit' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Memory Limit' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'post_size' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Max Post Size' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'upload_size' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Max Upload Size' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'base_url' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Base URL' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'system_timezone' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'System TimeZone' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'php_int_size' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'PHP 64-bit Support' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'base_dir' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'PHP Open BaseDir' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'cli_executable' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'PHP CLI Executable' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'config_file' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Writable' ) + ' ' + $.i18n._( stepData.application_name ) + ' ' + $.i18n._( 'Configuration File' ) + '<br>' + '(timetrex.ini.php)', form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'cache_dir' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Writable Cache Directory' ), form_item_input, requirements_column2, '', null, true, true );\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'safe_cache_dir' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Secure Cache Directory' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'storage_dir' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Writable Storage Directory' ), form_item_input, requirements_column2, '', null, true, true );\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'safe_storage_dir' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Secure Storage Directory' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'log_dir' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Writable Log Directory' ), form_item_input, requirements_column2, '', null, true, true );\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'safe_log_dir' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Secure Log Directory' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'empty_cache_dir' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Empty Cache Directory' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'file_permission' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'File Permissions' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'file_checksums' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'File CheckSums' ), form_item_input, requirements_column2, '', null, true, true );\n\n\t\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\t\tform_item_input.TText( { field: 'cli_requirements' } );\n\t\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'PHP CLI Requirements' ), form_item_input, requirements_column2, '', null, true, true );\n\t\t\t\t}\n\n\t\t\t\t// forth column\n\n\t\t\t\tvar requirements_column4 = requirements.find( '.forth-column' );\n\t\t\t\trequirements_column4.empty();\n\n\t\t\t\tif ( _.size( stepData.extended_error_messages ) > 0 ) {\n\t\t\t\t\tvar error_html = '<span><b>' + $.i18n._( 'Detailed Error Messages' ) + '</b></span>';\n\t\t\t\t\terror_html = error_html + '<br>';\n\t\t\t\t\terror_html = error_html + '<br>';\n\t\t\t\t\tfor ( var i in stepData.extended_error_messages ) {\n\t\t\t\t\t\tvar errors = stepData['extended_error_messages'][i];\n\t\t\t\t\t\tfor ( var key in errors ) {\n\t\t\t\t\t\t\terror_html = error_html + errors[key];\n\t\t\t\t\t\t\terror_html = error_html + '<br>';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\trequirements_column4.html( error_html );\n\t\t\t\t\trequirements_column4.addClass( 'dataError' );\n\t\t\t\t} else {\n\t\t\t\t\trequirements_column4.removeClass( 'dataError' );\n\t\t\t\t}\n\n\t\t\t\t// fifth column\n\t\t\t\tvar requirements_column5 = requirements.find( '.fifth-column' );\n\t\t\t\trequirements_column5.empty();\n\n\t\t\t\tvar columns_html = $.i18n._( 'Your' ) + ' ' + $.i18n._( stepData['application_name'] ) + ' ' + $.i18n._( 'configuration file' ) + ' ';\n\t\t\t\tcolumns_html = columns_html + '(timetrex.ini.php)';\n\t\t\t\tcolumns_html = columns_html + ' ' + $.i18n._( 'is located at' ) + ':';\n\t\t\t\tcolumns_html = columns_html + '<br>';\n\t\t\t\tcolumns_html = columns_html + '<p><b>' + stepData['config_file_loc'] + '</b></p>';\n\t\t\t\tcolumns_html = columns_html + '<br>';\n\t\t\t\tcolumns_html = columns_html + $.i18n._( 'Your PHP configuration file' ) + ' ' + '(php.ini)' + ' ' + $.i18n._( 'is located at' ) + ':';\n\t\t\t\tcolumns_html = columns_html + '<br>';\n\n\t\t\t\tif ( stepData['php_include_path'] ) {\n\t\t\t\t\tcolumns_html = columns_html + '<p><b>' + stepData['php_config_file'] + '</b>' + ', ' + $.i18n._( 'the include path is' ) + ': ' + '\"' + '<b>' + stepData['php_include_path'] + '</b>' + '\"' + '</p>';\n\t\t\t\t} else {\n\t\t\t\t\tcolumns_html = columns_html + '<p><b>' + stepData['php_config_file'] + '</b>' + ', ' + $.i18n._( 'the include path is' ) + ': ' + '\"\"' + '</p>';\n\t\t\t\t}\n\n\t\t\t\tcolumns_html = columns_html + $.i18n._( 'Detailed' ) + '&nbsp;';\n\t\t\t\tcolumns_html = columns_html + '<a href=\"phpinfo.php\" target=\"_blank\">' + $.i18n._( 'PHP Information' ) + '</a>';\n\n\t\t\t\tif ( stepData.check_all_requirements == 0 ) {\n\n\t\t\t\t} else {\n\t\t\t\t\trequirements_column5.html( columns_html );\n\t\t\t\t}\n\n\t\t\t\tvar ribbon_button_box = this.getRibbonButtonBox();\n\n//\t\t\t\tribbon_button_box.css( 'width', '96%' );\n\t\t\t\tvar ribbon_btn = $( '<li><button class=\"ribbon-sub-menu-icon\" id=\"re-check\">' + $.i18n._( 'Re-Check' ) + '</button></li>' );\n\t\t\t\tribbon_btn.unbind( 'click' ).bind( 'click', function() {\n\t\t\t\t\tProgressBar.showOverlay();\n\t\t\t\t\t$this.api.getRequirements( $this.external_installer, {\n\t\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\t\tif ( res && res.getResult().action ) {\n\t\t\t\t\t\t\t\t$this.onNextClick();\n\t\t\t\t\t\t\t} else if ( res && res.isValid() ) {\n\t\t\t\t\t\t\t\t$this.stepsDataDic[$this.current_step] = res.getResult();\n\t\t\t\t\t\t\t\t$this._initCurrentStep();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t\t} );\n\n\t\t\t\tribbon_button_box.children().eq( 0 ).append( ribbon_btn );\n\n\t\t\t\tthis.content_div.find( '.content-handle-btn' ).html( ribbon_button_box );\n\n\t\t\t\trequirements.show();\n\t\t\t\tbreak;\n\t\t\tcase 'user':\n\t\t\t\tstep_title.html( $.i18n._( 'Please enter the administrator user name and password' )\n\t\t\t\t\t+ '<br>'\n\t\t\t\t\t+ '<br>'\n\t\t\t\t\t+ '<b>' + '*' + $.i18n._( 'IMPORTANT' ) + '*' + ':' + '</b>' + ' '\n\t\t\t\t\t+ $.i18n._( 'Please write this information down, as you will need it later to login to' ) + ' '\n\t\t\t\t\t+ $.i18n._( stepData.application_name )\n\t\t\t\t);\n\t\t\t\tthis.title_1.text( $.i18n._( 'Administrator Sign In' ) );\n\t\t\t\tvar user_column1 = user.find( '.first-column' );\n\t\t\t\tuser_column1.empty();\n\n\t\t\t\t// User Name\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'user_name', width: 200 } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'User Name' ), form_item_input, user_column1 );\n\n\t\t\t\t// Password\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.PASSWORD_INPUT );\n\n\t\t\t\tform_item_input.TTextInput( { field: 'password', width: 200 } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Password' ), form_item_input, user_column1 );\n\n\t\t\t\t// Password(confirm)\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.PASSWORD_INPUT );\n\n\t\t\t\tform_item_input.TTextInput( { field: 'password2', width: 200 } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Password (Confirm)' ), form_item_input, user_column1 );\n\n\t\t\t\t// First Name\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'first_name', width: 200 } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'First Name' ), form_item_input, user_column1 );\n\n\t\t\t\t// Last Name\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'last_name', width: 200 } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Last Name' ), form_item_input, user_column1 );\n\n\t\t\t\t// Email\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'work_email', width: 200 } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Email' ), form_item_input, user_column1 );\n\n\t\t\t\tuser.show();\n\t\t\t\tbreak;\n\n\t\t\tcase 'company':\n\t\t\t\tstep_title.text( $.i18n._( 'Please enter your company information below.' ) );\n\t\t\t\tthis.title_1.text( $.i18n._( 'Company Information' ) );\n\t\t\t\tvar company_column1 = company.find( '.first-column' );\n\t\t\t\tcompany_column1.empty();\n\n\t\t\t\t// Company Full Name\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'name', width: 200 } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Company Full Name' ), form_item_input, company_column1 );\n\n\t\t\t\t// Company Short Name\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'short_name', width: 200 } );\n\n\t\t\t\tvar widgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\t\t\tvar label = $( '<span class=\\'widget-right-label\\'> ( ' + $.i18n._( 'ie' ) + ': ' + $.i18n._( 'America Online' ) + ' = ' + $.i18n._( 'AOL' ) + ', ' + $.i18n._( 'no spaces' ) + ' )</span>' );\n\n\t\t\t\twidgetContainer.append( form_item_input );\n\t\t\t\twidgetContainer.append( label );\n\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Company Short Name' ), form_item_input, company_column1, '', widgetContainer, null, true );\n\n\t\t\t\t// Industry\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\t\tform_item_input.TComboBox( { field: 'industry_id' } );\n\t\t\t\tform_item_input.setSourceData( this.stepsDataDic[this.current_step]['industry_options'] );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Industry' ), form_item_input, company_column1 );\n\n\t\t\t\t// Address (Line 1)\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'address1', width: 200 } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Address (Line 1)' ), form_item_input, company_column1 );\n\n\t\t\t\t// Address (Line 2)\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'address2', width: 200 } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Address (Line 2)' ), form_item_input, company_column1 );\n\n\t\t\t\t// City\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'city', width: 200 } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'City' ), form_item_input, company_column1 );\n\n\t\t\t\t// Country\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\t\tform_item_input.TComboBox( { field: 'country' } );\n\t\t\t\tform_item_input.setSourceData( this.stepsDataDic[this.current_step]['country_options'] );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Country' ), form_item_input, company_column1 );\n\n\t\t\t\t// Province / State\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\t\tform_item_input.TComboBox( { field: 'province' } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Province / State' ), form_item_input, company_column1 );\n\n\t\t\t\t// Postal / ZIP Code\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'postal_code', width: 200 } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Postal / ZIP Code' ), form_item_input, company_column1 );\n\n\t\t\t\t// Phone\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'work_phone', width: 200 } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Phone' ), form_item_input, company_column1 );\n\t\t\t\t//company.find( '.first-column' ).css( 'border', '1px solid #C7C7C7' );\n\t\t\t\t//\n\t\t\t\t//this.content_div.find( '.company' ).css( {height: this.content_div.height() - step_title.height() - 15} );\n\t\t\t\t//$( window ).resize( function() {\n\t\t\t\t//\t$this.content_div.find( '.company' ).css( {height: $this.content_div.height() - step_title.height() - 15} );\n\t\t\t\t//} );\n\n\t\t\t\tcompany.show();\n\t\t\t\tbreak;\n\n\t\t\tcase 'systemSettings':\n\t\t\t\tstep_title.text( $.i18n._( 'Please enter your site configuration information below. If you are unsure of the fields, we suggest that you use the default values.' ) );\n\t\t\t\tthis.title_1.text( $.i18n._( 'System Settings' ) );\n\t\t\t\tvar systemSettings_column1 = systemSettings.find( '.first-column' );\n\t\t\t\tsystemSettings_column1.empty();\n\t\t\t\t// URL\n\t\t\t\tvar widgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\n\t\t\t\tvar form_item_host_input = Global.loadWidgetByName( FormItemType.TEXT );\n\t\t\t\tform_item_host_input.TText( { field: 'host_name' } );\n\t\t\t\tform_item_host_input.setValue( 'http://' + this.stepsDataDic[this.current_step]['host_name'] );\n\t\t\t\twidgetContainer.append( form_item_host_input );\n\n\t\t\t\tvar form_item_url_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_url_input.TTextInput( { field: 'base_url', width: 200 } );\n\n\t\t\t\twidgetContainer.append( form_item_url_input );\n\n\t\t\t\tvar ie_label = $( '<span class=\\'widget-right-label\\'>(' + $.i18n._( 'No trailing slash' ) + ')</span>' );\n\n\t\t\t\twidgetContainer.append( ie_label );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'URL' ), [form_item_host_input, form_item_url_input], systemSettings_column1, '', widgetContainer, null, true );\n\n\t\t\t\t// Log Directory\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'log_dir', width: 400 } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Log Directory' ), form_item_input, systemSettings_column1 );\n\n\t\t\t\t// Storage Directory\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'storage_dir', width: 400 } );\n\n\t\t\t\tvar widgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\t\t\tvar label = $( '<span class=\\'widget-right-label\\'> (' + $.i18n._( 'for things like attachments, logos, etc...' ) + ')</span>' );\n\n\t\t\t\twidgetContainer.append( form_item_input );\n\t\t\t\twidgetContainer.append( label );\n\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Storage Directory' ), form_item_input, systemSettings_column1, '', widgetContainer, null, true );\n\n\t\t\t\t// Cache Directory\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'cache_dir', width: 400 } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Cache Directory' ), form_item_input, systemSettings_column1 );\n\n\t\t\t\t// System timezone\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\t\tform_item_input.TComboBox( { field: 'time_zone' } );\n\t\t\t\tform_item_input.setSourceData( $this.time_zone_array );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Server Time Zone' ), form_item_input, systemSettings_column1 );\n\n\t\t\t\tsystemSettings.show();\n\t\t\t\tbreak;\n\t\t\tcase 'databaseConfig':\n\n\t\t\t\tdatabaseConfig.find( '.step-tip' ).text( $.i18n._( 'Privileged Database User Name / Password. This is only used to create the database schema if the above user does not have permissions to do so.' ) );\n\n\t\t\t\tvar step_title_htm = '';\n\t\t\t\tstep_title_htm = step_title_htm + $.i18n._( 'Please enter your database configuration information below. If you are unsure, use the default values.' );\n\n\t\t\t\tstep_title.html( step_title_htm );\n\t\t\t\tthis.title_1.text( $.i18n._( 'Database Configuration' ) );\n\n\t\t\t\tvar databaseConfig_column1 = databaseConfig.find( '.first-column' );\n\t\t\t\tdatabaseConfig_column1.empty();\n\n\t\t\t\t// database type\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.COMBO_BOX );\n\t\t\t\tform_item_input.TComboBox( { field: 'type' } );\n\t\t\t\tform_item_input.setSourceData( $this.type_array );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Database Type' ), form_item_input, databaseConfig_column1 );\n\n\t\t\t\t// host name\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'host', width: 200 } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Host Name' ), form_item_input, databaseConfig_column1 );\n\n\t\t\t\t// database name\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'database_name', width: 200 } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Database Name' ), form_item_input, databaseConfig_column1 );\n\n\t\t\t\t// Database User Name\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'user', width: 200 } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Database User Name' ), form_item_input, databaseConfig_column1 );\n\n\t\t\t\t// Database Password\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'password', width: 200 } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Database Password' ), form_item_input, databaseConfig_column1 );\n\n\t\t\t\tvar databaseConfig_column2 = databaseConfig.find( '.second-column' );\n\t\t\t\tdatabaseConfig_column2.empty();\n\n\t\t\t\t// Privileged Database User Name\n\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'priv_user', width: 200 } );\n\n\t\t\t\tvar widgetContainer = $( '<div class=\\'widget-h-box\\'></div>' );\n\t\t\t\tvar label = $( '<span class=\\'widget-right-label\\'>( ' + $.i18n._( 'ie: root, postgres' ) + ' )</span>' );\n\n\t\t\t\twidgetContainer.append( form_item_input );\n\t\t\t\twidgetContainer.append( label );\n\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Privileged Database User Name' ), form_item_input, databaseConfig_column2, '', widgetContainer );\n\n\t\t\t\t// Privileged Database User Password\n\t\t\t\tform_item_input = Global.loadWidgetByName( FormItemType.TEXT_INPUT );\n\t\t\t\tform_item_input.TTextInput( { field: 'priv_password', width: 200 } );\n\t\t\t\tthis.addEditFieldToColumn( $.i18n._( 'Privileged Database User Password' ), form_item_input, databaseConfig_column2 );\n\n\t\t\t\tvar ribbon_button_box = this.getRibbonButtonBox();\n\t\t\t\tvar ribbon_btn = $( '<li><button class=\"ribbon-sub-menu-icon\" id=\"testConnection\">' + $.i18n._( 'Test Connection' ) + '</button></li>' );\n\t\t\t\tvar $this = this;\n\t\t\t\tribbon_btn.unbind( 'click' ).bind( 'click', function() {\n\t\t\t\t\t$this.onTestDatabaseConnectionClick( $this, true );\n\t\t\t\t} );\n\n\t\t\t\tribbon_button_box.children().eq( 0 ).append( ribbon_btn );\n\n\t\t\t\tthis.content_div.find( '.content-handle-btn' ).html( ribbon_button_box );\n\t\t\t\t//databaseConfig.find( '.first-column' ).css( 'border', '1px solid #C7C7C7' );\n\n\t\t\t\t//this.content_div.find( '.databaseConfig' ).css( {height: this.content_div.height() - step_title.height() - 65} );\n\t\t\t\t//$( window ).resize( function() {\n\t\t\t\t//\t$this.content_div.find( '.databaseConfig' ).css( {height: $this.content_div.height() - step_title.height() - 65} );\n\t\t\t\t//} );\n\n\t\t\t\tdatabaseConfig.show();\n\t\t\t\tbreak;\n\t\t\tcase 'databaseSchema':\n\t\t\t\tthis.title_1.text( $.i18n._( 'Database Configuration' ) );\n\t\t\t\tif ( stepData.upgrade ) {\n\t\t\t\t\tdatabaseSchema.find( '.s-label' ).text( $.i18n._( 'Upgrading database, please wait...' ) );\n\t\t\t\t} else {\n\t\t\t\t\tdatabaseSchema.find( '.s-label' ).text( $.i18n._( 'Initializing database, please wait...' ) );\n\t\t\t\t}\n\n\t\t\t\tstep_title.empty();\n\t\t\t\tdatabaseSchema.show();\n\t\t\t\tbreak;\n\t\t\tcase 'postUpgrade':\n\t\t\t\tstep_title.empty();\n\t\t\t\tthis.title_1.text( $.i18n._( 'Upgrade Complete' ) );\n\t\t\t\tpostUpgrade.html( '<b>' + $.i18n._( 'Congratulations!' ) + '</b>' + ' '\n\t\t\t\t\t+ $.i18n._( 'You have successfully upgraded' ) + ' '\n\t\t\t\t\t+ $.i18n._( stepData.application_name ) + ' '\n\t\t\t\t\t+ $.i18n._( 'to' ) + ' '\n\t\t\t\t\t+ '<b>' + stepData.application_version + '</b>'\n\t\t\t\t\t+ '<br>'\n\t\t\t\t\t+ '<br>'\n\t\t\t\t\t+ '<b>' + $.i18n._( 'Note' ) + ':' + '</b>' + ' '\n\t\t\t\t\t+ $.i18n._( 'In order to access new features you may need to re-apply the' ) + ' '\n\t\t\t\t\t+ '<b>' + $.i18n._( 'Administrator' ) + '</b>' + ' '\n\t\t\t\t\t+ $.i18n._( 'permission preset to each administrator employee in' ) + ' '\n\t\t\t\t\t+ $.i18n._( stepData.application_name ) + '.'\n\t\t\t\t);\n\t\t\t\tpostUpgrade.show();\n\t\t\t\tbreak;\n\t\t\tcase 'installDone':\n\t\t\t\tvar loc = window.location;\n\t\t\t\tvar currentURL = loc.protocol + '//' + loc.host + loc.pathname;\n\t\t\t\tvar login_url = currentURL + '#!m=Login';\n\n\t\t\t\tstep_title.empty();\n\t\t\t\tthis.title_1.text( $.i18n._( 'Done!' ) );\n\t\t\t\tif ( stepData.upgrade == 1 ) {\n\t\t\t\t\tinstallDone.html( '<b>' + $.i18n._( 'Congratulations!' ) + '</b>' + ' '\n\t\t\t\t\t\t+ $.i18n._( 'You have successfully upgraded' ) + ' ' + $.i18n._( stepData.application_name )\n\t\t\t\t\t\t+ '<br>'\n\t\t\t\t\t\t+ '<br>'\n\t\t\t\t\t\t+ $.i18n._( 'You may now' ) + ' '\n\t\t\t\t\t\t+ '<a href=\"' + login_url + '\">' + $.i18n._( 'sign in' ) + '</a>' + ' '\n\t\t\t\t\t\t+ $.i18n._( 'with the user name/password that you created earlier.' )\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tinstallDone.html( '<b>' + $.i18n._( 'Congratulations!' ) + ' ' + '</b>' + ' '\n\t\t\t\t\t\t+ $.i18n._( 'You have successfully installed' ) + ' ' + $.i18n._( stepData.application_name )\n\t\t\t\t\t\t+ '<br>'\n\t\t\t\t\t\t+ '<br>'\n\t\t\t\t\t\t+ $.i18n._( 'You may now' ) + ' '\n\t\t\t\t\t\t+ '<a href=\"' + login_url + '\">' + $.i18n._( 'sign in' ) + '</a>' + ' '\n\t\t\t\t\t\t+ $.i18n._( 'with the user name/password that you created earlier.' )\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tinstallDone.show();\n\t\t\t\tbreak;\n\t\t\tcase 'maintenanceJobs':\n\t\t\t\tstep_title.empty();\n\t\t\t\tthis.title_1.text( $.i18n._( 'Maintenance Jobs' ) );\n\t\t\t\tvar maintenanceJob_html = $.i18n._( stepData.application_name ) + ' '\n\t\t\t\t\t+ '<b>' + $.i18n._( 'requires' ) + '</b>' + ' '\n\t\t\t\t\t+ $.i18n._( 'that maintenance jobs be run regularly throughout the day.' )\n\t\t\t\t\t+ '<br>'\n\t\t\t\t\t+ '<p style=\"color: #ff0000\">'\n\t\t\t\t\t+ '<b>'\n\t\t\t\t\t+ $.i18n._( 'This is extremely important and without these maintenance jobs running' ) + ' '\n\t\t\t\t\t+ $.i18n._( stepData.application_name ) + ' '\n\t\t\t\t\t+ $.i18n._( 'will fail to operate correctly.' )\n\t\t\t\t\t+ '</b>'\n\t\t\t\t\t+ '</p>'\n\t\t\t\t\t+ '<br>'\n\t\t\t\t\t+ '<br>'\n\t\t\t\t\t+ '<div style=\"background-color: #eee; width: 100%;\">'\n\t\t\t\t\t+ '<br>';\n\n\t\t\t\tif ( stepData.php_os == 'WINNT' ) {\n\t\t\t\t\tmaintenanceJob_html = maintenanceJob_html + $.i18n._( 'In Windows simply run this command as Administrator.' ) + '<br><br>' + stepData.schedule_maintenance_job_command;\n\t\t\t\t} else {\n\t\t\t\t\tmaintenanceJob_html = maintenanceJob_html + $.i18n._( 'In most Linux distributions, you can run the following command' );\n\t\t\t\t\tif ( stepData.is_sudo_installed == false ) {\n\t\t\t\t\t\tmaintenanceJob_html = maintenanceJob_html + +' ' + $.i18n._( 'as root' );\n\t\t\t\t\t}\n\t\t\t\t\tmaintenanceJob_html = maintenanceJob_html + ':' + '<br>' + '<b>';\n\n\t\t\t\t\tif ( stepData.is_sudo_installed ) {\n\t\t\t\t\t\tmaintenanceJob_html = maintenanceJob_html + 'sudo';\n\t\t\t\t\t}\n\n\t\t\t\t\tmaintenanceJob_html = maintenanceJob_html + ' crontab -u ' + stepData.web_server_user + ' -e';\n\n\t\t\t\t\tmaintenanceJob_html = maintenanceJob_html + '</b>'\n\t\t\t\t\t\t+ '<br>'\n\t\t\t\t\t\t+ '<br>'\n\t\t\t\t\t\t+ $.i18n._( 'Then add the following line to the bottom of the file' ) + ':'\n\t\t\t\t\t\t+ '<br>'\n\t\t\t\t\t\t+ '<b>' + '* * * * * php ' + stepData.cron_file + ' > /dev/null 2>&1' + '</b>'\n\t\t\t\t\t\t+ '<br>'\n\t\t\t\t\t\t+ '<br>'\n\t\t\t\t\t\t+ '</div>';\n\n\t\t\t\t}\n\n\t\t\t\tmaintenanceJobs.html( maintenanceJob_html );\n\n\t\t\t\tmaintenanceJobs.show();\n\t\t\t\tbreak;\n\n\t\t}\n\t}\n\n\t/**\n\t * tests database connection:\n\t * @param $this\n\t * @param deferred (optional)\n\t */\n\tonTestDatabaseConnectionClick( $this, showTrue ) {\n\t\tvar $data = {};\n\t\tfor ( var key in $this.stepsWidgetDic[$this.current_step] ) {\n\t\t\tvar widget = $this.stepsWidgetDic[$this.current_step][key];\n\t\t\t$data[key] = widget.getValue();\n\t\t}\n\t\tProgressBar.showOverlay();\n\t\tvar res = $this.api.testConnection( $data, { async: false } );\n\n\t\tif ( res && res.isValid() ) {\n\t\t\tvar result = res.getResult();\n\t\t\tvar step_title_htm = '';\n\t\t\tif ( result.test_connection !== null ) {\n\t\t\t\tif ( result.test_connection === true ) {\n\t\t\t\t\tif ( result.database_version === 1 ) {\n\t\t\t\t\t\tstep_title_htm = step_title_htm\n\t\t\t\t\t\t\t+ '<p style=\"background-color: #ff0000\">'\n\t\t\t\t\t\t\t+ $.i18n._( 'Database version check' ) + ' '\n\t\t\t\t\t\t\t+ '<b>' + $.i18n._( 'FAILED' ) + '</b>' + '!' + ' '\n\t\t\t\t\t\t\t+ $.i18n._( 'Please upgrade your database to meet the minimum version requirements and try again.' )\n\t\t\t\t\t\t\t+ '</p>';\n\t\t\t\t\t\tTAlertManager.showAlert( step_title_htm );\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstep_title_htm = step_title_htm\n\t\t\t\t\t\t\t+ '<p>'\n\t\t\t\t\t\t\t+ $.i18n._( 'Connection test to your database as a non-privileged user has' ) + ' '\n\t\t\t\t\t\t\t+ '<b>' + $.i18n._( 'SUCCEEDED' ) + '</b>' + '!' + ' '\n\t\t\t\t\t\t\t+ $.i18n._( 'You may continue.' )\n\t\t\t\t\t\t\t+ '</p>';\n\t\t\t\t\t\tif ( showTrue ) {\n\t\t\t\t\t\t\tTAlertManager.showAlert( step_title_htm );\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t} else if ( result.test_connection === false ) {\n\t\t\t\t\tstep_title_htm = step_title_htm\n\t\t\t\t\t\t+ '<p style=\"background-color: #ff0000\">'\n\t\t\t\t\t\t+ $.i18n._( 'Connection test to your database as a non-privileged user has' ) + ' '\n\t\t\t\t\t\t+ '<b>' + $.i18n._( 'FAILED' ) + '</b>' + '!' + ' '\n\t\t\t\t\t\t+ $.i18n._( 'Please correct your settings and try again.' )\n\t\t\t\t\t\t+ '</p>';\n\n\t\t\t\t\tTAlertManager.showAlert( step_title_htm );\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( result.test_priv_connection !== null ) {\n\t\t\t\tif ( result.test_priv_connection === false ) {\n\t\t\t\t\tstep_title_htm = step_title_htm\n\t\t\t\t\t\t+ '<p style=\"background-color: #ff0000\">'\n\t\t\t\t\t\t+ $.i18n._( 'Connection test to your database as a privileged user has' ) + ' '\n\t\t\t\t\t\t+ '<b>' + $.i18n._( 'FAILED' ) + '</b>' + '!' + ' '\n\t\t\t\t\t\t+ $.i18n._( 'Please correct the user name/password and try again.' )\n\t\t\t\t\t\t+ '</p>';\n\n\t\t\t\t\tTAlertManager.showAlert( step_title_htm );\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t}\n\n\tonFormItemChange( target ) {\n\t\tvar widgets = this.stepsWidgetDic[this.current_step];\n\n\t\tvar key = target.getField();\n\t\tvar c_value = target.getValue();\n\t\tswitch ( key ) {\n\t\t\tcase 'country':\n\t\t\t\tthis.api.getProvinceOptions( c_value, {\n\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\tif ( res && res.isValid() ) {\n\t\t\t\t\t\t\twidgets.province.setSourceData( [] );\n\t\t\t\t\t\t\twidgets.province.setSourceData( res.getResult() );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 'type':\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tonBackClick() {\n\t\tvar $this = this;\n\t\tthis.saveCurrentStep();\n\t\tswitch ( this.current_step ) {\n\t\t\tcase 'license':\n\t\t\t\tbreak;\n\t\t\tcase 'requirements':\n\t\t\t\tthis.current_step = 'license';\n\t\t\t\tthis.initCurrentStep();\n\t\t\t\tbreak;\n\t\t\tcase 'databaseConfig':\n\t\t\t\tthis.current_step = 'requirements';\n\t\t\t\tthis.initCurrentStep();\n\t\t\t\tbreak;\n\t\t\tcase 'postUpgrade':\n\t\t\tcase 'systemSettings':\n\t\t\t\tthis.current_step = 'databaseConfig';\n\t\t\t\tthis.initCurrentStep();\n\t\t\t\tbreak;\n\t\t\tcase 'company':\n\t\t\t\tthis.current_step = 'systemSettings';\n\t\t\t\tthis.initCurrentStep();\n\t\t\t\tbreak;\n\t\t\tcase 'maintenanceJobs':\n\t\t\tcase 'installDone':\n\t\t\t\tthis.current_step = 'user';\n\t\t\t\tthis.initCurrentStep();\n\t\t\t\tbreak;\n\t\t\tcase 'user':\n\t\t\t\tthis.current_step = 'company';\n\t\t\t\tthis.initCurrentStep();\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tonNextClick() {\n\t\tvar $data;\n\n\t\tvar $this = this;\n\t\tthis.saveCurrentStep();\n\t\tswitch ( this.current_step ) {\n\t\t\tcase 'license':\n\t\t\t\t// the next interface is system requirements, so set the current step to the requirements\n\t\t\t\tthis.current_step = 'requirements';\n\t\t\t\tthis.initCurrentStep();\n\t\t\t\tbreak;\n\t\t\tcase 'requirements':\n\t\t\t\tif ( this.external_installer == 1 ) {\n\t\t\t\t\tthis.current_step = 'databaseSchema';\n\t\t\t\t\tthis.initCurrentStep();\n\t\t\t\t} else {\n\t\t\t\t\tthis.current_step = 'databaseConfig';\n\t\t\t\t\tthis.initCurrentStep();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'databaseConfig':\n\t\t\t\t// need to save the database configure first.\n\t\t\t\t$data = {};\n\t\t\t\tfor ( var key in this.stepsWidgetDic[this.current_step] ) {\n\t\t\t\t\tvar widget = this.stepsWidgetDic[this.current_step][key];\n\t\t\t\t\t$data[key] = widget.getValue();\n\t\t\t\t}\n\n\t\t\t\tif ( this.onTestDatabaseConnectionClick( this, false ) ) {\n\t\t\t\t\tTAlertManager.showConfirmAlert( $.i18n._( 'Installing/Upgrading the TimeTrex database may take up to 10 minutes. Please do not stop the process in any way, including pressing STOP or BACK in your web browser, doing so may leave your database in an unusable state.' ), null, function( result ) {\n\t\t\t\t\t\tif ( result ) {\n\t\t\t\t\t\t\t$this.api.createDatabase( $data, {\n\t\t\t\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\t\t\t\tif ( res && res.isValid() ) {\n\t\t\t\t\t\t\t\t\t\tif ( res.getResult().next_page ) {\n\t\t\t\t\t\t\t\t\t\t\t$this.current_step = res.getResult().next_page;\n\t\t\t\t\t\t\t\t\t\t\t$this.initCurrentStep();\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t$this.stepsDataDic[$this.current_step] = res.getResult();\n\t\t\t\t\t\t\t\t\t\t\t$this._initCurrentStep();\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'postUpgrade':\n\t\t\t\tthis.current_step = 'installDone';\n\t\t\t\tthis.stepsDataDic[this.current_step] = { upgrade: 1 };\n\t\t\t\tthis.initCurrentStep();\n\t\t\t\tbreak;\n\t\t\tcase 'maintenanceJobs':\n\t\t\t\tthis.current_step = 'installDone';\n\t\t\t\tthis.initCurrentStep();\n\t\t\t\tbreak;\n\t\t\tcase 'systemSettings':\n\t\t\t\t$data = {};\n\t\t\t\tfor ( var key in this.stepsWidgetDic[this.current_step] ) {\n\t\t\t\t\tvar widget = this.stepsWidgetDic[this.current_step][key];\n\t\t\t\t\t$data[key] = widget.getValue();\n\t\t\t\t}\n\n\t\t\t\tthis.api.setSystemSettings( $data, this.external_installer, {\n\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\tif ( res && res.isValid() ) {\n\t\t\t\t\t\t\t$this.current_step = 'company';\n\t\t\t\t\t\t\t$this.initCurrentStep();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 'company':\n\t\t\t\t$data = {};\n\t\t\t\t$data['company_id'] = $this.company_id;\n\t\t\t\tfor ( var key in this.stepsWidgetDic[this.current_step] ) {\n\t\t\t\t\tvar widget = this.stepsWidgetDic[this.current_step][key];\n\t\t\t\t\t$data[key] = widget.getValue();\n\t\t\t\t}\n\n\t\t\t\tthis.api.setCompany( $data, {\n\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\tif ( res && res.isValid() ) {\n\t\t\t\t\t\t\tvar company_id = res.getResult();\n\t\t\t\t\t\t\t$this.current_step = 'user';\n\t\t\t\t\t\t\t$this.company_id = company_id;\n\t\t\t\t\t\t\t$this.stepsDataDic[$this.current_step] = { company_id: company_id };\n\t\t\t\t\t\t\t$this.initCurrentStep();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$this.setErrorTips( res );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\tbreak;\n\t\t\tcase 'user':\n\t\t\t\t$data = {};\n\t\t\t\t$data['user_id'] = this.user_id;\n\t\t\t\tfor ( var key in this.stepsWidgetDic[this.current_step] ) {\n\t\t\t\t\tvar widget = this.stepsWidgetDic[this.current_step][key];\n\t\t\t\t\t$data[key] = widget.getValue();\n\t\t\t\t}\n\n\t\t\t\t$data = $.extend( {}, $data, this.stepsDataDic[$this.current_step] );\n\t\t\t\tthis.api.setUser( $data, this.external_installer, {\n\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\tif ( res && res.isValid() ) {\n\t\t\t\t\t\t\tvar next_page = res.getResult().next_page;\n\t\t\t\t\t\t\t$this.user_id = res.getResult().user_id;\n\t\t\t\t\t\t\t$this.current_step = next_page;\n\t\t\t\t\t\t\t$this.initCurrentStep();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$this.setErrorTips( res );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tbuildCurrentStepData() {\n\t\tvar args = {};\n\t\tvar $this = this;\n\t\tvar stepData = this.stepsDataDic[this.current_step];\n\t\tvar widgets = this.stepsWidgetDic[this.current_step];\n\t\tswitch ( this.current_step ) {\n\t\t\tcase 'systemSettings':\n\t\t\tcase 'databaseConfig':\n\t\t\tcase 'license':\n\t\t\tcase 'user':\n\t\t\t\tfor ( var key in widgets ) {\n\t\t\t\t\tif ( stepData[key] ) {\n\t\t\t\t\t\twidgets[key].setValue( stepData[key] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tProgressBar.closeOverlay();\n\t\t\t\tbreak;\n\t\t\tcase 'company':\n\t\t\t\tfor ( var key in widgets ) {\n\t\t\t\t\tif ( stepData[key] ) {\n\t\t\t\t\t\twidgets[key].setValue( stepData[key] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar country = widgets.country.getValue();\n\t\t\t\tthis.api.getProvinceOptions( country, {\n\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\tif ( res && res.isValid() ) {\n\t\t\t\t\t\t\twidgets.province.setSourceData( res.getResult() );\n\t\t\t\t\t\t\twidgets.province.setValue( stepData['province'] );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tProgressBar.closeOverlay();\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tcase 'requirements':\n\t\t\t\tfor ( var key in widgets ) {\n\t\t\t\t\tvar edit_view_form_item_dic = $( this.edit_view_form_item_dic[key] );\n\n\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t} else {\n\t\t\t\t\t\tedit_view_form_item_dic.show();\n\t\t\t\t\t}\n\n\t\t\t\t\tvar widget = widgets[key];\n\t\t\t\t\twidget.removeClass( 't-text' );\n\t\t\t\t\twidget.removeClass( 'dataError' );\n\t\t\t\t\twidget.removeClass( 'dataWarning' );\n\t\t\t\t\twidget.addClass( 'custom-t-text' );\n\n\t\t\t\t\tswitch ( key ) {\n\t\t\t\t\t\tcase 'timetrex_version':\n\t\t\t\t\t\t\tif ( stepData[key].check_timetrex_version == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) + '(v' + stepData[key].current_timetrex_version + ')' );\n\t\t\t\t\t\t\t} else if ( stepData[key].check_timetrex_version == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Unable to Check Latest Version' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataWarning' );\n\t\t\t\t\t\t\t} else if ( stepData[key].check_timetrex_version == 2 ) {\n\t\t\t\t\t\t\t\twidget.html(\n\t\t\t\t\t\t\t\t\t$.i18n._( 'A Newer Version of TimeTrex is Available.' ) + ' '\n\t\t\t\t\t\t\t\t\t+ '<a href=\"https://www.timetrex.com/download.php\">' + $.i18n._( 'Download' ) + ' v' + stepData[key].latest_timetrex_version + ' ' + $.i18n._( 'Now' ) + '</a>' );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataWarning' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'php_version':\n\t\t\t\t\t\t\tif ( stepData[key].check_php_version == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) + ' (v' + stepData[key].php_version + ')' );\n\t\t\t\t\t\t\t} else if ( stepData[key].check_php_version == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Invalid' ) + ' (v' + stepData[key].php_version + ')' );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t} else if ( stepData[key].check_php_version == 2 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Unsupported' ) + ' (v' + stepData[key].php_version + ')' );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataWarning' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'php_int_size':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else if ( stepData[key] == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Invalid (Only 32-bit)' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'database_engine':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not Installed. (PGSQL extension must be enabled)' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'bcmath':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else if ( stepData[key] == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not Installed. (BCMATH extension must be enabled)' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'mbstring':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else if ( stepData[key] == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not Installed. (MBSTRING extension must be enabled)' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'gettext':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else if ( stepData[key] == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not Installed. (GETTEXT extension must be enabled)' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'intl':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else if ( stepData[key] == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not Installed. (INTL extension must be enabled)' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'soap':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else if ( stepData[key] == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not Installed. (SOAP extension must be enabled)' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'gd':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else if ( stepData[key] == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not Installed. (GD extension must be enabled)' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'json':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else if ( stepData[key] == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not Installed. (JSON extension must be enabled)' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'mcrypt':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else if ( stepData[key] == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not Installed. (MCRYPT extension must be enabled)' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'simplexml':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else if ( stepData[key] == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not Installed. (SimpleXML extension must be enabled)' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'curl':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else if ( stepData[key] == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not Installed. (CURL extension must be enabled)' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'zip':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else if ( stepData[key] == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not Installed. (ZIP extension must be enabled)' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'mail':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else if ( stepData[key] == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not Installed. (MAIL extension must be enabled)' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'openssl':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else if ( stepData[key] == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not Installed. (OpenSSL extension must be enabled)' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'pear':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else if ( stepData[key] == 1 ) {\n\t\t\t\t\t\t\t\tif ( stepData.php_os == 'WINNT' ) {\n\t\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not Installed.' )\n\t\t\t\t\t\t\t\t\t\t+ '(' + $.i18n._( 'try running' ) + ': ' + '\"<b>go-pear.bat</b>\"' + ')'\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not Installed.' )\n\t\t\t\t\t\t\t\t\t\t+ '('\n\t\t\t\t\t\t\t\t\t\t+ $.i18n._( 'install the PEAR RPM or package from' ) + ' '\n\t\t\t\t\t\t\t\t\t\t+ '<a href=\\\"http://pear.php.net\\\">http://pear.php.net</a>'\n\t\t\t\t\t\t\t\t\t\t+ ')'\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'safe_mode':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else if ( stepData[key] == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Safe Mode is On. (Please disable it in php.ini)' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'allow_fopen_url':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else if ( stepData[key] == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'ALLOW_FOPEN_URL is Off. (Please enable it in php.ini)' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'disk_space':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else if ( stepData[key] == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not enough disk space available, please free up disk space and try again.' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'memory_limit':\n\t\t\t\t\t\t\tif ( stepData[key].check_php_memory_limit == 0 ) {\n\t\t\t\t\t\t\t\tvar str = $.i18n._( 'OK' );\n\t\t\t\t\t\t\t\tif ( stepData[key].memory_limit > 0 ) {\n\t\t\t\t\t\t\t\t\tstr += '(' + stepData[key].memory_limit + ' bytes' + ')';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twidget.html( str );\n\t\t\t\t\t\t\t\tedit_view_form_item_dic.hide();\n\t\t\t\t\t\t\t} else if ( stepData[key].check_php_memory_limit == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( stepData[key].memory_limit + ' bytes' + ' (' + $.i18n._( 'Set this to 512M or higher' ) + ')' );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'post_size':\n\t\t\t\t\t\t\tif ( stepData[key].check_php_post_size == 0 ) {\n\t\t\t\t\t\t\t\tvar str = $.i18n._( 'OK' );\n\t\t\t\t\t\t\t\tif ( stepData[key].post_size > 0 ) {\n\t\t\t\t\t\t\t\t\tstr += '(' + stepData[key].post_size + ' bytes' + ')';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twidget.html( str );\n\t\t\t\t\t\t\t\tedit_view_form_item_dic.hide();\n\t\t\t\t\t\t\t} else if ( stepData[key].check_php_post_size == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( stepData[key].post_size + ' bytes' + ' (' + $.i18n._( 'Set this to 25M or higher, recommend 128M' ) + ')' );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'upload_size':\n\t\t\t\t\t\t\tif ( stepData[key].check_php_upload_size == 0 ) {\n\t\t\t\t\t\t\t\tvar str = $.i18n._( 'OK' );\n\t\t\t\t\t\t\t\tif ( stepData[key].upload_size > 0 ) {\n\t\t\t\t\t\t\t\t\tstr += '(' + stepData[key].post_size + ' bytes' + ')';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twidget.html( str );\n\t\t\t\t\t\t\t\tedit_view_form_item_dic.hide();\n\t\t\t\t\t\t\t} else if ( stepData[key].check_php_upload_size == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( stepData[key].upload_size + ' bytes' + ' (' + $.i18n._( 'Set this to 25M or higher, recommend 128M' ) + ')' );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'disabled_functions':\n\t\t\t\t\t\t\tif ( stepData[key].check_disabled_functions == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t\tedit_view_form_item_dic.hide();\n\t\t\t\t\t\t\t} else if ( stepData[key].check_disabled_functions == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Critical functions disabled' ) + ': ' + stepData[key].disabled_function_list + ' (' + $.i18n._( 'Please enable them in php.ini' ) + ')' );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'base_url':\n\t\t\t\t\t\t\tif ( stepData[key].check_base_url == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t\tedit_view_form_item_dic.hide();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twidget.html( key + ' ' + $.i18n._( 'in' ) + ' timetrex.ini.php ' + $.i18n._( 'is incorrect, perhaps it should be' ) + ' ' + stepData[key].recommended_base_url + ' ' + $.i18n._( 'instead' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'base_dir':\n\t\t\t\t\t\t\tif ( stepData[key].check_php_open_base_dir == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t\tedit_view_form_item_dic.hide();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'PHP OPEN_BASEDIR setting' ) + ' ' + '(' + stepData[key].php_open_base_dir + ') ' + $.i18n._( 'does not include directory of PHP CLI binary' ) + ' ' + '(' + stepData[key].php_cli_directory + ')' );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'system_timezone':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else if ( stepData[key] == 1 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'system_timezone in timetrex.ini.php is invalid!' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'cli_executable':\n\t\t\t\t\t\t\tif ( stepData[key].check_php_cli_binary == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t\tedit_view_form_item_dic.hide();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'PHP CLI' ) + ' ' + '(' + stepData[key].php_cli + ')' + ' ' + $.i18n._( 'does not exist or is not executable.' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'cli_requirements':\n\t\t\t\t\t\t\tif ( stepData[key].check_php_cli_requirements == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t\tedit_view_form_item_dic.hide();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'PHP CLI requirements failed while executing' ) + ':<br>'\n\t\t\t\t\t\t\t\t\t+ stepData[key].php_cli_requirements_command + '<br>'\n\t\t\t\t\t\t\t\t\t+ $.i18n._( 'Likely caused by having two PHP.INI files with different settings.' )\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'config_file':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not writable' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'cache_dir':\n\t\t\t\t\t\t\tif ( stepData[key].check_writable_cache_directory == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t\tedit_view_form_item_dic.hide();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not writable' ) + ' (' + stepData[key].cache_dir + ')' );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'safe_cache_dir':\n\t\t\t\t\t\t\tif ( stepData[key].check_safe_cache_directory == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t\tedit_view_form_item_dic.hide();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'INSECURE, must not be a sub-directory of base path.' ) + ' (' + stepData[key].base_path + ')' );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'storage_dir':\n\t\t\t\t\t\t\tif ( stepData[key].check_writable_storage_directory == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t\tedit_view_form_item_dic.hide();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not writable' ) + ' (' + stepData[key].storage_path + ')' );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'safe_storage_dir':\n\t\t\t\t\t\t\tif ( stepData[key].check_safe_storage_directory == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t\tedit_view_form_item_dic.hide();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'INSECURE, must not be a sub-directory of base path.' ) + ' (' + stepData[key].base_path + ')' );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'log_dir':\n\t\t\t\t\t\t\tif ( stepData[key].check_writable_log_directory == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t\tedit_view_form_item_dic.hide();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Not writable' ) + ' (' + stepData[key].log_path + ')' );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'safe_log_dir':\n\t\t\t\t\t\t\tif ( stepData[key].check_safe_log_directory == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t\tedit_view_form_item_dic.hide();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'INSECURE, must not be a sub-directory of base path.' ) + ' (' + stepData[key].base_path + ')' );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'empty_cache_dir':\n\t\t\t\t\t\t\tif ( stepData[key].check_clean_cache_directory == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t\tedit_view_form_item_dic.hide();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'Please delete all files/directories in' ) + ': ' + ' <b>' + stepData[key].cache_dir + '</b>' );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'file_permission':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'File permissions are invalid, some' ) + ' ' + $.i18n._( stepData.application_name ) + ' ' + $.i18n._( 'files are not readable/writable. See detailed error messages below.' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'file_checksums':\n\t\t\t\t\t\t\tif ( stepData[key] == 0 ) {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'OK' ) );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twidget.html( $.i18n._( 'File checksums do not match, some' ) + ' ' + $.i18n._( stepData.application_name ) + ' ' + $.i18n._( 'files may be corrupted, missing, or not installed properly. See detailed error messages below.' ) );\n\t\t\t\t\t\t\t\twidget.addClass( 'dataError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\tProgressBar.closeOverlay();\n\t\t\t\tbreak;\n\t\t\tcase 'databaseSchema':\n\t\t\t\tthis.api.setDatabaseSchema( this.external_installer, {\n\t\t\t\t\tonResult: function( res ) {\n\t\t\t\t\t\tif ( res && res.isValid() ) {\n\t\t\t\t\t\t\tvar result = res.getResult();\n\t\t\t\t\t\t\tif ( result.next_page ) {\n\t\t\t\t\t\t\t\t$this.current_step = result.next_page;\n\t\t\t\t\t\t\t\tswitch ( result.next_page ) {\n\t\t\t\t\t\t\t\t\tcase 'postUpgrade':\n\t\t\t\t\t\t\t\t\t\t$this.initCurrentStep();\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase 'systemSettings':\n\t\t\t\t\t\t\t\t\t\tif ( result.action ) {\n\t\t\t\t\t\t\t\t\t\t\t$this.onNextClick(); // skip system setting to company information directly.\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t$this.initCurrentStep();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tProgressBar.closeOverlay();\n\t\t\t\tbreak;\n\n\t\t}\n\t}\n\n\tsetErrorTips( result ) {\n\t\tthis.clearErrorTips();\n\n\t\tvar details = result.getDetails();\n\t\tvar error_list = details[0];\n\n\t\tfor ( var key in error_list ) {\n\n\t\t\tif ( !error_list.hasOwnProperty( key ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif ( !Global.isSet( this.stepsWidgetDic[this.current_step][key] ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif ( this.stepsWidgetDic[this.current_step][key].is( ':visible' ) ) {\n\n\t\t\t\tthis.stepsWidgetDic[this.current_step][key].setErrorStyle( error_list[key], true );\n\n\t\t\t} else {\n\n\t\t\t\tthis.stepsWidgetDic[this.current_step][key].setErrorStyle( error_list[key] );\n\t\t\t}\n\n\t\t\tthis.edit_view_error_ui_dic[key] = this.stepsWidgetDic[this.current_step][key];\n\n\t\t}\n\t}\n\n\tclearErrorTips() {\n\n\t\tfor ( var key in this.edit_view_error_ui_dic ) {\n\n\t\t\t//Error: Uncaught TypeError: Cannot read property 'clearErrorStyle' of undefined in /interface/html5/views/BaseViewController.js?v=8.0.0-20141117-111140 line 1779\n\t\t\tif ( !this.edit_view_error_ui_dic.hasOwnProperty( key ) || !this.edit_view_error_ui_dic[key] ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tthis.edit_view_error_ui_dic[key].clearErrorStyle();\n\t\t}\n\n\t\tthis.edit_view_error_ui_dic = {};\n\t}\n\n\tonDoneClick() {\n\t\tthis.cleanStepsData();\n\n//\t\tif ( this.call_back ) {\n//\t\t\tthis.call_back();\n//\t\t}\n//\t\tvar baseURI = $(\"*\").context.baseURI;\n\n\t\tvar loc = window.location;\n\t\tvar currentURL = loc.protocol + '//' + loc.host + loc.pathname;\n\t\tGlobal.setURLToBrowser( currentURL + '#!m=Login' );\n\t\t$( this.el ).remove();\n\t}\n\n\tonCloseClick() {\n\t\tif ( this.script_name ) {\n\t\t\tthis.saveCurrentStep();\n\t\t}\n\t\tvar loc = window.location;\n\t\tvar currentURL = loc.protocol + '//' + loc.host + loc.pathname;\n\t\tGlobal.setURLToBrowser( currentURL + '#!m=Login' );\n\t\t$( this.el ).remove();\n\t}\n\n\tcleanStepsData() {\n\t\tthis.stepsDataDic = {};\n\t\tthis.current_step = 'license';\n\t}\n\n}\n"],"names":["InstallWizardController","options","_","$","url_args","title","step","$this","res","company_id","upgrade","step_title","license","requirements","databaseConfig","databaseSchema","postUpgrade","systemSettings","company","user","installDone","maintenanceJobs","form_item_input","stepData","e","target","accept_label","license_html","ribbon_button_box","ribbon_btn","step_title_htm","requirements_column1","requirements_column2","requirements_column4","error_html","i","errors","key","requirements_column5","columns_html","user_column1","company_column1","widgetContainer","label","systemSettings_column1","form_item_host_input","form_item_url_input","ie_label","databaseConfig_column1","databaseConfig_column2","loc","currentURL","login_url","maintenanceJob_html","showTrue","$data","widget","result","widgets","c_value","next_page","country","edit_view_form_item_dic","str","details","error_list"],"mappings":"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"}