import{_ as p,j as n}from"./vendor-tTApdY0Y.bundle.js";class x extends BaseViewController{constructor(e={}){p.defaults(e,{el:"#user_default_view_container",company_api:null,user_preference_api:null,hierarchy_control_api:null,country_array:null,province_array:null,notification_type_array:null,priority_array:null,original_user_preference_notification_data:[],e_province_array:null,language_array:null,date_format_array:null,time_format_array:null,time_unit_format_array:null,distance_format_array:null,time_zone_array:null,start_week_day_array:null,user_preference_notification_api:null,user_default_preference_notification_api:null}),Global.getProductEdition()==10&&delete e.el,super(e)}init(e){Global.getProductEdition()>10&&(this.edit_view_tpl="UserDefaultEditView.html"),this.permission_id="user_default",this.viewId="UserDefault",this.script_name="UserDefaultView",this.table_name_key="user_default",this.context_menu_name=n.i18n._("New Hire Defaults"),this.api=TTAPI.APIUserDefault,this.company_api=TTAPI.APICompany,this.user_preference_api=TTAPI.APIUserPreference,this.hierarchy_control_api=TTAPI.APIHierarchyControl,this.select_company_id=LocalCacheData.getCurrentCompany().id,this.user_preference_notification_api=TTAPI.APIUserPreferenceNotification,this.user_default_preference_notification_api=TTAPI.APIUserDefaultPreferenceNotification,this.render(),this.buildContextMenu(),this.initData()}render(){super.render()}initOptions(e){var l=[{option_name:"language",field_name:"language",api:this.user_preference_api},{option_name:"date_format",field_name:"date_format",api:this.user_preference_api},{option_name:"time_format",field_name:"time_format",api:this.user_preference_api},{option_name:"time_unit_format",field_name:"time_unit_format",api:this.user_preference_api},{option_name:"distance_format",field_name:"distance_format",api:this.user_preference_api},{option_name:"time_zone",field_name:"time_zone",api:this.user_preference_api},{option_name:"start_week_day",field_name:"start_week_day",api:this.user_preference_api},{option_name:"country",field_name:"country",api:this.company_api},{option_name:"notification_type",field_name:null,api:this.user_preference_notification_api},{option_name:"priority",field_name:null,api:this.user_preference_notification_api}];this.initDropDownOptions(l,function(a){e&&e(a)})}initInsideEditorData(){var e=this,l={};l.filter_data={},l.filter_data.user_default_id=e.current_edit_record.id,e.user_default_preference_notification_api.getUserDefaultPreferenceNotification(l,!0,{onResult:function(a){var r=a.getResult(),o=[];for(var t in r)r.hasOwnProperty(t)&&o.push(r[t]);o=o.sort(function(i,s){return e.notification_type_array.findIndex(_=>_.id===i.type_id)-e.notification_type_array.findIndex(_=>_.id===s.type_id)}),e.original_user_preference_notification_data=p.map(o,p.clone),e.editor.setValue(o)}})}insideEditorSetValue(e){var l=e.length;if(l!==0){this.removeAllRows();for(var a=0;a<e.length;a++)if(Global.isSet(e[a])){var r=e[a];r.enabled=r.status_id==10,r.web_push_enabled=r.device_id.includes(4),r.email_work_enabled=r.device_id.includes(256),r.email_home_enabled=r.device_id.includes(512),r.app_push_enabled=r.device_id.includes(32768),r.type_id.startsWith("reminder_")&&(r.reminder_delay=r.reminder_delay),this.addRow(r)}}}insideEditorAddRow(e,l){e||(e={});var a=this.getRowRender(),r=this.getRender(),o={};t=Global.loadWidgetByName(FormItemType.CHECKBOX),t.TCheckbox({field:"enabled"}),t.setValue(e.enabled),o[t.getField()]=t,a.children().eq(0).append(t),this.setWidgetEnableBaseOnParentController(t);var t=Global.loadWidgetByName(FormItemType.COMBO_BOX);if(t.TComboBox({field:"type_id"}),t.setSourceData(Global.addFirstItemToArray(this.parent_controller.notification_type_array)),t.setValue(e.type_id),t.setEnabled(!1),t.css("text-align-last","center"),o[t.getField()]=t,a.children().eq(1).append(t),t=Global.loadWidgetByName(FormItemType.COMBO_BOX),t.TComboBox({field:"priority_id",set_empty:!1}),t.setSourceData(this.parent_controller.priority_array),t.setValue(e.priority_id),o[t.getField()]=t,a.children().eq(2).append(t),t=Global.loadWidgetByName(FormItemType.CHECKBOX),t.TCheckbox({field:"web_push_enabled"}),t.setValue(e.web_push_enabled),o[t.getField()]=t,a.children().eq(3).append(t),t=Global.loadWidgetByName(FormItemType.CHECKBOX),t.TCheckbox({field:"email_work_enabled"}),t.setValue(e.email_work_enabled),o[t.getField()]=t,a.children().eq(4).append(t),t=Global.loadWidgetByName(FormItemType.CHECKBOX),t.TCheckbox({field:"email_home_enabled"}),t.setValue(e.email_home_enabled),o[t.getField()]=t,a.children().eq(5).append(t),t=Global.loadWidgetByName(FormItemType.CHECKBOX),t.TCheckbox({field:"app_push_enabled"}),t.setValue(e.app_push_enabled),o[t.getField()]=t,a.children().eq(6).append(t),e.type_id.startsWith("reminder_")){t=Global.loadWidgetByName(FormItemType.TEXT_INPUT),t.TTextInput({field:"reminder_delay",need_parser_sec:!0,mode:"time_unit"}),t.setValue(e.reminder_delay),o[t.getField()]=t;var i=n("<div class='widget-h-box'></div>"),s=n("<span class='widget-left-label'> "+n.i18n._("Delay")+": </span>");i.append(s),i.append(t),a.children().eq(7).append(i)}o.current_edit_item=e,typeof l<"u"?(a.insertAfter(n(r).find("tr").eq(l)),this.rows_widgets_array.splice(l,0,o)):(n(r).append(a),this.rows_widgets_array.push(o)),this.parent_controller.is_viewing&&a.find(".control-icon").hide(),this.removeLastRowLine()}insideEditorGetValue(e){for(var l=this.rows_widgets_array.length,a=[],r=0;r<l;r++){var o=this.rows_widgets_array[r],t=o.current_edit_item;t.priority_id=o.priority_id.getValue(),t.status_id=o.enabled.getValue()===!0?10:20,t.device_id=[],o.web_push_enabled.getValue()===!0&&t.device_id.push(4),o.email_work_enabled.getValue()===!0&&t.device_id.push(256),o.email_home_enabled.getValue()===!0&&t.device_id.push(512),o.app_push_enabled.getValue()===!0&&t.device_id.push(32768),t.type_id.startsWith("reminder_")&&o.reminder_delay&&(t.reminder_delay=o.reminder_delay.getValue()),a.push(t)}return a}onSaveResult(e){var l=this;if(e&&e.isValid()){var a=e.getResult();a===!0?l.refresh_id=l.current_edit_record.id:TTUUID.isUUID(a)&&a!=TTUUID.zero_id&&a!=TTUUID.not_exist_id&&(l.refresh_id=a),l.saveInsideEditorData(function(){l.onSaveDone(e)})}else l.setErrorMenu(),l.setErrorTips(e)}onSaveDone(e){return e&&e.isValid()?(Global.getProductEdition()>10&&this.search(),this.removeEditView(),!0):!1}saveInsideEditorData(e){for(var l=this.editor.getValue(this.refresh_id),a=0;a<l.length;a++)l[a].user_default_id=this.refresh_id;let r=this.getChangedRecords(l,this.original_user_preference_notification_data,["enabled","web_push_enabled","email_work_enabled","email_home_enabled","app_push_enabled"]);Array.isArray(r)&&r.length>0?this.user_default_preference_notification_api.setUserDefaultPreferenceNotification(r,{onResult:function(o){o&&o.isValid()?Global.isSet(e)&&e():TAlertManager.showErrorAlert(o)}}):Global.isSet(e)&&e()}getCustomContextMenuModel(){var e;return Global.getProductEdition()==10?e={exclude:["default"],include:["save","cancel"]}:e={exclude:["mass_edit"],include:["save","cancel"]},e}getUserDefaultData(e){var l=this;l.api["get"+l.api.key_name]({onResult:function(a){var r=a.getResult();Global.isSet(r[0])?e(r[0]):l.api["get"+l.api.key_name+"DefaultData"]({onResult:function(o){var t=o.getResult();e(t)}})}})}setEditViewDataDone(){super.setEditViewDataDone(),this.initInsideEditorData()}openEditView(){if(Global.getProductEdition()>10){super.openEditView();return}var e=this;e.edit_only_mode?e.initOptions(function(l){e.edit_view||e.initEditViewUI("UserDefault","UserDefaultEditView.html"),e.getUserDefaultData(function(a){e.current_edit_record=a,e.initEditView()})}):this.edit_view||this.initEditViewUI("UserTitle","UserTitleEditView.html")}onFormItemChange(e,l){this.setIsChanged(e);var a=e.getField(),r=e.getValue();if(this.current_edit_record[a]=r,a==="country"){var o=this.edit_view_ui_dic.province;o.setValue(null),this.onCountryChange();return}if(a==="legal_entity_id"){var o=this.edit_view_ui_dic.company_deduction;if(this.current_edit_record&&this.current_edit_record.legal_entity_id!==null){o.setSourceData(!1);var t={};t.filter_data={legal_entity_id:this.current_edit_record.legal_entity_id},o.setDefaultArgs(t),o.setValue(!1)}else o.setValue(!1)}l||this.validate()}setErrorMenu(){for(var e=ContextMenuManager.getMenuModelByMenuId(this.determineContextMenuMountAttributes().id),l=e.length,a=0;a<l;a++){let r=e[a],o=e[a].id;switch(ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,r.id,!0),o){case"cancel":break;default:ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,r.id,!1);break}}}onSetSearchFilterFinished(){var e,l;this.search_panel.getSelectTabIndex()===0&&(e=this.basic_search_field_ui_dic.country,l=e.getValue(),this.setSearchFilterProvince(l))}onBuildBasicUIFinished(){this.basic_search_field_ui_dic.country.change(n.proxy(function(){var e=this.basic_search_field_ui_dic.country,l=e.getValue();this.setSearchFilterProvince(l),this.basic_search_field_ui_dic.province.setValue(null)},this))}setSearchFilterProvince(e,l){var a=this;!e||e==="-1"||e==="0"?(a.province_array=[],this.basic_search_field_ui_dic.province.setSourceData([])):this.company_api.getOptions("province",e,{onResult:function(r){r=r.getResult(),r||(r=[]),a.province_array=Global.buildRecordArray(r),a.basic_search_field_ui_dic.province.setSourceData(a.province_array)}})}hierarchyPermissionValidate(e,l){return!!(PermissionManager.validate("hierarchy","edit")||PermissionManager.validate("user","edit_hierarchy"))}checkTabPermissions(e){var l=!1;switch(e){case"tab_hierarchy":this.select_company_id===LocalCacheData.getCurrentCompany().id&&(l=!0);break;default:l=super.checkTabPermissions(e);break}return l}setCurrentEditRecordData(){var e={};for(var l in this.current_edit_record){var a=this.edit_view_ui_dic[l];if(Global.isSet(a)||l==="hierarchy_control")switch(l){case"country":this.setCountryValue(a,l);break;case"hierarchy_control":if(this.show_hierarchy)for(var r in this.current_edit_record.hierarchy_control){var o=this.current_edit_record.hierarchy_control[r];this.edit_view_ui_dic[r]&&(a=this.edit_view_ui_dic[r],e[r]=!0,a.setValue(o))}break;case"company_deduction":var t={};t.filter_data={legal_entity_id:this.current_edit_record.legal_entity_id},a.setDefaultArgs(t),a.setValue(this.current_edit_record.company_deduction);break;default:if(!e[l]){a.setValue(this.current_edit_record[l]);break}break}}this.collectUIDataToCurrentEditRecord(),this.setEditViewDataDone()}initDropDownOptions(e,l){var a=this,r=e.length+1,o=0,t=[];this.hierarchyPermissionValidate()?a.hierarchy_control_api.getOptions("object_type",{onResult:function(u){var c=u.getResult();if(c){var h=[];for(var m in c)h.push({id:Global.removeSortPrefix(m),value:c[m]});a.hierarchy_ui_model=h}o=o+1,o===r&&l(t)}}):(this.show_hierarchy=!1,o=o+1);for(var i=0;i<r-1;i++){var s=e[i];this.initDropDownOption(s.option_name,s.field_name,s.api,_)}function _(u){t.push(u),o=o+1,o===r&&l(t)}}setProvince(e,l){var a=this;!e||e==="-1"||e==="0"?a.province_array=[]:this.company_api.getOptions("province",e,{onResult:function(r){r=r.getResult(),r||(r=[]),a.province_array=Global.buildRecordArray(r)}})}eSetProvince(e,l){var a=this,r=a.edit_view_ui_dic.province;!e||e==="-1"||e==="0"?(a.e_province_array=[],r.setSourceData([])):this.company_api.getOptions("province",e,{onResult:function(o){o=o.getResult(),o||(o=[]),a.e_province_array=Global.buildRecordArray(o),l&&a.e_province_array.length>0&&(a.current_edit_record.province=a.e_province_array[0].value,r.setValue(a.current_edit_record.province)),r.setSourceData(a.e_province_array)}})}buildEditViewUI(){var e=this;super.buildEditViewUI();var l={tab_new_hire_default:{label:n.i18n._("New Hire Defaults")},tab_employee_id:{label:n.i18n._("Employee Identification")},tab_contact_info:{label:n.i18n._("Contact Information")},tab_hierarchy:{label:n.i18n._("Hierarchy"),html_template:this.getHierarchyTabHtml()},tab_tax_deduction:{label:n.i18n._("Taxes & Deductions")},tab_employee_preference:{label:n.i18n._("Preferences")},tab_preferences_notification:{label:n.i18n._("Notifications"),html_template:this.getPreferencesNotificationTabHtml()},tab_audit:!0};this.setTabModel(l),Global.getProductEdition()>10&&(this.navigation.AComboBox({api_class:TTAPI.APIUserDefault,id:this.script_name+"_navigation",allow_multiple_selection:!1,layout_name:"global_user_default",navigation_mode:!0,show_search_inputs:!0}),this.setNavigation());var a=this.edit_view_tab.find("#tab_new_hire_default"),r=a.find(".first-column");this.edit_view_tabs[0]=[],this.edit_view_tabs[0].push(a),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"name"}),this.addEditFieldToColumn(n.i18n._("Name"),i,r,""),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"display_order"}),this.addEditFieldToColumn(n.i18n._("Display Order"),i,r,""),i=Global.loadWidgetByName(FormItemType.AWESOME_BOX),i.AComboBox({api_class:TTAPI.APIUser,allow_multiple_selection:!1,layout_name:"global_user",show_search_inputs:!0,set_empty:!0,field:"created_by_id"}),this.addEditFieldToColumn(n.i18n._("Created By"),i,r);var o=this.edit_view_tab.find("#tab_employee_id"),t=o.find(".first-column");this.edit_view_tabs[1]=[],this.edit_view_tabs[1].push(t),i=Global.loadWidgetByName(FormItemType.AWESOME_BOX),i.AComboBox({api_class:TTAPI.APILegalEntity,allow_multiple_selection:!1,layout_name:"global_legal_entity",show_search_inputs:!0,field:"legal_entity_id"}),this.addEditFieldToColumn(n.i18n._("Legal Entity"),i,t);var i=Global.loadWidgetByName(FormItemType.AWESOME_BOX);i.AComboBox({api_class:TTAPI.APIPermissionControl,allow_multiple_selection:!1,layout_name:"global_permission_control",set_empty:!0,show_search_inputs:!0,field:"permission_control_id"}),this.addEditFieldToColumn(n.i18n._("Permission Group"),i,t,"");var i=Global.loadWidgetByName(FormItemType.AWESOME_BOX);i.AComboBox({api_class:TTAPI.APIPermissionControl,allow_multiple_selection:!1,layout_name:"global_permission_control",set_empty:!0,show_search_inputs:!0,field:"terminated_permission_control_id"}),this.addEditFieldToColumn(n.i18n._("Terminated Permission Group"),i,t,""),i=Global.loadWidgetByName(FormItemType.AWESOME_BOX),i.AComboBox({api_class:TTAPI.APIPayPeriodSchedule,allow_multiple_selection:!1,layout_name:"global_pay_period_schedule",show_search_inputs:!0,set_empty:!0,field:"pay_period_schedule_id"}),this.addEditFieldToColumn(n.i18n._("Pay Period Schedule"),i,t),i=Global.loadWidgetByName(FormItemType.AWESOME_BOX),i.AComboBox({api_class:TTAPI.APIPolicyGroup,allow_multiple_selection:!1,layout_name:"global_policy_group",show_search_inputs:!0,set_empty:!0,field:"policy_group_id"}),this.addEditFieldToColumn(n.i18n._("Policy Group"),i,t),i=Global.loadWidgetByName(FormItemType.AWESOME_BOX),i.AComboBox({field:"recurring_schedule",api_class:TTAPI.APIRecurringScheduleTemplateControl,allow_multiple_selection:!0,layout_name:"global_recurring_template_control",show_search_inputs:!0,set_empty:!0}),this.addEditFieldToColumn(n.i18n._("Recurring Schedule"),i,t,"first_last"),i=Global.loadWidgetByName(FormItemType.AWESOME_BOX),i.AComboBox({api_class:TTAPI.APICurrency,allow_multiple_selection:!1,layout_name:"global_currency",show_search_inputs:!0,set_empty:!0,field:"currency_id"}),this.addEditFieldToColumn(n.i18n._("Currency"),i,t),i=Global.loadWidgetByName(FormItemType.AWESOME_BOX),i.AComboBox({api_class:TTAPI.APIUserTitle,allow_multiple_selection:!1,layout_name:"global_job_title",show_search_inputs:!0,set_empty:!0,field:"title_id"}),this.addEditFieldToColumn(n.i18n._("Title"),i,t),i=Global.loadWidgetByName(FormItemType.AWESOME_BOX),i.AComboBox({api_class:TTAPI.APIBranch,allow_multiple_selection:!1,layout_name:"global_branch",show_search_inputs:!0,set_empty:!0,field:"default_branch_id"}),this.addEditFieldToColumn(n.i18n._("Default Branch"),i,t),i=Global.loadWidgetByName(FormItemType.AWESOME_BOX),i.AComboBox({api_class:TTAPI.APIDepartment,allow_multiple_selection:!1,layout_name:"global_department",show_search_inputs:!0,set_empty:!0,field:"default_department_id"}),this.addEditFieldToColumn(n.i18n._("Default Department"),i,t,"");var s=this.edit_view_tab.find("#tab_contact_info"),_=s.find(".first-column");this.edit_view_tabs[2]=[],this.edit_view_tabs[2].push(_),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"city",width:149}),this.addEditFieldToColumn(n.i18n._("City"),i,_,""),i=Global.loadWidgetByName(FormItemType.COMBO_BOX),i.TComboBox({field:"country",set_empty:!0}),i.setSourceData(e.country_array),this.addEditFieldToColumn(n.i18n._("Country"),i,_),i=Global.loadWidgetByName(FormItemType.COMBO_BOX),i.TComboBox({field:"province"}),i.setSourceData([]),this.addEditFieldToColumn(n.i18n._("Province / State"),i,_),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"work_phone",width:149}),this.addEditFieldToColumn(n.i18n._("Work Phone"),i,_),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"work_phone_ext"}),i.css("width","50"),this.addEditFieldToColumn(n.i18n._("Work Phone Ext"),i,_),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"work_email",width:219}),this.addEditFieldToColumn(n.i18n._("Work Email"),i,_,"");var u=this.edit_view_tab.find("#tab_hierarchy"),c=u.find(".first-column");if(this.edit_view_tabs[3]=[],this.edit_view_tabs[3].push(c),this.hierarchyPermissionValidate()){var h=this.hierarchy_control_api.getHierarchyControlOptions({async:!1});e.hierarchy_options_dic={};var m=h.getResult();for(var f in m)parseInt(f)===200&&Global.getProductEdition()!=25||(e.hierarchy_options_dic[f]=Global.buildRecordArray(m[f]));p.size(e.hierarchy_options_dic)>0?e.show_hierarchy=!0:e.show_hierarchy=!1}if(this.show_hierarchy&&this.hierarchy_ui_model){this.edit_view_tab.find("#tab_hierarchy").find(".first-column").css("display","block"),this.edit_view_tab.find("#tab_hierarchy").find(".hierarchy-div").css("display","none");for(var w=this.hierarchy_ui_model.length,y=0;y<w;y++){var b=this.hierarchy_ui_model[y],T=this.hierarchy_options_dic[b.id];T&&(i=Global.loadWidgetByName(FormItemType.COMBO_BOX),i.TComboBox({field:b.id}),i.setSourceData(T),this.addEditFieldToColumn(b.value,i,c))}}else this.edit_view_tab.find("#tab_hierarchy").find(".first-column").css("display","none"),this.edit_view_tab.find("#tab_hierarchy").find(".hierarchy-div").NoHierarchyBox({related_view_controller:this}),this.edit_view_tab.find("#tab_hierarchy").find(".hierarchy-div").css("display","block");var I=this.edit_view_tab.find("#tab_tax_deduction"),v=I.find(".first-column");this.edit_view_tabs[4]=[],this.edit_view_tabs[4].push(v),i=Global.loadWidgetByName(FormItemType.AWESOME_BOX),i.AComboBox({field:"company_deduction",layout_name:"global_deduction",api_class:TTAPI.APICompanyDeduction,allow_multiple_selection:!0,set_empty:!0}),this.addEditFieldToColumn(n.i18n._("Tax & Deductions"),i,v,"first_last");var C=this.edit_view_tab.find("#tab_employee_preference"),d=C.find(".first-column");this.edit_view_tabs[5]=[],this.edit_view_tabs[5].push(d),i=Global.loadWidgetByName(FormItemType.COMBO_BOX),i.TComboBox({field:"language",set_empty:!0}),i.setSourceData(e.language_array),this.addEditFieldToColumn(n.i18n._("Language"),i,d,""),i=Global.loadWidgetByName(FormItemType.COMBO_BOX),i.TComboBox({field:"date_format",set_empty:!0}),i.setSourceData(e.date_format_array),this.addEditFieldToColumn(n.i18n._("Date Format"),i,d),i=Global.loadWidgetByName(FormItemType.COMBO_BOX),i.TComboBox({field:"time_format",set_empty:!0}),i.setSourceData(e.time_format_array),this.addEditFieldToColumn(n.i18n._("Time Format"),i,d),i=Global.loadWidgetByName(FormItemType.COMBO_BOX),i.TComboBox({field:"time_unit_format",set_empty:!0}),i.setSourceData(e.time_unit_format_array),this.addEditFieldToColumn(n.i18n._("Time Units"),i,d),i=Global.loadWidgetByName(FormItemType.COMBO_BOX),i.TComboBox({field:"distance_format",set_empty:!0}),i.setSourceData(e.distance_format_array),this.addEditFieldToColumn(n.i18n._("Distance Units"),i,d),i=Global.loadWidgetByName(FormItemType.COMBO_BOX),i.TComboBox({field:"time_zone",set_empty:!0}),i.setSourceData(e.time_zone_array),this.addEditFieldToColumn(n.i18n._("Time Zone"),i,d),i=Global.loadWidgetByName(FormItemType.CHECKBOX),i.TCheckbox({field:"enable_time_zone_auto_detect"}),this.addEditFieldToColumn(n.i18n._("Enable Time Zone Auto-Detect"),i,d,""),i=Global.loadWidgetByName(FormItemType.COMBO_BOX),i.TComboBox({field:"start_week_day"}),i.setSourceData(e.start_week_day_array),this.addEditFieldToColumn(n.i18n._("Calendar Starts On"),i,d),i=Global.loadWidgetByName(FormItemType.TEXT_INPUT),i.TTextInput({field:"items_per_page",width:50}),this.addEditFieldToColumn(n.i18n._("Rows per page"),i,d,"");var g=this.edit_view_tab.find("#tab_preferences_notification"),E=g.find(".first-column");this.edit_view_tabs[6]=[],this.edit_view_tabs[6].push(E);var B=g.find(".inside-editor-div"),F={enabled:n.i18n._("Enabled"),name:n.i18n._("Type"),web:n.i18n._("Browser"),email_work:n.i18n._("Work Email"),email_home:n.i18n._("Home Email"),app:n.i18n._("Mobile App"),priority:n.i18n._("Priority"),settings:n.i18n._("Settings")};this.editor=Global.loadWidgetByName(FormItemType.INSIDE_EDITOR),this.editor.InsideEditor({title:"",addRow:this.insideEditorAddRow,getValue:this.insideEditorGetValue,setValue:this.insideEditorSetValue,parent_controller:this,render:P(),render_args:F,render_inline_html:!0,row_render:D()});function P(){return`
			<table class="inside-editor-render">
				<tr class="title">
					<td style="width: 50px"><%= enabled %></td>
					<td style="width: 400px"><%= name %></td>
					<td style="width: 150px"><%= priority %></td>
					<td style="width: 110px"><%= web %></td>
					<td style="width: 110px"><%= email_work %></td>
					<td style="width: 110px"><%= email_home %></td>
					<td style="width: 110px"><%= app %></td>
					<td style="width: 200px"><%= settings %></td>
				</tr>
			</table>`}function D(){return`
			<tr class="inside-editor-row data-row">
				<td class="cell"></td>
				<td class="cell"></td>
				<td class="cell"></td>
				<td class="cell"></td>
				<td class="cell"></td>
				<td class="cell"></td>
				<td class="cell"></td>
				<td class="cell"></td>
			</tr>`}B.append(this.editor)}buildSearchFields(){super.buildSearchFields(),this.search_fields=[new SearchField({label:n.i18n._("Name"),in_column:1,field:"name",multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.TEXT_INPUT}),new SearchField({label:n.i18n._("Country"),in_column:1,field:"country",multiple:!0,basic_search:!0,adv_search:!1,layout_name:"global_option_column",form_item_type:FormItemType.COMBO_BOX}),new SearchField({label:n.i18n._("Province/State"),in_column:1,field:"province",multiple:!0,basic_search:!0,adv_search:!1,layout_name:"global_option_column",form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:n.i18n._("City"),field:"city",basic_search:!0,adv_search:!1,in_column:1,form_item_type:FormItemType.TEXT_INPUT}),new SearchField({label:n.i18n._("Created By"),in_column:2,field:"created_by",layout_name:"global_user",api_class:TTAPI.APIUser,multiple:!0,basic_search:!0,adv_search:!1,script_name:"EmployeeView",form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:n.i18n._("Updated By"),in_column:2,field:"updated_by",layout_name:"global_user",api_class:TTAPI.APIUser,multiple:!0,basic_search:!0,adv_search:!1,script_name:"EmployeeView",form_item_type:FormItemType.AWESOME_BOX})]}convertHierarchyData(){this.current_edit_record.hierarchy_control={80:this.current_edit_record[80]||TTUUID.zero_id,90:this.current_edit_record[90]||TTUUID.zero_id,100:this.current_edit_record[100]||TTUUID.zero_id,200:this.current_edit_record[200]||TTUUID.zero_id,1010:this.current_edit_record[1010]||TTUUID.zero_id,1020:this.current_edit_record[1020]||TTUUID.zero_id,1030:this.current_edit_record[1030]||TTUUID.zero_id,1040:this.current_edit_record[1040]||TTUUID.zero_id,1100:this.current_edit_record[1100]||TTUUID.zero_id}}validate(e){this.convertHierarchyData(),super.validate(e)}onSaveClick(e){this.convertHierarchyData(),super.onSaveClick(e)}getPreferencesNotificationTabHtml(){return`<div id="tab_preferences_notification" class="edit-view-tab-outside">
					<div class="edit-view-tab" id="tab_preferences_notification_content_div">
						<div class="first-column full-width-column"></div>
						<div class="inside-editor-div full-width-column"></div>
					</div>
				</div>`}getHierarchyTabHtml(){return`<div id="tab_hierarchy" class="edit-view-tab-outside">
					<div class="edit-view-tab" id="tab_hierarchy_content_div">
						<div class="first-column full-width-column"></div>
						<div class="hierarchy-div">
							<span class="message"></span>
							<div class="save-and-continue-button-div">
								<button class="tt-button p-button p-component" type="button">
									<span class="icon"></span>
									<span class="p-button-label"></span>
								</button>
							</div>
						</div>
					</div>
				</div>`}}export{x as UserDefaultViewController};
//# sourceMappingURL=UserDefaultViewController-Du_BbQwo.bundle.js.map
