const __vite__fileDeps=["./LoginViewController-vjs5z5q5.css","./PortalBaseViewController-DLY9lxhy.css","./leaflet-timetrex-DIHfnHxo.css","./ScheduleViewController-CWK2pD4a.css","./TimeSheetViewController-DWyxhWHb.css","./JobApplicationViewController-C49oBKNu.css","./QuickPunchViewController-0NgPUean.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var H=Object.defineProperty;var q=(r,e,t)=>e in r?H(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Q=(r,e,t)=>q(r,typeof e!="symbol"?e+"":e,t);import{j as jQuery,o as openBlock,c as createElementBlock,d as createBaseVNode,M as createRouter,N as createMemoryHistory,z as Backbone,_,P as mitt,Q as createApp,S as PrimeVue,U as Tooltip,f as script,V as script$1,W as script$2,g as script$3,h as resolveComponent,t as toDisplayString,w as withDirectives,v as vShow,X as createBlock,p as createCommentVNode,l as createVNode,n as normalizeClass,H as script$4,y as hooks,e as Decimal,Y as purify,Z as marked,r as resolveDirective,F as Fragment,a as renderList,u as pushScopeId,x as popScopeId,$ as script$5,J as withCtx,a0 as reactive,a1 as computed,a2 as toRefs,a3 as useRoute,a4 as ref,a5 as onBeforeMount,a6 as watch,a7 as nextTick,D as DomHandler,a8 as unref,a9 as script$6,aa as script$7,ab as Transition,ac as firebase,ad as useRegistration,ae as useLogin,af as Nanobar,ag as UniqueComponentId,I as script$8,ah as script$9,m as mergeProps,ai as normalizeStyle,aj as resolveDynamicComponent,ak as html2canvas$1,al as StackTrace$1,am as moment,R as Ripple,an as ToastService,ao as script$a,ap as BadgeDirective}from"./vendor-tTApdY0Y.bundle.js";const scriptRel=function(){const e=typeof document<"u"&&document.createElement("link").relList;return e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}(),assetsURL=function(r,e){return new URL(r,e).href},seen={},__vitePreload=function(e,t,i){let a=Promise.resolve();if(t&&t.length>0){const o=document.getElementsByTagName("link"),n=document.querySelector("meta[property=csp-nonce]"),s=(n==null?void 0:n.nonce)||(n==null?void 0:n.getAttribute("nonce"));a=Promise.all(t.map(l=>{if(l=assetsURL(l,i),l in seen)return;seen[l]=!0;const c=l.endsWith(".css"),m=c?'[rel="stylesheet"]':"";if(!!i)for(let p=o.length-1;p>=0;p--){const v=o[p];if(v.href===l&&(!c||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${m}`))return;const u=document.createElement("link");if(u.rel=c?"stylesheet":scriptRel,c||(u.as="script",u.crossOrigin=""),u.href=l,s&&u.setAttribute("nonce",s),document.head.appendChild(u),c)return new Promise((p,v)=>{u.addEventListener("load",p),u.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${l}`)))})}))}return a.then(()=>e()).catch(o=>{const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=o,window.dispatchEvent(n),!n.defaultPrevented)throw o})};/*!
 * jQuery i18n plugin
 * @requires jQuery v1.1 or later
 *
 * See https://github.com/recurser/jquery-i18n
 *
 * Licensed under the MIT license.
 *
 * Version: <%= pkg.version %> (<%= meta.date %>)
 */(function(r){var e=Array.prototype.slice,t={dict:null,missingPattern:null,load:function(i,a){this.dict!==null?r.extend(this.dict,i):this.dict=i,a&&(this.missingPattern=a)},unload:function(){this.dict=null,this.missingPattern=null},_:function(i){var a=this.dict;if(a&&a.hasOwnProperty(i))i=a[i];else if(this.missingPattern!==null)return this.printf(this.missingPattern,i);var o=e.call(arguments);return o[0]=i,this.printf.apply(this,o)},printf:function(i,o){if(arguments.length<2)return i;var o=r.isArray(o)?o:e.call(arguments,1);return i.replace(/([^%]|^)%(?:(\d+)\$)?s/g,function(n,s,l){return l?s+o[parseInt(l)-1]:s+o.shift()}).replace(/%%s/g,"%s")}};r.fn._t=function(i,a){return r(this).html(t._.apply(t,arguments))},r.i18n=t})(jQuery);const _export_sfc=(r,e)=>{const t=r.__vccOpts||r;for(const[i,a]of e)t[i]=a;return t},_sfc_main$h={name:"LegacyView",components:{}},_hoisted_1$f={id:"contentContainer",class:"content-container"},_hoisted_2$b=createBaseVNode("div",{class:"loading-view"},[createBaseVNode("div",{class:"progress-bar-div"},[createBaseVNode("progress",{class:"progress-bar",max:"100",value:"10"},[createBaseVNode("strong",null,"Progress: 100% Complete.")]),createBaseVNode("span",{class:"progress-label"},"Initializing...")])],-1),_hoisted_3$8=[_hoisted_2$b];function _sfc_render$f(r,e,t,i,a,o){return openBlock(),createElementBlock("div",_hoisted_1$f,_hoisted_3$8)}const LegacyView=_export_sfc(_sfc_main$h,[["render",_sfc_render$f]]),routes=[{path:"/:pathMatch(.*)*",name:"catch-all",component:LegacyView}],main_ui_router=createRouter({history:createMemoryHistory(),routes});var TTUUID$1=function(){};TTUUID$1.zero_id="00000000-0000-0000-0000-000000000000";TTUUID$1.not_exist_id="ffffffff-ffff-ffff-ffff-ffffffffffff";TTUUID$1.counter=0;TTUUID$1.generateUUID=function(r){if(!r&&LocalCacheData&&LocalCacheData.loginUser&&LocalCacheData.loginUser.id){var e=LocalCacheData.loginUser.id.split("-");r=e[1]+e[2]+e[3]}(r==null||r.length!=12)&&(r=(TTUUID$1.randomUI08()|1)*1099511627776+TTUUID$1.randomUI40());var t=TTUUID$1.randomUI14(),i=r,a=TTUUID$1.randomUI04(),o=new Date().getTime();o+=TTUUID$1.counter,TTUUID$1.counter+=1;var n=TTUUID$1.getTimeFieldValues(o),s=n.low+a,l=n.hi&4095|4096;t&=16383;var c=t>>>8|128,m=t&255;return TTUUID$1.fromParts(s,n.mid,l,c,m,i)};TTUUID$1.castUUID=function(r){return r===null||TTUUID$1.isUUID(r)==!0?r:TTUUID$1.zero_id};TTUUID$1.isUUID=function(r){var e=new RegExp("[a-zA-Z0-9]{8}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{12}");return!!(r!=""&&e.test(r))};TTUUID$1.fromParts=function(r,e,t,i,a,o){var n=TTUUID$1.paddedString(t.toString(16),4)+TTUUID$1.paddedString(e.toString(16),4)+"-"+TTUUID$1.paddedString(r.toString(16).substring(0,4),4)+"-"+TTUUID$1.paddedString(r.toString(16).substring(5,8),4)+"-"+TTUUID$1.paddedString(i.toString(16),2)+TTUUID$1.paddedString(a.toString(16),2)+"-"+o.toString().substring(0,12);return n};TTUUID$1.maxFromBits=function(r){return Math.pow(2,r)};TTUUID$1.limitUI04=TTUUID$1.maxFromBits(4);TTUUID$1.limitUI08=TTUUID$1.maxFromBits(8);TTUUID$1.limitUI14=TTUUID$1.maxFromBits(14);TTUUID$1.limitUI16=TTUUID$1.maxFromBits(16);TTUUID$1.limitUI40=TTUUID$1.maxFromBits(40);TTUUID$1.randomUI04=function(){return TTUUID$1.getRandomInt(0,TTUUID$1.limitUI04-1)};TTUUID$1.randomUI08=function(){return TTUUID$1.getRandomInt(0,TTUUID$1.limitUI08-1)};TTUUID$1.randomUI14=function(){return TTUUID$1.getRandomInt(0,TTUUID$1.limitUI14-1)};TTUUID$1.randomUI40=function(){return(0|Math.random()*(1<<30))+(0|Math.random()*1024)*(1<<30)};TTUUID$1.getTimeFieldValues=function(r){var e=r-Date.UTC(1582,9,15),t=e/4294967296*1e4&268435455;return{low:(e&268435455)*1e4%4294967296,mid:t&65535,hi:t>>>16,timestamp:e}};TTUUID$1.paddedString=function(r,e,t){r=String(r),t=t||"0";for(var i=e-r.length;i>0;i>>>=1,t+=t)i&1&&(r=t+r);return r};TTUUID$1.getRandomInt=function(r,e){var t,i=window.crypto||window.msCrypto;if(i){var a=new Uint8Array(1);i.getRandomValues(a),t="0."+a[0].toString()}else t=Math.random();return t=Math.floor(t*(e-r+1))+r,t};class Base extends Backbone.Model{constructor(e={}){_.defaults(e,{}),super(e)}}class ResponseObject extends Base{constructor(e={}){_.defaults(e,{onResult:null,onError:null,delegate:null,async:null}),super(e)}}class APIReturnHandler extends Base{constructor(e={}){_.defaults(e,{result_data:null,delegate:null}),super(e)}isValid(){return!(Global.isSet(this.get("result_data").api_retval)&&this.get("result_data").api_retval===!1)}getDetails(){return Global.isSet(this.get("result_data").api_details)&&Global.isSet(this.get("result_data").api_details.details)?this.get("result_data").api_details.details:!0}getPagerData(){return Global.isSet(this.get("result_data").api_details)&&Global.isSet(this.get("result_data").api_details.pager)?this.get("result_data").api_details.pager:!1}getResult(){var e;return Global.isSet(this.get("result_data").api_retval)?e=this.get("result_data").api_retval:e=this.get("result_data"),typeof e>"u"?e=null:jQuery.type(e)==="array"&&e.length===0&&(e={}),e}getCode(){return Global.isSet(this.get("result_data").api_details)&&Global.isSet(this.get("result_data").api_details.code)?this.get("result_data").api_details.code:!1}getDescription(){return Global.isSet(this.get("result_data").api_details)&&Global.isSet(this.get("result_data").api_details.description)?this.get("result_data").api_details.description:!1}getRecordDetails(){return Global.isSet(this.get("result_data").api_details)&&Global.isSet(this.get("result_data").api_details.record_details)?this.get("result_data").api_details.record_details:!1}getTotalRecords(){return Global.isSet(this.get("result_data").api_details)&&Global.isSet(this.get("result_data").api_details.record_details)&&Global.isSet(this.get("result_data").api_details.record_details.total_records)?this.get("result_data").api_details.record_details.total_records:!1}getValidRecords(){return Global.isSet(this.get("result_data").api_details)&&Global.isSet(this.get("result_data").api_details.record_details)&&Global.isSet(this.get("result_data").api_details.record_details.valid_records)?this.get("result_data").api_details.record_details.valid_records:!1}getInValidRecords(){return Global.isSet(this.get("result_data").api_details)&&Global.isSet(this.get("result_data").api_details.record_details)&&Global.isSet(this.get("result_data").api_details.record_details.invalid_records)?this.get("result_data").api_details.record_details.invalid_records:!1}getAttributeInAPIDetails(e){let t=this.get("result_data");return t&&t.api_details?t.api_details[e]:!1}getDetailsAsString(){var e="";return jQuery.each(this.getDetails(),function(t,i){for(var a in i)e+=i[a][0]+"\r"}),e}}let ServiceCaller$1=class V extends Backbone.Model{constructor(){jQuery.xhrPool=[],super()}getMessageId(){return this.message_id?this.message_id:(this.setMessageId(TTUUID$1.generateUUID()),this.message_id)}setMessageId(e){return this.message_id=e,!0}getIsIdempotent(){return this.is_idempotent?this.is_idempotent:!1}setIsIdempotent(e){return this.is_idempotent=e,!0}argumentsHandler(){var e=arguments[0],t=arguments[1],i=arguments[2],a=arguments[2][i.length-1],o={},n,s;Global.isSet(a.onResult)||Global.isSet(a.async)?(s=i.length-1,n=new ResponseObject(a)):(s=i.length,n=null);for(var l=0;l<s;l++)o[l]=i[l],l===0&&s===1&&Global.isSet(o[l])&&Global.isSet(o[l].second_parameter)&&(o[1]=o[l].second_parameter);return this.call(e,t,n,o)}getOptionsCacheKey(e,t){return jQuery.each(e,function(i,a){jQuery.type(a)==="object"?t=t+"_"+JSON.stringify(a):t=t+"_"+a}),t}repeatAPICall(e,t,i,a){let o=Object.values(JSON.parse(i.json));TTAPI[e][t](...o,a.attributes)}uploadFile(e,t,i){var a=this.getMessageId(),o=V.getURLByObjectType("upload")+"?"+t+"&"+Global.getSessionIDKey()+"="+LocalCacheData.getSessionID()+"&MessageID="+a;ProgressBar.showProgressBar(a),ProgressBar.changeProgressBarMessage(jQuery.i18n._("File Uploading")),jQuery.ajax({url:o,headers:{"X-Client-ID":"Browser-TimeTrex","X-CSRF-Token":getCookie("CSRF-Token")},type:"POST",success:function(n){n&&n.toString().toLocaleLowerCase()!=="true"&&TAlertManager.showAlert(n),i.onResult&&i.onResult(n),ProgressBar.removeProgressBar()},data:e,cache:!1,contentType:!1,processData:!1})}prettyPrintAPIArguments(e){if(e&&e.json){var t=[],i=JSON.parse(e.json);for(var a in i){var o=i[a];t.push(JSON.stringify(o,null,2))}return t.join(", ")}return null}getCache(e,t,i,a){let o=LocalCacheData.result_cache[e],n=new APIReturnHandler;return n.set("result_data",o),n.set("delegate",t.get("delegate")),n.set("function_name",i),n.set("args",a),t.get("onResult")&&t.get("onResult")(n),n}isCachableFunction(e){let t=!1;switch(e){case"getOptions":case"isBranchAndDepartmentAndJobAndJobItemAndPunchTagEnabled":case"getUserGroup":case"getJobGroup":case"getJobItemGroup":case"getProductGroup":case"getDocumentGroup":case"getQualificationGroup":case"getKPIGroup":case"getHierarchyControlOptions":t=!0;break}return t}call(e,t,i,a){var o=this,n,s=V.getAPIURL("Class="+e+"&Method="+t+"&v=2"),l=s;LocalCacheData.getAllURLArgs()&&(LocalCacheData.getAllURLArgs().hasOwnProperty("user_id")&&(l=l+"&user_id="+LocalCacheData.getAllURLArgs().user_id),LocalCacheData.getAllURLArgs().hasOwnProperty("company_id")&&(l=l+"&company_id="+LocalCacheData.getAllURLArgs().company_id)),Global.getStationID()&&(l=l+"&StationID="+Global.getStationID());var c,m;i&&i.get("async")===!1?m=i.get("async"):m=!0;var d;switch(t){case"getOptions":case"isBranchAndDepartmentAndJobAndJobItemAndPunchTagEnabled":case"getHierarchyControlOptions":case"getUserGroup":case"getJobGroup":case"getJobItemGroup":case"getProductGroup":case"getDocumentGroup":case"getQualificationGroup":case"getKPIGroup":if(t==="getUserGroup"?d=e+".userGroup":t==="getJobGroup"?d=e+".jobGroup":t==="getJobItemGroup"?d=e+".jobItemGroup":t==="getProductGroup"?d=e+".productGroup":t==="getDocumentGroup"?d=e+".documentGroup":t==="getQualificationGroup"?d=e+".qualificationGroup":t==="getKPIGroup"?d=e+".kPIGroup":t==="getHierarchyControlOptions"?d="getHierarchyControlOptions":d=this.getOptionsCacheKey(a,e+"."+t),i.get("noCache")===!0&&(LocalCacheData.result_cache[d]=!1),d&&LocalCacheData.result_cache[d]){if(LocalCacheData.result_cache[d].pending)TTPromise.add("ServiceCaller",d),TTPromise.wait("ServiceCaller",d,(function(){this.getCache(d,i,t,a)}).bind(this));else return this.getCache(d,i,t,a);return c}break;case"setUserGroup":case"deleteUserGroup":d=e+".userGroup",LocalCacheData.result_cache[d]=!1;break;case"setJobGroup":case"deleteJobGroup":d=e+".jobGroup",LocalCacheData.result_cache[d]=!1;break;case"setJobItemGroup":case"deleteJobItemGroup":d=e+".jobItemGroup",LocalCacheData.result_cache[d]=!1;break;case"setProductGroup":case"deleteProductGroup":d=e+".productGroup",LocalCacheData.result_cache[d]=!1;break;case"setDocumentGroup":case"deleteDocumentGroup":d=e+".documentGroup",LocalCacheData.result_cache[d]=!1;break;case"setQualificationGroup":case"deleteQualificationGroup":d=e+".qualificationGroup",LocalCacheData.result_cache[d]=!1;break;case"setKPIGroup":case"deleteKPIGroup":d=e+".kPIGroup",LocalCacheData.result_cache[d]=!1;break}n=this.getMessageId(),TTPromise.add("ServiceCaller",n),e!=="APIProgressBar"&&t!=="Logout"&&(l=l+"&MessageID="+n),this.getIsIdempotent()==!0&&(l=l+"&idempotent=1"),V.extra_url&&(l=l+V.extra_url),a||(a={}),a={json:JSON.stringify(a)};var u=null;if(typeof Error<"u"){var p=new Error;typeof p=="object"&&p.stack&&typeof p.stack=="string"?u=p.stack.split(`
`):u=null,p=null}var v=new Date,g={api:e+"."+t,args:a.json,message_id:this.getMessageId(),api_called_date:v.toISOString(),stack_trace:u};return u=null,LocalCacheData.api_stack.length===16&&LocalCacheData.api_stack.pop(),t!=="sendErrorReport"&&LocalCacheData.api_stack.unshift(g),e!=="APIProgressBar"&&t!=="Login"&&t!=="getPreLoginData"&&t!=="listenForMultiFactorAuthentication"&&ProgressBar.showProgressBar(n),this.isCachableFunction(t)===!0&&(LocalCacheData.result_cache[d]={pending:!0}),jQuery.ajax({dataType:"JSON",data:a,headers:{"Request-Uri-Fragment":encodeURIComponent(LocalCacheData.fullUrlParameterStr),"X-Client-ID":"Browser-TimeTrex","X-CSRF-Token":getCookie("CSRF-Token")},type:"POST",async:m,url:l,beforeSend:function(h){jQuery.ajax.request_start_time=Date.now(),this.jqXHR=h,jQuery.xhrPool.push(this)},complete:function(h){var w=jQuery.xhrPool.indexOf(this);w>-1&&jQuery.xhrPool.splice(w,1);var f=Date.now()-jQuery.ajax.request_start_time;f>1e3&&typeof gtag<"u"&&APIGlobal.pre_login_data.analytics_enabled===!0&&(gtag("event","api_call",{class:e,method:t,response_time:f}),Debug.Text("AJAX Response: Class: "+e+" Method: "+t+" Time: "+f+"ms","ServiceCaller.js","ServiceCaller","complete",11))},success:function(h){if(o.setMessageId(null),Global.enable_api_tracing==!0){var w="%cAPI Request:%c "+e+"->"+t+"(...) [Expand for Details]";console.groupCollapsed(w,"font-weight: bold","font-weight: normal"),console.log("%c"+e+"->"+t+"%c("+o.prettyPrintAPIArguments(a)+")","font-weight: bold","font-weight: normal");var f="%cRaw Request:%c [Expand for Details]";console.groupCollapsed(f,"font-weight: bold","font-weight: normal"),console.log("%cURL:%c "+l,"font-weight: bold","font-weight: normal"),console.log("%cRaw POST Body (non-URLEncoded):%c json="+a.json,"font-weight: bold","font-weight: normal"),console.log('%ccURL Command:%c curl -k --location --request POST --cookie "'+Global.getSessionIDKey()+`=<SessionID>" --form 'json=`+a.json+`' "`+s+'"',"font-weight: bold","font-weight: normal"),console.groupEnd(f);var T="%cResponse:%c [Expand for Details]";console.groupCollapsed(T,"font-weight: bold","font-weight: normal"),console.log(JSON.stringify(h,null,2)),console.groupEnd(T),console.groupEnd(w),f=null,T=null,w=null}if(Global.isSet(h)||(h=!0),e!=="APIProgressBar"&&t!=="Login"&&t!=="getPreLoginData"&&t!=="listenForMultiFactorAuthentication"&&ProgressBar.removeProgressBar(n),c=new APIReturnHandler,c.set("result_data",h),c.set("delegate",i.get("delegate")),c.set("function_name",t),c.set("args",a),!c.isValid()&&(c.getCode()==="EXCEPTION"||c.getCode()==="EXCEPTION_CSRF")){Debug.Text("api-exception: Code: "+c.getCode()+" Error: "+c.getDescription()+" Message ID: "+n,"ServiceCaller.js","ServiceCaller",null,10),c.getCode()==="EXCEPTION_CSRF"?(Global.sendAnalyticsEvent("service-caller","error:api-exception","api-exception: Code: "+c.getCode()+" Error: "+c.getDescription()),TAlertManager.showAlert(c.getDescription(),"Error",function(){window.location.reload()})):(Global.sendErrorReport("api-exception: Code: "+c.getCode()+" Error: "+c.getDescription(),"ServiceCaller.js"),TAlertManager.showAlert(jQuery.i18n._("API Exception")+": "+c.getDescription(),"Error")),typeof promise_key<"u"?TTPromise.reject("ServiceCaller",n):Debug.Text("ERROR: Unable to release promise because key is NULL.","ServiceCaller.js","ServiceCaller",null,10);return}else if(!c.isValid()&&c.getCode()==="SESSION"){if(Global.Logout(),V.cancel_all_error=!0,LocalCacheData.login_error_string=jQuery.i18n._("Session expired, please login again."),window.location.href!=Global.getBaseURL()+"#!m=Login"){var C=Global.getBaseURL().replace(V.root_url,"").split("/");C.indexOf("quick_punch")>0?Global.setURLToBrowser(Global.getBaseURL()+"#!m=QuickPunchLogin"):C.indexOf("portal")>0?LocalCacheData.getAllURLArgs().company_id&&(LocalCacheData.setPortalLoginUser(null),Global.setURLToBrowser(Global.getBaseURL()+"#!m=PortalJobVacancy&company_id="+LocalCacheData.getAllURLArgs().company_id)):LocalCacheData.getAllURLArgs().company_id||Global.setURLToBrowser(Global.getBaseURL()+"#!m=Login")}TTPromise.resolve("ServiceCaller",n);return}else if(!c.isValid()&&c.getCode()==="DOWN_FOR_MAINTENANCE"){Global.sendAnalyticsEvent("service-caller","error:down-for-maintenance","error:down-for-maintenance: Code: "+c.getCode()+" Error: "+c.getDescription()),TTPromise.resolve("ServiceCaller",n),window.location.replace(V.root_url+LocalCacheData.loginData.base_url+"html5/DownForMaintenance.php?exception=DOWN_FOR_MAINTENANCE");return}else if(c.getCode()==="REAUTHENTICATE"){let y=c.getResult();y.mfa.type_id==100?TTWebauthn.loginUser(LocalCacheData.getLoginUser().id,LocalCacheData.getLoginUser().user_name,()=>o.repeatAPICall(e,t,a,i)):Global.showAuthenticationModal(LocalCacheData.current_open_primary_controller.viewId,y.session_type,y.mfa,!0,I=>{Debug.Text("User Reauthenticated: "+I,"ServiceCaller.js","ServiceCaller","call",10),Global.hideAuthenticationModal(),o.repeatAPICall(e,t,a,i)}),TTPromise.resolve("ServiceCaller",n);return}else o.isCachableFunction(t)===!0&&(LocalCacheData.result_cache[d]=h,TTPromise.resolve("ServiceCaller",d)),i.get("onResult")&&typeof i.get("onResult")=="function"&&i.get("onResult")(c);TTPromise.resolve("ServiceCaller",n)},error:function(h,w,f){if(TTPromise.reject("ServiceCaller",n),e!=="APIProgressBar"&&t!=="Login"&&t!=="getPreLoginData"&&t!=="listenForMultiFactorAuthentication"&&ProgressBar.removeProgressBar(n),o.isCachableFunction(t)===!0&&LocalCacheData.result_cache[d]&&LocalCacheData.result_cache[d].pending&&(delete LocalCacheData.result_cache[d],TTPromise.reject("ServiceCaller",d)),!V.cancel_all_error){if(Debug.Text("AJAX Request Error: "+f+" Message: "+w+" HTTP Code: "+h.status,"ServiceCaller.js","ServiceCaller","call",10),h.responseText&&h.responseText.indexOf("User not authenticated")>=0){V.cancel_all_error=!0,LocalCacheData.login_error_string=jQuery.i18n._("Session timed out, please login again."),Global.clearSessionCookie(),Global.setURLToBrowser(Global.getBaseURL()+"#!m=Login");return}else h.responseText&&jQuery.type(h.responseText)==="string"&&TAlertManager.showNetworkErrorAlert(h,w,f);return h.status===200&&!h.responseText?(c=new APIReturnHandler,c.set("result_data",!0),c.set("delegate",i.get("delegate")),c.set("function_name",t),c.set("args",a),i.get("onResult")&&i.get("onResult")(c),c):((h.status===0||h.status>=400&&h.status<=599)&&(TAlertManager.showNetworkErrorAlert(h,w,f),ProgressBar.cancelProgressBar()),i.get("onError")&&typeof i.get("onError")=="function"&&i.get("onError")(c),null)}}}),c}};ServiceCaller$1.getAPIURL=function(r){return ServiceCaller$1.base_url+ServiceCaller$1.base_api_url+"?"+r};ServiceCaller$1.getURLByObjectType=function(r){var e=!1,t=!1,i=null,a=ServiceCaller$1.base_url+"interface/send_file.php?api=1";switch(r.toLowerCase()){case"upload":i=ServiceCaller$1.base_url+"interface/upload_file.php",e=!1;break;case"import_csv_example":i=ServiceCaller$1.base_url+"interface/html5/views/wizard/import_csv/",e=!1;break;case"file_download":i=a,e=!0;break;case"company_logo":i=a+"&object_type=company_logo",e=!0,t=!0;break;case"legal_entity_logo":i=a+"&object_type=legal_entity_logo",e=!0,t=!0;break;case"invoice_config":i=a+"&object_type=invoice_config",e=!0;break;case"user_photo":i=a+"&object_type=user_photo",e=!0;break;case"remittance_source_account":i=a+"&object_type=remittance_source_account",e=!0,t=!0;break;case"primary_company_logo":i=a+"&object_type=primary_company_logo";break;case"smcopyright":i=a+"&object_type=smcopyright";break;case"copyright":i=a+"&object_type=copyright";break;default:Debug.Text("Object Type is unknown: "+r,"ServiceCaller.js","ServiceCaller","getURLByObjectType",10);break}return e==!0&&(i+="&X-CSRF-Token="+getCookie("CSRF-Token")),t==!0&&(i+="&t="+new Date().getTime()),i};ServiceCaller$1.abortAll=function(){jQuery.each(jQuery.xhrPool,function(r,e){typeof e=="object"&&e.jqXHR&&typeof e.jqXHR=="object"&&typeof e.jqXHR.abort=="function"&&(e.url&&e.url.indexOf("Method=Logout")==-1?(Debug.Text(" Aborting API call: "+e.url,"ServiceCaller.js","ServiceCaller","abortAll",10),e.jqXHR.abort()):Debug.Text("Not aborting Logout API call...","ServiceCaller.js","ServiceCaller","abortAll",10))})};ServiceCaller$1.base_url=null;ServiceCaller$1.base_api_url=null;ServiceCaller$1.root_url=null;ServiceCaller$1.cancel_all_error=!1;ServiceCaller$1.extra_url=!1;class TimeTrexClientAPI extends ServiceCaller$1{constructor(e,t){return super(),this.className=e,t||(t=e.replace("API","")),this.key_name=t,this.enableNoSuchMethod(this)}enableNoSuchMethod(e){return new Proxy(e,{get(t,i){if(i in t)return t[i];if(typeof t.__noSuchMethod__=="function")return function(...a){return t.__noSuchMethod__.call(t,i,a)}}})}}TimeTrexClientAPI.prototype.__noSuchMethod__=function(r,e){return this.argumentsHandler(this.className,r,e)};const tt_api_target={},tt_api_class_handler={get(r,e){return new TimeTrexClientAPI(e)}},TTAPI$1=new Proxy(tt_api_target,tt_api_class_handler);var FormItemType$1=function(){};FormItemType$1.TEXT="text";FormItemType$1.AWESOME_BOX="awesomeBox";FormItemType$1.AWESOME_DROPDOWN="awesomeDropdown";FormItemType$1.FORMULA_BUILDER="formulaBuilder";FormItemType$1.COMBO_BOX="comboBox";FormItemType$1.LIST="list";FormItemType$1.TEXT_INPUT="textInput";FormItemType$1.TIME_PICKER="timePicker";FormItemType$1.FEEDBACK_BOX="feedbackBox";FormItemType$1.PASSWORD_INPUT="passwordInput";FormItemType$1.TEXT_AREA="textArea";FormItemType$1.TINYMCE_TEXT_AREA="tinymceTextArea";FormItemType$1.TAG_INPUT="tagInput";FormItemType$1.DATE_PICKER="datePicker";FormItemType$1.RANGE_PICKER="range_date_picker";FormItemType$1.CHECKBOX="checkbox";FormItemType$1.SEPARATED_BOX="separatedBox";FormItemType$1.FILE_BROWSER="fileBrowser";FormItemType$1.IMAGE_BROWSER="imageBrowser";FormItemType$1.IMAGE_AVD_BROWSER="imageADVBrowser";FormItemType$1.CAMERA_BROWSER="cameraBrowser";FormItemType$1.IMAGE_CUT="imageCutArea";FormItemType$1.INSIDE_EDITOR="insideEditor";FormItemType$1.IMAGE="image";FormItemType$1.COLOR_PICKER="colorPicker";var WidgetNamesDic$1=function(){};WidgetNamesDic$1.ERROR_TOOLTIP="errorToolTip";WidgetNamesDic$1.EDIT_VIEW_FORM_ITEM="editViewFormItem";WidgetNamesDic$1.EDIT_VIEW_SUB_FORM_ITEM="editViewSubFormItem";WidgetNamesDic$1.PAGING="paging";WidgetNamesDic$1.PAGING_2="paging_2";WidgetNamesDic$1.NO_RESULT_BOX="no_result_box";WidgetNamesDic$1.VIEW_MIN_TAB_BAR="view_min_tab_bar";WidgetNamesDic$1.VIEW_MIN_TAB="view_min_tab";const FormItemType$2=Object.freeze(Object.defineProperty({__proto__:null,FormItemType:FormItemType$1,WidgetNamesDic:WidgetNamesDic$1},Symbol.toStringTag,{value:"Module"}));var RateLimit=function(){};RateLimit.memory={};RateLimit.id="";RateLimit.allowed_calls=10;RateLimit.time_frame=3600;RateLimit.getID=function(){return this.id};RateLimit.setID=function(r){return r!=""?(this.id=r,!0):!1};RateLimit.getAllowedCalls=function(){return this.allowed_calls};RateLimit.setAllowedCalls=function(r){return r!=""?(this.allowed_calls=r,!0):!1};RateLimit.getTimeFrame=function(){return this.time_frame};RateLimit.setTimeFrame=function(r){return r!=""?(this.time_frame=r,!0):!1};RateLimit.getRateData=function(){return typeof this.memory[this.id]>"u"?null:this.memory[this.id]};RateLimit.setRateData=function(r){return typeof this.memory[this.id]>"u"&&(this.memory[this.id]={}),r!=""?(this.memory[this.id]=r,!0):!1};RateLimit.getAttempts=function(){var r=this.getRateData();return Global.isSet(r.attempts)?r.attempts:!1};RateLimit.check=function(){if(this.getID()!=""){var r=this.getRateData(),e=new Date().getTime();if(Global.isSet(r)==!1)r={first_date:e,attempts:0};else if(Global.isSet(r)){var t=this.getTimeFrame()*1e3;if(r.attempts>this.getAllowedCalls()&&r.first_date>=e-t)return Debug.Text("RateLimit limiting ["+r.attempts+"/"+this.getAllowedCalls()+"] in "+Math.floor((e-r.first_date)/1e3)+"/"+this.getTimeFrame()+"sec","RateLimit.js","RateLimit","check",10),!1;r.first_date<e-t&&(r={first_date:e,attempts:0})}r.attempts++,this.setRateData(r)}return!0};RateLimit.delete=function(r){r!=null&&(this.id=r),delete this.memory[this.id]};(function(r){r.fn.ViewMinTabBar=function(e){var t=r.extend({},r.fn.ViewMinTabBar.defaults,e),i=this;Global.addCss("global/widgets/view_min_tab/ViewMinTab.css");var a=function(o,n,s){var l=r(Global.loadWidgetByName(WidgetNamesDic.VIEW_MIN_TAB)),c=l.find(".view-name");c.text(n),l.attr("id","min_tab_"+o),l.attr("view_url",s),setTimeout(function(){l.addClass("show")},100);var m=l.find(".close-btn");l.unbind("click").click(function(){Global.setUINotready();var d=r(this).attr("id").replace("min_tab_",""),u=r(this).attr("view_url");switch(Global.removeViewTab(d),d){case"ProcessPayrollWizard":IndexViewController.openWizard(d);break;case"PayrollRemittanceAgencyEventWizardController":IndexViewController.openWizardController("PayrollRemittanceAgencyEventWizardController");break;default:Global.setURLToBrowser(u)}}),m.unbind("click").click(function(){var d=r(this).parent().attr("id").replace("min_tab_","");Global.removeViewTab(d)}),i.append(l)};return this.buildTabs=function(o){for(var n in o)if(o.hasOwnProperty(n)&&n.indexOf("_url")===-1){var s=n,l=o[n],c=o[n+"_url"];r("#min_tab_"+s).length===0&&a(s,l,c)}},this.each(function(){r.meta&&r.extend({},t,r(this).data())}),this},r.fn.ViewMinTabBar.defaults={},r.fn.ViewMinTabBar.html={tab:`
		<div class="p-button p-component view-min-tab animated">
			<span class="view-name"></span>
			<span class="tticon tticon-cancel_black_24dp close-btn"></span>
		</div>`,tab_bar:'<div class="view-min-tab-bar"></div>'}})(jQuery);const ViewMinTabBar=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),EventBus=mitt();window.TTEventBusStatics={AUTO_CLEAR_ON_EXIT:!0,mitt:EventBus,_events_by_listener_scope:{}};let TTEventBus$1=class{constructor(e={}){this._options=e,this.scope_id=null,this._setInstanceScopeId(this.generateScopeIdFromOptions(e)),Debug.Text("constructor called ("+this.scope_id+").","TTEventBus.js","TTEventBus","constructor",11)}generateScopeIdFromOptions(e){return e&&e.view_id&&e.component_id?(Debug.Warn("Are you sure you want to set both view and component id? This complicates things.","TTEventBus.js","TTEventBus","generateScopeIdFromOptions",2),e.view_id+"."+e.component_id):e&&e.view_id?e.view_id:e&&e.component_id?e.component_id:!1}_setInstanceScopeId(e){return this.scope_id=e}getInstanceScopeId(){return this.scope_id}generateMittId(e,t){return e+"."+t}on(e,t,i,a){TTEventBusStatics._events_by_listener_scope[this.scope_id]=TTEventBusStatics._events_by_listener_scope[this.scope_id]||[];var o=this.generateMittId(e,t),n=this.scope_id+":"+o+":"+TTUUID.generateUUID();return TTEventBusStatics._events_by_listener_scope[this.scope_id].push({unique_listener_id:n,mitt_event_id:o,event_scope:e,event_id:t,event_handler:i,auto_clear_on_exit:a}),TTEventBusStatics.mitt.on(o,i),Debug.Text(this.scope_id+": Listener created for ("+n+").","TTEventBus.js","TTEventBus","on",11),n}emit(e,t,i){var a=this.generateMittId(e,t);return Debug.Text(this.scope_id+": Event emitted for ("+a+").","TTEventBus.js","TTEventBus","emit",11),TTEventBusStatics.mitt.emit(a,i)}off(e,t){var i=TTEventBusStatics._events_by_listener_scope[e];if(i===void 0)return Debug.Error("Error: invalid params passed. scope_id not found.","TTEventBus.js","EventBus","off",1),-1;var a=i.map(n=>n.event_id).indexOf(t);if(a>=0){var o=i[a];return i.splice(a,1),Debug.Text(this.scope_id+": Listener removed for ("+o.mitt_event_id+").","TTEventBus.js","EventBus","off",11),TTEventBusStatics.mitt.off(o.mitt_event_id,o.event_handler)}else return Debug.Error("Error: invalid params passed. event_id not found.","TTEventBus.js","EventBus","off",1),-1}autoClear(){return Debug.Text("Auto off triggered for ("+this.scope_id+").","TTEventBus.js","EventBus","autoClear",11),this.allOff(this.scope_id)}allOff(e){var t=TTEventBusStatics._events_by_listener_scope[e];if(t===void 0)return Debug.Text("Scope not found. But could be normal if this is a global function triggered on a scope with no events.","TTEventBus.js","EventBus","allOff",2),-1;for(let i=t.length-1;i>=0;i--)t[i].auto_clear_on_exit?(TTEventBusStatics.mitt.off(t[i].mitt_event_id,t[i].event_handler),Debug.Text("Auto removed "+t[i].mitt_event_id+" event on scope close.","TTEventBus.js","EventBus","allOff",2),t.splice(i,1)):Debug.Text("Event does not have AUTO_CLEAR_ON_EXIT. Skipping "+t[i].mitt_event_id,"TTEventBus.js","EventBus","allOff",2);return(!TTEventBusStatics._events_by_listener_scope[e]||TTEventBusStatics._events_by_listener_scope[e].length===0)&&delete TTEventBusStatics._events_by_listener_scope[e],!0}};class HtmlTemplates{constructor(){}outputif(e,t){return e?t||e:""}outputOptions(e){let t=[];for(var i=0;i<e.length;i++){let a=this.outputif(e[i].option,e[i].html);a&&t.push(a)}return t.length>0?"{ "+t.join(", ")+" }":""}convertPascalCase2SnakeCase(e){return e.split(/(?=[A-Z][a-z])/).join("_").toLowerCase()}convertPascalCase2KebabCase(e){return e.split(/(?=[A-Z][a-z])/).join("-").toLowerCase()}getTemplateTypeFromFilename(e){var t;switch(!0){case this.checkViewClassForInlineHtmlbyFilename(e)!==!1:t=TemplateType.INLINE_HTML;break;case e.indexOf("Sub")===0:t=TemplateType.SUB_VIEW;break;case e.indexOf("EditView.html")!==-1:t=TemplateType.EDIT_VIEW;break;case(e.indexOf("ReportView.html")!==-1&&e.includes("Saved")===!1):t=TemplateType.REPORT_VIEW;break;case e.indexOf("View.html")!==-1:t=TemplateType.LIST_VIEW;break;default:t=TemplateType.LEGACY_HTML}return t}getTemplateOptionsFromViewId(e){let t={view_id:e};return["RemittanceSummaryReport","T4SummaryReport","T4ASummaryReport","Form941Report","Form940Report","Form1099NecReport","FormW2Report","AffordableCareReport","USStateUnemploymentReport","USPERSReport","USEEOReport"].includes(e)&&(t.report_form_setup=!0),["UserDateTotal"].includes(e)&&(t.sub_view_warning_message=!0),["LoginUserWizard","LoginUser","FindAvailableWizard","FindAvailable"].includes(e)&&(t.do_not_cache_controller=!0),e==="Log"&&(t.is_sub_view=!0),["JobGroup","JobItemGroup","PunchTagGroup","UserGroup","DocumentGroup","KPIGroup","ClientGroup","ProductGroup"].includes(e)&&(t.base_tree_view=!0),t}checkViewClassForInlineHtmlbyFilename(e){let t=window[e.replace(/\.html$/,"")+"Controller"];return t!==void 0&&typeof t.html_template=="string"?t.html_template:!1}getTemplate(e,t={},i){var a;switch(e){case TemplateType.LIST_VIEW:a=this.getGenericListViewHtml(t);break;case TemplateType.SUB_VIEW:t.is_sub_view=!0,a=this.getGenericListViewHtml(t);break;case TemplateType.EDIT_VIEW:a=HtmlTemplatesGlobal.genericEditView(t);break;case TemplateType.REPORT_VIEW:a=HtmlTemplatesGlobal.genericReportEditView(t);break;case TemplateType.INLINE_HTML:a=this.getViewScriptTagHtml(t)+this.checkViewClassForInlineHtmlbyFilename(t.filename);break;default:return Debug.Error("HTML2JS: Error occured getting template. No matches for "+t.view_id,"HtmlTemplates.js","HtmlTemplates.js","getTemplate",1),-1}if(i)i(a);else return a}getGenericListViewHtml(e={}){return Debug.Text("HTML2JS: Template retrieved for "+e.view_id,"HtmlTemplates.js","HtmlTemplates.js","getGenericListViewHtml",10),this.getViewScriptTagHtml(e)+HtmlTemplatesGlobal.genericListView(e)}getViewScriptTagHtml(e={}){let t=e.view_id+"ViewController";return`<!-- JS2HTML ${this.outputif(e.is_sub_view,"SUB_VIEW ")}--><script type="text/javascript">
												var ${this.outputif(e.is_sub_view,"sub_")}${this.convertPascalCase2SnakeCase(e.view_id)}_view_controller = new ${t}(${this.outputOptions([{option:e.is_sub_view,html:"sub_view_mode: true"},{option:e.do_not_cache_controller,html:"can_cache_controller: false"}])});
											<\/script>`}genericListView(e={}){let t=this.convertPascalCase2SnakeCase(e.view_id)+"_view_container",i=this.convertPascalCase2KebabCase(e.view_id)+"-view";return`
			<div class="view js-generic-list-view ${this.outputif(i)}${this.outputif(e.is_sub_view," sub-view")}" id="${this.outputif(t)}">
				${this.outputif(e.sub_view_warning_message,'<span class="warning-message"></span>')}
				<div class="clear-both-div"></div>
				${this.genericListGrid(e)}
			</div>
		`}genericListGrid(e={}){return`
		<div class="grid-div js-generic-grid">
			${this.outputif(!e.is_sub_view&&!e.base_tree_view,'<div class="total-number-div"><span class="total-number-span"></span></div>')}
			<div class="grid-top-border"></div>

			${this.outputif(e.is_sub_view,'<div class="sub-grid-view-div">')}
				<table id="grid"></table>
			${this.outputif(e.is_sub_view,"</div>")}

			<div class="bottom-div">
				<div class="grid-bottom-border"></div>
			</div>
		</div>
	`}genericEditView(e={}){let t=this.convertPascalCase2SnakeCase(e.view_id)+"_edit_view_tab_bar",i=e.view_id+"EditView";return`
			<div class="js-generic-edit-view edit-view ${this.outputif(i)}">
				<div class="edit-view-tab-bar" id="${this.outputif(t)}">
					<div class="navigation-div" style="display: none">
						<span class="navigation-label"></span>
						<img class="left-click arrow"/>
						<div class="navigation-widget-div"></div>
						<img class="right-click arrow"/>
					</div>
					<span class="close-icon">x</span>
					<ul class="edit-view-tab-bar-label"></ul>
				</div>
			</div>
		`}genericTab(e={}){let t=e.is_multi_column,i=e.show_permission_div,a=e.is_sub_view||!1,o=e.tab_id;return`
			<div id="${o}" class="html2js_flag edit-view-tab-outside${this.outputif(a,"-sub-view")}">
				<div class="edit-view-tab" id="${o}_content_div">
					<div class="first-column${this.outputif(a,"-sub-view")}${this.outputif(!t," full-width-column")}"></div>
					${this.outputif(t,'<div class="second-column"></div>')}

					${this.outputif(a,`
			<div class="save-and-continue-div">
				<span class="message"></span>
				<div class="save-and-continue-button-div">
					<button class="tt-button p-button p-component" type="button">
						<span class="icon"></span>
						<span class="p-button-label"></span>
					</button>
				</div>
			</div>
		`)}
					${this.outputif(i,`
				<div class="save-and-continue-div permission-defined-div">
					<span class="message permission-message"></span>
				</div>`)}
				</div>
			</div>
		`}auditTab(e={}){return`
			<div id="tab_audit" class="html2js_flag_audit edit-view-tab-outside-sub-view">
				<div class="edit-view-tab" id="tab_audit_content_div">
					<div class="first-column-sub-view"></div>
					<div class="save-and-continue-div">
						<span class="message"></span>
						<div class="save-and-continue-button-div">
							<button class="tt-button p-button p-component" type="button">
								<span class="icon"></span>
								<span class="p-button-label"></span>
							</button>
						</div>
					</div>
				</div>
			</div>
		`}genericReportEditView(e={}){let t=this.convertPascalCase2SnakeCase(e.view_id)+"_view_tab_bar";return`
			<div class="js-generic-report-edit-view edit-view active-shift-report-view">
				<div class="edit-view-tab-bar" id="${this.outputif(t)}">
					<div class="navigation-div" style="display: none">
						<span class="navigation-label"></span>
						<img class="left-click arrow"/>
						<div class="navigation-widget-div"></div>
						<img class="right-click arrow"/>
					</div>
					<span class="close-icon">x</span>
					<ul class="edit-view-tab-bar-label">
						<li><a ref="tab_report" href="#tab_report"></a></li>
						<li><a ref="tab_setup" href="#tab_setup"></a></li>
						<li><a ref="tab_chart" href="#tab_chart"></a></li>
						${this.outputif(e.report_form_setup||e.view_id&&e.view_id==="PayrollExportReport",'<li><a ref="tab_form_setup" href="#tab_form_setup"></a></li>')}
						<li><a ref="tab_custom_columns" href="#tab_custom_columns"></a></li>
						<li><a ref="tab_saved_reports" href="#tab_saved_reports"></a></li>
					</ul>
					<div id="tab_report" class="edit-view-tab-outside">
						<div class="edit-view-tab" id="tab_report_content_div">
							<div class="first-column full-width-column"></div>
						</div>
					</div>
					<div id="tab_setup" class="edit-view-tab-outside">
						<div class="edit-view-tab" id="tab_setup_content_div">
							<div class="first-column full-width-column"></div>
						</div>
					</div>
					<div id="tab_chart" class="edit-view-tab-outside">
						<div class="edit-view-tab" id="tab_chart_content_div">
							<div class="first-column full-width-column"></div>
							<div class="save-and-continue-div permission-defined-div">
								<span class="message permission-message"></span>
							</div>
						</div>
					</div>
					${this.outputif(e.report_form_setup,`
						<div id="tab_form_setup" class="edit-view-tab-outside">
							<div class="edit-view-tab" id="tab_form_setup_content_div">
								<div class="first-column full-width-column"></div>
							</div>
						</div>`)}
					${this.outputif(e.view_id&&e.view_id==="PayrollExportReport",`
						<div id="tab_form_setup" class="edit-view-tab-outside">
							<div class="edit-view-tab" id="tab_form_setup_content_div">
								<div class="first-row first-column full-width-column">
								</div>
								<div class="inside-editor-div full-width-column">
									<div class="grid-div">
										<table id="export_grid"></table>
									</div>
								</div>
							</div>
						</div>`)}
					<div id="tab_custom_columns" class="edit-view-tab-outside-sub-view">
						<div class="edit-view-tab" id="tab_custom_columns_content_div">
							<div class="first-column-sub-view"></div>
							<div class="save-and-continue-div">
								<span class="message"></span>
								<div class="save-and-continue-button-div">
									<button class="tt-button p-button p-component" type="button">
										<span class="icon"></span>
										<span class="p-button-label"></span>
									</button>
								</div>
							</div>
							<div class="save-and-continue-div permission-defined-div">
								<span class="message permission-message"></span>
							</div>
						</div>
					</div>
					<div id="tab_saved_reports" class="edit-view-tab-outside-sub-view">
						<div class="edit-view-tab" id="tab_saved_reports_content_div">
							<div class="first-column-sub-view"></div>
							<div class="save-and-continue-div">
								<span class="message"></span>
								<div class="save-and-continue-button-div">
									<button class="tt-button p-button p-component" type="button">
										<span class="icon"></span>
										<span class="p-button-label"></span>
									</button>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		`}}const TemplateType=Object.freeze({LIST_VIEW:Symbol("LIST_VIEW"),SUB_VIEW:Symbol("SUB_VIEW"),EDIT_VIEW:Symbol("EDIT_VIEW"),REPORT_VIEW:Symbol("REPORT_VIEW"),INLINE_HTML:Symbol("INLINE_HTML"),LEGACY_HTML:Symbol("LEGACY_HTML")}),HtmlTemplatesGlobal=new HtmlTemplates;window.TT_HTML_G=HtmlTemplatesGlobal;class TTVueUtils{constructor(){this._dynamic_vue_components={}}mountComponent(e,t,i){if(e===void 0)return Debug.Error("Error: Invalid parameters passed to function.","TTVueUtils.js","TTVueUtils","mountComponent",1),!1;if(document.getElementById(e)===null)return Debug.Error('Error: mount_id "'+e+'" does not exist in the DOM.',"TTVueUtils.js","TTVueUtils","mountComponent",1),!1;if(this._dynamic_vue_components[e]!==void 0)return Debug.Error("Error: component ("+e+") already exists and mounted.","TTVueUtils.js","TTVueUtils","mountComponent",1),!1;i=i||{},i.component_id=i.component_id||e;let a="#"+e,o=createApp(t,i);o.use(PrimeVue,{ripple:!0,inputStyle:"filled"}),o.use(main_ui_router),o.directive("tooltip",Tooltip);let n=o.mount(a);return this._dynamic_vue_components[e]={mount_id:e,_vue_app_instance:o,_vue_component_instance:n},this._dynamic_vue_components[e]}unmountComponent(e){return this._dynamic_vue_components[e]&&this._dynamic_vue_components[e]._vue_component_instance?(this._dynamic_vue_components[e]._vue_app_instance.unmount(),delete this._dynamic_vue_components[e],Debug.Text("Component successfully unmounted ("+e+").","TTVueUtils.js","TTVueUtils","unmountComponent",2),!0):(Debug.Text("Unable to unmount component. Component not found ("+e+"). Maybe already removed?","TTVueUtils.js","TTVueUtils","unmountComponent",2),!1)}}const TTVueUtils$1=new TTVueUtils,bell_img="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='16'%20height='16'%20fill='%2332689b'%20class='bi%20bi-bell'%20viewBox='0%200%2016%2016'%3e%3cpath%20d='M8%2016a2%202%200%200%200%202-2H6a2%202%200%200%200%202%202zM8%201.918l-.797.161A4.002%204.002%200%200%200%204%206c0%20.628-.134%202.197-.459%203.742-.16.767-.376%201.566-.663%202.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134%208.197%2012%206.628%2012%206a4.002%204.002%200%200%200-3.203-3.92L8%201.917zM14.22%2012c.223.447.481.801.78%201H1c.299-.199.557-.553.78-1C2.68%2010.2%203%206.88%203%206c0-2.42%201.72-4.44%204.005-4.901a1%201%200%201%201%201.99%200A5.002%205.002%200%200%201%2013%206c0%20.88.32%204.2%201.22%206z'/%3e%3c/svg%3e",_sfc_main$g={created(){this.event_bus=new TTEventBus({component_id:this.component_id})},mounted(){this.onMFAStepChange()},props:{view_id:{type:String,default:null},component_id:{type:String,default:null},session_type:{type:String,default:"user_name"},user_name:{type:String,default:""},mfa_data:{type:Object,default:{}},authenticate_callback:{type:Function,default:null},is_reauthentication:{type:Boolean,default:!1}},data(){return{doing_login:!1,show_spinner:!1,resending_notification:!1,step:this.mfa_data.step,type_id:this.mfa_data.type_id,user_password:"",authentication_api:TTAPI.APIAuthentication,enable_trusted_device:getCookie("TrustedDevice")!=="",bell_img,labels:{title:$.i18n._("Authentication Required"),body:this.mfa_data.user_action_message,password:$.i18n._("Password"),current_password:$.i18n._("Current Password"),remember_me:$.i18n._("This is a trusted device. Remember Me")}}},computed:{button_text(){if(this.resending_notification===!0)return $.i18n._("Resending...");if(this.step==="password")return $.i18n._("Confirm Password");if(this.step==="start_listen")return $.i18n._("Resend");if(this.step==="saml")return $.i18n._("Verify")},show_trusted_device_checkbox(){return getCookie("TrustedDevice")===""&&(this.step==="password"||this.step==="start_listen")&&this.is_reauthentication===!1}},methods:{onMFAStepChange(){switch(this.step){case"saml":case"password":break;case"start_listen":this.doMultiFactorAuthentication();break;case"login":this.login();break}},setMFAStep(r){this.step=r,setTimeout(()=>{this.onMFAStepChange()},100)},onFormSubmit(r){switch(r.preventDefault(),this.step){case"saml":TTSAML.loginUser(this.user_name,this.mfa_data.redirect_url,!0),this.startSAMLListen();break;case"password":this.login();break;case"start_listen":this.sendMultiFactorNotification();let e=document.querySelector("#mfa-submit-button");e.disabled=!0,this.resending_notification=!0,setTimeout(()=>{e.disabled=!1,this.resending_notification=!1},3e3);break}},toggleTrustedDevice(){this.authentication_api.validateMultiFactor(!1,LocalCacheData.getSessionID(),"",{restart_listen:!0},{onResult:r=>{}})},sendMultiFactorNotification(){this.authentication_api.sendMultiFactorNotification({onResult:r=>{}})},startMultiFactorListen(r){let e="listenForMultiFactorAuthentication";this.type_id>=1e3&&(e="listenForReauthentication"),this.authentication_api[e](this.enable_trusted_device,{onResult:t=>{if(t.isValid()){let i=t.getResult();i.status==="completed"?(this.closeModal(),this.authenticate_callback(!0)):i.status==="restart_listen"?this.restartListen(r):i.status==="cancelled"&&(this.closeModal(),TAlertManager.showAlert($.i18n._("Multifactor authentication has been cancelled. Please try again.",$.i18n._("Multifactor Authentication Cancelled"))))}else this.closeModal()},onError:t=>{this.closeModal()}})},restartListen(r){r<12?this.startMultiFactorListen(r+1):(this.closeModal(),TAlertManager.showAlert($.i18n._("Multifactor authentication timed out. Please try again.",$.i18n._("Multifactor Authentication Timed Out"))))},doMultiFactorAuthentication(){this.show_spinner=!0,this.sendMultiFactorNotification(),this.startMultiFactorListen(1),ProgressBar.removeProgressBar()},startSAMLListen(){this.show_spinner=!0,this.startMultiFactorListen(1),ProgressBar.removeProgressBar()},cancelMultiFactorListen(){if(Array.isArray($.xhrPool))for(let r=0;r<$.xhrPool.length;r++)$.xhrPool[r].url.includes("listenForMultiFactorAuthentication")&&$.xhrPool[r].jqXHR.abort()},closeModal(){this.event_bus.emit("tt_login","user_closed_mfa_modal",{status:!0}),this.show_spinner=!1,this.cancelMultiFactorListen(),TTVueUtils$1.unmountComponent(this.component_id)},login(){if(this.doing_login==!0)return;this.doing_login=!0;let r=this.session_type;this.session_type!="user_name_multifactor"&&this.type_id>0&&(r="user_name_multifactor"),Global$1.login(this.user_name,this.user_password,r,this.is_reauthentication,e=>{if(this.doing_login=!1,e.isValid()){let t=e.getResult();this.type_id==0?(this.doing_login=!1,this.authenticate_callback(!0)):this.type_id==10&&t.mfa.step=="start_listen"&&this.setMFAStep("start_listen")}})}},components:{InputText:script,Checkbox:script$1,ProgressSpinner:script$2,Password:script$3}},_hoisted_1$e={class:"mfa-modal"},_hoisted_2$a={class:"mfa-modal-content"},_hoisted_3$7=["src"],_hoisted_4$7={class:"mfa-modal-title"},_hoisted_5$6={class:"p-float-label password-container"},_hoisted_6$6={class:"password-label"},_hoisted_7$4={class:"checkbox-container"},_hoisted_8$3={class:"checkbox-center",for:"remember-me"};function _sfc_render$e(r,e,t,i,a,o){const n=resolveComponent("ProgressSpinner"),s=resolveComponent("Password"),l=resolveComponent("Checkbox");return openBlock(),createElementBlock("div",_hoisted_1$e,[createBaseVNode("div",_hoisted_2$a,[createBaseVNode("span",{onClick:e[0]||(e[0]=(...c)=>o.closeModal&&o.closeModal(...c)),class:"mfa-modal-close"},"Ã—"),createBaseVNode("img",{class:"mfa-modal-image",src:a.bell_img},null,8,_hoisted_3$7),createBaseVNode("h2",_hoisted_4$7,toDisplayString(a.labels.title),1),withDirectives(createBaseVNode("p",{class:"mfa-modal-body"},toDisplayString(a.labels.body),513),[[vShow,this.step!="password"]]),a.show_spinner?(openBlock(),createBlock(n,{key:0,style:{width:"50px",height:"50px"},strokeWidth:"5",animationDuration:"2s"})):createCommentVNode("",!0),createBaseVNode("form",{onSubmit:e[4]||(e[4]=(...c)=>o.onFormSubmit&&o.onFormSubmit(...c)),class:"form-container",id:"login-form"},[withDirectives(createBaseVNode("div",_hoisted_5$6,[createBaseVNode("h5",_hoisted_6$6,toDisplayString(a.labels.current_password),1),createVNode(s,{id:"password-input",placeholder:a.labels.password,modelValue:a.user_password,"onUpdate:modelValue":e[1]||(e[1]=c=>a.user_password=c),ref:"password_input",feedback:!1,toggleMask:""},null,8,["placeholder","modelValue"])],512),[[vShow,this.step==="password"]]),withDirectives(createBaseVNode("div",_hoisted_7$4,[createVNode(l,{inputId:"remember-me",onChange:o.toggleTrustedDevice,modelValue:a.enable_trusted_device,"onUpdate:modelValue":e[2]||(e[2]=c=>a.enable_trusted_device=c),binary:!0},null,8,["onChange","modelValue"]),createBaseVNode("label",_hoisted_8$3,toDisplayString(a.labels.remember_me),1)],512),[[vShow,o.show_trusted_device_checkbox]]),createBaseVNode("button",{type:"submit",id:"mfa-submit-button",class:normalizeClass(["mfa-modal-button",{"resend-button":this.step==="start_listen"}]),onClick:e[3]||(e[3]=(...c)=>o.onFormSubmit&&o.onFormSubmit(...c))},toDisplayString(o.button_text),3)],32)])])}const TTMultiFactorAuthentication=_export_sfc(_sfc_main$g,[["render",_sfc_render$e],["__scopeId","data-v-1e732ad2"]]),_sfc_main$f={created(){this.event_bus=new TTEventBus({component_id:this.component_id})},mounted(){this.onVerifyInput()},props:{view_id:{type:String,default:null},component_id:{type:String,default:null},session_type:{type:String,default:"user_name"},user_name:{type:String,default:""},custom_agreement_data:{type:Object,default:{}},authenticate_callback:{type:Function,default:null},is_reauthentication:{type:Boolean,default:!1}},data(){return{step:this.custom_agreement_data.step,type_id:this.custom_agreement_data.type_id,require_input:this.custom_agreement_data.require_input,user_input_text:"",bell_img,labels:{title:this.custom_agreement_data.title,body:this.custom_agreement_data.body,agreement_phrase:this.custom_agreement_data.agreement_phrase}}},computed:{button_text(){return this.step==="accept_terms"?$.i18n._("Continue"):$.i18n._("I agree")},user_accepted(){return!this.require_input||this.user_input_text===this.labels.agreement_phrase},agreement_phrase_hint(){return $.i18n.printf('Type "%s" below to continue.',[this.labels.agreement_phrase])}},watch:{user_input_text(){this.onVerifyInput()}},methods:{onVerifyInput(){return this.user_accepted?(this.require_input&&this.$refs.agreement_input.$el.classList.remove("p-invalid"),this.$refs.accept_button.disabled=!1,this.$refs.accept_button.style.backgroundColor="#426d9d",!0):(this.require_input&&this.$refs.agreement_input.$el.classList.add("p-invalid"),this.$refs.accept_button.disabled=!0,this.$refs.accept_button.style.backgroundColor="#a1a3a6",!1)},onFormSubmit(r){switch(r.preventDefault(),this.step){case"accept_terms":this.user_accepted&&(this.authenticate_callback&&this.authenticate_callback(!0),this.closeModal());break}},closeModal(){TTVueUtils$1.unmountComponent(this.component_id)}},components:{InputText:script,Textarea:script$4,Checkbox:script$1,ProgressSpinner:script$2}},_hoisted_1$d={class:"custom-agreement-modal"},_hoisted_2$9={class:"custom-agreement-modal-content"},_hoisted_3$6=["src"],_hoisted_4$6={class:"custom-agreement-modal-title"},_hoisted_5$5={class:"p-float-label agreement-container"},_hoisted_6$5=["innerHTML"],_hoisted_7$3={key:0,class:"agreement-label"};function _sfc_render$d(r,e,t,i,a,o){const n=resolveComponent("InputText");return openBlock(),createElementBlock("div",_hoisted_1$d,[createBaseVNode("div",_hoisted_2$9,[this.require_input?createCommentVNode("",!0):(openBlock(),createElementBlock("span",{key:0,onClick:e[0]||(e[0]=(...s)=>o.closeModal&&o.closeModal(...s)),class:"custom-agreement-modal-close"},"Ã—")),createBaseVNode("img",{class:"custom-agreement-modal-image",src:a.bell_img},null,8,_hoisted_3$6),createBaseVNode("h2",_hoisted_4$6,toDisplayString(a.labels.title),1),createBaseVNode("form",{onSubmit:e[3]||(e[3]=(...s)=>o.onFormSubmit&&o.onFormSubmit(...s)),class:"form-container",id:"agreement-form"},[createBaseVNode("div",_hoisted_5$5,[createBaseVNode("div",{id:"agreement-body",innerHTML:a.labels.body},null,8,_hoisted_6$5),this.require_input?(openBlock(),createElementBlock("h5",_hoisted_7$3,toDisplayString(o.agreement_phrase_hint),1)):createCommentVNode("",!0),this.require_input?(openBlock(),createBlock(n,{key:1,id:"passwor`d-input",autocomplete:"off",placeholder:a.labels.agreement_phrase,modelValue:a.user_input_text,"onUpdate:modelValue":e[1]||(e[1]=s=>a.user_input_text=s),ref:"agreement_input",feedback:!1,toggleMask:""},null,8,["placeholder","modelValue"])):createCommentVNode("",!0)]),createBaseVNode("button",{type:"submit",id:"custom-agreement-submit-button",ref:"accept_button",class:"custom-agreement-modal-button",onClick:e[2]||(e[2]=(...s)=>o.onFormSubmit&&o.onFormSubmit(...s))},toDisplayString(o.button_text),513)],32)])])}const TTCustomAccept=_export_sfc(_sfc_main$f,[["render",_sfc_render$d],["__scopeId","data-v-84bf28f7"]]);var Global$1=function(){};Global$1.event_bus=new TTEventBus$1({view_id:"global"});Global$1.sortOrderRegex=/^-([0-9]{3,9})-/;Global$1.current_ping=-1;Global$1.UNIT_TEST_MODE=!1;Global$1.app_min_width=990;Global$1.theme="default";Global$1.UIReadyStatus=0;Global$1.signal_timer=null;Global$1.isScrolledIntoView=function(r){var e=r,t=jQuery(window),i=t.scrollTop(),a=i+t.height();if(!e.offset())return!0;var o=e.offset().top;return o<a};Global$1.isVerticalScrollBarRequired=function(r){return r&&r.scrollHeight>r.clientHeight};Global$1.isHorizontalScrollBarRequired=function(r){return r&&r.scrollWidth>r.clientWidth};Global$1.getScrollbarWidth=function(){if(LocalCacheData.getScrollbarWidth()>0)return LocalCacheData.getScrollbarWidth();let r=document.createElement("div");r.style.visibility="hidden",r.style.overflow="scroll",document.body.appendChild(r);let e=r.offsetWidth-r.clientWidth;return document.body.removeChild(r),e||(e=17),LocalCacheData.setScrollBarWidth(e),e};Global$1.getScrollbarHeight=function(){if(LocalCacheData.getScrollbarHeight()>0)return LocalCacheData.getScrollbarHeight();let r=document.createElement("div");r.style.visibility="hidden",r.style.overflow="scroll",document.body.appendChild(r);let e=r.offsetHeight-r.clientHeight;return document.body.removeChild(r),e||(e=17),LocalCacheData.setScrollBarHeight(e),e};Global$1.KEYCODES={48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",59:"9",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z"};Global$1.needReloadBrowser=!1;Global$1.block_ui=!1;Global$1.sendErrorReport=function(){var p;var r=arguments[0],e=arguments[1],t=arguments[2],i=arguments[3],a=arguments[4];if(RateLimit.setID("sendErrorReport"),RateLimit.setAllowedCalls(6),RateLimit.setTimeFrame(7200),RateLimit.check()){var o=function(v,g){Global$1.isCanvasSupported()&&typeof Promise<"u"?html2canvas(document.body).then(function(h){var w=h.toDataURL().split(",")[1];n(v,g,w)}):n(v,g,null)},n=function(v,g,h){if(g){var w=function(T,C,y,I){var P=T.map(function(M){return"  "+M.toString()}).join(`
`);C=C+`


Stack Trace (Mapped): 
`+y.name+": "+y.message+`
`+P,C=C+`


Stack Trace (Raw): 
`+y.stack,s(C,y,I)},f=function(T,C,y){console.error("ERROR: Unable to source map stack trace!"),s(T,C,y)};StackTrace.fromError(g).then(T=>w(T,v,g,h)).catch(T=>f(v,g,h))}else s(v,g,h)},s=function(v,g,h){Debug.Text("ERROR: "+v,"Global.js","","sendErrorReport",1);var w=TTAPI$1.APIAuthentication;w.sendErrorReport(v,h,{onResult:function(f){if(!Global$1.dont_check_browser_cache&&APIGlobal.pre_login_data.production===!0&&f.getResult()!==APIGlobal.pre_login_data.application_build){f=f.getResult();var T=jQuery.i18n._("Your web browser is caching incorrect data, please press the refresh button on your web browser or log out, clear your web browsers cache and try logging in again.")+"<br><br>"+jQuery.i18n._("Local Version")+":  "+f+"<br>"+jQuery.i18n._("Remote Version")+": "+APIGlobal.pre_login_data.application_build;Global$1.dont_check_browser_cache=!0,Global$1.sendErrorReport("Your web browser is caching incorrect data. Local Version:  "+f+" Remote Version: "+APIGlobal.pre_login_data.application_build,ServiceCaller$1.root_url,"","","");var C=window.setTimeout(function(){window.location.reload(!0)},12e4);TAlertManager.showAlert(T,"",function(){LocalCacheData.loadedScriptNames={},Debug.Text("Incorrect cache... Forcing reload after JS exception...","Global.js","Global","cachingIncorrectData",10),window.clearTimeout(C),window.location.reload(!0)})}else Global$1.dont_check_browser_cache&&(Global$1.dont_check_browser_cache=!1)}})},l=LocalCacheData.getLoginUser();if(e&&typeof e=="string"&&e.indexOf("extension://")>=0){console.error("Ignoring javascript exception from browser extension outside of our control...");return}if(r.indexOf("Script error")>=0||r.indexOf("Unspecified error")>=0||r.indexOf("TypeError: 'null' is not an object")>=0||r.indexOf("_avast_submit")>=0||r.indexOf("ResizeObserver loop limit exceeded")>=0||r.indexOf("ResizeObserver loop completed with undelivered notifications")>=0||r.indexOf("googletag")>=0||r.indexOf("NS_ERROR_")>=0||r.indexOf("NS_ERROR_OUT_OF_MEMORY")>=0||r.indexOf("NPObject")>=0){console.error("Ignoring javascript exception outside of our control...");return}if(Global$1.idle_time>15){Debug.Text("User inactive more than 15 mins, not sending error report.","Global.js","","sendErrorReport",1),typeof gtag<"u"&&APIGlobal.pre_login_data.analytics_enabled===!0&&gtag("event","exception",{exDescription:"Session Idle: "+r+" File: "+(e?e.replace(Global$1.getBaseURL(),""):"N/A")+" Line: "+t,exFatal:!1});return}var c,m="~unknown~";Global$1.isSet(LocalCacheData)&&Global$1.isSet(LocalCacheData.current_open_primary_controller)&&Global$1.isSet(LocalCacheData.current_open_primary_controller.script_name)&&(m=LocalCacheData.current_open_primary_controller.script_name);var d;APIGlobal.pre_login_data?d=APIGlobal.pre_login_data:d=null;var u;Global$1.isSet(LocalCacheData)&&LocalCacheData.current_company?u=LocalCacheData.getCurrentCompany():u=null,l&&Debug.varDump?c="Client Version: "+APIGlobal.pre_login_data.application_build+`

Uncaught Error From: `+m+`

Error: `+r+" in: "+e+" line: "+t+":"+i+`

User: `+l.user_name+`

URL: `+window.location.href+`

User-Agent: `+navigator.userAgent+` 

Current Ping: `+Global$1.current_ping+`

Idle Time: `+Global$1.idle_time+`

Session ID Key: `+LocalCacheData.getSessionID()+`

Current User Object: 
`+Debug.varDump(l)+`

Current Company Object: 
`+Debug.varDump(u)+`

PreLogin: 
`+Debug.varDump(d)+" ":c="Client Version: "+APIGlobal.pre_login_data.application_build+`

Uncaught Error From: `+m+`

Error: `+r+" in: "+e+" line: "+t+":"+i+`

User: N/A

URL: `+window.location.href+` 

User-Agent: `+navigator.userAgent,console.error(`JAVASCRIPT EXCEPTION:
---------------------------------------------
`+c+`
---------------------------------------------`);debugger;APIGlobal.pre_login_data.production!==!0&&APIGlobal.pre_login_data.demo_mode!==!0&&APIGlobal.pre_login_data.sandbox!==!0&&alert(`JAVASCRIPT EXCEPTION:
---------------------------------------------
`+c+`
---------------------------------------------`),typeof gtag<"u"&&APIGlobal.pre_login_data.analytics_enabled===!0&&gtag("event","exception",{exDescription:r+" File: "+(e?e.replace(Global$1.getBaseURL(),""):"N/A")+" Line: "+t+":"+i,exFatal:!1}),typeof clarity<"u"&&APIGlobal.pre_login_data.analytics_enabled===!0&&(clarity("set","exception","true"),clarity("set","userId",(p=LocalCacheData==null?void 0:LocalCacheData.getLoginUser())==null?void 0:p.id)),u&&(c=c+`

Product Edition: `+u.product_edition_id),c=c+`


Clicked target stacks: `+JSON.stringify(LocalCacheData.ui_click_stack,void 0,2),c=c+`


API stacks: `+JSON.stringify(LocalCacheData.api_stack,void 0,2),o(c,a)}};Global$1.initStaticStrings=function(){Global$1.network_lost_msg=jQuery.i18n._("The network connection was lost. Please check your network connection then try again."),Global$1.any_item="-- "+jQuery.i18n._("Any")+" --",Global$1.all_item="-- "+jQuery.i18n._("All")+" --",Global$1.root_item=jQuery.i18n._("Root"),Global$1.loading_label="...",Global$1.customize_item="-- "+jQuery.i18n._("Customize")+" --",Global$1.default_item="-- "+jQuery.i18n._("Default")+" --",Global$1.selected_item="-- "+jQuery.i18n._("Selected")+" --",Global$1.open_item="-- "+jQuery.i18n._("Open")+" --",Global$1.empty_item="-- "+jQuery.i18n._("None")+" --",Global$1.view_mode_message=jQuery.i18n._("You are currently in 'View' mode"),Global$1.view_mode_edit_message=jQuery.i18n._("instead click the 'Edit' icon to modify fields"),Global$1.no_result_message=jQuery.i18n._("No Results Found"),Global$1.save_and_continue_message=jQuery.i18n._("Please save this record before modifying any related data"),Global$1.no_hierarchy_message=jQuery.i18n._("No Hierarchies Defined"),Global$1.modify_alert_message=jQuery.i18n._("You have modified data without saving, are you sure you want to continue and lose your changes?"),Global$1.not_modify_alert_message=jQuery.i18n._("No changes were detected in this record, but saving may modify related data. If you do not want to make changes, you may use the Cancel button instead. <br><br>Would you still like to save without changes?"),Global$1.confirm_on_exit_message=jQuery.i18n._("Are you sure you want to continue without saving?"),Global$1.delete_confirm_message=jQuery.i18n._("You are about to delete data, once data is deleted it can not be recovered.<br>Are you sure you wish to continue?"),Global$1.delete_dashlet_confirm_message=jQuery.i18n._("You are about to delete this dashlet, once a dashlet is deleted it can not be recovered.<br>Are you sure you wish to continue?"),Global$1.copy_multiple_confirm_message=jQuery.i18n._("You are about to copy multiple records.<br>Are you sure you wish to continue?"),Global$1.auto_arrange_dashlet_confirm_message=jQuery.i18n._("You are about to restore all dashlets to their default size/layout.<br>Are you sure you wish to continue?"),Global$1.rese_all_dashlet_confirm_message=jQuery.i18n._("You are about to remove all your customized dashlets and restore them back to the defaults.<br>Are you sure you wish to continue?")};Global$1.getUpgradeMessage=function(){var r=jQuery.i18n._("This functionality is only available in")+" "+LocalCacheData.getLoginData().application_name+" ";return Global$1.getProductEdition()<15?r+=jQuery.i18n._("Professional, Corporate, or Enterprise Editions."):Global$1.getProductEdition()<20?r+=jQuery.i18n._("Corporate or Enterprise Editions."):r+=jQuery.i18n._("Enterprise Editions."),r+=" "+jQuery.i18n._("For more information please visit")+' <a href="https://coreapi.timetrex.com/r?id=810" target="_blank">www.timetrex.com</a>',Global$1.trackView("CommunityUpgrade"),r};Global$1.doPingIfNecessary=function(){if(Global$1.idle_time<Math.min(15,APIGlobal.pre_login_data.session_idle_timeout/60)){Global$1.idle_time=0;return}if(Debug.Text("User is active again after idle for: "+Global$1.idle_time+"... Resetting idle to 0","Global.js","","doPingIfNecessary",1),Global$1.idle_time=0,LocalCacheData.current_open_primary_controller.viewId!=="LoginView"){var r=TTAPI$1.APIAuthentication;r.isLoggedIn(!1,{onResult:function(e){var t=e.getResult();if(t!==!0){var i=TTAPI$1.APIMisc;i.ping({onResult:function(){}})}}})}};Global$1.setupPing=function(){Global$1.idle_time=0,jQuery("body").mousemove(Global$1.debounce(function(t){Global$1.doPingIfNecessary()},1e3)),jQuery("body").keypress(Global$1.debounce(function(t){Global$1.doPingIfNecessary()},1e3)),setInterval(r,6e4);function r(){Global$1.idle_time=Global$1.idle_time+1,Global$1.idle_time>=Math.min(15,APIGlobal.pre_login_data.session_idle_timeout/60)&&Debug.Text("User is idle: "+Global$1.idle_time,"Global.js","","setupPing",1)}};Global$1.clearCache=function(r){for(var e in LocalCacheData.result_cache)e.indexOf(r)>=0&&delete LocalCacheData.result_cache[e]};Global$1.getHost=function(r){r||(r=window.location.hostname);var e=r.match(/\./g);return/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/.test(r)==!1&&e&&e.length>1&&(r=r.substring(r.indexOf(".")+1)),r};Global$1.setWidgetEnabled=function(r,e){r&&(e?(r.removeAttr("disabled"),r.removeClass("disable-filter")):(r.attr("disabled","true"),r.addClass("disable-filter")))};Global$1.createViewTabs=function(){if(!(typeof WidgetNamesDic$1>"u")&&LocalCacheData.loadViewRequiredJSReady){if(!LocalCacheData.view_min_tab_bar){var r=Global$1.loadWidgetByName(WidgetNamesDic$1.VIEW_MIN_TAB_BAR);r=jQuery(r).ViewMinTabBar(),jQuery(".layout-content-wrapper").append(r),LocalCacheData.view_min_tab_bar=r}LocalCacheData.view_min_tab_bar.buildTabs(LocalCacheData.view_min_map)}};Global$1.addViewTab=function(r,e,t){LocalCacheData.view_min_map[r]=e,LocalCacheData.view_min_map[r+"_url"]=t,Global$1.createViewTabs()};Global$1.removeViewTab=function(r){delete LocalCacheData.view_min_map[r],jQuery("#min_tab_"+r).remove()};Global$1.cleanViewTab=function(){LocalCacheData.view_min_map={},Global$1.createViewTabs()};Global$1.ucwords=function(r){return typeof r=="string"?r.split(" ").map(function(i){return i.charAt(0).toUpperCase()+i.slice(1)}).join(" "):r};Global$1.upCaseFirstLetter=function(r){return typeof r=="string"&&(r=r.charAt(0).toUpperCase()+r.slice(1)),r};Global$1.calculateTextWidth=function(r,e){typeof e>"u"&&(e={}),e.fontSize||(e.fontSize="12px"),e.fontFamily||(e.fontFamily=window.getComputedStyle(document.body).fontFamily);let i=(Global$1.calculateTextWidth.canvas||(Global$1.calculateTextWidth.canvas=document.createElement("canvas"))).getContext("2d");e.fontFamily?e.fontFamily=e.fontFamily:e.fontFamily="",e.fontWeight?e.fontWeight=e.fontWeight:e.fontWeight="",e.wordBreak?e.wordBreak=e.wordBreak:e.wordBreak="",i.font=e.fontWeight+" "+e.fontSize+" "+e.fontFamily;var a=i.measureText(r).width;return e.min_width&&e.min_width>0&&a<e.min_width&&(a=e.min_width),e.padding&&e.padding>0&&(a=a+e.padding),e.max_width>0&&a>e.max_width&&(a=e.max_width),a};Global$1.strToDate=function(r,e){!Global$1.isSet(e)&&LocalCacheData.getLoginUserPreference()&&(e=LocalCacheData.getLoginUserPreference().date_format),e||(e="DD-MMM-YY");var t=hooks(r,e);return t=t.toDate(),t.getYear()<-1e3||t.getYear()>1e3?null:t};Global$1.strToDateTime=function(r){if(!r||!LocalCacheData.getLoginUserPreference())return null;var e=LocalCacheData.getLoginUserPreference().date_format,t=LocalCacheData.getLoginUserPreference().js_time_format[LocalCacheData.getLoginUserPreference().time_format],i=hooks(r,e+" "+t).toDate();return i};Global$1.getStandardDateTimeStr=function(r,e){return r};Global$1.convertTojQueryFormat=function(r){var e={"d-M-y":"dd-M-y","d-M-Y":"dd-M-yy",dMY:"ddMyy","d/m/Y":"dd/mm/yy","d/m/y":"dd/mm/y","d-m-y":"dd-mm-y","d-m-Y":"dd-mm-yy","m/d/y":"mm/dd/y","m/d/Y":"mm/dd/yy","m-d-y":"mm-dd-y","m-d-Y":"mm-dd-yy","Y-m-d":"yy-mm-dd","M-d-y":"M-dd-y","M-d-Y":"M-dd-yy","l, F d Y":"DD, MM dd yy","D, F d Y":"D, MM dd yy","D, M d Y":"D, M dd yy","D, d-M-Y":"D, dd-M-yy","D, dMY":"D, ddMyy","g:i A":"h:mm TT","g:i a":"h:mm tt","G:i":"H:mm","g:i A T":"h:mm TT","G:i T":"H:mm","g:i:s A":"h:mm:ss TT","g:i:s a":"h:mm:ss tt","G:i:s":"H:mm:ss","g:i:s A T":"h:mm:ss TT","G:i:s T":"H:mm:ss"};return e[r]};Global$1.updateUserPreference=function(r,e){var t=TTAPI$1.APIUserPreference,i=TTAPI$1.APIAuthentication;e&&ProgressBar.changeProgressBarMessage(e),i.getCurrentUserPreference({onResult:function(a){var o=a.getResult();LocalCacheData.loginUserPreference=o,t.getOptions("moment_date_format",{onResult:function(n){var s=n.getResult();LocalCacheData.loginUserPreference.js_date_format=s;var l=LocalCacheData.loginUserPreference.date_format;l||(l="DD-MMM-YY"),LocalCacheData.loginUserPreference.date_format=LocalCacheData.loginUserPreference.js_date_format[l],LocalCacheData.loginUserPreference.date_format_1=Global$1.convertTojQueryFormat(l),LocalCacheData.loginUserPreference.time_format_1=Global$1.convertTojQueryFormat(LocalCacheData.loginUserPreference.time_format),t.getOptions("moment_time_format",{onResult:function(c){var m=c.getResult();LocalCacheData.loginUserPreference.js_time_format=m,LocalCacheData.setLoginUserPreference(LocalCacheData.loginUserPreference),r&&r()}})}})}})};Global$1.roundTime=function(r,e,i){if(r===0||e===0)return r;var i=i||20;switch(i){case 10:r=r-r%e;break;case 20:case 25:case 27:var a;i==20||e<=60?a=e/2:i==25?a=Global$1.roundTime(e/2,60,10):i==27&&(a=Global$1.roundTime(e/2,60,30)),r>0?r=Math.floor((r+a)/e)*e:r=Math.ceil((r-a)/e)*e;break;case 30:r=(r+(e-1))/e*e;break}return r},Global$1.parseTimeUnit=function(n,t){var t,n,i,a,o,n=n.toString();t||(t=LocalCacheData.getLoginUserPreference().time_unit_format),t=parseInt(t);var s=!0;n.charAt(0)=='"'&&(s=!1);var l=",",c=".";switch(n=n.replace(new RegExp(l,"g"),"").replace(new RegExp(" ","g"),"").replace(new RegExp('"',"g"),""),t){case 10:case 12:n.indexOf(c)!==-1&&n.indexOf(":")===-1?a=Global$1.parseTimeUnit(n,20):(i=n.split(":"),i[0]||(i[0]=0),i[1]||(i[1]=0),i[2]?i[2]!=0&&(s=!1):i[2]=0,o=!1,(i[0].toString().charAt(0)=="-"||i[0]<0||i[1]<0||i[2]<0)&&(o=!0),a=Math.abs(Math.floor(i[0]))*3600+Math.abs(Math.floor(i[1]))*60+Math.abs(i[2]),o==!0&&(a=a*-1));break;case 20:case 22:case 23:n.indexOf(":")!==-1?a=Global$1.parseTimeUnit(n,10):a=n*3600;break;case 30:a=n*60;break;case 40:a=n,s=!1;break}return Math.abs(a)>Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:(s==!0&&(a=Global$1.roundTime(a,60)),a)},Global$1.convertSecondsToHMS=function(r,e,t){var i=!1;r<0&&(i=!0),r=Math.abs(r);var a=Math.floor(r/3600),o=Math.floor(r/60%60),n=Decimal(r).mod(60);t==!0&&(o=a*60+o,a=0),a<10&&(a="0"+a),o<10&&(o="0"+o),n<10&&(n="0"+n);var s;return t==!0?s=[o,n].join(":"):e==!0?s=[a,o,n].join(":"):s=[a,o].join(":"),i==!0&&(s="-"+s),s},Global$1.getTimeUnit=function(i,a){var t,i=parseFloat(i);isNaN(i)&&(i=0);var a;switch(a||(LocalCacheData.getLoginUserPreference()?a=LocalCacheData.getLoginUserPreference().time_unit_format:a=10),a=parseInt(a),a){case 10:t=Global$1.convertSecondsToHMS(i);break;case 12:t=Global$1.convertSecondsToHMS(i,!0);break;case 99:t=Global$1.convertSecondsToHMS(Math.floor(i),!0,!0);break;case 20:t=(i/3600).toFixed(2);break;case 22:t=(i/3600).toFixed(3);break;case 23:t=(i/3600).toFixed(4);break;case 30:t=(i/60).toFixed(0);break;case 40:t=i;break}return t};Global$1.removeTrailingZeros=function(r,e){if(e||(e=2),r){r=parseFloat(r);var t=r.toString();if(t.indexOf(".")>0){var i=parseInt(t.split("").reverse().join("")).toString().length;i>=e&&i<=4&&(e=i)}return r.toFixed(e)}return r};Global$1.isCanvasSupported=function(){var r=document.createElement("canvas");return!!(r.getContext&&r.getContext("2d"))};Global$1.getRandomNum=function(){var r=Math.floor(Math.random()*999);return r};Global$1.getScriptNameByAPI=function(r){if(!r||!r.className)return null;var e="";switch(r.className){case"APIUser":e="EmployeeView";break;case"APIBranch":e="BranchView";break;case"APIDepartment":e="DepartmentView";break;case"APIUserWage":e="WageView";break;case"APIUserContact":e="UserContactView";break;case"APIUserTitle":e="UserTitleView";break;case"APIWageGroup":e="WageGroupView";break;case"APILog":e="LogView";break;case"APIUserGroup":e="UserGroupView";break;case"APIPayStubEntryAccount":e="PayStubEntryAccountView";break;case"APIPayStubEntryAccountLink":e="PayStubEntryAccountLinkView";break;case"APIPayPeriod":case"APIPayPeriodSchedule":e="PayPeriodsView";break;case"APIAccrual":e="APIAccrual";break;case"APIAccrualBalance":e="AccrualBalanceView";break;case"APIException":e="ExceptionView";break;case"APIJobGroup":e="JobGroupView";break;case"APIJob":e="JobView";break;case"APIJobItemGroup":e="JobItemGroupView";break;case"APIJobItem":e="JobItemView";break;case"APIJobItemAmendment":e="JobItemAmendment";break;case"APIPunch":e="PunchesView";break;case"APIPunchTag":e="PunchTagView";break;case"APIPunchTagGroup":e="PunchTagGroupView";break;case"APIRecurringScheduleControl":e="RecurringScheduleControlView";break;case"APIRecurringScheduleTemplateControl":e="RecurringScheduleTemplateControlView";break;case"APISchedule":e="ScheduleShiftView";break;case"APIBankAccount":e="BankAccountView";break;case"APICompany":e="CompanyView";break;case"APICurrency":e="CurrencyView";break;case"APICurrencyRate":e="CurrencyRate";break;case"APIHierarchyControl":e="HierarchyControlView";break;case"APIEthnicGroup":e="EthnicGroupView";break;case"APICustomField":e="CustomFieldView";break;case"APIPermissionControl":e="PermissionControlView";break;case"APIStation":e="StationView";break;case"APIDocumentRevision":e="DocumentRevisionView";break;case"APIDocumentGroup":e="DocumentGroupView";break;case"APIDocument":e="DocumentView";break;case"APIROE":e="ROEView";break;case"APIUserDefault":e="UserDefaultView";break;case"APIUserPreference":e="UserPreferenceView";break;case"APIKPI":e="KPIView";break;case"APIUserReviewControl":e="UserReviewControlView";break;case"APIQualification":e="QualificationView";break;case"APIUserEducation":e="UserTitleView";break;case"APIUserLanguage":e="UserTitleView";break;case"APIUserLicense":e="UserLicenseView";break;case"APIUserMembership":e="UserMembershipView";break;case"APIUserSkill":e="UserSkillView";break;case"APIJobApplicantEducation":e="JobApplicantEducationView";break;case"APIJobApplicantEmployment":e="JobApplicantEducationView";break;case"APIJobApplicantLanguage":e="JobApplicantLanguageView";break;case"APIJobApplicantLicense":e="JobApplicantLicenseView";break;case"APIJobApplicantLocation":e="JobApplicantLicenseView";break;case"APIJobApplicantMembership":e="JobApplicantMembershipView";break;case"APIJobApplicantReference":e="JobApplicantReferenceView";break;case"APIJobApplicantSkill":e="JobApplicantSkillView";break;case"APIJobApplicant":e="JobApplicantSkillView";break;case"APIJobApplication":e="JobApplicationView";break;case"APIJobVacancy":e="JobVacancyView";break;case"APIAreaPolicy":e="JobVacancyView";break;case"APIClient":e="ClientView";break;case"APIClientContact":e="ClientContactView";break;case"APIClientGroup":e="ClientGroupView";break;case"APIClientPayment":e="ClientPaymentView";break;case"APIInvoiceDistrict":e="InvoiceDistrictView";break;case"APIInvoice":e="InvoiceView";break;case"APITransaction":e="InvoiceTransactionView";break;case"APIPaymentGateway":e="PaymentGatewayView";break;case"APIProductGroup":e="ProductGroupView";break;case"APIProduct":e="ProductView";break;case"APIInvoiceConfig":e="InvoiceConfigView";break;case"APIShippingPolicy":e="ShippingPolicyView";break;case"APITaxPolicy":e="TaxPolicyView";break;case"APICompanyDeduction":e="CompanyTaxDeductionView";break;case"APIPayStub":e="PayStubView";break;case"APIPayStubTransaction":e="PayStubTransactionView";break;case"APIPayStubEntry":e="PayStubEntryView";break;case"APIPayStubAmendment":e="PayStubAmendmentView";break;case"APIRecurringPayStubAmendment":e="RecurringPayStubAmendmentView";break;case"APIUserExpense":e="UserExpenseView";break;case"APILegalEntity":e="LegalEntityView";break;case"APIPayrollRemittanceAgency":e="PayrollRemittanceAgencyView";break;case"APIPayrollRemittanceAgencyEvent":e="PayrollRemittanceAgencyViewEvent";break;case"APIAbsencePolicy":e="AbsencePolicyView";break;case"APIAccrualPolicyAccount":e="AccrualPolicyAccountView";break;case"APIAccrualPolicy":e="AccrualPolicyView";break;case"APIAccrualPolicyUserModifier":e="AccrualPolicyUserModifierView";break;case"APIBreakPolicy":e="BreakPolicyView";break;case"APIExceptionPolicyControl":e="ExceptionPolicyControlView";break;case"APIExpensePolicy":e="ExpensePolicyView";break;case"APIHoliday":e="HolidayView";break;case"APIHolidayPolicy":e="HolidayPolicyView";break;case"APIMealPolicy":e="MealPolicyView";break;case"APIOvertimePolicy":e="OvertimePolicyView";break;case"APIPolicyGroup":e="PolicyGroupView";break;case"APIPremiumPolicy":e="PremiumPolicyView";break;case"APIRecurringHoliday":e="RecurringHolidayView";break;case"APIRoundIntervalPolicy":e="RoundIntervalPolicyView";break;case"APISchedulePolicy":e="SchedulePolicyView";break;case"APIUserReportData":e="UserReportDataView";break;case"APIInstall":e="InstallView";break}return e};Global$1.isObject=function(r){return r!==null&&typeof r=="object"};Global$1.isArray=function(r){return Object.prototype.toString.call(r)==="[object Array]"};Global$1.isString=function(r){return Object.prototype.toString.call(r)==="[object String]"};Global$1.isValidDate=function(r){return r instanceof Date&&!isNaN(r)};Global$1.decodeCellValue=function(r){return!r||_.isObject(r)||(r=r.toString(),r=r.replace(/\n|\r|(\r\n)|(\u0085)|(\u2028)|(\u2029)/g,"<br>"),r=r.replace(/\n|\r|(\r\n)|(\u0085)|(\u2028)|(\u2029)/g,"<br>"),r=Global$1.htmlEncode(r),r=r.replace(/&lt;br&gt;/g,"<br>")),r};Global$1.buildTreeRecord=function(r,e){var t=[];return jQuery.each(r,function(i,a){if(a.expanded=!0,a.loaded=!0,Global$1.isSet(e)&&(a.parent=e),t.push(a),Global$1.isSet(a.children)){var o=Global$1.buildTreeRecord(a.children,a.id);t=t.concat(o)}else a.isLeaf=!0}),t};Global$1.getParentIdByTreeRecord=function(r,e){for(var t=[],i=0;i<r.length;i++){var a=r[i];if(a.id.toString()===e.toString()){var o={};typeof a.parent<"u"?o={parent_id:a.parent.toString(),name:a.name}:o={name:a.name},typeof a.created_by<"u"&&(o.created_by=a.created_by,o.created_date=a.created_date,o.updated_by=a.updated_by,o.updated_date=a.updated_date),t.push(o);break}}return t};Global$1.addFirstItemToArray=function(r,e,t){var i;return r&&(e==="any"?(t?i=t:i=Global$1.any_item,(!r[0]||r[0].value!=TTUUID$1.not_exist_id)&&r.unshift({label:i,value:TTUUID$1.not_exist_id,fullValue:TTUUID$1.not_exist_id,orderValue:""})):e==="empty"&&(t?i=t:i=Global$1.empty_item,(!r[0]||r[0].value!=TTUUID$1.zero_id)&&r.unshift({label:i,value:TTUUID$1.zero_id,fullValue:TTUUID$1.zero_id,orderValue:""}))),r};Global$1.addLastItemToArray=function(r,e,i){var i;if(r){var a=r[r.length-1];a.value!=e&&r.push({fullValue:e,value:e,label:i,id:2e3})}return r};Global$1.convertRecordArrayToOptions=function(r){for(var e=r.length,t={},i=0;i<e;i++){var a=r[i];t[a.value]=a.label}return t};Global$1.buildColumnArray=function(r){var e=[],t=1e3;for(var i in r){var a=Global$1.getSortValue(i,!0),o={label:r[i],value:Global$1.removeSortPrefix(i),orderValue:a,id:t};e.push(o),t=t+1}return e};Global$1.removeSortPrefixFromArray=function(r){var e={};return Global$1.isSet(r)?(jQuery.each(r,function(t,i){e[Global$1.removeSortPrefix(t)]=i}),e):r};Global$1.removeSortPrefix=function(r){return typeof r=="string"&&r.match(Global$1.sortOrderRegex)&&(r=r.replace(Global$1.sortOrderRegex,"")),r};Global$1.getSortValue=function(r,e){var t=999;if(typeof r=="string"){var i=r.match(Global$1.sortOrderRegex);i==null?e===!0&&(t=r):i[1]?t=i[1]:Debug.Error("Error: Unable to parse order_value","Global","Global","buildColumnArray",10)}return t};Global$1.convertToNumberIfPossible=function(r){var e=new RegExp("^[0-9]*$");return e.test(r)&&r!=="00"&&(r=parseFloat(r)),(r==="-1"||r===-1)&&(r=-1),r};Global$1.buildRecordArray=function(r,e,t){var i=[];if(e&&i.push(e),Global$1.isSet(r))for(var a in r){var o=r[a],n=Global$1.removeSortPrefix(a),s=Global$1.getSortValue(a),l={label:o,value:n,fullValue:a,orderValue:s,id:n};i.push(l)}return i};Global$1.topContainer=function(){return jQuery("#topContainer")};Global$1.overlay=function(){return jQuery("#overlay")};Global$1.bottomContainer=function(){return jQuery("#bottomContainer")};Global$1.bottomFeedbackLinkContainer=function(){return jQuery("#feedbackLinkContainer")};Global$1.showPoweredBy=function(){var r=jQuery("#powered_by");r.show(),r.attr("src",ServiceCaller$1.getURLByObjectType("copyright")),r.attr("alt",LocalCacheData.loginData.application_name+" Workforce Management Software");var e=jQuery('<a target="_blank" href="https://'+LocalCacheData.getLoginData().organization_url+'"></a>');e.addClass("powered-by-img-seo"),r.wrap(e)};Global$1.setSignalStrength=function(){if(Global$1.signal_timer)return;jQuery(".signal-strength").css("display","block");var r="......",e=0,t=[];a(),setTimeout(function(){i()},1e4),Global$1.signal_timer=setInterval(function(){i()},6e4);function i(){LocalCacheData.current_open_primary_controller&&LocalCacheData.current_open_primary_controller.viewId==="LoginView"||Global$1.idle_time>=Math.min(15,APIGlobal.pre_login_data.session_idle_timeout/60)||o(ServiceCaller$1.base_url+"interface/ping.html?t="+new Date().getTime(),function(n){jQuery(".signal-strength-empty").removeClass("signal-strength-empty"),t.length>=3&&t.shift(),t.push(n);for(var s=0,l=0;l<t.length;l++)s=t[l]+s;e=s/t.length,Debug.Text("Current Ping: "+n+"ms Average: "+e+"ms Date: "+new Date().toISOString().replace(/z|t/gi," "),"Global.js","","doPing",6),Global$1.current_ping=e,r=jQuery.i18n._("Good"),Global$1.UNIT_TEST_MODE==!1&&(e>400?(jQuery(".signal-strength-pretty-strong").addClass("signal-strength-empty"),jQuery(".signal-strength-strong").addClass("signal-strength-empty"),jQuery(".signal-strength-weak").addClass("signal-strength-empty"),r=jQuery.i18n._("Poor")):e>250?(jQuery(".signal-strength-pretty-strong").addClass("signal-strength-empty"),jQuery(".signal-strength-strong").addClass("signal-strength-empty"),r=jQuery.i18n._("Below Average")):e>150&&(jQuery(".signal-strength-pretty-strong").addClass("signal-strength-empty"),r=jQuery.i18n._("Average"))),a()})}function a(){var n="<div>"+jQuery.i18n._("Your Network Connection is")+" "+r+" ("+jQuery.i18n._("Latency")+": "+(e>0?e.toFixed(0)+"ms":jQuery.i18n._("Calculating..."))+")</div>";jQuery(".signal-strength").qtip({id:"single_strength",content:{text:n},position:{my:"bottom left",at:"top right"}})}function o(n,s){var l,c,m;l||(l=!0,m=new Image,m.onload=function(){var d=new Date().getTime();l=!1,s(d-c)},m.onerror=function(d){if(l){l=!1;var u=new Date().getTime();s(u-c)}},c=new Date().getTime(),m.src=n,setTimeout(function(){if(l){var d=new Date().getTime();l=!1,s(d-c)}},5e3))}};Global$1.contentContainer=function(){return jQuery("#contentContainer")};Global$1.bodyWidth=function(){return jQuery(window).width()};Global$1.bodyHeight=function(){return jQuery(window).height()};Global$1.hasRequireLoaded=function(r){var e=r.split("/"),t=e[e.length-1];return t=t.replace(".js",""),r.indexOf(".js")==-1||r.replace(".js",""),!1};Global$1.loadScript=function(r,e){if(typeof r!="string")return!1;var t=!0;if(typeof e>"u"&&(t=!1),Global$1.hasRequireLoaded(r))return t&&e(),!0;if(t){if(LocalCacheData.loadedScriptNames[r]){e();return}}else if(LocalCacheData.loadedScriptNames[r])return!0;var i=!1,a=r,o=a.split("/"),n=o[o.length-1].replace(".js",""),s=typeof window[n]=="function";if(s)return Global$1.sendAnalyticsEvent("error:scriptload:duplicate_class","load","error:scriptload:duplicate:"+r),Debug.Error("Duplicate class declaration: "+n,"Global.js","Global","loadScript",1),!0;if(Global$1.url_offset&&(a=Global$1.getBaseURL(Global$1.url_offset+a)),t){Debug.Text("ASYNC-LOADING: "+r,"Global.js","Global","loadScript",10);var l;r.indexOf("views")!==-1?(l=r.replace("views/","").replace(".js",""),__variableDynamicImportRuntime0__(`@/views/${l}`).then(d=>{d&&d[n]?(window[n]=d[n],LocalCacheData.loadedScriptNames[r]=!0,e()):n==="debugPanelController"?(LocalCacheData.loadedScriptNames[r]=!0,e()):(Debug.Error("Loading view class failed. Potential missing export for: "+n,"Global.js","Global","loadScript",1),e())}).catch(Global$1.importErrorHandler)):r.indexOf("global/widgets")!==-1?(Debug.Text("SYNC-LOADING: "+r,"Global.js","Global","loadScript",10),l=r.replace("global/widgets/","").replace(".js",""),__variableDynamicImportRuntime1__(`@/global/widgets/${l}`).then(d=>{d&&d[n]?(window[n]=d[n],LocalCacheData.loadedScriptNames[r]=!0,e()):Debug.Error("Loading widget class failed. Potential missing export for: "+n,"Global.js","Global","loadScript",1)}).catch(Global$1.importErrorHandler)):Debug.Error("Loading class failed. Unhandled file type path request: "+r,"Global.js","Global","loadScript",1)}else{var c="";LocalCacheData.current_open_primary_controller&&LocalCacheData.current_open_primary_controller.viewId&&(c=" from "+LocalCacheData.current_open_primary_controller.viewId+"ViewController"),Debug.Text("SYNC-LOADING: "+r+c);var m=r.split("/"),m=m[m.length-1];m=m.replace(".js",""),window.badScripts||(window.badScripts=[]),window.badScripts.push(m),jQuery.ajax({async:!1,type:"GET",url:a+"?v="+APIGlobal.pre_login_data.application_build,crossOrigin:!1,data:null,cache:!0,success:function(){i=!0,t&&(LocalCacheData.loadedScriptNames[r]=!0,e())},error:function(d,u,p){TAlertManager.showNetworkErrorAlert(d,u,p)},dataType:"script"})}if(!t)return LocalCacheData.loadedScriptNames[r]=!0,i};Global$1.importErrorHandler=function(r){r.message.toLowerCase().includes("404")||r.message.toLowerCase().includes("not found")||r.message.toLowerCase().includes("failed")||r.message.toLowerCase().includes("unknown")?(window.script_error_shown===void 0&&(window.script_error_shown=1,confirm("A new version of TimeTrex is available. Click OK to update and reload.")&&(ServiceCaller$1.root_url&&APIGlobal.pre_login_data.base_url?Global$1.setURLToBrowser(ServiceCaller$1.root_url+APIGlobal.pre_login_data.base_url):window.location.reload())),console.debug(r.message)):Debug.Error("Error loading script during import(): "+r,"Global.js","Global","importErrorHandler",1)};Global$1.getRealImagePath=function(r){var e="theme/"+Global$1.theme+"/"+r;return Global$1.url_offset&&(e=Global$1.url_offset+e),e};Global$1.getRibbonIconRealPath=function(r){var e="theme/"+Global$1.theme+"/css/global/widgets/ribbon/icons/"+r;return Global$1.url_offset&&(e=Global$1.url_offset+e),e};Global$1.loadLanguage=function(r){var e=!1,t=TTUUID$1.generateUUID();if(ProgressBar.showProgressBar(t),LocalCacheData.getI18nDic())return ProgressBar.removeProgressBar(t),LocalCacheData.getI18nDic();var i="../locale/"+r+"/LC_MESSAGES/messages.json?v="+APIGlobal.pre_login_data.application_build;return Global$1.url_offset&&(i=Global$1.url_offset+i),jQuery.ajax({async:!1,type:"GET",url:i,data:null,cache:!0,converters:{"text script":function(a){return a}},success:function(a){a.startsWith("i18n_dictionary")==!0?(jQuery.globalEval(a),window.i18n_dictionary!==void 0&&Global$1.isObject(i18n_dictionary)?e=!0:Debug.Text("Unable to eval Locale dictionary: "+r,"Global.js","","loadLanguage",10)):Debug.Text("Unable to parse Locale: "+r,"Global.js","","loadLanguage",10)},error:function(a,o,n){Debug.Text("Unable to load Locale: "+n,"Global.js","","loadLanguage",10),e=!1},dataType:"script"}),ProgressBar.removeProgressBar(t),e?LocalCacheData.setI18nDic(i18n_dictionary):(Debug.Text("i18n Dictionary did not load for Locale: "+r,"Global.js","","loadLanguage",10),LocalCacheData.setI18nDic({})),e};Global$1.getProductEdition=function(){var r=LocalCacheData.getCurrentCompany();return r&&r.product_edition_id?r.product_edition_id:10};Global$1.setURLToBrowser=function(r){r!=window.location.href&&(Debug.Text("Changing URL to: "+r,"Global.js","Global","setURLToBrowser",9),window.location=r)};Global$1.clone=function(r){return jQuery.extend(!0,{},r)};Global$1.getFirstKeyFromObject=function(r){for(var e in r)if(r.hasOwnProperty(e))return e};Global$1.getFuncName=function(r){for(var e=r.toString(),t=document.scripts,i=0;i<t.length;i++){var a=t[i].text.indexOf(e);if(a!==-1)if(/^function\s*\(.*\).*\r\n/.test(e)){var o=t[i].text.substr(0,a).split(`\r
`);return o[o.length-1].replace(/(var)|(\s*)/g,"").replace(/=/g,"")}else return e.match(/^function\s*([^\(]+).*\r\n/)[1]}};Global$1.concatArraysUniqueWithSort=function(r,e){var t=r.concat(e).sort(function(i,a){return i>a?1:i<a?-1:0});return t.filter(function(i,a){return t.indexOf(i)===a})};Global$1.addCss=function(r,e){if(LocalCacheData.loadedScriptNames[r])return e&&e(),!0;LocalCacheData.loadedScriptNames[r]=!0;var t="theme/"+Global$1.theme+"/css/"+r;Global$1.url_offset&&(t=Global$1.url_offset+t),t=t+"?v="+APIGlobal.pre_login_data.application_build,Global$1.loadStyleSheet(t,e)};Global$1.isFalseOrNull=function(r){return r===!1||r===null||r===0||r==="0"||r==TTUUID$1.zero_id};Global$1.isSet=function(r){return!(_.isUndefined(r)||_.isNull(r))};Global$1.getIconPathByContextName=function(r){switch(r){case"add":return Global$1.getRealImagePath("css/global/widgets/ribbon/icons/copy-35x35.png")}};Global$1.isEmpty=function(r){if(r===null)return!0;if(r.length>0)return!1;if(r.length===0)return!0;for(var e in r)if(hasOwnProperty.call(r,e))return!1;return!0};Global$1.convertColumnsTojGridFormat=function(r,e,t){for(var i=[],a=r.length,o=0,n=0;n<a;n++){var s=r[n],l,c=Global$1.calculateTextWidth(s.label);o=o+c,s.label===""?l={name:s.value,index:s.value,label:s.label,key:!0,width:100,sortable:!1,hidden:!0,title:!1}:e==="global_sort_columns"?s.value==="sort"?l={name:s.value,index:s.value,label:s.label,width:100,sortable:!1,formatter:"select",editable:!0,title:!1,edittype:"select",editoptions:{value:"asc:ASC;desc:DESC"}}:l={name:s.value,index:s.value,label:s.label,width:100,sortable:!1,title:!1}:l={name:s.value,index:s.value,label:s.label,width:100,sortable:!1,title:!1},i.push(l)}return t&&t(o),i};Global$1.loadWidgetByName=function(r,a){var t=!1,i=!1,a=!1;switch(r){case FormItemType$1.COLOR_PICKER:t=jQuery.fn.TColorPicker.html_template;break;case FormItemType$1.FORMULA_BUILDER:t=jQuery.fn.FormulaBuilder.html_template;break;case FormItemType$1.AWESOME_BOX:t=jQuery.fn.AComboBox.html_template;break;case FormItemType$1.AWESOME_DROPDOWN:t=jQuery.fn.ADropDown.html_template;break;case FormItemType$1.TEXT_INPUT:t=jQuery.fn.TTextInput.html_template;break;case FormItemType$1.PASSWORD_INPUT:t=jQuery.fn.TPasswordInput.html_template;break;case FormItemType$1.TEXT:t=jQuery.fn.TText.html_template;break;case FormItemType$1.CHECKBOX:t=jQuery.fn.TCheckbox.html_template;break;case FormItemType$1.COMBO_BOX:t=jQuery.fn.TComboBox.html_template;break;case FormItemType$1.LIST:t=jQuery.fn.TList.html_template;break;case FormItemType$1.TAG_INPUT:t=jQuery.fn.TTagInput.html_template;break;case FormItemType$1.DATE_PICKER:case FormItemType$1.RANGE_PICKER:t=jQuery.fn.TDatePicker.html_template;break;case FormItemType$1.TIME_PICKER:t=jQuery.fn.TTimePicker.html_template;break;case FormItemType$1.TEXT_AREA:t=jQuery.fn.TTextArea.html_template;break;case FormItemType$1.TINYMCE_TEXT_AREA:t=jQuery.fn.TTextArea.tinymce_html_template,a=!0;break;case FormItemType$1.SEPARATED_BOX:t=jQuery.fn.SeparatedBox.html_template;break;case FormItemType$1.IMAGE_BROWSER:t=jQuery.fn.TImageBrowser.html_template;break;case FormItemType$1.FILE_BROWSER:t=`<div class="file-browser">
						<img class="image">
						<form enctype="multipart/form-data" class="browser-form custom-file-browser">
							<button class="p-button p-component tt-button" type="button"><span class="tticon tticon-add_black_24dp p-button-icon p-button-icon-left"></span><span class="p-button-label">Upload</span><span class="p-ink"></span></button>
							<label for="file-browser" class="file-browser-label">${jQuery.i18n._("or drag file here.")}</label>
							<input name="file_data" class="browser" type="file" style="display:none;"/>
						</form>
					</div>`;break;case FormItemType$1.IMAGE_AVD_BROWSER:t=jQuery.fn.TImageAdvBrowser.html_template,i="TImageAdvBrowser";break;case FormItemType$1.CAMERA_BROWSER:t=jQuery.fn.CameraBrowser.html_template;break;case FormItemType$1.IMAGE_CUT:t=jQuery.fn.TImageCutArea.html_template;break;case FormItemType$1.IMAGE:t="<img class='t-image'>";break;case FormItemType$1.INSIDE_EDITOR:t=jQuery.fn.InsideEditor.html_template;break;case WidgetNamesDic$1.PAGING:t=jQuery.fn.Paging2.html.paging;break;case WidgetNamesDic$1.PAGING_2:t=jQuery.fn.Paging2.html.paging2;break;case WidgetNamesDic$1.ERROR_TOOLTIP:t=jQuery.fn.ErrorTipBox.html_template;break;case FormItemType$1.FEEDBACK_BOX:t=jQuery.fn.TFeedback.html_template;break;case WidgetNamesDic$1.EDIT_VIEW_FORM_ITEM:t=`
			<div class="edit-view-form-item-div">
				<div class="edit-view-form-item-label-div"><span class="edit-view-form-item-label"></span></div>
				<div class="edit-view-form-item-input-div"></div>
			</div>`;break;case WidgetNamesDic$1.EDIT_VIEW_SUB_FORM_ITEM:t=`
			<div class="edit-view-form-item-div">
				<div class="edit-view-form-item-sub-label-div"><span class="edit-view-form-item-label"></span></div>
				<div class="edit-view-form-item-input-div"></div>
			</div>`;break;case WidgetNamesDic$1.NO_RESULT_BOX:t=jQuery.fn.NoResultBox.html_template;break;case WidgetNamesDic$1.VIEW_MIN_TAB:t=jQuery.fn.ViewMinTabBar.html.tab;break;case WidgetNamesDic$1.VIEW_MIN_TAB_BAR:t=jQuery.fn.ViewMinTabBar.html.tab_bar;break}if(t&&a==!0)return t;if(t&&t.indexOf("<")!=-1){if(!a&&(t=jQuery(t),i&&!t[i])){var o=jQuery.i18n._("Class could not be found for")+": "+r+". "+jQuery.i18n._("Check that class is properly required.");throw new Error(o)}}else{var o=jQuery.i18n._("Network error, failed to load")+": "+r+" "+jQuery.i18n._("Result")+': "'+t+'"';throw TAlertManager.showNetworkErrorAlert({status:999},o,null),new Error(o)}return t};Global$1.loadWidget=function(r){if(LocalCacheData.loadedWidgetCache[r])return LocalCacheData.loadedWidgetCache[r];var e=r+"?v="+APIGlobal.pre_login_data.application_build;Global$1.url_offset&&(e=Global$1.url_offset+e);var t=TTUUID$1.generateUUID();ProgressBar.showProgressBar(t);var i=jQuery.ajax({async:!1,type:"GET",url:e,data:null,cache:!0,success:function(){},error:function(a,o,n){TAlertManager.showNetworkErrorAlert(a,o,n)}});return ProgressBar.removeProgressBar(t),i?(LocalCacheData.loadedWidgetCache[r]=i.responseText,i.responseText):null};Global$1.removeCss=function(r){var e="theme/"+Global$1.theme+"/css/"+r;Global$1.url_offset&&(e=Global$1.url_offset+e),jQuery("link[href='' + realPath + '?v=' + APIGlobal.pre_login_data.application_build + '']").remove()};Global$1.getViewPathByViewId=function(r){var e;switch(r){case"GridTest":case"WidgetTest":case"AwesomeboxTest":e="views/developer_tools/";break;case"MyProfile":e="views/portal/hr/my_profile/";break;case"MyJobApplication":e="views/portal/hr/my_jobapplication/";break;case"MyProfileEmployment":e="views/portal/hr/my_profile/";break;case"Map":e="views/attendance/map/";break;case"ManualTimeSheet":e="views/attendance/manual_timesheet/";break;case"Home":e="views/home/dashboard/";break;case"PortalJobVacancyDetail":case"PortalJobVacancy":e="views/portal/hr/recruitment/";break;case"PortalLogin":e="views/portal/login/";break;case"QuickPunchLogin":e="views/quick_punch/login/";break;case"QuickPunch":e="views/quick_punch/punch/";break;case"UserDateTotalParent":case"UserDateTotal":e="views/attendance/timesheet/";break;case"Product":e="views/invoice/products/";break;case"InvoiceDistrict":e="views/invoice/district/";break;case"PaymentGateway":e="views/invoice/payment_gateway/";break;case"InvoiceConfig":e="views/invoice/settings/";break;case"ShippingPolicy":e="views/invoice/shipping_policy/";break;case"AreaPolicy":e="views/invoice/area_policy/";break;case"TaxPolicy":e="views/invoice/tax_policy/";break;case"ClientGroup":e="views/invoice/client_group/";break;case"ProductGroup":e="views/invoice/product_group/";break;case"Exception":e="views/attendance/exceptions/";break;case"Employee":e="views/employees/employee/";break;case"RemittanceDestinationAccount":e="views/employees/remittance_destination_account/";break;case"Wage":e="views/company/wage/";break;case"Login":e="views/login/";break;case"TimeSheet":e="views/attendance/timesheet/";break;case"InOut":e="views/attendance/in_out/";break;case"RecurringScheduleControl":e="views/attendance/recurring_schedule_control/";break;case"RecurringScheduleTemplateControl":e="views/attendance/recurring_schedule_template_control/";break;case"ScheduleShift":case"Schedule":e="views/attendance/schedule/";break;case"Accrual":e="views/attendance/accrual/";break;case"AccrualBalance":e="views/attendance/accrual_balance/";break;case"Punches":e="views/attendance/punches/";break;case"PunchTagGroup":case"PunchTag":e="views/attendance/punch_tag/";break;case"JobGroup":case"Job":e="views/attendance/job/";break;case"JobItemGroup":case"JobItem":e="views/attendance/job_item/";break;case"JobItemAmendment":e="views/attendance/job_item_amendment/";break;case"UserTitle":e="views/employees/user_title/";break;case"UserContact":e="views/employees/user_contact/";break;case"UserPreference":e="views/employees/user_preference/";break;case"UserGroup":e="views/employees/user_group/";break;case"Log":e="views/core/log/";break;case"UserDefault":e="views/employees/user_default/";break;case"ROE":e="views/employees/roe/";break;case"Company":e="views/company/company/";break;case"Companies":e="views/company/companies/";break;case"PayPeriodSchedule":e="views/payperiod/";break;case"PayPeriods":e="views/payroll/pay_periods/";break;case"LegalEntity":e="views/company/legal_entity/";break;case"PayrollRemittanceAgencyEvent":case"PayrollRemittanceAgency":e="views/company/payroll_remittance_agency/";break;case"RemittanceSourceAccount":e="views/company/remittance_source_account/";break;case"Branch":e="views/company/branch/";break;case"GEOFence":e="views/company/geo_fence/";break;case"Department":e="views/company/department/";break;case"HierarchyControl":e="views/company/hierarchy_control/";break;case"WageGroup":e="views/company/wage_group/";break;case"EthnicGroup":e="views/company/ethnic_group/";break;case"Currency":case"CurrencyRate":e="views/company/currency/";break;case"PermissionControl":e="views/company/permission_control/";break;case"CustomField":e="views/company/custom_field/";break;case"Station":e="views/company/station/";break;case"PayStub":e="views/payroll/pay_stub/";break;case"PayStubTransaction":e="views/payroll/pay_stub_transaction/";break;case"GovernmentDocument":e="views/payroll/government_document/";break;case"Request":e="views/my_account/request/";break;case"ChangePassword":e="views/my_account/password/";break;case"RequestAuthorization":e="views/my_account/request_authorization/";break;case"TimeSheetAuthorization":e="views/my_account/timesheet_authorization/";break;case"MessageControl":e="views/my_account/message_control/";break;case"Notification":e="views/my_account/notification/";break;case"LoginUserContact":e="views/my_account/user_contact/";break;case"LoginUserPreference":e="views/my_account/user_preference/";break;case"LoginUserExpense":case"ExpenseAuthorization":e="views/my_account/expense/";break;case"PayStubAmendment":e="views/payroll/pay_stub_amendment/";break;case"RecurringPayStubAmendment":e="views/payroll/recurring_pay_stub_amendment/";break;case"PayStubEntryAccount":e="views/payroll/pay_stub_entry_account/";break;case"CompanyTaxDeduction":e="views/payroll/company_tax_deduction/";break;case"UserExpense":e="views/payroll/user_expense/";break;case"PolicyGroup":e="views/policy/policy_group/";break;case"PayCode":e="views/policy/pay_code/";break;case"PayFormulaPolicy":e="views/policy/pay_formula_policy/";break;case"ContributingPayCodePolicy":e="views/policy/contributing_pay_code_policy/";break;case"ContributingShiftPolicy":e="views/policy/contributing_shift_policy/";break;case"RoundIntervalPolicy":e="views/policy/round_interval_policy/";break;case"MealPolicy":e="views/policy/meal_policy/";break;case"BreakPolicy":e="views/policy/break_policy/";break;case"RegularTimePolicy":e="views/policy/regular_time_policy/";break;case"ExpensePolicy":e="views/policy/expense_policy/";break;case"OvertimePolicy":e="views/policy/overtime_policy/";break;case"AbsencePolicy":e="views/policy/absence_policy/";break;case"PremiumPolicy":e="views/policy/premium_policy/";break;case"ExceptionPolicyControl":e="views/policy/exception_policy/";break;case"RecurringHoliday":e="views/policy/recurring_holiday/";break;case"HolidayPolicy":e="views/policy/holiday_policy/";break;case"Holiday":e="views/policy/holiday/";break;case"SchedulePolicy":e="views/policy/schedule_policy/";break;case"AccrualPolicy":case"AccrualPolicyAccount":case"AccrualPolicyUserModifier":e="views/policy/accrual_policy/";break;case"DocumentRevision":case"Document":case"DocumentGroup":e="views/document/";break;case"About":e="views/help/";break;case"ActiveShiftReport":e="views/reports/whos_in_summary/";break;case"UserSummaryReport":e="views/reports/employee_information/";break;case"SavedReport":e="views/reports/saved_report/";break;case"ReportSchedule":e="views/reports/report_schedule/";break;case"ScheduleSummaryReport":e="views/reports/schedule_summary/";break;case"TimeSheetSummaryReport":case"TimesheetSummaryReport":e="views/reports/timesheet_summary/";break;case"TimesheetDetailReport":e="views/reports/timesheet_detail/";break;case"PunchSummaryReport":e="views/reports/punch_summary/";break;case"ExceptionSummaryReport":e="views/reports/exception_summary/";break;case"PayStubTransactionSummaryReport":e="views/reports/pay_stub_transaction_summary/";break;case"PayStubSummaryReport":e="views/reports/pay_stub_summary/";break;case"KPI":case"KPIGroup":case"UserReviewControl":e="views/hr/kpi/";break;case"QualificationGroup":case"Qualification":case"UserSkill":case"UserEducation":case"UserMembership":case"UserLicense":case"UserLanguage":e="views/hr/qualification/";break;case"JobApplication":case"JobVacancy":case"JobApplicant":case"JobApplicantEmployment":case"JobApplicantReference":case"JobApplicantLocation":case"JobApplicantSkill":case"JobApplicantEducation":case"JobApplicantMembership":case"JobApplicantLicense":case"JobApplicantLanguage":case"RecruitmentPortalConfig":e="views/hr/recruitment/";break;case"PayrollExportReport":e="views/reports/payroll_export/";break;case"GeneralLedgerSummaryReport":e="views/reports/general_ledger_summary/";break;case"ExpenseSummaryReport":e="views/reports/expense_summary/";break;case"AccrualBalanceSummaryReport":e="views/reports/accrual_balance_summary/";break;case"JobSummaryReport":e="views/reports/job_summary/";break;case"JobAnalysisReport":e="views/reports/job_analysis/";break;case"JobInformationReport":e="views/reports/job_info/";break;case"JobItemInformationReport":e="views/reports/job_item_info/";break;case"InvoiceTransactionSummaryReport":e="views/reports/invoice_transaction_summary/";break;case"RemittanceSummaryReport":e="views/reports/remittance_summary/";break;case"T4SummaryReport":e="views/reports/t4_summary/";break;case"T4ASummaryReport":e="views/reports/t4a_summary/";break;case"TaxSummaryReport":e="views/reports/tax_summary/";break;case"Form940Report":e="views/reports/form940/";break;case"Form941Report":e="views/reports/form941/";break;case"Form1099NecReport":e="views/reports/form1099/";break;case"FormW2Report":e="views/reports/formw2/";break;case"USStateUnemploymentReport":e="views/reports/us_state_unemployment/";break;case"USPERSReport":e="views/reports/us_pers/";break;case"USEEOReport":e="views/reports/us_eeo/";break;case"AffordableCareReport":e="views/reports/affordable_care/";break;case"UserQualificationReport":e="views/reports/qualification_summary/";break;case"KPIReport":e="views/reports/review_summary/";break;case"UserRecruitmentSummaryReport":e="views/reports/recruitment_summary/";break;case"UserRecruitmentDetailReport":e="views/reports/recruitment_detail/";break;case"Client":e="views/invoice/client/";break;case"ClientContact":e="views/invoice/client_contact/";break;case"ClientPayment":e="views/invoice/client_payment/";break;case"InvoiceTransaction":e="views/invoice/invoice_transaction/";break;case"Invoice":e="views/invoice/invoice/";break;case"CustomColumn":e="views/reports/custom_column/";break;case"AuditTrailReport":e="views/reports/audittrail/";break;case"ReCalculateTimeSheetWizard":e="views/wizard/re_calculate_timesheet/";break;case"GeneratePayStubWizard":e="views/wizard/generate_pay_stub/";break;case"UserGenericStatus":e="views/wizard/user_generic_data_status/";break;case"ProcessPayrollWizard":e="views/wizard/process_payroll/";break;case"PayrollRemittanceAgencyEventWizardController":e="views/payroll/remittance_wizard/";break;case"ProcessTransactionsWizardController":e="views/payroll/process_transactions_wizard/";break;case"ImportCSVWizard":e="views/wizard/import_csv/";break;case"JobInvoiceWizard":e="views/wizard/job_invoice/";break;case"LoginUserWizard":case"LoginUser":e="views/wizard/login_user/";break;case"QuickStartWizard":e="views/wizard/quick_start/";break;case"UserPhotoWizard":e="views/wizard/user_photo/";break;case"FindAvailableWizard":case"FindAvailable":e="views/wizard/find_available/";break;case"PermissionWizard":e="views/wizard/permission_wizard/";break;case"FormulaBuilderWizard":e="views/wizard/formula_builder_wizard/";break;case"ReCalculateAccrualWizard":e="views/wizard/re_calculate_accrual/";break;case"ResetPasswordWizard":e="views/wizard/reset_password/";break;case"ShareReportWizard":e="views/wizard/share_report/";break;case"PayCodeWizard":e="views/wizard/pay_code/";break;case"InstallWizard":e="views/wizard/install/";break;case"PayStubAccountWizard":e="views/wizard/pay_stub_account/";break;case"DashletWizard":e="views/wizard/dashlet/";break;case"ReportViewWizard":e="views/wizard/report_view/";break;case"PortalApplyJobWizard":e="views/wizard/portal_apply_job/";break;case"ForgotPasswordWizard":e="views/wizard/forgot_password/";break;case"ResetForgotPasswordWizard":e="views/wizard/reset_forgot_password/";break;case"DeveloperTools":e="views/developer_tools/";break;case"UIKitSample":case"UIKitChildSample":e="views/ui_kit_sample/";break}return e};Global$1.getViewPreloadPathByViewId=function(r){var e=[];return e};Global$1.removeViewCss=function(r,e){Global$1.removeCss(Global$1.getViewPathByViewId(r)+e)};Global$1.sanitizeViewId=function(r){return typeof r=="string"||r instanceof String?r.replace("/","").replace("\\",""):r};Global$1.loadViewSource=function(a,e,t,i){var a=Global$1.sanitizeViewId(a),o=Global$1.getViewPathByViewId(a);if(e.indexOf(".js")>0){var n=Global$1.getViewPreloadPathByViewId(a);if(n.length>0)for(var s in n)Global$1.loadScript(n[s]);if(o){if(i)return Global$1.loadScript(o+e);Global$1.loadScript(o+e,t)}else console.debug("View does not exist! ViewId: "+a+" File Name: "+e),ServiceCaller$1.root_url&&APIGlobal.pre_login_data.base_url&&Global$1.setURLToBrowser(ServiceCaller$1.root_url+APIGlobal.pre_login_data.base_url)}else if(e.indexOf(".css")>0)Global$1.addCss(o+e);else if(o){var l=HtmlTemplatesGlobal.getTemplateTypeFromFilename(e),c=HtmlTemplatesGlobal.getTemplateOptionsFromViewId(a);if(l===TemplateType.INLINE_HTML&&(c.filename=e),i)return l!==TemplateType.LEGACY_HTML?HtmlTemplatesGlobal.getTemplate(l,c,null):Global$1.loadPageSync(o+e);l!==TemplateType.LEGACY_HTML?HtmlTemplatesGlobal.getTemplate(l,c,t):Global$1.loadPage(o+e,t)}else console.debug("View does not exist! ViewId: "+a+" File Name: "+e),ServiceCaller$1.root_url&&APIGlobal.pre_login_data.base_url&&Global$1.setURLToBrowser(ServiceCaller$1.root_url+APIGlobal.pre_login_data.base_url)};Global$1.loadPageSync=function(r){var e=r+"?v="+APIGlobal.pre_login_data.application_build;Global$1.url_offset&&(e=Global$1.url_offset+e);var t=TTUUID$1.generateUUID();ProgressBar.showProgressBar(t);var i=jQuery.ajax({async:!1,type:"GET",url:e,data:null,cache:!0,success:function(){},error:function(a,o,n){TAlertManager.showNetworkErrorAlert(a,o,n)}});return ProgressBar.removeProgressBar(t),i.responseText};Global$1.loadPage=function(r,e){var t=r+"?v="+APIGlobal.pre_login_data.application_build,i=TTUUID$1.generateUUID();Global$1.url_offset&&(t=Global$1.url_offset+t),ProgressBar.showProgressBar(i),jQuery.ajax({async:!0,type:"GET",url:t,data:null,cache:!0,success:function(a){ProgressBar.removeProgressBar(i),e(a)},error:function(a,o,n){TAlertManager.showNetworkErrorAlert(a,o,n)}})};Global$1.getRootURL=function(r){r||(r=location.href);var e=new URL(r),t=e.protocol+"//"+e.host;return t};Global$1.getBaseURL=function(r,e=!0,t=!1){var i=new URL(location.href),a=i.protocol+"//"+i.host+i.pathname;return r&&(a=new URL(r,a).href),e==!0&&(a+=i.search),t==!0&&(a+=i.hash),a};Global$1.isArrayAndHasItems=function(r){return jQuery.type(r)==="array"&&r.length>0};Global$1.isValidInputCodes=function(r){var e=!0;switch(r){case 9:case 16:case 17:case 18:case 19:case 20:case 33:case 34:case 45:case 91:case 92:case 93:e=!1;break;default:r>=112&&r<=123&&(e=!1)}return e};Global$1.convertLayoutFilterToAPIFilter=function(r){var e={};if(!r)return null;var t=r.data.filter_data;if(!t)return null;if(jQuery.each(t,function(a,o){if(o)if(o.value instanceof Array&&o.value.length>0||o.value instanceof Object){var n=[],s=o.value;if(o.value instanceof Array){for(var l=o.value.length,c=0;c<l;c++)Global$1.isSet(o.value[c].value)?n.push(o.value[c].value):o.value[c].id||o.value[c].id===0||o.value[c].id==="0"?n.push(o.value[c].id):n.push(o.value[c]);e[a]=n}else if(o.value instanceof Object){var m="";Global$1.isSet(o.value.value)?m=o.value.value:o.value.id||o.value.id===0||o.value.id==="0"?m=o.value.id:m=o.value,e[a]=m}else{if(s.value===!1)return;Global$1.isSet(s.value)&&(e[a]=s.value)}}else{if(t[a].value===!1)return;Global$1.isSet(t[a].value)?e[a]=t[a].value:e[a]=t[a]}}),LocalCacheData.extra_filter_for_next_open_view)for(var i in LocalCacheData.extra_filter_for_next_open_view.filter_data)e[i]=LocalCacheData.extra_filter_for_next_open_view.filter_data[i];return e};Global$1.compare=function(r,e,t,i){return Global$1.isSet(i)||(i="asc"),i==="asc"?r[t]<e[t]?-1:r[t]>e[t]?1:0:r[t]<e[t]?1:r[t]>e[t]?-1:0};Global$1.buildFilter=function(){var r=arguments[0],e=[];if(r)for(var t in r)e[t]=r[t];return e};Global$1.getLoginUserDateFormat=function(){var r="DD-MMM-YY";return LocalCacheData.getLoginUserPreference()&&(r=LocalCacheData.getLoginUserPreference().date_format),r};Global$1.formatGridData=function(r,e){if(jQuery.type(r)!=="array")return r;for(var t=0;t<r.length;t++)for(var i in r[t]){if(!r[t].hasOwnProperty(i))return;if(i.indexOf("custom_field")===0&&Array.isArray(LocalCacheData.current_open_primary_controller.custom_fields)){let a=LocalCacheData.current_open_primary_controller.custom_fields.find(o=>o.id===i.replace("custom_field-",""));if(a&&a.type_id==1300){Global$1.isNumeric(r[t][i])&&(r[t][i]=Global$1.getTimeUnit(r[t][i]));continue}}switch(i){case"maximum_shift_time":case"new_day_trigger_time":case"trigger_time":case"minimum_punch_time":case"maximum_punch_time":case"window_length":case"start_window":case"round_interval":case"grace":case"estimate_time":case"minimum_time":case"maximum_time":case"total_time":case"start_stop_window":Global$1.isNumeric(r[t][i])?r[t][i]=Global$1.getTimeUnit(r[t][i]):r[t][i]=null;break;case"include_break_punch_time":case"include_multiple_breaks":case"include_lunch_punch_time":case"is_default":case"is_base":case"auto_update":case"currently_employed":case"criminal_record":case"immediate_drug_test":case"is_current_employer":case"is_contact_available":case"enable_pay_stub_balance_display":case"enable_login":case"ytd_adjustment":case"authorized":case"is_reimbursable":case"reimbursable":case"tainted":case"auto_fill":case"private":r[t][i]===!0?r[t][i]=jQuery.i18n._("Yes"):r[t][i]===!1&&(r[t][i]=jQuery.i18n._("No"));break;case"override":r[t][i]===!0?(r[t][i]=jQuery.i18n._("Yes"),r[t].is_override=!0):r[t][i]===!1&&(r[t][i]=jQuery.i18n._("No"),r[t].is_override=!1);break;case"is_scheduled":r[t][i]==="1"?r[t][i]=jQuery.i18n._("Yes"):r[t][i]==="0"&&(r[t][i]=jQuery.i18n._("No"));break;case"in_use":r[t][i]==="1"?(r[t][i]=jQuery.i18n._("Yes"),r[t].is_in_use=!0):r[t][i]==="0"&&(r[t][i]=jQuery.i18n._("No"),r[t].is_in_use=!1);break;default:r[t][i]===!1&&(r[t][i]="");break}switch(e){case"AccrualPolicyUserModifier":switch(i){case"annual_maximum_time_modifier":r[t].type_id===20&&(r[t][i]=jQuery.i18n._("N/A"));break}break;case"BreakPolicy":case"MealPolicy":case"Accrual":switch(i){case"amount":Global$1.isNumeric(r[t][i])&&(r[t][i]=Global$1.getTimeUnit(r[t][i]));break}break;case"accrual_balance_summary":case"AccrualBalance":switch(i){case"balance":Global$1.isNumeric(r[t][i])&&(r[t][i]=Global$1.getTimeUnit(r[t][i]));break}break;case"RecurringScheduleControl":switch(i){case"end_date":r[t][i]===""&&(r[t][i]="Never");break}break}}return r};Date.prototype.format=function(r,e){!Global$1.isSet(r)&&LocalCacheData.getLoginUserPreference()&&(r=LocalCacheData.getLoginUserPreference().date_format),r||(r="DD-MMM-YY");var t=hooks(this).format(r);return t};window.RightClickMenuType=function(){};RightClickMenuType.LISTVIEW="1";RightClickMenuType.EDITVIEW="2";RightClickMenuType.NORESULTBOX="3";RightClickMenuType.ABSENCE_GRID="4";RightClickMenuType.VIEW_ICON="5";Global$1.htmlDecode=function(r){return jQuery("<textarea></textarea>").html(r).text()};Global$1.htmlEncode=function(r){var e=r;if(e){var t=document.createElement("div");return t.textContent=e,t.innerHTML}else return e};Global$1.m_sort_by=function(){var r=function(i,a){return i===a?0:i===!1||i==="OPEN"?-1:a===!1||a==="OPEN"?1:i<a?-1:1},e=function(i,a){var o=r;return i&&(o=function(n,s){return r(i(n),i(s))}),a?function(n,s){return-1*o(n,s)}:o},t=function(i){for(var a=[],o=i.length,n,s,l,c=0;c<o;c++)n=i[c],typeof n=="string"?(s=n,l=r):(s=n.name,l=e(n.primer,n.reverse)),a.push({name:s,cmp:l});return function(m,d){for(var u,p,v,g=0,h=o;g<h&&(v=0,n=a[g],u=n.name,p=n.cmp,v=p(m[u],d[u]),v===0);g++);return v}};return t}();jQuery.fn.invisible=function(){return this.each(function(){jQuery(this).css("opacity","0")})};jQuery.fn.visible=function(){return this.each(function(){jQuery(this).css("opacity","1")})};Global$1.trackView=function(r,e){if(APIGlobal.pre_login_data.analytics_enabled===!0){var t;r?(t="#!m="+r,e&&(t+="&a="+e)):t=window.location.hash.substring(1),Global$1.sendAnalyticsPageview(t)}};Global$1.setAnalyticDimensions=function(r,e){if(APIGlobal.pre_login_data.analytics_enabled===!0&&typeof gtag<"u")try{var t={application_version:APIGlobal.pre_login_data.application_version,http_host:APIGlobal.pre_login_data.http_host,product_edition_name:APIGlobal.pre_login_data.product_edition_name,registration_key:APIGlobal.pre_login_data.registration_key,primary_company_name:APIGlobal.pre_login_data.primary_company_name};r!=="undefined"&&r!==null&&(APIGlobal.pre_login_data.production!==!0&&Debug.Text("Analytics User: "+r,"Global.js","","doPing",1),t.user_name=r),e!=="undefined"&&e!==null&&(APIGlobal.pre_login_data.production!==!0&&Debug.Text("Analytics Company: "+e,"Global.js","","setAnalyticDimensions",1),t.company_name=e),gtag("set","user_properties",t)}catch(i){throw i}};Global$1.sendAnalyticsPageview=function(r){APIGlobal.pre_login_data.analytics_enabled===!0&&typeof gtag<"u"&&setTimeout(function(){try{gtag("event","page_view",{page_path:r})}catch(e){throw e}},500)};Global$1.sendAnalyticsEvent=function(r,e,t){if(typeof gtag<"u"&&APIGlobal.pre_login_data.analytics_enabled===!0)try{gtag("event",r,{action:e,label:t})}catch(i){throw i}};Global$1.triggerAnalyticsContextMenuClick=function(r,e){var t=LocalCacheData.currentShownContextMenuName||"error-with-context-menu",i,a,o,n,s;r?(r.group&&r.group.label?i=r.group.label:i=r.action_group,o="navigation:context_menu",a=r.id||"error-with-icon"):(o="navigation:right_click_menu",i="right_click",a=e||"error-with-rightclick-icon"),t=t.replace("ContextMenu",""),a=a.replace("Icon",""),n="click",s=t+":"+i+"|"+a,Global$1.sendAnalyticsEvent(o,n,s)};Global$1.triggerAnalyticsEditViewNavigation=function(r,e){var t="click",i=e+":"+r;Global$1.sendAnalyticsEvent("navigation:edit_view_navigation",t,i)};Global$1.triggerAnalyticsTabs=function(r,e){if(r&&r.type&&e&&e.newTab){var t=e.newTab.find(".ui-tabs-anchor").attr("ref")||"tab-target-error",i=LocalCacheData.current_open_view_id||"error-viewid";t=t.replace("tab_","");var a="click",o=i+":tabs:"+t;Global$1.sendAnalyticsEvent("navigation:tabs",a,o)}else Global$1.sendAnalyticsEvent("error:navigation:tabs","error-tabs","error")};Global$1.triggerAnalyticsNavigationOther=function(r,e,t){var i=e,a=t+":"+r;Global$1.sendAnalyticsEvent("navigation:other",i,a)};Global$1.getSessionIDKey=function(){return LocalCacheData.getAllURLArgs()&&LocalCacheData.getAllURLArgs().hasOwnProperty("company_id")?"SessionID-JA":"SessionID"};Global$1.loadStyleSheet=function(r,e,t){var i=document.getElementsByTagName("head")[0],a=document.createElement("link");a.setAttribute("href",r),a.setAttribute("rel","stylesheet"),a.setAttribute("type","text/css");var o,n;"sheet"in a?(o="sheet",n="cssRules"):(o="styleSheet",n="rules");var s=setInterval(function(){try{a[o]&&a[o][n].length&&(clearInterval(s),clearTimeout(l),typeof e=="function"&&e.call(t||window,!0,a))}catch{}finally{}},10),l=setTimeout(function(){clearInterval(l),clearTimeout(l),i.removeChild(a),typeof e=="function"&&e.call(t||window,!1,a)},15e3);return i.appendChild(a),a};Global$1.getSessionIDKey=function(){if(LocalCacheData.getAllURLArgs()){if(LocalCacheData.getAllURLArgs().hasOwnProperty("company_id"))return"SessionID-JA";if(LocalCacheData.getAllURLArgs().hasOwnProperty("punch_user_id"))return"SessionID-QP"}return"SessionID"};Global$1.checkBeforeExit=function(r){var e=Global$1.modify_alert_message;LocalCacheData.current_open_edit_only_controller&&LocalCacheData.current_open_edit_only_controller.confirm_on_exit&&LocalCacheData.current_open_edit_only_controller.is_changed===!1&&(e=Global$1.confirm_on_exit_message),TAlertManager.showConfirmAlert(e,null,function(t){t===!0&&r(t)})};Global$1.detectMobileBrowser=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)};Global$1.getBrowserVendor=function(){return APIGlobal.pre_login_data.user_agent_data.browser};Global$1.deeplink=!1;Global$1.getDeepLink=function(){return Global$1.deeplink};Global$1.setDeepLink=function(){var r=window.location.href.split("#!m=")[1];if(r=="Login"||r&&r.startsWith("Login&")==!0){var e=getCookie("AlternateSessionData");if(e)try{e=JSON.parse(e),e&&e.previous_session_view&&(Global$1.deeplink=e.previous_session_view)}catch(t){Debug.Text(t.message,"Global.js","Global","setDeepLink",10)}}else r!=null&&(Global$1.deeplink=r)};Global$1.compareMenuItems=function(r,e){if(r.attributes.sort_order==null&&(r.attributes.sort_order=1e3),e.attributes.sort_order==null&&(e.attributes.sort_order=1e3),r.attributes.sort_order<e.attributes.sort_order)return-1;if(r.attributes.sort_order>e.attributes.sort_order)return 1;if(r.attributes.sort_order==e.attributes.sort_order){if(r.attributes.add_order<e.attributes.add_order)return-1;if(r.attributes.add_order>e.attributes.add_order)return 1}return 0};Global$1.getDaysInSpan=function(r,e,t,i,a,o,n,s,l){var c=Global$1.strToDate(r),m=Global$1.strToDate(e);if(c==null||m==null)return 0;for(var d=Math.round(Math.abs((c.getTime()-m.getTime())/(86400*1e3)))+1;c<=m;){switch(c.getDay()){case 0:t||(d-=1);break;case 1:i||(d-=1);break;case 2:a||(d-=1);break;case 3:o||(d-=1);break;case 4:n||(d-=1);break;case 5:s||(d-=1);break;case 6:l||(d-=1);break}c.setDate(c.getDate()+1)}return d};Global$1.setLanguageCookie=function(r){setCookie("language",r,1e4,APIGlobal.pre_login_data.cookie_base_url)};Global$1.eraseCookieFromAllPaths=function(r){var e=getCookie(r),t=location.pathname.split("/"),i=" path=";document.cookie=r+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT;";for(var a=0;a<t.length;a++)i+=(i.substr(-1)!="/"?"/":"")+t[a],Debug.Text("---"+a+". Deleting cookie: "+r+" with value: "+e+" and path: "+i,"Global.js","Global","eraseCookieFromAllPaths",10),document.cookie=r+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; "+i+"/;",document.cookie=r+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; "+i+";";return Debug.Text("Deleting cookie: "+r+" with value:"+e+" and path:"+i,"Global.js","Global","eraseCookieFromAllPaths",10),e};Global$1.moveCookiesToNewPath=function(){Debug.Arr(document.cookie,"COOKIE BEFORE CONTENT: ","Global.js","Global","moveCookiesToNewPath",10);for(var r=["language","StationID","SessionID"],e=new Date().getFullYear(),t=0;t<r.length;t++){var i=Global$1.eraseCookieFromAllPaths(r[t]);i&&i.length>0?(Debug.Text("Setting cookie:"+r[t]+" with value:"+i+" and path:"+APIGlobal.pre_login_data.cookie_base_url,"Global.js","Global","moveCookiesToNewPath",10),document.cookie=r[t]+"="+i+"; expires=Thu, 01-Jan-"+(e+10)+" 00:00:01 GMT; path="+APIGlobal.pre_login_data.cookie_base_url+";"):Debug.Text("NOT Setting cookie:"+r[t]+" with value:"+i+" and path:"+APIGlobal.pre_login_data.cookie_base_url,"Global.js","Global","moveCookiesToNewPath",10)}Debug.Arr(document.cookie,"COOKIE AFTER CONTENT: ","Global.js","Global","moveCookiesToNewPath",10)};Global$1.clearSessionCookie=function(){Global$1.moveCookiesToNewPath(),deleteCookie(Global$1.getSessionIDKey())};Global$1.array_unique=function(r){if(Global$1.isArray(r)==!1)return r;var e=[];for(var t in r)e.indexOf(r[t])==-1&&e.push(r[t]);return e};Global$1.ArrayDiffAssoc=function(r){const e={},t=arguments.length;let i="",a=1,o="",n={};e:for(i in r)for(a=1;a<t;a++){n=arguments[a];for(o in n)if(n[o]===r[i]&&o===i)continue e;e[i]=r[i]}return e};Global$1.MoneyRound=function(r,e){isNaN(r)&&(r=0),e||(e=2);var t=!1;r<0&&(t=!0),r=Math.abs(r);var i=+(Math.round(r+"e+"+e)+"e-"+e);return t&&(i=i*-1),i.toFixed(e)};Global$1.getUIReadyStatus=function(){return Global$1.UIReadyStatus};Global$1.setUINotready=function(){Global$1.UIReadyStatus=0,Debug.Text("Global ready status changed: 0","Global.js","Global","setUIReadyStatus",10)};Global$1.setUIReady=function(){Global$1.UIReadyStatus==0&&(Global$1.UIReadyStatus=1,Debug.Text("Global ready status changed: 1","Global.js","Global","setUIReady",10))};Global$1.setUIInitComplete=function(){Global$1.UIReadyStatus=2,Debug.Text("Global ready status changed: 2","Global.js","Global","setUIReadyStatus",10)};Global$1.setUnitTestMode=function(){Global$1.UNIT_TEST_MODE=!0,jQuery("body").addClass("UNIT_TEST_MODE"),Debug.setEnable(!0),Debug.setVerbosity(11)};Global$1.convertValidationErrorToString=function(r){var e="";if(Object.keys(r).length>0)for(var t in r){r=r[t];break}var i=[];if(typeof r=="string")i.push(r);else for(var a in r)if(typeof r[a]=="string")i.push(r[a]);else for(var o in r[a])if(typeof r[a][o]=="string")i.push(r[a][o]);else for(var n in r[a][o])i.push(r[a][o][n]);if(i.length>1){var s=1;for(var a in i)e+=s+". "+i[a]+".<br>",s++}else typeof i[0]=="string"&&(e=i[0]+".");return e};Global$1.APIFileDownload=function(r,e,t,i){i==null&&(i=ServiceCaller$1.getAPIURL("Class="+r+"&Method="+e));var a=TTUUID$1.generateUUID();i=i+"&MessageID="+a;var o=jQuery("<form></form>");if(o.attr("id","temp_form"),o.attr("method","POST"),o.attr("action",i),o.attr("target",is_browser_iOS?"_blank":"hideReportIFrame"),o.append(jQuery("<input type='hidden' name='X-Client-ID' value='Browser-TimeTrex'>")),o.append(jQuery("<input type='hidden' name='X-CSRF-Token' value='"+getCookie("CSRF-Token")+"'>")),o.css("display","none"),t){var n=jQuery("<input type='hidden' name='json'>");n.val(JSON.stringify(t)),o.append(n)}o.appendTo("body"),o.css("display","none"),o.submit(),o.remove(),is_browser_iOS||ProgressBar.showProgressBar(a,!0)};Global$1.JSFileDownload=function(r,e,t){var i=document.createElement("a");t=t||"application/octet-stream",URL&&"download"in i?(i.href=URL.createObjectURL(new Blob([e],{type:t})),i.setAttribute("download",r),document.body.appendChild(i),i.click(),document.body.removeChild(i)):location.href="data:application/octet-stream,"+encodeURIComponent(e)};Global$1.initFileDragAndDrop=function(r,e){let t=`dropzone-${Global$1.getRandomNum()}`,i=document.createElement("div");i.className="file-drop-zone-highlight",i.style.display="none",i.id=t;let a=document.createElement("div");a.className="file-drop-zone-tip",a.style.pointerEvents="none",a.style.zIndex="0";let o=document.createElement("div");o.className="tticon tticon-file_upload_black_24dp file-drop-zone-highlight-icon",o.style.pointerEvents="none",o.style.zIndex="0";let n=document.createElement("div");n.textContent=jQuery.i18n._("Drop files here to upload"),n.style.pointerEvents="none",n.style.zIndex="0",a.appendChild(o),a.appendChild(n),i.appendChild(a),r.appendChild(i);let s=(l,c)=>{let m=c.querySelector(".file-drop-zone-highlight");return!(m&&m.id!==l)};r.addEventListener("dragover",l=>{s(t,l.target)&&(l.preventDefault(),l.stopPropagation(),i.style.display="flex")}),i.addEventListener("dragleave",l=>{l.preventDefault(),l.stopPropagation(),i.style.display="none"}),i.addEventListener("drop",l=>{s(t,l.target)&&(l.preventDefault(),l.stopPropagation(),i.style.display="none",l.dataTransfer.files.length>0&&e(l.dataTransfer.files))})};Global$1.refreshCSRFToken=function(r){return getCookie("CSRF-Token")==""?(Debug.Text("CSRF Token cookie does not exist, refreshing...","Global.js","","refreshCSRFToken",10),this.authentication_api=TTAPI$1.APIAuthentication,this.authentication_api.sendCSRFTokenCookie({onResult:function(e){Debug.Text("CSRF Refresh success!...",null,null,"refreshCSRFToken",10),r()},onError:function(e){Debug.Text("CSRF Refresh Error...",null,null,"refreshCSRFToken",10),r()}})):r(),!0};Global$1.refreshPermissions=function(){this.authentication_api=TTAPI$1.APIPermission,this.authentication_api.getPermissions({onResult:function(r){let e=r.getResult();e!==!1&&(LocalCacheData.setPermissionData(e),Debug.Text("Permissions Refreshed!","Global.js",null,"refreshPermissions",10))}})};Global$1.setStationID=function(r){r!==!1&&r!="false"&&setCookie("StationID",r,1e4)};Global$1.getStationID=function(){var r=getCookie("StationID");if(navigator.userAgent.indexOf("StationID:")!=-1){var e=/StationID:\s?([a-zA-Z0-9]{30,64})/i,t=e.exec(navigator.userAgent);t[1]&&(Debug.Text("Found StationID in user agent, forcing to that instead!","Global.js","","getStationID",11),r=t[1])}return r};Global$1.closeEditViews=function(r){LocalCacheData.current_open_report_controller?LocalCacheData.current_open_report_controller.onCancelClick(null,null,function(){Global$1.closeEditViews(r)}):LocalCacheData.current_open_edit_only_controller?LocalCacheData.current_open_edit_only_controller.onCancelClick(null,null,function(){Global$1.closeEditViews(r)}):LocalCacheData.current_open_sub_controller&&LocalCacheData.current_open_sub_controller.edit_view?LocalCacheData.current_open_sub_controller.onCancelClick(null,null,function(){Global$1.closeEditViews(r)}):LocalCacheData.current_open_primary_controller&&LocalCacheData.current_open_primary_controller.edit_view?LocalCacheData.current_open_primary_controller.onCancelClick(null,null,function(){Global$1.closeEditViews(r)}):LocalCacheData.current_open_primary_controller&&LocalCacheData.current_open_primary_controller.viewId==="TimeSheet"&&LocalCacheData.current_open_primary_controller.getPunchMode()==="manual"?LocalCacheData.current_open_primary_controller.doNextIfNoValueChangeInManualGrid(function(){r&&r()}):r&&r()};Global$1.styleSandbox=function(){APIGlobal.pre_login_data.sandbox&&APIGlobal.pre_login_data.sandbox==!0&&jQuery("body").addClass("sandbox_container")};Global$1.NewSession=function(r,e){var t=TTAPI$1.APIAuthentication;t.newSession(r,e,{onResult:function(i){if(!(!i||!i.isValid())){var a=i.getResult();if(a&&a.url){var o=a.url;o.indexOf("http")===-1&&(o=window.location.protocol+"//"+o);var n={new_session_id:a.session_id,previous_session_id:getCookie(Global$1.getSessionIDKey()),previous_session_url:Global$1.getBaseURL(),previous_session_view:window.location.href.split("#!m=")[1],previous_cookie_path:LocalCacheData.cookie_path};setCookie("AlternateSessionData",JSON.stringify(n),1,a.cookie_base_url,Global$1.getHost()),Global$1.setURLToBrowser(o+"html5/#!m=Login"),Global$1.needReloadBrowser=!0}else TAlertManager.showAlert(jQuery.i18n._("ERROR: Unable to perform action, please contact your %s administrator immediately.",LocalCacheData.getApplicationName()),jQuery.i18n._("ERROR"))}}})};Global$1.isNumeric=function(r){var e=!1;return r=parseFloat(r),typeof r=="number"&&!isNaN(r)&&(e=!0),e};Global$1.calcDebounceWaitTimeBasedOnNetwork=function(r=null,e=null){var t=Global$1.current_ping;if(!r)var r=500;if(!e)var e=1e4;var i=t*1.5;return i<r&&(i=r),i>e&&(i=e),i};Global$1.debounce=function(r,e,t){var i;return function(){var a=this,o=arguments,n=r.name?r.name:"N/A",s=function(){i=null,t?Debug.Text("Skipping due to debounce: "+n+" Wait Time: "+e,"Global.js","Global","debounce",11):(Debug.Text("Calling after debounce wait: "+n+" Wait Time: "+e,"Global.js","Global","debounce",10),r.apply(a,o))},l=t&&!i;clearTimeout(i),i=setTimeout(s,e),l?(Debug.Text("Calling immediate debounce: "+n+" Wait Time: "+e,"Global.js","Global","debounce",10),r.apply(a,o)):Debug.Text("Skipping due to debounce: "+n+" Wait Time: "+e,"Global.js","Global","debounce",11)}};Global$1.filterOutput=function(r,e){return e||(e=[!1,void 0,null,"false","undefined","null"]),e.indexOf(r)!==-1?"":r};Global$1.groupArrayDataByKey=function(r,e){return r.reduce(function(t,i){return Object.entries(i).forEach(function(a){t[a[0]]=t[a[0]]||[],(t[a[0]].indexOf(a[1])===-1||!e)&&t[a[0]].push(a[1])}),t},{})};Global$1.setVirtualDeviceViewport=function(r){var e,t,i=jQuery("meta[name=viewport]");if(!r||!i||i.length!==1){Debug.Text("Error: Missing params in function call","Global.js","Global","setVirtualDeviceViewport",1);return}if(r==="mobile")e="device-width",t=1;else if(r==="desktop")e=990,t=.5;else{Debug.Text("Error: Invalid setting passed to function","Global.js","Global","setVirtualDeviceViewport",1);return}if(e&&t)return i.attr("content","width="+e+", initial-scale="+t),i.attr("content");Debug.Text("Error: Invalid device settings. Either width or scale is invalid","Global.js","Global","setVirtualDeviceViewport",1)};Global$1.Logout=function(){return ServiceCaller$1.abortAll(),LocalCacheData.cleanNecessaryCache(),Global$1.clearSessionCookie(),LocalCacheData.setSessionID(""),LocalCacheData.current_open_view_id="",LocalCacheData.setLoginUser(null),LocalCacheData.setLoginUserPreference(null),LocalCacheData.setLogoutSettings(null),LocalCacheData.setPermissionData(null),LocalCacheData.setCurrentCompany(null),LocalCacheData.setLastPunchTime(null),LocalCacheData.setJobQueuePunchData(null),sessionStorage.clear(),Global$1.event_bus.emit("global","reset_vue_data"),Global$1.event_bus.emit("global","close_tt_assistant"),!0};Global$1.glowAnimation={start:function(r,e){return r?(e||(e="#00ff00"),r.css("color",e).addClass("animate-glow")):!1},stop:function(r){return r?r.removeClass("animate-glow"):!1}};Global$1.buildArgDic=function(r){for(var e=r.length,t={},i=0;i<e;i++){var a=r[i];a=a.split("=");var o=decodeURIComponent(a[0]),n=decodeURIComponent(a[1]);o.endsWith("[]")?(o=o.slice(0,-2),t[o]?t[o].push(n):t[o]=[n]):t[o]=n}return t};Global$1.getFeatureFlag=function(r,e){let t=LocalCacheData.getFeatureFlagData();return t&&t.hasOwnProperty(r)?t[r]:APIGlobal.pre_login_data&&APIGlobal.pre_login_data.feature_flags&&APIGlobal.pre_login_data.feature_flags.hasOwnProperty(r)?APIGlobal.pre_login_data.feature_flags[r]:e};Global$1.showAuthenticationModal=function(r,e,t,i,a,o="",n="tt_authenticate_ui"){TTVueUtils$1.mountComponent(n,TTMultiFactorAuthentication,{view_id:r,session_type:e,component_id:n,mfa_data:t,user_name:LocalCacheData.getLoginUser()?LocalCacheData.getLoginUser().user_name:"",error_string:LocalCacheData.login_error_string||LocalCacheData.getAllURLArgs().error_message||o,authenticate_callback:a||function(s){return Global$1.hideAuthenticationModal(),s},is_reauthentication:i})};Global$1.hideAuthenticationModal=function(r="tt_authenticate_ui"){TTVueUtils$1.unmountComponent(r)};Global$1.getSessionTypeForLogin=function(r,e){TTAPI$1.APIAuthentication.getSessionTypeForLogin(r,{onResult:t=>{t&&t.isValid()?e(t.getResult()):e(!1)}})};Global$1.login=function(r,e,t,i,a){if(r==""||e==""){TAlertManager.showAlert(jQuery.i18n._("Please enter a user name and password.")),a(!1);return}if(LocalCacheData.current_open_primary_controller.viewId=="LoginView"){var o=jQuery("#login_copy_right_info").text(),n=["onload","total","Copyright ","indexOf","organization_name","loginData","All Rights Reserved","ERROR: This installation of ","application_name"," is in violation of the license agreement!","showAlert","getResponseHeader","Content-Length","TimeTrex","#powered_by","naturalWidth","naturalHeight"];(!jQuery(n[14])[0]||jQuery(n[14])[0]&&(jQuery(n[14])[0][n[15]]>0&&jQuery(n[14])[0][n[15]]!=145||jQuery(n[14])[0][n[16]]>0&&jQuery(n[14])[0][n[16]]!=40)||o[n[3]](n[2])!==0||LocalCacheData[n[5]][n[8]][n[3]](n[13])!==0||o[n[3]](n[13])!==17)&&Global$1.sendErrorReport(n[7]+LocalCacheData[n[5]][n[8]]+n[9]+" iw: "+(jQuery(n[14])[0]?jQuery(n[14])[0][n[15]]:0)+" ih: "+(jQuery(n[14])[0]?jQuery(n[14])[0][n[16]]:0)+" c: "+o[n[3]](n[2])+" "+o[n[3]](LocalCacheData[n[5]][n[4]]),ServiceCaller$1.root_url,"","","")}Global$1.refreshCSRFToken(()=>{TTAPI$1.APIAuthentication.login(r,e,t,i,{onResult:s=>{if(s&&s.isValid()){let m=s.getResult(),d=m.session_id;if(LocalCacheData.setSessionID(d),setCookie(Global$1.getSessionIDKey(),d),LocalCacheData.loadViewRequiredJSReady)Debug.Text("Login Success (first try)",null,null,"onLoginBtnClick",10),m.mfa&&m.mfa.step!=!1&&i==!1?Global$1.showAuthenticationModal(this.viewId,m.session_type,m.mfa,!1,u=>{a(s)}):a(s);else var l=0,c=setInterval(()=>{if(l==100){clearInterval(c),TAlertManager.showAlert(jQuery.i18n._("The network connection was lost. Please check your network connection then try again.")),Debug.Text("Login Failure","Global.js","","login",10);return}l=l+1,LocalCacheData.loadViewRequiredJSReady&&(m.mfa&&m.mfa.step!=!1&&i==!1?Global$1.showAuthenticationModal(this.viewId,m.session_type,m.mfa,!1,u=>{a(s)}):a(s),Debug.Text("Login Success after retry: "+l,"Global.js","","login",10),clearInterval(c))},600)}else s.getDetails()[0]&&s.getDetails()[0].hasOwnProperty("password")?Global$1.showCompromisedPasswordModal(r,s.getDetailsAsString()):TAlertManager.showErrorAlert(s),a(s)},onError:s=>{Debug.Text("Login Error...","Global.js","","login",10),a(!1)}})}),Global$1.showCompromisedPasswordModal=function(s,l,c){Global$1.getSessionTypeForLogin(s,m=>{m.mfa_type_id>0?IndexViewController.openWizard("ForgotPasswordWizard",{message:l},function(){TAlertManager.showAlert(jQuery.i18n._("An email has been sent to you with instructions on how to reset your password."))}):IndexViewController.openWizard("ResetPasswordWizard",{user_name:s,message:l},function(){TAlertManager.showAlert(jQuery.i18n._("Password has been changed successfully, you may now login."))})})}};Global$1.refreshCustomFieldCache=function(){TTAPI$1.APIAuthentication.getCustomFieldData({},{onResult:function(r){LocalCacheData.setCustomFieldData(r.getResult())}})};Global$1.removeErrorTips=function(r,e=!0){for(let t=0;t<r.length;t++){const i=r[t];if(i&&i.value!==""||e){const a=bootstrap.Tooltip.getInstance(i);a&&(i.classList.remove("error-tip"),i.addEventListener("hidden.bs.tooltip",o=>{a&&a.disable()}),a.hide())}}};Global$1.showCustomAgreeModal=function(r={},e=null,t="tt_authenticate_ui"){TTVueUtils$1.mountComponent(t,TTCustomAccept,{custom_agreement_data:{require_input:r.require_input??!0,title:r.title??jQuery.i18n._("IMPORTANT NOTICE!"),body:r.body??jQuery.i18n._("<h6>TimeTrex version (v"+LocalCacheData.getLoginData().application_version+") is severely out of date and may no longer be supported! <br><br>Please upgrade to the latest version as soon as possible to avoid security issues and invalid calculations.<br><br>By continuing, you acknowledge that you are knowingly risking data security by not applying the latest updates.</h6>"),agreement_phrase:r.agreement_phrase??"Yes, I understand.",step:r.step??"accept_terms",type_id:r.type_id??0},authenticate_callback:e??null})};function __variableDynamicImportRuntime0__(r){switch(r){case"@/views/BaseViewController":case"@/views/BaseViewController.js":return __vitePreload(()=>Promise.resolve().then(()=>BaseViewController$2),void 0,import.meta.url);case"@/views/BaseWindowController":case"@/views/BaseWindowController.js":return __vitePreload(()=>Promise.resolve().then(()=>BaseWindowController$1),void 0,import.meta.url);case"@/views/TTBackboneView":case"@/views/TTBackboneView.js":return __vitePreload(()=>Promise.resolve().then(()=>TTBackboneView$1),void 0,import.meta.url);case"@/views/common/AuthorizationHistoryCommon":case"@/views/common/AuthorizationHistoryCommon.js":return __vitePreload(()=>import("./PayrollRemittanceAgencyEventWizardStepSubmit-ByowDQe1.bundle.js").then(e=>e.a),[],import.meta.url);case"@/views/common/BaseTreeViewController":case"@/views/common/BaseTreeViewController.js":return __vitePreload(()=>import("./BaseTreeViewController-D_H2B3QY.bundle.js"),[],import.meta.url);case"@/views/common/EmbeddedMessageCommon":case"@/views/common/EmbeddedMessageCommon.js":return __vitePreload(()=>import("./EmbeddedMessageCommon-DY_cePqF.bundle.js"),[],import.meta.url);case"@/views/common/RequestViewCommonController":case"@/views/common/RequestViewCommonController.js":return __vitePreload(()=>import("./RequestViewCommonController-DYz5psWn.bundle.js"),[],import.meta.url);case"@/views/developer_tools/AwesomeboxTestViewController":case"@/views/developer_tools/AwesomeboxTestViewController.js":return __vitePreload(()=>import("./AwesomeboxTestViewController-DSQv2JfD.bundle.js"),[],import.meta.url);case"@/views/developer_tools/GridTestViewController":case"@/views/developer_tools/GridTestViewController.js":return __vitePreload(()=>import("./GridTestViewController-Cn4Q-vbs.bundle.js"),[],import.meta.url);case"@/views/developer_tools/WidgetTestViewController":case"@/views/developer_tools/WidgetTestViewController.js":return __vitePreload(()=>import("./WidgetTestViewController-CflWuHeT.bundle.js"),[],import.meta.url);case"@/views/developer_tools/debugPanelController":case"@/views/developer_tools/debugPanelController.js":return __vitePreload(()=>import("./debugPanelController-C7VByenO.bundle.js"),[],import.meta.url);case"@/views/document/DocumentGroupViewController":case"@/views/document/DocumentGroupViewController.js":return __vitePreload(()=>import("./DocumentGroupViewController-v9tyVtNu.bundle.js"),[],import.meta.url);case"@/views/document/DocumentRevisionViewController":case"@/views/document/DocumentRevisionViewController.js":return __vitePreload(()=>import("./DocumentRevisionViewController-B8SL0oEk.bundle.js"),[],import.meta.url);case"@/views/document/DocumentViewController":case"@/views/document/DocumentViewController.js":return __vitePreload(()=>import("./DocumentViewController-DckK37q9.bundle.js"),[],import.meta.url);case"@/views/help/AboutViewController":case"@/views/help/AboutViewController.js":return __vitePreload(()=>import("./AboutViewController-yjHQmFZp.bundle.js"),[],import.meta.url);case"@/views/login/LoginViewController":case"@/views/login/LoginViewController.js":return __vitePreload(()=>import("./LoginViewController-Ca9ljWu5.bundle.js"),__vite__mapDeps([0]),import.meta.url);case"@/views/payperiod/PayPeriodScheduleViewController":case"@/views/payperiod/PayPeriodScheduleViewController.js":return __vitePreload(()=>import("./PayPeriodScheduleViewController-CgbZPnS0.bundle.js"),[],import.meta.url);case"@/views/portal/PortalBaseViewController":case"@/views/portal/PortalBaseViewController.js":return __vitePreload(()=>import("./PortalBaseViewController-CFANGFNp.bundle.js").then(e=>e.l),__vite__mapDeps([1]),import.meta.url);case"@/views/quick_punch/QuickPunchBaseViewController":case"@/views/quick_punch/QuickPunchBaseViewController.js":return __vitePreload(()=>Promise.resolve().then(()=>QuickPunchBaseViewController$1),void 0,import.meta.url);case"@/views/reports/ReportBaseViewController":case"@/views/reports/ReportBaseViewController.js":return __vitePreload(()=>import("./ReportBaseViewController-sqxrqYaU.bundle.js"),[],import.meta.url);case"@/views/ui_kit_sample/UIKitChildSampleViewController":case"@/views/ui_kit_sample/UIKitChildSampleViewController.js":return __vitePreload(()=>import("./UIKitChildSampleViewController-Bi6MysME.bundle.js"),[],import.meta.url);case"@/views/ui_kit_sample/UIKitSampleViewController":case"@/views/ui_kit_sample/UIKitSampleViewController.js":return __vitePreload(()=>import("./UIKitSampleViewController-BHPj-C1l.bundle.js"),[],import.meta.url);case"@/views/wizard/BaseWizardController":case"@/views/wizard/BaseWizardController.js":return __vitePreload(()=>Promise.resolve().then(()=>BaseWizardController$2),void 0,import.meta.url);case"@/views/attendance/accrual/AccrualViewController":case"@/views/attendance/accrual/AccrualViewController.js":return __vitePreload(()=>import("./AccrualViewController-gKRX0gG1.bundle.js"),[],import.meta.url);case"@/views/attendance/accrual_balance/AccrualBalanceViewController":case"@/views/attendance/accrual_balance/AccrualBalanceViewController.js":return __vitePreload(()=>import("./AccrualBalanceViewController-Csr7BFPh.bundle.js"),[],import.meta.url);case"@/views/attendance/exceptions/ExceptionViewController":case"@/views/attendance/exceptions/ExceptionViewController.js":return __vitePreload(()=>import("./ExceptionViewController-vnyt84FC.bundle.js"),[],import.meta.url);case"@/views/attendance/in_out/InOutViewController":case"@/views/attendance/in_out/InOutViewController.js":return __vitePreload(()=>import("./InOutViewController-BYGHLFCi.bundle.js"),[],import.meta.url);case"@/views/attendance/job/JobGroupViewController":case"@/views/attendance/job/JobGroupViewController.js":return __vitePreload(()=>import("./JobGroupViewController-8fTDAbmE.bundle.js"),[],import.meta.url);case"@/views/attendance/job/JobViewController":case"@/views/attendance/job/JobViewController.js":return __vitePreload(()=>import("./JobViewController-lysxjtxJ.bundle.js"),[],import.meta.url);case"@/views/attendance/job_item/JobItemGroupViewController":case"@/views/attendance/job_item/JobItemGroupViewController.js":return __vitePreload(()=>import("./JobItemGroupViewController-CFrgWnsS.bundle.js"),[],import.meta.url);case"@/views/attendance/job_item/JobItemViewController":case"@/views/attendance/job_item/JobItemViewController.js":return __vitePreload(()=>import("./JobItemViewController-C-qG6ZRO.bundle.js"),[],import.meta.url);case"@/views/attendance/job_item_amendment/JobItemAmendmentViewController":case"@/views/attendance/job_item_amendment/JobItemAmendmentViewController.js":return __vitePreload(()=>import("./JobItemAmendmentViewController-Dt-zppPU.bundle.js"),[],import.meta.url);case"@/views/attendance/map/MapViewController":case"@/views/attendance/map/MapViewController.js":return __vitePreload(()=>import("./MapViewController-rLp5wq5O.bundle.js"),__vite__mapDeps([2]),import.meta.url);case"@/views/attendance/punch_tag/PunchTagGroupViewController":case"@/views/attendance/punch_tag/PunchTagGroupViewController.js":return __vitePreload(()=>import("./PunchTagGroupViewController-B-pnTJHo.bundle.js"),[],import.meta.url);case"@/views/attendance/punch_tag/PunchTagViewController":case"@/views/attendance/punch_tag/PunchTagViewController.js":return __vitePreload(()=>import("./PunchTagViewController-CVVCPhOx.bundle.js"),[],import.meta.url);case"@/views/attendance/punches/PunchesViewController":case"@/views/attendance/punches/PunchesViewController.js":return __vitePreload(()=>import("./PunchesViewController-BEFzLKXZ.bundle.js"),[],import.meta.url);case"@/views/attendance/recurring_schedule_control/RecurringScheduleControlViewController":case"@/views/attendance/recurring_schedule_control/RecurringScheduleControlViewController.js":return __vitePreload(()=>import("./RecurringScheduleControlViewController-C-gMjTpj.bundle.js"),[],import.meta.url);case"@/views/attendance/recurring_schedule_template_control/RecurringScheduleTemplateControlViewController":case"@/views/attendance/recurring_schedule_template_control/RecurringScheduleTemplateControlViewController.js":return __vitePreload(()=>import("./RecurringScheduleTemplateControlViewController-ByXFIWvo.bundle.js"),[],import.meta.url);case"@/views/attendance/schedule/ScheduleShiftViewController":case"@/views/attendance/schedule/ScheduleShiftViewController.js":return __vitePreload(()=>import("./ScheduleShiftViewController-BrkDvkoh.bundle.js"),[],import.meta.url);case"@/views/attendance/schedule/ScheduleViewController":case"@/views/attendance/schedule/ScheduleViewController.js":return __vitePreload(()=>import("./ScheduleViewController-CZF6UHJR.bundle.js"),__vite__mapDeps([3]),import.meta.url);case"@/views/attendance/timesheet/TimeSheetViewController":case"@/views/attendance/timesheet/TimeSheetViewController.js":return __vitePreload(()=>import("./TimeSheetViewController-B9QVJiKc.bundle.js"),__vite__mapDeps([4]),import.meta.url);case"@/views/attendance/timesheet/UserDateTotalParentViewController":case"@/views/attendance/timesheet/UserDateTotalParentViewController.js":return __vitePreload(()=>import("./UserDateTotalParentViewController-BqcWSIhp.bundle.js"),[],import.meta.url);case"@/views/attendance/timesheet/UserDateTotalViewController":case"@/views/attendance/timesheet/UserDateTotalViewController.js":return __vitePreload(()=>import("./UserDateTotalViewController-WFwtPey1.bundle.js"),[],import.meta.url);case"@/views/company/branch/BranchViewController":case"@/views/company/branch/BranchViewController.js":return __vitePreload(()=>import("./BranchViewController-DqoDofLX.bundle.js"),[],import.meta.url);case"@/views/company/companies/CompaniesViewController":case"@/views/company/companies/CompaniesViewController.js":return __vitePreload(()=>import("./CompaniesViewController-DWg0dQin.bundle.js"),[],import.meta.url);case"@/views/company/company/CompanyViewController":case"@/views/company/company/CompanyViewController.js":return __vitePreload(()=>import("./CompanyViewController-DXWXLc1A.bundle.js"),[],import.meta.url);case"@/views/company/currency/CurrencyRateViewController":case"@/views/company/currency/CurrencyRateViewController.js":return __vitePreload(()=>import("./CurrencyRateViewController-Dtv63GIM.bundle.js"),[],import.meta.url);case"@/views/company/currency/CurrencyViewController":case"@/views/company/currency/CurrencyViewController.js":return __vitePreload(()=>import("./CurrencyViewController-DmdRCgMp.bundle.js"),[],import.meta.url);case"@/views/company/custom_field/CustomFieldViewController":case"@/views/company/custom_field/CustomFieldViewController.js":return __vitePreload(()=>import("./CustomFieldViewController-COX4FjpZ.bundle.js"),[],import.meta.url);case"@/views/company/department/DepartmentViewController":case"@/views/company/department/DepartmentViewController.js":return __vitePreload(()=>import("./DepartmentViewController-Dgl6gykF.bundle.js"),[],import.meta.url);case"@/views/company/ethnic_group/EthnicGroupViewController":case"@/views/company/ethnic_group/EthnicGroupViewController.js":return __vitePreload(()=>import("./EthnicGroupViewController-6APdZjNG.bundle.js"),[],import.meta.url);case"@/views/company/geo_fence/GEOFenceViewController":case"@/views/company/geo_fence/GEOFenceViewController.js":return __vitePreload(()=>import("./GEOFenceViewController-ENnIpNc_.bundle.js"),__vite__mapDeps([2]),import.meta.url);case"@/views/company/hierarchy_control/HierarchyControlViewController":case"@/views/company/hierarchy_control/HierarchyControlViewController.js":return __vitePreload(()=>import("./HierarchyControlViewController-BRVJtRuS.bundle.js"),[],import.meta.url);case"@/views/company/legal_entity/LegalEntityViewController":case"@/views/company/legal_entity/LegalEntityViewController.js":return __vitePreload(()=>import("./LegalEntityViewController-DvOBTZ6W.bundle.js"),[],import.meta.url);case"@/views/company/other_field/OtherFieldViewController":case"@/views/company/other_field/OtherFieldViewController.js":return __vitePreload(()=>import("./OtherFieldViewController-DvxtcRjf.bundle.js"),[],import.meta.url);case"@/views/company/payroll_remittance_agency/PayrollRemittanceAgencyEventViewController":case"@/views/company/payroll_remittance_agency/PayrollRemittanceAgencyEventViewController.js":return __vitePreload(()=>import("./PayrollRemittanceAgencyEventViewController-BHovnuNu.bundle.js"),[],import.meta.url);case"@/views/company/payroll_remittance_agency/PayrollRemittanceAgencyViewController":case"@/views/company/payroll_remittance_agency/PayrollRemittanceAgencyViewController.js":return __vitePreload(()=>import("./PayrollRemittanceAgencyViewController-conWBANJ.bundle.js"),[],import.meta.url);case"@/views/company/permission_control/PermissionControlViewController":case"@/views/company/permission_control/PermissionControlViewController.js":return __vitePreload(()=>import("./PermissionControlViewController-D9Lt8zK2.bundle.js"),[],import.meta.url);case"@/views/company/remittance_source_account/RemittanceSourceAccountViewController":case"@/views/company/remittance_source_account/RemittanceSourceAccountViewController.js":return __vitePreload(()=>import("./RemittanceSourceAccountViewController-Bn4g68GX.bundle.js"),[],import.meta.url);case"@/views/company/station/StationViewController":case"@/views/company/station/StationViewController.js":return __vitePreload(()=>import("./StationViewController-B1bR2sG1.bundle.js"),[],import.meta.url);case"@/views/company/wage/WageViewController":case"@/views/company/wage/WageViewController.js":return __vitePreload(()=>import("./WageViewController-Bugh1wyS.bundle.js"),[],import.meta.url);case"@/views/company/wage_group/WageGroupViewController":case"@/views/company/wage_group/WageGroupViewController.js":return __vitePreload(()=>import("./WageGroupViewController-ImCqw6v_.bundle.js"),[],import.meta.url);case"@/views/core/log/LogViewController":case"@/views/core/log/LogViewController.js":return __vitePreload(()=>import("./LogViewController-BdYBU2Io.bundle.js"),[],import.meta.url);case"@/views/employees/employee/EmployeeViewController":case"@/views/employees/employee/EmployeeViewController.js":return __vitePreload(()=>import("./EmployeeViewController-CIQk95iS.bundle.js"),[],import.meta.url);case"@/views/employees/remittance_destination_account/RemittanceDestinationAccountViewController":case"@/views/employees/remittance_destination_account/RemittanceDestinationAccountViewController.js":return __vitePreload(()=>import("./RemittanceDestinationAccountViewController-DFh3kvLw.bundle.js"),[],import.meta.url);case"@/views/employees/roe/ROEViewController":case"@/views/employees/roe/ROEViewController.js":return __vitePreload(()=>import("./ROEViewController-VbMu-eyx.bundle.js"),[],import.meta.url);case"@/views/employees/user_contact/UserContactViewController":case"@/views/employees/user_contact/UserContactViewController.js":return __vitePreload(()=>import("./UserContactViewController-aUruSTJa.bundle.js"),[],import.meta.url);case"@/views/employees/user_default/UserDefaultViewController":case"@/views/employees/user_default/UserDefaultViewController.js":return __vitePreload(()=>import("./UserDefaultViewController-Du_BbQwo.bundle.js"),[],import.meta.url);case"@/views/employees/user_group/UserGroupViewController":case"@/views/employees/user_group/UserGroupViewController.js":return __vitePreload(()=>import("./UserGroupViewController-CIun9v2n.bundle.js"),[],import.meta.url);case"@/views/employees/user_preference/UserPreferenceViewController":case"@/views/employees/user_preference/UserPreferenceViewController.js":return __vitePreload(()=>import("./UserPreferenceViewController-DtzPe9SK.bundle.js"),[],import.meta.url);case"@/views/employees/user_title/UserTitleViewController":case"@/views/employees/user_title/UserTitleViewController.js":return __vitePreload(()=>import("./UserTitleViewController-ByHCpqzM.bundle.js"),[],import.meta.url);case"@/views/home/dashboard/HomeViewController":case"@/views/home/dashboard/HomeViewController.js":return __vitePreload(()=>import("./HomeViewController-CVO83iRG.bundle.js"),[],import.meta.url);case"@/views/home/dashlet/DashletController":case"@/views/home/dashlet/DashletController.js":return __vitePreload(()=>import("./DashletController-D-51n7dZ.bundle.js"),[],import.meta.url);case"@/views/hr/kpi/KPIGroupViewController":case"@/views/hr/kpi/KPIGroupViewController.js":return __vitePreload(()=>import("./KPIGroupViewController-BAyU8y0_.bundle.js"),[],import.meta.url);case"@/views/hr/kpi/KPIViewController":case"@/views/hr/kpi/KPIViewController.js":return __vitePreload(()=>import("./KPIViewController-C4pxg4n9.bundle.js"),[],import.meta.url);case"@/views/hr/kpi/UserReviewControlViewController":case"@/views/hr/kpi/UserReviewControlViewController.js":return __vitePreload(()=>import("./UserReviewControlViewController-CENzIc66.bundle.js"),[],import.meta.url);case"@/views/hr/qualification/QualificationGroupViewController":case"@/views/hr/qualification/QualificationGroupViewController.js":return __vitePreload(()=>import("./QualificationGroupViewController-B8IXJvOh.bundle.js"),[],import.meta.url);case"@/views/hr/qualification/QualificationViewController":case"@/views/hr/qualification/QualificationViewController.js":return __vitePreload(()=>import("./QualificationViewController-DdkrVcwl.bundle.js"),[],import.meta.url);case"@/views/hr/qualification/UserEducationViewController":case"@/views/hr/qualification/UserEducationViewController.js":return __vitePreload(()=>import("./UserEducationViewController-okXoGUcV.bundle.js"),[],import.meta.url);case"@/views/hr/qualification/UserLanguageViewController":case"@/views/hr/qualification/UserLanguageViewController.js":return __vitePreload(()=>import("./UserLanguageViewController-C-0B-bzE.bundle.js"),[],import.meta.url);case"@/views/hr/qualification/UserLicenseViewController":case"@/views/hr/qualification/UserLicenseViewController.js":return __vitePreload(()=>import("./UserLicenseViewController-CBWcoiZo.bundle.js"),[],import.meta.url);case"@/views/hr/qualification/UserMembershipViewController":case"@/views/hr/qualification/UserMembershipViewController.js":return __vitePreload(()=>import("./UserMembershipViewController-B70Iw2qf.bundle.js"),[],import.meta.url);case"@/views/hr/qualification/UserSkillViewController":case"@/views/hr/qualification/UserSkillViewController.js":return __vitePreload(()=>import("./UserSkillViewController-dwPj3eN9.bundle.js"),[],import.meta.url);case"@/views/hr/recruitment/JobApplicantEducationViewController":case"@/views/hr/recruitment/JobApplicantEducationViewController.js":return __vitePreload(()=>import("./JobApplicantEducationViewController-VwtZPZmq.bundle.js"),[],import.meta.url);case"@/views/hr/recruitment/JobApplicantEmploymentViewController":case"@/views/hr/recruitment/JobApplicantEmploymentViewController.js":return __vitePreload(()=>import("./JobApplicantEmploymentViewController-D7q0ii3y.bundle.js"),[],import.meta.url);case"@/views/hr/recruitment/JobApplicantLanguageViewController":case"@/views/hr/recruitment/JobApplicantLanguageViewController.js":return __vitePreload(()=>import("./JobApplicantLanguageViewController-BRW16rEp.bundle.js"),[],import.meta.url);case"@/views/hr/recruitment/JobApplicantLicenseViewController":case"@/views/hr/recruitment/JobApplicantLicenseViewController.js":return __vitePreload(()=>import("./JobApplicantLicenseViewController-_Bz0RK0a.bundle.js"),[],import.meta.url);case"@/views/hr/recruitment/JobApplicantLocationViewController":case"@/views/hr/recruitment/JobApplicantLocationViewController.js":return __vitePreload(()=>import("./JobApplicantLocationViewController-Cn6Zmjk8.bundle.js"),[],import.meta.url);case"@/views/hr/recruitment/JobApplicantMembershipViewController":case"@/views/hr/recruitment/JobApplicantMembershipViewController.js":return __vitePreload(()=>import("./JobApplicantMembershipViewController-CDx4QAur.bundle.js"),[],import.meta.url);case"@/views/hr/recruitment/JobApplicantReferenceViewController":case"@/views/hr/recruitment/JobApplicantReferenceViewController.js":return __vitePreload(()=>import("./JobApplicantReferenceViewController-Cb7u5A3u.bundle.js"),[],import.meta.url);case"@/views/hr/recruitment/JobApplicantSkillViewController":case"@/views/hr/recruitment/JobApplicantSkillViewController.js":return __vitePreload(()=>import("./JobApplicantSkillViewController-BEQZyn7a.bundle.js"),[],import.meta.url);case"@/views/hr/recruitment/JobApplicantViewController":case"@/views/hr/recruitment/JobApplicantViewController.js":return __vitePreload(()=>import("./JobApplicantViewController-D3Nsnnyi.bundle.js"),[],import.meta.url);case"@/views/hr/recruitment/JobApplicationViewController":case"@/views/hr/recruitment/JobApplicationViewController.js":return __vitePreload(()=>import("./JobApplicationViewController-CqVp5Nun.bundle.js"),__vite__mapDeps([5]),import.meta.url);case"@/views/hr/recruitment/JobVacancyViewController":case"@/views/hr/recruitment/JobVacancyViewController.js":return __vitePreload(()=>import("./JobVacancyViewController-BivhNXLC.bundle.js"),[],import.meta.url);case"@/views/hr/recruitment/RecruitmentPortalConfigViewController":case"@/views/hr/recruitment/RecruitmentPortalConfigViewController.js":return __vitePreload(()=>import("./RecruitmentPortalConfigViewController-Bhurii9h.bundle.js"),[],import.meta.url);case"@/views/invoice/area_policy/AreaPolicyViewController":case"@/views/invoice/area_policy/AreaPolicyViewController.js":return __vitePreload(()=>import("./AreaPolicyViewController-CbzEZcx2.bundle.js"),[],import.meta.url);case"@/views/invoice/client/ClientViewController":case"@/views/invoice/client/ClientViewController.js":return __vitePreload(()=>import("./ClientViewController-BH_jxYaJ.bundle.js"),[],import.meta.url);case"@/views/invoice/client_contact/ClientContactViewController":case"@/views/invoice/client_contact/ClientContactViewController.js":return __vitePreload(()=>import("./ClientContactViewController-BwG1JHOL.bundle.js"),[],import.meta.url);case"@/views/invoice/client_group/ClientGroupViewController":case"@/views/invoice/client_group/ClientGroupViewController.js":return __vitePreload(()=>import("./ClientGroupViewController-B1ZwXhMO.bundle.js"),[],import.meta.url);case"@/views/invoice/client_payment/ClientPaymentViewController":case"@/views/invoice/client_payment/ClientPaymentViewController.js":return __vitePreload(()=>import("./ClientPaymentViewController-CBrYr85U.bundle.js"),[],import.meta.url);case"@/views/invoice/district/InvoiceDistrictViewController":case"@/views/invoice/district/InvoiceDistrictViewController.js":return __vitePreload(()=>import("./InvoiceDistrictViewController-QXuo5ypo.bundle.js"),[],import.meta.url);case"@/views/invoice/invoice/InvoiceViewController":case"@/views/invoice/invoice/InvoiceViewController.js":return __vitePreload(()=>import("./InvoiceViewController-CpXCO2li.bundle.js"),[],import.meta.url);case"@/views/invoice/invoice_transaction/InvoiceTransactionViewController":case"@/views/invoice/invoice_transaction/InvoiceTransactionViewController.js":return __vitePreload(()=>import("./InvoiceTransactionViewController-DazPdlQW.bundle.js"),[],import.meta.url);case"@/views/invoice/payment_gateway/PaymentGatewayViewController":case"@/views/invoice/payment_gateway/PaymentGatewayViewController.js":return __vitePreload(()=>import("./PaymentGatewayViewController-CAgiKii_.bundle.js"),[],import.meta.url);case"@/views/invoice/product_group/ProductGroupViewController":case"@/views/invoice/product_group/ProductGroupViewController.js":return __vitePreload(()=>import("./ProductGroupViewController-ZwD-IJ3n.bundle.js"),[],import.meta.url);case"@/views/invoice/products/ProductViewController":case"@/views/invoice/products/ProductViewController.js":return __vitePreload(()=>import("./ProductViewController-DHrJkkOF.bundle.js"),[],import.meta.url);case"@/views/invoice/settings/InvoiceConfigViewController":case"@/views/invoice/settings/InvoiceConfigViewController.js":return __vitePreload(()=>import("./InvoiceConfigViewController-CE_qfx18.bundle.js"),[],import.meta.url);case"@/views/invoice/shipping_policy/ShippingPolicyViewController":case"@/views/invoice/shipping_policy/ShippingPolicyViewController.js":return __vitePreload(()=>import("./ShippingPolicyViewController-XuI4x6Zh.bundle.js"),[],import.meta.url);case"@/views/invoice/tax_policy/TaxPolicyViewController":case"@/views/invoice/tax_policy/TaxPolicyViewController.js":return __vitePreload(()=>import("./TaxPolicyViewController-DgI3F089.bundle.js"),[],import.meta.url);case"@/views/my_account/expense/ExpenseAuthorizationViewController":case"@/views/my_account/expense/ExpenseAuthorizationViewController.js":return __vitePreload(()=>import("./ExpenseAuthorizationViewController-CedoEJ59.bundle.js"),[],import.meta.url);case"@/views/my_account/expense/LoginUserExpenseViewController":case"@/views/my_account/expense/LoginUserExpenseViewController.js":return __vitePreload(()=>import("./LoginUserExpenseViewController-DLuI0RUu.bundle.js"),[],import.meta.url);case"@/views/my_account/message_control/MessageControlViewController":case"@/views/my_account/message_control/MessageControlViewController.js":return __vitePreload(()=>import("./MessageControlViewController-BTRHtj3_.bundle.js"),[],import.meta.url);case"@/views/my_account/notification/NotificationViewController":case"@/views/my_account/notification/NotificationViewController.js":return __vitePreload(()=>import("./NotificationViewController-BA6S3EU9.bundle.js"),[],import.meta.url);case"@/views/my_account/password/ChangePasswordViewController":case"@/views/my_account/password/ChangePasswordViewController.js":return __vitePreload(()=>import("./ChangePasswordViewController-DWoCbK2N.bundle.js"),[],import.meta.url);case"@/views/my_account/request/RequestViewController":case"@/views/my_account/request/RequestViewController.js":return __vitePreload(()=>import("./RequestViewController-Dj9Hgb_4.bundle.js"),[],import.meta.url);case"@/views/my_account/request_authorization/RequestAuthorizationViewController":case"@/views/my_account/request_authorization/RequestAuthorizationViewController.js":return __vitePreload(()=>import("./RequestAuthorizationViewController-C7wxNRxd.bundle.js"),[],import.meta.url);case"@/views/my_account/timesheet_authorization/TimeSheetAuthorizationViewController":case"@/views/my_account/timesheet_authorization/TimeSheetAuthorizationViewController.js":return __vitePreload(()=>import("./TimeSheetAuthorizationViewController-DozFPW5F.bundle.js"),[],import.meta.url);case"@/views/my_account/user_contact/LoginUserContactViewController":case"@/views/my_account/user_contact/LoginUserContactViewController.js":return __vitePreload(()=>import("./LoginUserContactViewController-QDHiosI3.bundle.js"),[],import.meta.url);case"@/views/my_account/user_preference/LoginUserPreferenceViewController":case"@/views/my_account/user_preference/LoginUserPreferenceViewController.js":return __vitePreload(()=>import("./LoginUserPreferenceViewController-CnPMhVg6.bundle.js"),[],import.meta.url);case"@/views/payroll/company_tax_deduction/CompanyTaxDeductionViewController":case"@/views/payroll/company_tax_deduction/CompanyTaxDeductionViewController.js":return __vitePreload(()=>import("./CompanyTaxDeductionViewController-p80zYuSS.bundle.js"),[],import.meta.url);case"@/views/payroll/government_document/GovernmentDocumentViewController":case"@/views/payroll/government_document/GovernmentDocumentViewController.js":return __vitePreload(()=>import("./GovernmentDocumentViewController-BNww444s.bundle.js"),[],import.meta.url);case"@/views/payroll/pay_periods/PayPeriodsViewController":case"@/views/payroll/pay_periods/PayPeriodsViewController.js":return __vitePreload(()=>import("./PayPeriodsViewController-C2-4eYhX.bundle.js"),[],import.meta.url);case"@/views/payroll/pay_stub/PayStubViewController":case"@/views/payroll/pay_stub/PayStubViewController.js":return __vitePreload(()=>import("./PayStubViewController-CJK8SowO.bundle.js"),[],import.meta.url);case"@/views/payroll/pay_stub_amendment/PayStubAmendmentViewController":case"@/views/payroll/pay_stub_amendment/PayStubAmendmentViewController.js":return __vitePreload(()=>import("./PayStubAmendmentViewController-K4GlyXSk.bundle.js"),[],import.meta.url);case"@/views/payroll/pay_stub_entry_account/PayStubEntryAccountViewController":case"@/views/payroll/pay_stub_entry_account/PayStubEntryAccountViewController.js":return __vitePreload(()=>import("./PayStubEntryAccountViewController-BpjuUbI1.bundle.js"),[],import.meta.url);case"@/views/payroll/pay_stub_transaction/PayStubTransactionViewController":case"@/views/payroll/pay_stub_transaction/PayStubTransactionViewController.js":return __vitePreload(()=>import("./PayStubTransactionViewController-gGTqdeMi.bundle.js"),[],import.meta.url);case"@/views/payroll/process_transactions_wizard/ProcessTransactionsWizard":case"@/views/payroll/process_transactions_wizard/ProcessTransactionsWizard.js":return __vitePreload(()=>Promise.resolve().then(()=>ProcessTransactionsWizard$1),void 0,import.meta.url);case"@/views/payroll/process_transactions_wizard/ProcessTransactionsWizardController":case"@/views/payroll/process_transactions_wizard/ProcessTransactionsWizardController.js":return __vitePreload(()=>import("./ProcessTransactionsWizardController-CK5A5f48.bundle.js"),[],import.meta.url);case"@/views/payroll/process_transactions_wizard/ProcessTransactionsWizardStepHome":case"@/views/payroll/process_transactions_wizard/ProcessTransactionsWizardStepHome.js":return __vitePreload(()=>import("./PayrollRemittanceAgencyEventWizardStepSubmit-ByowDQe1.bundle.js").then(e=>e.c),[],import.meta.url);case"@/views/payroll/recurring_pay_stub_amendment/RecurringPayStubAmendmentViewController":case"@/views/payroll/recurring_pay_stub_amendment/RecurringPayStubAmendmentViewController.js":return __vitePreload(()=>import("./RecurringPayStubAmendmentViewController-Blg_Ujj4.bundle.js"),[],import.meta.url);case"@/views/payroll/remittance_wizard/PayrollRemittanceAgencyEventWizard":case"@/views/payroll/remittance_wizard/PayrollRemittanceAgencyEventWizard.js":return __vitePreload(()=>Promise.resolve().then(()=>PayrollRemittanceAgencyEventWizard$1),void 0,import.meta.url);case"@/views/payroll/remittance_wizard/PayrollRemittanceAgencyEventWizardController":case"@/views/payroll/remittance_wizard/PayrollRemittanceAgencyEventWizardController.js":return __vitePreload(()=>import("./PayrollRemittanceAgencyEventWizardController-Cg7B2RAb.bundle.js"),[],import.meta.url);case"@/views/payroll/remittance_wizard/PayrollRemittanceAgencyEventWizardStepHome":case"@/views/payroll/remittance_wizard/PayrollRemittanceAgencyEventWizardStepHome.js":return __vitePreload(()=>import("./PayrollRemittanceAgencyEventWizardStepSubmit-ByowDQe1.bundle.js").then(e=>e.d),[],import.meta.url);case"@/views/payroll/remittance_wizard/PayrollRemittanceAgencyEventWizardStepPublish":case"@/views/payroll/remittance_wizard/PayrollRemittanceAgencyEventWizardStepPublish.js":return __vitePreload(()=>import("./PayrollRemittanceAgencyEventWizardStepSubmit-ByowDQe1.bundle.js").then(e=>e.e),[],import.meta.url);case"@/views/payroll/remittance_wizard/PayrollRemittanceAgencyEventWizardStepReview":case"@/views/payroll/remittance_wizard/PayrollRemittanceAgencyEventWizardStepReview.js":return __vitePreload(()=>import("./PayrollRemittanceAgencyEventWizardStepSubmit-ByowDQe1.bundle.js").then(e=>e.f),[],import.meta.url);case"@/views/payroll/remittance_wizard/PayrollRemittanceAgencyEventWizardStepSubmit":case"@/views/payroll/remittance_wizard/PayrollRemittanceAgencyEventWizardStepSubmit.js":return __vitePreload(()=>import("./PayrollRemittanceAgencyEventWizardStepSubmit-ByowDQe1.bundle.js").then(e=>e.g),[],import.meta.url);case"@/views/payroll/user_expense/UserExpenseViewController":case"@/views/payroll/user_expense/UserExpenseViewController.js":return __vitePreload(()=>import("./UserExpenseViewController-Ck8tyX_K.bundle.js"),[],import.meta.url);case"@/views/policy/absence_policy/AbsencePolicyViewController":case"@/views/policy/absence_policy/AbsencePolicyViewController.js":return __vitePreload(()=>import("./AbsencePolicyViewController-C9VzKjpK.bundle.js"),[],import.meta.url);case"@/views/policy/accrual_policy/AccrualPolicyAccountViewController":case"@/views/policy/accrual_policy/AccrualPolicyAccountViewController.js":return __vitePreload(()=>import("./AccrualPolicyAccountViewController-ClMB4SKM.bundle.js"),[],import.meta.url);case"@/views/policy/accrual_policy/AccrualPolicyUserModifierViewController":case"@/views/policy/accrual_policy/AccrualPolicyUserModifierViewController.js":return __vitePreload(()=>import("./AccrualPolicyUserModifierViewController-CGcYpZYl.bundle.js"),[],import.meta.url);case"@/views/policy/accrual_policy/AccrualPolicyViewController":case"@/views/policy/accrual_policy/AccrualPolicyViewController.js":return __vitePreload(()=>import("./AccrualPolicyViewController-BCMubygJ.bundle.js"),[],import.meta.url);case"@/views/policy/break_policy/BreakPolicyViewController":case"@/views/policy/break_policy/BreakPolicyViewController.js":return __vitePreload(()=>import("./BreakPolicyViewController-D8PmumyI.bundle.js"),[],import.meta.url);case"@/views/policy/contributing_pay_code_policy/ContributingPayCodePolicyViewController":case"@/views/policy/contributing_pay_code_policy/ContributingPayCodePolicyViewController.js":return __vitePreload(()=>import("./ContributingPayCodePolicyViewController-DK9966DR.bundle.js"),[],import.meta.url);case"@/views/policy/contributing_shift_policy/ContributingShiftPolicyViewController":case"@/views/policy/contributing_shift_policy/ContributingShiftPolicyViewController.js":return __vitePreload(()=>import("./ContributingShiftPolicyViewController-BU8DCGHM.bundle.js"),[],import.meta.url);case"@/views/policy/exception_policy/ExceptionPolicyControlViewController":case"@/views/policy/exception_policy/ExceptionPolicyControlViewController.js":return __vitePreload(()=>import("./ExceptionPolicyControlViewController-B3bMRQk-.bundle.js"),[],import.meta.url);case"@/views/policy/expense_policy/ExpensePolicyViewController":case"@/views/policy/expense_policy/ExpensePolicyViewController.js":return __vitePreload(()=>import("./ExpensePolicyViewController-B14fHmQ8.bundle.js"),[],import.meta.url);case"@/views/policy/holiday/HolidayViewController":case"@/views/policy/holiday/HolidayViewController.js":return __vitePreload(()=>import("./HolidayViewController-C_MeUA1u.bundle.js"),[],import.meta.url);case"@/views/policy/holiday_policy/HolidayPolicyViewController":case"@/views/policy/holiday_policy/HolidayPolicyViewController.js":return __vitePreload(()=>import("./HolidayPolicyViewController-bO34twbe.bundle.js"),[],import.meta.url);case"@/views/policy/meal_policy/MealPolicyViewController":case"@/views/policy/meal_policy/MealPolicyViewController.js":return __vitePreload(()=>import("./MealPolicyViewController-CAOEON3x.bundle.js"),[],import.meta.url);case"@/views/policy/overtime_policy/OvertimePolicyViewController":case"@/views/policy/overtime_policy/OvertimePolicyViewController.js":return __vitePreload(()=>import("./OvertimePolicyViewController-HTY1EC9M.bundle.js"),[],import.meta.url);case"@/views/policy/pay_code/PayCodeViewController":case"@/views/policy/pay_code/PayCodeViewController.js":return __vitePreload(()=>import("./PayCodeViewController-WQXlGijW.bundle.js"),[],import.meta.url);case"@/views/policy/pay_formula_policy/PayFormulaPolicyViewController":case"@/views/policy/pay_formula_policy/PayFormulaPolicyViewController.js":return __vitePreload(()=>import("./PayFormulaPolicyViewController-B3_aqaij.bundle.js"),[],import.meta.url);case"@/views/policy/policy_group/PolicyGroupViewController":case"@/views/policy/policy_group/PolicyGroupViewController.js":return __vitePreload(()=>import("./PolicyGroupViewController-DIQRZRQV.bundle.js"),[],import.meta.url);case"@/views/policy/premium_policy/PremiumPolicyViewController":case"@/views/policy/premium_policy/PremiumPolicyViewController.js":return __vitePreload(()=>import("./PremiumPolicyViewController-Cs82wWH-.bundle.js"),[],import.meta.url);case"@/views/policy/recurring_holiday/RecurringHolidayViewController":case"@/views/policy/recurring_holiday/RecurringHolidayViewController.js":return __vitePreload(()=>import("./RecurringHolidayViewController-hOxZSHrq.bundle.js"),[],import.meta.url);case"@/views/policy/regular_time_policy/RegularTimePolicyViewController":case"@/views/policy/regular_time_policy/RegularTimePolicyViewController.js":return __vitePreload(()=>import("./RegularTimePolicyViewController-C2--mHOk.bundle.js"),[],import.meta.url);case"@/views/policy/round_interval_policy/RoundIntervalPolicyViewController":case"@/views/policy/round_interval_policy/RoundIntervalPolicyViewController.js":return __vitePreload(()=>import("./RoundIntervalPolicyViewController-eySO0uan.bundle.js"),[],import.meta.url);case"@/views/policy/schedule_policy/SchedulePolicyViewController":case"@/views/policy/schedule_policy/SchedulePolicyViewController.js":return __vitePreload(()=>import("./SchedulePolicyViewController-CXKycac6.bundle.js"),[],import.meta.url);case"@/views/portal/header/HeaderUploadResumeWidget":case"@/views/portal/header/HeaderUploadResumeWidget.js":return __vitePreload(()=>Promise.resolve().then(()=>HeaderUploadResumeWidget$1),void 0,import.meta.url);case"@/views/portal/header/HeaderViewController":case"@/views/portal/header/HeaderViewController.js":return __vitePreload(()=>import("./PortalBaseViewController-CFANGFNp.bundle.js").then(e=>e.H),__vite__mapDeps([1]),import.meta.url);case"@/views/portal/sign_in/PortalForgotPasswordController":case"@/views/portal/sign_in/PortalForgotPasswordController.js":return __vitePreload(()=>Promise.resolve().then(()=>PortalForgotPasswordController$1),void 0,import.meta.url);case"@/views/portal/sign_in/PortalResetForgotPasswordController":case"@/views/portal/sign_in/PortalResetForgotPasswordController.js":return __vitePreload(()=>import("./PayrollRemittanceAgencyEventWizardStepSubmit-ByowDQe1.bundle.js").then(e=>e.b),[],import.meta.url);case"@/views/portal/sign_in/SignInController":case"@/views/portal/sign_in/SignInController.js":return __vitePreload(()=>import("./PortalBaseViewController-CFANGFNp.bundle.js").then(e=>e.S),__vite__mapDeps([1]),import.meta.url);case"@/views/quick_punch/header/HeaderViewController":case"@/views/quick_punch/header/HeaderViewController.js":return __vitePreload(()=>Promise.resolve().then(()=>HeaderViewController$1),void 0,import.meta.url);case"@/views/quick_punch/login/QuickPunchLoginViewController":case"@/views/quick_punch/login/QuickPunchLoginViewController.js":return __vitePreload(()=>import("./QuickPunchLoginViewController-DZo_BDAl.bundle.js").then(e=>e.a),[],import.meta.url);case"@/views/quick_punch/punch/QuickPunchViewController":case"@/views/quick_punch/punch/QuickPunchViewController.js":return __vitePreload(()=>import("./QuickPunchViewController-BxFvl6w3.bundle.js"),__vite__mapDeps([6]),import.meta.url);case"@/views/reports/accrual_balance_summary/AccrualBalanceSummaryReportViewController":case"@/views/reports/accrual_balance_summary/AccrualBalanceSummaryReportViewController.js":return __vitePreload(()=>import("./AccrualBalanceSummaryReportViewController-D9AM4ytO.bundle.js"),[],import.meta.url);case"@/views/reports/affordable_care/AffordableCareReportViewController":case"@/views/reports/affordable_care/AffordableCareReportViewController.js":return __vitePreload(()=>import("./AffordableCareReportViewController-Dv2XMgSd.bundle.js"),[],import.meta.url);case"@/views/reports/audittrail/AuditTrailReportViewController":case"@/views/reports/audittrail/AuditTrailReportViewController.js":return __vitePreload(()=>import("./AuditTrailReportViewController-BOgYkhSm.bundle.js"),[],import.meta.url);case"@/views/reports/custom_column/CustomColumnViewController":case"@/views/reports/custom_column/CustomColumnViewController.js":return __vitePreload(()=>import("./CustomColumnViewController-BpY0PeW8.bundle.js"),[],import.meta.url);case"@/views/reports/employee_information/UserSummaryReportViewController":case"@/views/reports/employee_information/UserSummaryReportViewController.js":return __vitePreload(()=>import("./UserSummaryReportViewController-Bjwyu5XB.bundle.js"),[],import.meta.url);case"@/views/reports/exception_summary/ExceptionSummaryReportViewController":case"@/views/reports/exception_summary/ExceptionSummaryReportViewController.js":return __vitePreload(()=>import("./ExceptionSummaryReportViewController-CqUlntQw.bundle.js"),[],import.meta.url);case"@/views/reports/expense_summary/ExpenseSummaryReportViewController":case"@/views/reports/expense_summary/ExpenseSummaryReportViewController.js":return __vitePreload(()=>import("./ExpenseSummaryReportViewController-CMutMSZy.bundle.js"),[],import.meta.url);case"@/views/reports/form1099/Form1099NecReportViewController":case"@/views/reports/form1099/Form1099NecReportViewController.js":return __vitePreload(()=>import("./Form1099NecReportViewController-DFu2BO-W.bundle.js"),[],import.meta.url);case"@/views/reports/form940/Form940ReportViewController":case"@/views/reports/form940/Form940ReportViewController.js":return __vitePreload(()=>import("./Form940ReportViewController-CZh6ZT0l.bundle.js"),[],import.meta.url);case"@/views/reports/form941/Form941ReportViewController":case"@/views/reports/form941/Form941ReportViewController.js":return __vitePreload(()=>import("./Form941ReportViewController-Df5bCirn.bundle.js"),[],import.meta.url);case"@/views/reports/formw2/FormW2ReportViewController":case"@/views/reports/formw2/FormW2ReportViewController.js":return __vitePreload(()=>import("./FormW2ReportViewController-DoqMIz--.bundle.js"),[],import.meta.url);case"@/views/reports/general_ledger_summary/GeneralLedgerSummaryReportViewController":case"@/views/reports/general_ledger_summary/GeneralLedgerSummaryReportViewController.js":return __vitePreload(()=>import("./GeneralLedgerSummaryReportViewController-DZBCghKM.bundle.js"),[],import.meta.url);case"@/views/reports/invoice_transaction_summary/InvoiceTransactionSummaryReportViewController":case"@/views/reports/invoice_transaction_summary/InvoiceTransactionSummaryReportViewController.js":return __vitePreload(()=>import("./InvoiceTransactionSummaryReportViewController-CngvYLe4.bundle.js"),[],import.meta.url);case"@/views/reports/job_analysis/JobAnalysisReportViewController":case"@/views/reports/job_analysis/JobAnalysisReportViewController.js":return __vitePreload(()=>import("./JobAnalysisReportViewController-BU3uh1o7.bundle.js"),[],import.meta.url);case"@/views/reports/job_info/JobInformationReportViewController":case"@/views/reports/job_info/JobInformationReportViewController.js":return __vitePreload(()=>import("./JobInformationReportViewController-Pq1INTJL.bundle.js"),[],import.meta.url);case"@/views/reports/job_item_info/JobItemInformationReportViewController":case"@/views/reports/job_item_info/JobItemInformationReportViewController.js":return __vitePreload(()=>import("./JobItemInformationReportViewController-D7otfeHb.bundle.js"),[],import.meta.url);case"@/views/reports/job_summary/JobSummaryReportViewController":case"@/views/reports/job_summary/JobSummaryReportViewController.js":return __vitePreload(()=>import("./JobSummaryReportViewController-BsaeP-wo.bundle.js"),[],import.meta.url);case"@/views/reports/pay_stub_summary/PayStubSummaryReportViewController":case"@/views/reports/pay_stub_summary/PayStubSummaryReportViewController.js":return __vitePreload(()=>import("./PayStubSummaryReportViewController-CnuNCETQ.bundle.js"),[],import.meta.url);case"@/views/reports/pay_stub_transaction_summary/PayStubTransactionSummaryReportViewController":case"@/views/reports/pay_stub_transaction_summary/PayStubTransactionSummaryReportViewController.js":return __vitePreload(()=>import("./PayStubTransactionSummaryReportViewController-X0a844KP.bundle.js"),[],import.meta.url);case"@/views/reports/payroll_export/PayrollExportReportViewController":case"@/views/reports/payroll_export/PayrollExportReportViewController.js":return __vitePreload(()=>import("./PayrollExportReportViewController-DPB_q3zz.bundle.js"),[],import.meta.url);case"@/views/reports/punch_summary/PunchSummaryReportViewController":case"@/views/reports/punch_summary/PunchSummaryReportViewController.js":return __vitePreload(()=>import("./PunchSummaryReportViewController-Dael_6Zg.bundle.js"),[],import.meta.url);case"@/views/reports/qualification_summary/UserQualificationReportViewController":case"@/views/reports/qualification_summary/UserQualificationReportViewController.js":return __vitePreload(()=>import("./UserQualificationReportViewController-BGGJ3XXl.bundle.js"),[],import.meta.url);case"@/views/reports/recruitment_detail/UserRecruitmentDetailReportViewController":case"@/views/reports/recruitment_detail/UserRecruitmentDetailReportViewController.js":return __vitePreload(()=>import("./UserRecruitmentDetailReportViewController-C98v512O.bundle.js"),[],import.meta.url);case"@/views/reports/recruitment_summary/UserRecruitmentSummaryReportViewController":case"@/views/reports/recruitment_summary/UserRecruitmentSummaryReportViewController.js":return __vitePreload(()=>import("./UserRecruitmentSummaryReportViewController-l9pD2Zq6.bundle.js"),[],import.meta.url);case"@/views/reports/remittance_summary/RemittanceSummaryReportViewController":case"@/views/reports/remittance_summary/RemittanceSummaryReportViewController.js":return __vitePreload(()=>import("./RemittanceSummaryReportViewController-PwgkLS5C.bundle.js"),[],import.meta.url);case"@/views/reports/report_schedule/ReportScheduleViewController":case"@/views/reports/report_schedule/ReportScheduleViewController.js":return __vitePreload(()=>import("./ReportScheduleViewController-CaZaGaZv.bundle.js"),[],import.meta.url);case"@/views/reports/review_summary/KPIReportViewController":case"@/views/reports/review_summary/KPIReportViewController.js":return __vitePreload(()=>import("./KPIReportViewController-DngNNUZG.bundle.js"),[],import.meta.url);case"@/views/reports/saved_report/SavedReportViewController":case"@/views/reports/saved_report/SavedReportViewController.js":return __vitePreload(()=>import("./SavedReportViewController-Db9oS38w.bundle.js"),[],import.meta.url);case"@/views/reports/schedule_summary/ScheduleSummaryReportViewController":case"@/views/reports/schedule_summary/ScheduleSummaryReportViewController.js":return __vitePreload(()=>import("./ScheduleSummaryReportViewController-BHOmY8bL.bundle.js"),[],import.meta.url);case"@/views/reports/t4_summary/T4SummaryReportViewController":case"@/views/reports/t4_summary/T4SummaryReportViewController.js":return __vitePreload(()=>import("./T4SummaryReportViewController-D0a7u_ZB.bundle.js"),[],import.meta.url);case"@/views/reports/t4a_summary/T4ASummaryReportViewController":case"@/views/reports/t4a_summary/T4ASummaryReportViewController.js":return __vitePreload(()=>import("./T4ASummaryReportViewController-BVoP0yya.bundle.js"),[],import.meta.url);case"@/views/reports/tax_summary/TaxSummaryReportViewController":case"@/views/reports/tax_summary/TaxSummaryReportViewController.js":return __vitePreload(()=>import("./TaxSummaryReportViewController-Bl1uTtKH.bundle.js"),[],import.meta.url);case"@/views/reports/timesheet_detail/TimesheetDetailReportViewController":case"@/views/reports/timesheet_detail/TimesheetDetailReportViewController.js":return __vitePreload(()=>import("./TimesheetDetailReportViewController-BSmdMDpB.bundle.js"),[],import.meta.url);case"@/views/reports/timesheet_summary/TimesheetSummaryReportViewController":case"@/views/reports/timesheet_summary/TimesheetSummaryReportViewController.js":return __vitePreload(()=>import("./TimesheetSummaryReportViewController-GAp6vup7.bundle.js"),[],import.meta.url);case"@/views/reports/us_eeo/USEEOReportViewController":case"@/views/reports/us_eeo/USEEOReportViewController.js":return __vitePreload(()=>import("./USEEOReportViewController-B8VqqgRc.bundle.js"),[],import.meta.url);case"@/views/reports/us_pers/USPERSReportViewController":case"@/views/reports/us_pers/USPERSReportViewController.js":return __vitePreload(()=>import("./USPERSReportViewController-sWDdHmX5.bundle.js"),[],import.meta.url);case"@/views/reports/us_state_unemployment/USStateUnemploymentReportViewController":case"@/views/reports/us_state_unemployment/USStateUnemploymentReportViewController.js":return __vitePreload(()=>import("./USStateUnemploymentReportViewController-CMs458I0.bundle.js"),[],import.meta.url);case"@/views/reports/whos_in_summary/ActiveShiftReportViewController":case"@/views/reports/whos_in_summary/ActiveShiftReportViewController.js":return __vitePreload(()=>import("./ActiveShiftReportViewController-C5k5QE7B.bundle.js"),[],import.meta.url);case"@/views/wizard/dashlet/DashletWizardController":case"@/views/wizard/dashlet/DashletWizardController.js":return __vitePreload(()=>import("./DashletWizardController-CFjNN_5J.bundle.js"),[],import.meta.url);case"@/views/wizard/find_available/FindAvailableViewController":case"@/views/wizard/find_available/FindAvailableViewController.js":return __vitePreload(()=>import("./FindAvailableViewController-NdKEH7Ik.bundle.js"),[],import.meta.url);case"@/views/wizard/find_available/FindAvailableWizardController":case"@/views/wizard/find_available/FindAvailableWizardController.js":return __vitePreload(()=>import("./FindAvailableWizardController-BVIJ42ee.bundle.js"),[],import.meta.url);case"@/views/wizard/forgot_password/ForgotPasswordWizardController":case"@/views/wizard/forgot_password/ForgotPasswordWizardController.js":return __vitePreload(()=>import("./ForgotPasswordWizardController-B83O0qre.bundle.js"),[],import.meta.url);case"@/views/wizard/formula_builder_wizard/FormulaBuilderWizardController":case"@/views/wizard/formula_builder_wizard/FormulaBuilderWizardController.js":return __vitePreload(()=>import("./FormulaBuilderWizardController-CFzDAYN3.bundle.js"),[],import.meta.url);case"@/views/wizard/generate_pay_stub/GeneratePayStubWizardController":case"@/views/wizard/generate_pay_stub/GeneratePayStubWizardController.js":return __vitePreload(()=>import("./GeneratePayStubWizardController-r0ZUaxeq.bundle.js"),[],import.meta.url);case"@/views/wizard/import_csv/ImportCSVWizardController":case"@/views/wizard/import_csv/ImportCSVWizardController.js":return __vitePreload(()=>import("./ImportCSVWizardController-C-0Umm0S.bundle.js"),[],import.meta.url);case"@/views/wizard/install/InstallWizardController":case"@/views/wizard/install/InstallWizardController.js":return __vitePreload(()=>import("./InstallWizardController-BU9EcMlA.bundle.js"),[],import.meta.url);case"@/views/wizard/job_invoice/JobInvoiceWizardController":case"@/views/wizard/job_invoice/JobInvoiceWizardController.js":return __vitePreload(()=>import("./JobInvoiceWizardController-Bda8IW1P.bundle.js"),[],import.meta.url);case"@/views/wizard/login_user/LoginUserViewController":case"@/views/wizard/login_user/LoginUserViewController.js":return __vitePreload(()=>import("./LoginUserViewController-b-ejU6WN.bundle.js"),[],import.meta.url);case"@/views/wizard/login_user/LoginUserWizardController":case"@/views/wizard/login_user/LoginUserWizardController.js":return __vitePreload(()=>import("./LoginUserWizardController-DknvxlAe.bundle.js"),[],import.meta.url);case"@/views/wizard/pay_code/PayCodeWizardController":case"@/views/wizard/pay_code/PayCodeWizardController.js":return __vitePreload(()=>import("./PayCodeWizardController-CQYRTh-G.bundle.js"),[],import.meta.url);case"@/views/wizard/pay_stub_account/PayStubAccountWizardController":case"@/views/wizard/pay_stub_account/PayStubAccountWizardController.js":return __vitePreload(()=>import("./PayStubAccountWizardController-DUmrJJTu.bundle.js"),[],import.meta.url);case"@/views/wizard/permission_wizard/PermissionWizardController":case"@/views/wizard/permission_wizard/PermissionWizardController.js":return __vitePreload(()=>import("./PermissionWizardController-BB4kNJjI.bundle.js"),[],import.meta.url);case"@/views/wizard/process_payroll/ProcessPayrollWizardController":case"@/views/wizard/process_payroll/ProcessPayrollWizardController.js":return __vitePreload(()=>import("./ProcessPayrollWizardController-C9wEJtrd.bundle.js"),[],import.meta.url);case"@/views/wizard/quick_start/QuickStartWizardController":case"@/views/wizard/quick_start/QuickStartWizardController.js":return __vitePreload(()=>import("./QuickStartWizardController-_UDgidPG.bundle.js"),[],import.meta.url);case"@/views/wizard/re_calculate_accrual/ReCalculateAccrualWizardController":case"@/views/wizard/re_calculate_accrual/ReCalculateAccrualWizardController.js":return __vitePreload(()=>import("./ReCalculateAccrualWizardController-Dm1ERhrF.bundle.js"),[],import.meta.url);case"@/views/wizard/re_calculate_timesheet/ReCalculateTimeSheetWizardController":case"@/views/wizard/re_calculate_timesheet/ReCalculateTimeSheetWizardController.js":return __vitePreload(()=>import("./ReCalculateTimeSheetWizardController-BZNo8PeE.bundle.js"),[],import.meta.url);case"@/views/wizard/report_view/ReportViewWizardController":case"@/views/wizard/report_view/ReportViewWizardController.js":return __vitePreload(()=>import("./ReportViewWizardController-D5LedxDY.bundle.js"),[],import.meta.url);case"@/views/wizard/reset_forgot_password/ResetForgotPasswordWizardController":case"@/views/wizard/reset_forgot_password/ResetForgotPasswordWizardController.js":return __vitePreload(()=>import("./ResetForgotPasswordWizardController-DpJ9waNM.bundle.js"),[],import.meta.url);case"@/views/wizard/reset_password/ResetPasswordWizardController":case"@/views/wizard/reset_password/ResetPasswordWizardController.js":return __vitePreload(()=>import("./ResetPasswordWizardController-DRfupmza.bundle.js"),[],import.meta.url);case"@/views/wizard/share_report/ShareReportWizardController":case"@/views/wizard/share_report/ShareReportWizardController.js":return __vitePreload(()=>import("./ShareReportWizardController-D7TG_yYv.bundle.js"),[],import.meta.url);case"@/views/wizard/user_generic_data_status/UserGenericStatusWindowController":case"@/views/wizard/user_generic_data_status/UserGenericStatusWindowController.js":return __vitePreload(()=>import("./UserGenericStatusWindowController-DLO9Dri0.bundle.js"),[],import.meta.url);case"@/views/wizard/user_photo/UserPhotoWizardController":case"@/views/wizard/user_photo/UserPhotoWizardController.js":return __vitePreload(()=>import("./UserPhotoWizardController-KrqvQB6k.bundle.js"),[],import.meta.url);case"@/views/portal/hr/my_jobapplication/MyJobApplicationViewController":case"@/views/portal/hr/my_jobapplication/MyJobApplicationViewController.js":return __vitePreload(()=>import("./MyJobApplicationViewController-B6L29qlb.bundle.js"),[],import.meta.url);case"@/views/portal/hr/my_profile/DocumentSubViewController":case"@/views/portal/hr/my_profile/DocumentSubViewController.js":return __vitePreload(()=>import("./PortalBaseViewController-CFANGFNp.bundle.js").then(e=>e.D),__vite__mapDeps([1]),import.meta.url);case"@/views/portal/hr/my_profile/JobApplicantEducationSubViewController":case"@/views/portal/hr/my_profile/JobApplicantEducationSubViewController.js":return __vitePreload(()=>import("./PortalBaseViewController-CFANGFNp.bundle.js").then(e=>e.g),__vite__mapDeps([1]),import.meta.url);case"@/views/portal/hr/my_profile/JobApplicantEmploymentSubViewController":case"@/views/portal/hr/my_profile/JobApplicantEmploymentSubViewController.js":return __vitePreload(()=>import("./PortalBaseViewController-CFANGFNp.bundle.js").then(e=>e.c),__vite__mapDeps([1]),import.meta.url);case"@/views/portal/hr/my_profile/JobApplicantLanguageSubViewController":case"@/views/portal/hr/my_profile/JobApplicantLanguageSubViewController.js":return __vitePreload(()=>import("./PortalBaseViewController-CFANGFNp.bundle.js").then(e=>e.j),__vite__mapDeps([1]),import.meta.url);case"@/views/portal/hr/my_profile/JobApplicantLicenseSubViewController":case"@/views/portal/hr/my_profile/JobApplicantLicenseSubViewController.js":return __vitePreload(()=>import("./PortalBaseViewController-CFANGFNp.bundle.js").then(e=>e.i),__vite__mapDeps([1]),import.meta.url);case"@/views/portal/hr/my_profile/JobApplicantLocationSubViewController":case"@/views/portal/hr/my_profile/JobApplicantLocationSubViewController.js":return __vitePreload(()=>import("./PortalBaseViewController-CFANGFNp.bundle.js").then(e=>e.e),__vite__mapDeps([1]),import.meta.url);case"@/views/portal/hr/my_profile/JobApplicantMembershipSubViewController":case"@/views/portal/hr/my_profile/JobApplicantMembershipSubViewController.js":return __vitePreload(()=>import("./PortalBaseViewController-CFANGFNp.bundle.js").then(e=>e.h),__vite__mapDeps([1]),import.meta.url);case"@/views/portal/hr/my_profile/JobApplicantReferenceSubViewController":case"@/views/portal/hr/my_profile/JobApplicantReferenceSubViewController.js":return __vitePreload(()=>import("./PortalBaseViewController-CFANGFNp.bundle.js").then(e=>e.d),__vite__mapDeps([1]),import.meta.url);case"@/views/portal/hr/my_profile/JobApplicantSkillSubViewController":case"@/views/portal/hr/my_profile/JobApplicantSkillSubViewController.js":return __vitePreload(()=>import("./PortalBaseViewController-CFANGFNp.bundle.js").then(e=>e.f),__vite__mapDeps([1]),import.meta.url);case"@/views/portal/hr/my_profile/JobApplicantSubBaseViewController":case"@/views/portal/hr/my_profile/JobApplicantSubBaseViewController.js":return __vitePreload(()=>import("./PortalBaseViewController-CFANGFNp.bundle.js").then(e=>e.J),__vite__mapDeps([1]),import.meta.url);case"@/views/portal/hr/my_profile/JobApplicationSubViewController":case"@/views/portal/hr/my_profile/JobApplicationSubViewController.js":return __vitePreload(()=>import("./PortalBaseViewController-CFANGFNp.bundle.js").then(e=>e.k),__vite__mapDeps([1]),import.meta.url);case"@/views/portal/hr/my_profile/MyProfileViewController":case"@/views/portal/hr/my_profile/MyProfileViewController.js":return __vitePreload(()=>import("./PortalBaseViewController-CFANGFNp.bundle.js").then(e=>e.M),__vite__mapDeps([1]),import.meta.url);case"@/views/portal/hr/recruitment/PortalJobVacancyDetailController":case"@/views/portal/hr/recruitment/PortalJobVacancyDetailController.js":return __vitePreload(()=>import("./PortalBaseViewController-CFANGFNp.bundle.js").then(e=>e.P),__vite__mapDeps([1]),import.meta.url);case"@/views/portal/hr/recruitment/PortalJobVacancyDetailViewController":case"@/views/portal/hr/recruitment/PortalJobVacancyDetailViewController.js":return __vitePreload(()=>import("./PortalBaseViewController-CFANGFNp.bundle.js").then(e=>e.a),__vite__mapDeps([1]),import.meta.url);case"@/views/portal/hr/recruitment/PortalJobVacancyRowController":case"@/views/portal/hr/recruitment/PortalJobVacancyRowController.js":return __vitePreload(()=>Promise.resolve().then(()=>PortalJobVacancyRowController$1),void 0,import.meta.url);case"@/views/portal/hr/recruitment/PortalJobVacancyViewController":case"@/views/portal/hr/recruitment/PortalJobVacancyViewController.js":return __vitePreload(()=>import("./PortalBaseViewController-CFANGFNp.bundle.js").then(e=>e.b),__vite__mapDeps([1]),import.meta.url);default:return new Promise(function(e,t){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(t.bind(null,new Error("Unknown variable dynamic import: "+r)))})}}function __variableDynamicImportRuntime1__(r){switch(r){case"@/global/widgets/awesomebox/AComboBox":case"@/global/widgets/awesomebox/AComboBox.js":return __vitePreload(()=>import("./AComboBox-Omibb0-v.bundle.js"),[],import.meta.url);case"@/global/widgets/awesomebox/ADropDown":case"@/global/widgets/awesomebox/ADropDown.js":return __vitePreload(()=>import("./ADropDown-CVN1D3YO.bundle.js"),[],import.meta.url);case"@/global/widgets/awesomebox/ALayoutCache":case"@/global/widgets/awesomebox/ALayoutCache.js":return __vitePreload(()=>import("./ALayoutCache-Dn2csLZg.bundle.js"),[],import.meta.url);case"@/global/widgets/awesomebox/ASearchInput":case"@/global/widgets/awesomebox/ASearchInput.js":return __vitePreload(()=>import("./ASearchInput-ChGSAn59.bundle.js"),[],import.meta.url);case"@/global/widgets/checkbox/TCheckbox":case"@/global/widgets/checkbox/TCheckbox.js":return __vitePreload(()=>import("./TCheckbox-CU2IjMgb.bundle.js"),[],import.meta.url);case"@/global/widgets/color-picker/TColorPicker":case"@/global/widgets/color-picker/TColorPicker.js":return __vitePreload(()=>import("./TColorPicker-CsBr6yL-.bundle.js"),[],import.meta.url);case"@/global/widgets/column_editor/ColumnEditor":case"@/global/widgets/column_editor/ColumnEditor.js":return __vitePreload(()=>import("./ColumnEditor-BI0uji2X.bundle.js"),[],import.meta.url);case"@/global/widgets/combobox/TComboBox":case"@/global/widgets/combobox/TComboBox.js":return __vitePreload(()=>Promise.resolve().then(()=>TComboBox),void 0,import.meta.url);case"@/global/widgets/datepicker/TDatePicker":case"@/global/widgets/datepicker/TDatePicker.js":return __vitePreload(()=>import("./TDatePicker-B7JK-8NJ.bundle.js"),[],import.meta.url);case"@/global/widgets/datepicker/TRangePicker":case"@/global/widgets/datepicker/TRangePicker.js":return __vitePreload(()=>import("./TRangePicker-C6rhJuX3.bundle.js"),[],import.meta.url);case"@/global/widgets/error_tip/ErrorTipBox":case"@/global/widgets/error_tip/ErrorTipBox.js":return __vitePreload(()=>import("./ErrorTipBox-4H87YvLI.bundle.js"),[],import.meta.url);case"@/global/widgets/feedback/TFeedback":case"@/global/widgets/feedback/TFeedback.js":return __vitePreload(()=>import("./TFeedback-yz2B1x87.bundle.js"),[],import.meta.url);case"@/global/widgets/filebrowser/CameraBrowser":case"@/global/widgets/filebrowser/CameraBrowser.js":return __vitePreload(()=>import("./CameraBrowser-ZqjxPQAO.bundle.js"),[],import.meta.url);case"@/global/widgets/filebrowser/TImage":case"@/global/widgets/filebrowser/TImage.js":return __vitePreload(()=>import("./TImage-D3G3HRb1.bundle.js"),[],import.meta.url);case"@/global/widgets/filebrowser/TImageAdvBrowser":case"@/global/widgets/filebrowser/TImageAdvBrowser.js":return __vitePreload(()=>import("./TImageAdvBrowser-CQSTdPda.bundle.js"),[],import.meta.url);case"@/global/widgets/filebrowser/TImageBrowser":case"@/global/widgets/filebrowser/TImageBrowser.js":return __vitePreload(()=>import("./TImageBrowser-CvdFimWY.bundle.js"),[],import.meta.url);case"@/global/widgets/filebrowser/TImageCutArea":case"@/global/widgets/filebrowser/TImageCutArea.js":return __vitePreload(()=>import("./TImageCutArea-DleUw4Kb.bundle.js"),[],import.meta.url);case"@/global/widgets/formula_builder/FormulaBuilder":case"@/global/widgets/formula_builder/FormulaBuilder.js":return __vitePreload(()=>import("./FormulaBuilder-C7dDDUu-.bundle.js"),[],import.meta.url);case"@/global/widgets/inside_editor/InsideEditor":case"@/global/widgets/inside_editor/InsideEditor.js":return __vitePreload(()=>import("./InsideEditor-DH8GiQf2.bundle.js"),[],import.meta.url);case"@/global/widgets/jqgrid/TGridHeader":case"@/global/widgets/jqgrid/TGridHeader.js":return __vitePreload(()=>import("./TGridHeader-D7nGB_Ix.bundle.js"),[],import.meta.url);case"@/global/widgets/list/TList":case"@/global/widgets/list/TList.js":return __vitePreload(()=>import("./TList-D2aEdTxF.bundle.js"),[],import.meta.url);case"@/global/widgets/live-chat/live-chat":case"@/global/widgets/live-chat/live-chat.js":return __vitePreload(()=>import("./live-chat-CehrdfqQ.bundle.js"),[],import.meta.url);case"@/global/widgets/message_box/NoHierarchyBox":case"@/global/widgets/message_box/NoHierarchyBox.js":return __vitePreload(()=>import("./NoHierarchyBox-B8Xc5k4L.bundle.js"),[],import.meta.url);case"@/global/widgets/message_box/NoResultBox":case"@/global/widgets/message_box/NoResultBox.js":return __vitePreload(()=>import("./NoResultBox-BoOd92Lr.bundle.js"),[],import.meta.url);case"@/global/widgets/message_box/SaveAndContinueBox":case"@/global/widgets/message_box/SaveAndContinueBox.js":return __vitePreload(()=>import("./SaveAndContinueBox-C3Vb3RjO.bundle.js"),[],import.meta.url);case"@/global/widgets/paging/Paging2":case"@/global/widgets/paging/Paging2.js":return __vitePreload(()=>Promise.resolve().then(()=>Paging2),void 0,import.meta.url);case"@/global/widgets/search_panel/FormItemType":case"@/global/widgets/search_panel/FormItemType.js":return __vitePreload(()=>Promise.resolve().then(()=>FormItemType$2),void 0,import.meta.url);case"@/global/widgets/search_panel/SearchPanel":case"@/global/widgets/search_panel/SearchPanel.js":return __vitePreload(()=>import("./SearchPanel-CQFHXzWB.bundle.js"),[],import.meta.url);case"@/global/widgets/separated_box/SeparatedBox":case"@/global/widgets/separated_box/SeparatedBox.js":return __vitePreload(()=>import("./SeparatedBox-Du5cEjFL.bundle.js"),[],import.meta.url);case"@/global/widgets/switch_button/SwitchButton":case"@/global/widgets/switch_button/SwitchButton.js":return __vitePreload(()=>import("./SwitchButton-CmqnnJuO.bundle.js"),[],import.meta.url);case"@/global/widgets/tag_input/TTagInput":case"@/global/widgets/tag_input/TTagInput.js":return __vitePreload(()=>import("./TTagInput-Cx_zJegB.bundle.js"),[],import.meta.url);case"@/global/widgets/text/TText":case"@/global/widgets/text/TText.js":return __vitePreload(()=>import("./TText-VeKtdaUX.bundle.js"),[],import.meta.url);case"@/global/widgets/text_input/TPasswordInput":case"@/global/widgets/text_input/TPasswordInput.js":return __vitePreload(()=>Promise.resolve().then(()=>TPasswordInput),void 0,import.meta.url);case"@/global/widgets/text_input/TTextInput":case"@/global/widgets/text_input/TTextInput.js":return __vitePreload(()=>Promise.resolve().then(()=>TTextInput),void 0,import.meta.url);case"@/global/widgets/textarea/TTextArea":case"@/global/widgets/textarea/TTextArea.js":return __vitePreload(()=>import("./TTextArea-ExC1613D.bundle.js"),[],import.meta.url);case"@/global/widgets/timepicker/TTimePicker":case"@/global/widgets/timepicker/TTimePicker.js":return __vitePreload(()=>import("./TTimePicker-C67S3yK9.bundle.js"),[],import.meta.url);case"@/global/widgets/toggle_button/TToggleButton":case"@/global/widgets/toggle_button/TToggleButton.js":return __vitePreload(()=>import("./TToggleButton-BnUFpYWI.bundle.js"),[],import.meta.url);case"@/global/widgets/ttgrid/TTGrid":case"@/global/widgets/ttgrid/TTGrid.js":return __vitePreload(()=>import("./TTGrid-BhBcoleY.bundle.js"),[],import.meta.url);case"@/global/widgets/view_min_tab/ViewMinTabBar":case"@/global/widgets/view_min_tab/ViewMinTabBar.js":return __vitePreload(()=>Promise.resolve().then(()=>ViewMinTabBar),void 0,import.meta.url);case"@/global/widgets/wizard/Wizard":case"@/global/widgets/wizard/Wizard.js":return __vitePreload(()=>Promise.resolve().then(()=>Wizard$1),void 0,import.meta.url);case"@/global/widgets/wizard/WizardStep":case"@/global/widgets/wizard/WizardStep.js":return __vitePreload(()=>import("./PayrollRemittanceAgencyEventWizardStepSubmit-ByowDQe1.bundle.js").then(e=>e.W),[],import.meta.url);default:return new Promise(function(e,t){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(t.bind(null,new Error("Unknown variable dynamic import: "+r)))})}}const _sfc_main$e={created(){this.event_bus=new TTEventBus({component_id:this.component_id}),this.event_bus.on("tt_assistant","show_tt_assistant",()=>{this.showModal()}),this.event_bus.on("global","reset_vue_data",this.resetData),this.createStartingMessage()},mounted(){document.querySelector(".layout-content").style.marginRight="400px",this.dispatchResizeEvent()},props:{view_id:{type:String,default:null},component_id:{type:String,default:null}},data(){return{user_prompt:"",tt_assistant_api:TTAPI.APITTAssistant,completions:[],show_spinner:!1,thread_id:null,run_id:null,input_disabled:!1,is_resizing:!1,last_x:0,is_visible:!0,starting_prompt_choices:(()=>{var e,t;const r=[{message:$.i18n._("How do I fix a missing punch?")},{message:$.i18n._("How do I give an employee a $100 bonus?")},{message:$.i18n._("How do I create an overtime policy?")},{message:$.i18n._("How do I process payroll?")},{message:$.i18n._("Can I change the date and time format?")}];if(LocalCacheData&&LocalCacheData.getLoginUser()){const i=(e=LocalCacheData.getLoginUser())==null?void 0:e.country,a=(t=LocalCacheData.getLoginUser())==null?void 0:t.province;i==="US"&&a!=""?(r.push({message:$.i18n._("Explain overtime laws in "+a+", United States.")}),r.push({message:$.i18n._("Explain US federal overtime laws.")})):i==="CA"&&a!=""&&(r.push({message:$.i18n._("Explain overtime laws in "+a+", Canada.")}),r.push({message:$.i18n._("Explain vacation pay laws in "+a+", Canada.")}))}return r})(),labels:{title:$.i18n._("AI Assistant")+" ("+$.i18n._("Beta")+")",new_chat:$.i18n._("New Chat"),ai_disclaimer:$.i18n._("Inaccurate information may be provided, double-check all responses."),upgrade_message:Global$1.getUpgradeMessage()}}},computed:{is_community_edition(){return Global$1.getProductEdition()==10}},methods:{resetData(){Object.assign(this.$data,this.$options.data()),this.hideModal()},startResizing(r){this.is_resizing=!0,this.last_x=r.clientX,document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)},onMouseMove(r){if(!this.is_resizing)return;const e=r.clientX-this.last_x,t=window.innerWidth*.5,i=this.$refs.modal.getBoundingClientRect().width-e,a=Math.min(Math.max(400,i),t);this.$refs.modal.style.width=`${a}px`,this.last_x=r.clientX},onMouseUp(){this.is_resizing=!1,document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)},scrollToBottom(){setTimeout(()=>{const r=this.$refs["ai-body"];r&&(r.scrollTop=r.scrollHeight)},300)},clearContext(){this.cancelTTAssistant(),this.thread_id=null,this.run_id=null,this.show_spinner=!1,this.input_disabled=!1,this.completions=[],this.user_prompt="",this.createStartingMessage()},createStartingMessage(){let r={role:"system",type:"choice",result:$.i18n._(`Hello ${LocalCacheData.getLoginUser().first_name},<br><br>I'm your AI assistant, ready to help with your questions. The more <a href="https://help.timetrex.com/latest/enterprise/Introduction/How-to-use-AI-Assistant.htm" target="_blank">detailed your questions</a>, the better assistance I can provide.<br><br>How can I help you today?`),choices:this.starting_prompt_choices.sort(()=>.5-Math.random()).slice(0,4)};this.completions.push(r)},selectedChoice(r){this.user_prompt=r.message,this.userSubmitPrompt(null)},sendPrompt(r,e={}){r!=""&&(r=r.trim(),this.addUserMessageToConversationHistory(r),this.getCompletion(r,e),this.user_prompt="")},getCompletion(r,e){e=this.addContext(r,e),this.input_disabled=!0,this.show_spinner=!0,this.tt_assistant_api.getCompletion(e,{onResult:t=>{this.show_spinner=!1,this.input_disabled=!1;let i=t.getResult();typeof i!="object"&&(i={role:"assistant",result:$.i18n._("Sorry, I encountered an error. Please try again later."),message_id:this.tt_assistant_api.getMessageId()},this.tt_assistant_api.setMessageId(null)),i.result=purify.sanitize(marked.parse(i.result)),i=this.parseAnnotations(i),this.thread_id=i.thread_id,this.run_id=i.run_id,this.addCompletionToConversationHistory(i),this.scrollToBottom(),this.processAction(i)}}),ProgressBar.removeProgressBar(this.tt_assistant_api.getMessageId()),this.addInProgressMessageToConversationHistory(this.tt_assistant_api.getMessageId()),this.scrollToBottom(),setTimeout(()=>{this.trackProgress(this.tt_assistant_api.getMessageId())},2e3)},parseAnnotations(r){if(Array.isArray(r.annotations)&&r.annotations.length>0){let t=r.annotations,i=r.result;for(let a=0;a<t.length;a++){let o=t[a];if(o.type==="file_path")i=i.replace(o.text,"");else if(o.type==="file_citation"){let n=o.file_citation.quote??null;if(!n)i=i.replace(o.text,"");else{let s=`<div class="annotated-text" data-anotation-id="${r.id}"> [Source]<span class="annotation-content">${n}</span></div>`;i=i.replace(o.text,s)}}}r.result=i}let e="";return PermissionManager.HelpMenuValidateAdmin()?e="https://www.timetrex.com/h?id=admin_guide&v="+LocalCacheData.getLoginData().application_version+"&e="+Global$1.getProductEdition():PermissionManager.HelpMenuValidateSupervisor()?e="https://www.timetrex.com/h?id=supervisor_guide&v="+LocalCacheData.getLoginData().application_version+"&e="+Global$1.getProductEdition():e="https://www.timetrex.com/h?id=employee_guide&v="+LocalCacheData.getLoginData().application_version+"&e="+Global$1.getProductEdition(),r.result=r.result.replace(/ã€.*?\.docxã€‘/g,' <a href="'+e+'" target="_blank">'+$.i18n._("View TimeTrex Documentation")+"</a>"),r},showAnnotation(r){let e=r.target.closest(".annotated-text");if(!e)return;let t=e.querySelector(".annotation-content");if(!t)return;let i=this.$refs.annotation_overlay;i&&(i.innerHTML=t.innerHTML,i.style.visibility="visible",i.style.opacity="1",i.style.pointerEvents="auto",this.$nextTick(()=>{let a=e.getBoundingClientRect(),o=i.offsetWidth,n=i.offsetHeight,s=Math.max(a.right-o-20,0),l=a.top+window.scrollY-n;i.style.top=`${l}px`,i.style.left=`${s}px`}))},hideAnnotation(r){let e=this.$refs.annotation_overlay;if(!e)return;r.relatedTarget&&r.relatedTarget.closest(".ai-modal")||(e.style.visibility="hidden",e.style.opacity="0",e.innerHTML="")},trackProgress(r){TTAPI.APIProgressBar.getProgressBar(r,{onResult:e=>{let t=e.getResult();if(!(t.hasOwnProperty("status_id")&&t.status_id===9999)){if(t===!0||Array.isArray(t)&&t.length===0||!t.total_iterations||typeof t.total_iterations!="number")return;{let i=this.getCompletionByMessageId(r);if(i)i.result!==t.message&&!i.id&&(i=Object.assign(i,{result:t.message})),setTimeout(()=>{this.show_spinner&&this.trackProgress(r)},2e3);else{Debug.Text("No message found.","TTAssistant.vue","TTAssistant","trackProgress",11);return}}}}})},addInProgressMessageToConversationHistory(r){let e={role:"assistant",result:$.i18n._("Typing..."),id:null,message_id:r};this.completions.push(e)},addCompletionToConversationHistory(r){let e=this.getCompletionByMessageId(r.message_id);e&&(e=Object.assign(e,r))},addUserMessageToConversationHistory(r){let e={role:"user",result:r};this.completions.push(e)},processAction(r){(r.action==="edit_record"||r.action==="add_record"||r.action==="view_report")&&LocalCacheData.setAutoFillData(r.values),r.redirect&&Global$1.closeEditViews(()=>{r.action==="view_report"?IndexViewController.openReport(LocalCacheData.current_open_primary_controller,r.section):LocalCacheData.current_open_primary_controller.viewId===r.section?r.action==="add_record"?LocalCacheData.current_open_primary_controller.onAddClick():LocalCacheData.current_open_primary_controller.onEditClick(r.record_id):Global$1.setURLToBrowser(r.redirect)})},addContext(r,e){return e.prompt=r,e.thread_id=this.thread_id,e.run_id=this.run_id,e},getCompletionById(r){return this.completions.find(e=>e.id===r)},getCompletionByMessageId(r){return this.completions.find(e=>e.message_id===r)},getLastCompletionByRole(r){let e=this.completions.filter(t=>t.role===r);return e[e.length-1]||null},getPromptSettings(){return{}},userSubmitPrompt(r){r==null||r.preventDefault(),this.sendPrompt(this.user_prompt,this.getPromptSettings())},cancelTTAssistant(){if(Array.isArray($.xhrPool)){for(let r=0;r<$.xhrPool.length;r++)if($.xhrPool[r].url.includes("Class=APITTAssistant&Method=getCompletion")){debugger;$.xhrPool[r].jqXHR.abort()}}},dispatchResizeEvent(){setTimeout(()=>{window.dispatchEvent(new Event("resize"))},250)},hideModal(){this.is_visible=!1,document.querySelector(".layout-content").style.marginRight=null,this.dispatchResizeEvent()},showModal(){this.is_visible=!0,document.querySelector(".layout-content").style.marginRight="400px",this.dispatchResizeEvent()}},components:{InputText:script,Checkbox:script$1,ProgressSpinner:script$2}},_withScopeId$2=r=>(pushScopeId("data-v-d1e57186"),r=r(),popScopeId(),r),_hoisted_1$c={class:"ai-modal-title"},_hoisted_2$8={key:0,class:"ai-modal-body",ref:"ai-body"},_hoisted_3$5=["id"],_hoisted_4$5=["innerHTML"],_hoisted_5$4={class:"ai-choice-list"},_hoisted_6$4=["onClick"],_hoisted_7$2=["id","innerHTML"],_hoisted_8$2=["id","innerHTML"],_hoisted_9$2=["id","innerHTML"],_hoisted_10$1={key:1,class:"ai-modal-body"},_hoisted_11$1={class:"conversation-history"},_hoisted_12$1={class:"conversation-message card border-warning mb-3"},_hoisted_13$1=["innerHTML"],_hoisted_14$1={class:"spinner-holder"},_hoisted_15$1={key:2,class:"ai-modal-footer"},_hoisted_16$1={class:"ttassistant-icon"},_hoisted_17$1={class:"tticon tticon-new_chat_black_24dp p-mr-4 p-text-secondary"},_hoisted_18$1={class:"input-wrapper"},_hoisted_19$1=_withScopeId$2(()=>createBaseVNode("i",{class:"tticon tticon-send_black_24dp p-mr-4 p-text-secondary"},null,-1)),_hoisted_20$1=[_hoisted_19$1],_hoisted_21$1={key:3,class:"ai-disclaimer"};function _sfc_render$c(r,e,t,i,a,o){const n=resolveComponent("ProgressSpinner"),s=resolveComponent("InputText"),l=resolveDirective("tooltip");return withDirectives((openBlock(),createElementBlock("div",{class:"ai-modal",ref:"modal",onMouseleave:e[9]||(e[9]=(...c)=>o.hideAnnotation&&o.hideAnnotation(...c))},[createBaseVNode("span",{onClick:e[0]||(e[0]=(...c)=>o.hideModal&&o.hideModal(...c)),class:"ai-modal-close"},"Ã—"),createBaseVNode("div",{class:"ai-modal-resize-handle",onMousedown:e[1]||(e[1]=(...c)=>o.startResizing&&o.startResizing(...c))},null,32),createBaseVNode("h2",_hoisted_1$c,toDisplayString(a.labels.title),1),createBaseVNode("div",{class:"annotation-overlay",ref:"annotation_overlay",onMouseleave:e[2]||(e[2]=(...c)=>o.hideAnnotation&&o.hideAnnotation(...c))},null,544),o.is_community_edition?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_2$8,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.completions,c=>(openBlock(),createElementBlock("div",{class:"conversation-history",onMouseover:e[3]||(e[3]=(...m)=>o.showAnnotation&&o.showAnnotation(...m)),onMouseleave:e[4]||(e[4]=(...m)=>o.hideAnnotation&&o.hideAnnotation(...m))},[c.type==="choice"?(openBlock(),createElementBlock("div",{key:0,id:"ai-msg-"+c.id,class:"conversation-message card border-info mb-3"},[createBaseVNode("p",{innerHTML:c.result},null,8,_hoisted_4$5),createBaseVNode("ul",_hoisted_5$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(c.choices,m=>(openBlock(),createElementBlock("li",{class:"ai-choice",onClick:d=>o.selectedChoice(m)},toDisplayString(m.message),9,_hoisted_6$4))),256))])],8,_hoisted_3$5)):c.role==="assistant"?(openBlock(),createElementBlock("div",{key:1,id:"ai-msg-"+c.id,class:"conversation-message card border-primary mb-3",innerHTML:c.result},null,8,_hoisted_7$2)):c.role==="user"?(openBlock(),createElementBlock("div",{key:2,id:"ai-msg-"+c.id,class:"conversation-message card border-secondary mb-3",innerHTML:c.result},null,8,_hoisted_8$2)):c.role==="system"?(openBlock(),createElementBlock("div",{key:3,id:"ai-msg-"+c.id,class:"conversation-message card border-warning mb-3",innerHTML:c.result},null,8,_hoisted_9$2)):createCommentVNode("",!0)],32))),256))],512)),o.is_community_edition?(openBlock(),createElementBlock("div",_hoisted_10$1,[createBaseVNode("div",_hoisted_11$1,[createBaseVNode("div",_hoisted_12$1,[createBaseVNode("p",{innerHTML:this.labels.upgrade_message},null,8,_hoisted_13$1)])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_14$1,[a.show_spinner?(openBlock(),createBlock(n,{key:0,style:{width:"25px",height:"25px"},strokeWidth:"5",animationDuration:"2s"})):createCommentVNode("",!0)]),o.is_community_edition?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_15$1,[createBaseVNode("form",{onSubmit:e[8]||(e[8]=(...c)=>o.userSubmitPrompt&&o.userSubmitPrompt(...c)),class:"form-container ai-form"},[createBaseVNode("button",{type:"reset",id:"clear-button",class:"clear-button",onClick:e[5]||(e[5]=(...c)=>o.clearContext&&o.clearContext(...c))},[createBaseVNode("span",_hoisted_16$1,[withDirectives(createBaseVNode("i",_hoisted_17$1,null,512),[[l,a.labels.new_chat,void 0,{top:!0}]])])]),createBaseVNode("div",_hoisted_18$1,[createVNode(s,{class:"ai-input",modelValue:a.user_prompt,"onUpdate:modelValue":e[6]||(e[6]=c=>a.user_prompt=c),ref:"user_prompt_input",disabled:a.input_disabled,autocomplete:"false",toggleMask:""},null,8,["modelValue","disabled"]),createBaseVNode("div",{class:"send-icon",onClick:e[7]||(e[7]=(...c)=>o.userSubmitPrompt&&o.userSubmitPrompt(...c))},_hoisted_20$1)])],32)])),o.is_community_edition?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_21$1,[createBaseVNode("small",null,toDisplayString(a.labels.ai_disclaimer),1)]))],544)),[[vShow,a.is_visible]])}const TTAssistant=_export_sfc(_sfc_main$e,[["render",_sfc_render$c],["__scopeId","data-v-d1e57186"]]),_sfc_main$d={created(){this.event_bus=new TTEventBus({component_id:this.component_id}),this.event_bus.on(this.component_id,"notification_bell",r=>{this.updateNotificationCount(r.notification_count)}),this.event_bus.on(this.component_id,"open_assistant",r=>{this.onAssistantClick()}),this.event_bus.on(this.component_id,"refresh_login_data",this.refreshCompanyAndUserInfo),this.event_bus.on(this.component_id,"refresh_profile_image",r=>{this.profile_image_url=this.getProfileImage(!0,r.image_url)}),this.event_bus.on(this.component_id,"profile_menu_data",r=>{this.refreshProfileMenuData(r.profile_menu_data)}),this.event_bus.on(this.component_id,"help_menu_data",r=>{this.refreshHelpMenuData(r.help_menu_data)}),this.event_bus.on(this.component_id,"profile_pending_counts",r=>{this.updateProfilePendingTotals(r.object_types)}),this.event_bus.on("global","reset_vue_data",this.resetData),this.event_bus.on(this.component_id,"toggle_job_queue_spinner",r=>{r.get_job_data&&this.getRunningJobsData(),r.show&&this.showJobQueueSpinner(),r.check_completed&&this.checkForJobQueuePendingTasks()}),TTPromise.resolve("VueMenu","waitOnTopBarCreated"),this.refreshCompanyAndUserInfo()},beforeUnmount(){this.hideJobQueueSpinner(!1)},props:{topbarMenuActive:Boolean,activeTopbarItem:String},data(){return{component_id:"tt_topbar",company_name:"",company_logo:"",current_user:{},profile_image_url:"",notification_count:0,profile_menu_items:[],help_menu_items:[],pending_job_queue_tasks:[],progress_bar_visible:!1,show_punch_in_out:!0,show_feedback:!1,show_assistant:!0,active_dropdown_menu:"",has_mounted_tt_assistant:!1,tooltips:{assistant:$.i18n._("AI Assistant"),feedback:$.i18n._("Show your support!"),in_out:$.i18n._("In/Out"),notifications:$.i18n._("Notifications"),help:$.i18n._("Help"),profile:$.i18n._("Employee Profile"),job_queue:$.i18n._("Running Tasks")},sandbox_mode_text:$.i18n._("Sandbox Mode"),job_queue_complete_text:$.i18n._("All Tasks Completed")}},interval:null,computed:{topbarItemsClassProfile(){return["topbar-menu fadeInDown",{"topbar-menu-visible":this.topbarMenuActive&&this.active_dropdown_menu==="profile"}]},topbarItemsClassHelp(){return["topbar-menu fadeInDown",{"topbar-menu-visible":this.topbarMenuActive&&this.active_dropdown_menu==="help"}]},totalPendingCount(){return this.profile_menu_items.filter(r=>r.badge_number>0).reduce((r,e)=>r+e.badge_number,0)}},methods:{resetData(){this.hideJobQueueSpinner(!1),Object.assign(this.$data,this.$options.data())},handleMenuClick(r){r.command()},refreshProfileMenuData(r){this.profile_menu_items.length=0,this.profile_menu_items.push(...r)},refreshHelpMenuData(r){this.help_menu_items.length=0,this.help_menu_items.push(...r)},updateProfilePendingTotals(r){TTAPI.APIUser.getUserPendingTotals(r,{onResult:e=>{let t=e.getResult();this.profile_menu_items.forEach(i=>{(t[i.id]||t[i.id]===0)&&(Global$1.UNIT_TEST_MODE==!0&&(t[i.id]=999),i.badge_number=t[i.id])}),t.notification&&(Global$1.UNIT_TEST_MODE==!0&&(t.notification=999),this.notification_count=t.notification)}})},onMenuButtonClick(r){this.$emit("menubutton-click",r)},onTopbarMenuButtonClickProfile(r){this.active_dropdown_menu="profile",this.profile_menu_items.length===0&&(Debug.Error("Error: Profile Menu Items are empty. Rebuilding the menu.","ContextMenuManager.js","ContextMenuManager","getMenuModelByMenuId",1),this.event_bus.emit("tt_left_container","rebuild_menu")),this.$emit("topbar-menubutton-click",r)},onTopbarMenuButtonClickHelp(r){this.active_dropdown_menu="help",this.$emit("topbar-menubutton-click",r)},onCompanyLogoClicked(){Global$1.closeEditViews(function(){MenuManager.goToView("Home")})},onNotificationBellClick(){Global$1.closeEditViews(function(){MenuManager.goToView("Notification")})},onFeedbackClick(){var r=LocalCacheData.getLoginUser();TAlertManager.showConfirmAlert(LocalCacheData.getLoginData().application_name+" "+$.i18n._("is <strong>free</strong> because of people like you, "+r.first_name+"!<br><br>Show your support with a 5-star review!<br><br>â­â­â­â­â­"),$.i18n._("Show your support!"),function(e){if(e===!0){Global$1.sendAnalyticsEvent("feedback","review","review:feedback:yes");var t=r.work_email!=""?r.work_email:r.home_email!=""?r.home_email:"EmailNotSpecified@NoDomain.com",i="https://www.timetrex.com/community-reviews?v="+LocalCacheData.getLoginData().application_version+"&e="+Global$1.getProductEdition()+"&registration_key="+LocalCacheData.getLoginData().registration_key+"&email="+t+"&first_name="+r.first_name+"#reviews";window.open(i,"_blank")}else Global$1.sendAnalyticsEvent("feedback","review","review:feedback:no")},$.i18n._("Leave a Review!"),$.i18n._("No, thanks.")),Global$1.sendAnalyticsEvent("feedback","review","review:feedback:click")},onAssistantClick(){this.has_mounted_tt_assistant?this.event_bus.emit("tt_assistant","show_tt_assistant"):(TTVueUtils$1.mountComponent("tt-assistant-ui",TTAssistant,{view_id:"tt-assistant-view",component_id:"tt-assistant-ui"}),this.has_mounted_tt_assistant=!0)},onInOutClick(){if(LocalCacheData.getLastPunchTime()===null||(new Date().getTime()-LocalCacheData.getLastPunchTime())/1e3>60)Global$1.closeEditViews(function(){MenuManager.openSelectView("InOut")});else{let r=60-(new Date().getTime()-LocalCacheData.getLastPunchTime())/1e3;TAlertManager.showAlert($.i18n._("Please wait at least ")+Math.round(r)+$.i18n._(" seconds to punch again."))}},updateNotificationCount(r){Global$1.UNIT_TEST_MODE==!0&&(r=999),this.notification_count=r},getProfileImage(r=!1,e=null){let t="";return e?t=e:(t=ServiceCaller.getURLByObjectType("user_photo")+"&object_id="+this.current_user.id,r&&(t+="&refresh_id="+TTUUID.generateUUID())),t},refreshCompanyAndUserInfo(r){(!this.company_name||r)&&((!this.current_user.id||this.current_user.id&&LocalCacheData.getLoginUser().id!==this.current_user.id)&&(IndexViewController.initializeNotifications("login"),Global$1.setupPing(),this.event_bus.emit("tt_left_container","rebuild_menu"),this.updateProfilePendingTotals([])),this.company_name=LocalCacheData.getCurrentCompany().name,this.current_user=LocalCacheData.getLoginUser(),this.profile_image_url=this.getProfileImage(),this.company_logo=ServiceCaller.getURLByObjectType("company_logo"),this.show_punch_in_out=PermissionManager.validate("punch","punch_in_out"),this.show_assistant=Global$1.getFeatureFlag("assistant")&&PermissionManager.getPermissionLevel()>=40,this.show_feedback=Global$1.getProductEdition()==10&&LocalCacheData.deployment_on_demand==!0&&APIGlobal.pre_login_data.demo_mode==!1&&Global$1.getFeatureFlag("support_chat")==!0&&Global$1.getFeatureFlag("show_feedback")==!0&&PermissionManager.getPermissionLevel()>=40,this.event_bus.emit("tt_main_ui","get_user_saved_layout_mode"))},isSandboxMode(){return APIGlobal.pre_login_data.sandbox},toggleJobQueuePanel(r){this.$refs["job-queue-panel"].toggle(r)},showJobQueueSpinner(){this.progress_bar_visible=!0,this.startIntervalJobQueueTimer()},hideJobQueueSpinner(r){this.progress_bar_visible=!1,this.pending_job_queue_tasks=[],clearInterval(this.interval),this.interval=null,this.$refs["job-queue-panel"].hide(),LocalCacheData.setJobQueuePunchData(null),r&&LocalCacheData.current_open_primary_controller&&LocalCacheData.current_open_primary_controller.viewId==="TimeSheet"&&LocalCacheData.current_open_primary_controller.search()},getRunningJobsData(){let r={};r.filter_data={user_id:this.current_user.id,status_id:[10,20]},TTAPI.APISystemJobQueue.getSystemJobQueue(r,{onResult:e=>{if(e.isValid()){let t=e.getResult();Array.isArray(t)?this.pending_job_queue_tasks=t:this.pending_job_queue_tasks=[]}}})},startIntervalJobQueueTimer(){clearInterval(this.interval),this.interval=setInterval(()=>{this.checkForJobQueuePendingTasks()},6e4)},checkForJobQueuePendingTasks(){TTAPI.APISystemJobQueue.getPendingAndRunningSystemJobQueue({onResult:r=>{r.getResult()==0&&this.hideJobQueueSpinner(!0)}})},onHideJobQueuePanel(){this.pending_job_queue_tasks.length===0&&this.hideJobQueueSpinner(!0)},createMenuId(r){return"profile-menu-"+r}},components:{InputText:script,ProgressSpinner:script$2,OverlayPanel:script$5}},_withScopeId$1=r=>(pushScopeId("data-v-58c62c64"),r=r(),popScopeId(),r),_hoisted_1$b={class:"topbar layout-topbar"},_hoisted_2$7={class:"left-group"},_hoisted_3$4=_withScopeId$1(()=>createBaseVNode("i",{class:"pi pi-bars"},null,-1)),_hoisted_4$4=[_hoisted_3$4],_hoisted_5$3={class:"company-logo-container"},_hoisted_6$3=["src"],_hoisted_7$1={class:"slash-line company-name"},_hoisted_8$1={key:0,class:"topbar-icon topbar-feedback"},_hoisted_9$1={class:"middle-group"},_hoisted_10={key:0,class:"sandbox-title"},_hoisted_11={class:"right-group"},_hoisted_12={class:"job-queue-list"},_hoisted_13={key:0,class:"job-queue-item"},_hoisted_14={class:"job-queue-item"},_hoisted_15={class:"job-queue-item-summary"},_hoisted_16={class:"job-queue-item-detail"},_hoisted_17={key:1,class:"topbar-icon topbar-inout"},_hoisted_18={class:"topbar-icon topbar-notification-bell"},_hoisted_19={key:2,class:"topbar-icon topbar-assistant icon-get-attention"},_hoisted_20={class:"topbar-icon topbar-help"},_hoisted_21={class:"profile-menu-item"},_hoisted_22={key:0,class:"profile-menu-separator"},_hoisted_23=["id","onClick"],_hoisted_24={class:"topbar-item-name"},_hoisted_25={key:0},_hoisted_26=_withScopeId$1(()=>createBaseVNode("div",{class:"slash-line"},"Â ",-1)),_hoisted_27={class:"username"},_hoisted_28={class:"profile-image-holder"},_hoisted_29=["src"],_hoisted_30={key:0,class:"pi pi-angle-down"},_hoisted_31={key:1,class:"pi pi-angle-down"},_hoisted_32={class:"profile-menu-item"},_hoisted_33={key:0,class:"profile-menu-separator"},_hoisted_34=["id","onClick"],_hoisted_35={class:"topbar-item-name"},_hoisted_36={key:0};function _sfc_render$b(r,e,t,i,a,o){const n=resolveComponent("router-link"),s=resolveComponent("ProgressSpinner"),l=resolveComponent("OverlayPanel"),c=resolveDirective("tooltip"),m=resolveDirective("badge");return openBlock(),createElementBlock("div",_hoisted_1$b,[createBaseVNode("div",_hoisted_2$7,[createBaseVNode("button",{class:"p-link menu-button",onClick:e[0]||(e[0]=(...d)=>o.onMenuButtonClick&&o.onMenuButtonClick(...d))},_hoisted_4$4),createBaseVNode("div",_hoisted_5$3,[createVNode(n,{to:"/",class:"logo-link"},{default:withCtx(()=>[createBaseVNode("img",{class:"logo",id:"topbar-company-logo",src:a.company_logo,alt:"company logo",onClick:e[1]||(e[1]=(...d)=>o.onCompanyLogoClicked&&o.onCompanyLogoClicked(...d))},null,8,_hoisted_6$3)]),_:1})]),createBaseVNode("div",_hoisted_7$1,toDisplayString(a.company_name),1),a.show_feedback?(openBlock(),createElementBlock("span",_hoisted_8$1,[withDirectives(createBaseVNode("i",{class:"tticon tticon-heart_red_24dp p-mr-4 p-text-secondary",id:"profile-feedback",onClick:e[2]||(e[2]=(...d)=>o.onFeedbackClick&&o.onFeedbackClick(...d))},null,512),[[c,a.tooltips.feedback,void 0,{bottom:!0}]])])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_9$1,[o.isSandboxMode()?(openBlock(),createElementBlock("div",_hoisted_10,toDisplayString(a.sandbox_mode_text),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_11,[a.progress_bar_visible?withDirectives((openBlock(),createBlock(s,{key:0,class:"job-queue-spinner",style:{width:"30px",height:"30px"},strokeWidth:"5",animationDuration:"2s",onClick:o.toggleJobQueuePanel},null,8,["onClick"])),[[c,a.tooltips.job_queue,void 0,{bottom:!0}]]):createCommentVNode("",!0),createVNode(l,{ref:"job-queue-panel",onShow:o.getRunningJobsData,onHide:o.onHideJobQueuePanel},{default:withCtx(()=>[createBaseVNode("ul",_hoisted_12,[a.pending_job_queue_tasks.length===0?(openBlock(),createElementBlock("div",_hoisted_13,toDisplayString(a.job_queue_complete_text),1)):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(a.pending_job_queue_tasks,d=>(openBlock(),createElementBlock("div",_hoisted_14,[createBaseVNode("div",_hoisted_15,toDisplayString(d.name),1),createBaseVNode("div",_hoisted_16,"Started "+toDisplayString(d.elapsed_time)+" ago",1)]))),256))])]),_:1},8,["onShow","onHide"]),a.show_punch_in_out?(openBlock(),createElementBlock("span",_hoisted_17,[withDirectives(createBaseVNode("i",{class:"tticon tticon-timer_black_24dp p-mr-4 p-text-secondary",id:"profile-in-out",onClick:e[3]||(e[3]=(...d)=>o.onInOutClick&&o.onInOutClick(...d))},null,512),[[c,a.tooltips.in_out,void 0,{bottom:!0}]])])):createCommentVNode("",!0),createBaseVNode("span",_hoisted_18,[a.notification_count===0?withDirectives((openBlock(),createElementBlock("i",{key:0,class:"tticon tticon-notifications_black_24dp p-mr-4 p-text-secondary",id:"profile-notifications",onClick:e[4]||(e[4]=(...d)=>o.onNotificationBellClick&&o.onNotificationBellClick(...d))},null,512)),[[c,a.tooltips.notifications,void 0,{bottom:!0}]]):withDirectives((openBlock(),createElementBlock("i",{key:1,class:"tticon tticon-notifications_black_24dp p-mr-4 p-text-secondary",id:"profile-notifications",onClick:e[5]||(e[5]=(...d)=>o.onNotificationBellClick&&o.onNotificationBellClick(...d))},null,512)),[[c,a.tooltips.notifications,void 0,{bottom:!0}],[m,a.notification_count,void 0,{info:!0}]])]),a.show_assistant?(openBlock(),createElementBlock("span",_hoisted_19,[withDirectives(createBaseVNode("i",{class:"tticon tticon-stars_black_24dp p-mr-4 p-text-secondary",id:"profile-assistant",onClick:e[6]||(e[6]=(...d)=>o.onAssistantClick&&o.onAssistantClick(...d))},null,512),[[c,a.tooltips.assistant,void 0,{bottom:!0}]])])):createCommentVNode("",!0),withDirectives(createBaseVNode("span",_hoisted_20,[withDirectives(createBaseVNode("i",{class:"tticon tticon-help_center_black_24dp p-mr-4 p-text-secondary",id:"profile-help",onClick:e[7]||(e[7]=(...d)=>o.onTopbarMenuButtonClickHelp&&o.onTopbarMenuButtonClickHelp(...d))},null,512),[[c,a.tooltips.help,void 0,{bottom:!0}]])],512),[[vShow,a.help_menu_items.length>0]]),createBaseVNode("ul",{class:normalizeClass(o.topbarItemsClassHelp),role:"menu",id:"profile-help-items"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.help_menu_items,d=>(openBlock(),createElementBlock("li",_hoisted_21,[d.separator===!0?(openBlock(),createElementBlock("div",_hoisted_22)):(openBlock(),createElementBlock("button",{key:1,class:"p-link",id:o.createMenuId(d.id),onClick:u=>o.handleMenuClick(d)},[createBaseVNode("i",{class:normalizeClass(["topbar-icon",d.icon])},null,2),createBaseVNode("span",_hoisted_24,toDisplayString(d.label),1),d.badge_number?withDirectives((openBlock(),createElementBlock("span",_hoisted_25,null,512)),[[m,d.badge_number,void 0,{info:!0}]]):createCommentVNode("",!0)],8,_hoisted_23))]))),256))],2),_hoisted_26,withDirectives((openBlock(),createElementBlock("button",{class:"p-link profile",id:"profile-button",onClick:e[8]||(e[8]=(...d)=>o.onTopbarMenuButtonClickProfile&&o.onTopbarMenuButtonClickProfile(...d))},[createBaseVNode("span",_hoisted_27,toDisplayString(a.current_user.first_name)+" "+toDisplayString(a.current_user.last_name),1),createBaseVNode("div",_hoisted_28,[createBaseVNode("img",{class:"profile-image",src:a.profile_image_url,alt:"apollo-layout"},null,8,_hoisted_29)]),o.totalPendingCount===0?(openBlock(),createElementBlock("i",_hoisted_30)):withDirectives((openBlock(),createElementBlock("i",_hoisted_31,null,512)),[[m,o.totalPendingCount,void 0,{info:!0}]])])),[[c,a.tooltips.profile,void 0,{bottom:!0}]]),createBaseVNode("ul",{class:normalizeClass(o.topbarItemsClassProfile),role:"menu",id:"profile-menu-items"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.profile_menu_items,d=>(openBlock(),createElementBlock("li",_hoisted_32,[d.separator===!0?(openBlock(),createElementBlock("div",_hoisted_33)):(openBlock(),createElementBlock("button",{key:1,class:"p-link",id:o.createMenuId(d.id),onClick:u=>o.handleMenuClick(d)},[createBaseVNode("i",{class:normalizeClass(["topbar-icon",d.icon])},null,2),createBaseVNode("span",_hoisted_35,toDisplayString(d.label),1),d.badge_number?withDirectives((openBlock(),createElementBlock("span",_hoisted_36,null,512)),[[m,d.badge_number,void 0,{info:!0}]]):createCommentVNode("",!0)],8,_hoisted_34))]))),256))],2)])])}const TTTopBar=_export_sfc(_sfc_main$d,[["render",_sfc_render$b],["__scopeId","data-v-58c62c64"]]),_sfc_main$c={created(){this.event_bus=new TTEventBus({component_id:this.component_id}),this.event_bus.on(this.component_id,"ready_to_load_top_bar",r=>{this.ready_to_load_top_bar=!0})},data(){return{component_id:"tt_top_container",ready_to_load_top_bar:!1}},props:{topbarMenuActive:Boolean,activeTopbarItem:String},methods:{onMenuButtonClick(r){this.$emit("menubutton-click",r)},onTopbarMenuButtonClick(r){this.$emit("topbar-menubutton-click",r)},onTopbarItemClick(r){this.$emit("topbar-item-click",r)}},components:{TTTopBar}},_hoisted_1$a={class:"tt-top layout-topbar"};function _sfc_render$a(r,e,t,i,a,o){const n=resolveComponent("TTTopBar");return openBlock(),createElementBlock("div",_hoisted_1$a,[a.ready_to_load_top_bar?(openBlock(),createBlock(n,{key:0,topbarMenuActive:t.topbarMenuActive,activeTopbarItem:t.activeTopbarItem,onMenubuttonClick:o.onMenuButtonClick,onTopbarMenubuttonClick:o.onTopbarMenuButtonClick,onTopbarItemClick:o.onTopbarItemClick},null,8,["topbarMenuActive","activeTopbarItem","onMenubuttonClick","onTopbarMenubuttonClick","onTopbarItemClick"])):createCommentVNode("",!0)])}const TTTopContainer=_export_sfc(_sfc_main$c,[["render",_sfc_render$a],["__scopeId","data-v-563595ea"]]),layoutConfig$1=reactive({menuMode:"static",menuTheme:"colorScheme",colorScheme:"light",theme:"indigo",scale:14}),layoutState$1=reactive({staticMenuDesktopInactive:!1,overlayMenuActive:!1,sidebarActive:!1,anchored:!1,overlaySubmenuActive:!1,profileSidebarVisible:!1,configSidebarVisible:!1,staticMenuMobileActive:!1,menuHoverActive:!1,activeMenuItem:null});function useLayout(){const r=d=>{layoutConfig$1.scale=d},e=d=>{layoutState$1.activeMenuItem=d.value||d},t=()=>{layoutConfig$1.menuMode==="overlay"&&(layoutState$1.overlayMenuActive=!layoutState$1.overlayMenuActive),window.innerWidth>991?layoutState$1.staticMenuDesktopInactive=!layoutState$1.staticMenuDesktopInactive:layoutState$1.staticMenuMobileActive=!layoutState$1.staticMenuMobileActive},i=()=>{layoutState$1.profileSidebarVisible=!layoutState$1.profileSidebarVisible},a=()=>{layoutState$1.configSidebarVisible=!layoutState$1.configSidebarVisible},o=computed(()=>layoutState$1.overlayMenuActive||layoutState$1.staticMenuMobileActive||layoutState$1.overlaySubmenuActive),n=computed(()=>layoutConfig$1.darkTheme),s=computed(()=>window.innerWidth>991),l=computed(()=>layoutConfig$1.menuMode==="slim"),c=computed(()=>layoutConfig$1.menuMode==="slim-plus"),m=computed(()=>layoutConfig$1.menuMode==="horizontal");return{layoutConfig:toRefs(layoutConfig$1),layoutState:toRefs(layoutState$1),setScale:r,onMenuToggle:t,isSidebarActive:o,isDarkTheme:n,setActiveMenuItem:e,onProfileSidebarToggle:i,onConfigSidebarToggle:a,isSlim:l,isSlimPlus:c,isHorizontal:m,isDesktop:s}}const _hoisted_1$9={key:0,class:"layout-menuitem-root-text"},_hoisted_2$6=["href","target"],_hoisted_3$3={class:"layout-menuitem-text"},_hoisted_4$3={key:0,class:"pi pi-fw pi-angle-down layout-submenu-toggler"},_hoisted_5$2={class:"layout-menuitem-text"},_hoisted_6$2={key:0,class:"pi pi-fw pi-angle-down layout-submenu-toggler"},_sfc_main$b={__name:"AppMenuItem",props:{item:{type:Object,default:()=>({})},index:{type:Number,default:0},root:{type:Boolean,default:!0},parentItemKey:{type:String,default:null}},setup(r){const e=useRoute(),{layoutConfig:t,layoutState:i,setActiveMenuItem:a,onMenuToggle:o,isHorizontal:n,isSlim:s,isSlimPlus:l,isDesktop:c}=useLayout(),m=r,d=ref(!1),u=ref(null),p=ref(null),v=ref(null);onBeforeMount(()=>{u.value=m.parentItemKey?m.parentItemKey+"-"+m.index:String(m.index);const y=i.activeMenuItem.value;d.value=y===u.value||y?y.startsWith(u.value+"-"):!1,h(e.path)}),watch(()=>d.value,()=>{const y=m.root?m.index:parseInt(`${m.parentItemKey}`[0],10),I=document.querySelectorAll(".layout-root-submenulist")[y],P=document.querySelectorAll(".layout-root-menuitem")[y];(s.value||l.value||n.value)&&c&&nextTick(()=>{T(I,P)})}),watch(()=>i.activeMenuItem.value,y=>{d.value=y===u.value||y.startsWith(u.value+"-")}),watch(()=>t.menuMode.value,()=>{d.value=!1}),watch(()=>i.overlaySubmenuActive.value,y=>{y||(d.value=!1)}),watch(()=>e.path,h),watch(()=>e.path,y=>{!(s.value||l.value||n.value)&&m.item.to&&m.item.to===y?a(u):(s.value||l.value||n.value)&&(d.value=!1)});const g=async(y,I)=>{if(I.disabled){y.preventDefault();return}const{overlayMenuActive:P,staticMenuMobileActive:M}=i;if((I.to||I.url)&&(M.value||P.value)&&o(),I.command&&I.command({originalEvent:y,item:I}),I.items){if(m.root&&d.value&&(s.value||l.value||n.value)){i.overlaySubmenuActive.value=!1,i.menuHoverActive.value=!1;return}a(d.value?m.parentItemKey:u),m.root&&!d.value&&(s.value||l.value||n.value)&&(i.overlaySubmenuActive.value=!0,i.menuHoverActive.value=!0,d.value=!0,f())}else{if(c||(i.staticMenuMobileActive.value=!i.staticMenuMobileActive.value),s.value||l.value||n.value){i.overlaySubmenuActive.value=!1,i.menuHoverActive.value=!1;return}a(u)}};function h(y){!(s.value||l.value||n.value)&&m.item.to&&m.item.to===y?a(u):(s.value||l.value||n.value)&&(d.value=!1)}const w=()=>{m.root&&(s.value||l.value||n.value)&&c&&!d.value&&i.menuHoverActive.value&&a(u)},f=()=>{document.querySelectorAll(".p-tooltip").forEach(I=>{I.remove()})},T=(y,I)=>{if(y){const{left:P,top:M}=I.getBoundingClientRect(),{width:b,height:A}=DomHandler.getViewport(),[k,j]=[y.offsetWidth,y.offsetHeight],B=DomHandler.calculateScrollbarWidth();if(y.style.top=y.style.left="",n.value){const x=P+k+B;y.style.left=b<x?`${P-(x-b)}px`:`${P}px`}else if(s.value||l.value){const x=M+j;y.style.top=A<x?`${M-(x-A)}px`:`${M}px`}}},C=y=>e.path===y.to;return(y,I)=>{const P=resolveComponent("router-link"),M=resolveComponent("AppMenuItem",!0),b=resolveDirective("tooltip");return openBlock(),createElementBlock("li",{ref_key:"menuItemRef",ref:v,class:normalizeClass({"layout-root-menuitem":r.root,"active-menuitem":d.value})},[r.root&&r.item.visible!==!1?(openBlock(),createElementBlock("div",_hoisted_1$9,toDisplayString(r.item.label),1)):createCommentVNode("",!0),(!r.item.to||r.item.items)&&r.item.visible!==!1?withDirectives((openBlock(),createElementBlock("a",{key:1,href:r.item.url,onClick:I[0]||(I[0]=A=>g(A,r.item,r.index)),class:normalizeClass(r.item.class),target:r.item.target,tabindex:"0",onMouseenter:w},[createBaseVNode("i",{class:normalizeClass([r.item.icon,"layout-menuitem-icon"])},null,2),createBaseVNode("span",_hoisted_3$3,toDisplayString(r.item.label),1),r.item.items?(openBlock(),createElementBlock("i",_hoisted_4$3)):createCommentVNode("",!0)],42,_hoisted_2$6)),[[b,unref(s)&&r.root&&!d.value?r.item.label:null,void 0,{hover:!0}]]):createCommentVNode("",!0),r.item.to&&!r.item.items&&r.item.visible!==!1?withDirectives((openBlock(),createBlock(P,{key:2,onClick:I[1]||(I[1]=A=>g(A,r.item,r.index)),class:normalizeClass([r.item.class,{"active-route":C(r.item)}]),tabindex:"0",to:r.item.to,onMouseenter:w},{default:withCtx(()=>[createBaseVNode("i",{class:normalizeClass([r.item.icon,"layout-menuitem-icon"])},null,2),createBaseVNode("span",_hoisted_5$2,toDisplayString(r.item.label),1),r.item.items?(openBlock(),createElementBlock("i",_hoisted_6$2)):createCommentVNode("",!0)]),_:1},8,["class","to"])),[[b,(unref(s)||unref(l))&&r.root&&!d.value?r.item.label:null,void 0,{hover:!0}]]):createCommentVNode("",!0),r.item.items&&r.item.visible!==!1?(openBlock(),createElementBlock("ul",{key:3,ref_key:"subMenuRef",ref:p,class:normalizeClass({"layout-root-submenulist":r.root})},[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.item.items,(A,k)=>(openBlock(),createBlock(M,{key:A,index:k,item:A,parentItemKey:u.value,root:!1},null,8,["index","item","parentItemKey"]))),128))],2)):createCommentVNode("",!0)],2)}}},_hoisted_1$8={class:"layout-menu"},_hoisted_2$5=createBaseVNode("li",{class:"menu-separator"},null,-1),_sfc_main$a={__name:"AppSubMenu",props:{model:{type:Array,default:null}},setup(r){return(e,t)=>(openBlock(),createElementBlock("ul",_hoisted_1$8,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.model,(i,a)=>(openBlock(),createElementBlock(Fragment,{key:i},[createVNode(_sfc_main$b,{item:i,root:"",index:a},null,8,["item","index"]),_hoisted_2$5],64))),128))]))}},_sfc_main$9={created(){this.event_bus=new TTEventBus({component_id:this.component_id}),this.event_bus.on(this.component_id,"set_active_index",r=>{this.$refs.appSubMenu.activeIndex=r.index})},data(){return{component_id:"app_menu"}},props:{model:Array,layoutMode:String,active:Boolean,mobileMenuActive:Boolean},components:{AppSubmenu:_sfc_main$a}};function _sfc_render$9(r,e,t,i,a,o){const n=resolveComponent("AppSubmenu");return openBlock(),createBlock(n,{ref:"appSubMenu",id:"main-menu",class:"layout-menu layout-main-menu clearfix",model:t.model,layoutMode:t.layoutMode,menuActive:t.active,root:!1,parentMenuItemActive:!0,mobileMenuActive:t.mobileMenuActive},null,8,["model","layoutMode","menuActive","mobileMenuActive"])}const TTAppMenu=_export_sfc(_sfc_main$9,[["render",_sfc_render$9]]),_sfc_main$8={name:"TTMenuSearch",props:{model:Array,search:String},data(){return{terms:null,searchSuggestions:null,minLength:2}},methods:{searchMenu(r){let e=(t,i,a)=>{let o=[];for(let n=0;n<t.length;n++)t[n].parent_id&&t[n].command&&t[n].label&&t[n].label.toLowerCase().includes(r.query.toLowerCase())&&o.push(t[n]),t[n].items&&t[n].items.length>0&&(i=e(t[n].items,i,t[n].label)),n===t.length-1&&o.length>0&&a&&i.push({label:a,items:o});return i};this.searchSuggestions=e(this.model,[])},selectItem(r){r.value.command()}},components:{AutoComplete:script$6}},_withScopeId=r=>(pushScopeId("data-v-184e71df"),r=r(),popScopeId(),r),_hoisted_1$7={class:"tt-menu-search-container"},_hoisted_2$4=_withScopeId(()=>createBaseVNode("div",{class:"search-separator"},null,-1));function _sfc_render$8(r,e,t,i,a,o){const n=resolveComponent("AutoComplete");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$7,[createVNode(n,{class:"tt-menu-search",placeholder:"Search Menu",modelValue:a.terms,"onUpdate:modelValue":e[0]||(e[0]=s=>a.terms=s),suggestions:a.searchSuggestions,optionGroupLabel:"label",optionGroupChildren:"items",onComplete:e[1]||(e[1]=s=>o.searchMenu(s)),onItemSelect:e[2]||(e[2]=s=>o.selectItem(s)),field:"label",minLength:a.minLength},null,8,["modelValue","suggestions","minLength"])]),_hoisted_2$4],64)}const TTMenuSearch=_export_sfc(_sfc_main$8,[["render",_sfc_render$8],["__scopeId","data-v-184e71df"]]);let MenuManager$1=class{constructor(){this.event_bus=new TTEventBus$1({component_id:"menu_manager"}),this.menu_items=[],this.menu_locked=!1,window._main_menu=this}lockMenu(){this.menu_locked=!0}unlockMenu(){this.menu_locked=!1}isMenuLocked(){return!!this.menu_locked}addItem(e){if(this.menu_locked)return Debug.Error("Menu is built and locked. Reset menu before adding new items.","MenuManager.js","MenuManager","addItem",2),!1;if(typeof e!="object"||e===null||e===void 0)return Debug.Error("Invalid menu item","MenuManager.js","MenuManager","addItem",2),!1;if(this.menu_items.filter(t=>t.id===e.id).length!==0)return Debug.Error("Duplicate menu item. Item ID ("+e.id+") already exists in menu.","MenuManager.js","MenuManager","addItem",2),!1;e=new TTMenuItem(e),this.menu_items.push(e)}getMenu(){return this.menu_locked?this.menu_items:(Debug.Error("Menu has not been built yet. Run convertMenuItemsToPrimeVueFormat() or rebuildMenu()","MenuManager.js","MenuManager","getMenu",2),!1)}rebuildMenu(){return this.initDefaultMenuItems(),this.getMenu(),this.menu_items}convertMenuItemsToPrimeVueFormat(){if(this.menu_locked)return Debug.Error("Menu is already built and locked. Reset menu before rebuilding.","MenuManager.js","MenuManager","convertMenuItemsToPrimeVueFormat",2),!1;this.lockMenu();var e=[];this.menu_items.forEach(i=>{if(i.destination&&i.tt_link&&i.parseTTLink(),i.url_type==="view"&&i.destination?i.url=Global.getBaseURL()+"#!m="+i.destination:i.url_type==="sub_view"&&i.destination?i.url=Global.getBaseURL()+"#!m=Home&sm="+i.destination:!i.url&&i.destination&&(i.url=Global.getBaseURL()+"#!m=Home"),i.permission_result===!1)return!1;if(e.filter(o=>o.id===i.id).length!==0)return Debug.Error("Menu item ("+i.id+") already exists. Duplicate warning.","MenuManager.js","MenuManager","convertMenuItemsToPrimeVueFormat",2),!1;if(i.hide_in_main_menu&&(i.visible=!1),i.parent_id){var a=this.menu_items.filter(o=>o.id===i.parent_id);a.length===1?(a[0].items=a[0].items||[],a[0].items.push(i)):Debug.Error("Menu group ("+i.parent_id+") for ("+i.id+") does not exist or there are duplicates. Check addItem() ordering, as group must be added to menu before items can be added.","MenuManager.js","MenuManager","convertMenuItemsToPrimeVueFormat",2)}else e.push(i)});var t=e.filter(i=>{i.items&&(i.items=i.items.filter((s,l,c)=>!(s.parent_id&&!s.destination&&!s.separator&&(!s.items||s.items.every(m=>m.separator))||s.separator&&(l===0||l===c.length-1||c[l-1].separator))));var a=!!(i.items!==void 0&&i.items.length!==0&&i.items.some(s=>!s.separator)),o=!!i.destination,n=!!i.separator;return a||o||n});this.menu_items=t}initDefaultMenuItems(){this.menu_items=[],this.unlockMenu(),this.addItem({label:jQuery.i18n._("Dashboard"),id:"home",order:1e3,icon:"tticon tticon-speed_black_24dp",destination:"Home",url_type:"view"}),this.addItem({label:jQuery.i18n._("Attendance"),id:"attendance_menu",order:1e5,icon:"tticon tticon-schedule_black_24dp"}),this.addItem({label:jQuery.i18n._("TimeSheet"),id:"TimeSheet",destination:"TimeSheet",url_type:"view",parent_id:"attendance_menu",sub_group_id:"attendance_attendance",permission_result:PermissionManager.checkTopLevelPermission("TimeSheet")}),this.addItem({label:jQuery.i18n._("Punches"),id:"Punches",destination:"Punches",url_type:"view",parent_id:"attendance_menu",sub_group_id:"attendance_attendance",permission_result:PermissionManager.checkTopLevelPermission("Punches")}),this.addItem({label:jQuery.i18n._("Exceptions"),id:"Exception",destination:"Exception",url_type:"view",parent_id:"attendance_menu",sub_group_id:"attendance_attendance",permission_result:PermissionManager.checkTopLevelPermission("Exception")}),this.addItem({label:jQuery.i18n._("Accrual Balances"),id:"AccrualBalance",destination:"AccrualBalance",url_type:"view",parent_id:"attendance_menu",sub_group_id:"attendance_attendance",permission_result:PermissionManager.checkTopLevelPermission("AccrualBalance")}),this.addItem({label:jQuery.i18n._("Accruals"),id:"Accrual",destination:"Accrual",url_type:"view",parent_id:"attendance_menu",sub_group_id:"attendance_attendance",permission_result:PermissionManager.checkTopLevelPermission("Accrual")}),this.addItem({id:"separator_attendance_1",parent_id:"attendance_menu",separator:!0,class:"p-menu-separator"}),this.addItem({label:jQuery.i18n._("Jobs"),id:"Job",destination:"Job",url_type:"view",parent_id:"attendance_menu",sub_group_id:"attendance_job_tracking",permission_result:PermissionManager.checkTopLevelPermission("Job")}),this.addItem({label:jQuery.i18n._("Tasks"),id:"JobItem",destination:"JobItem",url_type:"view",parent_id:"attendance_menu",sub_group_id:"attendance_job_tracking",permission_result:PermissionManager.checkTopLevelPermission("JobItem")}),this.addItem({label:jQuery.i18n._("Punch Tags"),id:"PunchTag",destination:"PunchTag",url_type:"view",parent_id:"attendance_menu",sub_group_id:"attendance_job_tracking",permission_result:PermissionManager.checkTopLevelPermission("PunchTag")}),this.addItem({label:jQuery.i18n._("GEO Fences"),id:"attendance_GEOFence",destination:"GEOFence",url_type:"view",parent_id:"attendance_menu",sub_group_id:"attendance_job_tracking",permission_result:PermissionManager.checkTopLevelPermission("GEOFence")}),this.addItem({label:jQuery.i18n._("Job Groups"),id:"JobGroup",destination:"JobGroup",url_type:"view",parent_id:"attendance_menu",sub_group_id:"attendance_job_tracking",permission_result:PermissionManager.checkTopLevelPermission("JobGroup")}),this.addItem({label:jQuery.i18n._("Task Groups"),id:"JobItemGroup",destination:"JobItemGroup",url_type:"view",parent_id:"attendance_menu",sub_group_id:"attendance_job_tracking",permission_result:PermissionManager.checkTopLevelPermission("JobItemGroup")}),this.addItem({label:jQuery.i18n._("Punch Tag Groups"),id:"PunchTagGroup",destination:"PunchTagGroup",url_type:"view",parent_id:"attendance_menu",sub_group_id:"attendance_job_tracking",permission_result:PermissionManager.checkTopLevelPermission("PunchTagGroup")}),this.addItem({label:jQuery.i18n._("Schedule"),id:"schedule_menu",icon:"tticon tticon-calendar_today_black_24dp"}),this.addItem({label:jQuery.i18n._("Schedules"),id:"Schedule",destination:"Schedule",url_type:"view",parent_id:"schedule_menu",sub_group_id:"attendance_schedule",permission_result:PermissionManager.checkTopLevelPermission("Schedule")}),this.addItem({label:jQuery.i18n._("Scheduled Shifts"),id:"ScheduleShift",destination:"ScheduleShift",url_type:"view",parent_id:"schedule_menu",sub_group_id:"attendance_schedule",permission_result:PermissionManager.checkTopLevelPermission("ScheduleShift")}),this.addItem({label:jQuery.i18n._("Recurring Schedules"),id:"RecurringScheduleControl",destination:"RecurringScheduleControl",url_type:"view",parent_id:"schedule_menu",sub_group_id:"attendance_schedule",permission_result:PermissionManager.checkTopLevelPermission("RecurringScheduleControl")}),this.addItem({label:jQuery.i18n._("Recurring Templates"),id:"RecurringScheduleTemplateControl",destination:"RecurringScheduleTemplateControl",url_type:"view",parent_id:"schedule_menu",sub_group_id:"attendance_schedule",permission_result:PermissionManager.checkTopLevelPermission("RecurringScheduleTemplateControl")}),this.addItem({label:jQuery.i18n._("Employee"),id:"employee_menu",icon:"tticon tticon-people_alt_black_24dp"}),this.addItem({label:jQuery.i18n._("Employees"),id:"Employee",destination:"Employee",url_type:"view",parent_id:"employee_menu",sub_group_id:"employee_employee",permission_result:PermissionManager.checkTopLevelPermission("Employee")}),this.addItem({label:jQuery.i18n._("Employee Contacts"),id:"UserContact",destination:"UserContact",url_type:"view",parent_id:"employee_menu",sub_group_id:"employee_employee",permission_result:PermissionManager.checkTopLevelPermission("UserContact")}),this.addItem({label:jQuery.i18n._("Preferences"),id:"UserPreference",destination:"UserPreference",url_type:"view",parent_id:"employee_menu",sub_group_id:"employee_employee",permission_result:PermissionManager.checkTopLevelPermission("UserPreference")}),this.addItem({label:jQuery.i18n._("Wages"),id:"Wage",destination:"Wage",url_type:"view",parent_id:"employee_menu",sub_group_id:"employee_employee",permission_result:PermissionManager.checkTopLevelPermission("Wage")}),this.addItem({label:jQuery.i18n._("Pay Methods"),id:"RemittanceDestinationAccount",destination:"RemittanceDestinationAccount",url_type:"view",parent_id:"employee_menu",sub_group_id:"employee_employee",permission_result:PermissionManager.checkTopLevelPermission("RemittanceDestinationAccount")}),this.addItem({label:jQuery.i18n._("Titles"),id:"UserTitle",destination:"UserTitle",url_type:"view",parent_id:"employee_menu",sub_group_id:"employee_employee",permission_result:PermissionManager.checkTopLevelPermission("UserTitle")}),this.addItem({label:jQuery.i18n._("Employee Groups"),id:"UserGroup",destination:"UserGroup",url_type:"view",parent_id:"employee_menu",sub_group_id:"employee_employee",permission_result:PermissionManager.checkTopLevelPermission("UserGroup")}),this.addItem({label:jQuery.i18n._("Ethnic Groups"),id:"EthnicGroup",destination:"EthnicGroup",url_type:"view",parent_id:"employee_menu",sub_group_id:"employee_employee",permission_result:PermissionManager.checkTopLevelPermission("EthnicGroup")}),this.addItem({label:jQuery.i18n._("New Hire Defaults"),id:"UserDefault",destination:"UserDefault",url_type:Global.getProductEdition()>10?"view":"sub_view",parent_id:"employee_menu",sub_group_id:"employee_employee",permission_result:PermissionManager.checkTopLevelPermission("UserDefault")}),this.addItem({label:jQuery.i18n._("Record of Employment"),id:"ROE",destination:"ROE",url_type:"view",parent_id:"employee_menu",sub_group_id:"employee_employee",permission_result:PermissionManager.checkTopLevelPermission("ROE")}),this.addItem({label:jQuery.i18n._("Company"),id:"company_menu",icon:"tticon tticon-business_black_24dp"}),this.addItem({label:jQuery.i18n._("Companies"),id:"Companies",destination:"Companies",url_type:"view",parent_id:"company_menu",sub_group_id:"company_company",permission_result:PermissionManager.checkTopLevelPermission("Companies")}),this.addItem({label:jQuery.i18n._("Company Information"),id:"Company",destination:"Company",url_type:"sub_view",parent_id:"company_menu",sub_group_id:"company_company",permission_result:PermissionManager.checkTopLevelPermission("Company")}),this.addItem({label:Global.getProductEdition()>=15?jQuery.i18n._("Legal Entities"):jQuery.i18n._("Legal Entity"),id:"LegalEntity",destination:"LegalEntity",url_type:"view",parent_id:"company_menu",sub_group_id:"company_company",permission_result:PermissionManager.checkTopLevelPermission("LegalEntity")}),this.addItem({label:jQuery.i18n._("Branches"),id:"Branch",destination:"Branch",url_type:"view",parent_id:"company_menu",sub_group_id:"company_company",permission_result:PermissionManager.checkTopLevelPermission("Branch")}),this.addItem({label:jQuery.i18n._("Departments"),id:"Department",destination:"Department",url_type:"view",parent_id:"company_menu",sub_group_id:"company_company",permission_result:PermissionManager.checkTopLevelPermission("Department")}),this.addItem({label:jQuery.i18n._("Hierarchy"),id:"HierarchyControl",destination:"HierarchyControl",url_type:"view",parent_id:"company_menu",sub_group_id:"company_company",permission_result:PermissionManager.checkTopLevelPermission("HierarchyControl")}),this.addItem({label:jQuery.i18n._("Secondary Wage Groups"),id:"WageGroup",destination:"WageGroup",url_type:"view",parent_id:"company_menu",sub_group_id:"company_company",permission_result:PermissionManager.checkTopLevelPermission("WageGroup")}),this.addItem({label:jQuery.i18n._("Stations"),id:"Station",destination:"Station",url_type:"view",parent_id:"company_menu",sub_group_id:"company_company",permission_result:PermissionManager.checkTopLevelPermission("Station")}),this.addItem({label:jQuery.i18n._("Permission Groups"),id:"PermissionControl",destination:"PermissionControl",url_type:"view",parent_id:"company_menu",sub_group_id:"company_company",permission_result:PermissionManager.checkTopLevelPermission("PermissionControl")}),this.addItem({label:jQuery.i18n._("Currencies"),id:"Currency",destination:"Currency",url_type:"view",parent_id:"company_menu",sub_group_id:"company_company",permission_result:PermissionManager.checkTopLevelPermission("Currency")}),this.addItem({label:jQuery.i18n._("Custom Fields"),id:"CustomField",destination:"CustomField",url_type:"view",parent_id:"company_menu",sub_group_id:"company_company",permission_result:PermissionManager.checkTopLevelPermission("CustomField")&&Global.getFeatureFlag("custom_field")==!0}),this.addItem({id:"separator_company_1",parent_id:"company_menu",separator:!0,class:"p-menu-separator"}),this.addItem({label:jQuery.i18n._("Import"),id:"ImportCSV",destination:"ImportCSV",parent_id:"company_menu",sub_group_id:"company_other",permission_result:PermissionManager.checkTopLevelPermission("ImportCSV")}),this.addItem({label:jQuery.i18n._("Quick Start"),id:"QuickStartWizard",destination:"QuickStartWizard",parent_id:"company_menu",sub_group_id:"company_other",permission_result:PermissionManager.checkTopLevelPermission("QuickStartWizard")}),this.addItem({label:jQuery.i18n._("Payroll"),id:"payroll_menu",icon:"tticon tticon-attach_money_black_24dp"}),this.addItem({label:jQuery.i18n._("Process Payroll"),id:"ProcessPayrollWizard",destination:"ProcessPayrollWizard",parent_id:"payroll_menu",sub_group_id:"payroll_payroll",permission_result:PermissionManager.checkTopLevelPermission("PayrollProcessWizard")}),this.addItem({label:jQuery.i18n._("Tax Wizard"),id:"PayrollRemittanceAgencyEventWizardController",destination:"PayrollRemittanceAgencyEventWizardController",parent_id:"payroll_menu",sub_group_id:"payroll_payroll",permission_result:PermissionManager.checkTopLevelPermission("PayrollProcessWizard")}),this.addItem({label:jQuery.i18n._("Pay Stubs"),id:"PayStub",destination:"PayStub",url_type:"view",parent_id:"payroll_menu",sub_group_id:"payroll_payroll",permission_result:PermissionManager.checkTopLevelPermission("PayStub")}),this.addItem({label:jQuery.i18n._("Pay Stub Transactions"),id:"PayStubTransaction",destination:"PayStubTransaction",url_type:"view",parent_id:"payroll_menu",sub_group_id:"payroll_payroll",permission_result:PermissionManager.checkTopLevelPermission("PayStubTransaction")}),this.addItem({label:jQuery.i18n._("Government Documents"),id:"GovernmentDocument",destination:"GovernmentDocument",url_type:"view",parent_id:"payroll_menu",sub_group_id:"payroll_payroll",permission_result:PermissionManager.checkTopLevelPermission("GovernmentDocument")}),this.addItem({label:jQuery.i18n._("Pay Periods"),id:"PayPeriods",destination:"PayPeriods",url_type:"view",parent_id:"payroll_menu",sub_group_id:"payroll_payroll",permission_result:PermissionManager.checkTopLevelPermission("PayPeriods")}),this.addItem({label:jQuery.i18n._("Pay Stub Amendments"),id:"PayStubAmendment",destination:"PayStubAmendment",url_type:"view",parent_id:"payroll_menu",sub_group_id:"payroll_payroll",permission_result:PermissionManager.checkTopLevelPermission("PayStubAmendment")}),this.addItem({label:jQuery.i18n._("Pay Period Schedules"),id:"payroll_PayPeriodSchedule",destination:"PayPeriodSchedule",url_type:"view",parent_id:"payroll_menu",sub_group_id:"payroll_payroll",permission_result:PermissionManager.checkTopLevelPermission("PayPeriodSchedule")}),this.addItem({label:jQuery.i18n._("Pay Stub Accounts"),id:"PayStubEntryAccount",destination:"PayStubEntryAccount",url_type:"view",parent_id:"payroll_menu",sub_group_id:"payroll_payroll",permission_result:PermissionManager.checkTopLevelPermission("PayStubEntryAccount")}),this.addItem({label:jQuery.i18n._("Taxes & Deductions"),id:"CompanyTaxDeduction",destination:"CompanyTaxDeduction",url_type:"view",parent_id:"payroll_menu",sub_group_id:"payroll_payroll",permission_result:PermissionManager.checkTopLevelPermission("CompanyTaxDeduction")}),this.addItem({label:jQuery.i18n._("Remittance Agencies"),id:"PayrollRemittanceAgency",destination:"PayrollRemittanceAgency",url_type:"view",parent_id:"payroll_menu",sub_group_id:"payroll_payroll",permission_result:PermissionManager.checkTopLevelPermission("PayrollRemittanceAgency")}),this.addItem({label:jQuery.i18n._("Remittance Sources"),id:"RemittanceSourceAccount",destination:"RemittanceSourceAccount",url_type:"view",parent_id:"payroll_menu",sub_group_id:"payroll_payroll",permission_result:PermissionManager.checkTopLevelPermission("RemittanceSourceAccount")}),this.addItem({label:jQuery.i18n._("Expenses"),id:"UserExpense",destination:"UserExpense",url_type:"view",parent_id:"payroll_menu",sub_group_id:"payroll_payroll",permission_result:PermissionManager.checkTopLevelPermission("UserExpense")}),this.addItem({label:jQuery.i18n._("Policy"),id:"policy_menu",icon:"tticon tticon-rule_folder_black_24dp"}),this.addItem({label:jQuery.i18n._("Policy Groups"),id:"PolicyGroup",destination:"PolicyGroup",url_type:"view",parent_id:"policy_menu",sub_group_id:"policy_building_blocks",permission_result:PermissionManager.checkTopLevelPermission("PolicyGroup")}),this.addItem({id:"separator_policy_1",parent_id:"policy_menu",separator:!0,class:"p-menu-separator"}),this.addItem({label:jQuery.i18n._("Pay Codes"),id:"PayCode",destination:"PayCode",url_type:"view",parent_id:"policy_menu",sub_group_id:"policy_building_blocks",permission_result:PermissionManager.checkTopLevelPermission("PayCode")}),this.addItem({label:jQuery.i18n._("Pay Formulas"),id:"PayFormulaPolicy",destination:"PayFormulaPolicy",url_type:"view",parent_id:"policy_menu",sub_group_id:"policy_building_blocks",permission_result:PermissionManager.checkTopLevelPermission("PayFormulaPolicy")}),this.addItem({label:jQuery.i18n._("Contributing Pay Codes"),id:"ContributingPayCodePolicy",destination:"ContributingPayCodePolicy",url_type:"view",parent_id:"policy_menu",sub_group_id:"policy_building_blocks",permission_result:PermissionManager.checkTopLevelPermission("ContributingPayCodePolicy")}),this.addItem({label:jQuery.i18n._("Contributing Shifts"),id:"ContributingShiftPolicy",destination:"ContributingShiftPolicy",url_type:"view",parent_id:"policy_menu",sub_group_id:"policy_building_blocks",permission_result:PermissionManager.checkTopLevelPermission("ContributingShiftPolicy")}),this.addItem({label:jQuery.i18n._("Accrual Accounts"),id:"AccrualPolicyAccount",destination:"AccrualPolicyAccount",url_type:"view",parent_id:"policy_menu",sub_group_id:"policy_building_blocks",permission_result:PermissionManager.checkTopLevelPermission("AccrualPolicy")}),this.addItem({label:jQuery.i18n._("Recurring Holidays"),id:"RecurringHoliday",destination:"RecurringHoliday",url_type:"view",parent_id:"policy_menu",sub_group_id:"policy_building_blocks",permission_result:PermissionManager.checkTopLevelPermission("RecurringHoliday")}),this.addItem({id:"separator_policy_2",parent_id:"policy_menu",separator:!0,class:"p-menu-separator"}),this.addItem({label:jQuery.i18n._("Schedule Policies"),id:"SchedulePolicy",destination:"SchedulePolicy",url_type:"view",parent_id:"policy_menu",sub_group_id:"policy_policy",permission_result:PermissionManager.checkTopLevelPermission("SchedulePolicy")}),this.addItem({label:jQuery.i18n._("Rounding Policies"),id:"RoundIntervalPolicy",destination:"RoundIntervalPolicy",url_type:"view",parent_id:"policy_menu",sub_group_id:"policy_policy",permission_result:PermissionManager.checkTopLevelPermission("RoundIntervalPolicy")}),this.addItem({label:jQuery.i18n._("Meal Policies"),id:"MealPolicy",destination:"MealPolicy",url_type:"view",parent_id:"policy_menu",sub_group_id:"policy_policy",permission_result:PermissionManager.checkTopLevelPermission("MealPolicy")}),this.addItem({label:jQuery.i18n._("Break Policies"),id:"BreakPolicy",destination:"BreakPolicy",url_type:"view",parent_id:"policy_menu",sub_group_id:"policy_policy",permission_result:PermissionManager.checkTopLevelPermission("BreakPolicy")}),this.addItem({label:jQuery.i18n._("Regular Time  Policies"),id:"RegularTimePolicy",destination:"RegularTimePolicy",url_type:"view",parent_id:"policy_menu",sub_group_id:"policy_policy",permission_result:PermissionManager.checkTopLevelPermission("RegularTimePolicy")}),this.addItem({label:jQuery.i18n._("Overtime Policies"),id:"OvertimePolicy",destination:"OvertimePolicy",url_type:"view",parent_id:"policy_menu",sub_group_id:"policy_policy",permission_result:PermissionManager.checkTopLevelPermission("OvertimePolicy")}),this.addItem({label:jQuery.i18n._("Premium Policies"),id:"PremiumPolicy",destination:"PremiumPolicy",url_type:"view",parent_id:"policy_menu",sub_group_id:"policy_policy",permission_result:PermissionManager.checkTopLevelPermission("PremiumPolicy")}),this.addItem({label:jQuery.i18n._("Exception Policies"),id:"ExceptionPolicyControl",destination:"ExceptionPolicyControl",url_type:"view",parent_id:"policy_menu",sub_group_id:"policy_policy",permission_result:PermissionManager.checkTopLevelPermission("ExceptionPolicyControl")}),this.addItem({label:jQuery.i18n._("Accrual Policies"),id:"AccrualPolicy",destination:"AccrualPolicy",url_type:"view",parent_id:"policy_menu",sub_group_id:"policy_policy",permission_result:PermissionManager.checkTopLevelPermission("AccrualPolicy")}),this.addItem({label:jQuery.i18n._("Absence Policies"),id:"AbsencePolicy",destination:"AbsencePolicy",url_type:"view",parent_id:"policy_menu",sub_group_id:"policy_policy",permission_result:PermissionManager.checkTopLevelPermission("AbsencePolicy")}),this.addItem({label:jQuery.i18n._("Expense Policies"),id:"ExpensePolicy",destination:"ExpensePolicy",url_type:"view",parent_id:"policy_menu",sub_group_id:"policy_policy",permission_result:PermissionManager.checkTopLevelPermission("ExpensePolicy")}),this.addItem({label:jQuery.i18n._("Holiday Policies"),id:"HolidayPolicy",destination:"HolidayPolicy",url_type:"view",parent_id:"policy_menu",sub_group_id:"policy_policy",permission_result:PermissionManager.checkTopLevelPermission("HolidayPolicy")}),this.addItem({label:jQuery.i18n._("Invoice"),id:"invoice_menu",icon:"tticon tticon-receipt_long_black_24dp"}),this.addItem({label:jQuery.i18n._("Clients"),id:"Client",destination:"Client",url_type:"view",parent_id:"invoice_menu",sub_group_id:"invoice_invoice",permission_result:PermissionManager.checkTopLevelPermission("Client")}),this.addItem({label:jQuery.i18n._("Client Contacts"),id:"ClientContact",destination:"ClientContact",url_type:"view",parent_id:"invoice_menu",sub_group_id:"invoice_invoice",permission_result:PermissionManager.checkTopLevelPermission("ClientContact")}),this.addItem({label:jQuery.i18n._("Invoices"),id:"Invoice",destination:"Invoice",url_type:"view",parent_id:"invoice_menu",sub_group_id:"invoice_invoice",permission_result:PermissionManager.checkTopLevelPermission("Invoice")}),this.addItem({label:jQuery.i18n._("Transactions"),id:"InvoiceTransaction",destination:"InvoiceTransaction",url_type:"view",parent_id:"invoice_menu",sub_group_id:"invoice_invoice",permission_result:PermissionManager.checkTopLevelPermission("InvoiceTransaction")}),this.addItem({label:jQuery.i18n._("Payment Methods"),id:"ClientPayment",destination:"ClientPayment",url_type:"view",parent_id:"invoice_menu",sub_group_id:"invoice_invoice",permission_result:PermissionManager.checkTopLevelPermission("ClientPayment")}),this.addItem({label:jQuery.i18n._("Products"),id:"Product",destination:"Product",url_type:"view",parent_id:"invoice_menu",sub_group_id:"invoice_invoice",permission_result:PermissionManager.checkTopLevelPermission("Product")}),this.addItem({label:jQuery.i18n._("Districts"),id:"InvoiceDistrict",destination:"InvoiceDistrict",url_type:"view",parent_id:"invoice_menu",sub_group_id:"invoice_invoice",permission_result:PermissionManager.checkTopLevelPermission("InvoiceDistrict")}),this.addItem({id:"separator_invoice_1",parent_id:"invoice_menu",separator:!0,class:"p-menu-separator"}),this.addItem({label:jQuery.i18n._("Client Groups"),id:"ClientGroup",destination:"ClientGroup",url_type:"view",parent_id:"invoice_menu",sub_group_id:"invoice_groups",permission_result:PermissionManager.checkTopLevelPermission("Client")}),this.addItem({label:jQuery.i18n._("Product Groups"),id:"ProductGroup",destination:"ProductGroup",url_type:"view",parent_id:"invoice_menu",sub_group_id:"invoice_groups",permission_result:PermissionManager.checkTopLevelPermission("Product")}),this.addItem({id:"separator_invoice_2",parent_id:"invoice_menu",separator:!0,class:"p-menu-separator"}),this.addItem({label:jQuery.i18n._("Tax Policies"),id:"TaxPolicy",destination:"TaxPolicy",url_type:"view",parent_id:"invoice_menu",sub_group_id:"invoice_policies",permission_result:PermissionManager.checkTopLevelPermission("TaxPolicy")}),this.addItem({label:jQuery.i18n._("Shipping Policies"),id:"ShippingPolicy",destination:"ShippingPolicy",url_type:"view",parent_id:"invoice_menu",sub_group_id:"invoice_policies",permission_result:PermissionManager.checkTopLevelPermission("ShippingPolicy")}),this.addItem({label:jQuery.i18n._("Area Policies"),id:"AreaPolicy",destination:"AreaPolicy",url_type:"view",parent_id:"invoice_menu",sub_group_id:"invoice_policies",permission_result:PermissionManager.checkTopLevelPermission("AreaPolicy")}),this.addItem({id:"separator_invoice_3",parent_id:"invoice_menu",separator:!0,class:"p-menu-separator"}),this.addItem({label:jQuery.i18n._("Payment Gateway"),id:"PaymentGateway",destination:"PaymentGateway",url_type:"view",parent_id:"invoice_menu",sub_group_id:"invoice_settings",permission_result:PermissionManager.checkTopLevelPermission("PaymentGateway")}),this.addItem({label:jQuery.i18n._("Settings"),id:"InvoiceConfig",destination:"InvoiceConfig",url_type:"sub_view",parent_id:"invoice_menu",sub_group_id:"invoice_settings",permission_result:PermissionManager.checkTopLevelPermission("InvoiceConfig")}),this.addItem({label:jQuery.i18n._("HR"),id:"hr_menu",icon:"tticon tticon-business_center_black_24dp"}),this.addItem({label:jQuery.i18n._("Reviews"),id:"UserReviewControl",destination:"UserReviewControl",url_type:"view",parent_id:"hr_menu",sub_group_id:"hr_reviews",permission_result:PermissionManager.checkTopLevelPermission("UserReviewControl")}),this.addItem({label:jQuery.i18n._("KPI"),id:"KPI",destination:"KPI",url_type:"view",parent_id:"hr_menu",sub_group_id:"hr_reviews",permission_result:PermissionManager.checkTopLevelPermission("KPI")}),this.addItem({label:jQuery.i18n._("KPI Groups"),id:"KPIGroup",destination:"KPIGroup",url_type:"view",parent_id:"hr_menu",sub_group_id:"hr_reviews",permission_result:PermissionManager.checkTopLevelPermission("KPIGroup")}),this.addItem({id:"separator_hr_1",parent_id:"hr_menu",separator:!0,class:"p-menu-separator"}),this.addItem({label:jQuery.i18n._("Qualifications"),id:"Qualification",destination:"Qualification",url_type:"view",parent_id:"hr_menu",sub_group_id:"hr_qualifications",permission_result:PermissionManager.checkTopLevelPermission("Qualification")}),this.addItem({label:jQuery.i18n._("Qualification Groups"),id:"QualificationGroup",destination:"QualificationGroup",url_type:"view",parent_id:"hr_menu",sub_group_id:"hr_qualifications",permission_result:PermissionManager.checkTopLevelPermission("QualificationGroup")}),this.addItem({label:jQuery.i18n._("Skills"),id:"UserSkill",destination:"UserSkill",url_type:"view",parent_id:"hr_menu",sub_group_id:"hr_qualifications",permission_result:PermissionManager.checkTopLevelPermission("UserSkill")}),this.addItem({label:jQuery.i18n._("Education"),id:"UserEducation",destination:"UserEducation",url_type:"view",parent_id:"hr_menu",sub_group_id:"hr_qualifications",permission_result:PermissionManager.checkTopLevelPermission("UserEducation")}),this.addItem({label:jQuery.i18n._("Memberships"),id:"UserMembership",destination:"UserMembership",url_type:"view",parent_id:"hr_menu",sub_group_id:"hr_qualifications",permission_result:PermissionManager.checkTopLevelPermission("UserMembership")}),this.addItem({label:jQuery.i18n._("Licenses"),id:"UserLicense",destination:"UserLicense",url_type:"view",parent_id:"hr_menu",sub_group_id:"hr_qualifications",permission_result:PermissionManager.checkTopLevelPermission("UserLicense")}),this.addItem({label:jQuery.i18n._("Languages"),id:"UserLanguage",destination:"UserLanguage",url_type:"view",parent_id:"hr_menu",sub_group_id:"hr_qualifications",permission_result:PermissionManager.checkTopLevelPermission("UserLanguage")}),this.addItem({label:jQuery.i18n._("Recruitment"),id:"recruitment_menu",icon:"tticon tticon-switch_account_black_24dp"}),this.addItem({label:jQuery.i18n._("Job Vacancies"),id:"JobVacancy",destination:"JobVacancy",url_type:"view",parent_id:"recruitment_menu",sub_group_id:"hr_recruitment",permission_result:PermissionManager.checkTopLevelPermission("JobVacancy")}),this.addItem({label:jQuery.i18n._("Job Applicants"),id:"JobApplicant",destination:"JobApplicant",url_type:"view",parent_id:"recruitment_menu",sub_group_id:"hr_recruitment",permission_result:PermissionManager.checkTopLevelPermission("JobApplicant")}),this.addItem({label:jQuery.i18n._("Job Applications"),id:"JobApplication",destination:"JobApplication",url_type:"view",parent_id:"recruitment_menu",sub_group_id:"hr_recruitment",permission_result:PermissionManager.checkTopLevelPermission("JobApplication")}),this.addItem({label:jQuery.i18n._("Portal Settings"),id:"RecruitmentPortalConfig",destination:"RecruitmentPortalConfig",url_type:"sub_view",parent_id:"recruitment_menu",sub_group_id:"hr_recruitment",permission_result:PermissionManager.checkTopLevelPermission("JobApplicant")}),this.addItem({label:jQuery.i18n._("Document"),id:"document_menu",icon:"tticon tticon-feed_black_24dp"}),this.addItem({label:jQuery.i18n._("Documents"),id:"Document",destination:"Document",url_type:"view",parent_id:"document_menu",sub_group_id:"documentsGroup",permission_result:PermissionManager.checkTopLevelPermission("Document")}),this.addItem({label:jQuery.i18n._("Document Groups"),id:"DocumentGroup",destination:"DocumentGroup",url_type:"view",parent_id:"document_menu",sub_group_id:"documentsGroup",permission_result:PermissionManager.checkTopLevelPermission("DocumentGroup")}),this.addItem({label:jQuery.i18n._("Report"),id:"report_menu",icon:"tticon tticon-show_chart_black_24dp"}),this.addItem({label:jQuery.i18n._("Saved Reports"),id:"report_saved_reports",destination:"SavedReport",url_type:"view",tt_link:{type:"view"},parent_id:"report_menu",permission_result:PermissionManager.checkTopLevelPermission("SavedReport")}),this.addItem({id:"separator_report_saved_reports_1",parent_id:"report_menu",separator:!0,class:"p-menu-separator"}),this.addItem({label:jQuery.i18n._("Employee Reports"),id:"report_employee_reports",parent_id:"report_menu"}),this.addItem({label:jQuery.i18n._("Whos In Summary"),id:"ActiveShiftReport",destination:"ActiveShiftReport",url_type:"sub_view",tt_link:{type:"report"},parent_id:"report_employee_reports",permission_result:PermissionManager.checkTopLevelPermission("ActiveShiftReport")}),this.addItem({label:jQuery.i18n._("Employee Information"),id:"UserSummaryReport",destination:"UserSummaryReport",url_type:"sub_view",tt_link:{type:"report"},parent_id:"report_employee_reports",permission_result:PermissionManager.checkTopLevelPermission("UserSummaryReport")}),this.addItem({label:jQuery.i18n._("Audit Trail"),id:"AuditTrailReport",destination:"AuditTrailReport",url_type:"sub_view",tt_link:{type:"report"},parent_id:"report_employee_reports",permission_result:PermissionManager.checkTopLevelPermission("AuditTrailReport")}),this.addItem({label:jQuery.i18n._("TimeSheet Reports"),id:"report_timesheet_reports",parent_id:"report_menu"}),this.addItem({label:jQuery.i18n._("Schedule Summary"),id:"ScheduleSummaryReport",destination:"ScheduleSummaryReport",url_type:"sub_view",tt_link:{type:"report"},parent_id:"report_timesheet_reports",permission_result:PermissionManager.checkTopLevelPermission("ScheduleSummaryReport")}),this.addItem({label:jQuery.i18n._("TimeSheet Summary"),id:"TimesheetSummaryReport",destination:"TimesheetSummaryReport",url_type:"sub_view",tt_link:{type:"report"},parent_id:"report_timesheet_reports",permission_result:PermissionManager.checkTopLevelPermission("TimesheetSummaryReport")}),this.addItem({label:jQuery.i18n._("TimeSheet Detail"),id:"TimesheetDetailReport",destination:"TimesheetDetailReport",url_type:"sub_view",tt_link:{type:"report"},parent_id:"report_timesheet_reports",permission_result:PermissionManager.checkTopLevelPermission("TimesheetDetailReport")}),this.addItem({label:jQuery.i18n._("Punch Summary"),id:"PunchSummaryReport",destination:"PunchSummaryReport",url_type:"sub_view",tt_link:{type:"report"},parent_id:"report_timesheet_reports",permission_result:PermissionManager.checkTopLevelPermission("PunchSummaryReport")}),this.addItem({label:jQuery.i18n._("Accrual Balance Summary"),id:"AccrualBalanceSummaryReport",destination:"AccrualBalanceSummaryReport",url_type:"sub_view",tt_link:{type:"report"},parent_id:"report_timesheet_reports",permission_result:PermissionManager.checkTopLevelPermission("AccrualBalanceSummaryReport")}),this.addItem({label:jQuery.i18n._("Exception Summary"),id:"ExceptionSummaryReport",destination:"ExceptionSummaryReport",url_type:"sub_view",tt_link:{type:"report"},parent_id:"report_timesheet_reports",permission_result:PermissionManager.checkTopLevelPermission("ExceptionSummaryReport")}),this.addItem({label:jQuery.i18n._("Payroll Reports"),id:"report_payroll_reports",parent_id:"report_menu"}),this.addItem({label:jQuery.i18n._("Pay Stub Summary"),id:"PayStubSummaryReport",destination:"PayStubSummaryReport",url_type:"sub_view",tt_link:{type:"report"},parent_id:"report_payroll_reports",permission_result:PermissionManager.checkTopLevelPermission("PayStubSummaryReport")}),this.addItem({label:jQuery.i18n._("Pay Stub Transaction Summary"),id:"PayStubTransactionSummaryReport",destination:"PayStubTransactionSummaryReport",url_type:"sub_view",tt_link:{type:"report"},parent_id:"report_payroll_reports",permission_result:PermissionManager.checkTopLevelPermission("PayStubSummaryReport")}),this.addItem({label:jQuery.i18n._("Payroll Export"),id:"PayrollExportReport",destination:"PayrollExportReport",url_type:"sub_view",tt_link:{type:"report"},parent_id:"report_payroll_reports",permission_result:PermissionManager.checkTopLevelPermission("PayrollExportReport")}),this.addItem({label:jQuery.i18n._("General Ledger Summary"),id:"GeneralLedgerSummaryReport",destination:"GeneralLedgerSummaryReport",url_type:"sub_view",tt_link:{type:"report"},parent_id:"report_payroll_reports",permission_result:PermissionManager.checkTopLevelPermission("GeneralLedgerSummaryReport")}),this.addItem({label:jQuery.i18n._("Expense Summary"),id:"ExpenseSummaryReport",destination:"ExpenseSummaryReport",url_type:"sub_view",tt_link:{type:"report"},parent_id:"report_payroll_reports",permission_result:PermissionManager.checkTopLevelPermission("ExpenseSummaryReport")}),this.addItem({label:jQuery.i18n._("Job Tracking Reports"),id:"report_job_tracking_reports",parent_id:"report_menu"}),this.addItem({label:jQuery.i18n._("Job Summary"),id:"JobSummaryReport",destination:"JobSummaryReport",url_type:"sub_view",tt_link:{type:"report"},parent_id:"report_job_tracking_reports",permission_result:PermissionManager.checkTopLevelPermission("JobSummaryReport")}),this.addItem({label:jQuery.i18n._("Job Analysis"),id:"JobAnalysisReport",destination:"JobAnalysisReport",url_type:"sub_view",tt_link:{type:"report"},parent_id:"report_job_tracking_reports",permission_result:PermissionManager.checkTopLevelPermission("JobAnalysisReport")}),this.addItem({label:jQuery.i18n._("Job Information"),id:"JobInformationReport",destination:"JobInformationReport",url_type:"sub_view",tt_link:{type:"report"},parent_id:"report_job_tracking_reports",permission_result:PermissionManager.checkTopLevelPermission("JobInformationReport")}),this.addItem({label:jQuery.i18n._("Task Information"),id:"JobItemInformationReport",destination:"JobItemInformationReport",url_type:"sub_view",tt_link:{type:"report"},parent_id:"report_job_tracking_reports",permission_result:PermissionManager.checkTopLevelPermission("JobItemInformationReport")}),this.addItem({label:jQuery.i18n._("Invoice Reports"),id:"report_invoice_reports",parent_id:"report_menu"}),this.addItem({label:jQuery.i18n._("Transaction Summary"),id:"InvoiceTransactionSummaryReport",destination:"InvoiceTransactionSummaryReport",url_type:"sub_view",tt_link:{type:"report"},parent_id:"report_invoice_reports",permission_result:PermissionManager.checkTopLevelPermission("InvoiceTransactionSummaryReport")}),this.addItem({label:jQuery.i18n._("Tax Reports"),id:"report_tax_reports",parent_id:"report_menu"}),this.addItem({label:jQuery.i18n._("Tax Summary (Generic)"),id:"TaxSummaryReport",destination:"TaxSummaryReport",url_type:"sub_view",tt_link:{type:"report"},parent_id:"report_tax_reports",permission_result:PermissionManager.checkTopLevelPermission("TaxSummaryReport")}),this.addItem({id:"separator_report_tax_reports_1",parent_id:"report_tax_reports",separator:!0,class:"p-menu-separator"}),this.addItem({label:jQuery.i18n._("Remittance Summary"),id:"RemittanceSummaryReport",destination:"RemittanceSummaryReport",url_type:"sub_view",tt_link:{type:"report"},parent_id:"report_tax_reports",permission_result:PermissionManager.checkTopLevelPermission("RemittanceSummaryReport")}),this.addItem({label:jQuery.i18n._("T4 Summary"),id:"T4SummaryReport",destination:"T4SummaryReport",url_type:"sub_view",tt_link:{type:"report"},parent_id:"report_tax_reports",permission_result:PermissionManager.checkTopLevelPermission("T4SummaryReport")}),this.addItem({label:jQuery.i18n._("T4A Summary"),id:"T4ASummaryReport",destination:"T4ASummaryReport",url_type:"sub_view",tt_link:{type:"report"},parent_id:"report_tax_reports",permission_result:PermissionManager.checkTopLevelPermission("T4ASummaryReport")}),this.addItem({id:"separator_report_tax_reports_2",parent_id:"report_tax_reports",separator:!0,class:"p-menu-separator",permission_result:PermissionManager.checkTopLevelPermission("RemittanceSummaryReport")&&PermissionManager.checkTopLevelPermission("Form941Report")}),this.addItem({label:jQuery.i18n._("US State Unemployment"),id:"USStateUnemploymentReport",destination:"USStateUnemploymentReport",url_type:"sub_view",tt_link:{type:"report"},parent_id:"report_tax_reports",permission_result:PermissionManager.checkTopLevelPermission("USStateUnemploymentReport")}),this.addItem({label:jQuery.i18n._("Form 941"),id:"Form941Report",destination:"Form941Report",url_type:"sub_view",tt_link:{type:"report"},parent_id:"report_tax_reports",permission_result:PermissionManager.checkTopLevelPermission("Form941Report")}),this.addItem({label:jQuery.i18n._("Form 940"),id:"Form940Report",destination:"Form940Report",url_type:"sub_view",tt_link:{type:"report"},parent_id:"report_tax_reports",permission_result:PermissionManager.checkTopLevelPermission("Form940Report")}),this.addItem({label:jQuery.i18n._("Form 1099-NEC"),id:"Form1099NecReport",destination:"Form1099NecReport",url_type:"sub_view",tt_link:{type:"report"},parent_id:"report_tax_reports",permission_result:PermissionManager.checkTopLevelPermission("Form1099NecReport")}),this.addItem({label:jQuery.i18n._("Form W2/W3"),id:"FormW2Report",destination:"FormW2Report",url_type:"sub_view",tt_link:{type:"report"},parent_id:"report_tax_reports",permission_result:PermissionManager.checkTopLevelPermission("FormW2Report")}),this.addItem({label:jQuery.i18n._("Affordable Care"),id:"AffordableCareReport",destination:"AffordableCareReport",url_type:"sub_view",tt_link:{type:"report"},parent_id:"report_tax_reports",permission_result:PermissionManager.checkTopLevelPermission("AffordableCareReport")}),this.addItem({label:jQuery.i18n._("US EEO"),id:"USEEOReport",destination:"USEEOReport",url_type:"sub_view",tt_link:{type:"report"},parent_id:"report_tax_reports",permission_result:PermissionManager.checkTopLevelPermission("USEEOReport")}),this.addItem({label:jQuery.i18n._("US PERS"),id:"USPERSReport",destination:"USPERSReport",url_type:"sub_view",tt_link:{type:"report"},parent_id:"report_tax_reports",permission_result:PermissionManager.checkTopLevelPermission("USPERSReport")}),this.addItem({label:jQuery.i18n._("HR Reports"),id:"report_hr_reports",parent_id:"report_menu"}),this.addItem({label:jQuery.i18n._("Qualification Summary"),id:"UserQualificationReport",destination:"UserQualificationReport",url_type:"sub_view",tt_link:{type:"report"},parent_id:"report_hr_reports",permission_result:PermissionManager.checkTopLevelPermission("UserQualificationReport")}),this.addItem({label:jQuery.i18n._("Review Summary"),id:"KPIReport",destination:"KPIReport",url_type:"sub_view",tt_link:{type:"report"},parent_id:"report_hr_reports",permission_result:PermissionManager.checkTopLevelPermission("KPIReport")}),this.addItem({label:jQuery.i18n._("Recruitment Summary"),id:"UserRecruitmentSummaryReport",destination:"UserRecruitmentSummaryReport",url_type:"sub_view",tt_link:{type:"report"},parent_id:"report_hr_reports",permission_result:PermissionManager.checkTopLevelPermission("UserRecruitmentSummaryReport")}),this.addItem({label:jQuery.i18n._("Recruitment Detail"),id:"UserRecruitmentDetailReport",destination:"UserRecruitmentDetailReport",url_type:"sub_view",tt_link:{type:"report"},parent_id:"report_hr_reports",permission_result:PermissionManager.checkTopLevelPermission("UserRecruitmentDetailReport")}),this.addItem({label:jQuery.i18n._("My Account"),id:"my_account_menu",icon:"tticon tticon-person_black_24dp",hide_in_main_menu:!0}),this.addItem({label:jQuery.i18n._("Messages"),id:"message",destination:"MessageControl",url_type:"view",parent_id:"my_account_menu",sub_group_id:"myAccountGroup",hide_in_main_menu:!0,permission_result:PermissionManager.checkTopLevelPermission("MessageControl")}),this.addItem({label:jQuery.i18n._("Requests"),id:"request",destination:"Request",url_type:"view",parent_id:"my_account_menu",sub_group_id:"myAccountGroup",hide_in_main_menu:!0,permission_result:PermissionManager.checkTopLevelPermission("Request")}),this.addItem({label:jQuery.i18n._("Expenses"),id:"LoginUserExpense",destination:"LoginUserExpense",url_type:"view",parent_id:"my_account_menu",sub_group_id:"myAccountGroup",hide_in_main_menu:!0,permission_result:PermissionManager.checkTopLevelPermission("LoginUserExpense")}),this.addItem({id:"separator_my_account_1",parent_id:"my_account_menu",separator:!0}),this.addItem({label:jQuery.i18n._("Request Authorizations"),id:"request_authorization",destination:"RequestAuthorization",url_type:"view",parent_id:"my_account_menu",sub_group_id:"authorization",hide_in_main_menu:!0,permission_result:PermissionManager.checkTopLevelPermission("RequestAuthorization")}),this.addItem({label:jQuery.i18n._("TimeSheet Authorizations"),id:"timesheet_authorization",destination:"TimeSheetAuthorization",url_type:"view",parent_id:"my_account_menu",sub_group_id:"authorization",hide_in_main_menu:!0,permission_result:PermissionManager.checkTopLevelPermission("TimeSheetAuthorization")}),this.addItem({label:jQuery.i18n._("Expense Authorizations"),id:"expense_authorization",destination:"ExpenseAuthorization",url_type:"view",parent_id:"my_account_menu",sub_group_id:"authorization",hide_in_main_menu:!0,permission_result:PermissionManager.checkTopLevelPermission("ExpenseAuthorization")}),this.addItem({id:"separator_my_account_2",parent_id:"my_account_menu",separator:!0}),this.addItem({label:jQuery.i18n._("Preferences"),id:"LoginUserPreference",destination:"LoginUserPreference",url_type:"sub_view",parent_id:"my_account_menu",sub_group_id:"myAccountGroup",hide_in_main_menu:!0,permission_result:PermissionManager.checkTopLevelPermission("LoginUserPreference")}),this.addItem({label:jQuery.i18n._("Contact Information"),id:"LoginUserContact",destination:"LoginUserContact",url_type:"sub_view",parent_id:"my_account_menu",sub_group_id:"myAccountGroup",hide_in_main_menu:!0,permission_result:PermissionManager.checkTopLevelPermission("LoginUserContact")}),this.addItem({label:jQuery.i18n._("Passwords / Security"),id:"ChangePassword",destination:"ChangePassword",url_type:"sub_view",parent_id:"my_account_menu",sub_group_id:"securityGroup",hide_in_main_menu:!0,permission_result:PermissionManager.checkTopLevelPermission("ChangePassword")}),this.addItem({id:"separator_my_account_4",parent_id:"my_account_menu",separator:!0}),this.addItem({label:jQuery.i18n._("Sign Out"),id:"Logout",icon:"tticon tticon-logout_black_24dp",destination:"Logout",parent_id:"my_account_menu",sub_group_id:"logoutGroup",hide_in_main_menu:!0,permission_result:!0}),this.addItem({label:jQuery.i18n._("Help"),id:"help_menu",icon:"tticon tticon-help_center_black_24dp",permission_result:!0,hide_in_main_menu:!0}),this.addItem({label:jQuery.i18n._("AI Assistant"),id:"AIAssistant",destination:"AIAssistant",tt_link:{type:"view_no_close"},parent_id:"help_menu",sub_group_id:"help_group",permission_result:Global.getFeatureFlag("assistant")&&PermissionManager.getPermissionLevel()>=40,hide_in_main_menu:!0}),this.addItem({label:jQuery.i18n._("Administrator Guide"),id:"AdminGuide",destination:"AdminGuide",tt_link:{type:"view_no_close"},parent_id:"help_menu",sub_group_id:"help_group",permission_result:PermissionManager.HelpMenuValidateAdmin(),hide_in_main_menu:!0}),this.addItem({label:jQuery.i18n._("Supervisor Guide"),id:"SupervisorGuide",destination:"SupervisorGuide",tt_link:{type:"view_no_close"},parent_id:"help_menu",sub_group_id:"help_group",permission_result:PermissionManager.HelpMenuValidateSupervisor(),hide_in_main_menu:!0}),this.addItem({label:jQuery.i18n._("Employee Guide"),id:"EmployeeGuide",destination:"EmployeeGuide",tt_link:{type:"view_no_close"},parent_id:"help_menu",sub_group_id:"help_group",permission_result:!0,hide_in_main_menu:!0}),this.addItem({label:jQuery.i18n._("FAQs"),id:"AdminFAQS",destination:"AdminFAQS",tt_link:{type:"view_no_close"},parent_id:"help_menu",sub_group_id:"help_group",permission_result:PermissionManager.HelpMenuValidateAdmin(),hide_in_main_menu:!0}),this.addItem({label:jQuery.i18n._("FAQs"),id:"SupervisorFAQS",destination:"SupervisorFAQS",tt_link:{type:"view_no_close"},parent_id:"help_menu",sub_group_id:"help_group",permission_result:PermissionManager.HelpMenuValidateSupervisor()&&!PermissionManager.HelpMenuValidateAdmin(),hide_in_main_menu:!0}),this.addItem({label:jQuery.i18n._("FAQs"),id:"EmployeeFAQS",destination:"EmployeeFAQS",tt_link:{type:"view_no_close"},parent_id:"help_menu",sub_group_id:"help_group",permission_result:!PermissionManager.HelpMenuValidateSupervisor()&&!PermissionManager.HelpMenuValidateAdmin(),hide_in_main_menu:!0}),this.addItem({label:jQuery.i18n._("Chat w/Support"),id:"LiveChat",destination:"LiveChat",tt_link:{type:"view_no_close"},parent_id:"help_menu",sub_group_id:"help_group",permission_result:(PermissionManager.HelpMenuValidateAdmin()||PermissionManager.HelpMenuValidateSupervisor())&&Global.getFeatureFlag("support_chat")==!0&&APIGlobal.pre_login_data.demo_mode===!1&&Global.getProductEdition()>=15,hide_in_main_menu:!0}),this.addItem({label:Global.getProductEdition()>=15?jQuery.i18n._("Email Support"):jQuery.i18n._("Community Forums"),id:"EmailHelp",destination:"EmailHelp",tt_link:{type:"view_no_close"},parent_id:"help_menu",sub_group_id:"help_group",permission_result:(PermissionManager.HelpMenuValidateAdmin()||PermissionManager.HelpMenuValidateSupervisor())&&(Global.getProductEdition()==10||APIGlobal.pre_login_data.support_email.trim()!=""),hide_in_main_menu:!0}),this.addItem({label:jQuery.i18n._("Screen Share Download"),id:"ScreenSharing",destination:"ScreenSharing",tt_link:{type:"view_no_close"},parent_id:"help_menu",sub_group_id:"help_group",permission_result:(PermissionManager.HelpMenuValidateAdmin()||PermissionManager.HelpMenuValidateSupervisor())&&Global.getFeatureFlag("support_chat")==!0&&APIGlobal.pre_login_data.demo_mode===!1&&Global.getProductEdition()>=15,hide_in_main_menu:!0}),this.addItem({label:jQuery.i18n._("Testing Sandbox"),id:"Sandbox",destination:"Sandbox",parent_id:"help_menu",sub_group_id:"help_group",permission_result:PermissionManager.HelpMenuValidateAdmin()&&Global.getProductEdition()>=15&&APIGlobal.pre_login_data.sandbox_url&&APIGlobal.pre_login_data.sandbox_url!=!1&&APIGlobal.pre_login_data.sandbox_url.length>0&&!APIGlobal.pre_login_data.sandbox,hide_in_main_menu:!0}),this.addItem({label:jQuery.i18n._("What's New"),id:"WhatsNew",destination:"WhatsNew",tt_link:{type:"view_no_close"},parent_id:"help_menu",sub_group_id:"help_group",permission_result:PermissionManager.HelpMenuValidateAdmin()||PermissionManager.HelpMenuValidateSupervisor(),hide_in_main_menu:!0}),this.addItem({label:jQuery.i18n._("About"),id:"About",destination:"About",parent_id:"help_menu",sub_group_id:"help_group",permission_result:PermissionManager.HelpMenuValidateAdmin(),hide_in_main_menu:!0}),this.addItem({label:jQuery.i18n._("UI Kit Sample"),id:"ui_kit",icon:"tticon tticon-verified_black_24dp",permission_result:APIGlobal.pre_login_data&&APIGlobal.pre_login_data.production==!1&&Global.UNIT_TEST_MODE==!0}),this.addItem({label:jQuery.i18n._("Sample List"),id:"sample_list",destination:"UIKitSample",parent_id:"ui_kit",sub_group_id:"ui_kit",permission_result:!0}),this.convertMenuItemsToPrimeVueFormat(),this.event_bus.emit("tt_topbar","profile_menu_data",{profile_menu_data:this.menu_items.find(t=>t.id==="my_account_menu").items});let e=this.menu_items.find(t=>t.id==="help_menu");e&&this.event_bus.emit("tt_topbar","help_menu_data",{help_menu_data:e.items})}openSelectView(e){var t=this;switch(Global.setUINotready(),e){case"ImportCSV":IndexViewController.openWizard("ImportCSVWizard",null,function(){LocalCacheData.current_open_primary_controller&&typeof LocalCacheData.current_open_primary_controller.search=="function"&&LocalCacheData.current_open_primary_controller.search()});break;case"QuickStartWizard":PermissionManager.checkTopLevelPermission("QuickStartWizard")&&IndexViewController.openWizard("QuickStartWizard");break;case"UserDefault":if(Global.getProductEdition()>10){s(e);break}case"InOut":case"Company":case"LoginUserContact":case"LoginUserPreference":case"ChangePassword":case"InvoiceConfig":case"RecruitmentPortalConfig":case"About":LocalCacheData.current_open_edit_only_controller&&LocalCacheData.current_open_edit_only_controller.viewId==e?LocalCacheData.current_open_edit_only_controller.setEditMenu():LocalCacheData.current_open_edit_only_controller?IndexViewController.openEditView(LocalCacheData.current_open_edit_only_controller,e):IndexViewController.openEditView(LocalCacheData.current_open_primary_controller,e);break;case"Logout":this.doLogout();break;case"AIAssistant":t.event_bus.emit("tt_topbar","open_assistant");break;case"AdminGuide":var i="https://www.timetrex.com/h?id=admin_guide&v="+LocalCacheData.getLoginData().application_version+"&e="+Global.getProductEdition();window.open(i,"_blank");break;case"SupervisorGuide":var i="https://www.timetrex.com/h?id=supervisor_guide&v="+LocalCacheData.getLoginData().application_version+"&e="+Global.getProductEdition();window.open(i,"_blank");break;case"EmployeeGuide":var i="https://www.timetrex.com/h?id=employee_guide&v="+LocalCacheData.getLoginData().application_version+"&e="+Global.getProductEdition();window.open(i,"_blank");break;case"AdminFAQS":i="https://www.timetrex.com/h?id=admin_faq&v="+LocalCacheData.getLoginData().application_version+"&e="+Global.getProductEdition(),window.open(i,"_blank");break;case"SupervisorFAQS":i="https://www.timetrex.com/h?id=supervisor_faq&v="+LocalCacheData.getLoginData().application_version+"&e="+Global.getProductEdition(),window.open(i,"_blank");break;case"EmployeeFAQS":i="https://www.timetrex.com/h?id=employee_faq&v="+LocalCacheData.getLoginData().application_version+"&e="+Global.getProductEdition(),window.open(i,"_blank");break;case"WhatsNew":i="https://www.timetrex.com/h?id=changelog&v="+LocalCacheData.getLoginData().application_version+"&e="+Global.getProductEdition(),window.open(i,"_blank");break;case"EmailHelp":Global.getProductEdition()>=15?location.href="mailto:"+APIGlobal.pre_login_data.support_email+"?subject=Company: "+LocalCacheData.getCurrentCompany().name+"&body=Company: "+LocalCacheData.getCurrentCompany().name+"  Registration Key: "+LocalCacheData.getLoginData().registration_key:(i="https://www.timetrex.com/r?id=29",window.open(i,"_blank"));break;case"LiveChat":if(APIGlobal.pre_login_data.demo_mode===!1&&Global.getProductEdition()>=15){var a=LocalCacheData.getLoginUser();if(IndexViewController.testInternetConnection(),PermissionManager.getPermissionLevel()>40)var o=setInterval(function(){is_testing_internet_connection?TAlertManager.showAlert(jQuery.i18n._("No internet connection found. Cannot use live chat support."),jQuery.i18n._("Live Chat Support")):(clearInterval(o),internet_connection_available&&a&&__vitePreload(()=>import("./live-chat-CehrdfqQ.bundle.js"),[],import.meta.url).then(function(l){window.LHCChatOptions=l.LHCChatOptions,window.openSupportChat=l.openSupportChat,window.openSupportChat()}).catch(Global.importErrorHandler))},500)}break;case"ScreenSharing":i="https://www.timetrex.com/r.php?id=quicksupport&v="+LocalCacheData.getLoginData().application_version+"&e="+Global.getProductEdition(),window.open(i,"_blank");break;case"Sandbox":if(APIGlobal.pre_login_data.sandbox_url&&APIGlobal.pre_login_data.sandbox_url.length>0){var n=LocalCacheData.getLoginUser();Global.NewSession(n.user_name,"SANDBOX",!0)}break;case"ProcessPayrollWizard":IndexViewController.openWizard("ProcessPayrollWizard",null,function(){LocalCacheData.current_open_primary_controller&&typeof LocalCacheData.current_open_primary_controller.search=="function"&&LocalCacheData.current_open_primary_controller.search()});break;case"PayrollRemittanceAgencyEventWizardController":IndexViewController.openWizardController("PayrollRemittanceAgencyEventWizardController",null,function(){LocalCacheData.current_open_primary_controller&&typeof LocalCacheData.current_open_primary_controller.search=="function"&&LocalCacheData.current_open_primary_controller.search()});break;case"ProcessTransactionsWizard":IndexViewController.openWizardController("ProcessTransactionsWizard",null,function(){LocalCacheData.current_open_primary_controller&&typeof LocalCacheData.current_open_primary_controller.search=="function"&&LocalCacheData.current_open_primary_controller.search()});break;case"LegalEntity":Global.getProductEdition()>=15?s(e):IndexViewController.openEditView(LocalCacheData.current_open_primary_controller,e,!1);break;default:s(e);break}function s(l){LocalCacheData.current_open_edit_only_controller&&LocalCacheData.current_open_edit_only_controller.viewId==l?(LocalCacheData.current_open_edit_only_controller.onCancelClick(),TTPromise.wait("base","onCancelClick",(function(){t.goToView(l)}).bind(t))):t.goToView(l)}}goToView(e,t){this.isCurrentView(e)&&t?IndexViewController.instance.router.reloadView(e):(deleteCookie("OverrideUserPreference"),e!="Login"&&location.hash=="#!m="+e&&(TTPromise.wait(),jQuery("#refreshBtn:visible").click()),Global.setURLToBrowser(Global.getBaseURL()+"#!m="+e))}isCurrentView(e){var t=Global.getBaseURL()+"#!m="+e;Debug.Text("URL: Current: "+window.location.href+" Switching To: "+t,"MenuManager.js","MenuManager","isCurrentView",10);var i=t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"(&.*)?$";return window.location.href.match(i)!==null}doLogout(){if(this.event_bus.emit("app_menu","set_active_index",{index:null}),LocalCacheData.getLogoutSettings().slo_url){TTSAML.logoutUser(LocalCacheData.getLoginUser().user_name,Global.getBaseURL("../../",!1)+"api/saml/api.php?action=slo");return}else{var e=TTAPI.APIAuthentication;typeof e.Logout<"u"&&e.Logout({onResult(){}})}Global.setAnalyticDimensions(),typeof lh_inst<"u"&&clearTimeout(lh_inst.timeoutStatuscheck),Global.Logout(),this.goToView("Login"),TAlertManager.showBrowserTopBanner()}};const MenuManager$2=new MenuManager$1;class TTMenuItem{constructor(e){return e&&e.destination&&(e.tt_link=e.tt_link||{},_.defaults(e.tt_link,{type:"view",target:"main"})),Object.keys(e).forEach(t=>{this[t]=e[t]}),this}parseTTLink(){if(!this.destination||!this.tt_link.type||!this.tt_link.target)return Debug.Error("Unable to parse TTLink without all parameters.","MenuManager.js","MenuManager","convertMenuItemsToPrimeVueFormat",2),!1;switch(this.tt_link.type){case"view":Object.assign(this,this.parseViewLink(this.destination,!0));break;case"view_no_close":Object.assign(this,this.parseViewLink(this.destination,!1));break;case"report":Object.assign(this,this.parseReportLink(this.destination));break}return!0}parseViewLink(e,t){return{command:i=>{var a;(a=i==null?void 0:i.originalEvent)==null||a.preventDefault(),t?Global.closeEditViews(function(){_main_menu.openSelectView(e)}):_main_menu.openSelectView(e)}}}parseReportLink(e){return{command:t=>{var i;(i=t==null?void 0:t.originalEvent)==null||i.preventDefault(),Global.closeEditViews(function(){if(e==="AffordableCareReport"&&!(Global.getProductEdition()>=15))TAlertManager.showAlert(Global.getUpgradeMessage());else{var a=LocalCacheData.current_open_edit_only_controller?LocalCacheData.current_open_edit_only_controller:LocalCacheData.current_open_primary_controller;IndexViewController.openReport(a,e)}})}}}parseWizardLink(e){return{command:t=>{var i;(i=t==null?void 0:t.originalEvent)==null||i.preventDefault(),Global.closeEditViews(function(){_main_menu.openSelectView(e)})}}}}const _sfc_main$7={beforeCreate(){this.main_menu=new MenuManager$1,TTPromise.add("VueMenu","waitOnLoginSuccess"),TTPromise.add("VueMenu","waitOnTopBarCreated"),TTPromise.wait("VueMenu",null,()=>{this.main_menu.initDefaultMenuItems(),this.menu_model=this.main_menu.getMenu()})},created(){this.event_bus=new TTEventBus({component_id:this.component_id}),this.event_bus.on(this.component_id,"rebuild_menu",()=>{this.rebuildMenu()}),this.event_bus.on(this.component_id,"reset_slim_offsets",()=>{this.resetSlimSubmenuOffsets()}),this.event_bus.on("global","reset_vue_data",()=>{this.resetData()})},data(){return{component_id:"tt_left_container",menuActive:!1,application_name:window.APPLICATION_NAME,copyright_notice:APIGlobal.pre_login_data.copyright_notice,menu_model:[{label:"Navigation",items:[{label:"Update Menu",icon:"pi pi-fw pi-refresh",command:this.rebuildMenu}]}],disable_feedback:APIGlobal.pre_login_data.disable_feedback}},props:{isMenuVisible:Boolean,layoutMode:String,staticMenuMobileActive:Boolean},computed:{menu_model_for_layout_mode(){let r=null;return this.layoutMode==="static"||this.layoutMode==="overlay"?(r={label:"Navigation",icon:"pi pi-home",items:[]},r.items=this.menu_model,[r]):this.menu_model}},methods:{resetData(){Object.assign(this.$data,this.$options.data())},rebuildMenu(){this.menu_model=this.main_menu.rebuildMenu()},isSubMenuClick(r){var e;return((e=r==null?void 0:r.target)==null?void 0:e.closest(".layout-root-submenulist"))!==null},onMenuClick(r){if(this.$emit("menu-click",r),this.layoutMode==="slim"){let e=document.querySelector(".layout-main-menu .active-menuitem .layout-root-submenulist");if(e&&(!this.isSubMenuClick(r)&&r.target.closest("a")&&(e.style.top=r.target.closest("a").getBoundingClientRect().top-50+"px"),e.getBoundingClientRect().bottom>window.innerHeight)){let t=e.offsetHeight;e.style.top=`calc(100% - ${t}px - 10px)`}}else if(this.layoutMode==="horizontal"&&!this.isSubMenuClick(r)){let e=document.querySelector(".layout-main-menu .active-menuitem .layout-root-submenulist");e&&r.target.closest("a")&&(e.style.top=r.target.closest("a").getBoundingClientRect().top-10+"px")}else(this.layoutMode==="static"||this.layoutMode==="overlay")&&setTimeout(()=>{Global.isVerticalScrollBarRequired(this.$refs["layout-menu-content"])?this.toggleScrollBar(!0):this.toggleScrollBar(!1)},250)},onRootMenuItemClick(r){this.$emit("root-menuitem-click",r)},onTopbarItemClick(r){this.$emit("topbar-item-click",r)},onMenuContentMouseOver(){Global.isVerticalScrollBarRequired(this.$refs["layout-menu-content"])?this.toggleScrollBar(!0):this.toggleScrollBar(!1)},onMenuContentMouseLeave(){this.toggleScrollBar(!1)},toggleScrollBar(r){r==!0||Global.UNIT_TEST_MODE==!0?(this.$refs["layout-menu-content"].style.maskPosition="left top",this.$refs["layout-menu-content"].style.webkitMaskPosition="left top"):(this.$refs["layout-menu-content"].style.maskPosition="left bottom",this.$refs["layout-menu-content"].style.webkitMaskPosition="left bottom")},resetSlimSubmenuOffsets(){let r=document.querySelector(".layout-main-menu"),e=null;for(let t=0;t<r.childNodes.length;t++)r.children[t]&&r.children[t].children[1]&&(e=r.children[t].children[1],e.style.top="",e.style.maxHeight="",e.style.overflowY="")}},components:{TTAppMenu,TTMenuSearch,ProgressBar:script$7}},_hoisted_1$6={class:"layout-menu-footer"},_hoisted_2$3={class:"layout-menu-footer-content"},_hoisted_3$2=createBaseVNode("a",{id:"copy_right_logo_link",class:"copy-right-logo-link",target:"_blank"},[createBaseVNode("img",{id:"copy_right_logo",class:"copy-right-logo"})],-1),_hoisted_4$2={class:"signal-copyright-container"},_hoisted_5$1=createBaseVNode("div",null,[createBaseVNode("ul",{class:"signal-strength"},[createBaseVNode("li",{class:"signal-strength-very-weak"},[createBaseVNode("div")]),createBaseVNode("li",{class:"signal-strength-weak"},[createBaseVNode("div")]),createBaseVNode("li",{class:"signal-strength-strong"},[createBaseVNode("div")]),createBaseVNode("li",{class:"signal-strength-pretty-strong"},[createBaseVNode("div")])])],-1),_hoisted_6$1={class:"copyright-container"},_hoisted_7=["innerHTML"],_hoisted_8={key:0,id:"feedbackLinkContainer",class:"feedback-link-container"},_hoisted_9={id:"feedback-link"};function _sfc_render$7(r,e,t,i,a,o){const n=resolveComponent("TTMenuSearch"),s=resolveComponent("TTAppMenu");return openBlock(),createBlock(Transition,{name:"layout-menu-container"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{class:"layout-menu-container",onClick:e[2]||(e[2]=(...l)=>o.onMenuClick&&o.onMenuClick(...l))},[t.layoutMode==="static"?(openBlock(),createBlock(n,{key:0,model:o.menu_model_for_layout_mode},null,8,["model"])):createCommentVNode("",!0),createBaseVNode("div",{ref:"layout-menu-content",class:"layout-menu-content",onMouseover:e[0]||(e[0]=(...l)=>o.onMenuContentMouseOver&&o.onMenuContentMouseOver(...l)),onMouseleave:e[1]||(e[1]=(...l)=>o.onMenuContentMouseLeave&&o.onMenuContentMouseLeave(...l))},[(openBlock(),createBlock(s,{key:"appmsenu",model:o.menu_model_for_layout_mode,layoutMode:t.layoutMode,active:a.menuActive,mobileMenuActive:t.staticMenuMobileActive,onRootMenuitemClick:o.onRootMenuItemClick},null,8,["model","layoutMode","active","mobileMenuActive","onRootMenuitemClick"])),createBaseVNode("div",_hoisted_1$6,[createBaseVNode("div",_hoisted_2$3,[_hoisted_3$2,createBaseVNode("div",_hoisted_4$2,[_hoisted_5$1,createBaseVNode("div",_hoisted_6$1,[createBaseVNode("span",{innerHTML:a.copyright_notice,id:"copy_right_info_1",class:"copy-right-info",style:{display:"none"}},null,8,_hoisted_7)])]),a.disable_feedback===!1?(openBlock(),createElementBlock("div",_hoisted_8,[createBaseVNode("span",_hoisted_9,"Send feedback to "+toDisplayString(a.application_name),1)])):createCommentVNode("",!0)])])],544)],512),[[vShow,t.isMenuVisible]])]),_:1})}const TTLeftContainer=_export_sfc(_sfc_main$7,[["render",_sfc_render$7]]),{layoutConfig,layoutState,isSidebarActive}=useLayout(),_sfc_main$6={created(){this.event_bus=new TTEventBus({component_id:this.component_id}),this.event_bus.on("global","reset_vue_data",this.resetData),this.event_bus.on(this.component_id,"get_user_saved_layout_mode",this.getSavedLayoutMode),this.event_bus.on(this.component_id,"toggle_ui",this.getSavedLayoutMode)},data(){return{component_id:"tt_main_ui",savedLayoutId:"",showUI:!0,topbarMenuActive:!1,activeTopbarItem:null,menuActive:!1,window_width:window.innerWidth,previous_layout_mode:null}},methods:{resetData(){Object.assign(this.$data,this.$options.data())},onDocumentClick(r){r.target.classList.contains("menu-button")||r.target.classList.contains("pi-bars")||(this.topbarItemClick||(this.activeTopbarItem=null,this.topbarMenuActive=!1),this.isOutsideClicked(r)&&(this.isHorizontal()||this.isSlim()||this.isOverlay())&&(layoutState.overlayMenuActive.value=!1,layoutState.overlaySubmenuActive.value=!1,layoutState.staticMenuMobileActive.value=!1,layoutState.menuHoverActive.value=!1,this.hideOverlayMenu()),this.topbarItemClick=!1,this.menuClick=!1)},isOutsideClicked(r){return!this.$refs.sidebar.contains(r==null?void 0:r.target)},onMenuClick(){this.menuClick=!0},onMenuButtonClick(r){this.menuClick=!0,this.topbarMenuActive=!1,layoutConfig.menuMode.value==="overlay"?(layoutState.overlayMenuActive.value=!layoutState.overlayMenuActive.value,layoutState.staticMenuMobileActive.value=layoutState.overlayMenuActive.value):this.isLargeWidth()?(this.event_bus.emit("app_menu","set_active_index",{index:null}),layoutConfig.menuMode.value==="slim"&&this.event_bus.emit("tt_left_container","reset_slim_offsets"),layoutConfig.menuMode.value=layoutConfig.menuMode.value==="static"?"slim":layoutConfig.menuMode.value==="slim"?"horizontal":"static",this.saveLayoutMode(layoutConfig.menuMode.value)):layoutState.staticMenuMobileActive.value=!layoutState.staticMenuMobileActive.value,this.dispatchResizeEvent(),r.preventDefault()},rebuildMenu(){LocalCacheData.getLoginUser()!==null&&setTimeout(()=>{this.event_bus.emit("tt_left_container","rebuild_menu")},15)},onTopbarMenuButtonClick(r){this.topbarItemClick=!0,this.topbarMenuActive=!this.topbarMenuActive,this.hideOverlayMenu(),r.preventDefault()},onTopbarItemClick(r){this.topbarItemClick=!0,this.activeTopbarItem===r.item?this.activeTopbarItem=null:this.activeTopbarItem=r.item,r.originalEvent.preventDefault()},isLargeWidth(){return window.innerWidth>=1131},isSmallWidth(){return window.innerWidth<=1130},isHorizontal(){return layoutConfig.menuMode.value==="horizontal"},isSlim(){return layoutConfig.menuMode.value==="slim"},isOverlay(){return layoutConfig.menuMode.value==="overlay"},hideOverlayMenu(){layoutState.overlayMenuActive.value=!1,layoutState.staticMenuMobileActive.value=!1},onMenuItemClick(r){r.item.items?this.menuClick=!0:(this.event_bus.emit(this.component_id,"reset-active-index"),this.hideOverlayMenu()),!r.item.items&&(this.isHorizontal()||this.isSlim()||this.isOverlay())&&(this.menuActive=!1)},onRootMenuItemClick(){this.menuActive=!this.menuActive},isMenuVisible(){return this.isLargeWidth()?layoutConfig.menuMode.value==="static"?!0:layoutConfig.menuMode.value==="overlay"?layoutState.overlayMenuActive.value:!0:!0},toggleConfigurator(){this.configuratorActive=!this.configuratorActive},hideConfigurator(){this.configuratorActive=!1},resizeContentLayout(){this.isHorizontal()&&setTimeout(()=>{let r=document.querySelector(".content-container-after-login");if(r)if(this.isLargeWidth()){let e=window.innerHeight-document.querySelector(".layout-menu-container ").getBoundingClientRect().bottom;r.style.height=e+"px"}else{let e=window.innerHeight-document.querySelector(".layout-topbar ").getBoundingClientRect().bottom;r.style.height=e+"px"}},15),this.window_width=window.innerWidth},dispatchResizeEvent(){setTimeout(()=>{window.dispatchEvent(new Event("resize"))},15)},saveLayoutMode(r){let e={};e.script="global_main_menu",e.name="settings",e.is_default=!1,e.data={},e.data.layout_mode=r,this.previous_layout_mode=layoutConfig.menuMode.value,this.savedLayoutId&&(e.id=this.savedLayoutId),TTAPI.APIUserGenericData.setUserGenericData(e,{onResult:function(t){t.isValid()||Debug.Error("Error: Saving user layout mode selectiin failed","TTMainUI.vue","TTMainUI","saveLayoutMode",10)}}),layoutConfig.menuMode.value=r,this.resizeContentLayout()},getSavedLayoutMode(){let r=this,e={};e.script="global_main_menu",e.name="settings",e.deleted=!1,TTAPI.APIUserGenericData.getUserGenericData({filter_data:e},{onResult:t=>{var i=t.getResult();i&&i.length>0&&i[0].data.layout_mode&&(layoutConfig.menuMode.value=i[0].data.layout_mode,this.previous_layout_mode=layoutConfig.menuMode.value,r.savedLayoutId=i[0].id),r.toggleUI(!0),r.resizeContentLayout()}})},toggleUI(r){this.showUI=r}},computed:{containerClass(){return["layout-container","layout-light",{"layout-light":layoutConfig.colorScheme.value==="light","layout-dim":layoutConfig.colorScheme.value==="dim","layout-dark":layoutConfig.colorScheme.value==="dark","layout-colorscheme-menu":layoutConfig.menuTheme.value==="colorScheme","layout-primarycolor-menu":layoutConfig.menuTheme.value==="primaryColor","layout-transparent-menu":layoutConfig.menuTheme.value==="transparent","layout-overlay":layoutConfig.menuMode.value==="overlay","layout-static":layoutConfig.menuMode.value==="static","layout-slim":layoutConfig.menuMode.value==="slim","layout-slim-plus":layoutConfig.menuMode.value==="slim-plus","layout-horizontal":layoutConfig.menuMode.value==="horizontal","layout-reveal":layoutConfig.menuMode.value==="reveal","layout-drawer":layoutConfig.menuMode.value==="drawer","layout-static-inactive":layoutState.staticMenuDesktopInactive.value&&layoutConfig.menuMode.value==="static","layout-overlay-active":layoutState.overlayMenuActive.value,"layout-mobile-active":layoutState.staticMenuMobileActive.value,"layout-sidebar-active":layoutState.sidebarActive.value,"layout-sidebar-anchored":layoutState.anchored.value,"p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]},layoutMode(){return this.window_width<=1130?(layoutConfig.menuMode.value="overlay",this.rebuildMenu()):layoutConfig.menuMode.value==="overlay"&&(layoutConfig.menuMode.value=this.previous_layout_mode,this.rebuildMenu()),layoutConfig.menuMode.value},staticMenuMobileActive(){return layoutState.staticMenuMobileActive.value}},components:{TTTopContainer,TTLeftContainer}},_hoisted_1$5={class:"layout-content"},_hoisted_2$2={class:"layout-sidebar hide-in-login",ref:"sidebar"},_hoisted_3$1={class:"layout-content-wrapper"},_hoisted_4$1={class:"layout-content-container"},_hoisted_5={key:0,class:"layout-mask"},_hoisted_6=createBaseVNode("div",{id:"tt-assistant-ui"},null,-1);function _sfc_render$6(r,e,t,i,a,o){const n=resolveComponent("Toast"),s=resolveComponent("TTTopContainer"),l=resolveComponent("TTLeftContainer"),c=resolveComponent("router-view");return withDirectives((openBlock(),createElementBlock("div",{class:normalizeClass(o.containerClass),onClick:e[0]||(e[0]=(...m)=>o.onDocumentClick&&o.onDocumentClick(...m))},[createVNode(n),createVNode(s,{class:"hide-in-login",topbarMenuActive:a.topbarMenuActive,activeTopbarItem:a.activeTopbarItem,onMenubuttonClick:o.onMenuButtonClick,onTopbarMenubuttonClick:o.onTopbarMenuButtonClick,onTopbarItemClick:o.onTopbarItemClick},null,8,["topbarMenuActive","activeTopbarItem","onMenubuttonClick","onTopbarMenubuttonClick","onTopbarItemClick"]),createBaseVNode("div",_hoisted_1$5,[createBaseVNode("div",_hoisted_2$2,[createVNode(l,{class:"hide-in-login",isMenuVisible:o.isMenuVisible(),layoutMode:o.layoutMode,onMenuitemClick:o.onMenuItemClick},null,8,["isMenuVisible","layoutMode","onMenuitemClick"])],512),createBaseVNode("div",_hoisted_3$1,[createBaseVNode("div",_hoisted_4$1,[(openBlock(),createBlock(c,{key:r.$route.fullPath}))]),o.staticMenuMobileActive?(openBlock(),createElementBlock("div",_hoisted_5)):createCommentVNode("",!0),_hoisted_6])])],2)),[[vShow,a.showUI]])}const TTMainUI=_export_sfc(_sfc_main$6,[["render",_sfc_render$6]]);var LocalCacheData$1=function(){};LocalCacheData$1.view_layout_cache={};LocalCacheData$1.i18nDic=null;LocalCacheData$1.ui_click_stack=[];LocalCacheData$1.api_stack=[];LocalCacheData$1.last_timesheet_selected_date=null;LocalCacheData$1.last_timesheet_selected_user=null;LocalCacheData$1.last_schedule_selected_date=null;LocalCacheData$1.current_open_wizard_controllers=[];LocalCacheData$1.default_filter_for_next_open_view=null;LocalCacheData$1.extra_filter_for_next_open_view=null;LocalCacheData$1.default_edit_id_for_next_open_edit_view=null;LocalCacheData$1.current_open_view_id="";LocalCacheData$1.login_error_string="";LocalCacheData$1.all_url_args={};LocalCacheData$1.current_open_primary_controller=null;LocalCacheData$1.current_open_sub_controller=null;LocalCacheData$1.current_open_edit_only_controller=null;LocalCacheData$1.current_open_report_controller=null;LocalCacheData$1.current_doing_context_action="";LocalCacheData$1.current_select_date="";LocalCacheData$1.edit_id_for_next_open_view="";LocalCacheData$1.url_args=null;LocalCacheData$1.result_cache={};LocalCacheData$1.paging_type=10;LocalCacheData$1.currentShownContextMenuName="";LocalCacheData$1.isSupportHTML5LocalCache=!1;LocalCacheData$1.loginData=null;LocalCacheData$1.currentLanguage="en_us";LocalCacheData$1.currentLanguageDic={};LocalCacheData$1.deployment_on_demand=null;LocalCacheData$1.productEditionId=null;LocalCacheData$1.applicationName=null;LocalCacheData$1.loginUser=null;LocalCacheData$1.loginUserPreference=null;LocalCacheData$1.openAwesomeBox=null;LocalCacheData$1.openAwesomeBoxColumnEditor=null;LocalCacheData$1.openRibbonNaviMenu=null;LocalCacheData$1.loadedWidgetCache={};LocalCacheData$1.loadedScriptNames={};LocalCacheData$1.permissionData=null;LocalCacheData$1.uniqueCountryArray=null;LocalCacheData$1.custom_field_data=[];LocalCacheData$1.logout_settings=[];LocalCacheData$1.currentSelectMenuId=null;LocalCacheData$1.currentSelectSubMenuId=null;LocalCacheData$1.timesheet_sub_grid_expended_dic={};LocalCacheData$1.view_min_map={};LocalCacheData$1.view_min_tab_bar=null;LocalCacheData$1.cookie_path=APIGlobal.pre_login_data.cookie_base_url;LocalCacheData$1.domain_name="";LocalCacheData$1.fullUrlParameterStr="";LocalCacheData$1.PayrollRemittanceAgencyEventWizardController=null;LocalCacheData$1.resizeable_grids=[];LocalCacheData$1.auto_fill_data=null;LocalCacheData$1.scroll_bar_width=0;LocalCacheData$1.scroll_bar_height=0;LocalCacheData$1.last_punch_time=null;LocalCacheData$1.job_queue_punch_data=null;LocalCacheData$1.feature_flag_data={};LocalCacheData$1.isStorageAvailable=function(){return LocalCacheData$1.isSupportHTML5LocalCache=!1,LocalCacheData$1.isSupportHTML5LocalCache};LocalCacheData$1.isLocalCacheExists=function(r){return LocalCacheData$1.getLocalCache(r)!==null};LocalCacheData$1.getLocalCache=function(r,e){if(LocalCacheData$1[r])return LocalCacheData$1[r];if(LocalCacheData$1.isSupportHTML5LocalCache==!0&&sessionStorage[r]){var t=sessionStorage.getItem(r);return t!=="undefined"&&e==="JSON"&&(t=JSON.parse(t)),t==="true"?t=!0:t==="false"&&(t=!1),LocalCacheData$1[r]=t,LocalCacheData$1[r]}return null};LocalCacheData$1.setLocalCache=function(r,e,t){return LocalCacheData$1.isSupportHTML5LocalCache&&(t==="JSON"?sessionStorage.setItem(r,JSON.stringify(e)):sessionStorage.setItem(r,e)),LocalCacheData$1[r]=e,!0};LocalCacheData$1.getRequiredLocalCache=function(r,e){var t=LocalCacheData$1.getLocalCache(r,e);if(t==null){try{LocalCacheData$1.getSessionID()!=""&&(Global.sendErrorReport("ERROR: Unable to get required local cache data: "+r),Global.Logout()),window.location.reload()}catch(i){console.debug("ERROR: Unable to get required local cache data: "+r),console.debug("ERROR: Unable to report error to server: "+r),console.debug(i.stack),confirm("Local cache has expired. Click OK to reload.")&&window.location.reload()}return}return t};LocalCacheData$1.getI18nDic=function(){return LocalCacheData$1.getLocalCache("i18nDic","JSON")};LocalCacheData$1.setI18nDic=function(r){LocalCacheData$1.setLocalCache("i18nDic",r,"JSON")};LocalCacheData$1.getViewMinMap=function(){return LocalCacheData$1.getLocalCache("viewMinMap","JSON")};LocalCacheData$1.setViewMinMap=function(r){LocalCacheData$1.setLocalCache("viewMinMap",r,"JSON")};LocalCacheData$1.getCopyRightInfo=function(){return LocalCacheData$1.getLocalCache("copyRightInfo")};LocalCacheData$1.setCopyRightInfo=function(r){LocalCacheData$1.setLocalCache("copyRightInfo",r)};LocalCacheData$1.getApplicationName=function(){return LocalCacheData$1.getLoginData().application_name};LocalCacheData$1.getCurrentCompany=function(){return LocalCacheData$1.getRequiredLocalCache("current_company","JSON")};LocalCacheData$1.setCurrentCompany=function(r){LocalCacheData$1.setLocalCache("current_company",r,"JSON")};LocalCacheData$1.getLoginUser=function(){return LocalCacheData$1.getLocalCache("loginUser","JSON")};LocalCacheData$1.getPortalLoginUser=function(){return LocalCacheData$1.getLocalCache("portalLoginUser","JSON")};LocalCacheData$1.setLoginUser=function(r){LocalCacheData$1.setLocalCache("loginUser",r,"JSON")};LocalCacheData$1.setPunchLoginUser=function(r){LocalCacheData$1.setLocalCache("punchLoginUser",r,"JSON")};LocalCacheData$1.getPunchLoginUser=function(){return LocalCacheData$1.getLocalCache("punchLoginUser","JSON")};LocalCacheData$1.setPortalLoginUser=function(r){LocalCacheData$1.setLocalCache("portalLoginUser",r,"JSON")};LocalCacheData$1.setPortalLoginUser=function(r){LocalCacheData$1.setLocalCache("portalLoginUser",r,"JSON")};LocalCacheData$1.getCurrentCurrencySymbol=function(){return LocalCacheData$1.getLocalCache("currentCurrencySymbol")};LocalCacheData$1.setCurrentCurrencySymbol=function(r){LocalCacheData$1.setLocalCache("currentCurrencySymbol",r)};LocalCacheData$1.getLoginUserPreference=function(){return LocalCacheData$1.getRequiredLocalCache("loginUserPreference","JSON")};LocalCacheData$1.setLoginUserPreference=function(r){LocalCacheData$1.setLocalCache("loginUserPreference",r,"JSON")};LocalCacheData$1.getPermissionData=function(){return LocalCacheData$1.getRequiredLocalCache("permissionData","JSON")};LocalCacheData$1.setPermissionData=function(r){LocalCacheData$1.setLocalCache("permissionData",r,"JSON")};LocalCacheData$1.getUniqueCountryArray=function(){return LocalCacheData$1.getRequiredLocalCache("uniqueCountryArray","JSON")};LocalCacheData$1.setUniqueCountryArray=function(r){LocalCacheData$1.setLocalCache("uniqueCountryArray",r,"JSON")};LocalCacheData$1.getCustomFieldData=function(){return LocalCacheData$1.getRequiredLocalCache("custom_field_data","JSON")};LocalCacheData$1.setCustomFieldData=function(r){LocalCacheData$1.setLocalCache("custom_field_data",r,"JSON")};LocalCacheData$1.getLogoutSettings=function(){return LocalCacheData$1.getRequiredLocalCache("logout_settings","JSON")};LocalCacheData$1.setLogoutSettings=function(r){LocalCacheData$1.setLocalCache("logout_settings",r,"JSON")};LocalCacheData$1.getSessionID=function(){var r=LocalCacheData$1.getLocalCache(Global.getSessionIDKey());return r||(r=""),r};LocalCacheData$1.setSessionID=function(r){LocalCacheData$1.setLocalCache(Global.getSessionIDKey(),r)};LocalCacheData$1.getLoginData=function(){return LocalCacheData$1.getRequiredLocalCache("loginData","JSON")};LocalCacheData$1.setLoginData=function(r){LocalCacheData$1.setLocalCache("loginData",r,"JSON")};LocalCacheData$1.getCurrentSelectMenuId=function(){return LocalCacheData$1.getLocalCache("currentSelectMenuId")};LocalCacheData$1.setCurrentSelectMenuId=function(r){LocalCacheData$1.setLocalCache("currentSelectMenuId",r)};LocalCacheData$1.getCurrentSelectSubMenuId=function(){return LocalCacheData$1.getLocalCache("currentSelectSubMenuId")};LocalCacheData$1.setCurrentSelectSubMenuId=function(r){LocalCacheData$1.setLocalCache("currentSelectSubMenuId",r)};LocalCacheData$1.getAutoFillData=function(){return LocalCacheData$1.getLocalCache("auto_fill_data","JSON")};LocalCacheData$1.setAutoFillData=function(r){LocalCacheData$1.setLocalCache("auto_fill_data",r,"JSON")};LocalCacheData$1.setAllURLArgs=function(r){let e={};function t(a){return Global.htmlEncode(a).replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/:/g,"&#58;")}if(typeof r=="object"&&r!==null)for(var i in r)r.hasOwnProperty(i)&&r[i]!==void 0&&(Array.isArray(r[i])?e[i]=r[i].map(a=>t(a)):e[i]=t(r[i]));LocalCacheData$1.setLocalCache("all_url_args",e,"JSON")};LocalCacheData$1.getAllURLArgs=function(){return LocalCacheData$1.getLocalCache("all_url_args","JSON")};LocalCacheData$1.cleanNecessaryCache=function(){if(Debug.Text("Clearing Cache","LocalCacheData.js","LocalCacheData","cleanNecessaryCache",10),LocalCacheData$1.last_timesheet_selected_user=null,LocalCacheData$1.last_timesheet_selected_date=null,LocalCacheData$1.loadViewRequiredJSReady&&typeof ALayoutCache<"u"&&(ALayoutCache.layout_dic={}),LocalCacheData$1.view_layout_cache={},LocalCacheData$1.result_cache={},LocalCacheData$1.current_open_wizard_controllers.length>0)for(var r=0;r<LocalCacheData$1.current_open_wizard_controllers.length;r++)LocalCacheData$1.current_open_wizard_controllers[r].onCloseClick();LocalCacheData$1.current_open_wizard_controllers=[],Global.cleanViewTab()};LocalCacheData$1.getScrollbarWidth=function(){return LocalCacheData$1.getLocalCache("scroll_bar_width")};LocalCacheData$1.setScrollBarWidth=function(r){LocalCacheData$1.setLocalCache("scroll_bar_width",r)};LocalCacheData$1.getScrollbarHeight=function(){return LocalCacheData$1.getLocalCache("scroll_bar_height")};LocalCacheData$1.setScrollBarHeight=function(r){LocalCacheData$1.setLocalCache("scroll_bar_height",r)};LocalCacheData$1.getLastPunchTime=function(){return LocalCacheData$1.getLocalCache("last_punch_time")};LocalCacheData$1.setLastPunchTime=function(r){LocalCacheData$1.setLocalCache("last_punch_time",r)};LocalCacheData$1.getJobQueuePunchData=function(){return LocalCacheData$1.getLocalCache("job_queue_punch_data","JSON")};LocalCacheData$1.setJobQueuePunchData=function(r){LocalCacheData$1.setLocalCache("job_queue_punch_data",r,"JSON")};LocalCacheData$1.getFeatureFlagData=function(){return LocalCacheData$1.getLocalCache("feature_flag_data","JSON")};LocalCacheData$1.setFeatureFlagData=function(r){LocalCacheData$1.setLocalCache("feature_flag_data",r,"JSON")};LocalCacheData$1.isStorageAvailable();class TTBackboneView extends Backbone.View{constructor(e={}){_.defaults(e,{}),super(e)}initialize(e){if(e&&typeof e=="object")for(const t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}}const TTBackboneView$1=Object.freeze(Object.defineProperty({__proto__:null,TTBackboneView},Symbol.toStringTag,{value:"Module"}));class BaseWindowController extends TTBackboneView{constructor(e={}){_.defaults(e,{}),super(e)}initialize(e){super.initialize(e),this.content_div=jQuery(this.el).find(".content"),this.stepsWidgetDic={},this.stepsDataDic={},this.default_data=BaseWizardController.default_data,this.call_back=BaseWizardController.call_back,BaseWizardController.default_data=null,BaseWizardController.call_back=null,typeof this.init=="function"&&(typeof this.setDefaultDataToSteps=="function"&&this.setDefaultDataToSteps(),this.init(e),TTPromise.resolve("BaseViewController","initialize"))}render(){}preInit(){}}const BaseWindowController$1=Object.freeze(Object.defineProperty({__proto__:null,BaseWindowController},Symbol.toStringTag,{value:"Module"}));(function(r){r.fn.Paging2=function(e){var t=r.extend({},r.fn.Paging2.defaults,e),i=this,a,o,n,s,l,c,m,d,u,p;return this.getPagerData=function(){return a},this.setPagerData=function(v){if(a=v,a)r(this.css("display","block"));else{r(this.css("display","none"));return}r(c).empty();var g=a.last_page_number;if(g===-1)r(c).append('<option value="1">1</option>');else for(var h=1;h<=g;h++)r(c).append('<option value="'+h+'">'+h+"</option>");r(r(c).find("option")).filter(function(){var w=parseInt(r(this).attr("value"));return w===a.current_page}).prop("selected",!0).prop("selected",!0),a.is_last_page===!0?(d.addClass("disabled"),d.addClass("disabled-image"),p=!1):(d.removeClass("disabled"),d.removeClass("disabled-image"),p=!0),a.is_first_page?(m.addClass("disabled"),m.addClass("disabled-image"),u=!1):(m.removeClass("disabled"),m.removeClass("disabled-image"),u=!0),g===-1||a.is_first_page&&a.is_last_page?(m.addClass("disabled"),m.addClass("disabled-image"),u=!1,d.addClass("disabled"),d.addClass("disabled-image"),p=!1,i.hide()):i.show()},this.each(function(){r.meta&&r.extend({},t,r(this).data());var v=r(this).find(".page-label-span");v.text(r.i18n._("Page")),m=r(this).find(".left-buttons-div"),d=r(this).find(".right-buttons-div"),o=r(this).find(".start"),n=r(this).find(".last"),s=r(this).find(".next"),l=r(this).find(".end"),c=r(this).find(".paging-selector"),o.text(r.i18n._("Start")),n.text(r.i18n._("Previous")),s.text(r.i18n._("Next")),l.text(r.i18n._("End")),r(this).hide(),o.click(function(){u&&i.trigger("paging",["start"])}),n.click(function(){u&&i.trigger("paging",["last"])}),s.click(function(){p&&i.trigger("paging",["next"])}),l.click(function(){p&&i.trigger("paging",["end"])}),r(c).change(r.proxy(function(){r(c).find("option:selected").each(function(){var g=r(this).attr("value");i.trigger("paging",["go_to",g])})},this))}),this},r.fn.Paging2.defaults={},r.fn.Paging2.html={paging:'<div class="paging-div"><span class="paging-span">CLICK TO SHOW MORE</span></div>',paging2:`
			<div class="paging-2-div">
				<div class="left-buttons-div">
					<span class="double-left-arrow pi pi-angle-double-left" title="Start"></span>
					<span class="paging-2-span start"></span>
					<span class="left-arrow pi pi-angle-left"></span>
					<span class="paging-2-span last"></span>
				</div>
				<span class="page-label-span"></span>
				<select class="t-select paging-selector">
				</select>
				<div class="right-buttons-div">
					<span class="paging-2-span next"></span>
					<span class="right-arrow pi pi-angle-right"></span>
					<span class="paging-2-span end"></span>
					<span class="double-right-arrow pi pi-angle-double-right"></span>
				</div>
			</div>
		`}})(jQuery);const Paging2=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));window.FormItemType=FormItemType$1;window.WidgetNamesDic=WidgetNamesDic$1;let BaseViewController$1=class R extends TTBackboneView{constructor(e={}){_.defaults(e,{real_this:null,sub_view_mode:!1,edit_only_mode:!1,can_cache_controller:!0,permission_id:"",api:null,user_generic_data_api:null,all_columns:[],display_columns:[],default_display_columns:[],script_name:"",filter_data:null,temp_basic_filter_data:null,temp_adv_filter_data:null,sortData:null,select_layout:null,layout_changed:!1,search_panel:null,grid:null,context_menu_name:"",navigation_label:"",context_menu_array:[],t_grid_header_array:[],column_selector:null,sort_by_selector:null,save_search_as_input:null,previous_saved_layout_selector:null,previous_saved_layout_div:null,need_select_layout_name:"",search_fields:null,basic_search_field_ui_dic:{},adv_search_field_ui_dic:{},edit_view_ui_dic:{},edit_view_ui_validation_field_dic:{},edit_view_form_item_dic:{},edit_view_error_ui_dic:{},edit_view:null,edit_view_tab:null,current_edit_record:null,refresh_id:null,navigation:null,is_mass_editing:!1,is_viewing:!1,is_viewing_detail:!1,is_edit:!1,is_add:!1,is_report:!1,unique_columns:[],linked_fields:[],mass_edit_record_ids:[],edit_view_tabs:[],refresh_sub_view:!1,parent_key:null,parent_value:null,parent_edit_record:null,total_display_span:null,paging_widget:null,paging_widget_2:null,pager_data:null,viewId:null,init_options_complete:!1,no_result_box:null,table_name_key:null,sub_log_view_controller:null,parent_view_controller:null,ui_id:"",is_changed:!1,confirm_on_exit:!1,edit_view_tpl:"",subMenuNavMap:null,trySetGridSizeWhenTabShow:!1,copied_record_id:"",custom_field_api:null,last_select_ids:null,saving_layout_in_layout_tab:!1,need_switch_to_context_menu:!1,show_search_tab:!0,grid_total_width:null,show_warning_when_validation:!1,pulse_time_dic:!1,edit_view_close_icon:null,enable_validation:!0,tab_model:null,grid_parent:null,custom_fields:[],allow_fill_record_keys:null,auto_fill_data:null}),super(e)}preInit(){}initialize(e){Debug.Text("INITIALIZE","BaseViewController.js","BaseViewController","initialize",10),Global$1.setUINotready(),super.initialize(e),TTPromise.add("init","init"),TTPromise.add("BaseViewController","initialize"),TTPromise.wait();var t=this;this.layout_changed=!1,setTimeout(function(){if(t.preInit(e),t.options=e,t.options&&Global$1.isSet(t.options.can_cache_controller)&&(t.can_cache_controller=t.options.can_cache_controller),t.options&&Global$1.isSet(t.options.edit_only_mode)&&(t.edit_only_mode=t.options.edit_only_mode),t.options&&Global$1.isSet(t.options.sub_view_mode)?t.sub_view_mode=t.options.sub_view_mode:t.sub_view_mode=!1,t.options&&Global$1.isSet(t.options.parent_view)&&(t.parent_view=t.options.parent_view),t.options&&Global$1.isSet(t.options.parent_view_controller)&&(t.parent_view_controller=t.options.parent_view_controller),t.edit_only_mode)t.ui_id=Global$1.getRandomNum();else{t.can_cache_controller&&(t.sub_view_mode?LocalCacheData.current_open_sub_controller=t:LocalCacheData.current_open_primary_controller=t);var i=jQuery(t.el),a=i.attr("id")+"_"+Global$1.getRandomNum();i.attr("id",a),t.el="#"+a,t.ui_id=a,t.user_generic_data_api=TTAPI$1.APIUserGenericData,t.total_display_span=jQuery(jQuery(t.el).find(".total-number-span")[0]),LocalCacheData.loadViewRequiredJSReady&&(LocalCacheData.paging_type===0?t.paging_widget=Global$1.loadWidgetByName(WidgetNamesDic$1.PAGING):(t.paging_widget=Global$1.loadWidgetByName(WidgetNamesDic$1.PAGING_2),t.paging_widget_2=Global$1.loadWidgetByName(WidgetNamesDic$1.PAGING_2),t.paging_widget=t.paging_widget.Paging2(),t.paging_widget_2=t.paging_widget_2.Paging2()))}t.sub_log_view_controller=null,t.edit_view_ui_dic={},t.edit_view_ui_validation_field_dic={},t.basic_search_field_ui_dic={},t.adv_search_field_ui_dic={},t.edit_view_tabs=[],t.custom_field_api=TTAPI$1.APICustomField,t.initKeyboardEvent(),t.init(e),t.postInit(e),TTPromise.resolve("BaseViewController","initialize"),TTPromise.resolve("init","init")},1)}init(){}postInit(){}initKeyboardEvent(){var e=this;this.sub_view_mode||this.edit_only_mode||jQuery(this.el).unbind("keyup").bind("keydown",function(t){t.keyCode===13&&e.search_panel&&!e.search_panel.isCollapsed()&&(e.onSearch(),jQuery(":focus").blur())})}initPermission(){}setTotalDisplaySpan(){if(this.total_display_span){var e,t,i,a=this.getGridSelectIdArray(),o=0;if(a&&(o=a.length),LocalCacheData.getLoginUserPreference())var n=parseInt(LocalCacheData.getLoginUserPreference().items_per_page);LocalCacheData.paging_type===0?this.pager_data?(e=this.pager_data.total_rows,t=1,i=this.grid.getData().length):(e=0,t=0,i=0):this.pager_data?(e=this.pager_data.total_rows,t=0,i=0,this.pager_data.last_page_number>1?this.pager_data.is_last_page?(t=(this.pager_data.current_page-1)*n+1,i=e):(t=(this.pager_data.current_page-1)*n+1,i=t+n-1):(t=1,i=e)):(e=0,t=0,i=0);var s=t+" - "+i;e!==!1&&(s=s+" "+jQuery.i18n._("of")+" "+e+" "+jQuery.i18n._("total")+"."),this.total_display_span.text(jQuery.i18n._("Displaying")+" "+s+" [ "+jQuery.i18n._("Selected")+": "+o+" ]")}}isContextIconDisabled(e){for(var t=ContextMenuManager.getMenuModelByMenuId(this.determineContextMenuMountAttributes().id),i=t.length,a=0;a<i;a++){let o=t[a];if(t[a].id===e)return!!(o.disabled||o.hasOwnProperty("visible")&&!o.visible)}return!0}getViewModeErrorMessage(){return this.isContextIconDisabled("edit")?Global$1.view_mode_message:Global$1.view_mode_message+", "+Global$1.view_mode_edit_message}initRightClickMenu(e){if(jQuery.hasOwnProperty("contextMenu")){var t=this,i="";switch(e){case RightClickMenuType.LISTVIEW:i="#gbox_"+this.ui_id+"_grid";break;case RightClickMenuType.EDITVIEW:i="#"+this.ui_id+"_edit_view_tab";break;case RightClickMenuType.NORESULTBOX:i="#"+this.ui_id+"_no_result_box";break;case RightClickMenuType.ABSENCE_GRID:i="#"+this.ui_id+"_absence_grid";break;case RightClickMenuType.VIEW_ICON:i="#view_html";break;default:i="#gbox_"+this.ui_id+"_grid";break}if(jQuery(i).length!=0){var a=this.getRightClickMenuItems();!a||jQuery.isEmptyObject(a)||(jQuery.contextMenu("destroy",i),jQuery.contextMenu({selector:i,callback:function(o,n){t.onContextMenuClick(null,o)},onContextMenu:function(){return!1},items:a}))}}}getRightClickMenuItems(){for(var e=this,t={},i=ContextMenuManager.getMenuModelByMenuId(this.determineContextMenuMountAttributes().id),a=i.length,o=0;o<a;o++){var n=i[o];if(!(n.visible===!1||n.action_group_header||n.separator||!n.show_on_right_click)){var s=Global$1.htmlDecode(n.label.replace("<br>"," ")),l=n.id;t[l]={name:s,disabled:function(c){return e.isContextIconDisabled(c)}}}}return t}initData(){var e=this;Global$1.removeViewTab(this.viewId),ProgressBar.showOverlay(),e.edit_only_mode||(TTPromise.wait("BaseViewController","getCustomFields",function(){e.initOptions(),e.getAllColumns(function(){e.initLayout()})}),this.onSubViewModeDisableParentContextMenuButtons())}initLayout(){var e=this;e.getAllLayouts(function(){e.getDefaultDisplayColumns(function(){e.setSelectLayout(),e.search()})})}initOptions(){}determineContextMenuMountAttributes(){var e={id:null,parent_mount_point:null,menu_type:null,parent_id:null};return this.is_add||this.is_viewing||this.is_viewing_detail||this.is_edit||this.is_mass_editing||this.is_mass_adding||this.edit_only_mode||LocalCacheData.current_doing_context_action==="view_detail"||LocalCacheData.current_doing_context_action==="delete"?e=this.parseContextMenuEditViewAttributes():jQuery(this.el).parents(".edit-view-tab-outside-sub-view").length>0&&this.ui_id?e=this.parseContextMenuEditSubViewTabAttributes():this.ui_id?e=this.parseContextMenuMainViewAttributes():Debug.Error("Error: View state for "+this.viewId+" ("+this.ui_id+") does not match options.","BaseViewController.js","BaseViewController","determineContextMenuMountAttributes",1),e.id=ContextMenuManager.generateMenuId(e.menu_type,e.parent_id),e}parseContextMenuEditViewAttributes(){return this.edit_view_tab||Debug.Text("Warning: Unable to get full context menu mount data, edit_view_tab missing. Might be ok if mount point not needed. Check if buildContextMenu is not called before edit_view_tab populated (common in views overriding BaseView functions like openEditView ("+this.viewId+"/"+this.ui_id+")","BaseViewController.js","BaseViewController","parseContextMenuEditViewAttributes",10),this.ui_id||Debug.Error("Warning: Unable to get full context menu mount data, ui_id missing. ("+this.viewId+"/"+this.ui_id+")","BaseViewController.js","BaseViewController","parseContextMenuEditViewAttributes",1),{parent_mount_point:this.edit_view_tab,parent_id:this.ui_id+"_edit_view_tab",menu_type:"editview_contextmenu"}}parseContextMenuMainViewAttributes(){return this.ui_id||Debug.Error("Warning: Unable to get full context menu mount data, ui_id missing. ("+this.viewId+"/"+this.ui_id+")","BaseViewController.js","BaseViewController","parseContextMenuEditViewAttributes",1),{parent_mount_point:jQuery(this.el),parent_id:this.ui_id,menu_type:"listview_contextmenu"}}parseContextMenuEditSubViewTabAttributes(){return this.ui_id||Debug.Error("Warning: Unable to get full context menu mount data, ui_id missing. ("+this.viewId+"/"+this.ui_id+")","BaseViewController.js","BaseViewController","parseContextMenuEditViewAttributes",1),{parent_mount_point:jQuery(this.el),parent_id:this.ui_id,menu_type:"subview_contextmenu"}}getDefaultContextMenuModel(){var e={groups:{editor:{label:jQuery.i18n._("Editor"),id:"editor",sort_order:1e3},navigation:{label:jQuery.i18n._("Navigation"),id:"navigation",sort_order:8e3},other:{label:jQuery.i18n._("Other"),id:"other",sort_order:9e3}},icons:{}};return e.icons.add={label:jQuery.i18n._("New"),id:"add",group:"editor",vue_icon:"tticon tticon-add_black_24dp",show_on_right_click:!0,sort_order:1e3},e.icons.view={label:jQuery.i18n._("View"),id:"view",group:"editor",vue_icon:"tticon tticon-visibility_black_24dp",show_on_right_click:!0,sort_order:1010},e.icons.edit={label:jQuery.i18n._("Edit"),id:"edit",group:"editor",vue_icon:"tticon tticon-edit_black_24dp",show_on_right_click:!0,sort_order:1020},e.icons.mass_edit={label:jQuery.i18n._("Mass Edit"),id:"mass_edit",group:"editor",vue_icon:"tticon tticon-edit_note_black_24dp",show_on_right_click:!0,visible:!1,sort_order:1030},e.icons.delete_icon={label:jQuery.i18n._("Delete"),id:"delete_icon",action_group:"delete",group:"editor",vue_icon:"tticon tticon-delete_black_24dp",show_on_right_click:!0,sort_order:1040},e.icons.delete_and_next={label:jQuery.i18n._("Delete & Next"),id:"delete_and_next",action_group:"delete",group:"editor",vue_icon:"tticon tticon-delete_black_24dp",sort_order:1050},e.icons.copy={label:jQuery.i18n._("Copy"),id:"copy",action_group:"copy",group:"editor",vue_icon:"tticon tticon-content_copy_black_24dp",show_on_right_click:!0,sort_order:1060},e.icons.copy_as_new={label:jQuery.i18n._("Copy as New"),id:"copy_as_new",action_group:"copy",group:"editor",vue_icon:"tticon tticon-content_copy_black_24dp",show_on_right_click:!0,sort_order:1070},e.icons.save={label:jQuery.i18n._("Save"),id:"save",action_group:"save",group:"editor",vue_icon:"tticon tticon-save_black_24dp",show_on_right_click:!0,sort_order:1080},e.icons.save_and_continue={label:jQuery.i18n._("Save & Continue"),id:"save_and_continue",action_group:"save",group:"editor",vue_icon:"tticon tticon-save_black_24dp",sort_order:1090},e.icons.save_and_next={label:jQuery.i18n._("Save & Next"),id:"save_and_next",action_group:"save",group:"editor",vue_icon:"tticon tticon-save_black_24dp",sort_order:1100},e.icons.save_and_copy={label:jQuery.i18n._("Save & Copy"),id:"save_and_copy",action_group:"save",group:"editor",vue_icon:"tticon tticon-save_black_24dp",sort_order:1110},e.icons.save_and_new={label:jQuery.i18n._("Save & New"),id:"save_and_new",action_group:"save",group:"editor",vue_icon:"tticon tticon-save_black_24dp",sort_order:1120},e.icons.cancel={label:jQuery.i18n._("Cancel"),id:"cancel",group:"editor",vue_icon:"tticon tticon-cancel_black_24dp",sort_order:1130},e.icons.export_excel={label:jQuery.i18n._("Export"),id:"export_excel",menu_align:"right",action_group:"import_export",group:"other",vue_icon:"tticon tticon-file_upload_black_24dp",sort_order:9e3,menu_force_active:!0},e}getCustomContextMenuModel(){var e={groups:{},exclude:[],include:["default"]};return e}parseCustomContextModelForEditViews(e){return this.determineContextMenuMountAttributes().menu_type==="editview_contextmenu"&&e.include.push("cancel"),e}parseCustomContextModelForSubViews(e){return this.determineContextMenuMountAttributes().menu_type==="subview_contextmenu"&&e.exclude.push("cancel"),e}buildContextMenuModels(){let e=1,t=this.getCustomContextMenuModel();if(t=this.parseCustomContextModelForEditViews(t),t=this.parseCustomContextModelForSubViews(t),t&&(t.include||t.exclude)){let o=function(c){return!c.sort_order&&c.group&&(c.sort_order=a.groups[c.group].sort_order),c.add_order=e,a.icons[c.id]=c,e++,c},n=function(c){return c.map(function(m){return m.id||m})},i=this.getDefaultContextMenuModel(),a={icons:{},groups:{}};t.groups||(t.groups={}),t.include||(t.include=["default"]),t.include.indexOf("default")===-1&&t.include.unshift("default");for(let c in i.groups)i.groups[c].sub_menus=[],a.groups[c]=i.groups[c];for(let c in t.groups)t.groups[c].sub_menus=[],a.groups[c]=t.groups[c];if(t.hasOwnProperty("include")){t.include.constructor!==Array&&(t.include=Array(t.include));for(let c in t.include){let m=t.include[c];if(t.include.hasOwnProperty(c))if(m=="default"){Debug.Text("Including All Default Icons...","BaseViewController.js","BaseViewController","buildContextMenuModels",11);for(let d in i.icons)o(i.icons[d])}else typeof m!="object"&&i.icons[m]?o(i.icons[m]):o(m)}}let s=n(t.include);if(t.hasOwnProperty("exclude")){t.exclude.constructor!==Array&&(t.exclude=Array(t.exclude));for(let c in t.exclude)if(t.exclude.hasOwnProperty(c))if(t.exclude[c]=="default"){Debug.Text("Excluding All Default Icons...","BaseViewController.js","BaseViewController","buildContextMenuModels",10);for(let m in i.icons)s.indexOf(m)===-1&&a.icons[m]&&delete a.icons[m]}else{let m=t.exclude[c];a.icons[m]&&delete a.icons[m]}}let l={};for(let c in a.groups)l[c]=a.groups[c],Debug.Text("Creating Ribbon Menu Group: "+a.groups[c].label,"BaseViewController.js","BaseViewController","buildContextMenuModels",11);for(let c in a.icons)a.icons[c]&&a.icons[c].group&&(a.icons[c].group.constructor===String?a.icons[c].group=l[a.icons[c].group]:typeof a.icons[c].group=="object"&&(a.icons[c].group=l[a.icons[c].group.get("id")])),a.icons[c].hasOwnProperty("permission_result")==!1&&(a.icons[c].permission_result=!0),a.icons[c].hasOwnProperty("permission")&&(a.icons[c].permission=null),Debug.Text("Creating Ribbon Menu Icon: "+a.icons[c].label,"BaseViewController.js","BaseViewController","buildContextMenuModels",11);ContextMenuManager.buildContextMenuModelFromBackbone(this.determineContextMenuMountAttributes().id,a,this)}else Global$1.sendErrorReport("ContextMenuModel error. No valid contextmenu model defined.")}unmountContextMenu(){ContextMenuManager.unmountContextMenu(this.determineContextMenuMountAttributes().id)}buildContextMenu(e){if(this.current_edit_record&&this.edit_only_mode==!0&&LocalCacheData.current_open_edit_only_controller&&LocalCacheData.current_open_edit_only_controller.viewId!=LocalCacheData.current_open_edit_only_controller.viewId)return null;Global$1.isSet(e)||(e=!0),this.sub_view_mode?this.onSubViewModeDisableParentContextMenuButtons():LocalCacheData.current_open_sub_controller=null;let t=this.determineContextMenuMountAttributes();if(ContextMenuManager.getMenu(t.id)===void 0)if(ContextMenuManager.createAndMountMenu(t.id,t.parent_mount_point,this),t&&t.parent_mount_point){var i=t.parent_mount_point,a=this.context_menu_name;i.prepend('<span class="context-border-label">'+a+"</span>"),i.wrapInner('<div class="context-border"></div>')}else Debug.Error("Error creating context-border for "+this.viewId+" ("+t.id+"/"+this.ui_id+")","BaseViewController.js","BaseViewController","buildContextMenu",10);else Debug.Warn("Context Menu Manager ("+t.id+") already exists for: "+this.viewId+" ("+this.ui_id+")","BaseViewController.js","BaseViewController","buildContextMenu",10);this.buildContextMenuModels(),LocalCacheData.currentShownContextMenuName=this.context_menu_name?this.context_menu_name:t.parent_id}getContextMenuGroupByName(e,t,i){var a;i==null&&(i=this.viewId);for(var o=0;o<e.attributes.sub_menu_groups.length;o++)e.attributes.sub_menu_groups[o].id==i+t&&(a=e.attributes.sub_menu_groups[o]);return a}onReportMenuClick(e){}onContextMenuClick(e,t){var i;if(Global$1.isSet(t))i=t;else if(e.disabled)return;if(ProgressBar.showOverlay(),window.clickProcessing!=!0){switch(window.clickProcessing=!0,window.clickProcessingHandle=window.setTimeout(function(){window.clickProcessing==!0&&(window.clickProcessing=!1,ProgressBar.closeOverlay(),TTPromise.wait())},Global$1.calcDebounceWaitTimeBasedOnNetwork(2e3)),i){case"add":this.onAddClick();break;case"view":this.onViewClick();break;case"save":this.onSaveClick();break;case"save_and_next":this.onSaveAndNextClick();break;case"save_and_continue":this.onSaveAndContinue();break;case"save_and_new":this.onSaveAndNewClick();break;case"save_and_copy":this.onSaveAndCopy();break;case"edit":this.onEditClick();break;case"mass_edit":this.onMassEditClick();break;case"delete_icon":this.onDeleteClick();break;case"delete_and_next":this.onDeleteAndNextClick();break;case"copy":this.onCopyClick();break;case"copy_as_new":this.onCopyAsNewClick();break;case"cancel":this.onCancelClick(),ProgressBar.closeOverlay();break;case"export_excel":this.onExportClick("export"+this.api.key_name),ProgressBar.closeOverlay();break;case"map":this.onMapClick(),ProgressBar.closeOverlay();break;default:this.onCustomContextClick(i,e),ProgressBar.closeOverlay();break}Global$1.triggerAnalyticsContextMenuClick(e,t)}}onCustomContextClick(e){return!1}onNavigationClick(e){this.onContextMenuClick(e)}getCurrentAPI(){return this.api}setCurrentEditViewState(e){switch(this.is_viewing=!1,this.is_viewing_detail=!1,this.is_edit=!1,this.is_add=!1,this.is_mass_editing=!1,this.is_mass_adding=!1,e){case"view":this.is_viewing=!0;break;case"view_detail":this.is_viewing_detail=!0;break;case"new":this.is_add=!0;break;case"edit":this.is_edit=!0;break;case"mass_edit":this.is_mass_editing=!0;break}LocalCacheData.previous_doing_context_action=LocalCacheData.current_doing_context_action,LocalCacheData.current_doing_context_action=e}revertEditViewState(){this.setCurrentEditViewState(LocalCacheData.previous_doing_context_action?LocalCacheData.previous_doing_context_action:"")}onAddClick(e,t=null){var i=this;this.setCurrentEditViewState("new"),i.openEditView(),i.doGetDefaultDataAPICall(t,e)}doGetDefaultDataAPICall(e,t){var i=this,a=this.getCurrentAPI();a["get"+i.api.key_name+"DefaultData"](e,{onResult:function(o){i.onAddResult(o),t&&i.showSaveAndContinueButton()}})}onAddResult(e){var t=this,i={};e&&e.getResult?i=e.getResult():i=e,(!i||i===!0)&&(i=[]),i.company=LocalCacheData.current_company.name,t.sub_view_mode&&t.parent_key&&(i[t.parent_key]=t.parent_value),t.current_edit_record=i,t.initEditView()}onDeleteAndNextClick(){TAlertManager.showConfirmAlert(Global$1.delete_confirm_message,null,(function(e){this.doDeleteClick(e,"delete_and_next")}).bind(this))}resetNavigationSourceData(){}getDeleteSelectedRecordId(){var e=[];if(this.edit_view&&this.current_edit_record)e.push(this.current_edit_record.id);else{var t=this.getGridSelectIdArray().slice();t.length?e=t:e=null}return e}doDeleteClick(e,t){if(e){ProgressBar.showOverlay();var i=this.getDeleteSelectedRecordId();return i===[]?void 0:(this.setCurrentEditViewState(t||"delete"),this.doDeleteAPICall(i))}else ProgressBar.closeOverlay()}doDeleteAPICall(e,t){var i=this.getCurrentAPI();return t||(t={onResult:(function(a){this.onDeleteResult(a,e)}).bind(this)}),i["delete"+i.key_name](e,t)}onDeleteClick(){TAlertManager.showConfirmAlert(Global$1.delete_confirm_message,null,this.doDeleteClick.bind(this))}onDeleteResult(e,t){var i=this;ProgressBar.closeOverlay(),e&&e.isValid()?LocalCacheData.current_doing_context_action==="delete_and_next"?(i.refresh_id=this.navigation.getNextSelectItemId(),i.search(!1,null,null,function(a){var o=a.getResult();jQuery.type(o)!=="array"||o.length<1?(i.removeEditView(),i.setDefaultMenu()):(i.navigation.setSourceData(o),i.navigation.setPagerData(i.pager_data),i.refresh_id?i.onRightOrLeftArrowClickCallBack(i.refresh_id):i.onCancelClick(),i.onDeleteAndNextDone(a))})):(i.search(),i.onDeleteDone(e),i.edit_view&&LocalCacheData.current_doing_context_action==="delete"?(i.removeEditView(),i.setDefaultMenu()):i.edit_view||i.setCurrentEditViewState("")):(e.getRecordDetails().valid&&e.getRecordDetails().valid>0&&i.search(),i.revertEditViewState(),TAlertManager.showErrorAlert(e))}removeDeletedRows(e){var t=this;jQuery.each(e,function(i,a){t.grid.grid.deleteRow(a),t.paging_widget.minus()})}clearNavigationData(){this.navigation&&this.navigation.setSourceData&&this.navigation.setSourceData(null)}onSaveAndCopy(e){var t=this;Global$1.isSet(e)||(e=!1),this.is_add=!0,this.is_changed=!1,LocalCacheData.current_doing_context_action="save_and_copy";var i=this.current_edit_record;i=this.uniformVariable(i),this.clearNavigationData(),this.api["set"+this.api.key_name](i,!1,e,{onResult:function(a){t.onSaveAndCopyResult(a),t.clearSubViewControllers()}})}onSaveAndCopyResult(e){var t=this;if(e&&e.isValid()){var i=e.getResult();i===!0&&t.current_edit_record&&t.current_edit_record.id?t.refresh_id=t.current_edit_record.id:TTUUID.isUUID(i)&&i!=TTUUID.zero_id&&i!=TTUUID.not_exist_id&&(t.refresh_id=i),t.search(!1),t.onCopyAsNewClick()}else t.setErrorMenu(),t.setErrorTips(e)}onSaveAndNewClick(e){var t=this;Global$1.isSet(e)||(e=!1),this.setCurrentEditViewState("new");var i=this.current_edit_record;i=this.uniformVariable(i),this.api["set"+this.api.key_name](i,!1,e,{onResult:function(a){t.onSaveAndNewResult(a),t.sub_view_mode?t.clearSubViewControllers(!1):(t.clearSubViewControllers(!0),t.showSaveAndContinueButton())}})}onSaveAndNewResult(e){var t=this;if(e&&e.isValid()){var i=e.getResult();i===!0&&t.current_edit_record&&t.current_edit_record.id?t.refresh_id=t.current_edit_record.id:TTUUID.isUUID(i)&&i!=TTUUID.zero_id&&i!=TTUUID.not_exist_id&&(t.refresh_id=i),t.saveInsideEditorData(function(){t.search(!1),t.onAddClick(!0)})}else t.setErrorMenu(),t.setErrorTips(e)}onSaveAndContinue(e){var t=this;Global$1.isSet(e)||(e=!1),LocalCacheData.current_doing_context_action="save_and_continue";var i=this.current_edit_record;i=this.uniformVariable(i),this.doSaveAPICall(i,e,{onResult:function(a){t.onSaveAndContinueResult(a)}})}onSaveAndContinueResult(e){var t=this;if(e&&e.isValid()){var i=e.getResult();i===!0&&t.current_edit_record&&t.current_edit_record.id?t.refresh_id=t.current_edit_record.id:i&&TTUUID.isUUID(i)&&i!=TTUUID.zero_id&&i!=TTUUID.not_exist_id&&(t.refresh_id=i),t.saveInsideEditorData(function(){t.search(!1),t.onEditClick(t.refresh_id,!0),t.onSaveAndContinueDone(e)})}else t.setErrorTips(e),t.setErrorMenu()}onSaveAndNextClick(e){var t=this;Global$1.isSet(e)||(e=!1),this.is_add=!1,this.is_changed=!1;var i=this.getCurrentAPI(),a=this.current_edit_record;LocalCacheData.current_doing_context_action="save_and_next",a=this.uniformVariable(a),i["set"+i.key_name](a,!1,e,{onResult:function(o){t.onSaveAndNextResult(o)}})}onSaveAndNextResult(e){var t=this;if(e&&e.isValid()){var i=e.getResult();i===!0&&t.current_edit_record&&t.current_edit_record.id?t.refresh_id=t.current_edit_record.id:i&&TTUUID.isUUID(i)&&i!=TTUUID.zero_id&&i!=TTUUID.not_exist_id&&(t.refresh_id=i),t.saveInsideEditorData(function(){t.onRightArrowClick(),t.search(!1),t.onSaveAndNextDone(e)})}else t.setErrorMenu(),t.setErrorTips(e)}uniformVariable(e){return e}saveInsideEditorData(e){e&&e()}getChangedFields(){var e={};for(var t in this.edit_view_ui_dic)if(this.edit_view_ui_dic.hasOwnProperty(t)){var i=this.edit_view_ui_dic[t];Global$1.isSet(i.isChecked)&&i.isChecked()&&i.getEnabled()&&(e[t]=this.current_edit_record[t])}return e}buildMassAddRecord(e){var t;return Global$1.isArray(e.user_id)&&e.user_id.length>0?(t=[],jQuery.each(this.current_edit_record.user_id,function(i,a){var o=Global$1.clone(e);o.user_id=a,t.push(o)})):t=e,t}buildMassEditSaveRecord(e,t){var i=this,a=[];return jQuery.each(e,function(o,n){var s=Global$1.clone(t);s.id=n,s=i.uniformVariable(s),a.push(s)}),a}onSaveClick(e,t=!1){var i=this;Global$1.isSet(e)||(e=!1),!t&&i.is_changed==!1?this.confirm_on_exit=!0:this.confirm_on_exit=!1;var a;LocalCacheData.current_doing_context_action="save",this.confirm_on_exit==!0?TAlertManager.showConfirmAlert(Global$1.not_modify_alert_message,null,function(n){n===!0&&o()}):o();function o(){if(i.is_mass_editing){var n=i.getChangedFields();a=i.buildMassEditSaveRecord(i.mass_edit_record_ids,n)}else i.is_mass_adding?a=i.buildMassAddRecord(i.current_edit_record):(a=i.current_edit_record,a=i.uniformVariable(a));i.doSaveAPICall(a,e)}this.confirm_on_exit=!this.confirm_on_exit}doSaveAPICall(e,t,i){var a=this.getCurrentAPI();return i||(i={onResult:(function(o){this.onSaveResult(o)}).bind(this)}),a["set"+a.key_name](e,!1,t,i)}onSaveResult(e){var t=this;if(e&&e.isValid()){var i=e.getResult();this.edit_only_mode||(i===!0&&t.current_edit_record&&t.current_edit_record.id?t.refresh_id=t.current_edit_record.id:TTUUID.isUUID(i)&&i!=TTUUID.zero_id&&i!=TTUUID.not_exist_id?t.refresh_id=i:t.refresh_id=null,t.search());var a=t.onSaveDone(e);(a==null||a==!0)&&t.removeEditView()}else t.setErrorTips(e),t.setErrorMenu()}onSaveDone(e){return!0}onSaveAndContinueDone(e){}onSaveAndNextDone(e){}onDeleteDone(e){this.removeDeletedRows()}onDeleteAndNextDone(e){}onMassEditClick(){var e=this;this.setCurrentEditViewState("mass_edit"),e.openEditView();var t={},i=this.getGridSelectIdArray();i.length,this.mass_edit_record_ids=[],jQuery.each(i,function(a,o){e.mass_edit_record_ids.push(o)}),t.filter_data={},t.filter_data.id=this.mass_edit_record_ids,this.api["getCommon"+this.api.key_name+"Data"](t,{onResult:function(a){var o=a.getResult();o||(o=[]),e.api.getOptions("unique_columns",{onResult:function(n){e.unique_columns=n.getResult(),e.api.getOptions("linked_columns",{onResult:function(s){e.linked_columns=s.getResult(),e.linked_columns===!0&&(e.linked_columns=[]),e.sub_view_mode&&e.parent_key&&(o[e.parent_key]=e.parent_value),e.current_edit_record=o,e.initEditView()}})}})}})}getViewSelectedRecordId(e){var t=!1,i=this.getGridSelectIdArray(),a=i.length;return Global$1.isSet(e)?Global$1.isObject(e)&&e.id?t=e.id:Global$1.isString(e)&&TTUUID.isUUID(e)&&(t=e):a>0?t=i[0]:t=null,t}doViewAPICall(e,t){var i={onResult:this.handleViewAPICallbackResult.bind(this)};return t?(t.push(i),this.api["get"+this.api.key_name].apply(this.api,t)):this.api["get"+this.api.key_name](e,i)}handleViewAPICallbackResult(e){var t;return e&&e.getResult?(t=e.getResult(),t=this.processAPICallbackResult(t),t||(t=[]),t=t[0]):t=e,t?this.doViewClickResult(t):(TAlertManager.showAlert(jQuery.i18n._("Record does not exist.")),this.onCancelClick())}doViewClickResult(e){return this.current_edit_record=e,this.initEditView(),this.clearCurrentSelectedRecord()}onViewClick(e,t){this.setCurrentEditViewState("view"),this.openEditView();var i=this.getViewSelectedRecordId(e);if(!Global$1.isFalseOrNull(i)){this.setCurrentSelectedRecord(i);var a=this.getAPIFilters();return this.doViewAPICall(a)}}setCurrentSelectedRecord(e){return e?(this.current_selected_record=e,!0):!1}getCurrentSelectedRecord(){return this.current_selected_record}clearCurrentSelectedRecord(){return delete this.current_selected_record,!0}getRecordIdFromRecord(e){return Global$1.isObject(e)?object_id:Global$1.isString(e)?e:!1}processAPICallbackResult(e){return e}getAPIFilters(){var e=this.getCurrentSelectedRecord(),t={};return t.filter_data={},t.filter_data.id=[e],t}getEditSelectedRecordId(e){var t=!1,i=this.getGridSelectIdArray(),a=i.length;return Global$1.isSet(e)?Global$1.isObject(e)&&e.id?t=e.id:Global$1.isString(e)&&TTUUID.isUUID(e)&&(t=e):(this.is_viewing||this.is_edit)&&this.current_edit_record&&this.current_edit_record.id?t=this.current_edit_record.id:a>0?t=i[0]:t=null,t}doEditAPICall(e,t,i){return i||(i={onResult:this.handleEditAPICallbackResult.bind(this)}),t?(t.push(i),this.api["get"+this.api.key_name].apply(this.api,t)):this.api["get"+this.api.key_name](e,i)}handleEditAPICallbackResult(e){var t;return e&&e.getResult?(t=e.getResult(),t=this.processAPICallbackResult(t),t||(t=[]),t=t[0]):t=e,t?(this.sub_view_mode&&this.parent_key&&(t[this.parent_key]=this.parent_value),this.doEditClickResult(t)):(TAlertManager.showAlert(jQuery.i18n._("Record does not exist.")),this.onCancelClick())}doEditClickResult(e){this.current_edit_record=e,this.initEditView()}onEditClick(e,t){if(this.setCurrentEditViewState("edit"),this.openEditView(),e=this.getEditSelectedRecordId(e),!Global$1.isFalseOrNull(e)){this.setCurrentSelectedRecord(e);var i=this.getAPIFilters();return this.doEditAPICall(i)}}onCopyClick(){this.getGridSelectIdArray().length>1?TAlertManager.showConfirmAlert(Global$1.copy_multiple_confirm_message,null,e=>{e===!0&&this.doCopyClick()}):this.doCopyClick()}doCopyClick(){var e=this,t=[];e.is_add=!1,e.edit_view?(t.push(e.current_edit_record.id),this.is_changed?TAlertManager.showConfirmAlert(Global$1.modify_alert_message,null,function(i){i===!0&&(e.is_changed=!1,e._continueDoCopy(t)),ProgressBar.closeOverlay()}):e._continueDoCopy(t)):(t=e.getGridSelectIdArray().slice(),e._continueDoCopy(t))}_continueDoCopy(e){var t=this;ProgressBar.showOverlay(),t.api["copy"+t.api.key_name](e,{onResult:function(i){t.onCopyResult(i)}})}onCopyResult(e){var t=this;e&&e.isValid()?(t.search(),t.edit_view&&t.removeEditView()):(TAlertManager.showErrorAlert(e),e.getRecordDetails().total>1&&t.search())}onCopyAsNewClick(){var e=this;this.is_changed?TAlertManager.showConfirmAlert(Global$1.modify_alert_message,null,function(t){t===!0&&(e._continueDoCopyAsNew(),e.sub_view_mode?e.clearSubViewControllers(!1):(e.clearSubViewControllers(!0),e.showSaveAndContinueButton())),ProgressBar.closeOverlay()}):(this._continueDoCopyAsNew(),this.sub_view_mode?this.clearSubViewControllers(!1):(this.clearSubViewControllers(!0),this.showSaveAndContinueButton()))}copyAsNewResetIds(e){return e.id="",e}showSaveAndContinueButton(){if(this.edit_view){let e=this.edit_view.find(".save-and-continue-div");e&&e.css("display","block")}}clearSubViewControllers(e){if(LocalCacheData.current_open_sub_controller==null||e)for(var t in LocalCacheData.current_open_primary_controller)t.match("sub_([a-z_]*)view_controller")&&LocalCacheData.current_open_primary_controller[t]&&LocalCacheData.current_open_primary_controller[t].$el&&(Debug.Text(t,"BaseViewController.js","BaseViewController","onSaveAndNextClick",9),LocalCacheData.current_open_primary_controller[t].$el.remove(),LocalCacheData.current_open_primary_controller[t]=null)}getCopyAsNewFilter(e){return e}_continueDoCopyAsNew(){var e=this;if(this.setCurrentEditViewState("new"),LocalCacheData.current_doing_context_action="copy_as_new",Global$1.isSet(this.edit_view)){this.current_edit_record=this.copyAsNewResetIds(this.current_edit_record);var t=this.edit_view.find(".navigation-div");t.css("display","none"),this.setEditMenu(),this.setTabStatus(),this.onTabShow(),this.editor||this.setCurrentEditRecordData(),this.is_changed=!1,ProgressBar.closeOverlay()}else{var i={},a=this.getGridSelectIdArray(),o=a.length;if(o>0)var n=a[0];else{TAlertManager.showAlert(jQuery.i18n._("No selected record"));return}i.filter_data={},i.filter_data.id=[n],i=this.getCopyAsNewFilter(i),this.api["get"+this.api.key_name](i,{onResult:function(s){e.onCopyAsNewResult(s)}})}}onCopyAsNewResult(e){var t=e.getResult();if(typeof t!="object"){this.onAddClick();return}this.openEditView(),t=t[0],t=this.copyAsNewResetIds(t),this.sub_view_mode&&this.parent_key&&(t[this.parent_key]=this.parent_value),this.current_edit_record=t;var i=this;jQuery(".PunchesEditView .edit-view-tab-bar").css("opacity",1),jQuery(".PunchesEditView .edit-view-tab").css("opacity",1),i.initEditView()}setJobItemValueWhenJobChanged(e,t,i){var a=this;if(e===null&&(e=TTUUID.zero_id),t==null&&(t="job_item_id"),!a.current_edit_record||!a.edit_view_ui_dic[t])return;TTPromise.add("BaseViewController","setJobItemValueWhenJobChanged"),i==null&&(i={status_id:10}),e!=null&&e!=!1&&(i.job_id=e.id);var o=a.edit_view_ui_dic[t],n=o.getValue();o.setSourceData(null),o.setCheckBox(!0),this.edit_view_ui_dic.job_item_quick_search.setCheckBox(!0);var s={};if(s.filter_data=i,a.edit_view_ui_dic[t].setDefaultArgs(s),n&&n!=TTUUID.zero_id){var l=Global$1.clone(s);l.filter_data.id=n,l.filter_data.job_id=e.id,l.filter_columns=a.edit_view_ui_dic[t].getColumnFilter(),a.job_item_api.getJobItem(l,{onResult:function(m){if(a.current_edit_record){var d=m.getResult();Array.isArray(d)||(d=[]),n===TTUUID.not_exist_id&&d.push({id:TTUUID.not_exist_id}),n===-2&&d.push({id:-2}),d.length==0&&c(t)}}})}else c(t);function c(m){m==null&&(m="job_item_id"),a.current_edit_record.hasOwnProperty(m)?(o.setValue(e.default_item_id),a.current_edit_record[m]=e.default_item_id,(e.default_item_id===!1||e.default_item_id===0||e.default_item_id===TTUUID.zero_id||e.default_item_id===TTUUID.not_exist_id)&&a.edit_view_ui_dic.job_item_quick_search.setValue("")):(o.setValue(""),a.current_edit_record[m]=!1,a.edit_view_ui_dic.job_item_quick_search.setValue("")),TTPromise.resolve("BaseViewController","setJobItemValueWhenJobChanged")}}setJobValueWhenCriteriaChanged(e,t){var i=this;if(!i.current_edit_record||!i.edit_view_ui_dic[e])return;var a=i.edit_view_ui_dic[e],o=a.getValue();a.setSourceData(null),a.setCheckBox(!0),this.edit_view_ui_dic.job_item_quick_search.setCheckBox(!0);var n={};if(n.filter_data=t,i.edit_view_ui_dic[e].setDefaultArgs(n),o&&o!=TTUUID.zero_id){var s=Global$1.clone(n);s.filter_data.id=o,s.filter_columns=i.edit_view_ui_dic[e].getColumnFilter(),i.job_api.getJob(s,{onResult:function(c){if(i.current_edit_record){var m=c.getResult();Array.isArray(m)||(m=[]),o===TTUUID.not_exist_id&&m.push({id:TTUUID.not_exist_id}),o===-2&&m.push({id:-2}),m.length==0&&l(e)}}})}else l(e);function l(c){c==null&&(c="job_id"),a.setValue(""),i.current_edit_record[c]=!1,i.edit_view_ui_dic.job_quick_search.setValue("")}}onJobQuickSearch(e,t,i,a,o){var n=this,s={};TTPromise.add("BaseViewController","onJobQuickSearch"),i==null&&(i="job_id"),a==null&&(a="job_item_id"),!(!n.edit_view_ui_dic||!n.edit_view_ui_dic[i])&&(e==="job_quick_search"?(s.filter_data={manual_id:t,user_id:this.current_edit_record.user_id,status_id:"10"},this.current_edit_record.branch_id&&(s.filter_data.punch_branch_id=this.current_edit_record.branch_id),this.current_edit_record.department_id&&(s.filter_data.punch_department_id=this.current_edit_record.department_id),this.job_api.getJob(s,{onResult:function(l){if(!(!n.edit_view_ui_dic||!n.edit_view_ui_dic[i])){var c=l.getResult();c.length>0?(n.edit_view_ui_dic[i].setValue(c[0].id),n.current_edit_record[i]=c[0].id,n.setJobItemValueWhenJobChanged(c[0],a,o)):(n.edit_view_ui_dic[i].setValue(""),n.current_edit_record[i]=!1,n.setJobItemValueWhenJobChanged(!1,a,o)),TTPromise.resolve("BaseViewController","onJobQuickSearch")}}}),n.edit_view_ui_dic.job_quick_search.setCheckBox(!0),n.edit_view_ui_dic[i].setCheckBox(!0)):e==="job_item_quick_search"&&(s.filter_data={manual_id:t,job_id:this.current_edit_record[i],status_id:"10"},this.job_item_api.getJobItem(s,{onResult:function(l){if(!(!n.edit_view_ui_dic||!n.edit_view_ui_dic[a])){var c=l.getResult();c.length>0?(n.edit_view_ui_dic[a].setValue(c[0].id),n.current_edit_record[a]=c[0].id):(n.edit_view_ui_dic[a].setValue(""),n.current_edit_record[a]=!1),TTPromise.resolve("BaseViewController","onJobQuickSearch")}}}),this.edit_view_ui_dic.job_item_quick_search.setCheckBox(!0),this.edit_view_ui_dic[a].setCheckBox(!0)))}setDepartmentValueWhenBranchChanged(e,t,i){var a=this;if(t==null&&(t="department_id"),!a.current_edit_record||!a.edit_view_ui_dic[t])return;var o=a.edit_view_ui_dic[t],n=o.getValue();o.setSourceData(null),o.setCheckBox(!0);var s={};if(s.filter_data=i,a.edit_view_ui_dic[t].setDefaultArgs(s),n&&n!=TTUUID.zero_id){var l=Global$1.clone(s);l.filter_data.id=n,l.filter_columns=a.edit_view_ui_dic[t].getColumnFilter(),a.department_api.getDepartment(l,{onResult:function(m){if(a.current_edit_record){var d=m.getResult();Array.isArray(d)||(d=[]),n===TTUUID.not_exist_id&&d.push({id:TTUUID.not_exist_id}),n===-2&&d.push({id:-2}),d.length===0&&c(t)}}})}else c(t);function c(m){m==null&&(m="department_id"),a.current_edit_record.hasOwnProperty(m)?(o.setValue(e.default_item_id),a.current_edit_record[m]=e.default_item_id,(e.default_item_id===!1||e.default_item_id===0||e.default_item_id===TTUUID.zero_id||e.default_item_id===TTUUID.not_exist_id)&&a.edit_view_ui_dic.job_item_quick_search.setValue("")):(o.setValue(""),a.current_edit_record[m]=!1,a.edit_view_ui_dic.job_item_quick_search.setValue(""))}}setPunchTagValuesWhenCriteriaChanged(e,t){var i=this;if(!i.current_edit_record||!i.edit_view_ui_dic[t])return;var a=i.edit_view_ui_dic[t],o=a.getValue();a.setSourceData(null);var n={};if(n.filter_data=e,a.setDefaultArgs(n),o&&o.length>0){var s=Global$1.clone(n);s.filter_data.id=o,i.punch_tag_api.getPunchTag(s,!0,{onResult:function(c){if(i.current_edit_record){var m=c.getResult();if(Array.isArray(m)||(m=[]),Array.isArray(m)&&Array.isArray(o)&&o.includes(TTUUID.not_exist_id)&&m.push({id:TTUUID.not_exist_id}),Array.isArray(m)&&m.length>0){if(o!==TTUUID.zero_id&&o.length>0&&i.shouldUpdatePunchTags(o,m)){o=_.union(o,i.previous_punch_tag_selection);var d=o.filter(p=>m.some(v=>p===v.id));a.setValue(d),i.current_edit_record[t]=d;var u=m.filter(p=>d.includes(p.id)).map(({manual_id:p})=>p);i.edit_view_ui_dic.punch_tag_quick_search.setValue(u.join())}}else l(t)}}})}else l(t);function l(c){i.current_edit_record.hasOwnProperty(c)?(a.setValue(i.default_punch_tag),i.current_edit_record[c]=i.default_punch_tag,i.default_punch_tag.length===0&&i.edit_view_ui_dic.punch_tag_quick_search.setValue("")):(a.setValue(""),i.current_edit_record[c]=!1,i.edit_view_ui_dic.punch_tag_quick_search.setValue(""))}}shouldUpdatePunchTags(e,t){if(Array.isArray(this.previous_punch_tag_selection)&&this.previous_punch_tag_selection.every(i=>e.includes(i))===!1||e.every(i=>t.some(a=>a.id===i))===!1)return!0}setPunchTagQuickSearchManualIds(e,t){if(!(e==!1||!this.edit_view_ui_dic.punch_tag_quick_search||Array.isArray(e)&&e.length===0)){if(e===TTUUID.not_exist_id||Array.isArray(e)&&e.includes(TTUUID.not_exist_id)){this.edit_view_ui_dic.punch_tag_quick_search.setValue("");return}if(t){var i=this,a={};a.filter_data={id:e},this.punch_tag_api.getPunchTag(a,{onResult:function(s){for(var l=s.getResult(),c=[],m=0;m<l.length;m++)c.push(l[m].manual_id);i.edit_view_ui_dic&&i.edit_view_ui_dic.punch_tag_quick_search&&i.edit_view_ui_dic.punch_tag_quick_search.setValue(c.join())}})}else{for(var o=[],n=0;n<e.length;n++)o.push(e[n].manual_id);this.edit_view_ui_dic&&this.edit_view_ui_dic.punch_tag_quick_search&&this.edit_view_ui_dic.punch_tag_quick_search.setValue(o.join())}}}onPunchTagQuickSearch(e,t,i){var a=this,o={};!a.edit_view_ui_dic||!a.edit_view_ui_dic[i]||(o.filter_data=t,o.filter_data.manual_id=e.split(","),this.punch_tag_api.GetPunchTag(o,{onResult:function(n){if(!(!a.edit_view_ui_dic||!a.edit_view_ui_dic[i])){var s=n.getResult();if(a.edit_view_ui_dic[i].setSourceData(null),s.length>0){var l=s.map(c=>c.id);a.edit_view_ui_dic[i].setValue(l),a.current_edit_record[i]=l,a.previous_punch_tag_selection=l}else a.edit_view_ui_dic[i].setValue(""),a.current_edit_record[i]=!1,a.previous_punch_tag_selection=[];delete o.manual_id}}}),this.edit_view_ui_dic.punch_tag_quick_search.setCheckBox(!0),this.edit_view_ui_dic[i].setCheckBox(!0))}getPunchTagFilterData(){if(!this.current_edit_record||!this.current_edit_record.user_id)return{};var e={status_id:10,user_id:this.current_edit_record.user_id,branch_id:this.current_edit_record.branch_id,department_id:this.current_edit_record.department_id,job_id:this.current_edit_record.job_id,job_item_id:this.current_edit_record.job_item_id};return e}onCancelClick(e,t,i){TTPromise.add("base","onCancelClick");var a=this;!e&&(a.is_changed==!0||LocalCacheData.current_open_primary_controller&&LocalCacheData.current_open_primary_controller.edit_view&&LocalCacheData.current_open_primary_controller.is_changed==!0||LocalCacheData.current_open_report_controller&&LocalCacheData.current_open_report_controller.is_changed==!0||LocalCacheData.current_open_edit_only_controller&&LocalCacheData.current_open_edit_only_controller.is_changed==!0||LocalCacheData.current_open_sub_controller&&LocalCacheData.current_open_sub_controller.edit_view&&LocalCacheData.current_open_sub_controller.is_changed==!0)&&(this.confirm_on_exit=!0),LocalCacheData.current_doing_context_action="cancel",this.confirm_on_exit==!0?TAlertManager.showConfirmAlert(Global$1.modify_alert_message,null,function(n){n===!0?o(e,t,i):TTPromise.reject("base","onCancelClick")}):o(e,t,i);function o(n,s,l){!a.edit_view&&a.parent_view_controller&&a.sub_view_mode?(a.parent_view_controller.is_changed=!1,a.parent_view_controller.confirm_on_exit=!1,a.parent_view_controller.buildContextMenu(!0),a.parent_view_controller.onCancelClick(!0)):a.removeEditView(!0),s&&(LocalCacheData.current_open_edit_only_controller?LocalCacheData.current_open_edit_only_controller.onCancelClick(n,s):LocalCacheData.current_open_sub_controller&&LocalCacheData.current_open_sub_controller.edit_view?LocalCacheData.current_open_sub_controller.onCancelClick(n,s):LocalCacheData.current_open_primary_controller&&LocalCacheData.current_open_primary_controller.edit_view?LocalCacheData.current_open_primary_controller.onCancelClick(n,s):LocalCacheData.current_open_report_controller&&LocalCacheData.current_open_report_controller.onCancelClick(n,s)),l&&l(),Global$1.setUIInitComplete(),TTPromise.resolve("base","onCancelClick")}}onFormItemChange(e,t){if(this.current_edit_record){this.setIsChanged(e),this.setMassEditingFieldsWhenFormChange(e);var i=e.getField();this.current_edit_record[i]=e.getValue(),t||this.validate()}}setIsChanged(e){var t=e.getField();this.current_edit_record&&this.current_edit_record[t]!=e.getValue()&&(this.is_changed=!0)}onFormItemKeyUp(e){}onFormItemKeyDown(e){}setMassEditingFieldsWhenFormChange(e){var t=this;if(this.is_mass_editing){var i=e.getField(),a=[],o=!1;jQuery.each(this.linked_columns,function(n,s){s!==i?a.push(s):o=!0}),o&&jQuery.each(a,function(n,s){var l=t.edit_view_ui_dic[i].isChecked();t.edit_view_ui_dic[s].setCheckBox(l)})}}initEditViewTabs(e){var t=this;e===void 0&&(e={activate:function(i,a){!t.edit_view_tab||!t.edit_view_tab.is(":visible")||(t.onTabShow(i,a),Global$1.triggerAnalyticsTabs(i,a))}}),this.setTabOVisibility(!1),this.edit_view_tab=this.edit_view_tab.tabs(e),this.edit_view_tab.off("click").on("click",function(i){t.onTabIndexChange(i)})}setTabHtml(e){var t=this.edit_view.find(".edit-view-tab-bar-label");if(t.children().length===0)for(let l in e){var i=document.createElement("li"),a=document.createElement("a");a.setAttribute("ref",l),a.setAttribute("href","#"+l),i.appendChild(a),t.append(i)}var o=t.parent(),n=o.find(".edit-view-tab-outside");if(n.children().length===0)for(let l in e){let c="",m=e[l],d=s(m);m.html_template?c=m.html_template:c=jQuery(HtmlTemplatesGlobal.genericTab({tab_id:l,is_multi_column:!!m.is_multi_column,show_permission_div:!!m.show_permission_div,is_sub_view:d})),o.append(c)}function s(l){if(l.is_sub_view==!0)return!0;if(l.init_callback===void 0)return!1;var c=l.init_callback||"",m=c.toLowerCase().indexOf("sub")!==-1;return m===!0}}setTabLabels(e){for(var t in e)this.edit_view.find("a[ref="+t+"]").text(e[t])}getTabModel(){return this.tab_model}setTabModel(e){var t={};for(var i in e)i=="tab_audit"&&e[i]===!0?e.tab_audit={label:jQuery.i18n._("Audit"),init_callback:"initSubLogView",display_on_mass_edit:!1,display_on_add:!1}:i=="tab_attachment"&&e[i]===!0&&(e.tab_attachment={label:jQuery.i18n._("Attachment"),init_callback:"initSubDocumentView",display_on_mass_edit:!1}),e[i].hasOwnProperty("label")&&e[i].label!=""&&(t[i]=e[i].label);return this.tab_model=e,this.setTabHtml(e),this.initEditViewTabs(),this.setTabLabels(t),!0}onTabShow(e,t){if(this.current_edit_record){var i=this.getEditViewTabIndex();this.editFieldResize(i);var a=this.getTabModel();if(a!=null){if(t&&t.oldTab){var o=t.oldTab.find("a")[0].getAttribute("href").substring(1);a[o]&&a[o].hasOwnProperty("on_exit_callback")&&a[o].on_exit_callback!=""&&this[a[o].on_exit_callback](o)}var n=null,s=null,l=this.edit_view.find(".edit-view-tab-bar li.ui-tabs-active").find("a");l.length>0&&(n=l[0].getAttribute("href").substring(1),s=this.edit_view_tab.find("#"+n).find(".first-column-sub-view")),s&&s.length>0&&this.tab_model[n]&&!this.tab_model[n].initialized&&(TTPromise.add("BaseViewController","onTabShow"),TTPromise.wait("BaseViewController","onTabShow",function(){s.css("opacity","1")}),s.css("opacity","0"),this.tab_model[n].initialized=!0),a[n]?a[n].hasOwnProperty("init_callback")&&a[n].init_callback!=""?this[a[n].init_callback](n):this.current_edit_record.id&&this.current_edit_record.id!=TTUUID.zero_id?this.setEditMenu():this.showSaveAndContinueButton():(this.buildContextMenu(!0),this.setEditMenu())}else i===1?this.current_edit_record.id&&this.current_edit_record.id!=TTUUID.zero_id?(this.edit_view_tab.find("#tab_audit").find(".first-column-sub-view").css("display","block"),this.initSubLogView("tab_audit")):(this.edit_view_tab.find("#tab_audit").find(".first-column-sub-view").css("display","none"),this.showSaveAndContinueButton()):(this.buildContextMenu(!0),this.setEditMenu())}}checkTabPermissions(e){var t=!0;switch(e){case"tab_audit":t=this.subAuditValidate();break;case"tab_attachment":t=this.subDocumentValidate();break}return t}setTabStatus(){if(this.edit_view_tab){var e=this.getTabModel();if(e!=null){var t=Array();for(var i in e){var a=jQuery(this.edit_view_tab.find('ul li a[ref="'+i+'"]')).parent().index();this.is_mass_editing&&e[i].hasOwnProperty("display_on_mass_edit")&&e[i].display_on_mass_edit==!1||(this.is_add||this.is_mass_adding)&&e[i].hasOwnProperty("display_on_add")&&e[i].display_on_add==!1?jQuery(this.edit_view_tab.find('ul li a[ref="'+i+'"]')).parent().hide():this.checkTabPermissions(i)==!0?(jQuery(this.edit_view_tab.find('ul li a[ref="'+i+'"]')).parent().show(),t.push(a)):jQuery(this.edit_view_tab.find('ul li a[ref="'+i+'"]')).parent().hide()}if(t=t.sort(function(o,n){return o-n}),t[0])try{this.edit_view_tab.tabs("option","active",t[0])}catch(o){Debug.Text(o.message,"BaseViewController.js","setTabStatus","BaseViewController",10)}}else this.is_mass_editing?(jQuery(this.edit_view_tab.find('ul li a[ref="tab_audit"]')).parent().hide(),this.edit_view_tab.tabs("option","active",0)):this.subAuditValidate()?jQuery(this.edit_view_tab.find('ul li a[ref="tab_audit"]')).parent().show():(jQuery(this.edit_view_tab.find('ul li a[ref="tab_audit"]')).parent().hide(),this.edit_view_tab.tabs("option","active",0));this.editFieldResize(0)}}onTabIndexChange(e){if(TTPromise.add("BaseViewController","onTabIndexChange"),TTPromise.wait(),!this.sub_view_mode&&!this.edit_only_mode||typeof this.initReport=="function"){var t=window.location.href;t.indexOf("&tab")>0&&(t=t.substring(0,t.indexOf("&tab")));var i=this.edit_view_tab.find(".edit-view-tab-bar-label").children().eq(this.getEditViewTabIndex()).text();i=i.replace(/\/|\s+/g,""),t=t+"&tab="+i,Global$1.setURLToBrowser(t)}this.hideErrorTips(),TTPromise.resolve("BaseViewController","onTabIndexChange")}hideErrorTips(){for(var e in this.edit_view_error_ui_dic)this.edit_view_error_ui_dic[e]&&typeof this.edit_view_error_ui_dic[e].hideErrorTip=="function"&&this.edit_view_error_ui_dic[e].hideErrorTip();this.removeEditViewErrorTip()}removeEditViewErrorTip(){jQuery(".qtip2-error-tip:visible")&&jQuery(".qtip2-error-tip").remove()}removeEditViewWarningTip(){jQuery(".qtip2-warning-tip:visible")&&jQuery(".qtip2-warning-tip").remove()}onCountryChange(){var e=this.edit_view_ui_dic.country.getValue();this.eSetProvince(e,!0),this.clearErrorTips(),this.setEditMenu()}validate(e){if(this.enable_validation){if(e==null)var e=this.api;var t=this,i={};if(this.is_mass_editing){for(var a in this.edit_view_ui_dic)if(this.edit_view_ui_dic.hasOwnProperty(a)){var o=this.edit_view_ui_dic[a];Global$1.isSet(o.isChecked)&&o.isChecked()&&o.getEnabled()&&(i[a]=this.current_edit_record[a])}}else i=this.current_edit_record;i=this.uniformVariable(i),e["validate"+e.key_name](i,{onResult:function(n){t.validateResult(n)}})}else Debug.Text("Validation disabled","BaseViewController.js","BaseViewController","validate",10)}validateResult(e){var t=this;t.clearErrorTips(),t.edit_view&&e&&(e&&e.isValid()?(t.edit_view.attr("validate_complete",!0),t.setEditMenu()):(t.setErrorMenu(),t.setErrorTips(e,this.show_warning_when_validation)))}clearErrorTips(){for(var e in this.edit_view_error_ui_dic)!this.edit_view_error_ui_dic.hasOwnProperty(e)||!this.edit_view_error_ui_dic[e]||this.edit_view_error_ui_dic[e].clearErrorStyle();if(this.removeEditViewErrorTip(),this.removeEditViewWarningTip(),jQuery(".error-tab").removeClass("error-tab"),jQuery(".error-tab-hide").removeClass("error-tab-hide"),jQuery(".warning-tab").removeClass("warning-tab"),jQuery(".warning-tab-hide").removeClass("warning-tab-hide"),this.pulse_time_dic){for(var t in this.pulse_time_dic)clearInterval(this.pulse_time_dic[t]);this.pulse_time_dic={}}this.edit_view_error_ui_dic={},jQuery(".qtip .qtip2-error-tip").remove()}setErrorTips(e,t){if(this.clearErrorTips(),Global$1.isSet(t)||(t=!0),!!this.edit_view_tab){var i=e.getDetails(),a=0;for(var a in i)break;i&&i[a]&&i[a].hasOwnProperty("error")?this.setErrorTipsError(e):i&&i[a]&&i[a].hasOwnProperty("warning")?(t&&this.setErrorTipsWarning(e),this.setEditMenu()):e.getCode()=="PERMISSION"||e.getCode()=="VALIDATION"?TAlertManager.showErrorAlert(e):this.setErrorTipsError(e)}}setErrorTipsWarning(e){var t=this,i,a=LocalCacheData.current_doing_context_action;a!="validate"&&TAlertManager.showWarningAlert(e,function(u){if(u)switch(a){case"save":t.onSaveClick(!0,!0);break;case"save_and_continue":t.onSaveAndContinue(!0);break;case"save_and_next":t.onSaveAndNextClick(!0);break;case"save_and_copy":t.onSaveAndCopy(!0);break;case"new":t.onSaveAndNewClick(!0);break;case"authorize":t.onAuthorizationClick(!0);break}else t.show_warning_when_validation=!0});var o=[];e.getDetails().length==1&&(o=e.getDetails()[0].warning);var n=!1;for(var s in o)if(o.hasOwnProperty(s)){if(Global$1.isSet(this.edit_view_ui_dic[s])&&this.edit_view_ui_dic[s].closest(document.documentElement).length>0)i=this.edit_view_ui_dic[s];else if(Global$1.isSet(this.edit_view_ui_validation_field_dic[s]))if(Global$1.isArray(this.edit_view_ui_validation_field_dic[s]))for(var l=this.edit_view_ui_validation_field_dic[s].length,c=0;c<l;c++){var m=this.edit_view_ui_validation_field_dic[s][c];if(m.closest(document.documentElement).length>0){i=m;break}}else if(this.edit_view_ui_validation_field_dic[s].closest(document.documentElement).length>0)i=this.edit_view_ui_validation_field_dic[s];else continue;else if(s.indexOf("_id")<0&&Global$1.isSet(this.edit_view_ui_dic[s+"_id"])&&this.edit_view_ui_dic[s+"_id"].closest(document.documentElement).length>0)i=this.edit_view_ui_dic[s+"_id"];else continue;if(o[s]){var d=!1;i.is(":visible")&&(d=!0,n=!0),typeof i.setErrorStyle=="function"&&i.setErrorStyle(o[s],d,!0)}this.showErrorStatusOnTab(i,!1),this.edit_view_error_ui_dic[s]=i}n||this.showEditViewError(e)}showErrorStatusOnTab(e,t){for(var i=e.parent(),a=0;!i.hasClass("edit-view-tab-outside")&&a<5;)a=a+1,i=i.parent();if(i.hasClass("edit-view-tab-outside")){var o=i.attr("id"),n=this.edit_view.find('a[ref="'+o+'"]');t?(n.parent().addClass("error-tab"),this.startPulse(o,n.parent())):(n.parent().addClass("warning-tab"),this.startPulse(o,n.parent(),!0))}}startPulse(e,t,i){var a=this;this.pulse_time_dic||(this.pulse_time_dic={}),this.pulse_time_dic[e]&&o(e),this.pulse_time_dic[e]=setInterval(function(){i?t.hasClass("warning-tab-hide")?t.removeClass("warning-tab-hide"):t.hasClass("warning-tab")?t.addClass("warning-tab-hide"):o(e):t.hasClass("error-tab-hide")?t.removeClass("error-tab-hide"):t.hasClass("error-tab")?(t.addClass("error-tab-hide"),o(e),setTimeout(function(){t.hasClass("error-tab-hide")&&t.removeClass("error-tab-hide"),a.startPulse(e,t,i)},1700)):o(e)},2e3);function o(n){clearInterval(a.pulse_time_dic[n]),a.pulse_time_dic[n]=null}}setErrorTipsError(e){var t=e.getDetails()?e.getDetails():{},i=0;for(var i in t)break;var a=t?t[i]:{},o;a&&a.hasOwnProperty("error")&&(a=a.error);var n=!1;for(var s in a)if(a.hasOwnProperty(s)){if(Global$1.isSet(this.edit_view_ui_dic[s])&&this.edit_view_ui_dic[s].closest(document.documentElement).length>0)o=this.edit_view_ui_dic[s];else if(Global$1.isSet(this.edit_view_ui_validation_field_dic[s]))if(Global$1.isArray(this.edit_view_ui_validation_field_dic[s]))for(var l=this.edit_view_ui_validation_field_dic[s].length,c=0;c<l;c++){var m=this.edit_view_ui_validation_field_dic[s][c];if(m.closest(document.documentElement).length>0){o=m;break}}else if(this.edit_view_ui_validation_field_dic[s].closest(document.documentElement).length>0)o=this.edit_view_ui_validation_field_dic[s];else continue;else if(s.indexOf("_id")<0&&Global$1.isSet(this.edit_view_ui_dic[s+"_id"])&&this.edit_view_ui_dic[s+"_id"].closest(document.documentElement).length>0)o=this.edit_view_ui_dic[s+"_id"];else continue;o.is(":visible")?o.setErrorStyle&&typeof o.setErrorStyle=="function"?(o.setErrorStyle(a[s],!0),n=!0):Debug.Text("ERROR: widget.setErrorStyle is not a function.","BaseViewController.js","BaseViewController",null,10):o.setErrorStyle&&typeof o.setErrorStyle=="function"?o.setErrorStyle(a[s]):Debug.Text("ERROR: widget.setErrorStyle is not a function.","BaseViewController.js","BaseViewController",null,10),this.showErrorStatusOnTab(o,!0),this.edit_view_error_ui_dic[s]=o}n||this.showEditViewError(e)}showEditViewError(e){var t=e.getDetails()[0],i=!0;if(t){t.hasOwnProperty("error")?(t=t.error,i=!0):t.hasOwnProperty("warning")&&(i=!1,t=t.warning);var a="";a=Global$1.convertValidationErrorToString(t),this.removeEditViewErrorTip(),this.edit_view.find(".ui-helper-reset").qtip({show:{when:!1,ready:!0},events:{hide:function(o,n){o.preventDefault()}},content:a,style:{classes:i?"qtip2-error-tip":"qtip2-warning-tip",tip:{corner:"bottom center"}},position:{my:"bottom left",at:"top center"}})}}openEditView(){this.edit_view||this.initEditViewUI(this.viewId,this.edit_view_tpl)}setTabOVisibility(e){var t=jQuery(this.edit_view_tab.find(".edit-view-tab")[0]);e?(t.css("opacity",1),this.setEditViewTabSize(),this.edit_view_close_icon&&this.edit_view_close_icon.show()):(this.edit_view_tab.find("ul li").hide(),t.css("opacity",0))}setEditViewWidgetsMode(){var e={};for(var t in this.edit_view_ui_dic)if(this.edit_view_ui_dic.hasOwnProperty(t)){var i=this.edit_view_ui_dic[t];i.css("opacity",1);var a=i.parent().parent().parent(),o=a.parent().attr("id");a.hasClass("v-box")||e[o]||(e[o]=!0),this.is_viewing?Global$1.isSet(i.setEnabled)&&i.setEnabled(!1):Global$1.isSet(i.setEnabled)&&i.setEnabled(!0)}}initEditViewUI(e,t){Global$1.setUINotready(),TTPromise.add("init","init"),TTPromise.wait();var i=this;this.edit_view&&this.edit_view.remove(),this.edit_view=jQuery(Global$1.loadViewSource(e,t,null,!0)),this.edit_view_tab=jQuery(this.edit_view.find(".edit-view-tab-bar")),this.edit_view_tab.css("opacity",0),this.edit_view_tab.attr("id",this.ui_id+"_edit_view_tab"),Global$1.contentContainer().append(this.edit_view),this.buildEditViewUI(),i.setEditViewTabHeight(),TTPromise.wait("init","init",function(){jQuery(".edit-view-tab-bar").css("opacity",1)})}setEditViewTabHeight(){}initEditView(){this.show_warning_when_validation=!1,this.edit_view_tab&&(this.setURL(),this.setEditMenu(),ProgressBar.closeOverlay(),this.edit_view_tab&&this.edit_view_tab.find("ul li").show(),this.setTabStatus(),this.clearEditViewData(),this.setEditViewWidgetsMode(),this.setEditViewData(),this.setCustomFields(),this.setFocusToFirstInput(),this.is_report||this.fillCurrentRecord())}setCustomFields(){var e=this.getCustomFieldParentTable();Global$1.getFeatureFlag("custom_field")==!1||LocalCacheData.getCustomFieldData().parent_tables.includes(e)==!1||TTPromise.wait("BaseViewController","getCustomFields",(function(){Array.isArray(this.custom_fields)&&(this.custom_fields.forEach(t=>{this.buildCustomFieldUI(this.getPrefixedCustomFieldID(t.id),t.name,t.type_id,t.meta_data)}),this.editFieldResize(0)),this.resetLastWidgetStyle()}).bind(this))}getPrefixedCustomFieldID(e){return"custom_field-"+e}getCustomFieldsForView(){var e=this,t=this.getCustomFieldParentTable();if(Global$1.getFeatureFlag("custom_field")==!1||LocalCacheData.getCustomFieldData().parent_tables.includes(t)==!1){TTPromise.resolve("BaseViewController","getCustomFields");return}var i={filter_data:{parent_table:t,status_id:10},filter_sort:{display_order:"asc",created_date:"asc",id:"asc"}};this.custom_field_api.getCustomField(i,!0,{onResult:function(a){var o=a.getResult();Array.isArray(o)&&(e.custom_fields=o),TTPromise.resolve("BaseViewController","getCustomFields")}})}getCustomFieldReferenceField(){return!1}buildCustomFieldUI(e,t,i,a){if(i){if(e=this.convertCustomFieldFieldId(i,e),this.getCustomFieldParentTable()==="punch_control"){let m=e.replace("_id","");if(PermissionManager.validate(this.permission_id,"edit_"+m)==!1)return!1}if(this.edit_view_tab){var o,n=this,s=jQuery(this.edit_view_tab.find(".edit-view-tab-outside")[0]),l=s.find(".first-column");if(n.edit_view_ui_dic[e])o=n.edit_view_ui_dic[e],o.setValue(n.current_edit_record[e]);else{let m=n.getCustomFieldFormInputByType(i,e,a);o=m[0];let d=m[1];var c=n.addEditFieldToColumn(t,o,l,"",d);this.getCustomFieldReferenceField()!==!1&&n.edit_view_ui_dic[this.getCustomFieldReferenceField()]!=null&&c.insertBefore(n.edit_view_ui_dic[this.getCustomFieldReferenceField()].parent().parent()),this.current_edit_record&&o.setValue(this.current_edit_record[e])}o.css("opacity",1),n.is_viewing?o.setEnabled(!1):o.setEnabled(!0),this.is_mass_editing&&o.setMassEditMode(!0)}}}convertCustomFieldFieldId(e,t){return LocalCacheData.getCustomFieldData().conversion_field_types[e]?t+"_id":t}getCustomFieldFormInputByType(e,t,i){let a,o=null;switch(e=parseInt(e),e){case 100:a=Global$1.loadWidgetByName(FormItemType$1.TEXT_INPUT),a.TTextInput({field:t}),a.css("minWidth",300);break;case 110:a=Global$1.loadWidgetByName(FormItemType$1.TEXT_AREA),a.TTextArea({field:t,width:"100%"});break;case 400:case 410:a=Global$1.loadWidgetByName(FormItemType$1.TEXT_INPUT),a.TTextInput({field:t}),a.css("minWidth",300);break;case 420:a=Global$1.loadWidgetByName(FormItemType$1.TEXT_INPUT),a.TTextInput({field:t}),a.css("minWidth",300);var n=jQuery("<div class='widget-h-box'></div>");let s=jQuery("<span class='widget-left-label'></span>"),l=jQuery("<span class='widget-right-label'></span>");n.append(s),n.append(a),n.append(l);break;case 500:a=Global$1.loadWidgetByName(FormItemType$1.CHECKBOX),a.TCheckbox({field:t});break;case 1e3:a=Global$1.loadWidgetByName(FormItemType$1.DATE_PICKER),a.TDatePicker({field:t});break;case 1010:a=Global$1.loadWidgetByName(FormItemType$1.DATE_PICKER),a.TRangePicker({field:t,validation_field:"date_stamp"});break;case 1100:a=Global$1.loadWidgetByName(FormItemType$1.TIME_PICKER),a.TTimePicker({field:t});break;case 1110:break;case 1200:a=Global$1.loadWidgetByName(FormItemType$1.DATE_PICKER),a.TDatePicker({field:t,mode:"date_time"});break;case 1300:a=Global$1.loadWidgetByName(FormItemType$1.TEXT_INPUT),a.TTextInput({field:t,width:120,mode:"time_unit",need_parser_sec:!0});break;case 2100:a=Global$1.loadWidgetByName(FormItemType$1.AWESOME_BOX),a.AComboBox({allow_multiple_selection:!1,layout_name:"global_option_column",show_search_inputs:!0,set_empty:!0,field:t}),a.setSourceData(_.clone(i.validation.multi_select_items));break;case 2110:a=Global$1.loadWidgetByName(FormItemType$1.AWESOME_BOX),a.AComboBox({allow_multiple_selection:!0,layout_name:"global_option_column",show_search_inputs:!0,set_empty:!0,field:t}),a.setSourceData(_.clone(i.validation.multi_select_items))}return[a,o]}resetLastWidgetStyle(){!this.edit_view_tab||this.edit_view}getCustomFieldParentTable(){return this.table_name_key==="punch"||this.viewId==="TimeSheet"?"punch_control":this.table_name_key}setURL(){var e="";switch(LocalCacheData.current_doing_context_action){case"new":case"edit":case"view":e=LocalCacheData.current_doing_context_action;break;case"copy_as_new":e="new";break}if(this.canSetURL()){var t=this.edit_view_tab?this.edit_view_tab.find(".edit-view-tab-bar-label").children().eq(this.getEditViewTabIndex()).text():"";t=t.replace(/\/|\s+/g,""),this.current_edit_record&&this.current_edit_record.id?(e?Global$1.setURLToBrowser(Global$1.getBaseURL()+"#!m="+this.viewId+"&a="+e+"&id="+this.current_edit_record.id+"&tab="+t):Global$1.setURLToBrowser(Global$1.getBaseURL()+"#!m="+this.viewId+"&id="+this.current_edit_record.id),Global$1.trackView(this.viewId,LocalCacheData.current_doing_context_action)):e?e==="edit"?Global$1.setURLToBrowser(Global$1.getBaseURL()+"#!m="+this.viewId+"&a=new&tab="+t):Global$1.setURLToBrowser(Global$1.getBaseURL()+"#!m="+this.viewId+"&a="+e+"&tab="+t):Global$1.setURLToBrowser(Global$1.getBaseURL()+"#!m="+this.viewId)}}canSetURL(){return!(this.sub_view_mode||this.edit_only_mode)}setFocusToFirstInput(){if(!(Global$1.UNIT_TEST_MODE||jQuery("body").hasClass("mobile-device-mode"))&&!this.is_viewing){if(this.script_name==="ScheduleView")this.edit_view_ui_dic.start_time&&(this.edit_view_ui_dic.start_time.children().eq(0).focus(),this.edit_view_ui_dic.start_time.children().eq(0)[0].select());else for(var e in this.edit_view_ui_dic)if(this.edit_view_ui_dic.hasOwnProperty(e)){var t=this.edit_view_ui_dic[e];if(t.is(":visible")===!0){if(t.hasClass("t-text-input")&&!t.attr("readonly")){t.focus(),t[0].select();break}else if(t.hasClass("t-time-picker-div")&&!t.children().eq(0).attr("readonly")){t.children().eq(0).focus(),t.children().eq(0)[0].select();break}else if(t.hasClass("t-date-picker-div")&&!t.children().eq(0).attr("readonly")){t.children().eq(0).focus(),t.children().eq(0)[0].select();break}}}}}initNavigationWidget(e){this.navigation?e.append(this.navigation):(this.navigation=Global$1.loadWidgetByName(FormItemType$1.AWESOME_BOX),e.append(this.navigation)),this.setNavigationArrowsStatus()}buildEditViewUI(){var e=this;if(ContextMenuManager.getMenu(this.determineContextMenuMountAttributes().id)===void 0?this.buildContextMenu():Debug.Warn("Context Menu ("+this.determineContextMenuMountAttributes().id+") already exists for: "+this.viewId,"BaseViewController.js","BaseViewController","buildEditViewUI",10),this.edit_view){if(!this.edit_only_mode){var t=this.edit_view.find(".navigation-div"),i=t.find(".navigation-label"),a=t.find(".left-click"),o=t.find(".right-click"),n=t.find(".navigation-widget-div");this.initNavigationWidget(n),a.attr("src",Global$1.getRealImagePath("images/left_arrow.svg")),o.attr("src",Global$1.getRealImagePath("images/right_arrow.svg")),i.text(this.navigation_label)}this.edit_view_close_icon=this.edit_view.find(".close-icon"),this.edit_view_close_icon.hide(),this.edit_view_close_icon.click(function(){e.onCloseIconClick()})}this.edit_only_mode,this.edit_view_ui_dic={},this.edit_view_ui_validation_field_dic={},this.edit_view_form_item_dic={},this.edit_view_error_ui_dic={}}onCloseIconClick(){this.onCancelClick(),Global$1.triggerAnalyticsNavigationOther("close-X","click",this.viewId)}setWidgetVisible(e){var t=e;if(Global$1.isArray(e))for(var i=0;i<e.length;i++)t=e[i],t.css("opacity",1);else t.css("opacity",1)}addEditFieldToColumn(e,t,i,a,o,n,s,l,c,m){var d=this,u=jQuery(Global$1.loadWidgetByName(WidgetNamesDic$1.EDIT_VIEW_FORM_ITEM)),p=u.find(".edit-view-form-item-label-div"),v=u.find(".edit-view-form-item-label"),g=u.find(".edit-view-form-item-input-div"),h=t;if(Global$1.isArray(t))for(var w=0;w<t.length;w++)h=t[w],h.css("opacity",0);else h.css("opacity",0);if(m?(v.parent().append(m),v.remove()):(v.text(e),e&&e.indexOf(`
`)!==-1&&v.html(v.html().replace(/\n/g,"<br>"))),Global$1.isSet(o)?g.append(o):g.append(h),i.append(u),u.height()>35?p.css("height",u.height()):h.hasClass("a-dropdown")&&p.css("height",240),s&&!Global$1.UNIT_TEST_MODE&&u.unbind("resize").bind("resize",function(){p.height()!==u.height()&&u.height()>0&&p.css("height",u.height())}),!e){g.remove(),p.remove(),u.append(h),h.css("opacity",1),n&&l&&(this.edit_view_form_item_dic[l]=u);return}if(n&&(Global$1.isArray(t)?this.edit_view_form_item_dic[t[0].getField()]=u:this.edit_view_form_item_dic[h.getField()]=u),Global$1.isArray(t))for(var w=0;w<t.length;w++)h=t[w],this.edit_view_ui_dic[h.getField()]=h,f(),h.unbind("formItemChange").bind("formItemChange",function(C,y,I){d.onFormItemChange(y,I)}),c&&(h.unbind("formItemKeyUp").bind("formItemKeyUp",function(C,y){d.onFormItemKeyUp(y)}),h.unbind("formItemKeyDown").bind("formItemKeyDown",function(C,y){d.onFormItemKeyDown(y)}));else this.edit_view_ui_dic[h.getField()]=h,f(),h.bind("formItemChange",function(T,C,y){d.onFormItemChange(C,y)}),c&&(h.bind("formItemKeyUp",function(T,C){d.onFormItemKeyUp(C)}),h.bind("formItemKeyDown",function(T,C){d.onFormItemKeyDown(C)}));function f(){h.hasOwnProperty("getValidationField")&&h.getValidationField()&&(d.edit_view_ui_validation_field_dic[h.getValidationField()]?Global$1.isArray(d.edit_view_ui_validation_field_dic[h.getValidationField()])?d.edit_view_ui_validation_field_dic[h.getValidationField()].push(h):d.edit_view_ui_validation_field_dic[h.getValidationField()]=[d.edit_view_ui_validation_field_dic[h.getValidationField()],h]:d.edit_view_ui_validation_field_dic[h.getValidationField()]=h)}return u}editFieldResize(e){if(Global$1.isSet(e)||(e=this.getEditViewTabIndex()),Global$1.isSet(this.edit_view_tabs[e])&&!Global$1.isFalseOrNull(this.edit_view_tabs[e])&&this.edit_view_tabs[e].length>0)for(var t=this.edit_view_tabs[e],i=0;i<t.length;i++){var a=t[i].find(".edit-view-form-item-label-div"),o=t[i].find(".edit-view-form-item-sub-label-div > span");Global$1.isSet(o)&&o.length>0&&this.setEditFieldSize(o),this.setEditFieldSize(a)}}setEditFieldSize(e,t){if(Global$1.isSet(t))e.each(function(){jQuery(this).width(t)});else{var i=[];e.each(function(){if(jQuery(this).width()===0)return!0;jQuery(this).css("width","auto"),i.push(jQuery(this).width())}),i.sort(function(a,o){return o-a}),e.each(function(){i[0]>=0&&jQuery(this).width(i[0]+1)})}}setNavigation(){var e=this;this.grid&&(this.navigation.setPossibleDisplayColumns(this.buildDisplayColumnsByColumnModel(this.grid.getColumnModel()),this.buildDisplayColumns(this.default_display_columns)),this.navigation.unbind("onClose").bind("onClose",()=>{this.setNavigationArrowsEnabled()}),this.navigation.unbind("formItemChange").bind("formItemChange",function(t,i){i.getField();var a=i.getValue();a&&(a!==e.current_edit_record.id&&(ProgressBar.showOverlay(),e.is_viewing?e.onViewClick(a):e.onEditClick(a)),Global$1.triggerAnalyticsEditViewNavigation("navigation",e.viewId))}))}clearEditViewData(){for(var e in this.edit_view_ui_dic)this.edit_view_ui_dic.hasOwnProperty(e)&&(_.isFunction(this.edit_view_ui_dic[e].setEmptyValueAndShowLoading)?this.edit_view_ui_dic[e].setEmptyValueAndShowLoading():this.edit_view_ui_dic[e].setValue(null),this.edit_view_ui_dic[e].clearErrorStyle())}setEditViewData(){this.is_changed=!1,this.initEditViewData(),this.initTabData(),this.switchToProperTab()}switchToProperTab(){if(LocalCacheData.getAllURLArgs()&&LocalCacheData.getAllURLArgs().hasOwnProperty("tab")&&LocalCacheData.getAllURLArgs().tab.length>0&&LocalCacheData.current_open_primary_controller.viewId===this.viewId){var e=this.edit_view_tab.find(".edit-view-tab-bar-label").children().filter(function(){var i=jQuery(this).text().replace(/\/|\s+/g,"");return i===LocalCacheData.getAllURLArgs().tab}),t=0;e.length>0&&(e=jQuery(e[0]),t=e.index()),this.edit_view_tab.tabs("option","active",t)}}initTabData(){var e=this.getTabModel();if(e!=null)this.onTabShow();else{var t=this.getEditViewTabIndex();t===1&&(this.current_edit_record.id&&this.current_edit_record.id!=TTUUID.zero_id?(this.edit_view_tab.find("#tab_audit").find(".first-column-sub-view").css("display","block"),this.initSubLogView("tab_audit")):(this.edit_view_tab.find("#tab_audit").find(".first-column-sub-view").css("display","none"),this.showSaveAndContinueButton()))}}getEditViewTabIndex(){return this.edit_view.find(".edit-view-tab-bar li.ui-tabs-active").index()}getEditViewActiveTabName(){return this.edit_view?this.edit_view.find(".edit-view-tab-bar li.ui-tabs-active").attr("aria-controls"):!1}needShowNavigation(){return!!(this.current_edit_record&&Global$1.isSet(this.current_edit_record.id)&&this.current_edit_record.id)}initEditViewData(){var e=this;if(!this.edit_only_mode&&this.navigation&&this.grid){var t=this.grid.getData(),i=this.edit_view.find(".navigation-div");if(this.needShowNavigation()){i.css("display","block");let s=this.navigation.getSourceData(),l=this.navigation.getPagerData();if(this.navigation.setSourceData(s||t),this.navigation.setPagerData(l||this.pager_data),!this.navigation.getSourceData()){LocalCacheData.getLoginUserPreference()&&this.navigation.setRowPerPage(LocalCacheData.getLoginUserPreference().items_per_page),this.navigation.setPagerData(this.pager_data);var a={};a.filter_data=Global$1.convertLayoutFilterToAPIFilter(this.select_layout),a.filter_sort=this.select_layout.data.filter_sort,this.navigation.setDefaultArgs(a)}this.navigation.setValue(this.current_edit_record)}else i.css("display","none")}if(this.setUIWidgetFieldsToCurrentEditRecord(),this.is_mass_editing){for(var o in this.edit_view_ui_dic)if(this.edit_view_ui_dic.hasOwnProperty(o))if(this.unique_columns&&this.unique_columns.length>0&&this.unique_columns.indexOf(o)!=-1)e.edit_view_ui_dic[o].css("opacity","0"),e.edit_view_ui_dic[o].setEnabled&&e.edit_view_ui_dic[o].setEnabled(!1),e.edit_view_ui_dic[o].setMassEditMode&&e.edit_view_ui_dic[o].setMassEditMode(!1);else{var n=this.edit_view_ui_dic[o];Global$1.isSet(n.setMassEditMode)&&n.setMassEditMode(!0),e.edit_view_ui_dic[o].css("opacity","1")}}else for(var o in this.edit_view_ui_dic)e.edit_view_ui_dic[o].css("opacity","1");this.setNavigationArrowsEnabled(!0),this.setCurrentEditRecordData(),this.edit_view.find(".save-and-continue-div").SaveAndContinueBox({related_view_controller:this}),this.edit_view.find(".save-and-continue-div").css("display","none")}setUIWidgetFieldsToCurrentEditRecord(){var e=this;e.old_current_edit_record=Global$1.clone(e.current_edit_record),e.current_edit_record===!0&&(e.current_edit_record={});for(var t in this.edit_view_ui_dic)this.edit_view_ui_dic.hasOwnProperty(t)&&e.current_edit_record&&!Global$1.isSet(e.current_edit_record[t])&&(e.current_edit_record[t]=!1)}setDefaultData(e,t){var i=this;jQuery.each(e,function(a,o){t!=!0&&Global$1.isSet(i.current_edit_record[a])||(t==!0?i.edit_view_ui_dic[a]&&(i.edit_view_ui_dic[a].setValue(o),i.current_edit_record[a]=o):i.current_edit_record[a]=o)})}collectUIDataToCurrentEditRecord(){if(!this.is_mass_editing){var e=this;for(var t in this.edit_view_ui_dic)if(this.edit_view_ui_dic.hasOwnProperty(t)){var i=this.edit_view_ui_dic[t];if(i.hasClass("t-select")){var a=i.getValue();a&&e.current_edit_record&&e.current_edit_record[t]!=a&&(!a||a==="0"||Global$1.isArray(a)&&a.length===0?e.current_edit_record[t]=!1:e.current_edit_record[t]=a)}}}}setCurrentEditRecordData(){for(var e in this.current_edit_record)if(this.current_edit_record.hasOwnProperty(e)){var t=this.edit_view_ui_dic[e];if(Global$1.isSet(t))switch(e){case"country":this.setCountryValue(t,e);break;default:t.setValue(this.current_edit_record[e]);break}}this.collectUIDataToCurrentEditRecord(),this.setEditViewDataDone()}setCountryValue(e,t){this.current_edit_record.province?this.eSetProvince(this.current_edit_record[t]):this.eSetProvince(this.current_edit_record[t],!0),e.setValue(this.current_edit_record[t])}putInputToInsideFormItem(e,t){var i=jQuery(Global$1.loadWidgetByName(WidgetNamesDic$1.EDIT_VIEW_SUB_FORM_ITEM)),a=i.find(".edit-view-form-item-label"),o=i.find(".edit-view-form-item-input-div");return i.addClass("remove-margin"),a.text(jQuery.i18n._(t)),o.append(e),i}setEditViewDataDone(){this.setTabOVisibility(!0),TTPromise.resolve("init","init"),jQuery(".edit-view-tab-bar").css("opacity",1)}setNavigationArrowsStatus(){if(this.edit_view){var e=this.edit_view.find(".left-click"),t=this.edit_view.find(".right-click"),i=this;e.off("click").on("click",Global$1.debounce(function(o){e.hasClass("disabled")||i.onLeftArrowClick()},Global$1.calcDebounceWaitTimeBasedOnNetwork(),!0)),t.off("click").on("click",Global$1.debounce(function(o){t.hasClass("disabled")||i.onRightArrowClick()},Global$1.calcDebounceWaitTimeBasedOnNetwork(),!0))}}setNavigationArrowsEnabled(e){if(this.edit_view){if(e&&this.navigation&&typeof this.navigation.buildUnSelectGridFilter=="function"){var t=this.navigation.buildUnSelectGridFilter();if(t&&t.filter_data&&Object.keys(t.filter_data).length!==0){this.navigation.onADropDownSearch("unselect_grid",void 0,void 0,()=>{this.setNavigationArrowsEnabled(!1)});return}}var i=this.edit_view.find(".left-click"),a=this.edit_view.find(".right-click");if(i.removeClass("disabled"),a.removeClass("disabled"),!(!this.navigation||!this.navigation.hasOwnProperty("getSelectIndex"))){var o=this.navigation.getSelectIndex(),n=this.navigation.getSourceData();if(!n||Array.isArray(n)&&n.length===0){i.addClass("disabled"),a.addClass("disabled");return}var s=this.navigation.getPagerData();s?(o===0&&s.current_page===1&&i.addClass("disabled"),o===n.length-1&&s.current_page===s.last_page_number&&a.addClass("disabled")):(o===0&&i.addClass("disabled"),o===n.length-1&&a.addClass("disabled"))}}}onLeftArrowClick(e){var t=this;this.is_changed?TAlertManager.showConfirmAlert(Global$1.modify_alert_message,null,function(a){a===!0&&(t.is_changed=!1,i()),ProgressBar.closeOverlay()}):i(),Global$1.triggerAnalyticsEditViewNavigation("left-arrow",this.viewId);function i(){var a=t.navigation.getSelectIndex();t.navigation.getSourceData();var o=t.navigation.getPagerData(),n;if(a>0)n=t.navigation.getItemByIndex(a-1),t.onRightOrLeftArrowClickCallBack(n);else if(a===0&&o&&o.current_page>1)t.navigation.onADropDownSearch("unselect_grid",o.current_page-1,"last",function(s){n=s,t.onRightOrLeftArrowClickCallBack(n)});else{t.onCancelClick(null,null,e);return}}}refreshCurrentRecord(){var e=this.navigation.getItemByIndex(this.navigation.getSelectIndex());ProgressBar.showOverlay(),this.is_viewing?this.onViewClick(e.id):this.onEditClick(e.id),this.setNavigationArrowsEnabled()}getRightArrowClickSelectedIndex(e){return e}onRightArrowClick(e){var t=this;this.is_changed?TAlertManager.showConfirmAlert(Global$1.modify_alert_message,null,function(a){a===!0&&(t.is_changed=!1,i()),ProgressBar.closeOverlay()}):i(),Global$1.triggerAnalyticsEditViewNavigation("right-arrow",this.viewId);function i(){var a=t.getRightArrowClickSelectedIndex(t.navigation.getSelectIndex()),o=t.navigation.getSourceData(),n=t.navigation.getPagerData(),s;if(o)if(a<o.length-1)s=t.navigation.getItemByIndex(t.navigation.getSelectIndex()+1),t.onRightOrLeftArrowClickCallBack(s);else if(a===o.length-1&&n&&n.current_page<n.last_page_number)t.navigation.onADropDownSearch("unselect_grid",n.current_page+1,"first",function(l){s=l,t.onRightOrLeftArrowClickCallBack(s)});else{t.onCancelClick(null,null,e);return}}}onRightOrLeftArrowClickCallBack(e){ProgressBar.showOverlay(),this.is_viewing?this.onViewClick(e):this.onEditClick(e.id),this.setNavigationArrowsEnabled(),this.sub_log_view_controller&&this.sub_log_view_controller.search()}setParentContextMenuAfterSubViewClose(){this.parent_view_controller&&(this.parent_view_controller.buildContextMenu(),this.parent_view_controller.edit_view?this.parent_view_controller.setEditMenu():this.parent_view_controller.setDefaultMenu())}clearEditView(){this.edit_view&&(this.clearErrorTips(),this.edit_view.remove()),this.edit_view=null,this.edit_view_tab=null}removeEditView(){if(this.unmountContextMenu(),this.clearEditView(),this.setCurrentEditViewState(""),this.is_changed=!1,this.confirm_on_exit=!1,this.mass_edit_record_ids=[],this.edit_only_mode){var e=window.location.href;e.indexOf("&sm")>0&&(e=e.substring(0,e.indexOf("&sm")),Global$1.setURLToBrowser(e)),LocalCacheData.current_open_edit_only_controller=null}this.edit_only_mode?this.setParentContextMenuAfterSubViewClose():(this.buildContextMenu(!0),this.setDefaultMenu()),this.reSetURL(),LocalCacheData.getAllURLArgs()&&LocalCacheData.getAllURLArgs().a&&(LocalCacheData.current_doing_context_action=LocalCacheData.getAllURLArgs().a),this.sub_log_view_controller=null,this.edit_view_ui_dic={},this.edit_view_ui_validation_field_dic={},this.edit_view_form_item_dic={},this.edit_view_error_ui_dic={},this.current_edit_record=null,this.sub_document_view_controller&&(this.sub_document_view_controller=null)}reSetURL(){if(this.canSetURL()){var e="#!m="+this.viewId;Global$1.setURLToBrowser(Global$1.getBaseURL()+e),LocalCacheData.setAllURLArgs(Global$1.buildArgDic(e.split("&")))}}getGridSelectIdArray(){return this.grid?this.grid.getSelectedRows():[]}setDefaultMenuAddIcon(e,t,i){(!this.addPermissionValidate(i)||this.edit_only_mode)&&ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setDefaultMenuEditIcon(e,t,i){(!this.editPermissionValidate(i)||this.edit_only_mode)&&ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1),t===1&&this.editOwnerOrChildPermissionValidate(i)?ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!0):(ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1),t!==0&&ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1))}setDefaultMenuViewIcon(e,t,i){(!this.viewPermissionValidate(i)||this.edit_only_mode)&&ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1),t===1&&this.viewOwnerOrChildPermissionValidate()?ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!0):ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setDefaultMenuMassEditIcon(e,t,i){(!this.editPermissionValidate(i)||this.edit_only_mode)&&ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1),t>1?ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!0):(ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1),ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1))}setDefaultMenuCopyIcon(e,t,i){(!this.copyPermissionValidate(i)||this.edit_only_mode)&&ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1),t>=1?ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!0):ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setDefaultMenuDeleteIcon(e,t,i){(!this.deletePermissionValidate(i)||this.edit_only_mode)&&ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1),t>=1&&this.deleteOwnerOrChildPermissionValidate(i)?ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!0):ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setDefaultMenuDeleteAndNextIcon(e,t,i){(!this.deletePermissionValidate(i)||this.edit_only_mode)&&ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1),ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setDefaultMenuSaveIcon(e,t,i){ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1),ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setDefaultMenuSaveAndNextIcon(e,t,i){ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1),ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setDefaultMenuSaveAndCopyIcon(e,t,i){ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1),ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setDefaultMenuSaveAndContinueIcon(e,t,i){ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1),ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setDefaultMenuSaveAndAddIcon(e,t,i){ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1),ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setDefaultMenuCopyAsNewIcon(e,t,i){(!this.copyAsNewPermissionValidate(i)||this.edit_only_mode)&&ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1),t===1?ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!0):ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setDefaultMenuLoginIcon(e,t,i){PermissionManager.validate("company","login_other_user")||ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1),this.getGridSelectIdArray().length!==1&&ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setDefaultMenuCancelIcon(e,t,i){this.sub_view_mode||(ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1),ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1))}setDefaultMenuExportIcon(e,t,i){this.edit_only_mode||this.is_viewing||this.is_edit||this.is_add?(ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1),ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)):(t==0||this.grid==null)&&ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setDefaultMenuImportIcon(e,t,i){(!this.addPermissionValidate(i)||this.edit_only_mode)&&ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setDefaultMenuPermissionWizardIcon(e,t){ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setEditMenuPermissionWizardIcon(e,t){}setEditMenuImportIcon(e){(this.edit_only_mode||this.is_viewing||this.is_edit||this.is_add)&&(ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1),ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1))}setEditMenuAddIcon(e,t){(!this.addPermissionValidate(t)||this.edit_only_mode)&&ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1),this.is_add==!0&&ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setEditMenuEditIcon(e,t){(!this.editPermissionValidate(t)||this.edit_only_mode||this.is_mass_editing)&&ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1),(!this.is_viewing||!this.editOwnerOrChildPermissionValidate(t))&&ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setEditMenuNavEditIcon(e,t){(!this.editPermissionValidate(t)||this.edit_only_mode)&&ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setEditMenuNavViewIcon(e,t){(!this.viewPermissionValidate(t)||this.edit_only_mode)&&ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setEditMenuViewIcon(e,t){ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1),ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setEditMenuMassEditIcon(e,t){(!this.editPermissionValidate(t)||this.edit_only_mode||!this.is_mass_editing)&&ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1),ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setEditMenuDeleteIcon(e,t){(!this.deletePermissionValidate(t)||this.edit_only_mode)&&ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1),(!this.current_edit_record||!this.current_edit_record.id||!this.deleteOwnerOrChildPermissionValidate(t))&&ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setEditMenuDeleteAndNextIcon(e,t){(!this.deletePermissionValidate(t)||this.edit_only_mode)&&ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1),(!this.current_edit_record||!this.current_edit_record.id||!this.deleteOwnerOrChildPermissionValidate(t))&&ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setEditMenuCopyIcon(e,t){(!this.copyPermissionValidate(t)||this.edit_only_mode)&&ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1),(!this.current_edit_record||!this.current_edit_record.id)&&ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setEditMenuCopyAndAddIcon(e,t){(!this.copyAsNewPermissionValidate(t)||this.edit_only_mode)&&ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1),(!this.current_edit_record||!this.current_edit_record.id||this.is_viewing)&&ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setEditMenuSaveIcon(e,t){this.saveValidate(e,t),this.is_viewing&&ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setEditMenuSaveAndContinueIcon(e,t){this.saveAndContinueValidate(e,t),(this.is_mass_adding||this.is_mass_editing||this.is_viewing)&&ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setEditMenuSaveAndCopyIcon(e,t){this.saveAndCopyValidate(e,t),(this.is_mass_editing||this.is_viewing)&&ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setEditMenuSaveAndNextIcon(e,t){(!this.editPermissionValidate(t)||this.edit_only_mode)&&ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1),(!this.current_edit_record||!this.current_edit_record.id||this.is_viewing)&&ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setEditMenuSaveAndAddIcon(e,t){this.saveAndNewValidate(e,t),(this.is_viewing||this.is_mass_editing)&&ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setEditMenuCancelIcon(e,t){}ifContextButtonExist(e){for(var t=ContextMenuManager.getMenuModelByMenuId(this.determineContextMenuMountAttributes().id),i=t.length,a=0;a<i;a++){let o=t[a];if(t[a].id===e&&o.visible)return!0}return!1}onSubViewModeDisableParentContextMenuButtons(){if(this.sub_view_mode&&this.parent_view_controller)for(var e=ContextMenuManager.getMenuModelByMenuId(this.parent_view_controller.determineContextMenuMountAttributes().id),t=e.length,i=0;i<t;i++){let a=e[i];switch(e[i].id){case"add":case"delete_icon":case"delete_and_next":case"copy":case"copy_as_new":case"save_and_copy":case"save_and_new":ContextMenuManager.disableMenuItem(this.parent_view_controller.determineContextMenuMountAttributes().id,a.id,!1);break}}}hideJumpToMenu(){if(this.is_add||this.is_mass_adding)for(var e=ContextMenuManager.getMenuModelByMenuId(this.determineContextMenuMountAttributes().id),t=0;t<e.length;t++)e[t].action_group==="jump_to"&&ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e[t].id,!1)}setDefaultMenu(e,t){if(LocalCacheData.isLocalCacheExists("current_company")==!1)return!1;this.setTotalDisplaySpan();var i=ContextMenuManager.getMenuModelByMenuId(this.determineContextMenuMountAttributes().id),a=i.length;if(t===void 0){var o=this.getGridSelectIdArray();t=o.length}for(var n=0;n<a;n++){let s=i[n],l=i[n].id;switch(ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,s.id,!0),ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,s.id,!0),l){case"add":this.setDefaultMenuAddIcon(s,t);break;case"edit":this.setDefaultMenuEditIcon(s,t);break;case"view":this.setDefaultMenuViewIcon(s,t);break;case"mass_edit":this.setDefaultMenuMassEditIcon(s,t);break;case"copy":this.setDefaultMenuCopyIcon(s,t);break;case"delete_icon":this.setDefaultMenuDeleteIcon(s,t);break;case"delete_and_next":this.setDefaultMenuDeleteAndNextIcon(s,t);break;case"save":this.setDefaultMenuSaveIcon(s,t);break;case"save_and_next":this.setDefaultMenuSaveAndNextIcon(s,t);break;case"save_and_continue":this.setDefaultMenuSaveAndContinueIcon(s,t);break;case"save_and_new":this.setDefaultMenuSaveAndAddIcon(s,t);break;case"save_and_copy":this.setDefaultMenuSaveAndCopyIcon(s,t);break;case"copy_as_new":this.setDefaultMenuCopyAsNewIcon(s,t);break;case"login":this.setDefaultMenuLoginIcon(s,t);break;case"cancel":this.setDefaultMenuCancelIcon(s,t);break;case"import_icon":this.setDefaultMenuImportIcon(s,t);break;case"permission_wizard":this.setDefaultMenuPermissionWizardIcon(s,t);break;case"map":this.setDefaultMenuMapIcon(s,t);break;case"export_excel":this.setDefaultMenuExportIcon(s,t);break;default:this.setCustomDefaultMenuIcon(l,s,t);break}}this.initRightClickMenu()}setCustomDefaultMenuIcon(e,t,i){return!1}setEditMenu(){for(var e=ContextMenuManager.getMenuModelByMenuId(this.determineContextMenuMountAttributes().id),t=e.length,i=0;i<t;i++){let a=e[i],o=e[i].id;if(ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,a.id,!0),ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,a.id,!0),this.is_mass_editing){switch(o){case"save":this.setEditMenuSaveIcon(a);break;case"edit":this.setEditMenuEditIcon(a);break;case"cancel":break;default:ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,a.id,!1);break}continue}switch(o){case"add":this.setEditMenuAddIcon(a);break;case"edit":this.setEditMenuEditIcon(a);break;case"view":this.setEditMenuViewIcon(a);break;case"mass_edit":this.setEditMenuMassEditIcon(a);break;case"copy":this.setEditMenuCopyIcon(a);break;case"delete_icon":this.setEditMenuDeleteIcon(a);break;case"delete_and_next":this.setEditMenuDeleteAndNextIcon(a);break;case"save":this.setEditMenuSaveIcon(a);break;case"save_and_continue":this.setEditMenuSaveAndContinueIcon(a);break;case"save_and_new":this.setEditMenuSaveAndAddIcon(a);break;case"save_and_next":this.setEditMenuSaveAndNextIcon(a);break;case"save_and_copy":this.setEditMenuSaveAndCopyIcon(a);break;case"copy_as_new":this.setEditMenuCopyAndAddIcon(a);break;case"cancel":break;case"import_icon":this.setEditMenuImportIcon(a);break;case"permission_wizard":this.setEditMenuPermissionWizardIcon(a);break;case"login":this.setEditMenuLoginIcon(a);break;case"map":this.setEditMenuMapIcon(a);break;case"export_excel":this.setDefaultMenuExportIcon(a);break;default:this.setCustomEditMenuIcon(o,a);break}}this.hideJumpToMenu(),this.initRightClickMenu(RightClickMenuType.EDITVIEW)}setCustomEditMenuIcon(e,t){return!1}setDefaultMenuMapIcon(e){Global$1.getProductEdition()<=10&&ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1);var t=!1;if(this.grid){var i=this.getSelectedItems();if(Debug.Arr(i,"selected items","BaseViewController.js","BaseViewController","setDefaultMenuMapIcon",10),i.length>0){for(var a=0;a<i.length;a++)if(i[a]&&i[a].latitude&&i[a].longitude){t=!0;break}}}t?ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!0):ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setEditMenuMapIcon(e){this.setDefaultMenuMapIcon(e)}setEditMenuLoginIcon(e){ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setErrorMenu(){for(var e=ContextMenuManager.getMenuModelByMenuId(this.determineContextMenuMountAttributes().id),t=e.length,i=0;i<t;i++){let a=e[i],o=e[i].id;switch(e[i].split_button_active_item&&ContextMenuManager.freezeSplitButtonActiveItem(this.determineContextMenuMountAttributes().id,a.id),ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,a.id,!0),o){case"cancel":break;default:ContextMenuManager.disableMenuItem(this.determineContextMenuMountAttributes().id,a.id,!1);break}}}render(){var e=this;if(jQuery(window).off("resize.edit_tabs").on("resize.edit_tabs",Global$1.debounce(function(){e.edit_view&&e.setEditViewTabSize()},200)),TTPromise.add("BaseViewController","getCustomFields"),this.getCustomFieldsForView(),!this.sub_view_mode&&!this.edit_only_mode&&!this.tree_mode){var t=jQuery(jQuery.fn.SearchPanel.html.search_panel);jQuery(this.el).prepend(t),this.show_search_tab||t.hide(),this.search_panel=t.SearchPanel({viewController:this}),this.search_panel.on("searchTabSelect",function(){e.onSearchTabSelect}),TTPromise.wait("BaseViewController","getCustomFields",(function(){this.buildSearchFields(),this.buildCustomFieldSearchFields(),this.buildBasicSearchUI(),this.buildAdvancedSearchUI(),this.buildSearchAndLayoutUI(),setTimeout(function(){e.setCurrentViewPosition()},500)}).bind(this))}}setCurrentViewPosition(){var e=this.search_panel.find(".layout-selector-div"),t=this.search_panel.find("a[ref='saved_layout']").parent();!e||!t||t.offset()}onSearchTabSelect(e,t,i){var a=jQuery(i).prop("id");switch(a){case"basic_search":this.search_panel.getLastSelectTabId()!=="saved_layout"&&(this.getSearchPanelFilter(1,!0),this.buildBasicSearchUI(),this.setSearchPanelFilter(!1,0));break;case"adv_search":this.search_panel.getLastSelectTabId()!=="saved_layout"&&(this.getSearchPanelFilter(0,!0),this.buildAdvancedSearchUI(),this.setSearchPanelFilter(!1,1));break;case"saved_layout":this.getSearchPanelFilter(this.search_panel.getLastSelectTabIndex())}}initDropDownOptions(e,t){let i=this,a={};for(let n=0;n<e.length;n++){let s=e[n];Global$1.isSet(s.api)||(s.api=this.api),(!Global$1.isSet(s.field_name)||!s.field_name)&&(s.field_name=s.option_name+"_id"),(!Global$1.isSet(s.parent)||!s.parent)&&(s.parent=null),a[s.api.className]||(a[s.api.className]=[]),a[s.api.className].push(s)}let o=0;for(let n in a){if(Array.isArray(a[n])===!1){Global$1.isSet(t)&&t(),Debug.Text("Unexpected error api_groups[api_class] is not an array.","BaseViewController.js","BaseViewController","initDropDownOptions",9);return}let s=a[n].reduce((l,c)=>(l[c.option_name]=c.parent,l),{});TTAPI$1[n].getOptionsBatch(s,{onResult:function(l){let c=l.getResult();if(c&&Object.keys(c).length>0)for(let m in c){let d=c[m],u=a[n].find(p=>p.option_name===m);i[m+"_array"]=Global$1.buildRecordArray(d),i.sub_view_mode||(Global$1.isSet(i.basic_search_field_ui_dic[u.field_name])&&i.basic_search_field_ui_dic[u.field_name].setSourceData(Global$1.buildRecordArray(d)),Global$1.isSet(i.adv_search_field_ui_dic[u.field_name])&&i.adv_search_field_ui_dic[u.field_name].setSourceData(Global$1.buildRecordArray(d)))}o++,Object.keys(a).length===o&&Global$1.isSet(t)&&t(l)}})}}buildWidgetContainerWithTextTip(e,t){var i=jQuery("<div class='h-box'></div>"),a=Global$1.loadWidgetByName(FormItemType$1.TEXT);return a.css("margin-left","10px"),a.TText(),a.setValue(t),i.append(e),i.append(a),i}initDropDownOption(e,t,i,a,o){var n=this;Global$1.isSet(i)||(i=this.api),(!Global$1.isSet(t)||!t)&&(t=e+"_id"),i.getOptions(e,{onResult:function(s){var l=s.getResult();o?n[o]=Global$1.buildRecordArray(l):n[e+"_array"]=Global$1.buildRecordArray(l),n.sub_view_mode||(Global$1.isSet(n.basic_search_field_ui_dic[t])&&n.basic_search_field_ui_dic[t].setSourceData(Global$1.buildRecordArray(l)),Global$1.isSet(n.adv_search_field_ui_dic[t])&&n.adv_search_field_ui_dic[t].setSourceData(Global$1.buildRecordArray(l))),Global$1.isSet(a)&&a(s)}})}clearSearchPanel(){for(var e in this.basic_search_field_ui_dic){var t=this.basic_search_field_ui_dic[e];t.setValue(null)}for(var e in this.adv_search_field_ui_dic)t=this.adv_search_field_ui_dic[e],t.setValue(null)}onSearch(){if(TTPromise.add("init","init"),TTPromise.wait(),this.temp_adv_filter_data=null,this.temp_basic_filter_data=null,this.getSearchPanelFilter(),this.search_panel.getLayoutsArray()&&this.search_panel.getLayoutsArray().length>0){var e=jQuery(this.previous_saved_layout_selector).children("option:contains('"+R.default_layout_name+"')").attr("value");if(!e){this.onSaveNewLayout(R.default_layout_name);return}var t=R.default_layout_name}else if(this.show_search_tab){this.onSaveNewLayout(R.default_layout_name);return}else if(!this.show_search_tab){this.search(),this.setGridHeaderStyle();return}var i=this.getSearchPanelSortFilter(),a=this.getSearchPanelDisplayColumns(),o=Global$1.convertLayoutFilterToAPIFilter({data:{filter_data:this.getValidSearchFilter()}}),n={};n.id=e,n.data={},n.data.display_columns=a,n.data.filter_data=o,n.data.filter_sort=i,ProgressBar.showOverlay();var s=this;this.user_generic_data_api.setUserGenericData(n,{onResult:function(l){l&&l.isValid()&&(s.clearViewLayoutCache(),s.clearAwesomeboxLayoutCache(),s.need_select_layout_name=t,s.initLayout())}})}onClearSearch(){var e=!1;if(this.search_panel.getLayoutsArray()&&this.search_panel.getLayoutsArray().length>0){var t=jQuery(this.previous_saved_layout_selector).children("option:contains('"+R.default_layout_name+"')").attr("value");if(!t){this.clearSearchPanel(),this.filter_data=null,this.temp_adv_filter_data=null,this.temp_basic_filter_data=null,this.column_selector.setSelectGridData(this.default_display_columns),this.sort_by_selector.setValue(null),this.onSaveNewLayout(R.default_layout_name);return}var i=R.default_layout_name;this.clearSearchPanel(),this.filter_data=null,this.temp_adv_filter_data=null,this.temp_basic_filter_data=null,e=!0}else{this.clearSearchPanel(),this.filter_data=null,this.temp_adv_filter_data=null,this.temp_basic_filter_data=null,this.column_selector.setSelectGridData(this.default_display_columns),this.sort_by_selector.setValue(null),this.onSaveNewLayout(R.default_layout_name);return}this.sort_by_selector.setValue(null);var a=this.getSearchPanelSortFilter(),o=this.getSearchPanelDisplayColumns(),n=Global$1.convertLayoutFilterToAPIFilter({data:{filter_data:this.getValidSearchFilter()}});if(e){var s={};s.id=t,s.data={},s.data.display_columns=o,s.data.filter_data=n,s.data.filter_sort=a}var l=this;this.user_generic_data_api.setUserGenericData(s,{onResult:function(c){c&&c.isValid()&&(l.clearViewLayoutCache(),l.need_select_layout_name=i,l.initLayout())}})}onSaveNewLayout(e){if(Global$1.isSet(e))var t=e;else t=this.save_search_as_input.getValue();if(!(!t||t.length<1)){var i=this.getSearchPanelSortFilter(),a=this.getSearchPanelDisplayColumns(),o=Global$1.convertLayoutFilterToAPIFilter({data:{filter_data:this.getValidSearchFilter()}}),n={};n.script=this.script_name,n.name=t,n.is_default=!1,n.data={},n.data.display_columns=a,n.data.filter_data=o,n.data.filter_sort=i;var s=this,l=ALayoutCache.layout_dic[this.script_name];l&&ALayoutCache.layout_dic[l]&&(ALayoutCache.layout_dic[l]=null),this.user_generic_data_api.setUserGenericData(n,{onResult:function(c){c&&c.isValid()?(s.clearAwesomeboxLayoutCache(),s.clearViewLayoutCache(),s.need_select_layout_name=t,s.initLayout()):TAlertManager.showErrorAlert(c)}})}}onUpdateLayout(){var e=jQuery(this.previous_saved_layout_selector).children("option:selected").attr("value"),t=jQuery(this.previous_saved_layout_selector).children("option:selected").text(),i=this.getSearchPanelSortFilter(),a=this.getSearchPanelDisplayColumns(),o=Global$1.convertLayoutFilterToAPIFilter({data:{filter_data:this.getValidSearchFilter()}}),n={};n.id=e,n.data={},n.data.display_columns=a,n.data.filter_data=o,n.data.filter_sort=i;var s=this,l=ALayoutCache.layout_dic[this.script_name];l&&ALayoutCache.layout_dic[l]&&(ALayoutCache.layout_dic[l]=null),this.user_generic_data_api.setUserGenericData(n,{onResult:function(c){c&&c.isValid()&&(s.clearAwesomeboxLayoutCache(),s.clearViewLayoutCache(),s.need_select_layout_name=t,s.initLayout())}})}clearViewLayoutCache(){LocalCacheData.view_layout_cache&&LocalCacheData.view_layout_cache[this.script_name]&&(LocalCacheData.view_layout_cache[this.script_name]=null)}clearAwesomeboxLayoutCache(){ALayoutCache.layout_dic&&ALayoutCache.layout_dic[this.script_name]&&(ALayoutCache.layout_dic[ALayoutCache.layout_dic[this.script_name]]=null)}onDeleteLayout(){var e=jQuery(this.previous_saved_layout_selector).children("option:selected").attr("value"),t=this;this.user_generic_data_api.deleteUserGenericData(e,{onResult:function(i){i&&i.isValid()&&(t.clearAwesomeboxLayoutCache(),t.clearViewLayoutCache(),t.need_select_layout_name=t.select_layout.name,t.initLayout())}})}buildSearchFields(){}buildCustomFieldSearchFields(){this.search_fields||(this.search_fields=[]),this.custom_fields.forEach(e=>{if(e.enable_search){let t={label:e.name,in_column:1,field:this.getPrefixedCustomFieldID(e.id),basic_search:!1,adv_search:!0};switch(parseInt(e.type_id)){case 500:t.form_item_type=FormItemType$1.AWESOME_BOX,t.multiple=!1,t.layout_name="global_option_column",t.addition_source_function=(a,o)=>(o=[{value:TTUUID.zero_id,label:"-- "+jQuery.i18n._("ANY")+" --"},{value:!0,label:jQuery.i18n._("Yes")},{value:!1,label:jQuery.i18n._("No")}],o);break;case 1e3:t.form_item_type=FormItemType$1.DATE_PICKER;break;case 1100:t.form_item_type=FormItemType$1.TIME_PICKER;break;case 1200:t.form_item_type=FormItemType$1.DATE_PICKER,t.mode="date_time";break;case 1300:t.form_item_type=FormItemType$1.TEXT_INPUT,t.mode="time_unit",t.need_parser_sec=!0;break;case 2100:case 2110:t.form_item_type=FormItemType$1.AWESOME_BOX,t.layout_name="global_option_column",t.addition_source_function=(a,o)=>(o=[],e.meta_data.validation.multi_select_items&&e.meta_data.validation.multi_select_items.forEach(n=>{o.push({id:n.id,value:n.id,label:n.label})}),o);break;default:t.form_item_type=FormItemType$1.TEXT_INPUT;break}this.search_fields.push(new SearchField(t))}})}buildBasicSearchUI(){if(this.search_fields){var e=this.search_panel.find("div #basic_search_content_div");this.search_fields.length;var t=this,i=e.find(".first-column"),a=e.find(".second-column"),o=e.find(".third-column"),n=!1;jQuery.each(this.search_fields,function(s,l){if(Global$1.isSet(t.basic_search_field_ui_dic[l.get("field")]))return n=!0,!1;if(!l.get("basic_search"))return!0;var c=jQuery(jQuery.fn.SearchPanel.html.form_item),m=c.find(".form-item-label"),d=c.find(".form-item-input-div"),u=t.getFormItemInput(l);switch(m.text(l.get("label")),d.append(u),l.get("in_column")){case 1:i.append(c),i.append("<div class='clear-both-div'></div>");break;case 2:a.append(c),a.append("<div class='clear-both-div'></div>");break;case 3:o.append(c),o.append("<div class='clear-both-div'></div>");break}t.basic_search_field_ui_dic[l.get("field")]=u}),n||this.onBuildBasicUIFinished()}}buildAdvancedSearchUI(){if(this.search_fields){var e=this.search_panel.find("div #adv_search_content_div"),t=this,i=e.find(".first-column"),a=e.find(".second-column"),o=e.find(".third-column"),n=!1,s=!0;jQuery.each(this.search_fields,function(l,c){if(Global$1.isSet(t.adv_search_field_ui_dic[c.get("field")]))return n=!0,s=!1,!1;if(!c.get("adv_search"))return!0;var m=jQuery(jQuery.fn.SearchPanel.html.form_item),d=m.find(".form-item-label"),u=m.find(".form-item-input-div"),p=t.getFormItemInput(c);switch(d.text(c.get("label")),u.append(p),c.get("in_column")){case 1:i.append(m),i.append("<div class='clear-both-div'></div>");break;case 2:a.append(m),a.append("<div class='clear-both-div'></div>");break;case 3:o.append(m),o.append("<div class='clear-both-div'></div>");break}t.adv_search_field_ui_dic[c.get("field")]=p,s=!1}),s&&this.search_panel.hideAdvSearchPanel(),n||this.onBuildAdvUIFinished()}}onSetSearchFilterFinished(){}onBuildAdvUIFinished(){}onBuildBasicUIFinished(){}getFormItemInput(e){var t,i=e.get("form_item_type");switch(i){case FormItemType$1.AWESOME_BOX:t=Global$1.loadWidgetByName(FormItemType$1.AWESOME_BOX);var a=!1,o;e.get("layout_name")!=="global_option_column"&&e.get("layout_name")!=="global_tree_column"?(a=!0,o="id"):e.get("layout_name")==="global_tree_column"?o="id":o="value",t.AComboBox({api_class:e.get("api_class"),allow_multiple_selection:e.get("multiple"),layout_name:e.get("layout_name"),tree_mode:e.get("tree_mode"),default_args:e.get("default_args"),show_search_inputs:a,set_any:e.get("set_any"),addition_source_function:e.get("addition_source_function"),script_name:e.get("script_name"),custom_first_label:e.get("custom_first_label"),key:o,search_panel_model:!0,field:e.get("field")}),e.get("customSearchFilter")&&(t.customSearchFilter=e.get("customSearchFilter"));break;case FormItemType$1.TEXT_INPUT:t=Global$1.loadWidgetByName(FormItemType$1.TEXT_INPUT),t.TTextInput({field:e.get("field"),need_parser_sec:e.get("need_parser_sec"),mode:e.get("mode")});break;case FormItemType$1.TIME_PICKER:t=Global$1.loadWidgetByName(FormItemType$1.TIME_PICKER),t.TTimePicker({field:e.get("field")});break;case FormItemType$1.PASSWORD_INPUT:t=Global$1.loadWidgetByName(FormItemType$1.PASSWORD_INPUT),t.TTextInput({field:e.get("field")});break;case FormItemType$1.COMBO_BOX:t=Global$1.loadWidgetByName(FormItemType$1.COMBO_BOX),t.TComboBox({field:e.get("field"),set_any:!0});break;case FormItemType$1.TAG_INPUT:t=Global$1.loadWidgetByName(FormItemType$1.TAG_INPUT),t.TTagInput({field:e.get("field"),object_type_id:e.get("object_type_id")});break;case FormItemType$1.DATE_PICKER:t=Global$1.loadWidgetByName(i),t=jQuery(t),t.TDatePicker({field:e.get("field"),mode:e.get("mode")});break;case FormItemType$1.CHECKBOX:t=Global$1.loadWidgetByName(FormItemType$1.CHECKBOX),t.TCheckbox({field:e.get("field")});break;default:Debug.Error("ERROR: Form type does not exist: "+i,"BaseViewController.js","BaseViewController","getFormItemInput",2);break}return t}buildSearchAndLayoutUI(){var e=this.search_panel.find("div #saved_layout_content_div"),t=jQuery(jQuery.fn.SearchPanel.html.form_item),i=t.find(".form-item-label"),a=t.find(".form-item-input-div");this.column_selector=Global$1.loadWidgetByName(FormItemType$1.AWESOME_DROPDOWN),this.column_selector=this.column_selector.ADropDown({display_show_all:!1,id:this.ui_id+"_column_selector",key:"value",allow_drag_to_order:!0,display_close_btn:!1,display_column_settings:!1,max_height:150}),this.column_selector.on("formItemChange",function(){n.layout_changed=!0}),i.text(jQuery.i18n._("Display Columns")),i.addClass("SearchPanel-displayColumns-label"),a.append(this.column_selector),e.append(t),e.append("<div class='clear-both-div'></div>"),this.column_selector.setColumns([{name:"label",index:"label",label:jQuery.i18n._("Column Name"),width:100,sortable:!1}]),t=jQuery(jQuery.fn.SearchPanel.html.form_item),i=t.find(".form-item-label"),a=t.find(".form-item-input-div"),this.sort_by_selector=Global$1.loadWidgetByName(FormItemType$1.AWESOME_BOX),this.sort_by_selector=this.sort_by_selector.AComboBox({allow_drag_to_order:!0,allow_multiple_selection:!0,set_empty:!0,layout_name:"global_sort_columns"}),i.text(jQuery.i18n._("Sort By")),a.append(this.sort_by_selector),e.append(t),e.append("<div class='clear-both-div'></div>"),t=jQuery(jQuery.fn.SearchPanel.html.form_item),i=t.find(".form-item-label"),a=t.find(".form-item-input-div"),i.text(jQuery.i18n._("Save Search As")),this.save_search_as_input=Global$1.loadWidgetByName(FormItemType$1.TEXT_INPUT),this.save_search_as_input.TTextInput();var o=jQuery(`<button class="tt-button p-button p-component small-search-panel-button" type="button">
<span class="tticon tticon-save_black_24dp"></span>
<span class="p-button-label">`+jQuery.i18n._("Save")+`</span>
</button>`);a.append(this.save_search_as_input),a.append(o);var n=this;o.click(function(){n.saving_layout_in_layout_tab=!0,n.onSaveNewLayout(),n.search()}),this.previous_saved_layout_div=jQuery("<div class='previous-saved-layout-div'></div>"),a.append(this.previous_saved_layout_div),i=jQuery("<span style='margin-left: 5px' >"+jQuery.i18n._("Previous Saved Searches")+":</span>"),this.previous_saved_layout_div.append(i),this.previous_saved_layout_selector=jQuery("<select style='margin-left: 5px' class='t-select'>");var s=jQuery(`<button class="tt-button p-button p-component small-search-panel-button" type="button">
<span class="tticon tticon-save_black_24dp"></span>
<span class="p-button-label">`+jQuery.i18n._("Update")+`</span>
</button>`),l=jQuery(`<button class="tt-button p-button p-component small-search-panel-button" type="button">
<span class="tticon tticon-delete_black_24dp"></span>
<span class="p-button-label">`+jQuery.i18n._("Delete")+`</span>
</button>`);s.click(function(){n.onUpdateLayout()}),l.click(function(){n.onDeleteLayout()}),this.previous_saved_layout_div.append(this.previous_saved_layout_selector),this.previous_saved_layout_div.append(s),this.previous_saved_layout_div.append(l),e.append(t),this.previous_saved_layout_div.css("display","none")}onGridSelectRow(){jQuery("#ribbon_view_container .context-menu:visible a").click(),this.setDefaultMenu()}setPreviousSavedSearchSourcesAndValue(e){var t=this;if(this.previous_saved_layout_selector)if(this.previous_saved_layout_selector.empty(),e&&e.length>0){this.previous_saved_layout_div.css("display","inline");for(var i=e.length,a=0;a<i;a++){var o=e[a];this.previous_saved_layout_selector.append(jQuery('<option value="'+o.id+'"></option>').text(o.name))}jQuery(this.previous_saved_layout_selector.find("option")).filter(function(){return jQuery(this).attr("value")==t.select_layout.id}).prop("selected",!0).attr("selected",!0)}else this.previous_saved_layout_div.css("display","none")}setSelectLayout(e){var t=this,i,a="grid";Global$1.isSet(this.grid)||(i=jQuery(this.el).find("#grid"),i.attr("id",this.ui_id+"_grid"),a=this.ui_id+"_grid");var o=[];this.select_layout||(this.select_layout={id:""},this.select_layout.data={filter_data:{},filter_sort:{}},this.select_layout.data.display_columns=this.default_display_columns);var n=this.select_layout.data;(!n.display_columns||n.display_columns.length==0)&&(n.display_columns=this.default_display_columns);var s=this.buildDisplayColumns(n.display_columns);if(!this.sub_view_mode&&this.search_panel){this.column_selector&&(!this.layout_changed&&this.column_selector.getSelectGrid()&&this.column_selector.getSelectGrid().getSetup()&&!_.isEqual(s,this.column_selector.getSelectGrid().getSetup())&&(this.layout_changed=!0),this.column_selector.setSelectGridData(s)),this.sort_by_selector&&(this.sort_by_selector.setSourceData(this.buildSortSelectorUnSelectColumns(s)),this.sort_by_selector.setValue(this.buildSortBySelectColumns()));var l=this.search_panel.getLayoutsArray();this.setPreviousSavedSearchSourcesAndValue(l)}for(var c=s.length,m=0;m<c;m++){var d=s[m];if(jQuery.inArray(d.value,e)===-1){var u={name:d.value,index:d.value,label:d.label,width:100,sortable:!1,title:!1};o.push(u)}}var p=!1;if(this.grid&&(a=this.ui_id+"_grid",this.layout_changed==!0&&(t.layout_changed=!1,this.grid.grid.jqGrid("GridUnload"),this.grid=null)),this.showGridBorders(),!this.grid){var v=this.getGridSetup();this.sub_view_mode&&(v.height=1),this.grid=new TTGrid(a,v,o),this.sub_view_mode&&this.grid.grid.hide(),this.setGridColumnsWidth(),this.setGridSize(this.ui_id,this.sub_view_mode,this.sub_view_grid_autosize,this.pager_data)}this.grid&&p&&this.grid.reloadGrid(),LocalCacheData.paging_type===0?(this.paging_widget.parent().length>0&&this.paging_widget.remove(),this.paging_widget.css("width",this.grid.grid.width()),this.grid.grid.append(this.paging_widget),this.paging_widget.click(t.onPaging())):(jQuery(this.el).find(".total-number-div").append(this.paging_widget),jQuery(this.el).find(".bottom-div").append(this.paging_widget_2),this.paging_widget.on("paging",function(g,h,w){t.onPaging2(g,h,w)}),this.paging_widget_2.bind("paging",function(g,h,w){t.onPaging2(g,h,w)})),this.bindGridColumnEvents(),this.setGridHeaderStyle(),LocalCacheData.default_filter_for_next_open_view&&(this.select_layout.data.filter_data=LocalCacheData.default_filter_for_next_open_view.filter_data,LocalCacheData.default_filter_for_next_open_view=null),this.filter_data=this.select_layout.data.filter_data,this.sub_view_mode||this.setSearchPanelFilter(!0)}getGridSetup(){var e=this,t=this.grid_parent?this.grid_parent:".grid-div";return!this.grid_parent&&this.sub_view_mode&&(jQuery("#"+this.ui_id+"_grid").parents(".sub-view").length>0?t=".sub-grid-view-div":t=".edit-view-tab-bar"),{container_selector:t,sub_grid_mode:this.sub_view_mode,onResizeGrid:!0,onSelectRow:function(){e.onGridSelectRow()},onCellSelect:function(){e.onGridSelectRow()},onSelectAll:function(){e.onGridSelectAll()},ondblClickRow:function(i){e.onGridDblClickRow(i)},onRightClickRow:function(i){var a=e.getGridSelectIdArray();a.indexOf(i)<0&&(e.grid.grid.resetSelection(),e.grid.grid.setSelection(i),e.onGridSelectRow())},height:1}}onGridSelectAll(){this.setDefaultMenu()}unSelectAll(){this.grid.grid.resetSelection()}onGridDblClickRow(e){this.grid.grid.resetSelection(),this.grid.setSelection(e,!1),this.setDefaultMenu(!0);for(var t=ContextMenuManager.getMenuModelByMenuId(this.determineContextMenuMountAttributes().id),i=t.length,a=!1,o=0;o<i&&!a;o++){var n=t[o].id;switch(n){case"edit":if(!t[o].disabled&&t[o].visible){ProgressBar.showOverlay(),this.onEditClick();return}break}}for(var o=0;o<i&&!a;o++){var n=t[o].id;switch(n){case"view":if(a=!0,!t[o].disabled&&t[o].visible){ProgressBar.showOverlay(),this.onViewClick();return}break}}for(var o=0;o<i;o++){var n=t[o].id;switch(n){case"add":if(!t[o].disabled&&t[o].visible){this.onAddClick();return}break}}}onPaging(){this.search(!0,"next")}onPaging2(e,t,i){this.search(!0,t,i)}bindGridColumnEvents(){var e=this.grid.getColumnModel();if(!e)return;var t=e.length;this.t_grid_header_array=[];for(var i=0;i<t;i++){var a=e[i],o=jQuery(jQuery(this.el).find("#gbox_"+this.ui_id+"_grid").find("div #jqgh_"+this.ui_id+"_grid_"+a.name));this.t_grid_header_array.push(o.TGridHeader()),this.search_panel&&o.on("click",s)}var n=this;function s(l){var c=jQuery(this).attr("id");c=c.substring(10+n.ui_id.length+1,c.length),c!=="cb"&&(l.preventDefault(),n.sorting_rows?Debug.Text("Skipping column sort call ","","BaseViewController","onColumnHeaderClick",10):(n.sorting_rows=!0,TTPromise.add("init","init"),TTPromise.wait(null,null,function(){n.sorting_rows=!1}),l.metaKey||l.ctrlKey?n.buildSortCondition(!1,c):n.buildSortCondition(!0,c),n.sub_view_mode?(n.search(),n.setGridHeaderStyle()):(n.sort_by_selector&&n.sort_by_selector.setValue(n.buildSortBySelectColumns()),n.onSearch())))}}getValidSearchFilter(){var e={};for(var t in this.filter_data)Global$1.isSet(this.filter_data[t])&&Global$1.isSet(this.filter_data[t].value)&&this.filter_data[t].value!==""&&(e[t]=this.filter_data[t]);return e}getSearchPanelDisplayColumns(){var i;var e=[],t=(i=this.column_selector)==null?void 0:i.getSelectItems();return t&&t.length>0&&jQuery.each(t,function(a,o){e.push(o.value)}),(!e||e.length==0)&&(e=this.default_display_columns),e}getSearchPanelSortFilter(){var e=[];if(this.sort_by_selector){var t=this.sort_by_selector.getValue(!0);t&&t.length>0&&jQuery.each(t,function(i,a){var o={};o[a.value]=a.sort,e.push(o)})}return e}getSearchPanelFilter(e,t){if(this.search_panel){if(Global$1.isSet(e))var i=e;else i=this.search_panel.getSelectTabIndex();var a=null;if(i===0)this.filter_data=[],a=this.basic_search_field_ui_dic;else if(i===1&&this.search_panel.isAdvTabVisible())this.filter_data=[],a=this.adv_search_field_ui_dic;else return;var o=this;jQuery.each(a,function(n,s){o.filter_data[n]={field:n,id:"",value:a[n].getValue(!0)},o.temp_basic_filter_data&&(o.temp_basic_filter_data[n]=o.filter_data[n]),o.temp_adv_filter_data&&(o.temp_adv_filter_data[n]=o.filter_data[n])}),t&&(i===0?o.temp_basic_filter_data=Global$1.clone(o.filter_data):i===1&&(o.temp_adv_filter_data=Global$1.clone(o.filter_data)))}}setSearchPanelFilter(e,t){this.clearSearchPanel(),Global$1.isSet(e)||(e=!1);var i=this.filter_data;if(Global$1.isSet(t)&&(t===0&&this.temp_basic_filter_data?i=this.temp_basic_filter_data:t===1&&this.temp_adv_filter_data&&(i=this.temp_adv_filter_data)),!(!Global$1.isSet(i)||!this.search_fields)){for(var a=this.search_fields.length,o=0;o<a;o++){var n=this.search_fields[o],s=n.get("field"),l=this.basic_search_field_ui_dic[s],c=this.adv_search_field_ui_dic[s];Global$1.isSet(i[s])&&(Global$1.isSet(l)?jQuery.type(i[s])==="string"||jQuery.type(i[s])==="number"?l.setValue(i[s]):i[s].hasOwnProperty("value")?l.setValue(i[s].value):l.setValue(i[s]):e&&!this.saving_layout_in_layout_tab&&this.search_panel.getSelectTabIndex()!==1&&this.search_panel.setSelectTabIndex(1,!1),Global$1.isSet(c)&&(jQuery.type(i[s])==="string"||jQuery.type(i[s])==="number"?c.setValue(i[s]):i[s].hasOwnProperty("value")?c.setValue(i[s].value):c.setValue(i[s])))}this.getSearchPanelFilter(),this.search_panel.setSearchFlag(this.getValidSearchFilter()),this.onSetSearchFilterFinished()}}setGridHeaderStyle(){for(var e=0;e<this.t_grid_header_array.length;e++){var t=this.t_grid_header_array[e],i=t.attr("id");if((typeof i=="string"||i instanceof String)&&(i=i.substring(10+this.ui_id.length+1,i.length),t.cleanSortStyle(),this.select_layout.data.filter_sort))for(var a=this.select_layout.data.filter_sort.length,o=0;o<a;o++){var n=this.select_layout.data.filter_sort[o],s=Global$1.getFirstKeyFromObject(n);s===i&&(a>1?t.setSortStyle(n[s],o+1):t.setSortStyle(n[s],0))}}}buildSortCondition(e,t){var i="desc";if(e){if(this.select_layout.data.filter_sort&&this.select_layout.data.filter_sort.length>0)for(var a=this.select_layout.data.filter_sort.length,o=!1,n=0;n<a;n++){var s=this.select_layout.data.filter_sort[n];for(var l in s)s.hasOwnProperty(l)&&l===t&&(s[l]==="asc"?i="desc":i="asc",o=!0);if(o)break}this.select_layout.data.filter_sort=[{}],this.select_layout.data.filter_sort[0][t]=i}else if(!this.select_layout.data.filter_sort)this.select_layout.data.filter_sort=[{}],this.select_layout.data.filter_sort[0][t]="asc";else{a=this.select_layout.data.filter_sort.length,o=!1;for(var n=0;n<a;n++){s=this.select_layout.data.filter_sort[n];for(var l in s)s.hasOwnProperty(l)&&l===t&&(s[l]==="asc"?s[l]="desc":s[l]="asc",o=!0);if(o)break}o||(this.select_layout.data.filter_sort.push({}),this.select_layout.data.filter_sort[a][t]="asc")}}search(e,t,i,a){var c;Global$1.isSet(e)||(e=!0);var o={};if(o.filter_data={},o.filter_sort={},o.filter_columns=this.getFilterColumnsFromDisplayColumns(),o.filter_items_per_page=0,this.pager_data)if(LocalCacheData.paging_type===0)t==="next"?o.filter_page=this.pager_data.next_page:o.filter_page=1;else switch(t){case"next":o.filter_page=this.pager_data.next_page;break;case"last":o.filter_page=this.pager_data.previous_page;break;case"start":o.filter_page=1;break;case"end":o.filter_page=this.pager_data.last_page_number;break;case"go_to":o.filter_page=i;break;default:o.filter_page=this.pager_data.current_page;break}else o.filter_page=1;if((c=this.select_layout)!=null&&c.data&&(this.sub_view_mode&&this.parent_key&&(this.select_layout.data.filter_data[this.parent_key]=this.parent_value),Global$1.isSet(this.getSubViewFilter)&&(this.select_layout.data.filter_data=this.getSubViewFilter(this.select_layout.data.filter_data)),o.filter_data=Global$1.convertLayoutFilterToAPIFilter(this.select_layout),o.filter_sort=this.select_layout.data.filter_sort),TTUUID.isUUID(this.refresh_id))o.filter_data={},o.filter_data.id=[this.refresh_id],this.last_select_ids=o.filter_data.id;else{this.last_select_ids=[];for(var n=this.getGridSelectIdArray(),s=0;s<n.length;s++)this.last_select_ids.push(n[s])}var l=this;this.api["get"+this.api.key_name](o,{onResult:function(m){var T;var d=m.getResult(),u;if(e&&l.setDefaultMenu(!0),!Global$1.isArray(d)&&(!TTUUID.isUUID(l.refresh_id)||l.refresh_id==TTUUID.zero_id||l.refresh_id==TTUUID.not_exist_id)?(l.refresh_id=null,l.showNoResultCover()):(l.removeNoResultCover(),Global$1.isSet(l.__createRowId)&&(d=l.__createRowId(d)),Global$1.isSet(l.showGridOptionFields)&&(d=l.showGridOptionFields(d)),d=Global$1.formatGridData(d,l.api.key_name),u=d.length),TTUUID.isUUID(l.refresh_id)){l.refresh_id=null;var p=(T=l.grid)==null?void 0:T.getData();u=p.length,jQuery.type(p)!=="array"&&(p=[]);var v=!1,g=d[0];if(g){for(var h=0;h<u;h++){var w=p[h];if(w.id==g.id){l.grid.setRowData(g.id,g),p[h]=g,v=!0;break}}v||(l.grid.setData(p.concat(g)),l.highLightGridRowById(g.id),l.reSelectLastSelectItems())}}else{if(l.pager_data=m.getPagerData(),LocalCacheData.paging_type!==0&&l.paging_widget&&l.paging_widget_2&&(l.paging_widget.setPagerData(l.pager_data),l.paging_widget_2.setPagerData(l.pager_data)),LocalCacheData.paging_type===0&&t==="next"){var f=l.grid.getData();d=f.concat(d)}d=l.processResultData(d),l.grid&&(l.grid.setData(d),l.reSelectLastSelectItems())}l.setGridCellBackGround(),ProgressBar.closeOverlay(),LocalCacheData.paging_type===0&&(!l.pager_data||l.pager_data.is_last_page?l.paging_widget.css("display","none"):l.paging_widget.css("display","block")),a&&a(m),e&&l.autoOpenEditViewIfNecessary(),l.searchDone()}})}resizeSubGrid(e){var t=e*26>=200?200:e*26;jQuery(".edit-view-tab:visible .grid-div").length>1?t<100&&(t=100):t=jQuery(".edit-view-tab:visible").parent().height()-85,this.setGridColumnsWidth(),this.setGridHeight(t)}setGridColumnsWidth(){this.grid&&this.grid.setGridColumnsWidth()}setGridHeight(e){this.grid&&this.grid.setGridHeight(e)}setGridWidth(e){this.grid&&this.grid.setGridWidth(e)}processResultData(e){return e}searchDone(){jQuery(".button-rotate").removeClass("button-rotate"),this.setTotalDisplaySpan(),this.setGridColumnsWidth(),this.setGridSize(this.ui_id,this.sub_view_mode,this.sub_view_grid_autosize,this.pager_data),this.sub_view_mode&&this.grid&&this.grid.grid.show(),TTPromise.resolve("BaseViewController","onTabShow"),TTPromise.resolve("init","init")}reSelectLastSelectItems(){var e=this;this.last_select_ids&&this.last_select_ids.length>0&&(jQuery.each(this.last_select_ids,function(t,i){e.grid.grid.setSelection(i,!1),e.grid_select_id_array&&e.grid_select_id_array.push(i)}),this.last_select_ids=[],this.edit_view||this.setDefaultMenu())}autoOpenEditViewIfNecessary(){if(!(this.sub_view_mode&&!LocalCacheData.edit_id_for_next_open_view)){switch(LocalCacheData.current_doing_context_action){case"edit":LocalCacheData.edit_id_for_next_open_view&&(this.onEditClick(LocalCacheData.edit_id_for_next_open_view),LocalCacheData.edit_id_for_next_open_view=null);break;case"view":LocalCacheData.edit_id_for_next_open_view&&(this.onViewClick(LocalCacheData.edit_id_for_next_open_view),LocalCacheData.edit_id_for_next_open_view=null);break;case"new":this.edit_view||this.onAddClick();break}this.autoOpenEditOnlyViewIfNecessary()}}autoOpenEditOnlyViewIfNecessary(){this.sub_view_mode||LocalCacheData.getAllURLArgs()&&LocalCacheData.getAllURLArgs().sm&&!LocalCacheData.current_open_edit_only_controller&&(LocalCacheData.getAllURLArgs().sm.indexOf("Report")<0?IndexViewController.openEditView(this,LocalCacheData.getAllURLArgs().sm,LocalCacheData.getAllURLArgs().sid):(IndexViewController.openReport(this,LocalCacheData.getAllURLArgs().sm),LocalCacheData.getAllURLArgs().sid&&(LocalCacheData.default_edit_id_for_next_open_edit_view=LocalCacheData.getAllURLArgs().sid)))}setGridCellBackGround(){if(this.grid&&(this.script_name.indexOf("Policy")>=0||this.script_name==="RecurringScheduleTemplateControlView"||this.script_name==="PayCodeView"||this.script_name==="RecurringHolidayView"||this.script_name==="LegalEntityView"||this.script_name==="RemittanceSourceAccountView"||this.script_name==="PayrollRemittanceAgencyView"||this.script_name==="RemittanceDestinationAccountView")){var e=this.grid.getData();if(!e)return;for(var t=e.length,i=0;i<t;i++){var a=e[i];a.is_in_use===!1&&jQuery("tr[id='"+a.id+"']").addClass("policy-not-in-use")}}}showGridBorders(){var e=jQuery(this.el).find(".grid-top-border"),t=jQuery(this.el).find(".grid-bottom-border");e.css("display","block"),t.css("display","block")}_setGridSizeGroupheight(e){this.grid.grid.setGridHeight(jQuery(this.el).height()-(this.search_panel&&this.search_panel.is(":visible")?this.search_panel.height():0)-43-e)}setEditViewTabSize(){var e=this,t=this.edit_view_tab.find(".edit-view-tab-bar-label"),i=this.edit_view_tab.width()-80,a=this.edit_view_tab.find(".navigation-div").width(),o=this.edit_view.find(".tab-label-wrap"),n=0;if(t.children().each(function(){n+=jQuery(this).width()}),n>i-a-25){if(t.width(n+20),o.length===0){var s=jQuery('<img class="tab-arrow tab-right-arrow" style="display: none" src="theme/default/images/right_big_arrow.png" >'),l=jQuery('<img class="tab-arrow tab-left-arrow" style="display: none" src="theme/default/images/left_big_arrow.png" >');o=jQuery('<div class="tab-label-wrap"><div class="label-wrap"></div><div class="btn-wrap"></div></div>'),o.insertBefore(t),o.width(i-a-25),o.children().eq(0).width(i-a-100),o.children().eq(0).append(t),o.children().eq(1).append(l),o.children().eq(1).append(s),s.bind("click",function(){o.children().eq(0).scrollLeft(o.children().eq(0).scrollLeft()+500),c()}),l.bind("click",function(){o.children().eq(0).scrollLeft(o.children().eq(0).scrollLeft()-500),c()})}else o.width(i-a-25),o.children().eq(0).width(i-a-100);t.children().eq(0).is(":visible")&&!this.is_mass_editing?this.edit_view_tab.find(".tab-arrow").show():this.edit_view_tab.find(".tab-arrow").hide(),c()}else t.width("auto"),o.length>0&&(t.insertBefore(o),o.remove());function c(){var m=e.edit_view_tab.find(".tab-left-arrow"),d=e.edit_view_tab.find(".tab-right-arrow"),u=o.children().eq(0);m.removeClass("disable-image"),d.removeClass("disable-image"),u.scrollLeft()===0&&m.addClass("disable-image"),Math.abs(u.scrollLeft()-Math.ceil(u[0].scrollWidth-u.width()))<2&&d.addClass("disable-image")}}getFilterColumnsFromDisplayColumns(e,t){return this._getFilterColumnsFromDisplayColumns(e,t)}_getFilterColumnsFromDisplayColumns(e,t){e||(e={}),(t==null||t==!0)&&(e.is_owner=!0,e.id=!0,e.is_child=!0,e.in_use=!0,e.first_name=!0,e.last_name=!0);var i={};if(Global$1.isSet(LocalCacheData.view_layout_cache[this.script_name])){var a=LocalCacheData.view_layout_cache[this.script_name].getResult();a!=null&&a.length>0&&(i=a[0].data.display_columns)}if(this.select_layout&&this.select_layout.data&&this.select_layout.data.display_columns)for(var o in this.select_layout.data.display_columns)i[o]=this.select_layout.data.display_columns[o];if((i.length==null||i.length==0&&Global$1.isSet(this.default_display_columns))&&(i=this.default_display_columns),i.length!=null&&i.length>0)for(var n=i.length,s=0;s<n;s++)e[i[s]]=!0;return e}getAllLayouts(e){var t=this,i;if(this.need_select_layout_name?(i=this.need_select_layout_name,this.need_select_layout_name=""):i=R.default_layout_name,!this.force_get_select_layout&&(this.sub_view_mode||!this.show_search_tab)){t.select_layout=null,e&&e();return}LocalCacheData.view_layout_cache[this.script_name]?setTimeout(function(){a(LocalCacheData.view_layout_cache[t.script_name])},0):(this.user_generic_data_api||(this.user_generic_data_api=TTAPI$1.APIUserGenericData),this.user_generic_data_api.getUserGenericData({filter_data:{script:this.script_name,deleted:!1}},{onResult:function(o){a(o)}}));function a(o){if(o){var n=o.getResult();if(t.select_layout=null,LocalCacheData.view_layout_cache[t.script_name]=o,n&&n.length>0){n.sort(function(m,d){return Global$1.compare(m,d,"name")});for(var s=n.length,l=0;l<s;l++){var c=n[l];if(c.name===i){t.select_layout=c;break}}t.select_layout||(t.select_layout=n[0]),t.search_panel.setLayoutsArray(n)}else t.select_layout=null,t.search_panel&&t.search_panel.setLayoutsArray(null);e&&e()}}}getAllColumns(e){var t=this;this.api.getOptions("columns",{onResult:function(i){var a=i.getResult();t.all_columns=Global$1.buildColumnArray(a),!t.sub_view_mode&&t.column_selector&&(t.column_selector.setUnselectedGridData(t.all_columns),t.column_selector.setHeight(t.all_columns.length*32)),e&&e()}})}getDefaultDisplayColumns(e){var t=this;this.api.getOptions("default_display_columns",{onResult:function(i){var a=i.getResult();t.default_display_columns=a,e&&e()}})}buildSortBySelectColumns(){var e=this.select_layout.data.filter_sort,t=[],i=this.sort_by_selector.getSourceData();return e&&jQuery.each(e,function(a,o){for(var n in o)jQuery.each(i,function(s,l){if(l.value===n)return l.sort=o[n],t.push(l),!1})}),t}buildSortSelectorUnSelectColumns(e){var t=[],i=100;return jQuery.each(e,function(a,o){var n=jQuery.extend({},o);n.id=i,n.sort="asc",t.push(n),i=i+1}),t}buildDisplayColumns(e){for(var t=this.all_columns.length,i=e.length,a=[],o=0;o<i;o++)for(var n=0;n<t;n++)e[o]===this.all_columns[n].value&&a.push(this.all_columns[n]);return a}buildDisplayColumnsByColumnModel(e){if(e){for(var t=e.length,i=[],a=2e3,o=0;o<t;o++){var n=e[o];n.name!=="cb"&&(i.push({label:n.label,value:n.name,id:a}),a=a+1)}return i}}removeContentMenuByName(e){if(LocalCacheData.current_open_primary_controller){LocalCacheData.current_open_primary_controller.viewId,Global$1.isSet(e)||(e=this.context_menu_name);var t=jQuery("#ribbon ul a").filter(function(){return jQuery(this).attr("ref")===e}).parent(),i=jQuery("li",jQuery("#ribbon")).index(t);i>=0&&jQuery("#ribbon_view_container").tabs("refresh")}}movePermissionValidate(e){return Global$1.isSet(e)||(e=this.permission_id),!!(e==="report"||this.addPermissionValidate(e)&&this.deletePermissionValidate(e))}subAuditValidate(){return!!this.editPermissionValidate()}subDocumentValidate(){return!!(Global$1.getProductEdition()>=20&&PermissionManager.checkTopLevelPermission("Document"))}addPermissionValidate(e){return Global$1.isSet(e)||(e=this.permission_id),!!(e==="report"||PermissionManager.validate(e,"add"))}getRecordFromGridById(e){var t=this.grid.getData(),i=null;return jQuery.each(t,function(a,o){if(o.id==e)return i=Global$1.clone(o),!1}),i}getSelectedItems(){var e=this,t=[];if(this.edit_view)t=[this.current_edit_record];else{var i=this.getGridSelectIdArray();i.length,t=_.map(i,function(a){return e.getRecordFromGridById(a)})}return t}getSelectedItem(){var e=null;if(this.edit_view)e=this.current_edit_record;else{var t=this.getGridSelectIdArray(),i=t.length;i>0&&(e=this.getRecordFromGridById(t[0]))}return e?Global$1.clone(e):null}deleteOwnerOrChildPermissionValidate(e,t){return e||(e=this.permission_id),t||(t=this.getSelectedItem()),!!(e==="report"||PermissionManager.validate(e,"delete")||t&&t.is_owner&&PermissionManager.validate(e,"delete_own")||t&&t.is_child&&PermissionManager.validate(e,"delete_child"))}viewOwnerOrChildPermissionValidate(e,t){return e||(e=this.permission_id),!!(e==="report"||(t||(t=this.getSelectedItem()),PermissionManager.validate(e,"view")||t&&t.is_owner&&PermissionManager.validate(e,"view_own")||t&&t.is_child&&PermissionManager.validate(e,"view_child")))}editOwnerOrChildPermissionValidate(e,t){return e||(e=this.permission_id),t||(t=this.getSelectedItem()),!!(e==="report"||PermissionManager.validate(e,"edit")||t&&t.is_owner&&PermissionManager.validate(e,"edit_own")||t&&t.is_child&&PermissionManager.validate(e,"edit_child"))}ownerOrChildPermissionValidate(e,t,i){return t.indexOf("child")>-1,!!PermissionManager.validate(e,t)}editChildPermissionValidate(e,t){return Global$1.isSet(e)||(e=this.permission_id),Global$1.isSet(t)||(t=this.getSelectedItem()),e==="report"?!0:PermissionManager.validate(e,"enabled")?!!(PermissionManager.validate(e,"edit")||this.ownerOrChildPermissionValidate(e,"edit_child",t)):!1}editPermissionValidate(e,t){return Global$1.isSet(e)||(e=this.permission_id),Global$1.isSet(t)||(t=this.getSelectedItem()),!!(e==="report"||PermissionManager.validate(e,"edit")||this.ownerOrChildPermissionValidate(e,"edit_child",t)||this.ownerOrChildPermissionValidate(e,"edit_own",t))}copyPermissionValidate(e,t){return Global$1.isSet(e)||(e=this.permission_id),Global$1.isSet(t)||(t=this.getSelectedItem()),!!(e==="report"||this.viewPermissionValidate(e,t)&&this.addPermissionValidate(e,t))}copyAsNewPermissionValidate(e,t){return Global$1.isSet(e)||(e=this.permission_id),Global$1.isSet(t)||(t=this.getSelectedItem()),!!(e==="report"||this.viewPermissionValidate(e,t)&&this.addPermissionValidate(e,t))}viewPermissionValidate(e,t){return Global$1.isSet(e)||(e=this.permission_id),Global$1.isSet(t)||(t=this.getSelectedItem()),!!(e==="report"||PermissionManager.validate(e,"view")||this.ownerOrChildPermissionValidate(e,"view_child",t)||this.ownerOrChildPermissionValidate(e,"view_own",t))}deletePermissionValidate(e,t){return Global$1.isSet(e)||(e=this.permission_id),Global$1.isSet(t)||(t=this.getSelectedItem()),!!(e==="report"||PermissionManager.validate(e,"delete")||this.ownerOrChildPermissionValidate(e,"delete_child",t)||this.ownerOrChildPermissionValidate(e,"delete_own",t))}saveValidate(e,t){(!this.current_edit_record||!this.current_edit_record.id)&&!this.is_mass_editing?this.addPermissionValidate(t)||ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1):((!this.current_edit_record||!this.current_edit_record.id)&&this.is_mass_editing||this.current_edit_record.id)&&(this.editPermissionValidate(t)||ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1))}saveAndCopyValidate(e,t){(!this.current_edit_record||!this.current_edit_record.id)&&!this.is_mass_editing?this.addPermissionValidate(t)||ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1):((!this.current_edit_record||!this.current_edit_record.id)&&this.is_mass_editing||this.current_edit_record.id)&&(!this.editPermissionValidate(t)||!this.addPermissionValidate(t))&&ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1),this.edit_only_mode&&ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}saveAndContinueValidate(e,t){(!this.current_edit_record||!this.current_edit_record.id)&&!this.is_mass_editing?(!this.addPermissionValidate(t)||!this.editPermissionValidate(t))&&ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1):((!this.current_edit_record||!this.current_edit_record.id)&&this.is_mass_editing||this.current_edit_record.id)&&(this.editPermissionValidate(t)||ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)),this.showSaveAndContinueOnEditOnly()==!1&&ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}showSaveAndContinueOnEditOnly(){return!(this.edit_only_mode==!0&&(this.parent_view_controller&&this.viewId==="Employee"&&this.parent_view_controller.viewId==="JobApplication")==!1)}saveAndNewValidate(e,t){(!this.current_edit_record||!this.current_edit_record.id)&&!this.is_mass_editing?this.addPermissionValidate(t)||ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1):(!Global$1.isSet(this.current_edit_record.id)&&this.is_mass_editing||Global$1.isSet(this.current_edit_record.id))&&(!this.editPermissionValidate(t)||!this.addPermissionValidate(t))&&ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1),this.edit_only_mode&&ContextMenuManager.hideMenuItem(this.determineContextMenuMountAttributes().id,e.id,!1)}setSubLogViewFilter(){return this.sub_log_view_controller?(this.sub_log_view_controller.parent_key="object_id",this.sub_log_view_controller.parent_value=this.uniformVariable(this.current_edit_record).id,this.sub_log_view_controller.table_name_key=this.table_name_key,!0):!1}initSubLogView(e){var t=this;if(!this.current_edit_record.id||this.current_edit_record.id==TTUUID.zero_id){TTPromise.resolve("BaseViewController","onTabShow");return}this.sub_log_view_controller?(this.sub_log_view_controller.buildContextMenu(!0),this.sub_log_view_controller.setDefaultMenu(),this.sub_log_view_controller.parent_edit_record=this.current_edit_record,this.setSubLogViewFilter(),this.sub_log_view_controller.search()):Global$1.loadScript("views/core/log/LogViewController.js",function(){if(t.edit_view_tab){var o=t.edit_view_tab.find("#"+e),n=o.find(".first-column-sub-view");TTPromise.add("initSubAudit","init"),TTPromise.wait("initSubAudit","init",function(){n.css("opacity","1")}),n.css("opacity","0"),Global$1.trackView("SubLogView",LocalCacheData.current_doing_context_action),LogViewController.loadSubView(n,i,a)}});function i(){}function a(o){t.sub_log_view_controller=o,t.sub_log_view_controller.parent_view_controller=t,t.sub_log_view_controller.parent_edit_record=t.current_edit_record,t.setSubLogViewFilter(),t.sub_log_view_controller.postInit=function(){this.initData()}}}showNoResultCover(e){e||(e=this.ifContextButtonExist("add")),this.removeNoResultCover(),this.no_result_box=Global$1.loadWidgetByName(WidgetNamesDic$1.NO_RESULT_BOX),this.no_result_box.NoResultBox({related_view_controller:this,is_new:e}),this.no_result_box.attr("id",this.ui_id+"_no_result_box");var t=jQuery(this.el).find(".grid-div");t.append(this.no_result_box),this.initRightClickMenu(RightClickMenuType.NORESULTBOX)}removeNoResultCover(){this.no_result_box&&this.no_result_box.length>0&&this.no_result_box.remove(),this.no_result_box=null}cleanWhenUnloadView(e){this.unmountContextMenu(),this.removeContentMenuByName(),Global$1.isSet(e)&&e()}gridScrollTop(){this.viewId==="TimeSheet"||this.viewId==="Schedule"||this.grid&&this.grid.grid.parent().parent().scrollTop(0)}gridScrollDown(){this.viewId==="TimeSheet"||this.viewId==="Schedule"||this.grid&&this.grid.grid.parent().parent().scrollTop(1e4)}selectAll(){if(!(this.viewId==="TimeSheet"||this.viewId==="Schedule")&&this.grid){this.grid.grid.resetSelection();for(var e=this.grid.getData(),t=e.length,i=0;i<t;i++){var a=e[i];Global$1.isSet(a.id)?this.grid.grid.setSelection(a.id,!1):this.grid.grid.setSelection(i+1,!1)}this.grid.grid.parent().parent().parent().find(".cbox-header").prop("checked",!0),this.setDefaultMenu()}}detachElement(e){if(!(!this.edit_view_form_item_dic||!this.edit_view_form_item_dic[e])){var t=jQuery('<p style="display: none">');t.addClass(".edit-view:visible place_holder_"+e),t.insertBefore(this.edit_view_form_item_dic[e]),this.edit_view_form_item_dic[e].detach()}}attachElement(e){if(!(!this.edit_view_form_item_dic||!this.edit_view_form_item_dic[e])){var t=jQuery(".edit-view:visible .place_holder_"+e);this.edit_view_form_item_dic[e].insertBefore(t),t.remove()}}getBalanceHandler(e,t){var i=this,a,o,n,s;if(!(!i.edit_view_ui_dic||!i.edit_view_ui_dic.available_balance)){if(Global$1.isObject(e)){var l=e.getResult();if(!l){i.detachElement("available_balance");return}}else{i.detachElement("available_balance");return}i.attachElement("available_balance"),a=Global$1.getTimeUnit(l.available_balance),o=Global$1.getTimeUnit(l.current_time),n=Global$1.getTimeUnit(l.remaining_balance),s=Global$1.getTimeUnit(l.projected_remaining_balance),l.hasOwnProperty("remaining_dollar_balance")&&(a=a+" / "+LocalCacheData.getCurrentCurrencySymbol()+l.available_dollar_balance,o=o+" / "+LocalCacheData.getCurrentCurrencySymbol()+l.current_dollar_amount,n=n+" / "+LocalCacheData.getCurrentCurrencySymbol()+l.remaining_dollar_balance,s=s+" / "+LocalCacheData.getCurrentCurrencySymbol()+l.remaining_dollar_balance),i.edit_view_ui_dic.available_balance.setValue(s),l.projected_remaining_balance&&l.projected_remaining_balance<0||l.remaining_dollar_balance&&l.remaining_dollar_balance<0?i.edit_view_ui_dic.available_balance.css("color","red"):i.edit_view_ui_dic.available_balance.css("color","black"),i.available_balance_info&&i.available_balance_info.qtip({show:{event:"click",delay:10,effect:!0},hide:{event:["unfocus click"]},style:{width:340},content:'<div style="width:100%;"><div style="width:100%; clear: both;"><span style="float:left;">'+jQuery.i18n._("Available Balance")+': </span><span style="float:right;">'+a+'</span></div><div style="width:100%; clear: both;"><span style="float:left;">'+jQuery.i18n._("Current Time")+': </span><span style="float:right;">'+o+'</span></div><div style="width:100%; clear: both;"><span style="float:left;">'+jQuery.i18n._("Remaining Balance")+': </span><span style="float:right;">'+n+'</span></div><div style="width:100%; height: 20px; clear: both;"></div><div style="width:100%; clear: both;"><span style="float:left;">'+jQuery.i18n._("Projected Balance by")+" "+t+': </span><span style="float:right;">'+Global$1.getTimeUnit(l.projected_balance)+'</span></div><div style="width:100%; clear: both;"><span style="float:left;">'+jQuery.i18n._("Projected Remaining Balance")+':</span><span style="float:right;">'+Global$1.getTimeUnit(l.projected_remaining_balance)+"</span></div></div>"})}}onExportClick(e){ProgressBar.showOverlay(),e==null&&(e=this.api["export"+this.api.key_name]);var t={};t.filter_columns=this._getFilterColumnsFromDisplayColumns(null,!1),t.filter_data=Global$1.convertLayoutFilterToAPIFilter(this.select_layout),Global$1.isSet(this.sort_by_selector)&&(t.filter_sort=this.getSearchPanelSortFilter());var i={0:"csv",1:t,2:!0};Global$1.APIFileDownload(this.api.className,e,i)}highLightGridRowById(e){if(this.grid&&this.grid.grid){Array.isArray(e)==!1&&(e=[e]);for(var t=0;t<e.length;t++){let i=this.grid.grid.find("tr#"+e[t]);i.length>0&&i[0].classList.add("flashBackground")}this.gridScrollDown()}}setConversionRateExampleText(e,t,i){var a={};a.filter_data=Global$1.convertLayoutFilterToAPIFilter(this.select_layout);var o=TTAPI$1.APICurrency,n=o.getCurrency(a,{async:!1}).getResult(),s="";if(this.edit_view_ui_dic.round_decimal_places)var l=this.edit_view_ui_dic.round_decimal_places.getValue();for(var c=0;c<n.length;c++)n[c].is_base&&(s=n[c].iso_code),i&&!t&&n[c].id==i&&(t=n[c].iso_code,l||(l=n[c].round_decimal_places));t!=s?this.sub_view_mode?jQuery("#rate_conversion_rate_clarification_box").html("&nbsp;&nbsp;1.00 "+s+" = "+Global$1.removeTrailingZeros(e,l)+" "+t):jQuery("#conversion_rate_clarification_box").html("&nbsp;&nbsp;1.00 "+s+" = "+Global$1.removeTrailingZeros(e,l)+" "+t):jQuery("#conversion_rate_clarification_box").hide()}startMapCoordinates(){var e=39.5,t=-98.35;if(LocalCacheData.getCurrentCompany().latitude!=0&&LocalCacheData.getCurrentCompany().longitude!=0)e=LocalCacheData.getCurrentCompany().latitude,t=LocalCacheData.getCurrentCompany().longitude,Debug.Text("Using company coordinates.","BaseViewController.js","BaseViewController","startMapCoordinates",10);else if(LocalCacheData.getLoginUser().latitude!=0&&LocalCacheData.getLoginUser().longitude!=0)e=LocalCacheData.getLoginUser().latitude,t=LocalCacheData.getLoginUser().longitude,Debug.Text("Using user coordinates.","BaseViewController.js","BaseViewController","startMapCoordinates",10);else{var i=TTAPI$1.APICompany,a=i.getOptions("country",{async:!1}).getResult(),o=i.getOptions("province",LocalCacheData.getCurrentCompany().country,{async:!1}).getResult();if(APIGlobal.pre_login_data.map_geocode_url&&o&&a&&o[LocalCacheData.getCurrentCompany().province]&&a[LocalCacheData.getCurrentCompany().country]){var n=LocalCacheData.getCurrentCompany().city+" "+o[LocalCacheData.getCurrentCompany().province]+", "+a[LocalCacheData.getCurrentCompany().country],s=APIGlobal.pre_login_data.map_geocode_url+"?q="+n+"&format=json&tt_key="+APIGlobal.pre_login_data.registration_key,l=jQuery.ajax({url:s,async:!1});Debug.Arr("Geocoding address: "+n,l,"BaseViewController.js","BaseViewController","startMapCoordinates",10)}l&&l.responseJSON&&l.responseJSON[0]&&l.responseJSON[0].lat&&l.responseJSON[0].lon?(e=l.responseJSON[0].lat,t=l.responseJSON[0].lon,Debug.Text("Using company address coordinates.","BaseViewController.js","BaseViewController","startMapCoordinates",10)):Debug.Text("Using default coordinates.","BaseViewController.js","BaseViewController","startMapCoordinates",10)}return Debug.Text("Coordinates (lat,long): "+e+","+t,"BaseViewController.js","BaseViewController","startMapCoordinates",10),new L.LatLng(e,t)}initSubDocumentView(){var e=this;if(!this.current_edit_record.id){TTPromise.resolve("BaseViewController","onTabShow");return}if(this.sub_document_view_controller){this.sub_document_view_controller.buildContextMenu(!0),this.sub_document_view_controller.setDefaultMenu(),e.sub_document_view_controller.parent_value=e.current_edit_record.id,e.sub_document_view_controller.parent_edit_record=e.current_edit_record,e.sub_document_view_controller.initData();return}Global$1.loadScript("views/document/DocumentViewController.js",function(){if(e.edit_view_tab){var a=e.edit_view_tab.find("#tab_attachment"),o=a.find(".first-column-sub-view");TTPromise.add("initSubDocumentView","init"),TTPromise.wait("initSubDocumentView","init",function(){o.css("opacity","1")}),o.css("opacity","0"),Global$1.trackView("SubDocumentView"),DocumentViewController.loadSubView(o,t,i)}});function t(){}function i(a){e.sub_document_view_controller=a,e.sub_document_view_controller.parent_key="object_id",e.sub_document_view_controller.parent_value=e.current_edit_record.id,e.sub_document_view_controller.document_object_type_id=e.document_object_type_id,e.sub_document_view_controller.parent_edit_record=e.current_edit_record,e.sub_document_view_controller.parent_view_controller=e,e.sub_document_view_controller.initData()}}onDeleteImage(e){var t=this;this.api.deleteImage(this.current_edit_record.id,{onResult:function(i){t.onEditClick(t.current_edit_record.id,!0),e&&e()}})}onTreeGridNavigationRowSelect(e){e&&(LocalCacheData.currently_collapsing_navigation_tree_element!=!0?(this.onEditClick(e),jQuery(".a-dropdown-div").remove(),LocalCacheData.openAwesomeBox=null):(LocalCacheData.currently_collapsing_navigation_tree_element=!1,this.onEditClick(e,!0),this.setNavigation()))}parserDatesRange(e){for(var t=e.split(" - "),i=[],a=Global$1.strToDate(t[0]),o=Global$1.strToDate(t[1]),n=a;n.getTime()<o.getTime();)i.push(n.format()),n=new Date(new Date(n.getTime()).setDate(n.getDate()+1));return i.push(t[1]),i}baseViewSubTabGridResize(e){if(e?e.indexOf("#")===-1&&e.indexOf(".")!=0&&(e="#"+e):e=".edit-view-tab-outside-sub-view",this.grid.grid.parents(e).length>0){var t=Math.floor(this.getAvailableHeightForGrid(e));this.grid.setup.container_selector=e,Debug.Text("Special SubView ID: "+e+" Height: "+t+" Offset: "+i,"TTGrid.js","TTGrid","baseViewSubTabGridResize",10)}else{var i=this.getDefaultHeightOffset(),t=this.grid.grid.parents(".edit-view-tab").innerHeight()-i;Debug.Text("Normal SubView ID: "+e+" Height: "+t+" Offset: "+i,"TTGrid.js","TTGrid","baseViewSubTabGridResize",10)}t<250&&(t=250),this.setGridHeight(t),this.setGridWidth()}setGridSize(e,t,i,a){if(this.grid&&this.grid.setup&&this.grid.setup.setGridSize&&typeof this.grid.setup.setGridSize=="function"){this.grid.setup.setGridSize();return}if(!e&&!this.ui_id||!this.grid){Debug.Text("ERROR: You must provide at least a ui_id for setGridSize()","TTGrid.js","TTGrid","setGridSize",10);return}!e&&this.ui_id&&(e=this.ui_id),!t&&this.sub_view_mode&&(t=this.sub_view_mode),!i&&this.sub_view_grid_autosize&&(i=this.sub_view_grid_autosize);var o=100;if(t&&this.grid.grid.parents(".grid-div").find(".no-result-div:visible").length>0&&this.grid.grid.parents("#tab_history, #tab_qualifications").length>0)o=100;else if(this.grid.setup.static_height)o=this.grid.setup.static_height;else if(this.grid.setup.verticalResize&&this.grid.setup.verticalResize===!0)if(t){if(this.grid.grid.parents(".edit-view-tab-outside-sub-view").find(".context-border").length>1||this.grid.grid.parents(".edit-view-tab-outside-sub-view").find(".ui-jqgrid-htable").length>1){let n=this.grid.getRecordCount(),s=this.grid.grid.find("tr:last td:first").height();s<18&&(s=22);let l=3;n>6?l=6:n>3&&(l=n),o=l*s}else if(this.grid.grid.parents(".edit-view-tab-outside-sub-view")&&this.grid.grid.parents(".edit-view-tab-outside-sub-view").length>0&&this.grid.grid.parents(".edit-view-tab-outside-sub-view")[0]){o=this.getAvailableHeightForGrid(this.grid.grid.parents(".edit-view-tab-outside-sub-view")[0].id);let n=this.grid.grid.parents(".edit-view-tab-outside-sub-view").find(".context-border");n.length!==0&&(o-=n.outerHeight(!0)-n.innerHeight())}}else o=this.getAvailableHeightForGrid(e);o<100&&(o=100),this.grid.grid.setGridHeight(o),jQuery(".sub-view .bottom-div:has(.paging-2-div:visible)").css("height","20px"),jQuery(".sub-view .bottom-div:has(.paging-2-div:hidden)").css("height","auto")}getAvailableHeightForGrid(e,t){e.indexOf("#")===-1&&e.indexOf(".")!=0&&(e="#"+e);let i=jQuery(e).find("#gbox_"+this.grid.getGridId()+" .ui-jqgrid-labels");if(i.length===0&&(i=jQuery("#gbox_"+this.grid.getGridId()+" .ui-jqgrid-labels"),i.length===0))return 100;let o=(jQuery(e).children(".context-border").length!==0?jQuery(e).children(".context-border").innerHeight():jQuery(e).height())-(i.offset().top+i.height()-jQuery(e).offset().top),n=jQuery(e).find(".bottom-div");return n.length>0&&n.is(":visible")&&(o-=50),Global$1.isHorizontalScrollBarRequired(jQuery("#gbox_"+this.grid.getGridId())[0])&&(o-=Global$1.getScrollbarHeight()),o}getDefaultHeightOffset(){var e=this.grid.grid.parents(".ui-jqgrid-jquery-ui").find(".ui-jqgrid-hbox").height()-22;Debug.Text("Initial offset: "+e,"BaseViewController.js","BaseViewController","getDefaultHeightOffset",10),this.grid.grid.parents(".ui-jqgrid-bdiv").width()>this.grid.grid.parents(".ui-jqgrid-jquery-ui").width()&&(e+=15,Debug.Text("Scrollbar offset detected: 15","BaseViewController.js","BaseViewController","getDefaultHeightOffset",10)),this.search_panel&&this.search_panel.is(":visible")==!0&&(e+=this.search_panel.height(),Debug.Text("Search panel detected: "+this.search_panel.height(),"BaseViewController.js","BaseViewController","getDefaultHeightOffset",10));var t=jQuery(".total-number-div:visible").length>0?jQuery(".total-number-div:visible").height():0;(t||t===0)&&(e+=t,Debug.Text("Total number DIV height offset detected: "+jQuery(".total-number-div:visible").height(),"BaseViewController.js","BaseViewController","getDefaultHeightOffset",10));var i=jQuery(".bottom-div").height()+5;(i||i===0)&&(e+=i,Debug.Text("Footer height offset detected: "+i,"BaseViewController.js","BaseViewController","getDefaultHeightOffset",10));var a=jQuery(".grid-top-border").height()*2;return(a||a===0)&&(e+=a,Debug.Text("Red border height offset detected: "+a,"BaseViewController.js","BaseViewController","getDefaultHeightOffset",10)),e}fillCurrentRecord(){var e={};LocalCacheData.getAutoFillData()?(e=this.filterAutoFillData(LocalCacheData.getAutoFillData()),LocalCacheData.setAutoFillData(null)):e=this.filterAutoFillData(LocalCacheData.getAllURLArgs()),this.auto_fill_data=e;for(var t in e)t==="sid"||t==="m"||t==="sm"||t==="tab"||(this.allow_fill_record_keys!=null&&this.allow_fill_record_keys.includes(t)==!0?this.current_edit_record[t]=e[t]:this.edit_view_ui_dic.hasOwnProperty(t)&&this.edit_view_ui_dic[t].setValue&&(this.current_edit_record[t]=e[t],this.edit_view_ui_dic[t].setValue(e[t]),this.edit_view_ui_dic[t].trigger("change")))}filterAutoFillData(e){var t={};for(var i in e)i.includes("password")||(t[i]=e[i]);return t}getChangedRecords(e,t,i){return e.filter(o=>{let n=t.find(s=>s.id==o.id);if(!n)return!0;for(let s in o)if(!(i.length>0&&i.includes(s))){if(Array.isArray(o[s])&&Array.isArray(n[s])){if(o[s].length!==n[s].length||!o[s].every(l=>n[s].includes(l)))return!0}else if(o[s]!=n[s])return!0}return!1})}};BaseViewController$1.loadView=function(r){Global$1.loadViewSource(r,r+"View.html",function(t){e(t)});function e(t){var i={};switch(r){case"TimeSheet":Global$1.loadViewSource(r,r+"View.css"),i={accumulated_time:jQuery.i18n._("Accumulated Time"),verify:jQuery.i18n._("Verify"),timesheet_verification:jQuery.i18n._("TimeSheet Verification")};break;case"Login":jQuery("body").addClass("login-bg"),jQuery("body").removeClass("application-bg");break;case"PortalJobVacancyDetail":i={search_label:jQuery.i18n._("Search")};break;case"PortalJobVacancy":i={search_label:jQuery.i18n._("Search"),load_more:jQuery.i18n._("Loading")+"..."};break;case"MyJobApplication":case"MyProfile":break;case"Schedule":Global$1.loadViewSource(r,r+"View.css");break}IndexViewController.instance.router.removeCurrentView();var a=_.template(t);Global$1.contentContainer().html(a(i)),LocalCacheData.current_open_view_id=r,Global$1.trackView(r,LocalCacheData.current_doing_context_action)}};BaseViewController$1.default_layout_name=jQuery.i18n._("-- Default --");const BaseViewController$2=Object.freeze(Object.defineProperty({__proto__:null,BaseViewController:BaseViewController$1},Symbol.toStringTag,{value:"Module"}));let NotificationConsumer$1=class{constructor(){const e={apiKey:"AIzaSyB9tM0QYb1D3JF07RqpeG-14ADGhezGRws",authDomain:"timetrex-app.firebaseapp.com",databaseURL:"https://timetrex-app.firebaseio.com",projectId:"timetrex-app",storageBucket:"timetrex-app.appspot.com",messagingSenderId:"462133047262",appId:"1:462133047262:web:1705b6bfca364bcd99b74f"};firebase.initializeApp(e),this.browser_supported=firebase.messaging.isSupported(),this.messaging=firebase.messaging.isSupported()?firebase.messaging():null,this.user_notification_device_token_api=TTAPI$1.APINotificationDeviceToken,this.notification_api=TTAPI$1.APINotification,this.user_preference_api=TTAPI$1.APIUserPreference,this.notification_holder=document.querySelector("#notification-holder"),this.notification_duration=12e4,this.token="",this.notification_total=0,this.active_notification_stack=[],this.create_event_listeners=!0,this.notification_sound=null,this.sound_timer=null,this.title_timer=null,this.previous_page_title=document.title,this.pending_events=[],this.event_bus=new TTEventBus$1({view_id:"notification_consumer"})}setupUser(e,t){if(t===!0&&this.deleteNotificationDeniedCookie(),this.isBrowserSupported(t)===!1)return t===!0&&TAlertManager.showAlert(jQuery.i18n._("Sorry, this is browser does not support push notifications."),jQuery.i18n._("Push Notifications")),!1;var i=getCookie("AlternateSessionData");if(i&&!t||this.getNotificationDeniedCookie().asked_count>=2&&t===!1)return!1;if(LocalCacheData.getLoginUser()&&APIGlobal.pre_login_data.production===!0&&APIGlobal.pre_login_data.demo_mode!==!0&&APIGlobal.pre_login_data.sandbox!==!0)if(this.notification_duration=parseInt(LocalCacheData.getLoginUserPreference().notification_duration)*1e3,Notification.permission==="granted"&&LocalCacheData.getLoginUserPreference().notification_status_id!==2)this.registerWorkerAndGetToken(!0),this.createNotificationListeners(),t===!0&&TAlertManager.showAlert(jQuery.i18n._("Push Notifications Enabled"),jQuery.i18n._("Push Notifications"));else if(e&&Notification.permission==="default"){if(APIGlobal.pre_login_data.user_agent_data.is_mobile===!0&&t===!1)return!1;this.showNotificationPermissionAlert()}else t===!0&&this.showNotificationPermissionAlert();else t===!0&&TAlertManager.showAlert(jQuery.i18n._("Sorry, push notifications are disabled on this server."),jQuery.i18n._("Push Notifications"))}registerWorkerAndGetToken(e){try{navigator.serviceWorker.register("./dist/v"+APIGlobal.pre_login_data.application_version+"/firebase-messaging-sw.js").then(t=>{this.messaging.getToken({serviceWorkerRegistration:t,vapidKey:"BAIFamGLNE689DChvdL8bWrvgiPFUMGzPwBrxuDiKQNTzpbQu-VZ3urH3SdIOSQ4DUYAOmeTrhmGTNQaNdtW-2I"}).then(i=>{i&&(this.token=i,e&&this.sendDeviceToken(this.token),jQuery(".modal-alert").length&&(jQuery(".modal-alert").remove(),Global.setUIReady(),this.sendAnalytics("allow-confirm")))}).catch(i=>{})})}catch(t){Debug.Text("Error attempting to register firebase service workers and push notification service: "+t.message,"NotificationConsumer.js","NotificationConsumer","registerWorkerAndGetToken",9)}}isBrowserSupported(e){return window.location.protocol!=="https:"?(Debug.Text("Not on a HTTPS connection. Push Notifications disabled.","NotificationConsumer.js","NotificationConsumer","checkBrowserSupported",9),e===!0&&TAlertManager.showAlert(jQuery.i18n._("Push Notification are only available on HTTPS connections."),jQuery.i18n._("Push Notifications")),!1):this.browser_supported===!1?(Debug.Text("User on an unsupported browser.","NotificationConsumer.js","NotificationConsumer","checkBrowserSupported",9),e===!0&&TAlertManager.showAlert(jQuery.i18n._("Push Notification are not supported on this browser."),jQuery.i18n._("Push Notifications")),!1):!0}sendDeviceToken(e){this.user_notification_device_token_api.checkAndSetNotificationDeviceToken(e,100,{onResult:function(t){t.getResult()}})}deleteToken(){var e=this;this.token&&this.messaging.deleteToken().then(t=>{let i={};i.device_token=this.token,this.user_notification_device_token_api.deleteNotificationDeviceToken([i],{onResult:function(a){e.token="";var o=a.getResult();o?Debug.Text("Successfully deleted device token.","NotificationConsumer.js","NotificationConsumer","deleteToken",9):Debug.Text("Failed to delete device token.","NotificationConsumer.js","NotificationConsumer","deleteToken",9)}})}).catch(t=>{Debug.Text("ERROR: While attempting to delete notification device token.","NotificationConsumer.js","NotificationConsumer","deleteToken",9)})}deleteAllTokens(){var e=this;this.user_notification_device_token_api.deleteAllNotificationDeviceTokens({onResult:function(t){e.token="";var i=t.getResult();i?Debug.Text("Successfully deleted all device tokens.","NotificationConsumer.js","NotificationConsumer","DeleteAllDeviceTokens",9):Debug.Text("Failed to delete all device tokens, none may exist.","NotificationConsumer.js","NotificationConsumer","DeleteAllDeviceTokens",9)}})}createNotificationListeners(){if(this.create_event_listeners!==!1){var e=this;this.create_event_listeners=!1,navigator.serviceWorker.addEventListener("message",t=>{this.handlePushNotificationEvent(t.data.messageType==="push-received",t.data)}),this.notification_holder.addEventListener("click",t=>{var n,s;let i=t.target;if((i==null?void 0:i.id)==="notification-holder")return;let a=((s=(n=i.closest(".toast"))==null?void 0:n.querySelector(".notification-link"))==null?void 0:s.id)??null;if(!a){Debug.Text("Notification ID not found.","NotificationConsumer.js","NotificationConsumer","createNotificationListeners",9);return}if(i.classList.contains("notification-close"))this.removeNotification(a);else if(i.classList.contains("notification-link")){this.setNotificationAsRead(i.id),this.removeNotification(i.id);for(var o=this.pending_events.length-1;o>=0;o--)if(this.pending_events[o].id===i.id&&this.pending_events[o].event==="open_view"){this.openViewLinkedToNotification(this.pending_events[o].event_data),t.preventDefault(),this.pending_events.splice(o,1),this.startTimers();break}}}),window.addEventListener("focus",function(t){e.cancelTimers()},!1)}}handlePushNotificationEvent(e,t){let i=JSON.parse(t.data.timetrex);Debug.Arr(t,"Push notification received.","NotificationConsumer.js","NotificationConsumer","handlePushNotificationEvent",9),t.messageType!=="notification-clicked"&&i.user_id!==void 0&&LocalCacheData.getLoginUser()&&LocalCacheData.getLoginUser().id===i.user_id&&t.notification&&t.notification.title&&(this.event_bus.emit("tt_topbar","profile_pending_counts",{object_types:[]}),this.updateBell(!0,this.notification_total+1),this.showNotification(t.notification.title,t.notification.body,t.notification.click_action,i.id,i.priority,t.data.link_target?t.data.link_target:""),Debug.Text("Showing Notification on UI as user_id matches and notification was not a system click.","NotificationConsumer.js","NotificationConsumer","handlePushNotificationEvent",9)),t.messageType==="notification-clicked"?(Debug.Text("Notification was clicked on from desktop.","NotificationConsumer.js","NotificationConsumer","handlePushNotificationEvent",9),this.setNotificationAsRead(i.id),this.removeNotification(i.id),t.notification.click_action!==void 0&&t.notification.click_action!==""?window.location=t.notification.click_action:window.location=Global.getBaseURL()+"#!m=Notification"):i.event!==void 0&&i.event.length>0&&this.handleBackgroundEvent(i)}handleBackgroundEvent(e){Debug.Text("Background action was supplied in the push notification.","NotificationConsumer.js","NotificationConsumer","handlePushNotificationEvent",9);for(let t=0;t<e.event.length;t++)switch(e.event[t].type){case"clean_cache":LocalCacheData.cleanNecessaryCache();break;case"open_view":this.pending_events.push({id:e.id,event:e.event[t].type,event_data:e.event[t]});break;case"open_view_immediate":this.openViewLinkedToNotification(e.event[t]),this.startTimers();break;case"redirect":e.event[t].ask===1?TAlertManager.showConfirmAlert(jQuery.i18n._(e.event[t].text),jQuery.i18n._("Redirect Confirmation"),i=>{i===!0&&(e.event[t].target&&e.event[t].target==="_blank"?window.open(e.event[t].link,"_blank"):window.location=e.event[t].link)}):e.event[t].target&&e.event[t].target==="_blank"?window.open(e.event[t].link,"_blank"):window.location=e.event[t].link;break;case"refresh_job_queue":this.event_bus.emit("tt_topbar","toggle_job_queue_spinner",{show:e.event[t].show,get_job_data:e.event[t].get_job_data,check_completed:e.event[t].check_completed}),LocalCacheData.current_open_primary_controller&&LocalCacheData.current_open_primary_controller.viewId==="TimeSheet"&&LocalCacheData.current_open_primary_controller.search();break}}openViewLinkedToNotification(e){LocalCacheData.setAutoFillData(e.data),IndexViewController.goToViewByViewLabel(e.view_name),e.view_name!=="InOut"&&e.view_name!=="Contact Information"&&(TTPromise.add("BaseViewController","onTabShow"),TTPromise.wait("BaseViewController","onTabShow",function(){e.action==="add"?LocalCacheData.current_open_primary_controller.onAddClick():e.action==="edit"?LocalCacheData.current_open_primary_controller.onEditClick(e.view_id):e.action==="view"&&LocalCacheData.current_open_primary_controller.onViewClick(e.view_id)}))}setNotificationDeniedCookie(e){e.asked_count++,e.last_asked=new Date().getTime(),setCookie("disable_push_notification_ask",JSON.stringify(e),1e4,APIGlobal.pre_login_data.cookie_base_url)}deleteNotificationDeniedCookie(){deleteCookie("disable_push_notification_ask")}getNotificationDeniedCookie(){if(getCookie("disable_push_notification_ask"))return JSON.parse(getCookie("disable_push_notification_ask"));var e={};return e.asked_count=0,e.last_asked=0,e}showNotificationPermissionAlert(){var e=this.getNotificationDeniedCookie();if(e.asked_count>1||e.last_asked+180*24*60*60*1e3>new Date().getTime())return!1;TAlertManager.showModalAlert("push_notification","ask",t=>{t===!0?(this.showPermissionHelp(),this.setUserPreferencePushNotification(1),this.sendAnalytics("allow")):(this.setUserPreferencePushNotification(0),this.sendAnalytics("deny"),this.setNotificationDeniedCookie(e))})}showPermissionHelp(){this.registerWorkerAndGetToken(!0),this.createNotificationListeners(),TAlertManager.showModalAlert("push_notification","wait_for_permission",e=>{e===!0&&(TAlertManager.showModalAlert("push_notification","help_text",""),this.showArrowToEnablePushNotifications(),this.sendAnalytics("unsure"))})}showArrowToEnablePushNotifications(){const e=jQuery('<div class="permission-arrow"><img style="display: block; margin-left: auto; margin-right: auto;" src="'+Global.getRealImagePath("images/notification-arrow.svg")+'" width="150" height="150!"></div>');jQuery(".modal-alert").append(e)}setUserPreferencePushNotification(e){if(LocalCacheData.getLoginUser()&&LocalCacheData.getLoginUserPreference()){var t={};t.user_id=LocalCacheData.getLoginUser().id,t.id=LocalCacheData.getLoginUserPreference().id,t.browser_permission_ask_date=Math.round(new Date().getTime()/1e3),e===1&&(t.notification_status_id=e),this.user_preference_api.setUserPreference(t,{onResult:function(i){i.getResult()}})}}sendAnalytics(e){Global.sendAnalyticsEvent("push_notifications","click","click:push_notifications:"+e)}getUnreadNotifications(){this.notification_api.getUnreadNotifications({onResult:e=>{this.notification_total=parseInt(e.getResult()),this.updateBell(!1,this.notification_total)}})}getSystemNotifications(e){this.notification_api.getSystemNotification(e,{onResult:t=>{var i=parseInt(t.getResult());i>0&&this.updateBell(!0,this.notification_total+i)}})}setNotificationAsRead(e){this.notification_api.setNotificationStatus([e],20,{onResult:t=>{this.updateBell(!0,this.notification_total-1)}})}updateBell(e,t){e&&(this.notification_total=t),this.event_bus.emit("tt_topbar","notification_bell",{notification_count:this.notification_total})}playSound(){this.notification_sound===null&&(this.notification_sound=new Audio,this.notification_sound.src=Global.getBaseURL("../")+"sounds/notification.mp3",this.notification_sound.load());const e=this.notification_sound.play();e!==void 0&&e.then(()=>{}).catch(t=>{console.log(t)})}startTimers(){this.playSound();var e=this;document.hasFocus()===!1&&this.sound_timer===null&&(this.sound_timer=setInterval(function(){document.hasFocus()?e.cancelTimers():e.playSound()},5e3),this.title_timer=setInterval(function(){document.hasFocus()?e.cancelTimers():document.title==="!!!!!!!!!!!!!"?document.title=jQuery.i18n._("NOTICE!"):document.title="!!!!!!!!!!!!!"},2e3))}cancelTimers(){this.sound_timer!==null&&(clearInterval(this.sound_timer),this.sound_timer=null),this.title_timer!==null&&(document.title=this.previous_page_title,clearInterval(this.title_timer),this.title_timer=null)}showNotification(e,t,i,a,o,n){if(o==10)return!1;this.playSound(),this.active_notification_stack.length>=5&&o>2&&this.removeNotification(this.active_notification_stack[0].id);const s=document.createElement("div");s.className="toast show toast-spacing",s.style="width: 22rem; background-color: hsla(0, 0%, 100%, 1) !important; margin-bottom: 0.4rem !important;";const l=document.createElement("div");l.className="toast-header";const c=document.createElement("strong");c.className="me-auto",c.textContent=e;const m=document.createElement("button");m.className="btn-close notification-close",m.setAttribute("aria-label","close"),m.style.fontSize="12px";const d=document.createElement("div");d.className="toast-body";const u=document.createElement("p");u.textContent=t;const p=document.createElement("a");p.textContent="View Details",p.id=a,p.className="notification-link",i!==void 0&&i!==""?p.href=i:p.href=Global.getBaseURL()+"#!m=Notification",n==="_blank"&&(p.target="_blank"),l.appendChild(c),l.appendChild(m),s.appendChild(l),d.appendChild(u),d.appendChild(p),s.appendChild(d),this.notification_holder.appendChild(s),this.active_notification_stack.push({id:a,notification:s}),o==2?s.className+=" notification-outline-repeat":o==1&&(this.startTimers(s),s.className+=" notification-outline-infinite"),this.notification_duration!==0&&o!=1&&setTimeout(()=>{this.removeNotification(a)},this.notification_duration)}removeNotification(e){for(let t=0;t<this.active_notification_stack.length;t++)if(this.active_notification_stack[t].id===e){this.active_notification_stack[t].notification.remove(),this.active_notification_stack.splice(t,1);break}}removeAllNotifications(){this.active_notification_stack.forEach(e=>{e.notification.remove()}),this.active_notification_stack=[],this.cancelTimers()}detectBrowserNeedsExtraPermission(){return Global.getBrowserVendor()==="Edge"}};const NotificationConsumerObj=new NotificationConsumer$1;let TTWebauthn$1=class{constructor(){Q(this,"register",useRegistration({actionUrl:Global$1.getBaseURL("../../",!1)+"/api/webauthn/api.php?action=register",optionsUrl:Global$1.getBaseURL("../../",!1)+"/api/webauthn/api.php?action=register_options"}));Q(this,"login",useLogin({actionUrl:Global$1.getBaseURL("../../",!1)+"/api/webauthn/api.php?action=login",optionsUrl:Global$1.getBaseURL("../../",!1)+"/api/webauthn/api.php?action=login_options"}))}enrollCurrentUser(e){this.register({id:LocalCacheData.getLoginUser().id,username:LocalCacheData.getLoginUser().user_name,displayName:LocalCacheData.getLoginUser().full_name}).then(t=>{t&&(Debug.Text("Webauthn enrollment success.","TTWebauthn.js","TTWebauthn","enrollCurrentUser",10),e())}).catch(t=>Debug.Text("Webauthn enrollment failure.","TTWebauthn.js","TTWebauthn","enrollCurrentUser",10))}loginUser(e,t,i){this.login({id:e,username:t}).then(a=>{Debug.Text("Webauthn login success.","TTWebauthn.js","TTWebauthn","loginUser",10),a.error?TAlertManager.showAlert(jQuery.i18n._(a.error)):a&&i(null,a.session_id)}).catch(a=>Debug.Text("Webauthn login failure.","TTWebauthn.js","TTWebauthn","loginUser",10))}loginUserNameLess(e){this.login({}).then(t=>{Debug.Text("Webauthn login success.","TTWebauthn.js","TTWebauthn","loginUserNameLess",10),t&&e(null,t.session_id)}).catch(t=>Debug.Text("Webauthn login failure.","TTWebauthn.js","TTWebauthn","loginUserNameLess",10))}};const TTWebauthnObj=new TTWebauthn$1;let TTSAML$1=class{loginUser(e,t,i=!1){Debug.Text("SAML Login Request","TTSAML.js","TTSAML","loginUser",11),i?window.open(t,"_blank"):window.location.href=t}logoutUser(e,t,i=!1){Debug.Text("SAML Logout Request","TTSAML.js","TTSAML","logoutUser",11),i?window.open(t,"_blank"):window.location.href=t}};const TTSAMLObj=new TTSAML$1;class ApplicationRouter extends Backbone.Router{constructor(e={}){_.defaults(e,{controller:null,routes:{"":"onViewChange","!:viewName":"onViewChange","*notFound":"notFound"}}),super(e),this.event_bus=new TTEventBus$1({view_id:"index_controller"})}reloadView(e){typeof window[e+"ViewController"]=="function"&&LocalCacheData.current_open_primary_controller&&LocalCacheData.current_open_primary_controller.viewId===e&&(LocalCacheData.current_open_primary_controller.setSelectLayout(),LocalCacheData.current_open_primary_controller.search())}notFound(e){var t=Global.getBaseURL();Global.setURLToBrowser(t+"#!m=Login")}onViewChange(e){var t=this,i={},a,o,n,s;if(Global.needReloadBrowser){Global.needReloadBrowser=!1,window.location.reload();return}if(e&&(i=Global.buildArgDic(e.split("&"))),e&&e.indexOf("m=")>=0?a=Global.sanitizeViewId(i.m):a="Login",LocalCacheData.fullUrlParameterStr=e,LocalCacheData.setAllURLArgs(i),a=="Install"){LocalCacheData.loadViewRequiredJSReady?IndexViewController$1.openWizard("InstallWizard",null,function(){}):s=setInterval(function(){l==100&&clearInterval(s),l=l+1,LocalCacheData.loadViewRequiredJSReady&&(IndexViewController$1.openWizard("InstallWizard",null,function(){}),clearInterval(s))},600);return}if(LocalCacheData.getAllURLArgs().sm==="ResetPassword"&&LocalCacheData.getAllURLArgs().key){IndexViewController$1.openWizard("ResetForgotPasswordWizard",null,function(){LocalCacheData.setAllURLArgs(_.omit(LocalCacheData.getAllURLArgs(),"sm")),LocalCacheData.setAllURLArgs(_.omit(LocalCacheData.getAllURLArgs(),"key")),TAlertManager.showAlert(jQuery.i18n._("Password has been changed successfully, you may now login."));var p=Global.getBaseURL();Global.setURLToBrowser(p+"#!m=Login")});return}if(o=i.id,n=i.a,LocalCacheData.current_open_view_id===a){if(LocalCacheData.current_open_primary_controller){if(n){switch(n){case"edit":typeof LocalCacheData.current_open_primary_controller<"u"&&(!LocalCacheData.current_open_primary_controller.edit_view||LocalCacheData.current_open_primary_controller.current_edit_record&&LocalCacheData.current_open_primary_controller.current_edit_record.id&&LocalCacheData.current_open_primary_controller.current_edit_record.id!=o)&&LocalCacheData.current_doing_context_action==="edit"&&u(o);break;case"new":LocalCacheData.current_open_primary_controller.edit_view||u();break;case"view":switch(a){case"MessageControl":i.t==="message"?(!LocalCacheData.current_open_primary_controller.edit_view||!d())&&u(o,!0):i.t==="request"&&(!LocalCacheData.current_open_primary_controller.edit_view||LocalCacheData.current_open_primary_controller.current_select_message_control_data.id!=o)&&u(o,!0);break;default:typeof LocalCacheData.current_open_primary_controller<"u"&&(!LocalCacheData.current_open_primary_controller.edit_view||LocalCacheData.current_open_primary_controller.current_edit_record&&LocalCacheData.current_open_primary_controller.current_edit_record.id&&LocalCacheData.current_open_primary_controller.current_edit_record.id!=o)&&u(o,!0);break}}return}else if(a==="Login"&&t.event_bus.emit("tt_login","step_changed"),LocalCacheData.current_open_primary_controller.edit_view&&LocalCacheData.current_open_primary_controller.current_edit_record){if(LocalCacheData.current_open_primary_controller.is_mass_editing)return;LocalCacheData.current_open_primary_controller.buildContextMenu(!0),LocalCacheData.current_open_primary_controller.removeEditView(),this.cleanAnySubViewUI()}}return}else LocalCacheData.edit_id_for_next_open_view=o,n&&(LocalCacheData.current_doing_context_action=n);Global.setDeepLink();var l;if(a!=="Login"&&!LocalCacheData.getLoginUser()){Global.setURLToBrowser(Global.getBaseURL()+"#!m=Login");return}else l=0,a!=="Login"&&Global.isSet(a)?LocalCacheData.loadViewRequiredJSReady?m():s=setInterval(function(){l==100&&clearInterval(s),l=l+1,LocalCacheData.loadViewRequiredJSReady&&(m(),clearInterval(s))},600):c();function c(){switch(a&&a!=="Login"&&(t.event_bus.emit("tt_topbar","refresh_login_data"),t.setContentDivHeight()),a&&a!=="Login"&&(jQuery("body").removeClass("login-bg"),jQuery("body").addClass("application-bg")),a){case"JobApplication":Global.loadViewSource(a,a+"ViewController.js",function(){var p=a;PermissionManager.checkTopLevelPermission(p)?BaseViewController.loadView(a):(TAlertManager.showAlert("Permission denied","ERROR",function(){LocalCacheData.getLoginUserPreference()&&LocalCacheData.getLoginUserPreference().default_login_screen?MenuManager.goToView(LocalCacheData.getLoginUserPreference().default_login_screen):MenuManager.goToView("Home")}),Debug.Text("Navigation permission denied. Permission: "+p,"IndexController.js","IndexController","showRibbonMenuAndLoadView",10))});break;default:Global.loadViewSource(a,a+"ViewController.js",function(){var p=a;switch(a){case"ClientGroup":p="Client";break;case"ProductGroup":p="Product";break;case"PayStubTransactionSummaryReport":case"PayStubTransaction":p="PayStub";break}a==="Login"||a==="Home"||PermissionManager.checkTopLevelPermission(p)?BaseViewController.loadView(a):(LocalCacheData.current_open_primary_controller&&LocalCacheData.current_open_primary_controller.viewId&&LocalCacheData.current_open_primary_controller.viewId=="LoginView"?LocalCacheData.getLoginUserPreference()&&LocalCacheData.getLoginUserPreference().default_login_screen?MenuManager.goToView(LocalCacheData.getLoginUserPreference().default_login_screen):MenuManager.goToView("Home"):TAlertManager.showAlert("Permission denied","ERROR",function(){LocalCacheData.getLoginUserPreference()&&LocalCacheData.getLoginUserPreference().default_login_screen?MenuManager.goToView(LocalCacheData.getLoginUserPreference().default_login_screen):MenuManager.goToView("Home")}),Debug.Text("Navigation permission denied. Permission: "+p,"IndexController.js","IndexController","showRibbonMenuAndLoadView",10))});break}}function m(){t.event_bus.emit("tt_top_container","ready_to_load_top_bar"),Global.bottomContainer().css("display","block"),Global.setSignalStrength(),Global.bottomFeedbackLinkContainer().css("display","block"),jQuery("#feedback-link").off("click.feedback").on("click.feedback",function(){jQuery().TFeedback({source:"ManualTrigger",manual_trigger:!0,prompt_for_feedback:!0})}),jQuery("#copy_right_info_1").css("display","inline"),jQuery("#copy_right_logo_link").attr("href","https://"+LocalCacheData.getLoginData().organization_url),jQuery("#copy_right_logo").attr("src")||jQuery("#copy_right_logo").attr("src",ServiceCaller.getURLByObjectType("copyright")),c()}function d(){if(Global.isArray(LocalCacheData.current_open_primary_controller.current_edit_record))for(var p=0;p<LocalCacheData.current_open_primary_controller.current_edit_record.length;p++){var v=LocalCacheData.current_open_primary_controller.current_edit_record[p];if(v.id&&v.id===o)return!0}else if(v=LocalCacheData.current_open_primary_controller.current_edit_record,v.id&&v.id===o)return!0;return!1}function u(p,v){var g;switch(a){case"MessageControl":g=i.t;var h={};g==="message"?h.id=p:(h.object_id=p,h.object_type_id=50),LocalCacheData.current_open_primary_controller.onViewClick(h);break;case"TimeSheet":g=i.t,v?p&&LocalCacheData.current_open_primary_controller.onViewClick(p,g):p?LocalCacheData.current_open_primary_controller.onEditClick(p,g):LocalCacheData.current_open_primary_controller.onAddClick();break;default:v?p&&LocalCacheData.current_open_primary_controller.onViewClick(p):p?LocalCacheData.current_open_primary_controller.onEditClick(p):LocalCacheData.current_open_primary_controller.onAddClick();break}}}cleanAnySubViewUI(){var e=Global.contentContainer().children();if(e.length>1)for(var t=1;t<e.length;t++)try{if(jQuery(e[t]).attr("id")===LocalCacheData.current_open_primary_controller.ui_id)continue;e[t].remove()}catch{}}setContentDivHeight(){Global.contentContainer().removeClass("content-container"),Global.contentContainer().addClass("content-container-after-login")}removeCurrentView(e){LocalCacheData.current_open_edit_only_controller&&(t(LocalCacheData.current_open_edit_only_controller),LocalCacheData.current_open_edit_only_controller=null),LocalCacheData.current_open_primary_controller?(LocalCacheData.current_open_primary_controller.edit_view&&t(LocalCacheData.current_open_primary_controller),LocalCacheData.current_open_primary_controller.unmountContextMenu(),Global.contentContainer().children().detach().remove(),LocalCacheData.current_open_primary_controller.cleanWhenUnloadView(e)):Global.isSet(e)&&e();function t(i){i.clearErrorTips(),i.edit_view&&(i.unmountContextMenu(),i.edit_view.remove()),i.sub_log_view_controller=null,i.edit_view_ui_dic={},i.edit_view_ui_validation_field_dic={},i.edit_view_form_item_dic={},i.edit_view_error_ui_dic={},LocalCacheData.current_doing_context_action=""}}}let IndexViewController$1=class O extends TTBackboneView{constructor(e={}){_.defaults(e,{el:"body",router:null}),super(e)}initialize(e){super.initialize(e),this.router=new ApplicationRouter,this.router.controller=this,Backbone.History.started||Backbone.history.start(),O.instance=this}static goToView(e,t){Global.closeEditViews(function(){LocalCacheData.default_filter_for_next_open_view=t,MenuManager.goToView(e,!0)})}static goToViewByViewLabel(e){var t;switch(e){case"Exceptions":t="Exception";break;case"Messages":t="MessageControl";break;case"Requests":t="Request";break;case"Contact Information":O.openEditView(LocalCacheData.current_open_primary_controller,"LoginUserContact");return;case"InOut":O.openEditView(LocalCacheData.current_open_primary_controller,"InOut");return;default:var i=/\s/g;t=e.replace(i,"");break}MenuManager.goToView(t,!0)}static openWizard(e,t,i){switch(Global.setUINotready(),BaseWizardController.default_data=t,BaseWizardController.call_back=i,e){default:Global.trackView(e),Global.loadViewSource(e,e+"Controller.js",function(){BaseWizardController.openWizard(e,e+".html")});break}}static openWizardController(e,t,i){switch(Global.setUINotready(),e){default:Global.trackView(e),Global.loadViewSource(e,e+".js",function(){if(LocalCacheData.current_open_wizard_controllers.some(o=>o.wizard_id===e))switch(e){case"ReportViewWizard":break;case"PayrollRemittanceAgencyEventWizardController":var a=LocalCacheData.current_open_wizard_controllers.find(o=>o.wizard_id===e);a.remove(),a.getStepObject().initialize(a);break;default:var a=LocalCacheData.current_open_wizard_controllers.find(o=>o.wizard_id===e);a.onCloseClick();break}Global.loadViewSource(e,e+".html",function(o){var n={},s=_.template(o);switch(jQuery("body").append(s(n)),e){case"ProcessTransactionsWizardController":new ProcessTransactionsWizardController(t);break}Global.setUIInitComplete()})});break}}static openReport(e,t,i,a){o();function o(){Global.closeEditViews(function(){switch(LocalCacheData.current_open_report_controller&&LocalCacheData.current_open_report_controller.removeEditView(),ProgressBar.showOverlay(),t){default:var n=Global.getViewPathByViewId(t);if(n){Global.loadScript(n+t+"ViewController",function(){Debug.Text("R-LOADING: "+t,"IndexViewController.js","IndexViewController","openReport",10),TTPromise.add("Reports","openReport");var s=new window[t+"ViewController"]({edit_only_mode:!0});TTPromise.wait("Reports","openReport",function(){l(t,a)});function l(c,m){s.parent_view_controller=e,s.openEditView();var d=window.location.href;if(d.indexOf("&sm")>0&&(d=d.substring(0,d.indexOf("&sm"))),d=d+"&sm="+c,LocalCacheData.default_edit_id_for_next_open_edit_view&&(d=d+"&sid="+LocalCacheData.default_edit_id_for_next_open_edit_view),typeof m<"u")LocalCacheData.current_open_report_controller.selected_tab=m,d+="&tab="+m;else if(window.location.href.indexOf("&tab=")>-1){var m=window.location.href;m=m.substr(window.location.href.indexOf("&tab=")+5),m=m.substr(0,window.location.href.indexOf("&")),d+="&tab="+m}Global.setURLToBrowser(d)}});break}else console.debug("Report View does not exist! View Name: "+t),ServiceCaller.root_url&&APIGlobal.pre_login_data.base_url&&Global.setURLToBrowser(ServiceCaller.root_url+APIGlobal.pre_login_data.base_url)}})}}static openEditView(e,t,i,a){if(LocalCacheData.current_open_report_controller){LocalCacheData.current_open_report_controller.onCancelClick(null,null,function(){Global.closeEditViews(function(){O.openEditView(e,t,i,a)})});return}else LocalCacheData.current_open_edit_only_controller&&LocalCacheData.current_open_edit_only_controller.viewId&&LocalCacheData.current_open_edit_only_controller.viewId==t?(LocalCacheData.current_open_edit_only_controller.setEditMenu(),jQuery("#ribbon_view_container .context-menu:visible a").click()):o();function o(){if(!PermissionManager.checkTopLevelPermission(t)&&t!=="Map"){LocalCacheData.current_open_primary_controller&&LocalCacheData.current_open_primary_controller.viewId&&LocalCacheData.current_open_primary_controller.viewId=="LoginView"?LocalCacheData.getLoginUserPreference()&&LocalCacheData.getLoginUserPreference().default_login_screen?MenuManager.goToView(LocalCacheData.getLoginUserPreference().default_login_screen):MenuManager.goToView("Home"):TAlertManager.showAlert("Permission denied","ERROR",function(){LocalCacheData.getLoginUserPreference()&&LocalCacheData.getLoginUserPreference().default_login_screen?MenuManager.goToView(LocalCacheData.getLoginUserPreference().default_login_screen):MenuManager.goToView("Home")}),Debug.Text("Navigation permission denied. View: "+t,"IndexController.js","IndexController","openEditView",10);return}t=="Request"&&(a="openAddView"),a||(a="openEditView"),Global.trackView(t),Global.loadViewSource(t,t+"ViewController.js",function(){var n=new window[t+"ViewController"]({edit_only_mode:!0});TTPromise.wait("BaseViewController","initialize",function(){if(n.parent_view_controller=e,n[a](i),TTUUID.isUUID(i)){var s=window.location.href;s.indexOf("&sm")>0&&(s=s.substring(0,s.indexOf("&sm"))),i&&_.isString(i)?s=s+"&sm="+t+"&sid="+i:s=s+"&sm="+t,Global.setURLToBrowser(s)}LocalCacheData.current_open_edit_only_controller=n})})}}static initializeNotifications(e){NotificationConsumer.setupUser(!0,!1),NotificationConsumer.getSystemNotifications(e)}static testInternetConnection(){navigator.onLine||(window.internet_connection_available=!1,window.is_testing_internet_connection=!1);var e=new Image;window.is_testing_internet_connection=!0,e.onload=function(){window.internet_connection_available=!0,window.is_testing_internet_connection=!1},e.onerror=function(t){window.internet_connection_available=!1,window.is_testing_internet_connection=!1},e.src="https://coreapi.timetrex.com/images/ping.gif"}};IndexViewController$1.instance=null;var TTPromise$1={promises:{},add:function(r,e){!this.promises[r]||!this.promises[r][e]||this.promises[r][e].state()!="pending"?(Debug.Text("Promise: add: "+r+"|"+e,"TTPromise.js","TTPromise.js","add",11),typeof this.promises[r]>"u"&&(this.promises[r]={}),this.promises[r][e]=jQuery.Deferred(),this.promises[r][e].extra_data={category:r,key:e}):Debug.Text("Promise: already exists: "+r+"|"+e,"TTPromise.js","TTPromise.js","add",11)},resolve:function(r,e){this.promises&&this.promises[r]&&this.promises[r][e]&&(Debug.Text("Promise: resolved: "+r+"|"+e,"TTPromise.js","TTPromise.js","resolve",11),this.promises[r][e].resolve(this.promises[r][e].extra_data))},reject:function(r,e){this.promises&&this.promises[r]&&this.promises[r][e]&&(Debug.Text("Promise: rejected: "+r+"|"+e,"TTPromise.js","TTPromise.js","reject",11),this.promises[r][e].reject(this.promises[r][e].extra_data))},wait:function(r,e,t,i){if(Debug.Arr(arguments,"Promise: wait("+r+"|"+e+").","TTPromise.js","TTPromise.js","wait",11),typeof t!="function"&&(t=function(){Global.setUIInitComplete(),Debug.Text("Promise: resolved with default callback.","TTPromise.js","TTPromise.js","wait",11)}),typeof i!="function"&&(i=function(){Global.setUIInitComplete(),Debug.Text("Promise failed with default callback.","TTPromise.js","TTPromise.js","wait",1)}),Object.keys(TTPromise$1.promises).length>0){var a=function(){for(var s=0;s<arguments.length;s++){var l=arguments[s],c=l.category,m=l.key,d=l.wait_arguments.category,u=l.wait_arguments.key;TTPromise$1.clearCompletedPromise(c,m)}return!d||TTPromise$1.filterPromiseArray(d,u).length==0?(Debug.Text("Promise: success callback","TTPromise.js","TTPromise.js","wait",11),t(!0)):(Debug.Text("Promise: waiting again "+c+"|"+m,"TTPromise.js","TTPromise.js","wait",11),TTPromise$1.wait(c,m,t,i)),!0},o=function(){Debug.Text("Promise: ERROR callback","TTPromise.js","TTPromise.js","wait",11);for(var s=0;s<arguments.length;s++){var l=arguments[s],c=l.category,m=l.key;l.wait_arguments.category,l.wait_arguments.key,TTPromise$1.clearCompletedPromise(c,m)}return typeof i<"u"&&i(!1),!0},n=this.filterPromiseArray(r,e);jQuery.when.apply(jQuery,n).pipe(a,o)}else t(!0)},filterPromiseArray:function(r,e){var t=[];for(var i in this.promises)if(!r||i==r)for(var a in this.promises[i])(!e||a==e)&&(this.promises[i][a].extra_data.wait_arguments={category:r,key:e},t.push(this.promises[i][a]));return t},clearCompletedPromise:function(r,e){return this.promises&&r&&e?(this.promises[r]&&this.promises[r][e]&&(this.promises[r][e]=!1,delete this.promises[r][e],Debug.Text("Promise: clear category: "+r+"|"+e,"TTPromise.js","TTPromise.js","init",11)),this.promises[r]&&Object.keys(this.promises[r]).length==0&&(this.promises[r]=!1,Debug.Text("Promise: clear category: "+r,"TTPromise.js","TTPromise.js","init",11),delete this.promises[r]),!0):!1},clearAllPromises:function(){Debug.Text("Promise: clear all promises.","TTPromise.js","TTPromise.js","init",11),this.promises={}},isPendingPromises:function(r,e){var t=TTPromise$1.filterPromiseArray(r,e),i=0;for(var a in t)t[a]&&typeof t[a].state=="function"&&t[a].state()=="pending"&&(console.debug("Category: "+t[a].extra_data.category+" Key: "+t[a].extra_data.key+" State: "+t[a].state()),i++);return i>0},debugPromises:function(r,e){var t=TTPromise$1.filterPromiseArray(r,e);for(var i in t)console.debug("Category: "+t[i].extra_data.category+" Key: "+t[i].extra_data.key+" State: "+t[i].state());return!0}},ProgressBar$1=function(){var r=null,e=null,t=0,i=!1,a=null,o=null,n=null,s={},l=!1,c=null,m=!1,d=!1,u={},p=null,v="",g,h,w,f,T=!1,C=function(){Global.overlay().addClass("overlay"),Global.setUINotready(),TTPromise.add("ProgressBar","overlay_visible")},y=function(){window.clickProcessing==!0&&(window.clickProcessing=!1,window.clearTimeout(window.clickProcessingHandle)),Global.overlay().removeClass("overlay"),Global.setUIReady(),TTPromise.resolve("ProgressBar","overlay_visible")},I=function(){c&&(clearInterval(c),c=!1),x(l),c=!1,l=!1,p=null,m=!1},P=function(D,S,G){if(TTPromise.add("ProgressBar","MASTER"),T){T=!1;return}if(G?i>0&&r&&r.css("display","block"):a||(a=setTimeout(function(){i>0&&r&&r.css("display","block")},1e3)),D&&(s[D]=!0,S&&(u[D]=!0)),D&&d===!1&&(d=setInterval(function(){B()},3e3),m=!0),i>0){i=i+1;return}i=1,Global.addCss("global/widgets/loading_bar/LoadingBox.css"),clearTimeout(o);var E;if(r)E=r.find(".processing"),LocalCacheData.getLoginUser()&&t!==e.offsetLeft&&!document.querySelector(".wizard-overlay")?(t=e.offsetLeft/2,r.css("left","calc( 50% + "+t+"px )")):r.css("left","50%"),n&&E.after(n);else{var U=`
				<div class="popup-loading">
					<div class="processing"></div>
					<span class="close-icon">x</span>
					<progress class="progress-bar" max="100" value="10">
					</progress>
					<div class="complete-info">100 / 5000 - 15% Complete</div>
					<div class="time-remaining">11:11</div>
				</div>
			`,F=jQuery(U).attr("id","progressBar"),J=F.find(".close-icon");J.unbind("click").click(function(){I()}),n=jQuery('<div class="lds-spinner"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>'),jQuery("body").append(F),r=jQuery("#progressBar"),E=r.find(".processing"),n&&E.after(n),r.css("display","none"),e=document.querySelector(".layout-content")}M()},M=function(){v?r.find(".processing").text(v):r.find(".processing").text(jQuery.i18n?jQuery.i18n._("Processing..."):"Processing...");var D=r.find(".complete-info"),S=r.find(".progress-bar"),G=r.find(".time-remaining");D.css("display","none"),S.css("display","none"),G.css("display","none"),D.text("0 / 0 0%"),S.val(0),p=null},b=function(D){v=D,r&&r.find(".processing").text(D)},A=function(D){if(r){r.find(".processing").text(D.message);var S=D.current_iteration/D.total_iterations,G=r.find(".complete-info"),E=r.find(".progress-bar"),U=r.find(".time-remaining");G.css("display","block"),E.css("display","block"),U.css("display","block"),G.text(D.current_iteration+" / "+D.total_iterations+" ( "+(S*100).toFixed(0)+"% )"),E.prop("value",S*100),!p||D.current_iteration==0?U.text(jQuery.i18n._("Patience is a Virtue...")):((p!==D.current_iteration||!g)&&(h=(D.last_update_time-D.start_time)*(D.total_iterations/D.current_iteration),h=Math.ceil(h-(D.last_update_time-D.start_time)),(isNaN(h)||isFinite(h)==!1||h<=0)&&(h=0),h==0?U.text(jQuery.i18n._("Almost Done...")):U.text(Global.getTimeUnit(h,99))),j()),p=D.current_iteration}},k=function(){T=!0},j=function(){if(!g){var D=r.find(".time-remaining");g=setInterval(function(){(isNaN(h)||isFinite(h)==!1||h<=0)&&(h=0),h>0&&(h=h-1),h<=0&&(h=0),h==0?D.text(jQuery.i18n._("Almost Done...")):D.text(Global.getTimeUnit(h,99))},1e3)}},B=function(){if(!LocalCacheData.getLoginData())return;if(!l)for(var D in s){l=D,delete s[D];break}l&&jQuery.type("current_process_id")==="string"&&TTAPI$1.APIProgressBar.getProgressBar(l,{onResult:function(G){var E=G.getResult();if(E.hasOwnProperty("status_id")&&E.status_id===9999)S(),TAlertManager.showAlert(E.message);else if(E===!0||jQuery.type(E)==="array"&&E.length===0||!E.total_iterations||jQuery.type(E.total_iterations)!=="number"){S();return}else A(E),m&&(m=!1,d!=!1&&c==!1&&(clearInterval(d),d=!1,c=setInterval(function(){B()},2e3)))}});function S(){d&&(clearInterval(d),d=!1),c&&(clearInterval(c),c=!1),u[l]&&x(l),c=!1,l=!1,p=null,m=!1}},x=function(D){if(D&&(delete s[D],delete u[D],l===D&&(l=!1)),i>0)i=i-1,i===0&&x();else if(r){clearTimeout(o);var S=Global.UNIT_TEST_MODE?10:500;o=setTimeout(function(){y(),g&&(clearInterval(g),g=null),a=null,v="",r&&(r.css("display","none"),c&&(clearInterval(c),c=!1),d&&(clearInterval(d),d=!1)),TTPromise.resolve("ProgressBar","MASTER")},S)}},z=function(){if(!w){var D={bg:"red",id:"nano-bar"};w=new Nanobar(D)}var S=0;f&&clearInterval(f),f=setInterval(function(){S<80?(S=S+20,w.go(S)):S===80&&(S=S+10,w.go(S))},1e3)},W=function(){f&&clearInterval(f),w&&w.go(100),y()};return{showProgressBar:P,removeProgressBar:x,showOverlay:C,closeOverlay:y,message_id_dic:s,changeProgressBarMessage:b,cancelProgressBar:I,showNanobar:z,removeNanobar:W,noProgressForNextCall:k}}();let BaseWizardController$1=class N extends TTBackboneView{constructor(e={}){_.defaults(e,{steps:0,title:"Wizard",current_step:1,content_div:null,next_btn:null,back_btn:null,done_btn:null,cancel_btn:null,progress:null,progress_label:null,stepsWidgetDic:null,stepsDataDic:null,default_data:null,call_back:null,saved_user_generic_data:null,script_name:null,user_generic_data_api:null,wizard_id:null,edit_view_ui_dic:{},edit_view_form_item_dic:{},events:{"click .close-btn":"onCloseClick","click .close-icon":"onCloseClick","click .wizard-overlay.onclick-close":"onCloseClick","click .forward-btn":"onNextClick","click .back-btn":"onBackClick","click .done-btn":"onDoneClick"}}),super(e)}initialize(e){super.initialize(e),this.content_div=jQuery(this.el).find(".content"),this.stepsWidgetDic={},this.stepsDataDic={},this.default_data=N.default_data,this.call_back=N.call_back,N.default_data=null,N.call_back=null,this.user_generic_data_api=TTAPI.APIUserGenericData,this.wizard_id===null&&(this.wizard_id=this.constructor.name),LocalCacheData.current_open_wizard_controllers.push(this),typeof this.init=="function"&&(typeof this.setDefaultDataToSteps=="function"&&this.setDefaultDataToSteps(),this.init(e),TTPromise.resolve("BaseViewController","initialize"))}setDefaultDataToSteps(){}getDefaultData(e){return this.default_data?this.default_data[e]:null}render(){var e=jQuery(this.el).find(".title"),t=jQuery(this.el).find(".title-1");this.progress=jQuery(this.el).find(".progress"),this.progress_label=jQuery(this.el).find(".steps"),this.progress.attr("max",10),this.progress.val(0),this.next_btn=jQuery(this.el).find(".forward-btn"),this.back_btn=jQuery(this.el).find(".back-btn"),this.done_btn=jQuery(this.el).find(".done-btn"),this.close_btn=jQuery(this.el).find(".close-btn"),Global.setWidgetEnabled(this.back_btn,!1),Global.setWidgetEnabled(this.next_btn,!1),Global.setWidgetEnabled(this.close_btn,!1),Global.setWidgetEnabled(this.done_btn,!1),e.text(this.title),t.text(this.title),TTPromise.resolve("init","init")}setButtonsStatus(){Global.setWidgetEnabled(this.done_btn,!1),Global.setWidgetEnabled(this.close_btn,!0),this.current_step===1?Global.setWidgetEnabled(this.back_btn,!1):Global.setWidgetEnabled(this.back_btn,!0),this.current_step!==this.steps?(Global.setWidgetEnabled(this.done_btn,!1),Global.setWidgetEnabled(this.next_btn,!0)):(Global.setWidgetEnabled(this.done_btn,!0),Global.setWidgetEnabled(this.next_btn,!1))}onNextClick(){this.saveCurrentStep(),this.current_step=this.current_step+1,this.initCurrentStep()}onBackClick(){this.saveCurrentStep(),this.current_step=this.current_step-1,this.initCurrentStep()}onDoneClick(){}cleanStepsData(){this.stepsDataDic={},this.current_step=1}onCloseClick(){this.script_name&&(this.saveCurrentStep(),this.saveAllStepsToUserGenericData(function(){})),LocalCacheData.current_open_wizard_controllers=LocalCacheData.current_open_wizard_controllers.filter(e=>e.wizard_id!==this.wizard_id),jQuery(this.el).remove()}saveCurrentStep(e,t){}saveAllStepsToUserGenericData(e){this.script_name&&this.saved_user_generic_data?(this.saved_user_generic_data.data=this.stepsDataDic,this.saved_user_generic_data.data.current_step=this.current_step,this.user_generic_data_api.setUserGenericData(this.saved_user_generic_data,{onResult:function(t){e(t.getResult())}})):e(!0)}addEditFieldToColumn(e,t,i,a,o,n,s,l,c,m){var d=this,u=jQuery(Global.loadWidgetByName(WidgetNamesDic.EDIT_VIEW_FORM_ITEM)),p=u.find(".edit-view-form-item-label-div"),v=u.find(".edit-view-form-item-label"),g=u.find(".edit-view-form-item-input-div"),h=t;if(Global.isArray(t))for(var w=0;w<t.length;w++)h=t[w];if(m?(v.parent().append(m),v.remove()):v.html(e),Global.isSet(o)?g.append(o):g.append(h),i.append(u),!e){g.remove(),p.remove(),u.append(h),n&&l&&(this.edit_view_form_item_dic[l]=u);return}if(n&&(Global.isArray(t)?this.edit_view_form_item_dic[t[0].getField()]=u:this.edit_view_form_item_dic[h.getField()]=u),Global.isArray(t))for(var w=0;w<t.length;w++)h=t[w],this.stepsWidgetDic[this.current_step][h.getField()]=h,h.unbind("formItemChange").bind("formItemChange",function(T,C,y){d.onFormItemChange(C,y)}),c&&(h.unbind("formItemKeyUp").bind("formItemKeyUp",function(T,C){d.onFormItemKeyUp(C)}),h.unbind("formItemKeyDown").bind("formItemKeyDown",function(T,C){d.onFormItemKeyDown(C)}));else this.stepsWidgetDic[this.current_step][h.getField()]=h,h.bind("formItemChange",function(f,T,C){d.onFormItemChange(T,C)}),c&&(h.bind("formItemKeyUp",function(f,T){d.onFormItemKeyUp(T)}),h.bind("formItemKeyDown",function(f,T){d.onFormItemKeyDown(T)}));return u}initUserGenericData(){var e=this,t={};this.script_name?(t.filter_data={script:this.script_name,deleted:!1},this.user_generic_data_api.getUserGenericData(t,{onResult:function(i){var a=i.getResult();jQuery.type(a)==="array"?(e.saved_user_generic_data=a[0],e.stepsDataDic=e.saved_user_generic_data.data):(e.saved_user_generic_data={},e.saved_user_generic_data.script=e.script_name,e.saved_user_generic_data.name=e.script_name,e.saved_user_generic_data.is_default=!1,e.saved_user_generic_data.data={current_step:1}),e.current_step=e.saved_user_generic_data.data.current_step,(e.current_step>e.steps||e.current_step<1)&&(e.current_step=1),e.initCurrentStep()}})):e.initCurrentStep()}initCurrentStep(){var e=this;e.progress_label.text("Step "+e.current_step+" of "+e.steps),e.progress.attr("max",e.steps),e.progress.val(e.current_step),e.buildCurrentStepUI(),e.buildCurrentStepData(),e.setCurrentStepValues(),e.setButtonsStatus()}buildCurrentStepUI(){}buildCurrentStepData(){}setCurrentStepValues(){}getLabel(){var e=jQuery("<span class='wizard-label clear-both-div'></span>");return e}getCheckBox(e){var t=Global.loadWidgetByName(FormItemType.CHECKBOX);return t.TCheckbox({field:e}),t}getDatePicker(e){var t=Global.loadWidgetByName(FormItemType.DATE_PICKER);return t.TDatePicker({field:e}),t}getPasswordInput(e){var t=Global.loadWidgetByName(FormItemType.PASSWORD_INPUT);return t=t.TPasswordInput({field:e}),t}getTextInput(e,t){var i=Global.loadWidgetByName(FormItemType.TEXT_INPUT);return t?i=i.TPasswordInput({field:e,width:t}):i=i.TPasswordInput({field:e}),i}getText(){var e=Global.loadWidgetByName(FormItemType.TEXT);return e=e.TText({}),e}getTextArea(e,t,i){t||(t=300),i||(i=200);var a=Global.loadWidgetByName(FormItemType.TEXT_AREA);return a=a.TTextArea({field:e,width:t,height:i}),a}getComboBox(e,t){var i=Global.loadWidgetByName(FormItemType.COMBO_BOX);return i=i.TComboBox({field:e,set_empty:t}),i}getImageCutArea(e){var t=Global.loadWidgetByName(FormItemType.IMAGE_CUT);return t=t.TImageCutArea({field:e}),t}getCameraBrowser(e){var t=Global.loadWidgetByName(FormItemType.CAMERA_BROWSER);return t=t.CameraBrowser({field:e}),t}getFileBrowser(e,t,i,a){var o=Global.loadWidgetByName(FormItemType.FILE_BROWSER);return o=o.TImageBrowser({field:e,accept_filter:t,default_width:i,default_height:a}),o}getAComboBox(e,t,i,a,o,n){var s=Global.loadWidgetByName(FormItemType.AWESOME_BOX);return n||(n="id"),s.AComboBox({key:n,api_class:e,allow_multiple_selection:t,layout_name:i,show_search_inputs:!0,set_empty:!0,set_all:o,field:a}),s}getSimpleTComboBox(e,t){Global.isSet(t)||(t=!0);var i=Global.loadWidgetByName(FormItemType.AWESOME_BOX);return i=i.AComboBox({field:e,set_empty:!0,allow_multiple_selection:t,layout_name:"global_option_column",key:"value"}),i}onGridSelectRow(e){}onGridDblClickRow(e){}setGrid(e,t,i){i||(i=!1);var a=this;this.content_div.append(t);var o=t.find("#"+e);return this.getGridColumns(e,function(n){a.stepsWidgetDic[a.current_step][e]=new TTGrid(e,{container_selector:".wizard",altRows:!0,onSelectRow:function(s){a.onGridSelectRow(s)},onSelectAll:function(s){for(var l in s)a.onGridSelectRow(s[l])},ondblClickRow:function(){a.onGridDblClickRow()},sortable:!1,height:75,multiselect:i,multiboxonly:i},n),a.setGridSize(a.stepsWidgetDic[a.current_step][e]),a.setGridGroupColumns(e)}),o}setGridGroupColumns(e){}setGridSize(e){e.grid.setGridWidth(jQuery(this.content_div.find(".grid-div")).width()-11),e.grid.setGridHeight(this.content_div.height()-150)}getGridColumns(e,t){}getRibbonButtonBox(){var e=jQuery('<div class="menu ribbon-button-bar"></div>'),t=jQuery("<ul></ul>");return e.append(t),e}getRibbonButton(e,t,i){var a=jQuery('<li><div class="ribbon-sub-menu-icon" id="'+e+'"><img src="'+t+'" >'+i+"</div></li>");return a}showNoResultCover(e){if(e&&e instanceof jQuery){this.removeNoResultCover(e);var t=Global.loadWidgetByName(WidgetNamesDic.NO_RESULT_BOX);t.NoResultBox({related_view_controller:this,is_new:!1}),t.attr("class","no-result-div"),e.append(t)}}removeNoResultCover(e){e&&e instanceof jQuery&&e.find(".no-result-div").remove()}};BaseWizardController$1.default_data=null;BaseWizardController$1.callBack=null;BaseWizardController$1.openWizard=function(r,e){if(r!="ReportViewWizard"&&LocalCacheData.current_open_wizard_controllers.length>0)for(let t=0;t<LocalCacheData.current_open_wizard_controllers.length;t++)LocalCacheData.current_open_wizard_controllers[t].onCloseClick();Global.loadViewSource(r,e,function(t){var i={},a=_.template(t);jQuery("body").append(a(i)),Global.setUIInitComplete()})};BaseWizardController$1.isWizardInitializingOrActive=function(r){return!!(BaseWizardController$1.default_data||LocalCacheData.current_open_wizard_controllers.some(e=>e.wizard_id===r))};const BaseWizardController$2=Object.freeze(Object.defineProperty({__proto__:null,BaseWizardController:BaseWizardController$1},Symbol.toStringTag,{value:"Module"}));var PermissionManager$1=function(){var r=function(d,u){var p=PermissionManager$1.getPermissionData();return!p||!Global.isSet(p[d])||!Global.isSet(p[d][u])?!1:p[d][u]},e=function(){var d=PermissionManager$1.getPermissionData();return d&&d._system&&d._system.level?d._system.level:0},t=function(d){var u=c(d);if(PermissionManager$1.validate(u,"enabled")){if(PermissionManager$1.validate(u,"view")||PermissionManager$1.validate(u,"edit")||PermissionManager$1.validate(u,"edit_child"))return!1}else return!1;return!1},i=function(){return!!(PermissionManager$1.getPermissionLevel()>=70&&PermissionManager$1.validate("user","edit"))},a=function(){return!!(PermissionManager$1.getPermissionLevel()>=40&&(PermissionManager$1.validate("user","edit_child")||PermissionManager$1.validate("punch","edit_child")))},o=function(d){var u=c(d),p=!1;if(d==="About")return!0;if(Global.isSet(LocalCacheData)==!1||LocalCacheData.isLocalCacheExists("current_company")==!1||Global.isSet(LocalCacheData.getCurrentCompany())==!1)return!1;switch(d){case"GridTest":case"WidgetTest":case"AwesomeboxTest":case"UIKitSample":case"UIKitChildSample":p=!0;break;case"JobInvoice":Global.getProductEdition()>=20&&PermissionManager$1.validate(u,"enabled")?(PermissionManager$1.validate(u,"add")||PermissionManager$1.validate(u,"edit")||PermissionManager$1.validate(u,"edit_own"))&&(p=!0):p=!1;break;case"PaymentGateway":Global.getProductEdition()>=20&&PermissionManager$1.validate(u,"enabled")?(PermissionManager$1.validate(u,"edit")||PermissionManager$1.validate(u,"edit_own"))&&(p=!0):p=!1;break;case"InvoiceConfig":Global.getProductEdition()>=20&&PermissionManager$1.validate(u,"enabled")?(PermissionManager$1.validate(u,"edit")||PermissionManager$1.validate(u,"edit_own"))&&(p=!0):p=!1;break;case"CustomField":PermissionManager$1.validate(u,"enabled")?PermissionManager$1.validate(u,"view")&&PermissionManager$1.validate(u,"edit")&&(p=!0):p=!1;break;case"InOut":PermissionManager$1.validate(u,"enabled")&&PermissionManager$1.validate(u,"punch_in_out")?p=!0:p=!1;break;case"Employee":PermissionManager$1.validate(u,"enabled")?(PermissionManager$1.validate(u,"view")||PermissionManager$1.validate(u,"view_child"))&&(p=!0):p=!1;break;case"LegalEntity":case"PayrollRemittanceAgency":case"RemittanceSourceAccount":case"UserTitle":case"UserGroup":case"UserDefault":case"EthnicGroup":PermissionManager$1.validate(u,"enabled")?PermissionManager$1.validate(u,"edit")&&PermissionManager$1.validate(u,"add")&&(p=!0):p=!1;break;case"RemittanceDestinationAccount":case"Punches":PermissionManager$1.validate(u,"enabled")?(PermissionManager$1.validate(u,"edit")||PermissionManager$1.validate(u,"edit_child"))&&(p=!0):p=!1;break;case"GovernmentDocument":case"Exception":PermissionManager$1.validate(u,"enabled")?(PermissionManager$1.validate(u,"view")||PermissionManager$1.validate(u,"view_own"))&&(p=!0):p=!1;break;case"Company":case"LoginUserContact":case"LoginUserPreference":PermissionManager$1.validate(u,"enabled")?PermissionManager$1.validate(u,"edit_own")&&(p=!0):p=!1;break;case"Companies":Global.getProductEdition()>=15&&PermissionManager$1.validate(u,"enabled")&&PermissionManager$1.validate(u,"view")&&(p=!0);break;case"SavedReport":PermissionManager$1.validate(u,"enabled")?p=!0:p=!1;break;case"PermissionControl":PermissionManager$1.validate(u,"enabled")?PermissionManager$1.validate(u,"edit")&&(p=!0):p=!1;break;case"DocumentGroup":Global.getProductEdition()>=20&&PermissionManager$1.validate(u,"enabled")?PermissionManager$1.validate(u,"edit")&&(p=!0):p=!1;break;case"PayPeriodSchedule":case"Branch":case"Department":case"HierarchyControl":case"WageGroup":case"Station":case"Currency":case"PayStubEntryAccount":case"CompanyTaxDeduction":case"PolicyGroup":case"SchedulePolicy":case"RoundIntervalPolicy":case"MealPolicy":case"BreakPolicy":case"OvertimePolicy":case"PremiumPolicy":case"ExceptionPolicyControl":case"AccrualPolicy":case"AbsencePolicy":case"HolidayPolicy":case"RecurringHoliday":PermissionManager$1.validate(u,"enabled")?PermissionManager$1.validate(u,"view")&&(p=!0):p=!1;break;case"RequestAuthorization":PermissionManager$1.validate(u,"enabled")?PermissionManager$1.validate("request","authorize")&&(PermissionManager$1.validate(u,"view")||PermissionManager$1.validate(u,"view_child"))&&(p=!0):p=!1;break;case"TimeSheetAuthorization":PermissionManager$1.validate(u,"enabled")?PermissionManager$1.validate("punch","authorize")&&(PermissionManager$1.validate(u,"view")||PermissionManager$1.validate(u,"view_child"))&&(p=!0):p=!1;break;case"ExpenseAuthorization":Global.getProductEdition()>=25&&PermissionManager$1.validate(u,"enabled")?PermissionManager$1.validate("user_expense","authorize")&&(PermissionManager$1.validate(u,"view")||PermissionManager$1.validate(u,"view_child"))&&(p=!0):p=!1;break;case"UserExpense":Global.getProductEdition()>=25&&PermissionManager$1.validate(u,"enabled")?PermissionManager$1.validate(u,"view")&&(p=!0):p=!1;break;case"ImportCSV":PermissionManager$1.validate("company","enabled")?p=s():p=!1;break;case"ImportCSVSchedule":p=l("schedule");break;case"ImportCSVBranch":p=l("branch");break;case"ImportCSVDepartment":p=l("department");break;case"ImportCSVWage":p=l("wage");break;case"ImportCSVEmployeeBankAccount":p=l("user");break;case"ImportCSVEmployee":p=l("user");break;case"ImportCSVEmployeeContact":p=l("user_contact");break;case"ImportCSVEmployeeSkill":p=l("user_skill");break;case"ImportCSVEmployeeMembership":p=l("user_membership");break;case"ImportCSVEmployeeEducation":p=l("user_education");break;case"ImportCSVEmployeeLicense":p=l("user_license");break;case"ImportCSVEmployeeLanguage":p=l("user_language");break;case"ImportCSVPayStubAmendment":p=l("pay_stub_amendment");break;case"ImportCSVJob":p=l("job");break;case"ImportCSVJobItem":p=l("job_item");break;case"PayrollProcessWizard":PermissionManager$1.validate("pay_stub","add")&&PermissionManager$1.validate("pay_stub","edit")?p=!0:p=!1;break;case"QuickStartWizard":PermissionManager$1.validate("pay_period_schedule","add")&&PermissionManager$1.validate("user_preference","edit")&&PermissionManager$1.validate("policy_group","edit")?p=!0:p=!1;break;case"AccrualBalance":case"Accrual":case"Request":PermissionManager$1.validate(u,"enabled")?(PermissionManager$1.validate(u,"view")||PermissionManager$1.validate(u,"view_own"))&&(p=!0):p=!1;break;case"ScheduleShift":PermissionManager$1.validate(u,"enabled")?(PermissionManager$1.validate(u,"edit")||PermissionManager$1.validate(u,"edit_child"))&&(p=!0):p=!1;break;case"RecurringScheduleControl":case"RecurringScheduleTemplateControl":case"MessageControl":PermissionManager$1.validate(u,"enabled")?p=!0:p=!1;break;case"Notification":p=!0;break;case"UserPreference":PermissionManager$1.validate(u,"enabled")?(PermissionManager$1.validate(u,"edit")||PermissionManager$1.validate(u,"edit_child"))&&(p=!0):p=!1;break;case"Document":Global.getProductEdition()>=20&&PermissionManager$1.validate(u,"enabled")?(PermissionManager$1.validate(u,"view")||PermissionManager$1.validate(u,"view_own")||PermissionManager$1.validate(u,"view_private"))&&(p=!0):p=!1;break;case"ChangePassword":(PermissionManager$1.validate(u,"edit_own_password")||PermissionManager$1.validate(u,"edit_own_phone_password"))&&(p=!0);break;case"ActiveShiftReport":PermissionManager$1.validate("report","view_active_shift")?p=!0:p=!1;break;case"UserSummaryReport":PermissionManager$1.validate("report","view_user_information")?p=!0:p=!1;break;case"AuditTrailReport":PermissionManager$1.validate("report","view_system_log")?p=!0:p=!1;break;case"ScheduleSummaryReport":PermissionManager$1.validate("report","view_schedule_summary")?p=!0:p=!1;break;case"TimesheetSummaryReport":case"TimesheetDetailReport":PermissionManager$1.validate("report","view_timesheet_summary")?p=!0:p=!1;break;case"PunchSummaryReport":PermissionManager$1.validate("report","view_punch_summary")?p=!0:p=!1;break;case"AccrualBalanceSummaryReport":PermissionManager$1.validate("report","view_accrual_balance_summary")?p=!0:p=!1;break;case"ExceptionSummaryReport":PermissionManager$1.validate("report","view_exception_summary")?p=!0:p=!1;break;case"PayStubTransactionSummaryReport":case"PayStubSummaryReport":PermissionManager$1.validate("report","view_pay_stub_summary")?p=!0:p=!1;break;case"PayrollExportReport":PermissionManager$1.validate("report","view_payroll_export")?p=!0:p=!1;break;case"GeneralLedgerSummaryReport":PermissionManager$1.validate("report","view_general_ledger_summary")?p=!0:p=!1;break;case"ExpenseSummaryReport":Global.getProductEdition()>=20&&PermissionManager$1.validate("report","view_expense")?p=!0:p=!1;break;case"JobSummaryReport":case"JobInformationReport":case"JobItemInformationReport":Global.getProductEdition()>=20&&PermissionManager$1.validate("job_report","view_job_summary")?p=!0:p=!1;break;case"JobAnalysisReport":Global.getProductEdition()>=20&&PermissionManager$1.validate("job_report","view_job_analysis")?p=!0:p=!1;break;case"InvoiceTransactionSummaryReport":Global.getProductEdition()>=20&&PermissionManager$1.validate("invoice_report","view_transaction_summary")?p=!0:p=!1;break;case"RemittanceSummaryReport":PermissionManager$1.validate("report","view_remittance_summary")&&n("CA")?p=!0:p=!1;break;case"T4SummaryReport":case"T4ASummaryReport":PermissionManager$1.validate("report","view_t4_summary")&&n("CA")?p=!0:p=!1;break;case"TaxSummaryReport":PermissionManager$1.validate("report","view_generic_tax_summary")?p=!0:p=!1;break;case"Form940Report":PermissionManager$1.validate("report","view_form940")&&n("US")?p=!0:p=!1;break;case"Form941Report":PermissionManager$1.validate("report","view_form941")&&n("US")?p=!0:p=!1;break;case"Form1099NecReport":PermissionManager$1.validate("report","view_form1099nec")&&n("US")?p=!0:p=!1;break;case"FormW2Report":PermissionManager$1.validate("report","view_formW2")&&n("US")?p=!0:p=!1;break;case"USStateUnemploymentReport":PermissionManager$1.validate("report","view_us_state_unemployment")&&n("US")?p=!0:p=!1;break;case"USPERSReport":PermissionManager$1.validate("report","view_us_pers")&&n("US")?p=!0:p=!1;break;case"USEEOReport":Global.getProductEdition()>=15&&PermissionManager$1.validate("report","view_us_eeo")&&n("US")?p=!0:p=!1;break;case"AffordableCareReport":Global.getProductEdition()>=15&&PermissionManager$1.validate("report","view_affordable_care")&&n("US")?p=!0:p=!1;break;case"UserQualificationReport":PermissionManager$1.validate("hr_report","user_qualification")?p=!0:p=!1;break;case"KPIReport":PermissionManager$1.validate("hr_report","user_review")?p=!0:p=!1;break;case"UserRecruitmentSummaryReport":case"UserRecruitmentDetailReport":Global.getProductEdition()>=25&&PermissionManager$1.validate("recruitment_report","user_recruitment")?p=!0:p=!1;break;case"Client":case"ClientContact":case"InvoiceDistrict":case"ClientPayment":case"Invoice":case"InvoiceTransaction":case"Product":case"ClientGroup":case"ProductGroup":case"TaxPolicy":case"ShippingPolicy":case"AreaPolicy":Global.getProductEdition()>=20&&PermissionManager$1.validate(u,"enabled")?(PermissionManager$1.validate(u,"view")||PermissionManager$1.validate(u,"view_own")||PermissionManager$1.validate(u,"view_child"))&&(p=!0):p=!1;break;case"Job":case"JobItem":case"JobGroup":case"JobItemGroup":Global.getProductEdition()>=20&&PermissionManager$1.validate(u,"enabled")?(PermissionManager$1.validate(u,"view")||PermissionManager$1.validate(u,"view_own")||PermissionManager$1.validate(u,"view_child"))&&(p=!0):p=!1;break;case"PunchTag":case"PunchTagGroup":Global.getProductEdition()>=20&&PermissionManager$1.validate(u,"enabled")?(PermissionManager$1.validate(u,"view")||PermissionManager$1.validate(u,"view_own")||PermissionManager$1.validate(u,"view_child"))&&(p=!0):p=!1;break;case"GEOFence":Global.getProductEdition()>=20&&PermissionManager$1.validate(u,"enabled")?(PermissionManager$1.validate(u,"view")||PermissionManager$1.validate(u,"view_own"))&&(p=!0):p=!1;break;case"ExpensePolicy":case"LoginUserExpense":case"JobVacancy":case"JobApplicant":case"JobApplication":Global.getProductEdition()>=25&&PermissionManager$1.validate(u,"enabled")?(PermissionManager$1.validate(u,"view")||PermissionManager$1.validate(u,"view_own")||PermissionManager$1.validate(u,"view_child"))&&(p=!0):p=!1;break;case"ROE":PermissionManager$1.validate(u,"enabled")?(PermissionManager$1.validate(u,"view")||PermissionManager$1.validate(u,"view_own")||PermissionManager$1.validate(u,"view_child"))&&n("CA")&&(p=!0):p=!1;break;case"GeneratePayStubs":PermissionManager$1.validate("pay_period_schedule","enabled")&&(PermissionManager$1.validate("pay_period_schedule","edit")||PermissionManager$1.validate("pay_period_schedule","edit_own"))&&(PermissionManager$1.validate("pay_stub","view")||PermissionManager$1.validate("pay_stub","view_child"))?p=!0:p=!1;break;case"PayStubTransaction":PermissionManager$1.validate("pay_stub","enabled")&&(PermissionManager$1.validate("pay_stub","view")||PermissionManager$1.validate("pay_stub","view_child"))?p=!0:p=!1;break;default:PermissionManager$1.validate(u,"enabled")?(PermissionManager$1.validate(u,"view")||PermissionManager$1.validate(u,"view_own")||PermissionManager$1.validate(u,"view_child"))&&(p=!0):p=!1;break}return p},n=function(d){for(var u=LocalCacheData.getUniqueCountryArray(),p=0;p<u.length;p++)if(d===u[p])return!0;return!1},s=function(){var d=!1;return(l("branch")||l("payperiod")||l("schedule")||l("user")||l("department")||l("client")||l("job")||l("jobitem")||l("wage")||l("punch")||l("paystubamendment")||l("accrual"))&&(d=!0),d},l=function(d){return!!(PermissionManager$1.validate(d,"add")&&(PermissionManager$1.validate(d,"edit")||PermissionManager$1.validate(d,"edit_child")))},c=function(d){var u="";switch(d){case"AccumulatedTime":u="user_date_total";break;case"PaymentGateway":u="payment_gateway";break;case"InvoiceConfig":u="invoice_config";break;case"AreaPolicy":u="area_policy";break;case"ShippingPolicy":u="shipping_policy";break;case"GovernmentDocument":u="government_document";break;case"TaxPolicy":u="tax_policy";break;case"Product":u="product";break;case"RemittanceSourceAccount":u="remittance_source_account";break;case"RemittanceDestinationAccount":u="remittance_destination_account";break;case"ScheduleShift":case"Schedule":u="schedule";break;case"TimeSheet":case"ManualTimeSheet":case"UserDateTotalParent":case"UserDateTotal":case"InOut":case"Punches":case"TimeSheetAuthorization":case"Exception":u="punch";break;case"AccrualBalance":case"Accrual":u="accrual";break;case"Job":case"JobGroup":u="job";break;case"PunchTag":case"PunchTagGroup":u="punch_tag";break;case"PolicyGroup":u="policy_group";break;case"PayCode":u="pay_code";break;case"PayFormulaPolicy":u="pay_formula_policy";break;case"ContributingPayCodePolicy":u="contributing_pay_code_policy";break;case"ContributingShiftPolicy":u="contributing_shift_policy";break;case"AbsencePolicy":u="absence_policy";break;case"MealPolicy":u="meal_policy";break;case"ExpensePolicy":u="expense_policy";break;case"BreakPolicy":u="break_policy";break;case"HolidayPolicy":case"RecurringHoliday":u="holiday_policy";break;case"PremiumPolicy":u="premium_policy";break;case"RegularTimePolicy":u="regular_time_policy";break;case"OvertimePolicy":u="over_time_policy";break;case"RoundIntervalPolicy":u="round_policy";break;case"Employee":case"LoginUserContact":case"ChangePassword":u="user";break;case"UserDefault":u="user_default";break;case"UserTitle":u="user_title";break;case"UserGroup":u="user_group";break;case"EthnicGroup":u="ethnic_group";break;case"LegalEntity":u="legal_entity";break;case"PayrollRemittanceAgency":u="payroll_remittance_agency";break;case"MessageControl":u="message";break;case"Notification":u="notification";break;case"Wage":case"WageGroup":u="wage";break;case"UserContact":u="user_contact";break;case"LoginUserExpense":case"UserExpense":u="user_expense";break;case"UserSkill":u="user_skill";break;case"JobApplication":u="job_application";break;case"JobApplicant":case"RecruitmentPortalConfig":u="job_applicant";break;case"UserLicense":u="user_license";break;case"UserMembership":u="user_membership";break;case"UserEducation":u="user_education";break;case"UserPreference":case"LoginUserPreference":u="user_preference";break;case"UserLanguage":u="user_language";break;case"Company":case"Companies":u="company";break;case"GEOFence":u="geo_fence";break;case"Qualification":case"QualificationGroup":u="qualification";break;case"PayPeriodSchedule":case"PayPeriods":u="pay_period_schedule";break;case"PayStubAmendment":case"RecurringPayStubAmendment":u="pay_stub_amendment";break;case"PayStubTransactionSummaryReport":case"PayStub":u="pay_stub";break;case"Branch":u="branch";break;case"Department":u="department";break;case"HierarchyControl":u="hierarchy";break;case"Station":u="station";break;case"JobVacancy":case"PortalJobVacancy":u="job_vacancy";break;case"PayStubEntryAccount":u="pay_stub_account";break;case"ROE":u="roe";break;case"CustomField":u="custom_field";break;case"Currency":u="currency";break;case"PermissionControl":u="permission";break;case"CompanyTaxDeduction":u="company_tax_deduction";break;case"UserTaxDeduction":u="user_tax_deduction";break;case"Request":u="request";break;case"RequestAuthorization":case"ExpenseAuthorization":u="authorization";break;case"Document":case"DocumentGroup":u="document";break;case"SchedulePolicy":u="schedule_policy";break;case"AccrualPolicyAccount":case"AccrualPolicy":u="accrual_policy";break;case"Client":case"ClientContact":case"InvoiceDistrict":case"ClientPayment":u="client";break;case"InvoiceTransaction":u="transaction";break;case"JobItemGroup":case"JobItem":u="job_item";break;case"SavedReport":u="report";break;case"RecurringScheduleControl":u="recurring_schedule";break;case"RecurringScheduleTemplateControl":u="recurring_schedule_template";break;case"KPI":case"KPIGroup":u="kpi";break;case"UserReviewControl":u="user_review";break;case"ExceptionPolicyControl":u="exception_policy";break;case"ImportCSV":u="import_csv";break;case"Invoice":case"JobInvoice":u="invoice";break}return u},m=function(){return LocalCacheData.getPermissionData()};return{checkTopLevelPermission:o,validate:r,getPermissionLevel:e,getPermissionData:m,HelpMenuValidateAdmin:i,HelpMenuValidateSupervisor:a,importValidate:s,subJobApplicationValidate:t}}(),TAlertManager$1=function(){var r=null,e=!1,t=function(){jQuery(".browser-banner").remove()},i=function(){},a=function(v,g,h){if(v.status==0){APIGlobal.pre_login_data.production!==!0&&console.error("Browser cancelled request... jqXHR: Status=0");return}if(g=="parsererror"){Global.sendErrorReport(g+" ("+v.status+'): "'+h+`" FROM TAlertManager::showNetworkErrorAlert():

`+(v.responseText?v.responseText:"N/A"),!1,!1,v);return}e||(TAlertManager$1.showAlert(Global.network_lost_msg+"<br><br>Error: "+g+" ("+v.status+'): <br>"'+h+'"<br><hr>'+(v.responseText?v.responseText:"N/A")+" ("+v.status+")","Error",function(){e=!1}),e=!0,Global.sendAnalyticsEvent("alert-manager","error:network","network-error: jqXHR-status: "+v.status+" Error: "+g))},o=function(){var v=jQuery('<div class="session-alert"> <span class="close-icon">X</span><span class="content"></span></div>');setTimeout(function(){jQuery("body").append(v),v.find(".content").html(jQuery.i18n._("Previous Session"));var w=v.find(".close-icon");w.bind("click",Global.debounce(function(T){g()},Global.calcDebounceWaitTimeBasedOnNetwork(),!0)),v.bind("click",Global.debounce(function(T){h()},Global.calcDebounceWaitTimeBasedOnNetwork(),!0))},100);function g(){v.remove(),v=null,deleteCookie("AlternateSessionData",LocalCacheData.cookie_path,Global.getHost())}function h(){var w=Global.getHost();try{var f=JSON.parse(getCookie("AlternateSessionData"));if(!f){Debug.Text("No alternate_session_data exists.","TAlertManager.js","TAlertManager","backToPreSession",10);return}}catch(y){Debug.Text(y.message,"TAlertManager.js","showPreSessionAlert","backToPreSession",10);return}var T=f.previous_session_url,C=f.previous_cookie_path;f={new_session_id:f.previous_session_id,previous_session_view:f.previous_session_view},setCookie("AlternateSessionData",JSON.stringify(f),1,C,w),Global.setURLToBrowser(T+"#!m=Login"),Global.needReloadBrowser=!0,v.remove(),v=null}},n=function(v){var g=v.getDetails();g.hasOwnProperty("error"),g||(g=v.getDescription());var h="";Global.isArray(g)||typeof g=="object"?h=Global.convertValidationErrorToString(g):h=g,l(h,"Error")},s=function(v,g){var h=v.getDetails(),w=jQuery("<ol>");(Global.isArray(h)||typeof h=="object")&&jQuery.each(h,function(C,y){y.hasOwnProperty("warning")&&(y=y.warning);for(var I in y){var P=jQuery("<li>"),M=y[I],b=!1;for(var A in M)M.hasOwnProperty(A)&&(b=!0,P=jQuery("<li>"),P.append(M[A]),w.append(P));b||(P.append(y[I]),w.append(P))}});var f=jQuery("<div>"),T=jQuery("<p>");T.append(jQuery.i18n._("Are you sure you wish to save this record without correcting the above warnings?")),f.append(w),f.append(T),c(f[0],jQuery.i18n._("Warning"),g,jQuery.i18n._("Save"),jQuery.i18n._("Cancel"))},l=function(v,g,h){g||(g=jQuery.i18n._("Message"));var w=jQuery('<div class="t-alert"><div class="content-div"><span class="content"></span></div><span class="title"></span><div class="bottom-bar"><button class="t-button" id="t-alert-close">Close</button></div></div>');setTimeout(function(){if(r!==null){var f=r.find(".content").text();if(f===v)return;p()}r=w,jQuery("body").append(w),w.find(".title").text(g),w.find(".content").html(v);var T=w.find(".t-button");T.bind("click",Global.debounce(function(y){p(),h&&h()},Global.calcDebounceWaitTimeBasedOnNetwork(),!0)),T.focus(),T.bind("keydown",function(C){C.stopPropagation(),C.keyCode===13&&(p(),h&&h())}),Global.setUIInitComplete()},100)},c=function(v,g,h,w,f){if(Global.isSet(g)||(g=jQuery.i18n._("Message")),Global.isSet(w)||(w=jQuery.i18n._("Yes")),Global.isSet(f)||(f=jQuery.i18n._("No")),r!==null){var T=r.find(".content").text();if(T===v)return;p()}var C=jQuery('<div class="confirm-alert"> <div class="content-div"><span class="content"></span></div><span class="title"></span><div class="bottom-bar"><button id="yesBtn" class="t-button bottom-bar-yes-btn"></button><button id="noBtn" class="t-button"></button></div></div>');r=C,jQuery("body").append(C),C.find("#yesBtn").text(w),C.find("#noBtn").text(f),C.find(".title").text(g),C.find(".content").html(v),C.find("#yesBtn").bind("click",Global.debounce(function(I){p(),h(!0)},Global.calcDebounceWaitTimeBasedOnNetwork(),!0)),C.find("#noBtn").bind("click",Global.debounce(function(I){p(),h(!1)},Global.calcDebounceWaitTimeBasedOnNetwork(),!0)),Global.setUIInitComplete()},m=function(v,g,h,w,f,T,C,y){Global.setUINotready();var I=!0;C||(C=jQuery.i18n._("Continue")),y||(y=jQuery.i18n._("Cancel"));var P=jQuery('<div class="confirm-alert"> <div><span class="content"></span></div><span class="title"></span><div style="margin-top: 2rem; margin-bottom: 2rem" id="form-holder"></div><div style="margin-bottom: 1rem" class="bottom-bar"><button id="yesBtn" class="t-button bottom-bar-yes-btn"></button><button id="noBtn" class="t-button"></button></div></div>');if(T&&P.css("width",T),r=P,jQuery("body").append(P),h==="dropdown"){var M=Global.loadWidgetByName(FormItemType.COMBO_BOX);M.TComboBox(),M.setSourceData(w),P.find("#yesBtn").bind("click",Global.debounce(function(A){p(),f(P.find("select").val())},Global.calcDebounceWaitTimeBasedOnNetwork(),!0))}else h==="password"?(M=Global.loadWidgetByName(FormItemType.PASSWORD_INPUT),M.TPasswordInput(),P.find("#yesBtn").bind("click",Global.debounce(function(A){p(),f(P.find("[type=password]").val())},Global.calcDebounceWaitTimeBasedOnNetwork(),!0))):h==="text"?(M=Global.loadWidgetByName(FormItemType.TEXT_INPUT),M.TTextInput(),M.setValue(w),T&&M.width(T-20),I=!1,P.find("#yesBtn").bind("click",Global.debounce(function(A){p()},Global.calcDebounceWaitTimeBasedOnNetwork(),!0))):h==="word_match"&&(M=Global.loadWidgetByName(FormItemType.TEXT_INPUT),M.TTextInput(),P.find("#yesBtn").bind("click",Global.debounce(function(A){P.find("[type=text]").val()===w?(p(),f(!0)):f(!1)},Global.calcDebounceWaitTimeBasedOnNetwork(),!0)));P.find("#form-holder").append(M),P.find("#noBtn").bind("click",Global.debounce(function(A){p(),f(!1)},Global.calcDebounceWaitTimeBasedOnNetwork(),!0)),P.find("#yesBtn").text(C),P.find("#noBtn").text(y),P.find(".title").text(v),P.find(".content").html(g),I==!1&&P.find("#noBtn").hide(),Global.setUIInitComplete()},d=function(v,g,h,w){let f="",T="",C="",y="",I="",P=jQuery.i18n._("Yes"),M="#228b22",b=!1,A=null;if(v==="push_notification")switch(f='<img class ="modal-alert-image" src ="'+Global.getRealImagePath("images/bell_permissions.svg")+'">',T=jQuery.i18n._("Turn on Notifications"),g){case"ask":P=jQuery.i18n._("Yes, turn on notifications!"),C=LocalCacheData.getCurrentCompany().name+" "+jQuery.i18n._("wants permission to notify you of important messages or alerts related to your employment. You can change your notification settings at anytime.");break;case"wait_for_permission":P=jQuery.i18n._("I don't see it?"),M="#AE0000",NotificationConsumer.detectBrowserNeedsExtraPermission()===!0||Notification.permission==="denied"?C=jQuery.i18n._(`A popup should appear on your screen, click "ALLOW" to enable notifications. If you don't see it, you may need to enable notifications in your browser settings.`):C=jQuery.i18n._('A popup should appear on your screen, click "ALLOW" to enable notifications.');break;case"help_text":P=jQuery.i18n._("Ok, done!"),Global.getBrowserVendor()==="Edge"?C=jQuery.i18n._('1. Click the icon to the left of the address (URL) bar to view settings.<br>2. Click "Permissions for this Site"<br>3. To the right of "Notifications" set the option to "ALLOW".'):Global.getBrowserVendor()==="Firefox"?C=jQuery.i18n._('1. Click the icon to the left of the address (URL) bar to view settings.<br>2. Click the "X" next Notifications to remove blocked permissions and then refresh the browser.<br>'):C=jQuery.i18n._('1. Click the icon to the left of the address (URL) bar to view settings.<br>2. Click "Site settings"<br>3. To the right of "Notifications" set the option to "ALLOW".');break}else if(v==="multifactor_authentication")switch(T=jQuery.i18n._("Multifactor Authentication Instructions"),g){case"download_instructions":P=jQuery.i18n._("Ok"),M="#426d9d",y='style="display: block; padding-left: 2rem; padding-right: 2rem; font-size: 1.1rem;"',C="<br>",C+="1."+jQuery.i18n._("Please download the TimeTrex app from the App Store on your device.")+"<br><br>",C+="2."+jQuery.i18n._(' Once installed, on the first step of the "Setup Wizard", tap the "QR Code" icon at the top right to scan the below QR Code.')+"<br>",C+='<img class ="modal-alert-image" style="margin-top: 10px;" src ="'+w+'">';break}else if(v==="custom_agreement")switch(T=jQuery.i18n._("Custom Agreement"),g){case"accept_terms":P=jQuery.i18n._("Continue"),M="#808080",y='style="display: block; padding-left: 2rem; padding-right: 2rem; font-size: 1.1rem;"',I='style="height: 38rem;"',b=!0,C="<br>",C+=`1. ${jQuery.i18n._("Please read the agreement below.")}<br><br>
								2. ${jQuery.i18n._('If you accept the terms, type "Yes, I agree" in the box below and click "Continue".')}<br><br>
								
								<div style="margin-top: 10px; margin-bottom: 10px; padding-left: 2rem; padding-right: 2rem;">
									<textarea id="custom_agreement_text" style="width: 100%; height: 200px; resize: none;" readonly>
										Lorem ipsum dolor sit amet, consectetur adipiscing elit
										Vestibulum nec odio ipsum. Suspendisse cursus malesuada facilisis.
										Proin ut ligula vel nunc egestas porttitor. Morbi lectus risus,
									</textarea>
								</div>
								
								<div style="margin-top: 10px; padding-left: 2rem; padding-right: 2rem;">
									<input type="text" id="custom_agreement_input" style="width: 100%; height: 30px; resize: none;" placeholder="Type 'Yes, I agree' here"">
								</div>`,A=()=>{jQuery("#custom_agreement_input").on("input",function(){u(this)})};break}Global.setUINotready();var k=jQuery('<div class="modal-alert"> <div class="modal-alert-content" '+I+'><span class="modal-alert-close">Ã—</span>'+f+'<h2 class="modal-alert-title"></h2><div class="modal-alert-body" '+y+'></div><button type="submit" class="permission-button-yes" style="background: '+M+'" '+(b?"disabled":"")+"></button></div></div>");r=k,jQuery("body").append(k),k.find(".permission-button-yes").text(P),k.find(".modal-alert-title").text(T),k.find(".modal-alert-body").html(C),k.find(".permission-button-yes").bind("click",Global.debounce(function(B){p(),h&&h(!0),Global.setUIReady()},Global.calcDebounceWaitTimeBasedOnNetwork(),!0)),k.find(".modal-alert-close").bind("click",Global.debounce(function(B){p(),h&&h(!1),Global.setUIReady()},Global.calcDebounceWaitTimeBasedOnNetwork(),!0)),Global.setUIInitComplete(),A&&A()},u=function(v){v.value==="Yes, I agree"?(jQuery(".permission-button-yes").prop("disabled",!1),jQuery(".permission-button-yes").css("background","#426d9d")):(jQuery(".permission-button-yes").prop("disabled",!0),jQuery(".permission-button-yes").css("background","#808080"))},p=function(){r&&(r.remove(),r=null)};return{showBrowserTopBanner:i,closeBrowserBanner:t,showConfirmAlert:c,showModalAlert:d,showAlert:l,showErrorAlert:n,showPreSessionAlert:o,showFlexAlert:m,showWarningAlert:s,showNetworkErrorAlert:a}}();const _sfc_main$5={inheritAttrs:!1,props:{label:{type:String,default:null},icon:{type:String,default:null},model:{type:Array,default:null},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},appendTo:{type:String,default:"body"},class:null,style:null},methods:{onDropdownButtonClick(){this.$refs.menu.toggle({currentTarget:this.$el})},onDefaultButtonClick(){this.$refs.menu.hide()}},computed:{ariaId(){return UniqueComponentId()},containerClass(){return["p-splitbutton p-component",this.class]},defaultButtonId(){return this.$attrs.id.replace("context-group","context-button")}},components:{PVSButton:script$8,PVSMenu:script$9}},_hoisted_1$4=["id"];function _sfc_render$5(r,e,t,i,a,o){const n=resolveComponent("PVSButton"),s=resolveComponent("PVSMenu");return openBlock(),createElementBlock("div",{class:normalizeClass(o.containerClass),style:normalizeStyle(t.style),id:r.$attrs.id},[createVNode(n,mergeProps({type:"button",class:"p-splitbutton-defaultbutton"},r.$attrs,{id:o.defaultButtonId,icon:t.icon,label:t.label,disabled:r.$attrs.disable_item,onClick:o.onDefaultButtonClick}),null,16,["id","icon","label","disabled","onClick"]),createVNode(n,{type:"button",class:"p-splitbutton-menubutton",id:r.$attrs.id+"-split-menu",icon:"pi pi-chevron-down",onClick:o.onDropdownButtonClick,disabled:r.$attrs.disable_menu,"aria-haspopup":"true","aria-controls":o.ariaId+"_overlay"},null,8,["id","onClick","disabled","aria-controls"]),createVNode(s,{id:o.ariaId+"_overlay",ref:"menu",model:t.model,popup:!0,autoZIndex:t.autoZIndex,baseZIndex:t.baseZIndex,appendTo:t.appendTo},null,8,["id","model","autoZIndex","baseZIndex","appendTo"])],14,_hoisted_1$4)}const SplitButton=_export_sfc(_sfc_main$5,[["render",_sfc_render$5],["__scopeId","data-v-52e08913"]]),_sfc_main$4={name:"TTSplitButton",props:{items:Array},data(){return{disable_active_toggle:!1,active_item_index:0}},computed:{disable_menu(){return this.firstEnabledItemIndex===-1},parsed_items(){return this.parseItemArrayCommands(this.items)},active_item(){var r=this.findForceActiveItemIndex();return r!==-1?(this.disable_active_toggle=!0,this.active_item_index=r):this.items[this.active_item_index].disabled===!0&&!this.items[this.active_item_index].freeze_active_item&&(this.firstEnabledItemIndex===-1?this.active_item_index=0:this.active_item_index=this.firstEnabledItemIndex),this.items[this.active_item_index].freeze_active_item=!1,{label:this.getParsedLabel(this.active_item_index),icon:this.getParsedIcon(this.active_item_index),command:this.getParsedCommand(this.active_item_index),disabled:this.getParsedDisabledState(this.active_item_index)}},firstEnabledItemIndex(){var r=t=>t.disabled!==!0,e=this.items.findIndex(r);return e}},methods:{parseItemArrayCommands(r){return r.map((t,i)=>{let a={...t},o=t.command;return a.command=Global.debounce(()=>{this.updateActiveButton(i),o(t)},Global.calcDebounceWaitTimeBasedOnNetwork(),!0),a})},getParsedCommand(r){return this.parsed_items[r].command},getParsedLabel(r){return this.parsed_items[r].label},getParsedIcon(r){return this.parsed_items[r].icon},getParsedDisabledState(r){return this.parsed_items[r].disabled},updateActiveButton(r){if(this.disable_active_toggle===!1){this.active_item_index=r;for(let e=0;e<this.items.length;e++)e===this.active_item_index?this.items[e].split_button_active_item=!0:this.items[e].split_button_active_item=!1}},findForceActiveItemIndex(){var r=i=>i.menu_force_active===!0,e=this.items.filter(r),t=this.items.findIndex(r);return e.length===1?t:(e.length>1&&Debug.Error("Error: More than one Force Active flag found, defaulting to normal splitbutton behaviour.","TTSplitButton.vue","TTSplitButton","findForceActiveItem",1),-1)}},components:{SplitButton}};function _sfc_render$4(r,e,t,i,a,o){const n=resolveComponent("SplitButton");return openBlock(),createBlock(n,{label:o.active_item.label,icon:o.active_item.icon,model:o.parsed_items,onClick:o.active_item.command,disable_item:o.active_item.disabled,disable_menu:o.disable_menu},null,8,["label","icon","model","onClick","disable_item","disable_menu"])}const TTSplitButton=_export_sfc(_sfc_main$4,[["render",_sfc_render$4]]),_sfc_main$3={name:"TTOverlayMenuButton",props:{items:[Array,Object]},computed:{wrapped_items_without_header(){return this.wrapItemCommands(this.items).slice(1)}},methods:{toggleMenu(r){this.$refs.menu.toggle(r)},wrapItemCommands(r){var e=r.map((t,i)=>{let a={...t};var o=t.command;return a.command=Global.debounce(()=>{o(t.id)},Global.calcDebounceWaitTimeBasedOnNetwork(),!0),a});return e}},components:{Menu:script$9,Button:script$8}},_hoisted_1$3={key:0,class:"tt-overlaymenu"};function _sfc_render$3(r,e,t,i,a,o){const n=resolveComponent("Menu"),s=resolveComponent("Button");return t.items[0].visible!==!1&&t.items.length>1?(openBlock(),createElementBlock("div",_hoisted_1$3,[createVNode(n,{ref:"menu",model:o.wrapped_items_without_header,popup:!0,appendTo:"body"},null,8,["model"]),createVNode(s,{class:"menu-button",type:"button",label:t.items[0].label,icon:t.items[0].label?"pi pi-chevron-down":t.items[0].icon,iconPos:"right",onClick:o.toggleMenu},null,8,["label","icon","onClick"])])):createCommentVNode("",!0)}const TTOverlayMenuButton=_export_sfc(_sfc_main$3,[["render",_sfc_render$3],["__scopeId","data-v-83edb660"]]),_sfc_main$2={name:"TTOverlayMultiSelectButton",props:{items:Array},computed:{wrapped_items(){return this.wrapItemCommands(this.items)},get_menu_label(){return this.showGroupLabel()?this.items.filter(r=>r.active).map(r=>r.label).join(", ")||this.items[0].action_group:""}},methods:{toggleMenu(r){this.$refs.menu.toggle(r)},wrapItemCommands(r){var e=r.map((t,i)=>{if(t.active===!0?this.setItemActive(t):this.setItemInactive(t),!t.command_set){var a=t.command;t.command=Global.debounce(()=>{this.onSelectionClick(t),a(t.id)},Global.calcDebounceWaitTimeBasedOnNetwork(),!0),t.command_set=!0}return t.setOnlySelfActive=()=>{this.setOnlyOneActive(t)},t.setOnlySelfDeactivated=()=>{this.setOnlyOneDeactivated(t)},t.default_active_item&&t.setOnlySelfActive(),t});return e},onSelectionClick(r){this.isSingleGroupItem(r)?this.toggleActive(r):this.setOnlyOneActive(r)},toggleActive(r){r.active?this.setItemInactive(r):this.setItemActive(r)},setOnlyOneActive(r){this.items.map(e=>{e.multi_select_group===r.multi_select_group&&this.setItemInactive(e)}),this.setItemActive(r)},setOnlyOneDeactivated(r){this.setItemInactive(r)},setItemActive(r){this.isSingleGroupItem(r)?r.icon="tticon tticon-show-in-dropdown tticon-check_box_black_24dp ":r.icon="tticon tticon-show-in-dropdown tticon-radio_button_checked_black_24dp",r.active=!0},setItemInactive(r){this.isSingleGroupItem(r)?r.icon="tticon tticon-show-in-dropdown tticon-check_box_outline_blank_black_24dp ":r.icon="tticon tticon-show-in-dropdown tticon-radio_button_unchecked_black_24dp",r.active=!1},getItemById(r){return this.items.find(e=>e.id===r)},isSingleGroupItem(r){var e=this.items.filter(t=>t.multi_select_group===r.multi_select_group).length;return e===1},showGroupLabel(){return!this.items.some(r=>r.no_group_label)}},components:{Menu:script$9,Button:script$8}},_hoisted_1$2=["disabled"];function _sfc_render$2(r,e,t,i,a,o){const n=resolveComponent("Menu"),s=resolveComponent("Button");return t.items.some(l=>l.visible===!0||l.visible===void 0)?(openBlock(),createElementBlock("div",{key:0,class:"tt-overlay-multi-select-menu",disabled:t.items.every(l=>l.disabled===!0)},[createVNode(n,{ref:"menu",model:o.wrapped_items,popup:!0,appendTo:"body"},null,8,["model"]),createVNode(s,{class:"menu-button",type:"button",label:o.get_menu_label,icon:o.showGroupLabel()?"pi pi-chevron-down":t.items[0].vue_icon,iconPos:"right",onClick:o.toggleMenu},null,8,["label","icon","onClick"])],8,_hoisted_1$2)):createCommentVNode("",!0)}const TTOverlayMultiSelectButton=_export_sfc(_sfc_main$2,[["render",_sfc_render$2],["__scopeId","data-v-a24ce1af"]]),_sfc_main$1={name:"TTContextButton",props:{items:Array},data(){return{valid_types_for_dynamic_component:["TTOverlayMenuButton","TTSplitButton","TTOverlayMultiSelectButton"]}},components:{TTOverlayMenuButton,PrimeVueButton:script$8,TTSplitButton,TTOverlayMultiSelectButton},computed:{parseItem(){let r;return this.items.length?(this.items.length>1&&this.items[0].multi_select_group?r={type:"TTOverlayMultiSelectButton",items:this.items,id:this.items[0].id}:this.items.length>1&&this.items[0].action_group_header?r={type:"TTOverlayMenuButton",items:this.items,id:this.items[0].id}:this.filterVisibleItems.count===1?r={type:"PrimeVueButton",label:this.filterVisibleItems.items[0].label,click_handler:Global.debounce(()=>{this.filterVisibleItems.items[0].command(this.filterVisibleItems.items[0])},Global.calcDebounceWaitTimeBasedOnNetwork(),!0),style:{"min-width":this.filterVisibleItems.items[0].min_width+"px"},icon:this.filterVisibleItems.items[0].icon,disabled:this.filterVisibleItems.items[0].disabled===!0,id:this.filterVisibleItems.items[0].id}:this.filterVisibleItems.count>1?r={type:"TTSplitButton",items:this.items,id:this.items[0].id}:(Debug.Text("No menu type criteria matched. Could be invisible menu item.","TTContextButton.vue","TTContextButton","parseItem",11),r={type:"no-match"}),r):(Debug.Error("Invalid icon format. No length value.","TTContextButton.vue","TTContextButton","parseItem",1),{type:"invalid"})},filterVisibleItems(){var r=this.items,e=o=>o.visible!==!1,t=o=>o.action_group_header!==!0,i=o=>o.separator!==!0,a=r.filter(e).filter(t).filter(i);return{items:a,count:a.length}}},methods:{}},_hoisted_1$1={key:1,class:"menu-separator"},_hoisted_2$1={key:2,class:"menu-item"};function _sfc_render$1(r,e,t,i,a,o){const n=resolveComponent("PrimeVueButton");return a.valid_types_for_dynamic_component.includes(o.parseItem.type)&&o.filterVisibleItems.count!==0?(openBlock(),createBlock(resolveDynamicComponent(o.parseItem.type),{key:0,id:"context-button-"+o.parseItem.id,class:"menu-item",items:o.parseItem.items},null,8,["id","items"])):o.parseItem.separator===!0?(openBlock(),createElementBlock("li",_hoisted_1$1)):o.parseItem.type==="PrimeVueButton"?(openBlock(),createElementBlock("div",_hoisted_2$1,[createVNode(n,{label:o.parseItem.label,onClick:o.parseItem.click_handler,style:normalizeStyle(o.parseItem.style),icon:o.parseItem.icon,id:"context-button-"+o.parseItem.id,disabled:o.parseItem.disabled},null,8,["label","onClick","style","icon","id","disabled"])])):createCommentVNode("",!0)}const TTContextButton=_export_sfc(_sfc_main$1,[["render",_sfc_render$1],["__scopeId","data-v-29173fac"]]),_sfc_main={name:"TTContextMenu",created(){this.event_bus=new TTEventBus({component_id:this.component_id+this.menu_id});let r=(function(o){this.menu_id===o.menu_id?(Debug.Text(`Contextmenu
 MENU update RECEIVED for: `+o.menu_id,"TTContextMenu.vue","TTContextMenu","created:EventBus:update_context_menu",11),this.rebuildMenu(o.menu_model)):Debug.Warn(`Error: Context Menu update does not match menu id.
This menu:  `+this.menu_id+`
Event menu: `+o.menu_id,"TTContextMenu.vue","TTContextMenu","created:EventBus:update_context_menu",11)}).bind(this);this.event_bus.on(this.component_id,"update_context_menu",r,TTEventBusStatics.AUTO_CLEAR_ON_EXIT);let e=(function(o){this.menu_id===o.menu_id?(Debug.Text(`Contextmenu
 ITEM update RECEIVED for: `+o.menu_id+":"+o.item_id,"TTContextMenu.vue","TTContextMenu","created:EventBus:update_item",11),this.updateMenuItem(o.item_id,o.item_attributes)):Debug.Warn(`Error: Context Menu Item update does not match menu id.
This menu:  `+this.menu_id+`
Event menu: `+o.menu_id,"TTContextMenu.vue","TTContextMenu","created:EventBus:updateItem",11)}).bind(this);this.event_bus.on(this.component_id,"update_item",e,TTEventBusStatics.AUTO_CLEAR_ON_EXIT);let t=(function(o){this.menu_id===o.menu_id?(Debug.Text(`Contextmenu
 MULTI_ITEM update RECEIVED for: `+o.menu_id+":"+o.item_id,"TTContextMenu.vue","TTContextMenu","created:EventBus:activate_multi_select_item",11),this.activateMultiSelectItem(o.item_id)):Debug.Warn(`Error: Context Menu Multi-select Item activation does not match menu id.
This menu:  `+this.menu_id+`
 Event menu: `+o.menu_id+" )","TTContextMenu.vue","TTContextMenu","created:EventBus:activate_multi_select_item",11)}).bind(this);this.event_bus.on(this.component_id,"activate_multi_select_item",t,TTEventBusStatics.AUTO_CLEAR_ON_EXIT);let i=(function(o){this.menu_id===o.menu_id?(Debug.Text(`Contextmenu
 SPLIT BUTTON update RECEIVED for: `+o.menu_id+":"+o.item_id,"TTContextMenu.vue","TTContextMenu","created:EventBus:activate_split_button_item",11),this.activateSplitButtonItem(o.item_id)):Debug.Warn(`Error: Context Menu Split Button Item activation does not match menu id.
This menu:  `+this.menu_id+`
 Event menu: `+o.menu_id+" )","TTContextMenu.vue","TTContextMenu","created:EventBus:activate_split_button_item",11)}).bind(this);this.event_bus.on(this.component_id,"activate_split_button_item",i,TTEventBusStatics.AUTO_CLEAR_ON_EXIT);let a=(function(o){this.menu_id===o.menu_id?(Debug.Text(`Contextmenu
 SPLIT BUTTON update RECEIVED for: `+o.menu_id+":"+o.item_id,"TTContextMenu.vue","TTContextMenu","created:EventBus:activate_split_button_item",11),this.freezeSplitButtonActiveItem(o.item_id)):Debug.Warn(`Error: Context Menu Split Button Item activation does not match menu id.
This menu:  `+this.menu_id+`
 Event menu: `+o.menu_id+" )","TTContextMenu.vue","TTContextMenu","created:EventBus:activate_split_button_item",11)}).bind(this);this.event_bus.on(this.component_id,"freeze_split_button_active_item",a,TTEventBusStatics.AUTO_CLEAR_ON_EXIT)},unmounted(){Debug.Text("Vue context menu component unmounted ("+this.menu_id+").","TTContextMenu.vue","TTContextMenu","unmounted",10),this.event_bus.autoClear()},props:{menu_id:String},data(){return{component_id:"context_menu",built_menu:[],removeEventsOnUnmount:[],nowrap_views:["TimeSheet"]}},computed:{alignItems(){let r=i=>i.menu_align==="left",e=i=>i.menu_align==="center",t=i=>i.menu_align==="right";return{left:this.built_menu.filter(r),center:this.built_menu.filter(e),right:this.built_menu.filter(t)}},dynamicClasses(){return{nowrap:"no-wrap"}}},methods:{rebuildMenu(r){this.built_menu.length=0,this.built_menu.push(...r)},updateMenuItem(r,e){var t=this.getMenuItemById(r);return t===void 0?(Debug.Warn("Menu item not found ("+r+") unable to update with: "+JSON.stringify(e),"TTContextMenu.vue","TTContextMenu","updateMenuItem",1),!1):Object.assign(t,e)},activateMultiSelectItem(r){var e=this.getMenuItemById(r);return e===void 0?(Debug.Warn("Menu item not found ("+r+") unable to update with: "+JSON.stringify(new_item_attributes),"TTContextMenu.vue","TTContextMenu","updateMenuItem",1),!1):e.setOnlySelfActive===void 0?(e.default_active_item=!0,1):(e.setOnlySelfActive(),2)},activateSplitButtonItem(r){for(let e=0;e<this.built_menu.length;e++)if(this.built_menu[e].items.some(t=>t.id===r))for(let t=0;t<this.built_menu[e].items.length;t++)this.built_menu[e].items[t].id===r?this.built_menu[e].items[t].menu_force_active=!0:this.built_menu[e].items[t].menu_force_active=!1},freezeSplitButtonActiveItem(r){var e=this.getMenuItemById(r);if(e===void 0)return Debug.Warn("Menu item not found ("+r+") unable to update","TTContextMenu.vue","TTContextMenu","setSplitButtonTemporarilyIgnoreDisabled",1),!1;e.freeze_active_item=!0},enableMenuItem(r){var e=this.getMenuItemById(r);e.disabled=!1},disableMenuItem(r){var e=this.getMenuItemById(r);e.disabled=!0},hideMenuItem(r){var e=this.getMenuItemById(r);e.visible=!1},showMenuItem(r){var e=this.getMenuItemById(r);e.visible=!0},getMenuItemById(r){var e;function t(i,a){return i.find(o=>{if(Array.isArray(o))return t(o,a);if(o.id===void 0&&Array.isArray(o.items))return t(o.items,a);if(o.id===a)return e=o,!0})}return t(this.built_menu,r),e}},components:{TTContextButton}},_hoisted_1={class:"context-menu-bar"},_hoisted_2={class:"left-container"},_hoisted_3={class:"center-container"},_hoisted_4={class:"right-container"};function _sfc_render(r,e,t,i,a,o){const n=resolveComponent("TTContextButton");return openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.alignItems.left,s=>(openBlock(),createBlock(n,{id:"context-group-"+s.items[0].id,class:normalizeClass([o.dynamicClasses.nowrap,s.action_group_id]),items:s.items},null,8,["id","class","items"]))),256))]),createBaseVNode("div",_hoisted_3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.alignItems.center,s=>(openBlock(),createBlock(n,{id:"context-group-"+s.items[0].id,class:normalizeClass([o.dynamicClasses.nowrap,s.action_group_id]),items:s.items},null,8,["id","class","items"]))),256))]),createBaseVNode("div",_hoisted_4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.alignItems.right,s=>(openBlock(),createBlock(n,{id:"context-group-"+s.items[0].id,class:normalizeClass([o.dynamicClasses.nowrap,s.action_group_id]),items:s.items},null,8,["id","class","items"]))),256))])])}const TTContextMenu=_export_sfc(_sfc_main,[["render",_sfc_render],["__scopeId","data-v-e08123ea"]]);class ContextMenu{constructor(e){this.id=e.id||null,this.type=e.type||null,this.vue_menu_instance=e.vue_menu_instance||null,this.view_controller_instance=e.view_controller_instance||null,this.menu_model=null}}let ContextMenuManager$1=class{constructor(){this._menus={},this.event_bus=new TTEventBus$1({view_id:"context_menu"})}createAndMountMenu(e,t,i){if(!e||!t||!i)return Debug.Error("Error: Invalid parameters passed to function.","ContextMenuManager.js","ContextMenuManager","createAndMountMenu",1),!1;if(this.getMenu(e)!==void 0)return Debug.Error("Error: Context Menu Manager ("+e+") already exists and mounted.","ContextMenuManager.js","ContextMenuManager","createAndMountMenu",1),!1;t.prepend('<div id="'+e+'" class="context-menu-mount-container"></div>');let a=this.mountContextMenu(e),o=new ContextMenu({id:e,vue_menu_instance:a,view_controller_instance:i});return this._menus[e]=o,o.id}generateMenuId(e,t){return!e||!t?(Debug.Error("Error: Invalid parameters passed to function.","ContextMenuManager.js","ContextMenuManager","generateMenuId",1),!1):`CM-${t}-${e}`}getMenu(e){return this._menus[e]}mountContextMenu(e){if(e===void 0)return Debug.Error("Error: Invalid parameters passed to function.","ContextMenuManager.js","ContextMenuManager","mountContextMenu",1),!1;if(this.getMenu(e)!==void 0)return Debug.Error("Error: Context Menu Manager ("+e+") already exists and mounted.","ContextMenuManager.js","ContextMenuManager","mountContextMenu",1),!1;let t=TTContextMenu,i="#"+e,a=createApp(t,{menu_id:e});return a.use(PrimeVue,{ripple:!0,inputStyle:"filled"}),a.use(main_ui_router),a.mount(i),a}unmountContextMenu(e){return this._menus[e]?(this._menus[e].vue_menu_instance.unmount(),delete this._menus[e],Debug.Text("Context menu successfully unmounted ("+e+").","ContextMenuManager.js","ContextMenuManager","unmountContextMenu",11),!0):(Debug.Warn("Unable to unmount context menu. Menu not found ("+e+"). Maybe already removed?","ContextMenuManager.js","ContextMenuManager","unmountContextMenu",11),!1)}buildContextMenuModelFromBackbone(e,t,i){if(e===null)return!1;var a=this.convertBackBoneMenuModelToPrimeVue(t,i);this.updateMenuModel(e,a),this.getMenu(e)?!this.getMenu(e).view_controller_instance.is_edit&&!this.getMenu(e).view_controller_instance.is_add&&!this.getMenu(e).view_controller_instance.is_viewing?this.getMenu(e).view_controller_instance.setDefaultMenu():this.getMenu(e).view_controller_instance.setEditMenu():Debug.Error("Error: Cannot find Vue context menu.","ContextMenuManager.js","ContextMenuManager","getMenuModelByMenuId",1)}convertBackBoneMenuModelToPrimeVue(e,t){var i=e.icons,a={},o=[];if(i&&Object.keys(i).length&&Object.keys(i).length<1)return console.error("ContextMenuManager: Invalid data format. No icons or not an array."),!1;i=Object.values(e.icons).sort(this.sortCompareIcons);for(var n in i)if(i.hasOwnProperty(n)){let m=function(d){d.id?t.onContextMenuClick(d,d.id):t.onContextMenuClick(null,d)};var s=i[n];if(s.id||Debug.Error("ERROR: Invalid data. Missing ID.","ContextMenuManager.js","ContextMenuManager","convertBackBoneMenuModelToPrimeVue",1),s.icon&&delete s.icon,s.vue_icon&&(s.icon=s.vue_icon),s.items&&delete s.items,s.action_group||(s.action_group=s.id),s.menu_align||(s.menu_align="left"),s.command||(s.command=m),s.selected==!0?(delete s.selected,s.active=!0,s.icon="tticon tticon-show-in-dropdown tticon-radio_button_checked_black_24dp"):s.selected==!1&&(delete s.selected,s.active=!1,s.icon="tticon tticon-show-in-dropdown tticon-radio_button_unchecked_black_24dp"),s.label&&(s.label=s.label.replace("<br>"," ")),s.original_items&&s.original_items.length>0){let d=function(u){t.onReportMenuClick(u)};s.action_group||(s.action_group=s.id),s.items=[],s.action_group_header=!0,s.permission_result=!1,this.parseIconActionGroup(s,a,o);for(var l in s.original_items)if(s.original_items.hasOwnProperty(l)){var c=s.original_items[l];c.command||(c.command=d),c.menu_align=s.menu_align,c.action_group=s.action_group,this.parseIconActionGroup(c,a,o)}}else this.parseIconActionGroup(s,a,o)}return o}parseIconActionGroup(e,t,i){var a=e.menu_align+"-"+e.action_group;t[a]===void 0?(t[a]={action_group_id:a,menu_align:e.menu_align,items:[e]},i.push(t[a])):e.action_group_header?t[a].items.unshift(e):t[a].items.push(e)}sortCompareIcons(e,t){if(e.sort_order===void 0||t.sort_order===void 0||e.sort_order==t.sort_order){if(e.add_order<t.add_order)return-1;if(e.add_order>t.add_order)return 1}return e.sort_order<t.sort_order?-1:e.sort_order>t.sort_order?1:(Debug.Text("sort_order returned 0. Check sort_order/add_order for "+e.id+" ("+e.sort_order+")  & "+t.id+" ("+t.sort_order+").","ContextMenuManager.js","ContextMenuManager","sortCompareIcons",10),0)}filterVisibleItems(e){let t=a=>a.visible!==!1,i=e.filter(t);return{items:i,count:i.length}}getMenuModelByMenuId(e){var t=[];if(this.getMenu(e)!==void 0&&this.getMenu(e).menu_model)for(var i of this.getMenu(e).menu_model)t.push(...i.items);else Debug.Error("Fatal Error: Vue context menu has not been build yet and is undefined.","ContextMenuManager.js","ContextMenuManager","getMenuModelByMenuId",1);return t}updateMenuModel(e,t){if(!e||!t)return Debug.Error("Error: Invalid parameters passed to function.","ContextMenuManager.js","ContextMenuManager","updateMenuModel",1),!1;this.getMenu(e)?this.getMenu(e).menu_model=t:Debug.Error("Error: Cannot find Vue context menu..","ContextMenuManager.js","ContextMenuManager","getMenuModelByMenuId",1),this.event_bus.emit("context_menu","update_context_menu",{menu_id:e,menu_model:t}),Debug.Text(`Contextmenu
 MENU update SENT for: `+e,"ContextMenuManager.js","ContextMenuManager","updateMenuModel",11)}updateItem(e,t,i){if(!e||!t||!i)return Debug.Error("Error: Invalid parameters passed to function.","ContextMenuManager.js","ContextMenuManager","updateItem",1),!1;this.event_bus.emit("context_menu","update_item",{menu_id:e,item_id:t,item_attributes:i}),Debug.Text(`Contextmenu
 ITEM update SENT for: `+e+":"+t,"ContextMenuManager.js","ContextMenuManager","updateItem",11)}multiSelectActivateItem(e){if(!e)return Debug.Error("Error: Invalid parameters passed to function.","ContextMenuManager.js","ContextMenuManager","multiSelectActivateItem",1),!1;this.event_bus.emit("context_menu","activate_multi_select_item",{item_id:e}),Debug.Text(`Contextmenu
 MULTI_ITEM update SENT for: `+menu_id+":"+e,"ContextMenuManager.js","ContextMenuManager","multiSelectActivateItem",11)}activateSplitButtonItem(e,t){if(!e||!t)return Debug.Error("Error: Invalid parameters passed to function.","ContextMenuManager.js","ContextMenuManager","activateSplitButtonItem",1),!1;this.event_bus.emit("context_menu","activate_split_button_item",{menu_id:e,item_id:t}),Debug.Text(`Contextmenu
 SPLIT BUTTON update SENT for: `+e+":"+t,"ContextMenuManager.js","ContextMenuManager","activateSplitButtonItem",11)}freezeSplitButtonActiveItem(e,t){if(!e||!t)return Debug.Error("Error: Invalid parameters passed to function.","ContextMenuManager.js","ContextMenuManager","setSplitButtonTempIgnoreDisabled",1),!1;this.event_bus.emit("context_menu","freeze_split_button_active_item",{menu_id:e,item_id:t}),Debug.Text(`Contextmenu
 SPLIT BUTTON update SENT for: `+e+":"+t,"ContextMenuManager.js","ContextMenuManager","setSplitButtonTempIgnoreDisabled",11)}disableMenuItem(e,t,i){i?this.updateItem(e,t,{disabled:!1}):this.updateItem(e,t,{disabled:!0})}hideMenuItem(e,t,i){i?this.updateItem(e,t,{visible:!0}):this.updateItem(e,t,{visible:!1})}activateMenuItem(e,t,i){i?this.updateItem(e,t,{active:!1,icon:"tticon tticon-show-in-dropdown tticon-radio_button_unchecked_black_24dp"}):this.updateItem(e,t,{active:!0,icon:"tticon tticon-show-in-dropdown tticon-radio_button_checked_black_24dp"})}};const ContextMenuManager$2=new ContextMenuManager$1;(function(r){r.fn.TTextInput=function(e){var t=r.extend({},r.fn.TTextInput.defaults,e),i=this,a,o,n="",s,l=!1,c=null,m=!0,d=null,u=!1,p=!1,v=!1,g=null,h=null,w=0,f=!1,T,C,y,I,P=!0,M=!0;return this.setPlaceHolder=function(b){i.attr("placeholder",b)},this.setNeedParsDate=function(b){u=b},this.setNeedParseSec=function(b){b&&(v=Global$1.parseTimeUnit(i.val())),p=b},this.getEnabled=function(){return m},this.setEnabled=function(b){m=b,b===!1||b===""?(i.attr("readonly","true"),i.addClass("t-text-input-readonly"),c&&c.hide()):(i.removeAttr("readonly"),i.removeClass("t-text-input-readonly"),c&&c.show())},this.setReadOnly=function(b){b?(i.attr("disabled","true"),i.addClass("t-text-input-readonly-bg")):(i.removeAttr("disabled"),i.removeClass("t-text-input-readonly-bg"))},this.setCheckBox=function(b){c&&(c.children().eq(0)[0].checked=b)},this.isChecked=function(){return!!(c&&c.children().eq(0)[0].checked===!0)},this.setMassEditMode=function(b){l=b,l?(c=r(' <div class="mass-edit-checkbox-wrapper"><input type="checkbox" class="mass-edit-checkbox"></input><label for="checkbox-input-1" class="input-helper input-helper--checkbox"></label></div>'),c.insertBefore(r(this)),c.change(function(){(u||p)&&(v=Global$1.parseTimeUnit(i.val())),i.trigger("formItemChange",[i])}),C&&y.toString().indexOf("%")>0&&i.css("width","calc("+y+" - 25px)")):c&&(c.remove(),c=null)},this.setField=function(b){a=b},this.getField=function(){return a},this.getValidationField=function(){return o},this.getInputValue=function(){var b=i.val();return b},this.getValue=function(){var b=i.val();return p||u||v?(v===-1&&(v=Global$1.parseTimeUnit(b)),v):b},this.setValue=function(b){!b&&b!==0&&(b=""),i.val(b),u?v=Global$1.parseTimeUnit(i.val()):p&&(v=b,i.val(Global$1.getTimeUnit(b))),this.autoResize()},this.setErrorStyle=function(b,A,k){k?r(this).addClass("warning-tip"):r(this).addClass("error-tip"),n=b,A&&this.showErrorTip()},this.setWidth=function(b){b&&(b>0||b.indexOf("%")>0)&&(i.width(b),y=b,C=!0)},this.showErrorTip=function(b){Global$1.isSet(b)||(b=2),s||(s=Global$1.loadWidgetByName(WidgetNamesDic.ERROR_TOOLTIP),s=s.ErrorTipBox()),s.cancelRemove(),r(this).hasClass("warning-tip")?s.show(this,n,b,!0):s.show(this,n,b)},this.hideErrorTip=function(){Global$1.isSet(s)&&s.remove()},this.clearErrorStyle=function(){r(this).removeClass("error-tip"),r(this).removeClass("warning-tip"),this.hideErrorTip(),n=""},this.autoResize=function(){var b,A;if(M==!0&&i.getValue()==""&&I!=0)return i.width(I+"px"),M=!1,!0;if(!C)T==="time"?A=Global$1.calculateTextWidth(LocalCacheData.getLoginUserPreference().time_format_display):T=="time_unit"?A=Global$1.calculateTextWidth(LocalCacheData.getLoginUserPreference().time_unit_format_display):A=150,b=Global$1.calculateTextWidth(i.getValue(),{min_width:A,max_width:200});else{if(y.toString().indexOf("%")>0)return;b=Global$1.calculateTextWidth(i.getValue(),{min_width:I,max_width:y>200?y:200})}var k=i.outerWidth()-i.width();b==I?i.width(b-k+"px"):Math.abs(b-i.width())>=5&&i.width(b+"px")},this.each(function(){var b=r.meta?r.extend({},t,r(this).data()):t;a=b.field,b.autocomplete&&i.attr("autocomplete",b.autocomplete),b.hasOwnProperty("do_validate")&&(P=b.do_validate),b.validation_field&&(o=b.validation_field),b.hasOwnProperty("no_validate_timer_sec")&&b.no_validate_timer_sec>0&&(w=b.no_validate_timer_sec),d=b.hasKeyEvent,u=b.need_parser_date,p=b.need_parser_sec,(u||p)&&TTAPI.APITTDate,b.mode&&(T=b.mode),b.width&&(b.width>0||b.width.indexOf("%")>0)&&(i.width(b.width),y=I=b.width,C=!0),b.disable_keyup_event&&(f=b.disable_keyup_event),T==="time"?i.setPlaceHolder(LocalCacheData.getLoginUserPreference().time_format_display):T==="time_unit"&&i.setPlaceHolder(LocalCacheData.getLoginUserPreference().time_unit_format_display),i.autoResize(),r(this).keydown(function(A){d&&A.keyCode!==9&&A.keyCode!==13&&i.trigger("formItemKeyDown",[i])}),r(this).keyup(function(A){var k=1e3;if(!(A.keyCode===9||A.keyCode===13)){var j=Global$1.isValidInputCodes(A.keyCode);j&&(g&&(clearTimeout(g),g=null),h&&(clearTimeout(h),h=null),d&&i.trigger("formItemKeyUp",[i]),n&&n.length>0&&(k=500),P&&(g=setTimeout(function(){c&&i.setCheckBox(!0),u||p?(v=-1,f||i.trigger("formItemChange",[i,!0])):f||i.trigger("formItemChange",[i])},k)),h=setTimeout(function(){c&&i.setCheckBox(!0),u||p?(v=-1,f||i.trigger("formItemChange",[i,!0])):f||i.trigger("formItemChange",[i,!0])},w))}}),r(this).mouseover(function(){m&&n&&n.length>0&&i.showErrorTip(20)}),r(this).mouseout(function(){r(i).is(":focus")||i.hideErrorTip()}),r(this).change(function(){i.trigger("keyup",[i]),(f||u||p)&&i.trigger("formItemChange",[i]),!u&&!p&&i.autoResize()}),r(this).focusin(function(){m?n&&n.length>0&&i.showErrorTip(20):c||(LocalCacheData.current_open_sub_controller&&LocalCacheData.current_open_sub_controller.edit_view&&LocalCacheData.current_open_sub_controller.is_viewing?(n=LocalCacheData.current_open_sub_controller.getViewModeErrorMessage(),i.showErrorTip(10)):LocalCacheData.current_open_primary_controller&&LocalCacheData.current_open_primary_controller.edit_view&&LocalCacheData.current_open_primary_controller.is_viewing&&(n=LocalCacheData.current_open_primary_controller.getViewModeErrorMessage(),i.showErrorTip(10)))}),r(this).focusout(function(){i.hideErrorTip()})}),this},r.fn.TTextInput.defaults={},r.fn.TTextInput.html_template='<input type="text" class="t-text-input" autocomplete="timetrex-no-auto-fill"/>'})(jQuery);const TTextInput=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));(function(r){r.fn.TPasswordInput=function(e){var t=r.extend({},r.fn.TPasswordInput.defaults,e),i=this,a,o="",n,s=!1,l=null,c=!0;return this.getEnabled=function(){return c},this.setEnabled=function(m){c=m,m===!1||m===""?(i.attr("readonly","true"),i.addClass("t-text-input-readonly")):(i.removeAttr("readonly"),i.removeClass("t-text-input-readonly"))},this.setReadOnly=function(m){m?(i.attr("disabled","true"),i.addClass("t-text-input-readonly-bg")):(i.removeAttr("disabled"),i.removeClass("t-text-input-readonly-bg"))},this.setCheckBox=function(m){l&&(l.children().eq(0)[0].checked=m)},this.isChecked=function(){return!!(l&&l.children().eq(0)[0].checked===!0)},this.setMassEditMode=function(m){s=m,s?(l=r(' <div class="mass-edit-checkbox-wrapper"><input type="checkbox" class="mass-edit-checkbox"></input><label for="checkbox-input-1" class="input-helper input-helper--checkbox"></label></div>'),l.insertBefore(r(this)),l.change(function(){i.trigger("formItemChange",[i])})):l&&(l.remove(),l=null)},this.getField=function(){return a},this.getValue=function(){var m=i.val();return m},this.setValue=function(m){!m&&m!==0&&(m=""),i.val(m)},this.setErrorStyle=function(m,d,u){u?r(this).addClass("warning-tip"):r(this).addClass("error-tip"),o=m,d&&this.showErrorTip()},this.showErrorTip=function(m){Global.isSet(m)||(m=2),n||(n=Global.loadWidgetByName(WidgetNamesDic.ERROR_TOOLTIP),n=n.ErrorTipBox()),n.cancelRemove(),r(this).hasClass("warning-tip")?n.show(this,o,m,!0):n.show(this,o,m)},this.hideErrorTip=function(){Global.isSet(n)&&n.remove()},this.clearErrorStyle=function(){r(this).removeClass("error-tip"),r(this).removeClass("warning-tip"),this.hideErrorTip(),o=""},this.each(function(){var m=r.meta?r.extend({},t,r(this).data()):t;a=m.field,m.hasKeyEvent,m.width>0&&i.width(m.width),r(this).change(function(){i.trigger("formItemChange",[i])}),r(this).mouseover(function(){c&&o&&o.length>0&&i.showErrorTip(20)}),r(this).mouseout(function(){r(i).is(":focus")||i.hideErrorTip()}),r(this).focusin(function(){c?o&&o.length>0&&i.showErrorTip(20):l||(LocalCacheData.current_open_sub_controller&&LocalCacheData.current_open_sub_controller.edit_view&&LocalCacheData.current_open_sub_controller.is_viewing?(o=LocalCacheData.current_open_sub_controller.getViewModeErrorMessage(),i.showErrorTip(10)):LocalCacheData.current_open_primary_controller&&LocalCacheData.current_open_primary_controller.edit_view&&LocalCacheData.current_open_primary_controller.is_viewing&&(o=LocalCacheData.current_open_primary_controller.getViewModeErrorMessage(),i.showErrorTip(10)))}),r(this).focusout(function(){i.hideErrorTip()})}),this},r.fn.TPasswordInput.defaults={},r.fn.TPasswordInput.html_template='<input type="password" class="t-text-input" autocomplete="new-password"/>'})(jQuery);const TPasswordInput=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));(function(r){r.fn.TComboBox=function(e){var t=r.extend({},r.fn.TComboBox.defaults,e),i=this,a,o=null,n=null,s=!1,l=!1,c=!1,m="",d,u=!1,p=null,v=!0,g="value",h="label",w="";return this.setValueKey=function(f){g=f},this.setLabelKey=function(f){h=f},this.getEnabled=function(){return v},this.setEnabled=function(f){v=f,f===!1||f===""?(i.attr("disabled","true"),i.addClass("t-select-readonly")):(i.removeAttr("disabled"),i.removeClass("t-select-readonly"))},this.setCheckBox=function(f){p&&(p.children().eq(0)[0].checked=f)},this.isChecked=function(){return!!(p&&p.children().eq(0)[0].checked===!0)},this.setMassEditMode=function(f){u=f,u?(p=r(' <div class="mass-edit-checkbox-wrapper"><input type="checkbox" class="mass-edit-checkbox"></input><label for="checkbox-input-1" class="input-helper input-helper--checkbox"></label></div>'),p.insertBefore(r(this)),p.change(function(){i.trigger("formItemChange",[i])})):p&&(p.remove(),p=null)},this.setErrorStyle=function(f,T,C){C?r(this).addClass("warning-tip"):r(this).addClass("error-tip"),m=f,T&&this.showErrorTip()},this.showErrorTip=function(f){Global.isSet(f)||(f=2),d||(d=Global.loadWidgetByName(WidgetNamesDic.ERROR_TOOLTIP),d=d.ErrorTipBox()),r(this).hasClass("warning-tip")?d.show(this,m,f,!0):d.show(this,m,f)},this.hideErrorTip=function(){Global.isSet(d)&&d.remove()},this.clearErrorStyle=function(){r(this).removeClass("error-tip"),r(this).removeClass("warning-tip"),this.hideErrorTip(),m=""},this.setField=function(f){a=f},this.getField=function(){return a},this.getLabel=function(){if(!o||s&&o.length===1||l&&o.length===1)return n;var f=r(this).children("option:selected").text();return f},this.getValue=function(){if(!o||s&&o.length===1||l&&o.length===1)return n;var f=r(this).children("option:selected").attr("value");return r.isNumeric(f)&&(f==="0"||f.toString()[0]!=="0")&&(f=parseFloat(f)),(f===-1||f==="-1")&&(f=-1),f},this.getSelectedIndex=function(){return this[0].selectedIndex},this.setSelectedIndex=function(f){f<0&&(f=0),f>=this[0].length&&(f=this[0].length-1),this[0].selectedIndex=f,this.setValue(this[0].value)},this.getLabel=function(){var f=r(this).children("option:selected").text();return f},this.setValue=function(f){if(n=f,!o||o.length<1||s&&o.length===1||l&&o.length===1){c=!0;return}if(!Global.isSet(f)||f===!1){if(s)f=TTUUID.zero_id;else if(l)f=TTUUID.not_exist_id;else if(o&&o.length>0){this.setValue(o[0][g]);return}}r(r(this).find("option")).removeAttr("selected"),r(r(this).find("option")).filter(function(){return f==null?!1:r(this).attr("value")===f.toString()}).prop("selected",!0).attr("selected",!0)},this.setSourceData=function(f){if(r(this).empty(),!Global.isSet(f)||f.length<1?s?f=Global.addFirstItemToArray(f,"empty",w):l&&(f=Global.addFirstItemToArray(f,"any",w)):s?f&&f.length>0&&f[0].value!=TTUUID.zero_id&&f[0].value!=0&&(f=Global.addFirstItemToArray(f,"empty",w)):l&&f&&f.length>0&&f[0].value!=TTUUID.not_exist_id&&f[0].value!=-1&&(f=Global.addFirstItemToArray(f,"any",w)),o=f,r(this)[0])if(r.isArray(f))for(var T=f.length,C=0;C<T;C++)r(this).append(r('<option value="'+f[C][g]+'"></option>').text(f[C][h]));else for(var y in f)r(this).append(r('<option value="'+y+'"></option>').text(f[y]));c&&this.setValue(n)},this.each(function(){var f=r.meta?r.extend({},t,r(this).data()):t;f.set_empty&&(s=f.set_empty),f.customFirstItemLabel&&(w=f.customFirstItemLabel),f.set_any&&(l=f.set_any),f.mass_edit_mode&&(u=f.mass_edit_mode),a=f.field,r(this).change(function(){v&&(p&&i.setCheckBox(!0),i.trigger("formItemChange",[i]))}),r(this).click(function(){v||p||(LocalCacheData.current_open_sub_controller&&LocalCacheData.current_open_sub_controller.edit_view&&LocalCacheData.current_open_sub_controller.is_viewing?(m=LocalCacheData.current_open_sub_controller.getViewModeErrorMessage(),i.showErrorTip(10)):LocalCacheData.current_open_primary_controller&&LocalCacheData.current_open_primary_controller.edit_view&&LocalCacheData.current_open_primary_controller.is_viewing&&(m=LocalCacheData.current_open_primary_controller.getViewModeErrorMessage(),i.showErrorTip(10)))}),r(this).mouseover(function(){v&&m&&m.length>0&&i.showErrorTip(20)}),r(this).mouseout(function(){i.hideErrorTip()})}),this},r.fn.TComboBox.defaults={},r.fn.TComboBox.html_template='<select class="t-select"></select>'})(jQuery);const TComboBox=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));window.html2canvas=html2canvas$1;window.StackTrace=StackTrace$1;window.moment=moment;window.$=window.jQuery=jQuery;window.Global=Global$1;window.LocalCacheData=LocalCacheData$1;window.Base=Base;window.BaseWindowController=BaseWindowController;window.ServiceCaller=ServiceCaller$1;window.BaseViewController=BaseViewController$1;window.TTAPI=TTAPI$1;window.IndexViewController=IndexViewController$1;window.TTUUID=TTUUID$1;window.TTPromise=TTPromise$1;window.ProgressBar=ProgressBar$1;window.BaseWizardController=BaseWizardController$1;window.PermissionManager=PermissionManager$1;window.TAlertManager=TAlertManager$1;window.NotificationConsumer=NotificationConsumerObj;window.TTWebauthn=TTWebauthnObj;window.TTSAML=TTSAMLObj;window.ContextMenuManager=ContextMenuManager$2;window.MenuManager=MenuManager$2;window.TTEventBus=TTEventBus$1;window.addEventListener("load",loadViewRequiredJS);const tt_main_ui=createApp(TTMainUI);tt_main_ui.directive("tooltip",Tooltip);tt_main_ui.directive("ripple",Ripple);tt_main_ui.config.globalProperties.$appState=reactive({colorScheme:"light"});tt_main_ui.use(PrimeVue,{ripple:!0,inputStyle:"filled"});tt_main_ui.use(ToastService);tt_main_ui.component("Toast",script$a);tt_main_ui.directive("badge",BadgeDirective);tt_main_ui.use(main_ui_router).mount("#tt_main_ui");window.VueRouter=main_ui_router;Global$1.isSet(LocalCacheData$1.getLoginUser())?jQuery(".loading-view").hide():setProgress();function setProgress(){window.loading_bar_time=setInterval(function(){var r=jQuery(".progress-bar"),e=r.prop("value");e<90&&r.prop("value",e+10)},1e3)}function cleanProgress(){if(jQuery(".loading-view").is(":visible")){var r=jQuery(".progress-bar");r.prop("value",100),clearInterval(loading_bar_time),loading_bar_time=setInterval(function(){jQuery(".progress-bar-div").hide(),clearInterval(loading_bar_time)},50)}}window.is_browser_iOS=!!navigator.userAgent.match(/(iPad|iPhone|iPod)/g);jQuery(function(){Global$1.styleSandbox(),cleanProgress();var r=TTAPI$1.APIAuthentication;Error&&(Error.stackTraceLimit=50),window.onerror=function(s,l,c,m,d){!arguments||arguments.length<1?Global$1.sendErrorReport("No error parameters when window.onerror",ServiceCaller$1.root_url,"","",""):Global$1.sendErrorReport(s,l,c,m,d)},window.addEventListener("beforeunload",function(s){Global$1.sendAnalyticsEvent("browser","browser:beforeunload","browser:beforeunload"),(LocalCacheData$1.current_open_primary_controller&&LocalCacheData$1.current_open_primary_controller.edit_view&&LocalCacheData$1.current_open_primary_controller.is_changed==!0||LocalCacheData$1.current_open_report_controller&&LocalCacheData$1.current_open_report_controller.is_changed==!0||LocalCacheData$1.current_open_edit_only_controller&&LocalCacheData$1.current_open_edit_only_controller.is_changed==!0||LocalCacheData$1.current_open_sub_controller&&LocalCacheData$1.current_open_sub_controller.edit_view&&LocalCacheData$1.current_open_sub_controller.is_changed==!0)&&(s.preventDefault(),s.returnValue="")}),jQuery("body").addClass("login-bg"),jQuery(document).on("keydown",function(s){s.which===8&&!jQuery(s.target).is("input, textarea")&&s.preventDefault()}),jQuery("body").unbind("keydown").bind("keydown",function(s){if((s.keyCode===27||s.keyCode===13||s.keyCode===9&&s.target.type!="text")&&(LocalCacheData$1.openAwesomeBox&&LocalCacheData$1.openAwesomeBox.onClose(),LocalCacheData$1.openAwesomeBoxColumnEditor&&LocalCacheData$1.openAwesomeBoxColumnEditor.onClose()),LocalCacheData$1.openAwesomeBox?Global$1.isValidInputCodes(s.keyCode)&&LocalCacheData$1.openAwesomeBox.selectNextItem(s):LocalCacheData$1.current_open_primary_controller&&LocalCacheData$1.current_open_primary_controller.column_selector&&LocalCacheData$1.current_open_primary_controller.column_selector.is(":visible")&&LocalCacheData$1.current_open_primary_controller.column_selector.has(jQuery(":focus")).length>0&&Global$1.isValidInputCodes(s.keyCode)&&LocalCacheData$1.current_open_primary_controller.column_selector.selectNextItem(s),LocalCacheData$1.current_open_wizard_controllers.length>0&&s.keyCode===13){let l=LocalCacheData$1.current_open_wizard_controllers.find(c=>c.wizard_id==="ResetPasswordWizardController");l&&l.$el.hasClass("change-password-wizard")&&!l.done_btn.attr("disabled")&&s.target&&s.target.type!=="textarea"&&l.onDoneClick()}(s.keyCode===65&&s.metaKey===!0||s.keyCode===65&&s.ctrlKey===!0)&&s.target.nodeName!="INPUT"&&s.target.nodeName!="TEXTAREA"&&(s.preventDefault(),n()),s.keyCode===36&&o(),s.keyCode===35&&a(),LocalCacheData$1.current_open_primary_controller&&LocalCacheData$1.current_open_primary_controller.viewId==="PermissionControl"&&LocalCacheData$1.current_open_primary_controller.edit_view&&LocalCacheData$1.current_open_primary_controller.onKeyDown(s)}),window._addToDebugClickStack===void 0&&(window._addToDebugClickStack=function(s){var l=new Date,c={target_class:jQuery(s.target).attr("class")?jQuery(s.target).attr("class"):"",target_id:jQuery(s.target).attr("id")?jQuery(s.target).attr("id"):"",html:s.target.outerHTML,ui_clicked_date:l.toISOString()};LocalCacheData$1.ui_click_stack.length===16&&LocalCacheData$1.ui_click_stack.pop(),LocalCacheData$1.ui_click_stack.unshift(c)},window.addEventListener("click",window._addToDebugClickStack,!0)),jQuery("body").unbind("mousedown").bind("mousedown",function(s){if(LocalCacheData$1.openAwesomeBox&&LocalCacheData$1.openAwesomeBox.getADropDown()&&LocalCacheData$1.openAwesomeBox.getADropDown().has(s.target).length<1){if(jQuery(s.target).hasClass("a-combobox")){var l=LocalCacheData$1.openAwesomeBox;jQuery(s.target).unbind("mouseup").bind("mouseup",function(c){l.find(".focus-input").focus(),jQuery(c.target).unbind("mouseup")})}LocalCacheData$1.openAwesomeBox.onClose()}LocalCacheData$1.openRangerPicker&&!LocalCacheData$1.openRangerPicker.getIsMouseOver()&&LocalCacheData$1.openRangerPicker.close(),LocalCacheData$1.openAwesomeBoxColumnEditor&&!LocalCacheData$1.openAwesomeBoxColumnEditor.getIsMouseOver()&&LocalCacheData$1.openAwesomeBoxColumnEditor.onClose(),LocalCacheData$1.openRibbonNaviMenu&&!LocalCacheData$1.openRibbonNaviMenu.getIsMouseOver()&&LocalCacheData$1.openRibbonNaviMenu.close()}),ServiceCaller$1.base_url=Global$1.getBaseURL("../../",!1),ServiceCaller$1.base_api_url="api/json/api.php",ServiceCaller$1.root_url=Global$1.getRootURL();var e={};need_load_pre_login_data?need_load_pre_login_data=!1:e=APIGlobal.pre_login_data,e.hasOwnProperty("api_base_url")?(LocalCacheData$1.setLoginData(e),i()):r.getPreLoginData(null,{onResult:function(s){var l=s.getResult();LocalCacheData$1.setLoginData(l),APIGlobal.pre_login_data=l,e=LocalCacheData$1.getLoginData(),i()}}),t();function t(){if(APIGlobal.pre_login_data.analytics_enabled===!0&&ServiceCaller$1&&ServiceCaller$1.root_url&&e&&e.base_url){if(APIGlobal.pre_login_data.analytics_tracking_code!="")try{var s=document.createElement("script");if(s.setAttribute("src","https://www.googletagmanager.com/gtag/js?id="+APIGlobal.pre_login_data.analytics_tracking_code),document.head.appendChild(s),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},gtag("js",new Date),gtag("config",APIGlobal.pre_login_data.analytics_tracking_code,{debug_mode:!APIGlobal.pre_login_data.production,send_page_view:!1}),LocalCacheData$1.loginUser){var l=LocalCacheData$1.getCurrentCompany();Global$1.setAnalyticDimensions(LocalCacheData$1.getLoginUser().first_name+" ("+LocalCacheData$1.getLoginUser().id+")",l.name)}else Global$1.setAnalyticDimensions()}catch(m){throw m}if(APIGlobal.pre_login_data.ui_tracking_code!="")try{var c=document.createElement("script");c.type="text/javascript",c.async=!0,c.innerHTML='(function(c,l,a,r,i,t,y){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);})(window, document, "clarity", "script", "'+APIGlobal.pre_login_data.ui_tracking_code+'");',document.head.appendChild(c)}catch(m){throw m}}}function i(){TAlertManager$1.showBrowserTopBanner(),e.locale!=="en_US"||e.enable_default_language_translation==!0?(Global$1.loadLanguage(e.locale),Debug.Text("Using Locale: "+e.locale,"main.js","","initApps",1)):LocalCacheData$1.setI18nDic({}),jQuery.i18n.load(LocalCacheData$1.getI18nDic()),Global$1.initStaticStrings(),LocalCacheData$1.deployment_on_demand=e.deployment_on_demand,LocalCacheData$1.productEditionId=e.product_edition,new IndexViewController$1;var s=getCookie("AlternateSessionData");if(s)try{s=JSON.parse(s),s&&s.previous_session_id&&TAlertManager$1.showPreSessionAlert()}catch(c){Debug.Text(c.message,"main.js","require","initApps",10)}function l(){if(APIGlobal.pre_login_data&&APIGlobal.pre_login_data.installer_enabled&&APIGlobal.pre_login_data.installer_enabled==!0)return null;var c=document.hidden,m=getCookie(Global$1.getSessionIDKey());if(Debug.Text("Tab Visibility Change: "+c+" Session ID: "+LocalCacheData$1.getSessionID(),"main.js","","handleVisibilityChange",10),c==!1&&LocalCacheData$1.getSessionID()!=""&&m!=LocalCacheData$1.getSessionID()){Debug.Text("Session ID has changed out from out underneath us! Session ID: Memory: "+LocalCacheData$1.getSessionID()+" Cookie: "+m,"main.js","","handleVisibilityChange",1);var d=TTAPI$1.APIAuthentication;d.isLoggedIn(!1,{onResult:function(u){var p=u.getResult();if(p===!0&&m!=LocalCacheData$1.getSessionID())TAlertManager$1.showAlert(jQuery.i18n._("It appears that you have logged in from another web browser window or tab.<br><br>Please be patient while the session is resumed here..."),"Session Changed",function(){Global$1.sendAnalyticsEvent("session","session:changed","session:changed"),window.location.reload(!0)});else{var v=TTAPI$1.APIMisc;v.ping({onResult:function(){}})}}})}}window.addEventListener("visibilitychange",l)}function a(){if(LocalCacheData$1.openAwesomeBox&&_.isFunction(LocalCacheData$1.openAwesomeBox.gridScrollDown)){LocalCacheData$1.openAwesomeBox.gridScrollDown();return}if(LocalCacheData$1.current_open_sub_controller){!LocalCacheData$1.current_open_sub_controller.edit_view&&_.isFunction(LocalCacheData$1.current_open_sub_controller.gridScrollDown)&&LocalCacheData$1.current_open_sub_controller.gridScrollDown();return}if(LocalCacheData$1.current_open_primary_controller){!LocalCacheData$1.current_open_primary_controller.edit_view&&_.isFunction(LocalCacheData$1.current_open_primary_controller.gridScrollDown)&&LocalCacheData$1.current_open_primary_controller.gridScrollDown();return}}function o(){if(LocalCacheData$1.openAwesomeBox&&_.isFunction(LocalCacheData$1.openAwesomeBox.gridScrollTop)){LocalCacheData$1.openAwesomeBox.gridScrollTop();return}if(LocalCacheData$1.current_open_sub_controller){!LocalCacheData$1.current_open_sub_controller.edit_view&&_.isFunction(LocalCacheData$1.current_open_sub_controller.gridScrollTop)&&LocalCacheData$1.current_open_sub_controller.gridScrollTop();return}if(LocalCacheData$1.current_open_primary_controller){!LocalCacheData$1.current_open_primary_controller.edit_view&&_.isFunction(LocalCacheData$1.current_open_primary_controller.gridScrollTop)&&LocalCacheData$1.current_open_primary_controller.gridScrollTop();return}}function n(){let s=document.querySelector(".t-alert");if(s){let l=s.querySelector(".content-div");if(l){let c=document.createRange();c.selectNodeContents(l);let m=window.getSelection();m.removeAllRanges(),m.addRange(c);return}}if(LocalCacheData$1.openAwesomeBox&&_.isFunction(LocalCacheData$1.openAwesomeBox.selectAll)){LocalCacheData$1.openAwesomeBox.selectAll();return}if(LocalCacheData$1.current_open_sub_controller){!LocalCacheData$1.current_open_sub_controller.edit_view&&_.isFunction(LocalCacheData$1.current_open_sub_controller.selectAll)&&LocalCacheData$1.current_open_sub_controller.selectAll();return}if(LocalCacheData$1.current_open_primary_controller){!LocalCacheData$1.current_open_primary_controller.edit_view&&_.isFunction(LocalCacheData$1.current_open_primary_controller.selectAll)&&LocalCacheData$1.current_open_primary_controller.selectAll();return}}});function loadViewRequiredJS(){LocalCacheData$1.loadViewRequiredJSReady=!1;var r=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi;jQuery.htmlPrefilter=function(e){return e.replace(r,"<$1></$2>")},__vitePreload(()=>import("./post-login-main_ui-vendor-dependancies-mGxg8RuT.bundle.js"),[],import.meta.url).catch(Global$1.importErrorHandler)}class PortalForgotPasswordController extends TTBackboneView{constructor(e={}){_.defaults(e,{events:{"click .send-reset-email":"sendResetEmail","click .close-reset-email":"closeResetEmail"}}),super(e)}initialize(e){super.initialize(e),this.api=TTAPI$1.APIRecruitmentAuthentication;var t=Global.loadWidget("views/portal/sign_in/PortalForgotPassword.html");this.setElement(_.template(t)()),this.emailInput=this.$("#email"),this.render()}render(){var e=this;this.emailInput.focus(),this.emailInput.unbind("keydown").bind("keydown",function(i){i.keyCode===13&&e.sendResetEmail()}),jQuery("body").append(this.$el),new bootstrap.Modal(this.$el[0],{backdrop:"static"}).show()}sendResetEmail(){var e=this,t=this.emailInput.val();this.api.resetPassword(t,{onResult:function(i){if(!i.isValid())e.showErrorAlert(i);else{var a=i.getResult();a.hasOwnProperty("email_sent")&&(bootstrap.Modal.getInstance(e.$el[0]).hide(),IndexViewController.instance.router.showTipModal(jQuery.i18n._("An email has been sent to you with instructions on how to reset your password.")))}}})}closeResetEmail(){bootstrap.Modal.getInstance(this.$el[0]).hide()}showErrorAlert(e){var t=e.getDetails();t||(t=e.getDescription());var i="";Global.isArray(t)||typeof t=="object"?jQuery.each(t,function(o,n){n.hasOwnProperty("error")&&(n=n.error);var s=0;for(var l in n)i=i+n[l],s>0&&(i+="<br>"),s++}):i=t,this.emailInput.css("border","1px solid red"),new bootstrap.Tooltip(this.emailInput[0],{title:i}).show()}}const PortalForgotPasswordController$1=Object.freeze(Object.defineProperty({__proto__:null,PortalForgotPasswordController},Symbol.toStringTag,{value:"Module"}));class HeaderUploadResumeWidget extends TTBackboneView{constructor(e={}){_.defaults(e,{}),super(e)}initialize(e){super.initialize(e);var t=Global.loadWidget("views/portal/header/HeaderUploadResumeWidget.html");this.setElement(_.template(t)()),this.document_id=null,this.profileView=null,e.profileView&&(this.profileView=e.profileView)}render(){var e=this;this.uploader||(this.uploader=this.$(".register-resume").TImageBrowser({field:"file",name:"file_data",accept_filter:"*",changeHandler:function(t){var i=jQuery(this).find(".browser")[0].files[0].name;e.$("#fileName").val(i)}})),IndexViewController.instance.router.showFormModal(this.$el,{title:jQuery.i18n._("Upload Resume"),actions:[{label:"Close",isClose:!0},{label:jQuery.i18n._("Upload Resume"),callBack:function(t){e.uploadResume()}}]})}uploadResume(){if(!this.uploader)return!1;var e=this.uploader;e.attr("file_name");var t=e.getValue();if(t){this.document_api=TTAPI$1.APIDocumentPortal;var i="Resume - "+LocalCacheData.getPortalLoginUser().first_name+" "+LocalCacheData.getPortalLoginUser().last_name,a=this.document_api.addAttachment(i,"",{async:!1}).getResult();this.document_id=a.document_id,this.uploadFile(t,a.document_revision_id)}}uploadFile(e,t){var i=this,a=ServiceCaller$1.getAPIURL("Class="+this.document_api.className+"&Method=uploadAttachment&v=2");LocalCacheData.getAllURLArgs()&&LocalCacheData.getAllURLArgs().hasOwnProperty("company_id")&&(a=a+"&company_id="+LocalCacheData.getAllURLArgs().company_id),a=a+"&object_id="+t;var o=TTUUID$1.generateUUID();ProgressBar.showProgressBar(o),ProgressBar.changeProgressBarMessage(jQuery.i18n._("File Uploading")+"..."),jQuery.ajax({url:a,headers:{"X-Client-ID":"Browser-TimeTrex","X-CSRF-Token":getCookie("CSRF-Token")},type:"POST",data:e,success:function(n){ProgressBar.removeProgressBar(),i.uploaded(),n.error?i.showUploadedMessage(n.error):(i.showUploadedMessage(jQuery.i18n._("Upload Successful!")),i.refreshSubDocument())},cache:!1,contentType:!1,processData:!1})}refreshSubDocument(){this.profileView&&this.profileView.addDocumentRow(this.document_id)}uploaded(){this.uploader=null,IndexViewController.instance.router.hideFormModal()}showUploadedMessage(e){IndexViewController.instance.router.showTipModal(e)}}const HeaderUploadResumeWidget$1=Object.freeze(Object.defineProperty({__proto__:null,HeaderUploadResumeWidget},Symbol.toStringTag,{value:"Module"}));class PortalJobVacancyRowController extends TTBackboneView{constructor(e={}){_.defaults(e,{}),super(e)}initialize(e){super.initialize(e);var t=this,i=Global.loadWidget("views/portal/hr/recruitment/PortalJobVacancyRow.html");for(var a in this.model.attributes)this.model.get(a)==!1&&this.model.set(a,"");this.setElement(_.template(i)(this.model.toJSON())),this.$el.on("click",function(o){window.location=Global.getBaseURL(null,!0,!0).replace(/#!m=.*?(&|$)/g,"#!m=PortalJobVacancyDetail&id="+t.model.id+"$1")})}}const PortalJobVacancyRowController$1=Object.freeze(Object.defineProperty({__proto__:null,PortalJobVacancyRowController},Symbol.toStringTag,{value:"Module"}));class QuickPunchBaseViewController extends TTBackboneView{constructor(e={}){_.defaults(e,{}),super(e)}}const QuickPunchBaseViewController$1=Object.freeze(Object.defineProperty({__proto__:null,QuickPunchBaseViewController},Symbol.toStringTag,{value:"Module"}));function commonjsRequire(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}class Wizard extends TTBackboneView{constructor(r={}){_.defaults(r,{current_step:!1,wizard_id:"generic_wizard",wizard_name:jQuery.i18n._("Wizard"),step_history:{},step_objects:{},el:jQuery(".wizard"),previous_wizard:null,_step_map:null,do_not_initialize_onload:!1,external_data:null,events:{"click .close-btn":"onCloseClick","click .close-icon":"onCloseClick","click .wizard-overlay.onclick-close":"onCloseClick","click .forward-btn":"onNextClick","click .back-btn":"onPrevClick","click .done-btn":"onDone"}}),super(r)}initialize(r){if(super.initialize(r),r&&r.external_data&&this.setExternalData(r.external_data),!this.do_not_initialize_onload){this.step_history={},this.step_objects={};var e=this;this.initStepObject(this.getCurrentStepName()?this.getCurrentStepName():"home",function(t){e.init(),e.render(),e.enableButtons(),e.wizard_id===null&&(e.wizard_id=e.constructor.name),LocalCacheData.current_open_wizard_controllers.some(i=>i.wizard_id===e.wizard_id)?e.previous_wizard=LocalCacheData.current_open_wizard_controllers.find(i=>i.wizard_id===e.wizard_id):e.previous_wizard=!1,LocalCacheData.current_open_wizard_controllers.push(e)})}}init(){}setExternalData(r){this.external_data=r}getExternalData(){return this.external_data}onNextClick(r){if(this.button_click_procesing==!0)return!1;if(this.getStepObject().isRequiredButtonsClicked()==!1){var e=this;TAlertManager.showConfirmAlert(jQuery.i18n._("<strong>WARNING</strong>: You are about to proceed to the next step without performing all required actions! <br><br><strong>This may result in payments or reports not being submitted to this agency.</strong> <br><br>Are you sure you wish to continue?<br><br>"),null,function(i){if(i===!0){var a=TTAPI.APIPayrollRemittanceAgencyEvent;a.doLogWizardEvent(e.getStepObject().getWizardObject().selected_remittance_agency_event_id,"step",e.getStepObject().current_step,"skip",!1,!0,{onResult:function(o){}}),e.onNextClickComplete(r)}})}else{if(this.getStepObject().current_step=="home"){var t=TTAPI.APIPayrollRemittanceAgencyEvent;t.doLogWizardEvent(this.getStepObject().getWizardObject().selected_remittance_agency_event_id,"wizard",this.getStepObject().current_step,"start",!1,!0,{onResult:function(i){}})}else{var t=TTAPI.APIPayrollRemittanceAgencyEvent;t.doLogWizardEvent(this.getStepObject().getWizardObject().selected_remittance_agency_event_id,"step",this.getStepObject().current_step,"complete",!1,!0,{onResult:function(a){}})}this.onNextClickComplete(r)}}onNextClickComplete(r){if(jQuery(r.target).hasClass("disable-image")==!1){this.disableButtons();var e=this.getStepObject().getNextStepName(),t=this;this.initStepObject(e,function(i){i.setPreviousStepName(t.getCurrentStepName()),t.setCurrentStepName(e)})}}onPrevClick(r){if(this.button_click_procesing==!0)return!1;if(r===!0||jQuery(r.target).hasClass("disable-image")==!1){this.disableButtons();var e=this.getStepObject().getPreviousStepName(),t=this;this.initStepObject(e,function(i){t.setCurrentStepName(e)})}}onCloseClick(r){if(!r||jQuery(r.target).hasClass("disable-image")==!1){var e=this;if(this.getStepObject().getPreviousStepName()!==!1&&this.getStepObject().getNextStepName()!==!1)TAlertManager.showConfirmAlert(jQuery.i18n._("Are you sure you wish to cancel without completing all steps for this event?"),null,function(i){if(i===!0){var a=TTAPI.APIPayrollRemittanceAgencyEvent;a.doLogWizardEvent(e.getStepObject().getWizardObject().selected_remittance_agency_event_id,"wizard",e.getStepObject().current_step,"cancel",!1,!0,{onResult:function(o){}}),e.cleanUp()}});else if(this.getStepObject().getNextStepName()==!1)this.getStepObject().isRequiredButtonsClicked()==!1?TAlertManager.showConfirmAlert(jQuery.i18n._("<strong>WARNING</strong>: You are about to cancel without performing all required actions on this step! <br><br><strong>This may result in payments or reports not being submitted to this agency.</strong> <br><br>Are you sure you wish to continue?<br><br>"),null,function(i){if(i===!0){var a=TTAPI.APIPayrollRemittanceAgencyEvent;a.doLogWizardEvent(e.getStepObject().getWizardObject().selected_remittance_agency_event_id,"wizard",e.getStepObject().current_step,"cancel",!1,!0,{onResult:function(o){}}),e.cleanUp()}}):TAlertManager.showConfirmAlert(jQuery.i18n._("Are you sure you wish to cancel without marking this event as completed?"),null,function(i){if(i===!0){var a=TTAPI.APIPayrollRemittanceAgencyEvent;a.doLogWizardEvent(e.getStepObject().getWizardObject().selected_remittance_agency_event_id,"wizard",e.getStepObject().current_step,"cancel",!1,!0,{onResult:function(o){}}),e.cleanUp()}});else{var t=TTAPI.APIPayrollRemittanceAgencyEvent;t.doLogWizardEvent(this.getStepObject().getWizardObject().selected_remittance_agency_event_id,"wizard",this.getStepObject().current_step,"complete",!1,!0,{onResult:function(i){}}),e.cleanUp()}}}onDone(r){if(!r||jQuery(r.target).hasClass("disable-image")==!1){var e=this;if(this.getStepObject().getNextStepName()==!1&&this.getStepObject().isRequiredButtonsClicked()==!1)TAlertManager.showConfirmAlert(jQuery.i18n._("<strong>WARNING</strong>: You are about to mark this event as completed without performing all required actions on this step! <br><br><strong>This may result in payments or reports not being submitted to this agency.</strong> <br><br>Are you sure you wish to continue?<br><br>"),null,function(i){if(i===!0){var a=TTAPI.APIPayrollRemittanceAgencyEvent;a.doLogWizardEvent(e.getStepObject().getWizardObject().selected_remittance_agency_event_id,"step",e.getStepObject().current_step,"skip",!1,!0,{onResult:function(o){var n=TTAPI.APIPayrollRemittanceAgencyEvent;n.doLogWizardEvent(e.getStepObject().getWizardObject().selected_remittance_agency_event_id,"wizard",e.getStepObject().current_step,"complete",!1,!0,{onResult:function(s){}})}}),e.onDoneComplete()}});else{var t=TTAPI.APIPayrollRemittanceAgencyEvent;t.doLogWizardEvent(this.getStepObject().getWizardObject().selected_remittance_agency_event_id,"wizard",this.getStepObject().current_step,"complete",!1,!0,{onResult:function(i){}}),e.onDoneComplete()}}}onDoneComplete(r){$this.cleanUp()}addStepObject(r,e){return this.step_objects[r]=e,this.step_objects[r]}getStepObject(r){return typeof r>"u"&&(r=this.getCurrentStepName()),typeof this.step_objects[r]=="object"?this.step_objects[r]:this.step_objects.home}getCurrentStepName(){return this.current_step}setCurrentStepName(r){this.current_step=r}render(){}cleanUp(){jQuery(this.el).remove();for(var r in this.step_objects)this.step_objects[r]&&(this.step_objects[r].reload=!0);LocalCacheData.current_open_wizard_controllers=LocalCacheData.current_open_wizard_controllers.filter(e=>e.wizard_id!==this.wizard_id),jQuery().TFeedback({source:this.wizard_id})}initStepObject(name,callback){if(this._step_map.hasOwnProperty(name))if(this.step_objects[name]==null||typeof this.step_objects[name]!="object"){var $this=this;Global.loadScript(this._step_map[name].script_path,function(){$this.setCurrentStepName(name),jQuery($this.el).find(".content").html("");var obj=eval("new "+$this._step_map[name].object_name+"( $this );");obj.reload=!1,$this.addStepObject(name,obj),typeof callback=="function"&&callback(obj)});return}else{if(this.setCurrentStepName(name),typeof callback=="function"){var obj=this.step_objects[name];jQuery(this.el).find(".content").html("");var obj=eval("new "+this._step_map[name].object_name+"( this );");this.step_objects[name].reload==!0&&(obj.clicked_buttons={},obj.reload=!1),this.addStepObject(name,obj),callback(obj)}return}}disableButtons(){this.button_click_procesing=!0}enableButtons(){var r=this.getStepObject();typeof r.getNextStepName()!="string"?(jQuery(this.el).find(".forward-btn").addClass("disable-image"),jQuery(this.el).find(".done-btn").removeClass("disable-image")):(jQuery(this.el).find(".forward-btn").removeClass("disable-image"),jQuery(this.el).find(".done-btn").addClass("disable-image")),typeof r.getPreviousStepName()!="string"?jQuery(this.el).find(".back-btn").addClass("disable-image"):jQuery(this.el).find(".back-btn").removeClass("disable-image"),this._enableButtons(),this.button_click_procesing=!1}_enableButtons(){}minimize(){LocalCacheData.PayrollRemittanceAgencyEventWizardController=this,LocalCacheData.current_open_wizard_controllers=LocalCacheData.current_open_wizard_controllers.filter(r=>r.wizard_id!==this.wizard_id),Global.addViewTab(this.wizard_id,this.wizard_name,window.location.href),this.delegateEvents(),jQuery(this.el).remove()}reload(){for(var r in this.step_objects)this.step_objects[r].reload=!0}disableForCommunity(r){Global.getProductEdition()<=10?TAlertManager.showAlert(Global.getUpgradeMessage(),jQuery.i18n._("Denied")):typeof r=="function"&&r()}}const Wizard$1=Object.freeze(Object.defineProperty({__proto__:null,Wizard},Symbol.toStringTag,{value:"Module"}));class ProcessTransactionsWizard extends Wizard{constructor(e={}){_.defaults(e,{el:jQuery(".process_transactions_wizard"),current_step:!1,wizard_name:jQuery.i18n._("Process Transactions"),selected_transaction_ids:[],wizard_id:"ProcessTransactionsWizard",_step_map:{home:{script_path:"views/payroll/process_transactions_wizard/ProcessTransactionsWizardStepHome.js",object_name:"ProcessTransactionsWizardStepHome"}},api:null}),super(e)}setTransactionIds(e){this.selected_transaction_ids=e,this.selected_transaction_ids.length>0?jQuery(".process_transactions_wizard .done-btn").removeClass("disable-image"):jQuery(".process_transactions_wizard .done-btn").addClass("disable-image")}onDone(e){if(e&&jQuery(e.target).hasClass("disable-image")==!1){var t=LocalCacheData.current_open_wizard_controllers.find(m=>m.wizard_id===this.wizard_id),i={filter_data:{}},a=t.getExternalData();a&&(a.filter_data?i.filter_data=a.filter_data:i.filter_data=a),(!i||!i.filter_data)&&(i.filter_data={}),i.filter_data.remittance_source_account_id||(i.filter_data.remittance_source_account_id=[]),i.filter_data.setup_last_check_number||(i.setup_last_check_number={});var o=jQuery("#process_transactions_wizard_source_account_table tr");if(o.length>0)for(var n=0;n<o.length;n++){var s=jQuery(o[n]);s.find('[type="checkbox"]').is(":checked")&&(i.filter_data.remittance_source_account_id.push(s.find('[type="checkbox"]').val()),i.setup_last_check_number[s.find('[type="checkbox"]').val()]=s.find("input.last_transaction_number").val())}if(i.filter_data.remittance_source_account_id.length>0){jQuery(e.target).addClass("disable-image");var l={0:i,1:!0,2:"export_transactions"},c=TTAPI.APIPayStub;Global.APIFileDownload(c.className,"getPayStub",l)}else Debug.Text("No source accounts selected","ProcessTransactionsWizard.js","ProcessTransactionsWizard","onDone",10);t.onCloseClick(!0)}}onCloseClick(e){(e===!0||e&&jQuery(e.target).hasClass("disable-image")==!1)&&(jQuery("#min_tab_ProcessPayrollWizard")[0]&&jQuery(jQuery("#min_tab_ProcessPayrollWizard")[0]).click(),this.cleanUp())}}const ProcessTransactionsWizard$1=Object.freeze(Object.defineProperty({__proto__:null,ProcessTransactionsWizard},Symbol.toStringTag,{value:"Module"}));class PayrollRemittanceAgencyEventWizard extends Wizard{constructor(e={}){_.defaults(e,{current_step:!1,wizard_name:jQuery.i18n._("Tax Wizard"),selected_remittance_agency_event:null,selected_remittance_agency_event_id:null,payroll_remittance_agency_event_block:null,wizard_id:"PayrollRemittanceAgencyEventWizardController",_step_map:{home:{script_path:"views/payroll/remittance_wizard/PayrollRemittanceAgencyEventWizardStepHome.js",object_name:"PayrollRemittanceAgencyEventWizardStepHome"},review:{script_path:"views/payroll/remittance_wizard/PayrollRemittanceAgencyEventWizardStepReview.js",object_name:"PayrollRemittanceAgencyEventWizardStepReview"},submit:{script_path:"views/payroll/remittance_wizard/PayrollRemittanceAgencyEventWizardStepSubmit.js",object_name:"PayrollRemittanceAgencyEventWizardStepSubmit"},publish:{script_path:"views/payroll/remittance_wizard/PayrollRemittanceAgencyEventWizardStepPublish.js",object_name:"PayrollRemittanceAgencyEventWizardStepPublish"}}}),super(e)}init(){}render(){}onNextClick(e){if(this.getStepObject().grid){var t=this.getStepObject().grid.getRowData(this.getStepObject().grid.getSelectedRow());t.in_time_period&&t.in_time_period==!0?TAlertManager.showConfirmAlert(jQuery.i18n._("Time period for this event has not ended yet, are you sure you want to process this event early?"),null,i=>{i===!0&&super.onNextClick(e)}):super.onNextClick(e)}else super.onNextClick(e);return null}buildEventDataBlock(e,t){jQuery("#"+e).remove();var i=jQuery("<div id='"+e+"' class='payroll_remittance_agency_event_wizard_event_details'><table></table></div>"),a=this.getStepObject(this.getCurrentStepName());if(a.append(i),this.payroll_remittance_agency_event_block==null){for(var o=[{key:"legal_entity_legal_name",title:jQuery.i18n._("Legal Entity")},{key:"payroll_remittance_agency_name",title:jQuery.i18n._("Agency")},{key:"type",title:jQuery.i18n._("Event")}],n=[{key:"frequency",title:jQuery.i18n._("Frequency")},{key:"time_period",title:jQuery.i18n._("Time Period")},{key:"due_date_display",title:jQuery.i18n._("Due Date")}],s=o.length>n.length?o.length:n.length,l=0;l<s;l++){var c=jQuery("<tr></tr>");if(o.length>l){var m=jQuery('<td class="label col1"></td>');m.text(o[l].title);var d=jQuery('<td class="value"></td>');d.text(t[o[l].key]),c.append(m),c.append(d)}else c.append(jQuery("<td></td>")),c.append(jQuery("<td></td>"));if(n.length>l){var m=jQuery('<td class="label col2"></td>');m.text(n[l].title);var d=jQuery('<td class="value"></td>');n[l].key=="time_period"?d.text(t.start_date_display+" - "+t.end_date_display):d.text(t[n[l].key]),c.append(m),c.append(d)}else c.append(jQuery("<td></td>")),c.append(jQuery("<td></td>"));jQuery("#"+e+" table").append(c)}if(t.in_time_period&&t.in_time_period==!0){var c=jQuery("<tr></tr>"),u=jQuery('<td align="center" style="font-weight: bold; color: red;" colspan="4"></td>');u.html(jQuery.i18n._("WARNING: Time period has not ended yet, you may be processing early.")),c.append(u),jQuery("#"+e+" table").append(c)}if(t.is_split_time_period&&t.is_split_time_period==!0){var c=jQuery("<tr></tr>"),u=jQuery('<td align="center" style="font-weight: bold; color: red;" colspan="4"></td>');u.html(jQuery.i18n._("NOTICE: Time Period has been split into two, due to crossing into a new quarter.<br>This event will now need to be processed twice, once for each part of the time period.")),c.append(u),jQuery("#"+e+" table").append(c)}this.payroll_remittance_agency_event_block=jQuery("#"+e+" table").html()}else jQuery("#"+e+" table").html(this.payroll_remittance_agency_event_block)}getPayrollRemittanceAgencyEventById(e,t,i){if(typeof i=="function"&&this.selected_remittance_agency_event&&this.selected_remittance_agency_event.id==e)i(this.selected_remittance_agency_event);else{var a={filter_data:{id:this.selected_remittance_agency_event_id}};t==null||typeof t>"u"?a.filter_columns={payroll_remittance_agency_id:!0,legal_entity_legal_name:!0,payroll_remittance_agency_name:!0,user_report_data_id:!0,status:!0,status_id:!0,type:!0,type_id:!0,frequency:!0,start_date_display:!0,end_date_display:!0,due_date_display:!0,in_time_period:!0,is_split_time_period:!0,event_data:!0}:a.columns=t;var o=this,n=TTAPI.APIPayrollRemittanceAgencyEvent;n.getPayrollRemittanceAgencyEvent(a,{onResult:function(l){var l=l.getResult();if(l===!0){o.cleanUp();return}Array.isArray(l)&&(l=l[0]);var c=TTAPI.APIPayrollRemittanceAgency;c.getPayrollRemittanceAgency({filter_data:{id:l.payroll_remittance_agency_id}},{onResult:function(m){l.payroll_remittance_agency_obj=m.getResult()[0],typeof i=="function"&&i(l)}})}})}}getReport(e,t){t||(t={0:this.selected_remittance_agency_event_id,1:e}),Global.APIFileDownload("APIPayrollRemittanceAgencyEvent","getReportData",t)}showHTMLReport(e,t){ProgressBar.showOverlay();var i=TTAPI.APIPayrollRemittanceAgencyEvent;i.getReportData(this.selected_remittance_agency_event_id,"html",{onResult:function(a){if(ProgressBar.closeOverlay(),a&&a.isValid()){var o=a.getResult();if(t){var n=window.open();n.document.writeln(o.api_retval),n.document.close()}else o&&IndexViewController.openWizard("ReportViewWizard",o.api_retval)}else TAlertManager.showErrorAlert(a)}})}onDoneComplete(e){var t=this;this.getPayrollRemittanceAgencyEventById(this.selected_remittance_agency_event_id,{},function(i){if(i){i.enable_recalculate_dates=1,i.last_due_date=i.due_date;var a=TTAPI.APIPayrollRemittanceAgencyEvent;a.setPayrollRemittanceAgencyEvent(i,!1,!0,{onResult:function(o){t.cleanUp()}})}})}}const PayrollRemittanceAgencyEventWizard$1=Object.freeze(Object.defineProperty({__proto__:null,PayrollRemittanceAgencyEventWizard},Symbol.toStringTag,{value:"Module"}));class HeaderViewController extends TTBackboneView{constructor(e={}){_.defaults(e,{}),super(e)}initialize(e){super.initialize(e);var t=Global.loadWidget("views/quick_punch/header/HeaderView.html");t&&(this.tpl=_.template(t)),this.render()}render(){var e=ServiceCaller$1.getURLByObjectType("primary_company_logo");this.tpl&&this.setElement(this.tpl({company_logo:e}))}}const HeaderViewController$1=Object.freeze(Object.defineProperty({__proto__:null,HeaderViewController},Symbol.toStringTag,{value:"Module"}));export{Base as B,Global$1 as G,HeaderViewController as H,ProcessTransactionsWizard as P,QuickPunchBaseViewController as Q,ServiceCaller$1 as S,TTAPI$1 as T,__vitePreload as _,PayrollRemittanceAgencyEventWizard as a,BaseViewController$1 as b,_export_sfc as c,TTVueUtils$1 as d,TTBackboneView as e,TAlertManager$1 as f,TTUUID$1 as g,TTEventBus$1 as h,PortalForgotPasswordController as i,HeaderUploadResumeWidget as j,PortalJobVacancyRowController as k,TTContextButton as l,commonjsRequire as m};
//# sourceMappingURL=main_ui-z76rxVqJ.entry.bundle.js.map
