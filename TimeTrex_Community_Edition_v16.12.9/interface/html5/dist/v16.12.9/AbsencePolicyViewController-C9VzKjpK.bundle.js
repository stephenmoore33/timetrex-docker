import{_ as o,j as i}from"./vendor-tTApdY0Y.bundle.js";class n extends BaseViewController{constructor(a={}){o.defaults(a,{el:"#absence_policy_view_container"}),super(a)}init(a){this.edit_view_tpl="AbsencePolicyEditView.html",this.permission_id="absence_policy",this.viewId="AbsencePolicy",this.script_name="AbsencePolicyView",this.table_name_key="absence_policy",this.context_menu_name=i.i18n._("Absence Policy"),this.navigation_label=i.i18n._("Absence Policy"),this.api=TTAPI.APIAbsencePolicy,this.render(),this.buildContextMenu(),this.initData()}initOptions(){}buildEditViewUI(){super.buildEditViewUI();var a={tab_absence_policy:{label:i.i18n._("Absence Policy")},tab_audit:!0};this.setTabModel(a),this.navigation.AComboBox({api_class:TTAPI.APIAbsencePolicy,id:this.script_name+"_navigation",allow_multiple_selection:!1,layout_name:"global_absences",navigation_mode:!0,show_search_inputs:!0}),this.setNavigation();var t=this.edit_view_tab.find("#tab_absence_policy"),l=t.find(".first-column");this.edit_view_tabs[0]=[],this.edit_view_tabs[0].push(l);var e=Global.loadWidgetByName(FormItemType.TEXT_INPUT);e.TTextInput({field:"name",width:"100%"}),this.addEditFieldToColumn(i.i18n._("Name"),e,l,""),e.parent().width("45%"),e=Global.loadWidgetByName(FormItemType.TEXT_AREA),e.TTextArea({field:"description",width:"100%"}),this.addEditFieldToColumn(i.i18n._("Description"),e,l,"",null,null,!0),e.parent().width("45%"),e=Global.loadWidgetByName(FormItemType.AWESOME_BOX),e.AComboBox({api_class:TTAPI.APIPayCode,allow_multiple_selection:!1,layout_name:"global_pay_code",show_search_inputs:!0,set_empty:!0,field:"pay_code_id"}),this.addEditFieldToColumn(i.i18n._("Pay Code"),e,l),e=Global.loadWidgetByName(FormItemType.AWESOME_BOX),e.AComboBox({api_class:TTAPI.APIPayFormulaPolicy,allow_multiple_selection:!1,layout_name:"global_pay_formula_policy",show_search_inputs:!0,set_empty:!0,field:"pay_formula_policy_id",custom_first_label:i.i18n._("-- Defined by Pay Code --"),added_items:[{value:TTUUID.zero_id,label:i.i18n._("-- Defined by Pay Code --")}]}),this.addEditFieldToColumn(i.i18n._("Pay Formula Policy"),e,l)}onFormItemChange(a,t){this.setIsChanged(a),this.setMassEditingFieldsWhenFormChange(a);var l=a.getField(),e=a.getValue();this.current_edit_record[l]=e,t||this.validate()}setEditViewDataDone(){super.setEditViewDataDone(),this.collectUIDataToCurrentEditRecord(),this.onTypeChange()}onTypeChange(){}buildSearchFields(){super.buildSearchFields(),this.search_fields=[new SearchField({label:i.i18n._("Name"),in_column:1,field:"name",multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.TEXT_INPUT}),new SearchField({label:i.i18n._("Pay Code"),in_column:1,field:"pay_code_id",layout_name:"global_pay_code",api_class:TTAPI.APIPayCode,multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:i.i18n._("Pay Formula Policy"),in_column:1,field:"pay_formula_policy_id",layout_name:"global_pay_formula_policy",api_class:TTAPI.APIPayFormulaPolicy,multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:i.i18n._("Created By"),in_column:2,field:"created_by",layout_name:"global_user",api_class:TTAPI.APIUser,multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.AWESOME_BOX}),new SearchField({label:i.i18n._("Updated By"),in_column:2,field:"updated_by",layout_name:"global_user",api_class:TTAPI.APIUser,multiple:!0,basic_search:!0,adv_search:!1,form_item_type:FormItemType.AWESOME_BOX})]}}export{n as AbsencePolicyViewController};
//# sourceMappingURL=AbsencePolicyViewController-C9VzKjpK.bundle.js.map
